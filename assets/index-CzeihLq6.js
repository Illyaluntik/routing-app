const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/IdentityManager-B2bsi19X.js","assets/substitute-Brn_jfr_.js","assets/WhereClauseCache-CI41yqKr.js","assets/LRUCache--7okbBjw.js","assets/MemCache-CYsUaMUi.js","assets/WhereClause-C1rzMlkp.js","assets/TimeOnly-CS3y-4-2.js","assets/enum-CY_1MKmE.js","assets/UnknownTimeZone-DHavaNxI.js","assets/arcadeUtils-C3UdqOH_.js","assets/arcade-BWfcDy9a.js","assets/aiServices-CMZg3pKr.js","assets/ImmutableArray-BPVd6ESQ.js","assets/shared-C09y_XsV.js","assets/number-DWWceA56.js","assets/featureConversionUtils-mQIdU4bY.js","assets/OptimizedFeature-4GPdBDFa.js","assets/memoryEstimations-D5E7ybfN.js","assets/OptimizedFeatureSet-BR8EEvDc.js","assets/FieldsIndex-Drrd9PnM.js","assets/unitConversion-Ce-UXM0o.js","assets/batchExec-Cel7OFuZ.js","assets/QueueProcessor-B_Agfqtp.js","assets/ElevationLayer-B-BM9Hvt.js","assets/MultiOriginJSONSupport-Cclv_eV3.js","assets/ArcGISCachedService-tWR6zF6X.js","assets/TileInfoTilemapCache-DwfbHRA8.js","assets/TilemapCache-BAZkaZR0.js","assets/ByteSizeUnit-BsxeN7wM.js","assets/ArcGISService-CDiW-UCl.js","assets/OperationalLayer-BJIhMF_M.js","assets/PortalLayer-CFT3fQRE.js","assets/portalItemUtils-DlcNP3HY.js","assets/WorkerHandle-CNUQ6duS.js","assets/webStyleSymbolUtils-Bla59f4O.js","assets/devEnvironmentUtils-CB8wlU_f.js","assets/jsonUtils-eqMDIIQg.js","assets/defaults3D-CNzcikW6.js","assets/defaults-DCYWgdlG.js","assets/defaultsJSON-GKolV7NZ.js","assets/styleUtils-CaufRuUx.js","assets/portalLayers-BG9s9QUR.js","assets/associatedFeatureServiceUtils-WchvhocI.js","assets/fetchService-BLwQemQk.js","assets/loadUtils-Dz94RjyE.js","assets/lazyLayerLoader-BkjiWhhB.js","assets/arcgisLayers-CLyUQwqV.js","assets/layersCreator-CXyviA_x.js","assets/styleUtils-D3nWpV6m.js","assets/statsWorker-Ck1508cX.js","assets/utils-Bco4HjNt.js","assets/quantizationUtils-GECv9JQ5.js","assets/heatmapUtils-BIbcj5Wq.js","assets/vec42-CGkR4OpH.js","assets/vec4f64-DPb6J-GU.js","assets/utils-Cb6Ag7Z4.js","assets/utils-SpFa0Aee.js","assets/ClassBreaksDefinition-Cp0kPxt2.js","assets/geometryEngineWorker-BgR30uiZ.js","assets/geometryEngineJSON-BdiLJKnl.js","assets/json-Wa8cmqdu.js","assets/CSVSourceWorker-DVz1VDPO.js","assets/date-DCujAECq.js","assets/executeQueryForSnapping-CAkmSW1c.js","assets/queryUtils-BuqHcCpO.js","assets/QueryEngine-Lkuenn28.js","assets/timeSupport-LTvWKsKk.js","assets/QueryEngineCapabilities-CsRUnGk7.js","assets/SnappingCandidate-DGkpYqI6.js","assets/FixedIntervalBinParameters-Dj4WvmM2.js","assets/NormalizationBinParametersMixin-CIKOb0t4.js","assets/FeatureStore-BOd79i9d.js","assets/BoundsStore-BHoogBRZ.js","assets/PooledRBush-DA4Z47_l.js","assets/optimizedFeatureQueryEngineAdapter-B81rXy1m.js","assets/clientSideDefaults-Bq01PiJj.js","assets/EdgeProcessingWorker-B6cvFn7t.js","assets/workerHelper-BlIN-v9M.js","assets/InterleavedLayout-B6PminDF.js","assets/BufferView-CtUe-O9Z.js","assets/types-BKo2foNY.js","assets/edgeProcessing-D2aaxxVX.js","assets/deduplicate-Bl_rWueN.js","assets/Indices-BnluwLlw.js","assets/VertexAttribute-BfkzOMLV.js","assets/glUtil-3soYH46C.js","assets/VertexElementDescriptor-BLyltQyJ.js","assets/Normals-COdfjjwC.js","assets/ElevationSamplerWorker-Dh5BV5P2.js","assets/MeshLocalVertexSpace-COrUDhww.js","assets/vertexSpaceConversion-C_OcrApy.js","assets/mat3f64-B5o_lm6j.js","assets/mat4f64-q_b6UJoq.js","assets/spatialReferenceEllipsoidUtils-CSdM_j7t.js","assets/computeTranslationToOriginAndRotation-CdJCSEh1.js","assets/projectPointToVector-DOi5Ibdp.js","assets/meshVertexSpaceUtils-CbuYjL7d.js","assets/vec3-Sm4alpQ6.js","assets/vec4-s9_9txYD.js","assets/FeatureServiceSnappingSourceWorker-BHmK9T5e.js","assets/symbologySnappingCandidates-Dy7Qk1Ii.js","assets/pbfQueryUtils-DDwG7DEa.js","assets/pbf-DSTDe0ML.js","assets/query-CXsGX5aH.js","assets/queryZScale-CfcWUwUA.js","assets/GeoJSONSourceWorker-Dh9-XwXM.js","assets/geojson-DKChcjWv.js","assets/sourceUtils-BiP-nsiV.js","assets/MemorySourceWorker-CMNM2chV.js","assets/objectIdUtils-BmFjqQA3.js","assets/PBFDecoderWorker-yADPln5Y.js","assets/dehydratedFeatures-BN8Uwt9v.js","assets/FeaturePipelineWorker-B5eTQs2i.js","assets/diffUtils-B8oB6g1c.js","assets/AttributeStore-D7u_zn4o.js","assets/Utils-DR9AK2VZ.js","assets/UpdateTracking2D-BeUV37yS.js","assets/BidiEngine-QXap_35O.js","assets/GeometryUtils-mUD9Z5vw.js","assets/enums-Da5QEGm1.js","assets/utils-BwN-OzIK.js","assets/defaultCIMValues-B0_T2GCo.js","assets/rasterizingUtils-DvmMR7HJ.js","assets/floatRGBA-DMV7jQlD.js","assets/Rect-CUzevAry.js","assets/ArcadeExpression-CdnahBxL.js","assets/labelUtils-DJe3LppA.js","assets/constants-BFLErLYb.js","assets/streamLayerUtils-CKwt2uXH.js","assets/DictionaryScriptEvaluator-BNixqJ_6.js","assets/MeshWriterRegistry-B8MX87W4.js","assets/TechniqueType-pk2C5RYg.js","assets/PieChartMeshWriter-DVhPs5pd.js","assets/libtess-wCkk1iVu.js","assets/earcut-D9gy186-.js","assets/operatorGeodeticDensify-B5dFN4Rf.js","assets/SimpleGeometryCursor-B92kdZ15.js","assets/geodeticCurveType-CirnHLSB.js","assets/normalizeUtilsSync-CTPdot4A.js","assets/displayFilterUtils-DVC3MXIi.js","assets/ogcFeatureUtils-BPAe_cm3.js","assets/bundle-B2FM5W1M.js","assets/CircularArray-CujHzHWW.js","assets/createConnection-aZyextGt.js","assets/PointCloudWorker-CcGmAIpm.js","assets/quat-IDsZNpsZ.js","assets/quatf64-aQ5IuZRd.js","assets/vec3f32-WCVSSNPR.js","assets/PointCloudUniqueValueRenderer-koC98SHP.js","assets/RendererLegendOptions-BlMV93Hl.js","assets/ColorStop-BHp54OvM.js","assets/I3SBinaryReader-CAG5M3Gm.js","assets/orientedBoundingBox-Cpy1ur8Q.js","assets/plane-Crtmg6Ij.js","assets/vectorStacks-D6W89aOg.js","assets/RasterWorker-B066zjRi.js","assets/GeographicTransformation-BlnO1NBb.js","assets/dataUtils-Dk-owFUE.js","assets/RasterSymbolizer-BUH4eKDM.js","assets/colorUtils-CdW6SS70.js","assets/rasterFunctionHelper-Bmj_xqL0.js","assets/clipUtils-BGaoaD5d.js","assets/rasterProjectionHelper-B18EsjF7.js","assets/colorRamps-D37EAvG9.js","assets/PolynomialTransform-DaWfJDEC.js","assets/SceneLayerSnappingSourceWorker-aY4kLWSJ.js","assets/lineSegment-QUF1KoaA.js","assets/sphere-DJxBQQ5x.js","assets/Octree-TRUf2eHp.js","assets/SceneLayerWorker-zb0a6pWh.js","assets/projectVectorToVector-DowYoLIx.js","assets/I3SUtil-BDXqO4yz.js","assets/edgeUtils-YEnAMa1C.js","assets/NormalAttribute.glsl-CZeEdSk_.js","assets/glsl-Cj7KC756.js","assets/ShaderOutput-Bdd80V3g.js","assets/BindType-BBwFZqyN.js","assets/WFSSourceWorker-C8gIW4Pc.js","assets/wfsUtils-CmPfFpjx.js","assets/xmlUtils-CtUoQO7q.js","assets/WorkerTileHandler-DI6i7mcr.js","assets/constants-BwsikM5h.js","assets/config-DHajyIwB.js","assets/StyleDefinition-H2dD46QT.js","assets/SourceLayerData-69486kYr.js","assets/StyleRepository-DEt4DQpS.js","assets/Feature3DPipelineWorker-q7UKHSn2.js","assets/jsonUtils-njRn3AU5.js","assets/typeUtils-vyf7FggN.js","assets/ClassBreaksRenderer-BGiALscQ.js","assets/commonProperties-B-9gc0X0.js","assets/visualVariableUtils-BYNli0dW.js","assets/SimpleRenderer-Dz9lMOKJ.js","assets/UniqueValueRenderer-DGQsggA6.js","assets/dehydratedFeatureUtils-B4cuaKl-.js","assets/hydratedFeatures-BAhmVQ9w.js","assets/OutputColorHighlightOID.glsl-DxtNbqrA.js","assets/videoUtils-CtaVb-J1.js","assets/requestImageUtils-TI2RlYbm.js","assets/basicInterfaces-N86vRvDz.js","assets/TextureFormat-1mYWTFa-.js","assets/triangle-revK_l3c.js","assets/renderState-DQgQMmIZ.js","assets/boundedPlane-Cd2yYR0K.js","assets/HUDMaterial.glsl-DMWvaIBn.js","assets/ShaderBuilder-BY0Be7up.js","assets/DefaultMaterial-DXSHkEYe.js","assets/HUDMaterial-D3fp6ylM.js","assets/primitiveObjectSymbolUtils-CanlN5uf.js","assets/IntersectorType-gQim6TH1.js","assets/TextureCompressionWorker-i3PhIS0L.js","assets/Popup-s9r7jAtW.js","assets/unitFormatUtils-DJRQ6NLF.js","assets/quantityUtils-DI4GoXoh.js","assets/AttachmentInfo-pUfGKpVs.js","assets/labelingInfo-BMLHDUYm.js","assets/featureUtils-Bl6HzwCy.js","assets/utils-BulHGTnk.js","assets/cimSymbolUtils-D77WmlFj.js","assets/executeQueryJSON-DDdZK9JA.js","assets/FeatureLayer-Ct5qchXM.js","assets/FeatureLayerBase-B6oAVC2V.js","assets/LayerFloorInfo-DOdk3HUN.js","assets/Relationship-DJJjidAJ.js","assets/serviceCapabilitiesUtils-YdHBXPAQ.js","assets/infoFor3D-VMSlSy0z.js","assets/editsZScale-LBGlPKCn.js","assets/APIKeyMixin-TZopi2C0.js","assets/CustomParametersMixin-CSK-vmAT.js","assets/DisplayFilteredLayer-COKie72c.js","assets/scaleUtils-BZHe0PH4.js","assets/EditBusLayer-BY4AEzCr.js","assets/FeatureEffectLayer-DkBzn980.js","assets/FeatureEffect-BB2L3aub.js","assets/FeatureFilter-M5qHvdwi.js","assets/FeatureReductionLayer-Be_6taHj.js","assets/FeatureReductionSelection-BceJBpUY.js","assets/OrderedLayer-CogFDHl0.js","assets/OrderByInfo-kwF3T7S2.js","assets/RefreshableLayer-CTCmfxoR.js","assets/TemporalLayer-B-7JzNN0.js","assets/TimeInfo-CT5uDjRn.js","assets/TrackableLayer-Ca0jMw7X.js","assets/FeatureTemplate-DZe5vtUj.js","assets/FeatureType-DS9wCksf.js","assets/fieldProperties-pJ7Yjm5V.js","assets/TitleCreator-B6JekWG8.js","assets/versionUtils-BbJDato5.js","assets/popupUtils-GXn5UMwE.js","assets/interfaces-CL2NbQte.js","assets/NetworkElement-BKQhUQFl.js","assets/ReactiveSet-kzgRqbnI.js","assets/symbolUtils-D4qeYKtC.js","assets/layerViewUtils-D97Ura3A.js","assets/geometryServiceUtils-t9v6eQCL.js","assets/project-VzmEtOgG.js","assets/webglDeps-CUAZIEDa.js","assets/ProgramTemplate-BS2H6RY8.js","assets/FramebufferObject-BdyI5sMg.js","assets/NestedMap-wm1q4thl.js","assets/mapViewDeps-C5BSf2By.js","assets/FeatureCommandQueue-BBO-48DF.js","assets/GraphShaderModule-P9ibVJvH.js","assets/utils-CW_iSwAY.js","assets/WGLContainer-C4jINA-8.js","assets/Container-aKn-wVWP.js","assets/SDFHelper-TWk5jelS.js","assets/OverrideHelper-GXrlytrd.js","assets/GridShader-BRKezhBx.js","assets/testSVGPremultipliedAlpha-AOwJCOC-.js","assets/SymbolFader-CMaxb-G-.js","assets/RenderingContext-CKrGXaKg.js","assets/CIMResourceManager-goNQLzKO.js","assets/utils-D5efQoa-.js","assets/utils-ehcGqGxa.js","assets/projectOperator-BZbzNshD.js","assets/GraphicsView2D-CilMu5BL.js","assets/GraphicContainer-BW4Cl2Dz.js","assets/AGraphicContainer-DLfdtBzn.js","assets/TechniqueInstance-DWlY3kuD.js","assets/TileContainer-CbFJcdo1.js","assets/gridUtils-BbRqrIXJ.js","assets/geodesicUtils-BkSwxK4f.js","assets/TileLayerView2D-B1-mKHWQ.js","assets/imageUtils-B_sgk_Hd.js","assets/BitmapTechnique-CWtWTeCT.js","assets/bitmapUtils-CxMyQrv_.js","assets/LayerView-Fp7hi5vi.js","assets/HighlightGraphicContainer-Cq9rXcOy.js","assets/RefreshableLayerView-qWcIvhvq.js","assets/MapServiceLayerViewHelper-fQmAowyR.js","assets/floorFilterUtils-n6UOt7ty.js","assets/drapedUtils-DLpnbsIc.js","assets/sublayerUtils-Bes578Jf.js","assets/popupUtils-DIFKGwHr.js","assets/FeatureLayerView2D-BaydoLHK.js","assets/timeSupport-dUvNrbvd.js","assets/AttributeBinsFeatureSet-TDYhFk3o.js","assets/AttributeBinsQuery-BpVYMxrG.js","assets/constants-B4mRqufT.js","assets/BaseDynamicLayerView2D-BWN2tuQ3.js","assets/BitmapContainer-Dh049o6s.js","assets/ExportStrategy-D2fBTUJB.js","assets/CatalogLayerView2D-nkUZVTwN.js","assets/CatalogDynamicGroupLayerView2D-BKdFJFVB.js","assets/CatalogFootprintLayerView2D-BDwuEzKU.js","assets/GeoRSSLayerView2D-sCYmgF2b.js","assets/GraphicsLayerView2D-2ZBAHCFU.js","assets/GroupLayerView2D-BBLWaIt6.js","assets/ImageryLayerView2D-Dnja9NnR.js","assets/RasterVFDisplayObject-DBQl1Xjn.js","assets/ImageryTileLayerView2D-P2f_5MMA.js","assets/rasterFieldUtils-Bbe9mHwy.js","assets/rasterUtils-BdpUwS0a.js","assets/RawBlockCache-C6thQ_mu.js","assets/KMLLayerView2D-jFzCjcIl.js","assets/kmlUtils-B5cNYJY9.js","assets/KnowledgeGraphLayerView2D-Zdf9OPNr.js","assets/MapImageLayerView2D-C3gemvbN.js","assets/ExportImageParameters-C-hf72EC.js","assets/MapNotesLayerView2D-DRmtzlD3.js","assets/MediaLayerView2D-DSLb7Ci5.js","assets/mediaLayerUtils-D9cl_qUh.js","assets/OverlayContainer-G86KKSDC.js","assets/OGCFeatureLayerView2D-DlEbFmB7.js","assets/RouteLayerView2D-CW8qdx1P.js","assets/Stop-DyWiwpfV.js","assets/StreamLayerView2D-V55kRTuN.js","assets/SubtypeGroupLayerView2D-DpaItOT9.js","assets/VectorTileLayerView2D-fK0NwX7-.js","assets/VideoLayerView2D-BdhSdPbC.js","assets/videoUtils-DMAoc253.js","assets/WMSLayerView2D-vSwpZmdM.js","assets/ExportWMSImageParameters-Dnm4Sxdu.js","assets/WMTSLayerView2D-DzJGPBHm.js","assets/index-BG-EtAO9.js","assets/index-B7aHiRCs.js","assets/guid-Bu7NDcrC.js","assets/useT9n-CA8anoHb.js","assets/index-DNPz1z0y.js","assets/dom-B-gteLJ1.js","assets/observers-CTccz2CN.js","assets/ref-C9URi5J1.js","assets/static-yBooValC.js","assets/form-C2398Wfb.js","assets/interactive-DHdVUdJv.js","assets/label-D3iW9uGn.js","assets/component-BVHmJJUN.js"])))=>i.map(i=>d[i]);
var MX=Object.getPrototypeOf;var AX=Reflect.get;var TO=t=>{throw TypeError(t)};var y6=(t,e,i)=>e.has(t)||TO("Cannot "+i);var Ci=(t,e,i)=>(y6(t,e,"read from private field"),i?i.call(t):e.get(t)),ta=(t,e,i)=>e.has(t)?TO("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,i),ea=(t,e,i,n)=>(y6(t,e,"write to private field"),n?n.call(t,i):e.set(t,i),i),Q1=(t,e,i)=>(y6(t,e,"access private method"),i);var EO=(t,e,i)=>AX(MX(t),i,e);function RX(t,e){for(var i=0;i<e.length;i++){const n=e[i];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const d=Object.getOwnPropertyDescriptor(n,a);d&&Object.defineProperty(t,a,d.get?d:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const d of a)if(d.type==="childList")for(const y of d.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&n(y)}).observe(document,{childList:!0,subtree:!0});function i(a){const d={};return a.integrity&&(d.integrity=a.integrity),a.referrerPolicy&&(d.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?d.credentials="include":a.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function n(a){if(a.ep)return;a.ep=!0;const d=i(a);fetch(a.href,d)}})();function sT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var m6={exports:{}},ty={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MO;function CX(){if(MO)return ty;MO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(n,a,d){var y=null;if(d!==void 0&&(y=""+d),a.key!==void 0&&(y=""+a.key),"key"in a){d={};for(var b in a)b!=="key"&&(d[b]=a[b])}else d=a;return a=d.ref,{$$typeof:t,type:n,key:y,ref:a!==void 0?a:null,props:d}}return ty.Fragment=e,ty.jsx=i,ty.jsxs=i,ty}var AO;function OX(){return AO||(AO=1,m6.exports=CX()),m6.exports}var at=OX(),g6={exports:{}},Ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RO;function $X(){if(RO)return Ke;RO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),y=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),T=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),k=Symbol.iterator;function D(dt){return dt===null||typeof dt!="object"?null:(dt=k&&dt[k]||dt["@@iterator"],typeof dt=="function"?dt:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,B={};function H(dt,Ft,Kt){this.props=dt,this.context=Ft,this.refs=B,this.updater=Kt||z}H.prototype.isReactComponent={},H.prototype.setState=function(dt,Ft){if(typeof dt!="object"&&typeof dt!="function"&&dt!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,dt,Ft,"setState")},H.prototype.forceUpdate=function(dt){this.updater.enqueueForceUpdate(this,dt,"forceUpdate")};function X(){}X.prototype=H.prototype;function et(dt,Ft,Kt){this.props=dt,this.context=Ft,this.refs=B,this.updater=Kt||z}var rt=et.prototype=new X;rt.constructor=et,G(rt,H.prototype),rt.isPureReactComponent=!0;var it=Array.isArray,ot={H:null,A:null,T:null,S:null,V:null},pt=Object.prototype.hasOwnProperty;function yt(dt,Ft,Kt,Vt,ie,Oe){return Kt=Oe.ref,{$$typeof:t,type:dt,key:Ft,ref:Kt!==void 0?Kt:null,props:Oe}}function ft(dt,Ft){return yt(dt.type,Ft,void 0,void 0,void 0,dt.props)}function vt(dt){return typeof dt=="object"&&dt!==null&&dt.$$typeof===t}function Ct(dt){var Ft={"=":"=0",":":"=2"};return"$"+dt.replace(/[=:]/g,function(Kt){return Ft[Kt]})}var Dt=/\/+/g;function zt(dt,Ft){return typeof dt=="object"&&dt!==null&&dt.key!=null?Ct(""+dt.key):Ft.toString(36)}function Wt(){}function Xt(dt){switch(dt.status){case"fulfilled":return dt.value;case"rejected":throw dt.reason;default:switch(typeof dt.status=="string"?dt.then(Wt,Wt):(dt.status="pending",dt.then(function(Ft){dt.status==="pending"&&(dt.status="fulfilled",dt.value=Ft)},function(Ft){dt.status==="pending"&&(dt.status="rejected",dt.reason=Ft)})),dt.status){case"fulfilled":return dt.value;case"rejected":throw dt.reason}}throw dt}function re(dt,Ft,Kt,Vt,ie){var Oe=typeof dt;(Oe==="undefined"||Oe==="boolean")&&(dt=null);var ce=!1;if(dt===null)ce=!0;else switch(Oe){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(dt.$$typeof){case t:case e:ce=!0;break;case C:return ce=dt._init,re(ce(dt._payload),Ft,Kt,Vt,ie)}}if(ce)return ie=ie(dt),ce=Vt===""?"."+zt(dt,0):Vt,it(ie)?(Kt="",ce!=null&&(Kt=ce.replace(Dt,"$&/")+"/"),re(ie,Ft,Kt,"",function(Si){return Si})):ie!=null&&(vt(ie)&&(ie=ft(ie,Kt+(ie.key==null||dt&&dt.key===ie.key?"":(""+ie.key).replace(Dt,"$&/")+"/")+ce)),Ft.push(ie)),1;ce=0;var je=Vt===""?".":Vt+":";if(it(dt))for(var ze=0;ze<dt.length;ze++)Vt=dt[ze],Oe=je+zt(Vt,ze),ce+=re(Vt,Ft,Kt,Oe,ie);else if(ze=D(dt),typeof ze=="function")for(dt=ze.call(dt),ze=0;!(Vt=dt.next()).done;)Vt=Vt.value,Oe=je+zt(Vt,ze++),ce+=re(Vt,Ft,Kt,Oe,ie);else if(Oe==="object"){if(typeof dt.then=="function")return re(Xt(dt),Ft,Kt,Vt,ie);throw Ft=String(dt),Error("Objects are not valid as a React child (found: "+(Ft==="[object Object]"?"object with keys {"+Object.keys(dt).join(", ")+"}":Ft)+"). If you meant to render a collection of children, use an array instead.")}return ce}function _t(dt,Ft,Kt){if(dt==null)return dt;var Vt=[],ie=0;return re(dt,Vt,"","",function(Oe){return Ft.call(Kt,Oe,ie++)}),Vt}function It(dt){if(dt._status===-1){var Ft=dt._result;Ft=Ft(),Ft.then(function(Kt){(dt._status===0||dt._status===-1)&&(dt._status=1,dt._result=Kt)},function(Kt){(dt._status===0||dt._status===-1)&&(dt._status=2,dt._result=Kt)}),dt._status===-1&&(dt._status=0,dt._result=Ft)}if(dt._status===1)return dt._result.default;throw dt._result}var $t=typeof reportError=="function"?reportError:function(dt){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Ft=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof dt=="object"&&dt!==null&&typeof dt.message=="string"?String(dt.message):String(dt),error:dt});if(!window.dispatchEvent(Ft))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",dt);return}console.error(dt)};function ge(){}return Ke.Children={map:_t,forEach:function(dt,Ft,Kt){_t(dt,function(){Ft.apply(this,arguments)},Kt)},count:function(dt){var Ft=0;return _t(dt,function(){Ft++}),Ft},toArray:function(dt){return _t(dt,function(Ft){return Ft})||[]},only:function(dt){if(!vt(dt))throw Error("React.Children.only expected to receive a single React element child.");return dt}},Ke.Component=H,Ke.Fragment=i,Ke.Profiler=a,Ke.PureComponent=et,Ke.StrictMode=n,Ke.Suspense=S,Ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ot,Ke.__COMPILER_RUNTIME={__proto__:null,c:function(dt){return ot.H.useMemoCache(dt)}},Ke.cache=function(dt){return function(){return dt.apply(null,arguments)}},Ke.cloneElement=function(dt,Ft,Kt){if(dt==null)throw Error("The argument must be a React element, but you passed "+dt+".");var Vt=G({},dt.props),ie=dt.key,Oe=void 0;if(Ft!=null)for(ce in Ft.ref!==void 0&&(Oe=void 0),Ft.key!==void 0&&(ie=""+Ft.key),Ft)!pt.call(Ft,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&Ft.ref===void 0||(Vt[ce]=Ft[ce]);var ce=arguments.length-2;if(ce===1)Vt.children=Kt;else if(1<ce){for(var je=Array(ce),ze=0;ze<ce;ze++)je[ze]=arguments[ze+2];Vt.children=je}return yt(dt.type,ie,void 0,void 0,Oe,Vt)},Ke.createContext=function(dt){return dt={$$typeof:y,_currentValue:dt,_currentValue2:dt,_threadCount:0,Provider:null,Consumer:null},dt.Provider=dt,dt.Consumer={$$typeof:d,_context:dt},dt},Ke.createElement=function(dt,Ft,Kt){var Vt,ie={},Oe=null;if(Ft!=null)for(Vt in Ft.key!==void 0&&(Oe=""+Ft.key),Ft)pt.call(Ft,Vt)&&Vt!=="key"&&Vt!=="__self"&&Vt!=="__source"&&(ie[Vt]=Ft[Vt]);var ce=arguments.length-2;if(ce===1)ie.children=Kt;else if(1<ce){for(var je=Array(ce),ze=0;ze<ce;ze++)je[ze]=arguments[ze+2];ie.children=je}if(dt&&dt.defaultProps)for(Vt in ce=dt.defaultProps,ce)ie[Vt]===void 0&&(ie[Vt]=ce[Vt]);return yt(dt,Oe,void 0,void 0,null,ie)},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(dt){return{$$typeof:b,render:dt}},Ke.isValidElement=vt,Ke.lazy=function(dt){return{$$typeof:C,_payload:{_status:-1,_result:dt},_init:It}},Ke.memo=function(dt,Ft){return{$$typeof:T,type:dt,compare:Ft===void 0?null:Ft}},Ke.startTransition=function(dt){var Ft=ot.T,Kt={};ot.T=Kt;try{var Vt=dt(),ie=ot.S;ie!==null&&ie(Kt,Vt),typeof Vt=="object"&&Vt!==null&&typeof Vt.then=="function"&&Vt.then(ge,$t)}catch(Oe){$t(Oe)}finally{ot.T=Ft}},Ke.unstable_useCacheRefresh=function(){return ot.H.useCacheRefresh()},Ke.use=function(dt){return ot.H.use(dt)},Ke.useActionState=function(dt,Ft,Kt){return ot.H.useActionState(dt,Ft,Kt)},Ke.useCallback=function(dt,Ft){return ot.H.useCallback(dt,Ft)},Ke.useContext=function(dt){return ot.H.useContext(dt)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(dt,Ft){return ot.H.useDeferredValue(dt,Ft)},Ke.useEffect=function(dt,Ft,Kt){var Vt=ot.H;if(typeof Kt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Vt.useEffect(dt,Ft)},Ke.useId=function(){return ot.H.useId()},Ke.useImperativeHandle=function(dt,Ft,Kt){return ot.H.useImperativeHandle(dt,Ft,Kt)},Ke.useInsertionEffect=function(dt,Ft){return ot.H.useInsertionEffect(dt,Ft)},Ke.useLayoutEffect=function(dt,Ft){return ot.H.useLayoutEffect(dt,Ft)},Ke.useMemo=function(dt,Ft){return ot.H.useMemo(dt,Ft)},Ke.useOptimistic=function(dt,Ft){return ot.H.useOptimistic(dt,Ft)},Ke.useReducer=function(dt,Ft,Kt){return ot.H.useReducer(dt,Ft,Kt)},Ke.useRef=function(dt){return ot.H.useRef(dt)},Ke.useState=function(dt){return ot.H.useState(dt)},Ke.useSyncExternalStore=function(dt,Ft,Kt){return ot.H.useSyncExternalStore(dt,Ft,Kt)},Ke.useTransition=function(){return ot.H.useTransition()},Ke.version="19.1.1",Ke}var CO;function oT(){return CO||(CO=1,g6.exports=$X()),g6.exports}var K=oT();const Qt=sT(K),bL=RX({__proto__:null,default:Qt},[K]);var v6={exports:{}},ey={},b6={exports:{}},w6={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OO;function NX(){return OO||(OO=1,(function(t){function e(_t,It){var $t=_t.length;_t.push(It);t:for(;0<$t;){var ge=$t-1>>>1,dt=_t[ge];if(0<a(dt,It))_t[ge]=It,_t[$t]=dt,$t=ge;else break t}}function i(_t){return _t.length===0?null:_t[0]}function n(_t){if(_t.length===0)return null;var It=_t[0],$t=_t.pop();if($t!==It){_t[0]=$t;t:for(var ge=0,dt=_t.length,Ft=dt>>>1;ge<Ft;){var Kt=2*(ge+1)-1,Vt=_t[Kt],ie=Kt+1,Oe=_t[ie];if(0>a(Vt,$t))ie<dt&&0>a(Oe,Vt)?(_t[ge]=Oe,_t[ie]=$t,ge=ie):(_t[ge]=Vt,_t[Kt]=$t,ge=Kt);else if(ie<dt&&0>a(Oe,$t))_t[ge]=Oe,_t[ie]=$t,ge=ie;else break t}}return It}function a(_t,It){var $t=_t.sortIndex-It.sortIndex;return $t!==0?$t:_t.id-It.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;t.unstable_now=function(){return d.now()}}else{var y=Date,b=y.now();t.unstable_now=function(){return y.now()-b}}var S=[],T=[],C=1,k=null,D=3,z=!1,G=!1,B=!1,H=!1,X=typeof setTimeout=="function"?setTimeout:null,et=typeof clearTimeout=="function"?clearTimeout:null,rt=typeof setImmediate<"u"?setImmediate:null;function it(_t){for(var It=i(T);It!==null;){if(It.callback===null)n(T);else if(It.startTime<=_t)n(T),It.sortIndex=It.expirationTime,e(S,It);else break;It=i(T)}}function ot(_t){if(B=!1,it(_t),!G)if(i(S)!==null)G=!0,pt||(pt=!0,zt());else{var It=i(T);It!==null&&re(ot,It.startTime-_t)}}var pt=!1,yt=-1,ft=5,vt=-1;function Ct(){return H?!0:!(t.unstable_now()-vt<ft)}function Dt(){if(H=!1,pt){var _t=t.unstable_now();vt=_t;var It=!0;try{t:{G=!1,B&&(B=!1,et(yt),yt=-1),z=!0;var $t=D;try{e:{for(it(_t),k=i(S);k!==null&&!(k.expirationTime>_t&&Ct());){var ge=k.callback;if(typeof ge=="function"){k.callback=null,D=k.priorityLevel;var dt=ge(k.expirationTime<=_t);if(_t=t.unstable_now(),typeof dt=="function"){k.callback=dt,it(_t),It=!0;break e}k===i(S)&&n(S),it(_t)}else n(S);k=i(S)}if(k!==null)It=!0;else{var Ft=i(T);Ft!==null&&re(ot,Ft.startTime-_t),It=!1}}break t}finally{k=null,D=$t,z=!1}It=void 0}}finally{It?zt():pt=!1}}}var zt;if(typeof rt=="function")zt=function(){rt(Dt)};else if(typeof MessageChannel<"u"){var Wt=new MessageChannel,Xt=Wt.port2;Wt.port1.onmessage=Dt,zt=function(){Xt.postMessage(null)}}else zt=function(){X(Dt,0)};function re(_t,It){yt=X(function(){_t(t.unstable_now())},It)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(_t){_t.callback=null},t.unstable_forceFrameRate=function(_t){0>_t||125<_t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ft=0<_t?Math.floor(1e3/_t):5},t.unstable_getCurrentPriorityLevel=function(){return D},t.unstable_next=function(_t){switch(D){case 1:case 2:case 3:var It=3;break;default:It=D}var $t=D;D=It;try{return _t()}finally{D=$t}},t.unstable_requestPaint=function(){H=!0},t.unstable_runWithPriority=function(_t,It){switch(_t){case 1:case 2:case 3:case 4:case 5:break;default:_t=3}var $t=D;D=_t;try{return It()}finally{D=$t}},t.unstable_scheduleCallback=function(_t,It,$t){var ge=t.unstable_now();switch(typeof $t=="object"&&$t!==null?($t=$t.delay,$t=typeof $t=="number"&&0<$t?ge+$t:ge):$t=ge,_t){case 1:var dt=-1;break;case 2:dt=250;break;case 5:dt=1073741823;break;case 4:dt=1e4;break;default:dt=5e3}return dt=$t+dt,_t={id:C++,callback:It,priorityLevel:_t,startTime:$t,expirationTime:dt,sortIndex:-1},$t>ge?(_t.sortIndex=$t,e(T,_t),i(S)===null&&_t===i(T)&&(B?(et(yt),yt=-1):B=!0,re(ot,$t-ge))):(_t.sortIndex=dt,e(S,_t),G||z||(G=!0,pt||(pt=!0,zt()))),_t},t.unstable_shouldYield=Ct,t.unstable_wrapCallback=function(_t){var It=D;return function(){var $t=D;D=It;try{return _t.apply(this,arguments)}finally{D=$t}}}})(w6)),w6}var $O;function kX(){return $O||($O=1,b6.exports=NX()),b6.exports}var _6={exports:{}},Ln={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NO;function PX(){if(NO)return Ln;NO=1;var t=oT();function e(S){var T="https://react.dev/errors/"+S;if(1<arguments.length){T+="?args[]="+encodeURIComponent(arguments[1]);for(var C=2;C<arguments.length;C++)T+="&args[]="+encodeURIComponent(arguments[C])}return"Minified React error #"+S+"; visit "+T+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var n={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},a=Symbol.for("react.portal");function d(S,T,C){var k=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:k==null?null:""+k,children:S,containerInfo:T,implementation:C}}var y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(S,T){if(S==="font")return"";if(typeof T=="string")return T==="use-credentials"?T:""}return Ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Ln.createPortal=function(S,T){var C=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!T||T.nodeType!==1&&T.nodeType!==9&&T.nodeType!==11)throw Error(e(299));return d(S,T,null,C)},Ln.flushSync=function(S){var T=y.T,C=n.p;try{if(y.T=null,n.p=2,S)return S()}finally{y.T=T,n.p=C,n.d.f()}},Ln.preconnect=function(S,T){typeof S=="string"&&(T?(T=T.crossOrigin,T=typeof T=="string"?T==="use-credentials"?T:"":void 0):T=null,n.d.C(S,T))},Ln.prefetchDNS=function(S){typeof S=="string"&&n.d.D(S)},Ln.preinit=function(S,T){if(typeof S=="string"&&T&&typeof T.as=="string"){var C=T.as,k=b(C,T.crossOrigin),D=typeof T.integrity=="string"?T.integrity:void 0,z=typeof T.fetchPriority=="string"?T.fetchPriority:void 0;C==="style"?n.d.S(S,typeof T.precedence=="string"?T.precedence:void 0,{crossOrigin:k,integrity:D,fetchPriority:z}):C==="script"&&n.d.X(S,{crossOrigin:k,integrity:D,fetchPriority:z,nonce:typeof T.nonce=="string"?T.nonce:void 0})}},Ln.preinitModule=function(S,T){if(typeof S=="string")if(typeof T=="object"&&T!==null){if(T.as==null||T.as==="script"){var C=b(T.as,T.crossOrigin);n.d.M(S,{crossOrigin:C,integrity:typeof T.integrity=="string"?T.integrity:void 0,nonce:typeof T.nonce=="string"?T.nonce:void 0})}}else T==null&&n.d.M(S)},Ln.preload=function(S,T){if(typeof S=="string"&&typeof T=="object"&&T!==null&&typeof T.as=="string"){var C=T.as,k=b(C,T.crossOrigin);n.d.L(S,C,{crossOrigin:k,integrity:typeof T.integrity=="string"?T.integrity:void 0,nonce:typeof T.nonce=="string"?T.nonce:void 0,type:typeof T.type=="string"?T.type:void 0,fetchPriority:typeof T.fetchPriority=="string"?T.fetchPriority:void 0,referrerPolicy:typeof T.referrerPolicy=="string"?T.referrerPolicy:void 0,imageSrcSet:typeof T.imageSrcSet=="string"?T.imageSrcSet:void 0,imageSizes:typeof T.imageSizes=="string"?T.imageSizes:void 0,media:typeof T.media=="string"?T.media:void 0})}},Ln.preloadModule=function(S,T){if(typeof S=="string")if(T){var C=b(T.as,T.crossOrigin);n.d.m(S,{as:typeof T.as=="string"&&T.as!=="script"?T.as:void 0,crossOrigin:C,integrity:typeof T.integrity=="string"?T.integrity:void 0})}else n.d.m(S)},Ln.requestFormReset=function(S){n.d.r(S)},Ln.unstable_batchedUpdates=function(S,T){return S(T)},Ln.useFormState=function(S,T,C){return y.H.useFormState(S,T,C)},Ln.useFormStatus=function(){return y.H.useHostTransitionStatus()},Ln.version="19.1.1",Ln}var kO;function wL(){if(kO)return _6.exports;kO=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),_6.exports=PX(),_6.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PO;function IX(){if(PO)return ey;PO=1;var t=kX(),e=oT(),i=wL();function n(m){var v="https://react.dev/errors/"+m;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)v+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+m+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(m){return!(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)}function d(m){var v=m,x=m;if(m.alternate)for(;v.return;)v=v.return;else{m=v;do v=m,(v.flags&4098)!==0&&(x=v.return),m=v.return;while(m)}return v.tag===3?x:null}function y(m){if(m.tag===13){var v=m.memoizedState;if(v===null&&(m=m.alternate,m!==null&&(v=m.memoizedState)),v!==null)return v.dehydrated}return null}function b(m){if(d(m)!==m)throw Error(n(188))}function S(m){var v=m.alternate;if(!v){if(v=d(m),v===null)throw Error(n(188));return v!==m?null:m}for(var x=m,O=v;;){var L=x.return;if(L===null)break;var U=L.alternate;if(U===null){if(O=L.return,O!==null){x=O;continue}break}if(L.child===U.child){for(U=L.child;U;){if(U===x)return b(L),m;if(U===O)return b(L),v;U=U.sibling}throw Error(n(188))}if(x.return!==O.return)x=L,O=U;else{for(var Y=!1,tt=L.child;tt;){if(tt===x){Y=!0,x=L,O=U;break}if(tt===O){Y=!0,O=L,x=U;break}tt=tt.sibling}if(!Y){for(tt=U.child;tt;){if(tt===x){Y=!0,x=U,O=L;break}if(tt===O){Y=!0,O=U,x=L;break}tt=tt.sibling}if(!Y)throw Error(n(189))}}if(x.alternate!==O)throw Error(n(190))}if(x.tag!==3)throw Error(n(188));return x.stateNode.current===x?m:v}function T(m){var v=m.tag;if(v===5||v===26||v===27||v===6)return m;for(m=m.child;m!==null;){if(v=T(m),v!==null)return v;m=m.sibling}return null}var C=Object.assign,k=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),et=Symbol.for("react.consumer"),rt=Symbol.for("react.context"),it=Symbol.for("react.forward_ref"),ot=Symbol.for("react.suspense"),pt=Symbol.for("react.suspense_list"),yt=Symbol.for("react.memo"),ft=Symbol.for("react.lazy"),vt=Symbol.for("react.activity"),Ct=Symbol.for("react.memo_cache_sentinel"),Dt=Symbol.iterator;function zt(m){return m===null||typeof m!="object"?null:(m=Dt&&m[Dt]||m["@@iterator"],typeof m=="function"?m:null)}var Wt=Symbol.for("react.client.reference");function Xt(m){if(m==null)return null;if(typeof m=="function")return m.$$typeof===Wt?null:m.displayName||m.name||null;if(typeof m=="string")return m;switch(m){case G:return"Fragment";case H:return"Profiler";case B:return"StrictMode";case ot:return"Suspense";case pt:return"SuspenseList";case vt:return"Activity"}if(typeof m=="object")switch(m.$$typeof){case z:return"Portal";case rt:return(m.displayName||"Context")+".Provider";case et:return(m._context.displayName||"Context")+".Consumer";case it:var v=m.render;return m=m.displayName,m||(m=v.displayName||v.name||"",m=m!==""?"ForwardRef("+m+")":"ForwardRef"),m;case yt:return v=m.displayName||null,v!==null?v:Xt(m.type)||"Memo";case ft:v=m._payload,m=m._init;try{return Xt(m(v))}catch{}}return null}var re=Array.isArray,_t=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,It=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$t={pending:!1,data:null,method:null,action:null},ge=[],dt=-1;function Ft(m){return{current:m}}function Kt(m){0>dt||(m.current=ge[dt],ge[dt]=null,dt--)}function Vt(m,v){dt++,ge[dt]=m.current,m.current=v}var ie=Ft(null),Oe=Ft(null),ce=Ft(null),je=Ft(null);function ze(m,v){switch(Vt(ce,v),Vt(Oe,m),Vt(ie,null),v.nodeType){case 9:case 11:m=(m=v.documentElement)&&(m=m.namespaceURI)?ZC(m):0;break;default:if(m=v.tagName,v=v.namespaceURI)v=ZC(v),m=QC(v,m);else switch(m){case"svg":m=1;break;case"math":m=2;break;default:m=0}}Kt(ie),Vt(ie,m)}function Si(){Kt(ie),Kt(Oe),Kt(ce)}function Ge(m){m.memoizedState!==null&&Vt(je,m);var v=ie.current,x=QC(v,m.type);v!==x&&(Vt(Oe,m),Vt(ie,x))}function Qi(m){Oe.current===m&&(Kt(ie),Kt(Oe)),je.current===m&&(Kt(je),J1._currentValue=$t)}var Vi=Object.prototype.hasOwnProperty,xn=t.unstable_scheduleCallback,we=t.unstable_cancelCallback,ts=t.unstable_shouldYield,bi=t.unstable_requestPaint,Q=t.unstable_now,pr=t.unstable_getCurrentPriorityLevel,fs=t.unstable_ImmediatePriority,Me=t.unstable_UserBlockingPriority,Ve=t.unstable_NormalPriority,Hr=t.unstable_LowPriority,Tr=t.unstable_IdlePriority,Tn=t.log,Pn=t.unstable_setDisableYieldValue,ds=null,Wi=null;function Ri(m){if(typeof Tn=="function"&&Pn(m),Wi&&typeof Wi.setStrictMode=="function")try{Wi.setStrictMode(ds,m)}catch{}}var Gt=Math.clz32?Math.clz32:I,In=Math.log,c=Math.LN2;function I(m){return m>>>=0,m===0?32:31-(In(m)/c|0)|0}var w=256,u=4194304;function o(m){var v=m&42;if(v!==0)return v;switch(m&-m){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return m&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return m}}function r(m,v,x){var O=m.pendingLanes;if(O===0)return 0;var L=0,U=m.suspendedLanes,Y=m.pingedLanes;m=m.warmLanes;var tt=O&134217727;return tt!==0?(O=tt&~U,O!==0?L=o(O):(Y&=tt,Y!==0?L=o(Y):x||(x=tt&~m,x!==0&&(L=o(x))))):(tt=O&~U,tt!==0?L=o(tt):Y!==0?L=o(Y):x||(x=O&~m,x!==0&&(L=o(x)))),L===0?0:v!==0&&v!==L&&(v&U)===0&&(U=L&-L,x=v&-v,U>=x||U===32&&(x&4194048)!==0)?v:L}function s(m,v){return(m.pendingLanes&~(m.suspendedLanes&~m.pingedLanes)&v)===0}function l(m,v){switch(m){case 1:case 2:case 4:case 8:case 64:return v+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return v+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function h(){var m=w;return w<<=1,(w&4194048)===0&&(w=256),m}function f(){var m=u;return u<<=1,(u&62914560)===0&&(u=4194304),m}function p(m){for(var v=[],x=0;31>x;x++)v.push(m);return v}function g(m,v){m.pendingLanes|=v,v!==268435456&&(m.suspendedLanes=0,m.pingedLanes=0,m.warmLanes=0)}function _(m,v,x,O,L,U){var Y=m.pendingLanes;m.pendingLanes=x,m.suspendedLanes=0,m.pingedLanes=0,m.warmLanes=0,m.expiredLanes&=x,m.entangledLanes&=x,m.errorRecoveryDisabledLanes&=x,m.shellSuspendCounter=0;var tt=m.entanglements,ht=m.expirationTimes,Mt=m.hiddenUpdates;for(x=Y&~x;0<x;){var jt=31-Gt(x),qt=1<<jt;tt[jt]=0,ht[jt]=-1;var At=Mt[jt];if(At!==null)for(Mt[jt]=null,jt=0;jt<At.length;jt++){var Ot=At[jt];Ot!==null&&(Ot.lane&=-536870913)}x&=~qt}O!==0&&M(m,O,0),U!==0&&L===0&&m.tag!==0&&(m.suspendedLanes|=U&~(Y&~v))}function M(m,v,x){m.pendingLanes|=v,m.suspendedLanes&=~v;var O=31-Gt(v);m.entangledLanes|=v,m.entanglements[O]=m.entanglements[O]|1073741824|x&4194090}function R(m,v){var x=m.entangledLanes|=v;for(m=m.entanglements;x;){var O=31-Gt(x),L=1<<O;L&v|m[O]&v&&(m[O]|=v),x&=~L}}function $(m){switch(m){case 2:m=1;break;case 8:m=4;break;case 32:m=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:m=128;break;case 268435456:m=134217728;break;default:m=0}return m}function P(m){return m&=-m,2<m?8<m?(m&134217727)!==0?32:268435456:8:2}function j(){var m=It.p;return m!==0?m:(m=window.event,m===void 0?32:vO(m.type))}function F(m,v){var x=It.p;try{return It.p=m,v()}finally{It.p=x}}var V=Math.random().toString(36).slice(2),W="__reactFiber$"+V,q="__reactProps$"+V,J="__reactContainer$"+V,nt="__reactEvents$"+V,st="__reactListeners$"+V,ct="__reactHandles$"+V,bt="__reactResources$"+V,Tt="__reactMarker$"+V;function Ut(m){delete m[W],delete m[q],delete m[nt],delete m[st],delete m[ct]}function Pt(m){var v=m[W];if(v)return v;for(var x=m.parentNode;x;){if(v=x[J]||x[W]){if(x=v.alternate,v.child!==null||x!==null&&x.child!==null)for(m=rO(m);m!==null;){if(x=m[W])return x;m=rO(m)}return v}m=x,x=m.parentNode}return null}function ee(m){if(m=m[W]||m[J]){var v=m.tag;if(v===5||v===6||v===13||v===26||v===27||v===3)return m}return null}function Nt(m){var v=m.tag;if(v===5||v===26||v===27||v===6)return m.stateNode;throw Error(n(33))}function _e(m){var v=m[bt];return v||(v=m[bt]={hoistableStyles:new Map,hoistableScripts:new Map}),v}function ne(m){m[Tt]=!0}var Ye=new Set,pi={};function xi(m,v){ai(m,v),ai(m+"Capture",v)}function ai(m,v){for(pi[m]=v,m=0;m<v.length;m++)Ye.add(v[m])}var Qe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ae={},Ue={};function Li(m){return Vi.call(Ue,m)?!0:Vi.call(Ae,m)?!1:Qe.test(m)?Ue[m]=!0:(Ae[m]=!0,!1)}function yi(m,v,x){if(Li(v))if(x===null)m.removeAttribute(v);else{switch(typeof x){case"undefined":case"function":case"symbol":m.removeAttribute(v);return;case"boolean":var O=v.toLowerCase().slice(0,5);if(O!=="data-"&&O!=="aria-"){m.removeAttribute(v);return}}m.setAttribute(v,""+x)}}function un(m,v,x){if(x===null)m.removeAttribute(v);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":m.removeAttribute(v);return}m.setAttribute(v,""+x)}}function Ie(m,v,x,O){if(O===null)m.removeAttribute(x);else{switch(typeof O){case"undefined":case"function":case"symbol":case"boolean":m.removeAttribute(x);return}m.setAttributeNS(v,x,""+O)}}var Ir,li;function lr(m){if(Ir===void 0)try{throw Error()}catch(x){var v=x.stack.trim().match(/\n( *(at )?)/);Ir=v&&v[1]||"",li=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ir+m+li}var Ca=!1;function Oa(m,v){if(!m||Ca)return"";Ca=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var O={DetermineComponentFrameRoot:function(){try{if(v){var qt=function(){throw Error()};if(Object.defineProperty(qt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(qt,[])}catch(Ot){var At=Ot}Reflect.construct(m,[],qt)}else{try{qt.call()}catch(Ot){At=Ot}m.call(qt.prototype)}}else{try{throw Error()}catch(Ot){At=Ot}(qt=m())&&typeof qt.catch=="function"&&qt.catch(function(){})}}catch(Ot){if(Ot&&At&&typeof Ot.stack=="string")return[Ot.stack,At.stack]}return[null,null]}};O.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var L=Object.getOwnPropertyDescriptor(O.DetermineComponentFrameRoot,"name");L&&L.configurable&&Object.defineProperty(O.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var U=O.DetermineComponentFrameRoot(),Y=U[0],tt=U[1];if(Y&&tt){var ht=Y.split(`
`),Mt=tt.split(`
`);for(L=O=0;O<ht.length&&!ht[O].includes("DetermineComponentFrameRoot");)O++;for(;L<Mt.length&&!Mt[L].includes("DetermineComponentFrameRoot");)L++;if(O===ht.length||L===Mt.length)for(O=ht.length-1,L=Mt.length-1;1<=O&&0<=L&&ht[O]!==Mt[L];)L--;for(;1<=O&&0<=L;O--,L--)if(ht[O]!==Mt[L]){if(O!==1||L!==1)do if(O--,L--,0>L||ht[O]!==Mt[L]){var jt=`
`+ht[O].replace(" at new "," at ");return m.displayName&&jt.includes("<anonymous>")&&(jt=jt.replace("<anonymous>",m.displayName)),jt}while(1<=O&&0<=L);break}}}finally{Ca=!1,Error.prepareStackTrace=x}return(x=m?m.displayName||m.name:"")?lr(x):""}function yl(m){switch(m.tag){case 26:case 27:case 5:return lr(m.type);case 16:return lr("Lazy");case 13:return lr("Suspense");case 19:return lr("SuspenseList");case 0:case 15:return Oa(m.type,!1);case 11:return Oa(m.type.render,!1);case 1:return Oa(m.type,!0);case 31:return lr("Activity");default:return""}}function o1(m){try{var v="";do v+=yl(m),m=m.return;while(m);return v}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}function lt(m){switch(typeof m){case"bigint":case"boolean":case"number":case"string":case"undefined":return m;case"object":return m;default:return""}}function Rt(m){var v=m.type;return(m=m.nodeName)&&m.toLowerCase()==="input"&&(v==="checkbox"||v==="radio")}function Yt(m){var v=Rt(m)?"checked":"value",x=Object.getOwnPropertyDescriptor(m.constructor.prototype,v),O=""+m[v];if(!m.hasOwnProperty(v)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var L=x.get,U=x.set;return Object.defineProperty(m,v,{configurable:!0,get:function(){return L.call(this)},set:function(Y){O=""+Y,U.call(this,Y)}}),Object.defineProperty(m,v,{enumerable:x.enumerable}),{getValue:function(){return O},setValue:function(Y){O=""+Y},stopTracking:function(){m._valueTracker=null,delete m[v]}}}}function Te(m){m._valueTracker||(m._valueTracker=Yt(m))}function mi(m){if(!m)return!1;var v=m._valueTracker;if(!v)return!0;var x=v.getValue(),O="";return m&&(O=Rt(m)?m.checked?"true":"false":m.value),m=O,m!==x?(v.setValue(m),!0):!1}function Ji(m){if(m=m||(typeof document<"u"?document:void 0),typeof m>"u")return null;try{return m.activeElement||m.body}catch{return m.body}}var Dr=/[\n"\\]/g;function $i(m){return m.replace(Dr,function(v){return"\\"+v.charCodeAt(0).toString(16)+" "})}function f9(m,v,x,O,L,U,Y,tt){m.name="",Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"?m.type=Y:m.removeAttribute("type"),v!=null?Y==="number"?(v===0&&m.value===""||m.value!=v)&&(m.value=""+lt(v)):m.value!==""+lt(v)&&(m.value=""+lt(v)):Y!=="submit"&&Y!=="reset"||m.removeAttribute("value"),v!=null?d9(m,Y,lt(v)):x!=null?d9(m,Y,lt(x)):O!=null&&m.removeAttribute("value"),L==null&&U!=null&&(m.defaultChecked=!!U),L!=null&&(m.checked=L&&typeof L!="function"&&typeof L!="symbol"),tt!=null&&typeof tt!="function"&&typeof tt!="symbol"&&typeof tt!="boolean"?m.name=""+lt(tt):m.removeAttribute("name")}function YM(m,v,x,O,L,U,Y,tt){if(U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"&&(m.type=U),v!=null||x!=null){if(!(U!=="submit"&&U!=="reset"||v!=null))return;x=x!=null?""+lt(x):"",v=v!=null?""+lt(v):x,tt||v===m.value||(m.value=v),m.defaultValue=v}O=O??L,O=typeof O!="function"&&typeof O!="symbol"&&!!O,m.checked=tt?m.checked:!!O,m.defaultChecked=!!O,Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"&&(m.name=Y)}function d9(m,v,x){v==="number"&&Ji(m.ownerDocument)===m||m.defaultValue===""+x||(m.defaultValue=""+x)}function Qf(m,v,x,O){if(m=m.options,v){v={};for(var L=0;L<x.length;L++)v["$"+x[L]]=!0;for(x=0;x<m.length;x++)L=v.hasOwnProperty("$"+m[x].value),m[x].selected!==L&&(m[x].selected=L),L&&O&&(m[x].defaultSelected=!0)}else{for(x=""+lt(x),v=null,L=0;L<m.length;L++){if(m[L].value===x){m[L].selected=!0,O&&(m[L].defaultSelected=!0);return}v!==null||m[L].disabled||(v=m[L])}v!==null&&(v.selected=!0)}}function KM(m,v,x){if(v!=null&&(v=""+lt(v),v!==m.value&&(m.value=v),x==null)){m.defaultValue!==v&&(m.defaultValue=v);return}m.defaultValue=x!=null?""+lt(x):""}function XM(m,v,x,O){if(v==null){if(O!=null){if(x!=null)throw Error(n(92));if(re(O)){if(1<O.length)throw Error(n(93));O=O[0]}x=O}x==null&&(x=""),v=x}x=lt(v),m.defaultValue=x,O=m.textContent,O===x&&O!==""&&O!==null&&(m.value=O)}function td(m,v){if(v){var x=m.firstChild;if(x&&x===m.lastChild&&x.nodeType===3){x.nodeValue=v;return}}m.textContent=v}var xY=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ZM(m,v,x){var O=v.indexOf("--")===0;x==null||typeof x=="boolean"||x===""?O?m.setProperty(v,""):v==="float"?m.cssFloat="":m[v]="":O?m.setProperty(v,x):typeof x!="number"||x===0||xY.has(v)?v==="float"?m.cssFloat=x:m[v]=(""+x).trim():m[v]=x+"px"}function QM(m,v,x){if(v!=null&&typeof v!="object")throw Error(n(62));if(m=m.style,x!=null){for(var O in x)!x.hasOwnProperty(O)||v!=null&&v.hasOwnProperty(O)||(O.indexOf("--")===0?m.setProperty(O,""):O==="float"?m.cssFloat="":m[O]="");for(var L in v)O=v[L],v.hasOwnProperty(L)&&x[L]!==O&&ZM(m,L,O)}else for(var U in v)v.hasOwnProperty(U)&&ZM(m,U,v[U])}function p9(m){if(m.indexOf("-")===-1)return!1;switch(m){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var TY=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),EY=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bv(m){return EY.test(""+m)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":m}var y9=null;function m9(m){return m=m.target||m.srcElement||window,m.correspondingUseElement&&(m=m.correspondingUseElement),m.nodeType===3?m.parentNode:m}var ed=null,id=null;function tA(m){var v=ee(m);if(v&&(m=v.stateNode)){var x=m[q]||null;t:switch(m=v.stateNode,v.type){case"input":if(f9(m,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name),v=x.name,x.type==="radio"&&v!=null){for(x=m;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll('input[name="'+$i(""+v)+'"][type="radio"]'),v=0;v<x.length;v++){var O=x[v];if(O!==m&&O.form===m.form){var L=O[q]||null;if(!L)throw Error(n(90));f9(O,L.value,L.defaultValue,L.defaultValue,L.checked,L.defaultChecked,L.type,L.name)}}for(v=0;v<x.length;v++)O=x[v],O.form===m.form&&mi(O)}break t;case"textarea":KM(m,x.value,x.defaultValue);break t;case"select":v=x.value,v!=null&&Qf(m,!!x.multiple,v,!1)}}}var g9=!1;function eA(m,v,x){if(g9)return m(v,x);g9=!0;try{var O=m(v);return O}finally{if(g9=!1,(ed!==null||id!==null)&&(n2(),ed&&(v=ed,m=id,id=ed=null,tA(v),m)))for(v=0;v<m.length;v++)tA(m[v])}}function a1(m,v){var x=m.stateNode;if(x===null)return null;var O=x[q]||null;if(O===null)return null;x=O[v];t:switch(v){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(O=!O.disabled)||(m=m.type,O=!(m==="button"||m==="input"||m==="select"||m==="textarea")),m=!O;break t;default:m=!1}if(m)return null;if(x&&typeof x!="function")throw Error(n(231,v,typeof x));return x}var ml=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v9=!1;if(ml)try{var l1={};Object.defineProperty(l1,"passive",{get:function(){v9=!0}}),window.addEventListener("test",l1,l1),window.removeEventListener("test",l1,l1)}catch{v9=!1}var bu=null,b9=null,wv=null;function iA(){if(wv)return wv;var m,v=b9,x=v.length,O,L="value"in bu?bu.value:bu.textContent,U=L.length;for(m=0;m<x&&v[m]===L[m];m++);var Y=x-m;for(O=1;O<=Y&&v[x-O]===L[U-O];O++);return wv=L.slice(m,1<O?1-O:void 0)}function _v(m){var v=m.keyCode;return"charCode"in m?(m=m.charCode,m===0&&v===13&&(m=13)):m=v,m===10&&(m=13),32<=m||m===13?m:0}function Sv(){return!0}function rA(){return!1}function ps(m){function v(x,O,L,U,Y){this._reactName=x,this._targetInst=L,this.type=O,this.nativeEvent=U,this.target=Y,this.currentTarget=null;for(var tt in m)m.hasOwnProperty(tt)&&(x=m[tt],this[tt]=x?x(U):U[tt]);return this.isDefaultPrevented=(U.defaultPrevented!=null?U.defaultPrevented:U.returnValue===!1)?Sv:rA,this.isPropagationStopped=rA,this}return C(v.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=Sv)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=Sv)},persist:function(){},isPersistent:Sv}),v}var sh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(m){return m.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xv=ps(sh),u1=C({},sh,{view:0,detail:0}),MY=ps(u1),w9,_9,c1,Tv=C({},u1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:x9,button:0,buttons:0,relatedTarget:function(m){return m.relatedTarget===void 0?m.fromElement===m.srcElement?m.toElement:m.fromElement:m.relatedTarget},movementX:function(m){return"movementX"in m?m.movementX:(m!==c1&&(c1&&m.type==="mousemove"?(w9=m.screenX-c1.screenX,_9=m.screenY-c1.screenY):_9=w9=0,c1=m),w9)},movementY:function(m){return"movementY"in m?m.movementY:_9}}),nA=ps(Tv),AY=C({},Tv,{dataTransfer:0}),RY=ps(AY),CY=C({},u1,{relatedTarget:0}),S9=ps(CY),OY=C({},sh,{animationName:0,elapsedTime:0,pseudoElement:0}),$Y=ps(OY),NY=C({},sh,{clipboardData:function(m){return"clipboardData"in m?m.clipboardData:window.clipboardData}}),kY=ps(NY),PY=C({},sh,{data:0}),sA=ps(PY),IY={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DY={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LY={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jY(m){var v=this.nativeEvent;return v.getModifierState?v.getModifierState(m):(m=LY[m])?!!v[m]:!1}function x9(){return jY}var zY=C({},u1,{key:function(m){if(m.key){var v=IY[m.key]||m.key;if(v!=="Unidentified")return v}return m.type==="keypress"?(m=_v(m),m===13?"Enter":String.fromCharCode(m)):m.type==="keydown"||m.type==="keyup"?DY[m.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:x9,charCode:function(m){return m.type==="keypress"?_v(m):0},keyCode:function(m){return m.type==="keydown"||m.type==="keyup"?m.keyCode:0},which:function(m){return m.type==="keypress"?_v(m):m.type==="keydown"||m.type==="keyup"?m.keyCode:0}}),UY=ps(zY),FY=C({},Tv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oA=ps(FY),BY=C({},u1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:x9}),GY=ps(BY),qY=C({},sh,{propertyName:0,elapsedTime:0,pseudoElement:0}),HY=ps(qY),VY=C({},Tv,{deltaX:function(m){return"deltaX"in m?m.deltaX:"wheelDeltaX"in m?-m.wheelDeltaX:0},deltaY:function(m){return"deltaY"in m?m.deltaY:"wheelDeltaY"in m?-m.wheelDeltaY:"wheelDelta"in m?-m.wheelDelta:0},deltaZ:0,deltaMode:0}),WY=ps(VY),JY=C({},sh,{newState:0,oldState:0}),YY=ps(JY),KY=[9,13,27,32],T9=ml&&"CompositionEvent"in window,h1=null;ml&&"documentMode"in document&&(h1=document.documentMode);var XY=ml&&"TextEvent"in window&&!h1,aA=ml&&(!T9||h1&&8<h1&&11>=h1),lA=" ",uA=!1;function cA(m,v){switch(m){case"keyup":return KY.indexOf(v.keyCode)!==-1;case"keydown":return v.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hA(m){return m=m.detail,typeof m=="object"&&"data"in m?m.data:null}var rd=!1;function ZY(m,v){switch(m){case"compositionend":return hA(v);case"keypress":return v.which!==32?null:(uA=!0,lA);case"textInput":return m=v.data,m===lA&&uA?null:m;default:return null}}function QY(m,v){if(rd)return m==="compositionend"||!T9&&cA(m,v)?(m=iA(),wv=b9=bu=null,rd=!1,m):null;switch(m){case"paste":return null;case"keypress":if(!(v.ctrlKey||v.altKey||v.metaKey)||v.ctrlKey&&v.altKey){if(v.char&&1<v.char.length)return v.char;if(v.which)return String.fromCharCode(v.which)}return null;case"compositionend":return aA&&v.locale!=="ko"?null:v.data;default:return null}}var tK={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fA(m){var v=m&&m.nodeName&&m.nodeName.toLowerCase();return v==="input"?!!tK[m.type]:v==="textarea"}function dA(m,v,x,O){ed?id?id.push(O):id=[O]:ed=O,v=c2(v,"onChange"),0<v.length&&(x=new xv("onChange","change",null,x,O),m.push({event:x,listeners:v}))}var f1=null,d1=null;function eK(m){WC(m,0)}function Ev(m){var v=Nt(m);if(mi(v))return m}function pA(m,v){if(m==="change")return v}var yA=!1;if(ml){var E9;if(ml){var M9="oninput"in document;if(!M9){var mA=document.createElement("div");mA.setAttribute("oninput","return;"),M9=typeof mA.oninput=="function"}E9=M9}else E9=!1;yA=E9&&(!document.documentMode||9<document.documentMode)}function gA(){f1&&(f1.detachEvent("onpropertychange",vA),d1=f1=null)}function vA(m){if(m.propertyName==="value"&&Ev(d1)){var v=[];dA(v,d1,m,m9(m)),eA(eK,v)}}function iK(m,v,x){m==="focusin"?(gA(),f1=v,d1=x,f1.attachEvent("onpropertychange",vA)):m==="focusout"&&gA()}function rK(m){if(m==="selectionchange"||m==="keyup"||m==="keydown")return Ev(d1)}function nK(m,v){if(m==="click")return Ev(v)}function sK(m,v){if(m==="input"||m==="change")return Ev(v)}function oK(m,v){return m===v&&(m!==0||1/m===1/v)||m!==m&&v!==v}var Us=typeof Object.is=="function"?Object.is:oK;function p1(m,v){if(Us(m,v))return!0;if(typeof m!="object"||m===null||typeof v!="object"||v===null)return!1;var x=Object.keys(m),O=Object.keys(v);if(x.length!==O.length)return!1;for(O=0;O<x.length;O++){var L=x[O];if(!Vi.call(v,L)||!Us(m[L],v[L]))return!1}return!0}function bA(m){for(;m&&m.firstChild;)m=m.firstChild;return m}function wA(m,v){var x=bA(m);m=0;for(var O;x;){if(x.nodeType===3){if(O=m+x.textContent.length,m<=v&&O>=v)return{node:x,offset:v-m};m=O}t:{for(;x;){if(x.nextSibling){x=x.nextSibling;break t}x=x.parentNode}x=void 0}x=bA(x)}}function _A(m,v){return m&&v?m===v?!0:m&&m.nodeType===3?!1:v&&v.nodeType===3?_A(m,v.parentNode):"contains"in m?m.contains(v):m.compareDocumentPosition?!!(m.compareDocumentPosition(v)&16):!1:!1}function SA(m){m=m!=null&&m.ownerDocument!=null&&m.ownerDocument.defaultView!=null?m.ownerDocument.defaultView:window;for(var v=Ji(m.document);v instanceof m.HTMLIFrameElement;){try{var x=typeof v.contentWindow.location.href=="string"}catch{x=!1}if(x)m=v.contentWindow;else break;v=Ji(m.document)}return v}function A9(m){var v=m&&m.nodeName&&m.nodeName.toLowerCase();return v&&(v==="input"&&(m.type==="text"||m.type==="search"||m.type==="tel"||m.type==="url"||m.type==="password")||v==="textarea"||m.contentEditable==="true")}var aK=ml&&"documentMode"in document&&11>=document.documentMode,nd=null,R9=null,y1=null,C9=!1;function xA(m,v,x){var O=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;C9||nd==null||nd!==Ji(O)||(O=nd,"selectionStart"in O&&A9(O)?O={start:O.selectionStart,end:O.selectionEnd}:(O=(O.ownerDocument&&O.ownerDocument.defaultView||window).getSelection(),O={anchorNode:O.anchorNode,anchorOffset:O.anchorOffset,focusNode:O.focusNode,focusOffset:O.focusOffset}),y1&&p1(y1,O)||(y1=O,O=c2(R9,"onSelect"),0<O.length&&(v=new xv("onSelect","select",null,v,x),m.push({event:v,listeners:O}),v.target=nd)))}function oh(m,v){var x={};return x[m.toLowerCase()]=v.toLowerCase(),x["Webkit"+m]="webkit"+v,x["Moz"+m]="moz"+v,x}var sd={animationend:oh("Animation","AnimationEnd"),animationiteration:oh("Animation","AnimationIteration"),animationstart:oh("Animation","AnimationStart"),transitionrun:oh("Transition","TransitionRun"),transitionstart:oh("Transition","TransitionStart"),transitioncancel:oh("Transition","TransitionCancel"),transitionend:oh("Transition","TransitionEnd")},O9={},TA={};ml&&(TA=document.createElement("div").style,"AnimationEvent"in window||(delete sd.animationend.animation,delete sd.animationiteration.animation,delete sd.animationstart.animation),"TransitionEvent"in window||delete sd.transitionend.transition);function ah(m){if(O9[m])return O9[m];if(!sd[m])return m;var v=sd[m],x;for(x in v)if(v.hasOwnProperty(x)&&x in TA)return O9[m]=v[x];return m}var EA=ah("animationend"),MA=ah("animationiteration"),AA=ah("animationstart"),lK=ah("transitionrun"),uK=ah("transitionstart"),cK=ah("transitioncancel"),RA=ah("transitionend"),CA=new Map,$9="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$9.push("scrollEnd");function Xo(m,v){CA.set(m,v),xi(v,[m])}var OA=new WeakMap;function ho(m,v){if(typeof m=="object"&&m!==null){var x=OA.get(m);return x!==void 0?x:(v={value:m,source:v,stack:o1(v)},OA.set(m,v),v)}return{value:m,source:v,stack:o1(v)}}var fo=[],od=0,N9=0;function Mv(){for(var m=od,v=N9=od=0;v<m;){var x=fo[v];fo[v++]=null;var O=fo[v];fo[v++]=null;var L=fo[v];fo[v++]=null;var U=fo[v];if(fo[v++]=null,O!==null&&L!==null){var Y=O.pending;Y===null?L.next=L:(L.next=Y.next,Y.next=L),O.pending=L}U!==0&&$A(x,L,U)}}function Av(m,v,x,O){fo[od++]=m,fo[od++]=v,fo[od++]=x,fo[od++]=O,N9|=O,m.lanes|=O,m=m.alternate,m!==null&&(m.lanes|=O)}function k9(m,v,x,O){return Av(m,v,x,O),Rv(m)}function ad(m,v){return Av(m,null,null,v),Rv(m)}function $A(m,v,x){m.lanes|=x;var O=m.alternate;O!==null&&(O.lanes|=x);for(var L=!1,U=m.return;U!==null;)U.childLanes|=x,O=U.alternate,O!==null&&(O.childLanes|=x),U.tag===22&&(m=U.stateNode,m===null||m._visibility&1||(L=!0)),m=U,U=U.return;return m.tag===3?(U=m.stateNode,L&&v!==null&&(L=31-Gt(x),m=U.hiddenUpdates,O=m[L],O===null?m[L]=[v]:O.push(v),v.lane=x|536870912),U):null}function Rv(m){if(50<U1)throw U1=0,z4=null,Error(n(185));for(var v=m.return;v!==null;)m=v,v=m.return;return m.tag===3?m.stateNode:null}var ld={};function hK(m,v,x,O){this.tag=m,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=v,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=O,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fs(m,v,x,O){return new hK(m,v,x,O)}function P9(m){return m=m.prototype,!(!m||!m.isReactComponent)}function gl(m,v){var x=m.alternate;return x===null?(x=Fs(m.tag,v,m.key,m.mode),x.elementType=m.elementType,x.type=m.type,x.stateNode=m.stateNode,x.alternate=m,m.alternate=x):(x.pendingProps=v,x.type=m.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=m.flags&65011712,x.childLanes=m.childLanes,x.lanes=m.lanes,x.child=m.child,x.memoizedProps=m.memoizedProps,x.memoizedState=m.memoizedState,x.updateQueue=m.updateQueue,v=m.dependencies,x.dependencies=v===null?null:{lanes:v.lanes,firstContext:v.firstContext},x.sibling=m.sibling,x.index=m.index,x.ref=m.ref,x.refCleanup=m.refCleanup,x}function NA(m,v){m.flags&=65011714;var x=m.alternate;return x===null?(m.childLanes=0,m.lanes=v,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=x.childLanes,m.lanes=x.lanes,m.child=x.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=x.memoizedProps,m.memoizedState=x.memoizedState,m.updateQueue=x.updateQueue,m.type=x.type,v=x.dependencies,m.dependencies=v===null?null:{lanes:v.lanes,firstContext:v.firstContext}),m}function Cv(m,v,x,O,L,U){var Y=0;if(O=m,typeof m=="function")P9(m)&&(Y=1);else if(typeof m=="string")Y=dX(m,x,ie.current)?26:m==="html"||m==="head"||m==="body"?27:5;else t:switch(m){case vt:return m=Fs(31,x,v,L),m.elementType=vt,m.lanes=U,m;case G:return lh(x.children,L,U,v);case B:Y=8,L|=24;break;case H:return m=Fs(12,x,v,L|2),m.elementType=H,m.lanes=U,m;case ot:return m=Fs(13,x,v,L),m.elementType=ot,m.lanes=U,m;case pt:return m=Fs(19,x,v,L),m.elementType=pt,m.lanes=U,m;default:if(typeof m=="object"&&m!==null)switch(m.$$typeof){case X:case rt:Y=10;break t;case et:Y=9;break t;case it:Y=11;break t;case yt:Y=14;break t;case ft:Y=16,O=null;break t}Y=29,x=Error(n(130,m===null?"null":typeof m,"")),O=null}return v=Fs(Y,x,v,L),v.elementType=m,v.type=O,v.lanes=U,v}function lh(m,v,x,O){return m=Fs(7,m,O,v),m.lanes=x,m}function I9(m,v,x){return m=Fs(6,m,null,v),m.lanes=x,m}function D9(m,v,x){return v=Fs(4,m.children!==null?m.children:[],m.key,v),v.lanes=x,v.stateNode={containerInfo:m.containerInfo,pendingChildren:null,implementation:m.implementation},v}var ud=[],cd=0,Ov=null,$v=0,po=[],yo=0,uh=null,vl=1,bl="";function ch(m,v){ud[cd++]=$v,ud[cd++]=Ov,Ov=m,$v=v}function kA(m,v,x){po[yo++]=vl,po[yo++]=bl,po[yo++]=uh,uh=m;var O=vl;m=bl;var L=32-Gt(O)-1;O&=~(1<<L),x+=1;var U=32-Gt(v)+L;if(30<U){var Y=L-L%5;U=(O&(1<<Y)-1).toString(32),O>>=Y,L-=Y,vl=1<<32-Gt(v)+L|x<<L|O,bl=U+m}else vl=1<<U|x<<L|O,bl=m}function L9(m){m.return!==null&&(ch(m,1),kA(m,1,0))}function j9(m){for(;m===Ov;)Ov=ud[--cd],ud[cd]=null,$v=ud[--cd],ud[cd]=null;for(;m===uh;)uh=po[--yo],po[yo]=null,bl=po[--yo],po[yo]=null,vl=po[--yo],po[yo]=null}var es=null,Er=null,Ti=!1,hh=null,$a=!1,z9=Error(n(519));function fh(m){var v=Error(n(418,""));throw v1(ho(v,m)),z9}function PA(m){var v=m.stateNode,x=m.type,O=m.memoizedProps;switch(v[W]=m,v[q]=O,x){case"dialog":oi("cancel",v),oi("close",v);break;case"iframe":case"object":case"embed":oi("load",v);break;case"video":case"audio":for(x=0;x<B1.length;x++)oi(B1[x],v);break;case"source":oi("error",v);break;case"img":case"image":case"link":oi("error",v),oi("load",v);break;case"details":oi("toggle",v);break;case"input":oi("invalid",v),YM(v,O.value,O.defaultValue,O.checked,O.defaultChecked,O.type,O.name,!0),Te(v);break;case"select":oi("invalid",v);break;case"textarea":oi("invalid",v),XM(v,O.value,O.defaultValue,O.children),Te(v)}x=O.children,typeof x!="string"&&typeof x!="number"&&typeof x!="bigint"||v.textContent===""+x||O.suppressHydrationWarning===!0||XC(v.textContent,x)?(O.popover!=null&&(oi("beforetoggle",v),oi("toggle",v)),O.onScroll!=null&&oi("scroll",v),O.onScrollEnd!=null&&oi("scrollend",v),O.onClick!=null&&(v.onclick=h2),v=!0):v=!1,v||fh(m)}function IA(m){for(es=m.return;es;)switch(es.tag){case 5:case 13:$a=!1;return;case 27:case 3:$a=!0;return;default:es=es.return}}function m1(m){if(m!==es)return!1;if(!Ti)return IA(m),Ti=!0,!1;var v=m.tag,x;if((x=v!==3&&v!==27)&&((x=v===5)&&(x=m.type,x=!(x!=="form"&&x!=="button")||e6(m.type,m.memoizedProps)),x=!x),x&&Er&&fh(m),IA(m),v===13){if(m=m.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));t:{for(m=m.nextSibling,v=0;m;){if(m.nodeType===8)if(x=m.data,x==="/$"){if(v===0){Er=Qo(m.nextSibling);break t}v--}else x!=="$"&&x!=="$!"&&x!=="$?"||v++;m=m.nextSibling}Er=null}}else v===27?(v=Er,Iu(m.type)?(m=s6,s6=null,Er=m):Er=v):Er=es?Qo(m.stateNode.nextSibling):null;return!0}function g1(){Er=es=null,Ti=!1}function DA(){var m=hh;return m!==null&&(gs===null?gs=m:gs.push.apply(gs,m),hh=null),m}function v1(m){hh===null?hh=[m]:hh.push(m)}var U9=Ft(null),dh=null,wl=null;function wu(m,v,x){Vt(U9,v._currentValue),v._currentValue=x}function _l(m){m._currentValue=U9.current,Kt(U9)}function F9(m,v,x){for(;m!==null;){var O=m.alternate;if((m.childLanes&v)!==v?(m.childLanes|=v,O!==null&&(O.childLanes|=v)):O!==null&&(O.childLanes&v)!==v&&(O.childLanes|=v),m===x)break;m=m.return}}function B9(m,v,x,O){var L=m.child;for(L!==null&&(L.return=m);L!==null;){var U=L.dependencies;if(U!==null){var Y=L.child;U=U.firstContext;t:for(;U!==null;){var tt=U;U=L;for(var ht=0;ht<v.length;ht++)if(tt.context===v[ht]){U.lanes|=x,tt=U.alternate,tt!==null&&(tt.lanes|=x),F9(U.return,x,m),O||(Y=null);break t}U=tt.next}}else if(L.tag===18){if(Y=L.return,Y===null)throw Error(n(341));Y.lanes|=x,U=Y.alternate,U!==null&&(U.lanes|=x),F9(Y,x,m),Y=null}else Y=L.child;if(Y!==null)Y.return=L;else for(Y=L;Y!==null;){if(Y===m){Y=null;break}if(L=Y.sibling,L!==null){L.return=Y.return,Y=L;break}Y=Y.return}L=Y}}function b1(m,v,x,O){m=null;for(var L=v,U=!1;L!==null;){if(!U){if((L.flags&524288)!==0)U=!0;else if((L.flags&262144)!==0)break}if(L.tag===10){var Y=L.alternate;if(Y===null)throw Error(n(387));if(Y=Y.memoizedProps,Y!==null){var tt=L.type;Us(L.pendingProps.value,Y.value)||(m!==null?m.push(tt):m=[tt])}}else if(L===je.current){if(Y=L.alternate,Y===null)throw Error(n(387));Y.memoizedState.memoizedState!==L.memoizedState.memoizedState&&(m!==null?m.push(J1):m=[J1])}L=L.return}m!==null&&B9(v,m,x,O),v.flags|=262144}function Nv(m){for(m=m.firstContext;m!==null;){if(!Us(m.context._currentValue,m.memoizedValue))return!0;m=m.next}return!1}function ph(m){dh=m,wl=null,m=m.dependencies,m!==null&&(m.firstContext=null)}function Dn(m){return LA(dh,m)}function kv(m,v){return dh===null&&ph(m),LA(m,v)}function LA(m,v){var x=v._currentValue;if(v={context:v,memoizedValue:x,next:null},wl===null){if(m===null)throw Error(n(308));wl=v,m.dependencies={lanes:0,firstContext:v},m.flags|=524288}else wl=wl.next=v;return x}var fK=typeof AbortController<"u"?AbortController:function(){var m=[],v=this.signal={aborted:!1,addEventListener:function(x,O){m.push(O)}};this.abort=function(){v.aborted=!0,m.forEach(function(x){return x()})}},dK=t.unstable_scheduleCallback,pK=t.unstable_NormalPriority,Zr={$$typeof:rt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function G9(){return{controller:new fK,data:new Map,refCount:0}}function w1(m){m.refCount--,m.refCount===0&&dK(pK,function(){m.controller.abort()})}var _1=null,q9=0,hd=0,fd=null;function yK(m,v){if(_1===null){var x=_1=[];q9=0,hd=V4(),fd={status:"pending",value:void 0,then:function(O){x.push(O)}}}return q9++,v.then(jA,jA),v}function jA(){if(--q9===0&&_1!==null){fd!==null&&(fd.status="fulfilled");var m=_1;_1=null,hd=0,fd=null;for(var v=0;v<m.length;v++)(0,m[v])()}}function mK(m,v){var x=[],O={status:"pending",value:null,reason:null,then:function(L){x.push(L)}};return m.then(function(){O.status="fulfilled",O.value=v;for(var L=0;L<x.length;L++)(0,x[L])(v)},function(L){for(O.status="rejected",O.reason=L,L=0;L<x.length;L++)(0,x[L])(void 0)}),O}var zA=_t.S;_t.S=function(m,v){typeof v=="object"&&v!==null&&typeof v.then=="function"&&yK(m,v),zA!==null&&zA(m,v)};var yh=Ft(null);function H9(){var m=yh.current;return m!==null?m:Ki.pooledCache}function Pv(m,v){v===null?Vt(yh,yh.current):Vt(yh,v.pool)}function UA(){var m=H9();return m===null?null:{parent:Zr._currentValue,pool:m}}var S1=Error(n(460)),FA=Error(n(474)),Iv=Error(n(542)),V9={then:function(){}};function BA(m){return m=m.status,m==="fulfilled"||m==="rejected"}function Dv(){}function GA(m,v,x){switch(x=m[x],x===void 0?m.push(v):x!==v&&(v.then(Dv,Dv),v=x),v.status){case"fulfilled":return v.value;case"rejected":throw m=v.reason,HA(m),m;default:if(typeof v.status=="string")v.then(Dv,Dv);else{if(m=Ki,m!==null&&100<m.shellSuspendCounter)throw Error(n(482));m=v,m.status="pending",m.then(function(O){if(v.status==="pending"){var L=v;L.status="fulfilled",L.value=O}},function(O){if(v.status==="pending"){var L=v;L.status="rejected",L.reason=O}})}switch(v.status){case"fulfilled":return v.value;case"rejected":throw m=v.reason,HA(m),m}throw x1=v,S1}}var x1=null;function qA(){if(x1===null)throw Error(n(459));var m=x1;return x1=null,m}function HA(m){if(m===S1||m===Iv)throw Error(n(483))}var _u=!1;function W9(m){m.updateQueue={baseState:m.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function J9(m,v){m=m.updateQueue,v.updateQueue===m&&(v.updateQueue={baseState:m.baseState,firstBaseUpdate:m.firstBaseUpdate,lastBaseUpdate:m.lastBaseUpdate,shared:m.shared,callbacks:null})}function Su(m){return{lane:m,tag:0,payload:null,callback:null,next:null}}function xu(m,v,x){var O=m.updateQueue;if(O===null)return null;if(O=O.shared,(Ni&2)!==0){var L=O.pending;return L===null?v.next=v:(v.next=L.next,L.next=v),O.pending=v,v=Rv(m),$A(m,null,x),v}return Av(m,O,v,x),Rv(m)}function T1(m,v,x){if(v=v.updateQueue,v!==null&&(v=v.shared,(x&4194048)!==0)){var O=v.lanes;O&=m.pendingLanes,x|=O,v.lanes=x,R(m,x)}}function Y9(m,v){var x=m.updateQueue,O=m.alternate;if(O!==null&&(O=O.updateQueue,x===O)){var L=null,U=null;if(x=x.firstBaseUpdate,x!==null){do{var Y={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};U===null?L=U=Y:U=U.next=Y,x=x.next}while(x!==null);U===null?L=U=v:U=U.next=v}else L=U=v;x={baseState:O.baseState,firstBaseUpdate:L,lastBaseUpdate:U,shared:O.shared,callbacks:O.callbacks},m.updateQueue=x;return}m=x.lastBaseUpdate,m===null?x.firstBaseUpdate=v:m.next=v,x.lastBaseUpdate=v}var K9=!1;function E1(){if(K9){var m=fd;if(m!==null)throw m}}function M1(m,v,x,O){K9=!1;var L=m.updateQueue;_u=!1;var U=L.firstBaseUpdate,Y=L.lastBaseUpdate,tt=L.shared.pending;if(tt!==null){L.shared.pending=null;var ht=tt,Mt=ht.next;ht.next=null,Y===null?U=Mt:Y.next=Mt,Y=ht;var jt=m.alternate;jt!==null&&(jt=jt.updateQueue,tt=jt.lastBaseUpdate,tt!==Y&&(tt===null?jt.firstBaseUpdate=Mt:tt.next=Mt,jt.lastBaseUpdate=ht))}if(U!==null){var qt=L.baseState;Y=0,jt=Mt=ht=null,tt=U;do{var At=tt.lane&-536870913,Ot=At!==tt.lane;if(Ot?(hi&At)===At:(O&At)===At){At!==0&&At===hd&&(K9=!0),jt!==null&&(jt=jt.next={lane:0,tag:tt.tag,payload:tt.payload,callback:null,next:null});t:{var De=m,$e=tt;At=v;var Ui=x;switch($e.tag){case 1:if(De=$e.payload,typeof De=="function"){qt=De.call(Ui,qt,At);break t}qt=De;break t;case 3:De.flags=De.flags&-65537|128;case 0:if(De=$e.payload,At=typeof De=="function"?De.call(Ui,qt,At):De,At==null)break t;qt=C({},qt,At);break t;case 2:_u=!0}}At=tt.callback,At!==null&&(m.flags|=64,Ot&&(m.flags|=8192),Ot=L.callbacks,Ot===null?L.callbacks=[At]:Ot.push(At))}else Ot={lane:At,tag:tt.tag,payload:tt.payload,callback:tt.callback,next:null},jt===null?(Mt=jt=Ot,ht=qt):jt=jt.next=Ot,Y|=At;if(tt=tt.next,tt===null){if(tt=L.shared.pending,tt===null)break;Ot=tt,tt=Ot.next,Ot.next=null,L.lastBaseUpdate=Ot,L.shared.pending=null}}while(!0);jt===null&&(ht=qt),L.baseState=ht,L.firstBaseUpdate=Mt,L.lastBaseUpdate=jt,U===null&&(L.shared.lanes=0),$u|=Y,m.lanes=Y,m.memoizedState=qt}}function VA(m,v){if(typeof m!="function")throw Error(n(191,m));m.call(v)}function WA(m,v){var x=m.callbacks;if(x!==null)for(m.callbacks=null,m=0;m<x.length;m++)VA(x[m],v)}var dd=Ft(null),Lv=Ft(0);function JA(m,v){m=Rl,Vt(Lv,m),Vt(dd,v),Rl=m|v.baseLanes}function X9(){Vt(Lv,Rl),Vt(dd,dd.current)}function Z9(){Rl=Lv.current,Kt(dd),Kt(Lv)}var Tu=0,ti=null,ji=null,Vr=null,jv=!1,pd=!1,mh=!1,zv=0,A1=0,yd=null,gK=0;function Lr(){throw Error(n(321))}function Q9(m,v){if(v===null)return!1;for(var x=0;x<v.length&&x<m.length;x++)if(!Us(m[x],v[x]))return!1;return!0}function t4(m,v,x,O,L,U){return Tu=U,ti=v,v.memoizedState=null,v.updateQueue=null,v.lanes=0,_t.H=m===null||m.memoizedState===null?$R:NR,mh=!1,U=x(O,L),mh=!1,pd&&(U=KA(v,x,O,L)),YA(m),U}function YA(m){_t.H=Hv;var v=ji!==null&&ji.next!==null;if(Tu=0,Vr=ji=ti=null,jv=!1,A1=0,yd=null,v)throw Error(n(300));m===null||cn||(m=m.dependencies,m!==null&&Nv(m)&&(cn=!0))}function KA(m,v,x,O){ti=m;var L=0;do{if(pd&&(yd=null),A1=0,pd=!1,25<=L)throw Error(n(301));if(L+=1,Vr=ji=null,m.updateQueue!=null){var U=m.updateQueue;U.lastEffect=null,U.events=null,U.stores=null,U.memoCache!=null&&(U.memoCache.index=0)}_t.H=TK,U=v(x,O)}while(pd);return U}function vK(){var m=_t.H,v=m.useState()[0];return v=typeof v.then=="function"?R1(v):v,m=m.useState()[0],(ji!==null?ji.memoizedState:null)!==m&&(ti.flags|=1024),v}function e4(){var m=zv!==0;return zv=0,m}function i4(m,v,x){v.updateQueue=m.updateQueue,v.flags&=-2053,m.lanes&=~x}function r4(m){if(jv){for(m=m.memoizedState;m!==null;){var v=m.queue;v!==null&&(v.pending=null),m=m.next}jv=!1}Tu=0,Vr=ji=ti=null,pd=!1,A1=zv=0,yd=null}function ys(){var m={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vr===null?ti.memoizedState=Vr=m:Vr=Vr.next=m,Vr}function Wr(){if(ji===null){var m=ti.alternate;m=m!==null?m.memoizedState:null}else m=ji.next;var v=Vr===null?ti.memoizedState:Vr.next;if(v!==null)Vr=v,ji=m;else{if(m===null)throw ti.alternate===null?Error(n(467)):Error(n(310));ji=m,m={memoizedState:ji.memoizedState,baseState:ji.baseState,baseQueue:ji.baseQueue,queue:ji.queue,next:null},Vr===null?ti.memoizedState=Vr=m:Vr=Vr.next=m}return Vr}function n4(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function R1(m){var v=A1;return A1+=1,yd===null&&(yd=[]),m=GA(yd,m,v),v=ti,(Vr===null?v.memoizedState:Vr.next)===null&&(v=v.alternate,_t.H=v===null||v.memoizedState===null?$R:NR),m}function Uv(m){if(m!==null&&typeof m=="object"){if(typeof m.then=="function")return R1(m);if(m.$$typeof===rt)return Dn(m)}throw Error(n(438,String(m)))}function s4(m){var v=null,x=ti.updateQueue;if(x!==null&&(v=x.memoCache),v==null){var O=ti.alternate;O!==null&&(O=O.updateQueue,O!==null&&(O=O.memoCache,O!=null&&(v={data:O.data.map(function(L){return L.slice()}),index:0})))}if(v==null&&(v={data:[],index:0}),x===null&&(x=n4(),ti.updateQueue=x),x.memoCache=v,x=v.data[v.index],x===void 0)for(x=v.data[v.index]=Array(m),O=0;O<m;O++)x[O]=Ct;return v.index++,x}function Sl(m,v){return typeof v=="function"?v(m):v}function Fv(m){var v=Wr();return o4(v,ji,m)}function o4(m,v,x){var O=m.queue;if(O===null)throw Error(n(311));O.lastRenderedReducer=x;var L=m.baseQueue,U=O.pending;if(U!==null){if(L!==null){var Y=L.next;L.next=U.next,U.next=Y}v.baseQueue=L=U,O.pending=null}if(U=m.baseState,L===null)m.memoizedState=U;else{v=L.next;var tt=Y=null,ht=null,Mt=v,jt=!1;do{var qt=Mt.lane&-536870913;if(qt!==Mt.lane?(hi&qt)===qt:(Tu&qt)===qt){var At=Mt.revertLane;if(At===0)ht!==null&&(ht=ht.next={lane:0,revertLane:0,action:Mt.action,hasEagerState:Mt.hasEagerState,eagerState:Mt.eagerState,next:null}),qt===hd&&(jt=!0);else if((Tu&At)===At){Mt=Mt.next,At===hd&&(jt=!0);continue}else qt={lane:0,revertLane:Mt.revertLane,action:Mt.action,hasEagerState:Mt.hasEagerState,eagerState:Mt.eagerState,next:null},ht===null?(tt=ht=qt,Y=U):ht=ht.next=qt,ti.lanes|=At,$u|=At;qt=Mt.action,mh&&x(U,qt),U=Mt.hasEagerState?Mt.eagerState:x(U,qt)}else At={lane:qt,revertLane:Mt.revertLane,action:Mt.action,hasEagerState:Mt.hasEagerState,eagerState:Mt.eagerState,next:null},ht===null?(tt=ht=At,Y=U):ht=ht.next=At,ti.lanes|=qt,$u|=qt;Mt=Mt.next}while(Mt!==null&&Mt!==v);if(ht===null?Y=U:ht.next=tt,!Us(U,m.memoizedState)&&(cn=!0,jt&&(x=fd,x!==null)))throw x;m.memoizedState=U,m.baseState=Y,m.baseQueue=ht,O.lastRenderedState=U}return L===null&&(O.lanes=0),[m.memoizedState,O.dispatch]}function a4(m){var v=Wr(),x=v.queue;if(x===null)throw Error(n(311));x.lastRenderedReducer=m;var O=x.dispatch,L=x.pending,U=v.memoizedState;if(L!==null){x.pending=null;var Y=L=L.next;do U=m(U,Y.action),Y=Y.next;while(Y!==L);Us(U,v.memoizedState)||(cn=!0),v.memoizedState=U,v.baseQueue===null&&(v.baseState=U),x.lastRenderedState=U}return[U,O]}function XA(m,v,x){var O=ti,L=Wr(),U=Ti;if(U){if(x===void 0)throw Error(n(407));x=x()}else x=v();var Y=!Us((ji||L).memoizedState,x);Y&&(L.memoizedState=x,cn=!0),L=L.queue;var tt=tR.bind(null,O,L,m);if(C1(2048,8,tt,[m]),L.getSnapshot!==v||Y||Vr!==null&&Vr.memoizedState.tag&1){if(O.flags|=2048,md(9,Bv(),QA.bind(null,O,L,x,v),null),Ki===null)throw Error(n(349));U||(Tu&124)!==0||ZA(O,v,x)}return x}function ZA(m,v,x){m.flags|=16384,m={getSnapshot:v,value:x},v=ti.updateQueue,v===null?(v=n4(),ti.updateQueue=v,v.stores=[m]):(x=v.stores,x===null?v.stores=[m]:x.push(m))}function QA(m,v,x,O){v.value=x,v.getSnapshot=O,eR(v)&&iR(m)}function tR(m,v,x){return x(function(){eR(v)&&iR(m)})}function eR(m){var v=m.getSnapshot;m=m.value;try{var x=v();return!Us(m,x)}catch{return!0}}function iR(m){var v=ad(m,2);v!==null&&Vs(v,m,2)}function l4(m){var v=ys();if(typeof m=="function"){var x=m;if(m=x(),mh){Ri(!0);try{x()}finally{Ri(!1)}}}return v.memoizedState=v.baseState=m,v.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sl,lastRenderedState:m},v}function rR(m,v,x,O){return m.baseState=x,o4(m,ji,typeof O=="function"?O:Sl)}function bK(m,v,x,O,L){if(qv(m))throw Error(n(485));if(m=v.action,m!==null){var U={payload:L,action:m,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Y){U.listeners.push(Y)}};_t.T!==null?x(!0):U.isTransition=!1,O(U),x=v.pending,x===null?(U.next=v.pending=U,nR(v,U)):(U.next=x.next,v.pending=x.next=U)}}function nR(m,v){var x=v.action,O=v.payload,L=m.state;if(v.isTransition){var U=_t.T,Y={};_t.T=Y;try{var tt=x(L,O),ht=_t.S;ht!==null&&ht(Y,tt),sR(m,v,tt)}catch(Mt){u4(m,v,Mt)}finally{_t.T=U}}else try{U=x(L,O),sR(m,v,U)}catch(Mt){u4(m,v,Mt)}}function sR(m,v,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(O){oR(m,v,O)},function(O){return u4(m,v,O)}):oR(m,v,x)}function oR(m,v,x){v.status="fulfilled",v.value=x,aR(v),m.state=x,v=m.pending,v!==null&&(x=v.next,x===v?m.pending=null:(x=x.next,v.next=x,nR(m,x)))}function u4(m,v,x){var O=m.pending;if(m.pending=null,O!==null){O=O.next;do v.status="rejected",v.reason=x,aR(v),v=v.next;while(v!==O)}m.action=null}function aR(m){m=m.listeners;for(var v=0;v<m.length;v++)(0,m[v])()}function lR(m,v){return v}function uR(m,v){if(Ti){var x=Ki.formState;if(x!==null){t:{var O=ti;if(Ti){if(Er){e:{for(var L=Er,U=$a;L.nodeType!==8;){if(!U){L=null;break e}if(L=Qo(L.nextSibling),L===null){L=null;break e}}U=L.data,L=U==="F!"||U==="F"?L:null}if(L){Er=Qo(L.nextSibling),O=L.data==="F!";break t}}fh(O)}O=!1}O&&(v=x[0])}}return x=ys(),x.memoizedState=x.baseState=v,O={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lR,lastRenderedState:v},x.queue=O,x=RR.bind(null,ti,O),O.dispatch=x,O=l4(!1),U=p4.bind(null,ti,!1,O.queue),O=ys(),L={state:v,dispatch:null,action:m,pending:null},O.queue=L,x=bK.bind(null,ti,L,U,x),L.dispatch=x,O.memoizedState=m,[v,x,!1]}function cR(m){var v=Wr();return hR(v,ji,m)}function hR(m,v,x){if(v=o4(m,v,lR)[0],m=Fv(Sl)[0],typeof v=="object"&&v!==null&&typeof v.then=="function")try{var O=R1(v)}catch(Y){throw Y===S1?Iv:Y}else O=v;v=Wr();var L=v.queue,U=L.dispatch;return x!==v.memoizedState&&(ti.flags|=2048,md(9,Bv(),wK.bind(null,L,x),null)),[O,U,m]}function wK(m,v){m.action=v}function fR(m){var v=Wr(),x=ji;if(x!==null)return hR(v,x,m);Wr(),v=v.memoizedState,x=Wr();var O=x.queue.dispatch;return x.memoizedState=m,[v,O,!1]}function md(m,v,x,O){return m={tag:m,create:x,deps:O,inst:v,next:null},v=ti.updateQueue,v===null&&(v=n4(),ti.updateQueue=v),x=v.lastEffect,x===null?v.lastEffect=m.next=m:(O=x.next,x.next=m,m.next=O,v.lastEffect=m),m}function Bv(){return{destroy:void 0,resource:void 0}}function dR(){return Wr().memoizedState}function Gv(m,v,x,O){var L=ys();O=O===void 0?null:O,ti.flags|=m,L.memoizedState=md(1|v,Bv(),x,O)}function C1(m,v,x,O){var L=Wr();O=O===void 0?null:O;var U=L.memoizedState.inst;ji!==null&&O!==null&&Q9(O,ji.memoizedState.deps)?L.memoizedState=md(v,U,x,O):(ti.flags|=m,L.memoizedState=md(1|v,U,x,O))}function pR(m,v){Gv(8390656,8,m,v)}function yR(m,v){C1(2048,8,m,v)}function mR(m,v){return C1(4,2,m,v)}function gR(m,v){return C1(4,4,m,v)}function vR(m,v){if(typeof v=="function"){m=m();var x=v(m);return function(){typeof x=="function"?x():v(null)}}if(v!=null)return m=m(),v.current=m,function(){v.current=null}}function bR(m,v,x){x=x!=null?x.concat([m]):null,C1(4,4,vR.bind(null,v,m),x)}function c4(){}function wR(m,v){var x=Wr();v=v===void 0?null:v;var O=x.memoizedState;return v!==null&&Q9(v,O[1])?O[0]:(x.memoizedState=[m,v],m)}function _R(m,v){var x=Wr();v=v===void 0?null:v;var O=x.memoizedState;if(v!==null&&Q9(v,O[1]))return O[0];if(O=m(),mh){Ri(!0);try{m()}finally{Ri(!1)}}return x.memoizedState=[O,v],O}function h4(m,v,x){return x===void 0||(Tu&1073741824)!==0?m.memoizedState=v:(m.memoizedState=x,m=TC(),ti.lanes|=m,$u|=m,x)}function SR(m,v,x,O){return Us(x,v)?x:dd.current!==null?(m=h4(m,x,O),Us(m,v)||(cn=!0),m):(Tu&42)===0?(cn=!0,m.memoizedState=x):(m=TC(),ti.lanes|=m,$u|=m,v)}function xR(m,v,x,O,L){var U=It.p;It.p=U!==0&&8>U?U:8;var Y=_t.T,tt={};_t.T=tt,p4(m,!1,v,x);try{var ht=L(),Mt=_t.S;if(Mt!==null&&Mt(tt,ht),ht!==null&&typeof ht=="object"&&typeof ht.then=="function"){var jt=mK(ht,O);O1(m,v,jt,Hs(m))}else O1(m,v,O,Hs(m))}catch(qt){O1(m,v,{then:function(){},status:"rejected",reason:qt},Hs())}finally{It.p=U,_t.T=Y}}function _K(){}function f4(m,v,x,O){if(m.tag!==5)throw Error(n(476));var L=TR(m).queue;xR(m,L,v,$t,x===null?_K:function(){return ER(m),x(O)})}function TR(m){var v=m.memoizedState;if(v!==null)return v;v={memoizedState:$t,baseState:$t,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sl,lastRenderedState:$t},next:null};var x={};return v.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sl,lastRenderedState:x},next:null},m.memoizedState=v,m=m.alternate,m!==null&&(m.memoizedState=v),v}function ER(m){var v=TR(m).next.queue;O1(m,v,{},Hs())}function d4(){return Dn(J1)}function MR(){return Wr().memoizedState}function AR(){return Wr().memoizedState}function SK(m){for(var v=m.return;v!==null;){switch(v.tag){case 24:case 3:var x=Hs();m=Su(x);var O=xu(v,m,x);O!==null&&(Vs(O,v,x),T1(O,v,x)),v={cache:G9()},m.payload=v;return}v=v.return}}function xK(m,v,x){var O=Hs();x={lane:O,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null},qv(m)?CR(v,x):(x=k9(m,v,x,O),x!==null&&(Vs(x,m,O),OR(x,v,O)))}function RR(m,v,x){var O=Hs();O1(m,v,x,O)}function O1(m,v,x,O){var L={lane:O,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null};if(qv(m))CR(v,L);else{var U=m.alternate;if(m.lanes===0&&(U===null||U.lanes===0)&&(U=v.lastRenderedReducer,U!==null))try{var Y=v.lastRenderedState,tt=U(Y,x);if(L.hasEagerState=!0,L.eagerState=tt,Us(tt,Y))return Av(m,v,L,0),Ki===null&&Mv(),!1}catch{}finally{}if(x=k9(m,v,L,O),x!==null)return Vs(x,m,O),OR(x,v,O),!0}return!1}function p4(m,v,x,O){if(O={lane:2,revertLane:V4(),action:O,hasEagerState:!1,eagerState:null,next:null},qv(m)){if(v)throw Error(n(479))}else v=k9(m,x,O,2),v!==null&&Vs(v,m,2)}function qv(m){var v=m.alternate;return m===ti||v!==null&&v===ti}function CR(m,v){pd=jv=!0;var x=m.pending;x===null?v.next=v:(v.next=x.next,x.next=v),m.pending=v}function OR(m,v,x){if((x&4194048)!==0){var O=v.lanes;O&=m.pendingLanes,x|=O,v.lanes=x,R(m,x)}}var Hv={readContext:Dn,use:Uv,useCallback:Lr,useContext:Lr,useEffect:Lr,useImperativeHandle:Lr,useLayoutEffect:Lr,useInsertionEffect:Lr,useMemo:Lr,useReducer:Lr,useRef:Lr,useState:Lr,useDebugValue:Lr,useDeferredValue:Lr,useTransition:Lr,useSyncExternalStore:Lr,useId:Lr,useHostTransitionStatus:Lr,useFormState:Lr,useActionState:Lr,useOptimistic:Lr,useMemoCache:Lr,useCacheRefresh:Lr},$R={readContext:Dn,use:Uv,useCallback:function(m,v){return ys().memoizedState=[m,v===void 0?null:v],m},useContext:Dn,useEffect:pR,useImperativeHandle:function(m,v,x){x=x!=null?x.concat([m]):null,Gv(4194308,4,vR.bind(null,v,m),x)},useLayoutEffect:function(m,v){return Gv(4194308,4,m,v)},useInsertionEffect:function(m,v){Gv(4,2,m,v)},useMemo:function(m,v){var x=ys();v=v===void 0?null:v;var O=m();if(mh){Ri(!0);try{m()}finally{Ri(!1)}}return x.memoizedState=[O,v],O},useReducer:function(m,v,x){var O=ys();if(x!==void 0){var L=x(v);if(mh){Ri(!0);try{x(v)}finally{Ri(!1)}}}else L=v;return O.memoizedState=O.baseState=L,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:m,lastRenderedState:L},O.queue=m,m=m.dispatch=xK.bind(null,ti,m),[O.memoizedState,m]},useRef:function(m){var v=ys();return m={current:m},v.memoizedState=m},useState:function(m){m=l4(m);var v=m.queue,x=RR.bind(null,ti,v);return v.dispatch=x,[m.memoizedState,x]},useDebugValue:c4,useDeferredValue:function(m,v){var x=ys();return h4(x,m,v)},useTransition:function(){var m=l4(!1);return m=xR.bind(null,ti,m.queue,!0,!1),ys().memoizedState=m,[!1,m]},useSyncExternalStore:function(m,v,x){var O=ti,L=ys();if(Ti){if(x===void 0)throw Error(n(407));x=x()}else{if(x=v(),Ki===null)throw Error(n(349));(hi&124)!==0||ZA(O,v,x)}L.memoizedState=x;var U={value:x,getSnapshot:v};return L.queue=U,pR(tR.bind(null,O,U,m),[m]),O.flags|=2048,md(9,Bv(),QA.bind(null,O,U,x,v),null),x},useId:function(){var m=ys(),v=Ki.identifierPrefix;if(Ti){var x=bl,O=vl;x=(O&~(1<<32-Gt(O)-1)).toString(32)+x,v=""+v+"R"+x,x=zv++,0<x&&(v+="H"+x.toString(32)),v+=""}else x=gK++,v=""+v+"r"+x.toString(32)+"";return m.memoizedState=v},useHostTransitionStatus:d4,useFormState:uR,useActionState:uR,useOptimistic:function(m){var v=ys();v.memoizedState=v.baseState=m;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return v.queue=x,v=p4.bind(null,ti,!0,x),x.dispatch=v,[m,v]},useMemoCache:s4,useCacheRefresh:function(){return ys().memoizedState=SK.bind(null,ti)}},NR={readContext:Dn,use:Uv,useCallback:wR,useContext:Dn,useEffect:yR,useImperativeHandle:bR,useInsertionEffect:mR,useLayoutEffect:gR,useMemo:_R,useReducer:Fv,useRef:dR,useState:function(){return Fv(Sl)},useDebugValue:c4,useDeferredValue:function(m,v){var x=Wr();return SR(x,ji.memoizedState,m,v)},useTransition:function(){var m=Fv(Sl)[0],v=Wr().memoizedState;return[typeof m=="boolean"?m:R1(m),v]},useSyncExternalStore:XA,useId:MR,useHostTransitionStatus:d4,useFormState:cR,useActionState:cR,useOptimistic:function(m,v){var x=Wr();return rR(x,ji,m,v)},useMemoCache:s4,useCacheRefresh:AR},TK={readContext:Dn,use:Uv,useCallback:wR,useContext:Dn,useEffect:yR,useImperativeHandle:bR,useInsertionEffect:mR,useLayoutEffect:gR,useMemo:_R,useReducer:a4,useRef:dR,useState:function(){return a4(Sl)},useDebugValue:c4,useDeferredValue:function(m,v){var x=Wr();return ji===null?h4(x,m,v):SR(x,ji.memoizedState,m,v)},useTransition:function(){var m=a4(Sl)[0],v=Wr().memoizedState;return[typeof m=="boolean"?m:R1(m),v]},useSyncExternalStore:XA,useId:MR,useHostTransitionStatus:d4,useFormState:fR,useActionState:fR,useOptimistic:function(m,v){var x=Wr();return ji!==null?rR(x,ji,m,v):(x.baseState=m,[m,x.queue.dispatch])},useMemoCache:s4,useCacheRefresh:AR},gd=null,$1=0;function Vv(m){var v=$1;return $1+=1,gd===null&&(gd=[]),GA(gd,m,v)}function N1(m,v){v=v.props.ref,m.ref=v!==void 0?v:null}function Wv(m,v){throw v.$$typeof===k?Error(n(525)):(m=Object.prototype.toString.call(v),Error(n(31,m==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":m)))}function kR(m){var v=m._init;return v(m._payload)}function PR(m){function v(wt,gt){if(m){var Et=wt.deletions;Et===null?(wt.deletions=[gt],wt.flags|=16):Et.push(gt)}}function x(wt,gt){if(!m)return null;for(;gt!==null;)v(wt,gt),gt=gt.sibling;return null}function O(wt){for(var gt=new Map;wt!==null;)wt.key!==null?gt.set(wt.key,wt):gt.set(wt.index,wt),wt=wt.sibling;return gt}function L(wt,gt){return wt=gl(wt,gt),wt.index=0,wt.sibling=null,wt}function U(wt,gt,Et){return wt.index=Et,m?(Et=wt.alternate,Et!==null?(Et=Et.index,Et<gt?(wt.flags|=67108866,gt):Et):(wt.flags|=67108866,gt)):(wt.flags|=1048576,gt)}function Y(wt){return m&&wt.alternate===null&&(wt.flags|=67108866),wt}function tt(wt,gt,Et,Bt){return gt===null||gt.tag!==6?(gt=I9(Et,wt.mode,Bt),gt.return=wt,gt):(gt=L(gt,Et),gt.return=wt,gt)}function ht(wt,gt,Et,Bt){var de=Et.type;return de===G?jt(wt,gt,Et.props.children,Bt,Et.key):gt!==null&&(gt.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===ft&&kR(de)===gt.type)?(gt=L(gt,Et.props),N1(gt,Et),gt.return=wt,gt):(gt=Cv(Et.type,Et.key,Et.props,null,wt.mode,Bt),N1(gt,Et),gt.return=wt,gt)}function Mt(wt,gt,Et,Bt){return gt===null||gt.tag!==4||gt.stateNode.containerInfo!==Et.containerInfo||gt.stateNode.implementation!==Et.implementation?(gt=D9(Et,wt.mode,Bt),gt.return=wt,gt):(gt=L(gt,Et.children||[]),gt.return=wt,gt)}function jt(wt,gt,Et,Bt,de){return gt===null||gt.tag!==7?(gt=lh(Et,wt.mode,Bt,de),gt.return=wt,gt):(gt=L(gt,Et),gt.return=wt,gt)}function qt(wt,gt,Et){if(typeof gt=="string"&&gt!==""||typeof gt=="number"||typeof gt=="bigint")return gt=I9(""+gt,wt.mode,Et),gt.return=wt,gt;if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case D:return Et=Cv(gt.type,gt.key,gt.props,null,wt.mode,Et),N1(Et,gt),Et.return=wt,Et;case z:return gt=D9(gt,wt.mode,Et),gt.return=wt,gt;case ft:var Bt=gt._init;return gt=Bt(gt._payload),qt(wt,gt,Et)}if(re(gt)||zt(gt))return gt=lh(gt,wt.mode,Et,null),gt.return=wt,gt;if(typeof gt.then=="function")return qt(wt,Vv(gt),Et);if(gt.$$typeof===rt)return qt(wt,kv(wt,gt),Et);Wv(wt,gt)}return null}function At(wt,gt,Et,Bt){var de=gt!==null?gt.key:null;if(typeof Et=="string"&&Et!==""||typeof Et=="number"||typeof Et=="bigint")return de!==null?null:tt(wt,gt,""+Et,Bt);if(typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case D:return Et.key===de?ht(wt,gt,Et,Bt):null;case z:return Et.key===de?Mt(wt,gt,Et,Bt):null;case ft:return de=Et._init,Et=de(Et._payload),At(wt,gt,Et,Bt)}if(re(Et)||zt(Et))return de!==null?null:jt(wt,gt,Et,Bt,null);if(typeof Et.then=="function")return At(wt,gt,Vv(Et),Bt);if(Et.$$typeof===rt)return At(wt,gt,kv(wt,Et),Bt);Wv(wt,Et)}return null}function Ot(wt,gt,Et,Bt,de){if(typeof Bt=="string"&&Bt!==""||typeof Bt=="number"||typeof Bt=="bigint")return wt=wt.get(Et)||null,tt(gt,wt,""+Bt,de);if(typeof Bt=="object"&&Bt!==null){switch(Bt.$$typeof){case D:return wt=wt.get(Bt.key===null?Et:Bt.key)||null,ht(gt,wt,Bt,de);case z:return wt=wt.get(Bt.key===null?Et:Bt.key)||null,Mt(gt,wt,Bt,de);case ft:var ii=Bt._init;return Bt=ii(Bt._payload),Ot(wt,gt,Et,Bt,de)}if(re(Bt)||zt(Bt))return wt=wt.get(Et)||null,jt(gt,wt,Bt,de,null);if(typeof Bt.then=="function")return Ot(wt,gt,Et,Vv(Bt),de);if(Bt.$$typeof===rt)return Ot(wt,gt,Et,kv(gt,Bt),de);Wv(gt,Bt)}return null}function De(wt,gt,Et,Bt){for(var de=null,ii=null,Ee=gt,ke=gt=0,fn=null;Ee!==null&&ke<Et.length;ke++){Ee.index>ke?(fn=Ee,Ee=null):fn=Ee.sibling;var wi=At(wt,Ee,Et[ke],Bt);if(wi===null){Ee===null&&(Ee=fn);break}m&&Ee&&wi.alternate===null&&v(wt,Ee),gt=U(wi,gt,ke),ii===null?de=wi:ii.sibling=wi,ii=wi,Ee=fn}if(ke===Et.length)return x(wt,Ee),Ti&&ch(wt,ke),de;if(Ee===null){for(;ke<Et.length;ke++)Ee=qt(wt,Et[ke],Bt),Ee!==null&&(gt=U(Ee,gt,ke),ii===null?de=Ee:ii.sibling=Ee,ii=Ee);return Ti&&ch(wt,ke),de}for(Ee=O(Ee);ke<Et.length;ke++)fn=Ot(Ee,wt,ke,Et[ke],Bt),fn!==null&&(m&&fn.alternate!==null&&Ee.delete(fn.key===null?ke:fn.key),gt=U(fn,gt,ke),ii===null?de=fn:ii.sibling=fn,ii=fn);return m&&Ee.forEach(function(Uu){return v(wt,Uu)}),Ti&&ch(wt,ke),de}function $e(wt,gt,Et,Bt){if(Et==null)throw Error(n(151));for(var de=null,ii=null,Ee=gt,ke=gt=0,fn=null,wi=Et.next();Ee!==null&&!wi.done;ke++,wi=Et.next()){Ee.index>ke?(fn=Ee,Ee=null):fn=Ee.sibling;var Uu=At(wt,Ee,wi.value,Bt);if(Uu===null){Ee===null&&(Ee=fn);break}m&&Ee&&Uu.alternate===null&&v(wt,Ee),gt=U(Uu,gt,ke),ii===null?de=Uu:ii.sibling=Uu,ii=Uu,Ee=fn}if(wi.done)return x(wt,Ee),Ti&&ch(wt,ke),de;if(Ee===null){for(;!wi.done;ke++,wi=Et.next())wi=qt(wt,wi.value,Bt),wi!==null&&(gt=U(wi,gt,ke),ii===null?de=wi:ii.sibling=wi,ii=wi);return Ti&&ch(wt,ke),de}for(Ee=O(Ee);!wi.done;ke++,wi=Et.next())wi=Ot(Ee,wt,ke,wi.value,Bt),wi!==null&&(m&&wi.alternate!==null&&Ee.delete(wi.key===null?ke:wi.key),gt=U(wi,gt,ke),ii===null?de=wi:ii.sibling=wi,ii=wi);return m&&Ee.forEach(function(EX){return v(wt,EX)}),Ti&&ch(wt,ke),de}function Ui(wt,gt,Et,Bt){if(typeof Et=="object"&&Et!==null&&Et.type===G&&Et.key===null&&(Et=Et.props.children),typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case D:t:{for(var de=Et.key;gt!==null;){if(gt.key===de){if(de=Et.type,de===G){if(gt.tag===7){x(wt,gt.sibling),Bt=L(gt,Et.props.children),Bt.return=wt,wt=Bt;break t}}else if(gt.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===ft&&kR(de)===gt.type){x(wt,gt.sibling),Bt=L(gt,Et.props),N1(Bt,Et),Bt.return=wt,wt=Bt;break t}x(wt,gt);break}else v(wt,gt);gt=gt.sibling}Et.type===G?(Bt=lh(Et.props.children,wt.mode,Bt,Et.key),Bt.return=wt,wt=Bt):(Bt=Cv(Et.type,Et.key,Et.props,null,wt.mode,Bt),N1(Bt,Et),Bt.return=wt,wt=Bt)}return Y(wt);case z:t:{for(de=Et.key;gt!==null;){if(gt.key===de)if(gt.tag===4&&gt.stateNode.containerInfo===Et.containerInfo&&gt.stateNode.implementation===Et.implementation){x(wt,gt.sibling),Bt=L(gt,Et.children||[]),Bt.return=wt,wt=Bt;break t}else{x(wt,gt);break}else v(wt,gt);gt=gt.sibling}Bt=D9(Et,wt.mode,Bt),Bt.return=wt,wt=Bt}return Y(wt);case ft:return de=Et._init,Et=de(Et._payload),Ui(wt,gt,Et,Bt)}if(re(Et))return De(wt,gt,Et,Bt);if(zt(Et)){if(de=zt(Et),typeof de!="function")throw Error(n(150));return Et=de.call(Et),$e(wt,gt,Et,Bt)}if(typeof Et.then=="function")return Ui(wt,gt,Vv(Et),Bt);if(Et.$$typeof===rt)return Ui(wt,gt,kv(wt,Et),Bt);Wv(wt,Et)}return typeof Et=="string"&&Et!==""||typeof Et=="number"||typeof Et=="bigint"?(Et=""+Et,gt!==null&&gt.tag===6?(x(wt,gt.sibling),Bt=L(gt,Et),Bt.return=wt,wt=Bt):(x(wt,gt),Bt=I9(Et,wt.mode,Bt),Bt.return=wt,wt=Bt),Y(wt)):x(wt,gt)}return function(wt,gt,Et,Bt){try{$1=0;var de=Ui(wt,gt,Et,Bt);return gd=null,de}catch(Ee){if(Ee===S1||Ee===Iv)throw Ee;var ii=Fs(29,Ee,null,wt.mode);return ii.lanes=Bt,ii.return=wt,ii}finally{}}}var vd=PR(!0),IR=PR(!1),mo=Ft(null),Na=null;function Eu(m){var v=m.alternate;Vt(Qr,Qr.current&1),Vt(mo,m),Na===null&&(v===null||dd.current!==null||v.memoizedState!==null)&&(Na=m)}function DR(m){if(m.tag===22){if(Vt(Qr,Qr.current),Vt(mo,m),Na===null){var v=m.alternate;v!==null&&v.memoizedState!==null&&(Na=m)}}else Mu()}function Mu(){Vt(Qr,Qr.current),Vt(mo,mo.current)}function xl(m){Kt(mo),Na===m&&(Na=null),Kt(Qr)}var Qr=Ft(0);function Jv(m){for(var v=m;v!==null;){if(v.tag===13){var x=v.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||n6(x)))return v}else if(v.tag===19&&v.memoizedProps.revealOrder!==void 0){if((v.flags&128)!==0)return v}else if(v.child!==null){v.child.return=v,v=v.child;continue}if(v===m)break;for(;v.sibling===null;){if(v.return===null||v.return===m)return null;v=v.return}v.sibling.return=v.return,v=v.sibling}return null}function y4(m,v,x,O){v=m.memoizedState,x=x(O,v),x=x==null?v:C({},v,x),m.memoizedState=x,m.lanes===0&&(m.updateQueue.baseState=x)}var m4={enqueueSetState:function(m,v,x){m=m._reactInternals;var O=Hs(),L=Su(O);L.payload=v,x!=null&&(L.callback=x),v=xu(m,L,O),v!==null&&(Vs(v,m,O),T1(v,m,O))},enqueueReplaceState:function(m,v,x){m=m._reactInternals;var O=Hs(),L=Su(O);L.tag=1,L.payload=v,x!=null&&(L.callback=x),v=xu(m,L,O),v!==null&&(Vs(v,m,O),T1(v,m,O))},enqueueForceUpdate:function(m,v){m=m._reactInternals;var x=Hs(),O=Su(x);O.tag=2,v!=null&&(O.callback=v),v=xu(m,O,x),v!==null&&(Vs(v,m,x),T1(v,m,x))}};function LR(m,v,x,O,L,U,Y){return m=m.stateNode,typeof m.shouldComponentUpdate=="function"?m.shouldComponentUpdate(O,U,Y):v.prototype&&v.prototype.isPureReactComponent?!p1(x,O)||!p1(L,U):!0}function jR(m,v,x,O){m=v.state,typeof v.componentWillReceiveProps=="function"&&v.componentWillReceiveProps(x,O),typeof v.UNSAFE_componentWillReceiveProps=="function"&&v.UNSAFE_componentWillReceiveProps(x,O),v.state!==m&&m4.enqueueReplaceState(v,v.state,null)}function gh(m,v){var x=v;if("ref"in v){x={};for(var O in v)O!=="ref"&&(x[O]=v[O])}if(m=m.defaultProps){x===v&&(x=C({},x));for(var L in m)x[L]===void 0&&(x[L]=m[L])}return x}var Yv=typeof reportError=="function"?reportError:function(m){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var v=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof m=="object"&&m!==null&&typeof m.message=="string"?String(m.message):String(m),error:m});if(!window.dispatchEvent(v))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",m);return}console.error(m)};function zR(m){Yv(m)}function UR(m){console.error(m)}function FR(m){Yv(m)}function Kv(m,v){try{var x=m.onUncaughtError;x(v.value,{componentStack:v.stack})}catch(O){setTimeout(function(){throw O})}}function BR(m,v,x){try{var O=m.onCaughtError;O(x.value,{componentStack:x.stack,errorBoundary:v.tag===1?v.stateNode:null})}catch(L){setTimeout(function(){throw L})}}function g4(m,v,x){return x=Su(x),x.tag=3,x.payload={element:null},x.callback=function(){Kv(m,v)},x}function GR(m){return m=Su(m),m.tag=3,m}function qR(m,v,x,O){var L=x.type.getDerivedStateFromError;if(typeof L=="function"){var U=O.value;m.payload=function(){return L(U)},m.callback=function(){BR(v,x,O)}}var Y=x.stateNode;Y!==null&&typeof Y.componentDidCatch=="function"&&(m.callback=function(){BR(v,x,O),typeof L!="function"&&(Nu===null?Nu=new Set([this]):Nu.add(this));var tt=O.stack;this.componentDidCatch(O.value,{componentStack:tt!==null?tt:""})})}function EK(m,v,x,O,L){if(x.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){if(v=x.alternate,v!==null&&b1(v,x,L,!0),x=mo.current,x!==null){switch(x.tag){case 13:return Na===null?F4():x.alternate===null&&Mr===0&&(Mr=3),x.flags&=-257,x.flags|=65536,x.lanes=L,O===V9?x.flags|=16384:(v=x.updateQueue,v===null?x.updateQueue=new Set([O]):v.add(O),G4(m,O,L)),!1;case 22:return x.flags|=65536,O===V9?x.flags|=16384:(v=x.updateQueue,v===null?(v={transitions:null,markerInstances:null,retryQueue:new Set([O])},x.updateQueue=v):(x=v.retryQueue,x===null?v.retryQueue=new Set([O]):x.add(O)),G4(m,O,L)),!1}throw Error(n(435,x.tag))}return G4(m,O,L),F4(),!1}if(Ti)return v=mo.current,v!==null?((v.flags&65536)===0&&(v.flags|=256),v.flags|=65536,v.lanes=L,O!==z9&&(m=Error(n(422),{cause:O}),v1(ho(m,x)))):(O!==z9&&(v=Error(n(423),{cause:O}),v1(ho(v,x))),m=m.current.alternate,m.flags|=65536,L&=-L,m.lanes|=L,O=ho(O,x),L=g4(m.stateNode,O,L),Y9(m,L),Mr!==4&&(Mr=2)),!1;var U=Error(n(520),{cause:O});if(U=ho(U,x),z1===null?z1=[U]:z1.push(U),Mr!==4&&(Mr=2),v===null)return!0;O=ho(O,x),x=v;do{switch(x.tag){case 3:return x.flags|=65536,m=L&-L,x.lanes|=m,m=g4(x.stateNode,O,m),Y9(x,m),!1;case 1:if(v=x.type,U=x.stateNode,(x.flags&128)===0&&(typeof v.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(Nu===null||!Nu.has(U))))return x.flags|=65536,L&=-L,x.lanes|=L,L=GR(L),qR(L,m,x,O),Y9(x,L),!1}x=x.return}while(x!==null);return!1}var HR=Error(n(461)),cn=!1;function En(m,v,x,O){v.child=m===null?IR(v,null,x,O):vd(v,m.child,x,O)}function VR(m,v,x,O,L){x=x.render;var U=v.ref;if("ref"in O){var Y={};for(var tt in O)tt!=="ref"&&(Y[tt]=O[tt])}else Y=O;return ph(v),O=t4(m,v,x,Y,U,L),tt=e4(),m!==null&&!cn?(i4(m,v,L),Tl(m,v,L)):(Ti&&tt&&L9(v),v.flags|=1,En(m,v,O,L),v.child)}function WR(m,v,x,O,L){if(m===null){var U=x.type;return typeof U=="function"&&!P9(U)&&U.defaultProps===void 0&&x.compare===null?(v.tag=15,v.type=U,JR(m,v,U,O,L)):(m=Cv(x.type,null,O,v,v.mode,L),m.ref=v.ref,m.return=v,v.child=m)}if(U=m.child,!E4(m,L)){var Y=U.memoizedProps;if(x=x.compare,x=x!==null?x:p1,x(Y,O)&&m.ref===v.ref)return Tl(m,v,L)}return v.flags|=1,m=gl(U,O),m.ref=v.ref,m.return=v,v.child=m}function JR(m,v,x,O,L){if(m!==null){var U=m.memoizedProps;if(p1(U,O)&&m.ref===v.ref)if(cn=!1,v.pendingProps=O=U,E4(m,L))(m.flags&131072)!==0&&(cn=!0);else return v.lanes=m.lanes,Tl(m,v,L)}return v4(m,v,x,O,L)}function YR(m,v,x){var O=v.pendingProps,L=O.children,U=m!==null?m.memoizedState:null;if(O.mode==="hidden"){if((v.flags&128)!==0){if(O=U!==null?U.baseLanes|x:x,m!==null){for(L=v.child=m.child,U=0;L!==null;)U=U|L.lanes|L.childLanes,L=L.sibling;v.childLanes=U&~O}else v.childLanes=0,v.child=null;return KR(m,v,O,x)}if((x&536870912)!==0)v.memoizedState={baseLanes:0,cachePool:null},m!==null&&Pv(v,U!==null?U.cachePool:null),U!==null?JA(v,U):X9(),DR(v);else return v.lanes=v.childLanes=536870912,KR(m,v,U!==null?U.baseLanes|x:x,x)}else U!==null?(Pv(v,U.cachePool),JA(v,U),Mu(),v.memoizedState=null):(m!==null&&Pv(v,null),X9(),Mu());return En(m,v,L,x),v.child}function KR(m,v,x,O){var L=H9();return L=L===null?null:{parent:Zr._currentValue,pool:L},v.memoizedState={baseLanes:x,cachePool:L},m!==null&&Pv(v,null),X9(),DR(v),m!==null&&b1(m,v,O,!0),null}function Xv(m,v){var x=v.ref;if(x===null)m!==null&&m.ref!==null&&(v.flags|=4194816);else{if(typeof x!="function"&&typeof x!="object")throw Error(n(284));(m===null||m.ref!==x)&&(v.flags|=4194816)}}function v4(m,v,x,O,L){return ph(v),x=t4(m,v,x,O,void 0,L),O=e4(),m!==null&&!cn?(i4(m,v,L),Tl(m,v,L)):(Ti&&O&&L9(v),v.flags|=1,En(m,v,x,L),v.child)}function XR(m,v,x,O,L,U){return ph(v),v.updateQueue=null,x=KA(v,O,x,L),YA(m),O=e4(),m!==null&&!cn?(i4(m,v,U),Tl(m,v,U)):(Ti&&O&&L9(v),v.flags|=1,En(m,v,x,U),v.child)}function ZR(m,v,x,O,L){if(ph(v),v.stateNode===null){var U=ld,Y=x.contextType;typeof Y=="object"&&Y!==null&&(U=Dn(Y)),U=new x(O,U),v.memoizedState=U.state!==null&&U.state!==void 0?U.state:null,U.updater=m4,v.stateNode=U,U._reactInternals=v,U=v.stateNode,U.props=O,U.state=v.memoizedState,U.refs={},W9(v),Y=x.contextType,U.context=typeof Y=="object"&&Y!==null?Dn(Y):ld,U.state=v.memoizedState,Y=x.getDerivedStateFromProps,typeof Y=="function"&&(y4(v,x,Y,O),U.state=v.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof U.getSnapshotBeforeUpdate=="function"||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(Y=U.state,typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount(),Y!==U.state&&m4.enqueueReplaceState(U,U.state,null),M1(v,O,U,L),E1(),U.state=v.memoizedState),typeof U.componentDidMount=="function"&&(v.flags|=4194308),O=!0}else if(m===null){U=v.stateNode;var tt=v.memoizedProps,ht=gh(x,tt);U.props=ht;var Mt=U.context,jt=x.contextType;Y=ld,typeof jt=="object"&&jt!==null&&(Y=Dn(jt));var qt=x.getDerivedStateFromProps;jt=typeof qt=="function"||typeof U.getSnapshotBeforeUpdate=="function",tt=v.pendingProps!==tt,jt||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(tt||Mt!==Y)&&jR(v,U,O,Y),_u=!1;var At=v.memoizedState;U.state=At,M1(v,O,U,L),E1(),Mt=v.memoizedState,tt||At!==Mt||_u?(typeof qt=="function"&&(y4(v,x,qt,O),Mt=v.memoizedState),(ht=_u||LR(v,x,ht,O,At,Mt,Y))?(jt||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(v.flags|=4194308)):(typeof U.componentDidMount=="function"&&(v.flags|=4194308),v.memoizedProps=O,v.memoizedState=Mt),U.props=O,U.state=Mt,U.context=Y,O=ht):(typeof U.componentDidMount=="function"&&(v.flags|=4194308),O=!1)}else{U=v.stateNode,J9(m,v),Y=v.memoizedProps,jt=gh(x,Y),U.props=jt,qt=v.pendingProps,At=U.context,Mt=x.contextType,ht=ld,typeof Mt=="object"&&Mt!==null&&(ht=Dn(Mt)),tt=x.getDerivedStateFromProps,(Mt=typeof tt=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(Y!==qt||At!==ht)&&jR(v,U,O,ht),_u=!1,At=v.memoizedState,U.state=At,M1(v,O,U,L),E1();var Ot=v.memoizedState;Y!==qt||At!==Ot||_u||m!==null&&m.dependencies!==null&&Nv(m.dependencies)?(typeof tt=="function"&&(y4(v,x,tt,O),Ot=v.memoizedState),(jt=_u||LR(v,x,jt,O,At,Ot,ht)||m!==null&&m.dependencies!==null&&Nv(m.dependencies))?(Mt||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(O,Ot,ht),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(O,Ot,ht)),typeof U.componentDidUpdate=="function"&&(v.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(v.flags|=1024)):(typeof U.componentDidUpdate!="function"||Y===m.memoizedProps&&At===m.memoizedState||(v.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||Y===m.memoizedProps&&At===m.memoizedState||(v.flags|=1024),v.memoizedProps=O,v.memoizedState=Ot),U.props=O,U.state=Ot,U.context=ht,O=jt):(typeof U.componentDidUpdate!="function"||Y===m.memoizedProps&&At===m.memoizedState||(v.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||Y===m.memoizedProps&&At===m.memoizedState||(v.flags|=1024),O=!1)}return U=O,Xv(m,v),O=(v.flags&128)!==0,U||O?(U=v.stateNode,x=O&&typeof x.getDerivedStateFromError!="function"?null:U.render(),v.flags|=1,m!==null&&O?(v.child=vd(v,m.child,null,L),v.child=vd(v,null,x,L)):En(m,v,x,L),v.memoizedState=U.state,m=v.child):m=Tl(m,v,L),m}function QR(m,v,x,O){return g1(),v.flags|=256,En(m,v,x,O),v.child}var b4={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function w4(m){return{baseLanes:m,cachePool:UA()}}function _4(m,v,x){return m=m!==null?m.childLanes&~x:0,v&&(m|=go),m}function tC(m,v,x){var O=v.pendingProps,L=!1,U=(v.flags&128)!==0,Y;if((Y=U)||(Y=m!==null&&m.memoizedState===null?!1:(Qr.current&2)!==0),Y&&(L=!0,v.flags&=-129),Y=(v.flags&32)!==0,v.flags&=-33,m===null){if(Ti){if(L?Eu(v):Mu(),Ti){var tt=Er,ht;if(ht=tt){t:{for(ht=tt,tt=$a;ht.nodeType!==8;){if(!tt){tt=null;break t}if(ht=Qo(ht.nextSibling),ht===null){tt=null;break t}}tt=ht}tt!==null?(v.memoizedState={dehydrated:tt,treeContext:uh!==null?{id:vl,overflow:bl}:null,retryLane:536870912,hydrationErrors:null},ht=Fs(18,null,null,0),ht.stateNode=tt,ht.return=v,v.child=ht,es=v,Er=null,ht=!0):ht=!1}ht||fh(v)}if(tt=v.memoizedState,tt!==null&&(tt=tt.dehydrated,tt!==null))return n6(tt)?v.lanes=32:v.lanes=536870912,null;xl(v)}return tt=O.children,O=O.fallback,L?(Mu(),L=v.mode,tt=Zv({mode:"hidden",children:tt},L),O=lh(O,L,x,null),tt.return=v,O.return=v,tt.sibling=O,v.child=tt,L=v.child,L.memoizedState=w4(x),L.childLanes=_4(m,Y,x),v.memoizedState=b4,O):(Eu(v),S4(v,tt))}if(ht=m.memoizedState,ht!==null&&(tt=ht.dehydrated,tt!==null)){if(U)v.flags&256?(Eu(v),v.flags&=-257,v=x4(m,v,x)):v.memoizedState!==null?(Mu(),v.child=m.child,v.flags|=128,v=null):(Mu(),L=O.fallback,tt=v.mode,O=Zv({mode:"visible",children:O.children},tt),L=lh(L,tt,x,null),L.flags|=2,O.return=v,L.return=v,O.sibling=L,v.child=O,vd(v,m.child,null,x),O=v.child,O.memoizedState=w4(x),O.childLanes=_4(m,Y,x),v.memoizedState=b4,v=L);else if(Eu(v),n6(tt)){if(Y=tt.nextSibling&&tt.nextSibling.dataset,Y)var Mt=Y.dgst;Y=Mt,O=Error(n(419)),O.stack="",O.digest=Y,v1({value:O,source:null,stack:null}),v=x4(m,v,x)}else if(cn||b1(m,v,x,!1),Y=(x&m.childLanes)!==0,cn||Y){if(Y=Ki,Y!==null&&(O=x&-x,O=(O&42)!==0?1:$(O),O=(O&(Y.suspendedLanes|x))!==0?0:O,O!==0&&O!==ht.retryLane))throw ht.retryLane=O,ad(m,O),Vs(Y,m,O),HR;tt.data==="$?"||F4(),v=x4(m,v,x)}else tt.data==="$?"?(v.flags|=192,v.child=m.child,v=null):(m=ht.treeContext,Er=Qo(tt.nextSibling),es=v,Ti=!0,hh=null,$a=!1,m!==null&&(po[yo++]=vl,po[yo++]=bl,po[yo++]=uh,vl=m.id,bl=m.overflow,uh=v),v=S4(v,O.children),v.flags|=4096);return v}return L?(Mu(),L=O.fallback,tt=v.mode,ht=m.child,Mt=ht.sibling,O=gl(ht,{mode:"hidden",children:O.children}),O.subtreeFlags=ht.subtreeFlags&65011712,Mt!==null?L=gl(Mt,L):(L=lh(L,tt,x,null),L.flags|=2),L.return=v,O.return=v,O.sibling=L,v.child=O,O=L,L=v.child,tt=m.child.memoizedState,tt===null?tt=w4(x):(ht=tt.cachePool,ht!==null?(Mt=Zr._currentValue,ht=ht.parent!==Mt?{parent:Mt,pool:Mt}:ht):ht=UA(),tt={baseLanes:tt.baseLanes|x,cachePool:ht}),L.memoizedState=tt,L.childLanes=_4(m,Y,x),v.memoizedState=b4,O):(Eu(v),x=m.child,m=x.sibling,x=gl(x,{mode:"visible",children:O.children}),x.return=v,x.sibling=null,m!==null&&(Y=v.deletions,Y===null?(v.deletions=[m],v.flags|=16):Y.push(m)),v.child=x,v.memoizedState=null,x)}function S4(m,v){return v=Zv({mode:"visible",children:v},m.mode),v.return=m,m.child=v}function Zv(m,v){return m=Fs(22,m,null,v),m.lanes=0,m.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},m}function x4(m,v,x){return vd(v,m.child,null,x),m=S4(v,v.pendingProps.children),m.flags|=2,v.memoizedState=null,m}function eC(m,v,x){m.lanes|=v;var O=m.alternate;O!==null&&(O.lanes|=v),F9(m.return,v,x)}function T4(m,v,x,O,L){var U=m.memoizedState;U===null?m.memoizedState={isBackwards:v,rendering:null,renderingStartTime:0,last:O,tail:x,tailMode:L}:(U.isBackwards=v,U.rendering=null,U.renderingStartTime=0,U.last=O,U.tail=x,U.tailMode=L)}function iC(m,v,x){var O=v.pendingProps,L=O.revealOrder,U=O.tail;if(En(m,v,O.children,x),O=Qr.current,(O&2)!==0)O=O&1|2,v.flags|=128;else{if(m!==null&&(m.flags&128)!==0)t:for(m=v.child;m!==null;){if(m.tag===13)m.memoizedState!==null&&eC(m,x,v);else if(m.tag===19)eC(m,x,v);else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===v)break t;for(;m.sibling===null;){if(m.return===null||m.return===v)break t;m=m.return}m.sibling.return=m.return,m=m.sibling}O&=1}switch(Vt(Qr,O),L){case"forwards":for(x=v.child,L=null;x!==null;)m=x.alternate,m!==null&&Jv(m)===null&&(L=x),x=x.sibling;x=L,x===null?(L=v.child,v.child=null):(L=x.sibling,x.sibling=null),T4(v,!1,L,x,U);break;case"backwards":for(x=null,L=v.child,v.child=null;L!==null;){if(m=L.alternate,m!==null&&Jv(m)===null){v.child=L;break}m=L.sibling,L.sibling=x,x=L,L=m}T4(v,!0,x,null,U);break;case"together":T4(v,!1,null,null,void 0);break;default:v.memoizedState=null}return v.child}function Tl(m,v,x){if(m!==null&&(v.dependencies=m.dependencies),$u|=v.lanes,(x&v.childLanes)===0)if(m!==null){if(b1(m,v,x,!1),(x&v.childLanes)===0)return null}else return null;if(m!==null&&v.child!==m.child)throw Error(n(153));if(v.child!==null){for(m=v.child,x=gl(m,m.pendingProps),v.child=x,x.return=v;m.sibling!==null;)m=m.sibling,x=x.sibling=gl(m,m.pendingProps),x.return=v;x.sibling=null}return v.child}function E4(m,v){return(m.lanes&v)!==0?!0:(m=m.dependencies,!!(m!==null&&Nv(m)))}function MK(m,v,x){switch(v.tag){case 3:ze(v,v.stateNode.containerInfo),wu(v,Zr,m.memoizedState.cache),g1();break;case 27:case 5:Ge(v);break;case 4:ze(v,v.stateNode.containerInfo);break;case 10:wu(v,v.type,v.memoizedProps.value);break;case 13:var O=v.memoizedState;if(O!==null)return O.dehydrated!==null?(Eu(v),v.flags|=128,null):(x&v.child.childLanes)!==0?tC(m,v,x):(Eu(v),m=Tl(m,v,x),m!==null?m.sibling:null);Eu(v);break;case 19:var L=(m.flags&128)!==0;if(O=(x&v.childLanes)!==0,O||(b1(m,v,x,!1),O=(x&v.childLanes)!==0),L){if(O)return iC(m,v,x);v.flags|=128}if(L=v.memoizedState,L!==null&&(L.rendering=null,L.tail=null,L.lastEffect=null),Vt(Qr,Qr.current),O)break;return null;case 22:case 23:return v.lanes=0,YR(m,v,x);case 24:wu(v,Zr,m.memoizedState.cache)}return Tl(m,v,x)}function rC(m,v,x){if(m!==null)if(m.memoizedProps!==v.pendingProps)cn=!0;else{if(!E4(m,x)&&(v.flags&128)===0)return cn=!1,MK(m,v,x);cn=(m.flags&131072)!==0}else cn=!1,Ti&&(v.flags&1048576)!==0&&kA(v,$v,v.index);switch(v.lanes=0,v.tag){case 16:t:{m=v.pendingProps;var O=v.elementType,L=O._init;if(O=L(O._payload),v.type=O,typeof O=="function")P9(O)?(m=gh(O,m),v.tag=1,v=ZR(null,v,O,m,x)):(v.tag=0,v=v4(null,v,O,m,x));else{if(O!=null){if(L=O.$$typeof,L===it){v.tag=11,v=VR(null,v,O,m,x);break t}else if(L===yt){v.tag=14,v=WR(null,v,O,m,x);break t}}throw v=Xt(O)||O,Error(n(306,v,""))}}return v;case 0:return v4(m,v,v.type,v.pendingProps,x);case 1:return O=v.type,L=gh(O,v.pendingProps),ZR(m,v,O,L,x);case 3:t:{if(ze(v,v.stateNode.containerInfo),m===null)throw Error(n(387));O=v.pendingProps;var U=v.memoizedState;L=U.element,J9(m,v),M1(v,O,null,x);var Y=v.memoizedState;if(O=Y.cache,wu(v,Zr,O),O!==U.cache&&B9(v,[Zr],x,!0),E1(),O=Y.element,U.isDehydrated)if(U={element:O,isDehydrated:!1,cache:Y.cache},v.updateQueue.baseState=U,v.memoizedState=U,v.flags&256){v=QR(m,v,O,x);break t}else if(O!==L){L=ho(Error(n(424)),v),v1(L),v=QR(m,v,O,x);break t}else{switch(m=v.stateNode.containerInfo,m.nodeType){case 9:m=m.body;break;default:m=m.nodeName==="HTML"?m.ownerDocument.body:m}for(Er=Qo(m.firstChild),es=v,Ti=!0,hh=null,$a=!0,x=IR(v,null,O,x),v.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling}else{if(g1(),O===L){v=Tl(m,v,x);break t}En(m,v,O,x)}v=v.child}return v;case 26:return Xv(m,v),m===null?(x=aO(v.type,null,v.pendingProps,null))?v.memoizedState=x:Ti||(x=v.type,m=v.pendingProps,O=f2(ce.current).createElement(x),O[W]=v,O[q]=m,An(O,x,m),ne(O),v.stateNode=O):v.memoizedState=aO(v.type,m.memoizedProps,v.pendingProps,m.memoizedState),null;case 27:return Ge(v),m===null&&Ti&&(O=v.stateNode=nO(v.type,v.pendingProps,ce.current),es=v,$a=!0,L=Er,Iu(v.type)?(s6=L,Er=Qo(O.firstChild)):Er=L),En(m,v,v.pendingProps.children,x),Xv(m,v),m===null&&(v.flags|=4194304),v.child;case 5:return m===null&&Ti&&((L=O=Er)&&(O=tX(O,v.type,v.pendingProps,$a),O!==null?(v.stateNode=O,es=v,Er=Qo(O.firstChild),$a=!1,L=!0):L=!1),L||fh(v)),Ge(v),L=v.type,U=v.pendingProps,Y=m!==null?m.memoizedProps:null,O=U.children,e6(L,U)?O=null:Y!==null&&e6(L,Y)&&(v.flags|=32),v.memoizedState!==null&&(L=t4(m,v,vK,null,null,x),J1._currentValue=L),Xv(m,v),En(m,v,O,x),v.child;case 6:return m===null&&Ti&&((m=x=Er)&&(x=eX(x,v.pendingProps,$a),x!==null?(v.stateNode=x,es=v,Er=null,m=!0):m=!1),m||fh(v)),null;case 13:return tC(m,v,x);case 4:return ze(v,v.stateNode.containerInfo),O=v.pendingProps,m===null?v.child=vd(v,null,O,x):En(m,v,O,x),v.child;case 11:return VR(m,v,v.type,v.pendingProps,x);case 7:return En(m,v,v.pendingProps,x),v.child;case 8:return En(m,v,v.pendingProps.children,x),v.child;case 12:return En(m,v,v.pendingProps.children,x),v.child;case 10:return O=v.pendingProps,wu(v,v.type,O.value),En(m,v,O.children,x),v.child;case 9:return L=v.type._context,O=v.pendingProps.children,ph(v),L=Dn(L),O=O(L),v.flags|=1,En(m,v,O,x),v.child;case 14:return WR(m,v,v.type,v.pendingProps,x);case 15:return JR(m,v,v.type,v.pendingProps,x);case 19:return iC(m,v,x);case 31:return O=v.pendingProps,x=v.mode,O={mode:O.mode,children:O.children},m===null?(x=Zv(O,x),x.ref=v.ref,v.child=x,x.return=v,v=x):(x=gl(m.child,O),x.ref=v.ref,v.child=x,x.return=v,v=x),v;case 22:return YR(m,v,x);case 24:return ph(v),O=Dn(Zr),m===null?(L=H9(),L===null&&(L=Ki,U=G9(),L.pooledCache=U,U.refCount++,U!==null&&(L.pooledCacheLanes|=x),L=U),v.memoizedState={parent:O,cache:L},W9(v),wu(v,Zr,L)):((m.lanes&x)!==0&&(J9(m,v),M1(v,null,null,x),E1()),L=m.memoizedState,U=v.memoizedState,L.parent!==O?(L={parent:O,cache:O},v.memoizedState=L,v.lanes===0&&(v.memoizedState=v.updateQueue.baseState=L),wu(v,Zr,O)):(O=U.cache,wu(v,Zr,O),O!==L.cache&&B9(v,[Zr],x,!0))),En(m,v,v.pendingProps.children,x),v.child;case 29:throw v.pendingProps}throw Error(n(156,v.tag))}function El(m){m.flags|=4}function nC(m,v){if(v.type!=="stylesheet"||(v.state.loading&4)!==0)m.flags&=-16777217;else if(m.flags|=16777216,!fO(v)){if(v=mo.current,v!==null&&((hi&4194048)===hi?Na!==null:(hi&62914560)!==hi&&(hi&536870912)===0||v!==Na))throw x1=V9,FA;m.flags|=8192}}function Qv(m,v){v!==null&&(m.flags|=4),m.flags&16384&&(v=m.tag!==22?f():536870912,m.lanes|=v,Sd|=v)}function k1(m,v){if(!Ti)switch(m.tailMode){case"hidden":v=m.tail;for(var x=null;v!==null;)v.alternate!==null&&(x=v),v=v.sibling;x===null?m.tail=null:x.sibling=null;break;case"collapsed":x=m.tail;for(var O=null;x!==null;)x.alternate!==null&&(O=x),x=x.sibling;O===null?v||m.tail===null?m.tail=null:m.tail.sibling=null:O.sibling=null}}function yr(m){var v=m.alternate!==null&&m.alternate.child===m.child,x=0,O=0;if(v)for(var L=m.child;L!==null;)x|=L.lanes|L.childLanes,O|=L.subtreeFlags&65011712,O|=L.flags&65011712,L.return=m,L=L.sibling;else for(L=m.child;L!==null;)x|=L.lanes|L.childLanes,O|=L.subtreeFlags,O|=L.flags,L.return=m,L=L.sibling;return m.subtreeFlags|=O,m.childLanes=x,v}function AK(m,v,x){var O=v.pendingProps;switch(j9(v),v.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yr(v),null;case 1:return yr(v),null;case 3:return x=v.stateNode,O=null,m!==null&&(O=m.memoizedState.cache),v.memoizedState.cache!==O&&(v.flags|=2048),_l(Zr),Si(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(m===null||m.child===null)&&(m1(v)?El(v):m===null||m.memoizedState.isDehydrated&&(v.flags&256)===0||(v.flags|=1024,DA())),yr(v),null;case 26:return x=v.memoizedState,m===null?(El(v),x!==null?(yr(v),nC(v,x)):(yr(v),v.flags&=-16777217)):x?x!==m.memoizedState?(El(v),yr(v),nC(v,x)):(yr(v),v.flags&=-16777217):(m.memoizedProps!==O&&El(v),yr(v),v.flags&=-16777217),null;case 27:Qi(v),x=ce.current;var L=v.type;if(m!==null&&v.stateNode!=null)m.memoizedProps!==O&&El(v);else{if(!O){if(v.stateNode===null)throw Error(n(166));return yr(v),null}m=ie.current,m1(v)?PA(v):(m=nO(L,O,x),v.stateNode=m,El(v))}return yr(v),null;case 5:if(Qi(v),x=v.type,m!==null&&v.stateNode!=null)m.memoizedProps!==O&&El(v);else{if(!O){if(v.stateNode===null)throw Error(n(166));return yr(v),null}if(m=ie.current,m1(v))PA(v);else{switch(L=f2(ce.current),m){case 1:m=L.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:m=L.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":m=L.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":m=L.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":m=L.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof O.is=="string"?L.createElement("select",{is:O.is}):L.createElement("select"),O.multiple?m.multiple=!0:O.size&&(m.size=O.size);break;default:m=typeof O.is=="string"?L.createElement(x,{is:O.is}):L.createElement(x)}}m[W]=v,m[q]=O;t:for(L=v.child;L!==null;){if(L.tag===5||L.tag===6)m.appendChild(L.stateNode);else if(L.tag!==4&&L.tag!==27&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===v)break t;for(;L.sibling===null;){if(L.return===null||L.return===v)break t;L=L.return}L.sibling.return=L.return,L=L.sibling}v.stateNode=m;t:switch(An(m,x,O),x){case"button":case"input":case"select":case"textarea":m=!!O.autoFocus;break t;case"img":m=!0;break t;default:m=!1}m&&El(v)}}return yr(v),v.flags&=-16777217,null;case 6:if(m&&v.stateNode!=null)m.memoizedProps!==O&&El(v);else{if(typeof O!="string"&&v.stateNode===null)throw Error(n(166));if(m=ce.current,m1(v)){if(m=v.stateNode,x=v.memoizedProps,O=null,L=es,L!==null)switch(L.tag){case 27:case 5:O=L.memoizedProps}m[W]=v,m=!!(m.nodeValue===x||O!==null&&O.suppressHydrationWarning===!0||XC(m.nodeValue,x)),m||fh(v)}else m=f2(m).createTextNode(O),m[W]=v,v.stateNode=m}return yr(v),null;case 13:if(O=v.memoizedState,m===null||m.memoizedState!==null&&m.memoizedState.dehydrated!==null){if(L=m1(v),O!==null&&O.dehydrated!==null){if(m===null){if(!L)throw Error(n(318));if(L=v.memoizedState,L=L!==null?L.dehydrated:null,!L)throw Error(n(317));L[W]=v}else g1(),(v.flags&128)===0&&(v.memoizedState=null),v.flags|=4;yr(v),L=!1}else L=DA(),m!==null&&m.memoizedState!==null&&(m.memoizedState.hydrationErrors=L),L=!0;if(!L)return v.flags&256?(xl(v),v):(xl(v),null)}if(xl(v),(v.flags&128)!==0)return v.lanes=x,v;if(x=O!==null,m=m!==null&&m.memoizedState!==null,x){O=v.child,L=null,O.alternate!==null&&O.alternate.memoizedState!==null&&O.alternate.memoizedState.cachePool!==null&&(L=O.alternate.memoizedState.cachePool.pool);var U=null;O.memoizedState!==null&&O.memoizedState.cachePool!==null&&(U=O.memoizedState.cachePool.pool),U!==L&&(O.flags|=2048)}return x!==m&&x&&(v.child.flags|=8192),Qv(v,v.updateQueue),yr(v),null;case 4:return Si(),m===null&&K4(v.stateNode.containerInfo),yr(v),null;case 10:return _l(v.type),yr(v),null;case 19:if(Kt(Qr),L=v.memoizedState,L===null)return yr(v),null;if(O=(v.flags&128)!==0,U=L.rendering,U===null)if(O)k1(L,!1);else{if(Mr!==0||m!==null&&(m.flags&128)!==0)for(m=v.child;m!==null;){if(U=Jv(m),U!==null){for(v.flags|=128,k1(L,!1),m=U.updateQueue,v.updateQueue=m,Qv(v,m),v.subtreeFlags=0,m=x,x=v.child;x!==null;)NA(x,m),x=x.sibling;return Vt(Qr,Qr.current&1|2),v.child}m=m.sibling}L.tail!==null&&Q()>i2&&(v.flags|=128,O=!0,k1(L,!1),v.lanes=4194304)}else{if(!O)if(m=Jv(U),m!==null){if(v.flags|=128,O=!0,m=m.updateQueue,v.updateQueue=m,Qv(v,m),k1(L,!0),L.tail===null&&L.tailMode==="hidden"&&!U.alternate&&!Ti)return yr(v),null}else 2*Q()-L.renderingStartTime>i2&&x!==536870912&&(v.flags|=128,O=!0,k1(L,!1),v.lanes=4194304);L.isBackwards?(U.sibling=v.child,v.child=U):(m=L.last,m!==null?m.sibling=U:v.child=U,L.last=U)}return L.tail!==null?(v=L.tail,L.rendering=v,L.tail=v.sibling,L.renderingStartTime=Q(),v.sibling=null,m=Qr.current,Vt(Qr,O?m&1|2:m&1),v):(yr(v),null);case 22:case 23:return xl(v),Z9(),O=v.memoizedState!==null,m!==null?m.memoizedState!==null!==O&&(v.flags|=8192):O&&(v.flags|=8192),O?(x&536870912)!==0&&(v.flags&128)===0&&(yr(v),v.subtreeFlags&6&&(v.flags|=8192)):yr(v),x=v.updateQueue,x!==null&&Qv(v,x.retryQueue),x=null,m!==null&&m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(x=m.memoizedState.cachePool.pool),O=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(O=v.memoizedState.cachePool.pool),O!==x&&(v.flags|=2048),m!==null&&Kt(yh),null;case 24:return x=null,m!==null&&(x=m.memoizedState.cache),v.memoizedState.cache!==x&&(v.flags|=2048),_l(Zr),yr(v),null;case 25:return null;case 30:return null}throw Error(n(156,v.tag))}function RK(m,v){switch(j9(v),v.tag){case 1:return m=v.flags,m&65536?(v.flags=m&-65537|128,v):null;case 3:return _l(Zr),Si(),m=v.flags,(m&65536)!==0&&(m&128)===0?(v.flags=m&-65537|128,v):null;case 26:case 27:case 5:return Qi(v),null;case 13:if(xl(v),m=v.memoizedState,m!==null&&m.dehydrated!==null){if(v.alternate===null)throw Error(n(340));g1()}return m=v.flags,m&65536?(v.flags=m&-65537|128,v):null;case 19:return Kt(Qr),null;case 4:return Si(),null;case 10:return _l(v.type),null;case 22:case 23:return xl(v),Z9(),m!==null&&Kt(yh),m=v.flags,m&65536?(v.flags=m&-65537|128,v):null;case 24:return _l(Zr),null;case 25:return null;default:return null}}function sC(m,v){switch(j9(v),v.tag){case 3:_l(Zr),Si();break;case 26:case 27:case 5:Qi(v);break;case 4:Si();break;case 13:xl(v);break;case 19:Kt(Qr);break;case 10:_l(v.type);break;case 22:case 23:xl(v),Z9(),m!==null&&Kt(yh);break;case 24:_l(Zr)}}function P1(m,v){try{var x=v.updateQueue,O=x!==null?x.lastEffect:null;if(O!==null){var L=O.next;x=L;do{if((x.tag&m)===m){O=void 0;var U=x.create,Y=x.inst;O=U(),Y.destroy=O}x=x.next}while(x!==L)}}catch(tt){Yi(v,v.return,tt)}}function Au(m,v,x){try{var O=v.updateQueue,L=O!==null?O.lastEffect:null;if(L!==null){var U=L.next;O=U;do{if((O.tag&m)===m){var Y=O.inst,tt=Y.destroy;if(tt!==void 0){Y.destroy=void 0,L=v;var ht=x,Mt=tt;try{Mt()}catch(jt){Yi(L,ht,jt)}}}O=O.next}while(O!==U)}}catch(jt){Yi(v,v.return,jt)}}function oC(m){var v=m.updateQueue;if(v!==null){var x=m.stateNode;try{WA(v,x)}catch(O){Yi(m,m.return,O)}}}function aC(m,v,x){x.props=gh(m.type,m.memoizedProps),x.state=m.memoizedState;try{x.componentWillUnmount()}catch(O){Yi(m,v,O)}}function I1(m,v){try{var x=m.ref;if(x!==null){switch(m.tag){case 26:case 27:case 5:var O=m.stateNode;break;case 30:O=m.stateNode;break;default:O=m.stateNode}typeof x=="function"?m.refCleanup=x(O):x.current=O}}catch(L){Yi(m,v,L)}}function ka(m,v){var x=m.ref,O=m.refCleanup;if(x!==null)if(typeof O=="function")try{O()}catch(L){Yi(m,v,L)}finally{m.refCleanup=null,m=m.alternate,m!=null&&(m.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(L){Yi(m,v,L)}else x.current=null}function lC(m){var v=m.type,x=m.memoizedProps,O=m.stateNode;try{t:switch(v){case"button":case"input":case"select":case"textarea":x.autoFocus&&O.focus();break t;case"img":x.src?O.src=x.src:x.srcSet&&(O.srcset=x.srcSet)}}catch(L){Yi(m,m.return,L)}}function M4(m,v,x){try{var O=m.stateNode;YK(O,m.type,x,v),O[q]=v}catch(L){Yi(m,m.return,L)}}function uC(m){return m.tag===5||m.tag===3||m.tag===26||m.tag===27&&Iu(m.type)||m.tag===4}function A4(m){t:for(;;){for(;m.sibling===null;){if(m.return===null||uC(m.return))return null;m=m.return}for(m.sibling.return=m.return,m=m.sibling;m.tag!==5&&m.tag!==6&&m.tag!==18;){if(m.tag===27&&Iu(m.type)||m.flags&2||m.child===null||m.tag===4)continue t;m.child.return=m,m=m.child}if(!(m.flags&2))return m.stateNode}}function R4(m,v,x){var O=m.tag;if(O===5||O===6)m=m.stateNode,v?(x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x).insertBefore(m,v):(v=x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x,v.appendChild(m),x=x._reactRootContainer,x!=null||v.onclick!==null||(v.onclick=h2));else if(O!==4&&(O===27&&Iu(m.type)&&(x=m.stateNode,v=null),m=m.child,m!==null))for(R4(m,v,x),m=m.sibling;m!==null;)R4(m,v,x),m=m.sibling}function t2(m,v,x){var O=m.tag;if(O===5||O===6)m=m.stateNode,v?x.insertBefore(m,v):x.appendChild(m);else if(O!==4&&(O===27&&Iu(m.type)&&(x=m.stateNode),m=m.child,m!==null))for(t2(m,v,x),m=m.sibling;m!==null;)t2(m,v,x),m=m.sibling}function cC(m){var v=m.stateNode,x=m.memoizedProps;try{for(var O=m.type,L=v.attributes;L.length;)v.removeAttributeNode(L[0]);An(v,O,x),v[W]=m,v[q]=x}catch(U){Yi(m,m.return,U)}}var Ml=!1,jr=!1,C4=!1,hC=typeof WeakSet=="function"?WeakSet:Set,hn=null;function CK(m,v){if(m=m.containerInfo,Q4=v2,m=SA(m),A9(m)){if("selectionStart"in m)var x={start:m.selectionStart,end:m.selectionEnd};else t:{x=(x=m.ownerDocument)&&x.defaultView||window;var O=x.getSelection&&x.getSelection();if(O&&O.rangeCount!==0){x=O.anchorNode;var L=O.anchorOffset,U=O.focusNode;O=O.focusOffset;try{x.nodeType,U.nodeType}catch{x=null;break t}var Y=0,tt=-1,ht=-1,Mt=0,jt=0,qt=m,At=null;e:for(;;){for(var Ot;qt!==x||L!==0&&qt.nodeType!==3||(tt=Y+L),qt!==U||O!==0&&qt.nodeType!==3||(ht=Y+O),qt.nodeType===3&&(Y+=qt.nodeValue.length),(Ot=qt.firstChild)!==null;)At=qt,qt=Ot;for(;;){if(qt===m)break e;if(At===x&&++Mt===L&&(tt=Y),At===U&&++jt===O&&(ht=Y),(Ot=qt.nextSibling)!==null)break;qt=At,At=qt.parentNode}qt=Ot}x=tt===-1||ht===-1?null:{start:tt,end:ht}}else x=null}x=x||{start:0,end:0}}else x=null;for(t6={focusedElem:m,selectionRange:x},v2=!1,hn=v;hn!==null;)if(v=hn,m=v.child,(v.subtreeFlags&1024)!==0&&m!==null)m.return=v,hn=m;else for(;hn!==null;){switch(v=hn,U=v.alternate,m=v.flags,v.tag){case 0:break;case 11:case 15:break;case 1:if((m&1024)!==0&&U!==null){m=void 0,x=v,L=U.memoizedProps,U=U.memoizedState,O=x.stateNode;try{var De=gh(x.type,L,x.elementType===x.type);m=O.getSnapshotBeforeUpdate(De,U),O.__reactInternalSnapshotBeforeUpdate=m}catch($e){Yi(x,x.return,$e)}}break;case 3:if((m&1024)!==0){if(m=v.stateNode.containerInfo,x=m.nodeType,x===9)r6(m);else if(x===1)switch(m.nodeName){case"HEAD":case"HTML":case"BODY":r6(m);break;default:m.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((m&1024)!==0)throw Error(n(163))}if(m=v.sibling,m!==null){m.return=v.return,hn=m;break}hn=v.return}}function fC(m,v,x){var O=x.flags;switch(x.tag){case 0:case 11:case 15:Ru(m,x),O&4&&P1(5,x);break;case 1:if(Ru(m,x),O&4)if(m=x.stateNode,v===null)try{m.componentDidMount()}catch(Y){Yi(x,x.return,Y)}else{var L=gh(x.type,v.memoizedProps);v=v.memoizedState;try{m.componentDidUpdate(L,v,m.__reactInternalSnapshotBeforeUpdate)}catch(Y){Yi(x,x.return,Y)}}O&64&&oC(x),O&512&&I1(x,x.return);break;case 3:if(Ru(m,x),O&64&&(m=x.updateQueue,m!==null)){if(v=null,x.child!==null)switch(x.child.tag){case 27:case 5:v=x.child.stateNode;break;case 1:v=x.child.stateNode}try{WA(m,v)}catch(Y){Yi(x,x.return,Y)}}break;case 27:v===null&&O&4&&cC(x);case 26:case 5:Ru(m,x),v===null&&O&4&&lC(x),O&512&&I1(x,x.return);break;case 12:Ru(m,x);break;case 13:Ru(m,x),O&4&&yC(m,x),O&64&&(m=x.memoizedState,m!==null&&(m=m.dehydrated,m!==null&&(x=jK.bind(null,x),iX(m,x))));break;case 22:if(O=x.memoizedState!==null||Ml,!O){v=v!==null&&v.memoizedState!==null||jr,L=Ml;var U=jr;Ml=O,(jr=v)&&!U?Cu(m,x,(x.subtreeFlags&8772)!==0):Ru(m,x),Ml=L,jr=U}break;case 30:break;default:Ru(m,x)}}function dC(m){var v=m.alternate;v!==null&&(m.alternate=null,dC(v)),m.child=null,m.deletions=null,m.sibling=null,m.tag===5&&(v=m.stateNode,v!==null&&Ut(v)),m.stateNode=null,m.return=null,m.dependencies=null,m.memoizedProps=null,m.memoizedState=null,m.pendingProps=null,m.stateNode=null,m.updateQueue=null}var ur=null,ms=!1;function Al(m,v,x){for(x=x.child;x!==null;)pC(m,v,x),x=x.sibling}function pC(m,v,x){if(Wi&&typeof Wi.onCommitFiberUnmount=="function")try{Wi.onCommitFiberUnmount(ds,x)}catch{}switch(x.tag){case 26:jr||ka(x,v),Al(m,v,x),x.memoizedState?x.memoizedState.count--:x.stateNode&&(x=x.stateNode,x.parentNode.removeChild(x));break;case 27:jr||ka(x,v);var O=ur,L=ms;Iu(x.type)&&(ur=x.stateNode,ms=!1),Al(m,v,x),q1(x.stateNode),ur=O,ms=L;break;case 5:jr||ka(x,v);case 6:if(O=ur,L=ms,ur=null,Al(m,v,x),ur=O,ms=L,ur!==null)if(ms)try{(ur.nodeType===9?ur.body:ur.nodeName==="HTML"?ur.ownerDocument.body:ur).removeChild(x.stateNode)}catch(U){Yi(x,v,U)}else try{ur.removeChild(x.stateNode)}catch(U){Yi(x,v,U)}break;case 18:ur!==null&&(ms?(m=ur,iO(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,x.stateNode),Z1(m)):iO(ur,x.stateNode));break;case 4:O=ur,L=ms,ur=x.stateNode.containerInfo,ms=!0,Al(m,v,x),ur=O,ms=L;break;case 0:case 11:case 14:case 15:jr||Au(2,x,v),jr||Au(4,x,v),Al(m,v,x);break;case 1:jr||(ka(x,v),O=x.stateNode,typeof O.componentWillUnmount=="function"&&aC(x,v,O)),Al(m,v,x);break;case 21:Al(m,v,x);break;case 22:jr=(O=jr)||x.memoizedState!==null,Al(m,v,x),jr=O;break;default:Al(m,v,x)}}function yC(m,v){if(v.memoizedState===null&&(m=v.alternate,m!==null&&(m=m.memoizedState,m!==null&&(m=m.dehydrated,m!==null))))try{Z1(m)}catch(x){Yi(v,v.return,x)}}function OK(m){switch(m.tag){case 13:case 19:var v=m.stateNode;return v===null&&(v=m.stateNode=new hC),v;case 22:return m=m.stateNode,v=m._retryCache,v===null&&(v=m._retryCache=new hC),v;default:throw Error(n(435,m.tag))}}function O4(m,v){var x=OK(m);v.forEach(function(O){var L=zK.bind(null,m,O);x.has(O)||(x.add(O),O.then(L,L))})}function Bs(m,v){var x=v.deletions;if(x!==null)for(var O=0;O<x.length;O++){var L=x[O],U=m,Y=v,tt=Y;t:for(;tt!==null;){switch(tt.tag){case 27:if(Iu(tt.type)){ur=tt.stateNode,ms=!1;break t}break;case 5:ur=tt.stateNode,ms=!1;break t;case 3:case 4:ur=tt.stateNode.containerInfo,ms=!0;break t}tt=tt.return}if(ur===null)throw Error(n(160));pC(U,Y,L),ur=null,ms=!1,U=L.alternate,U!==null&&(U.return=null),L.return=null}if(v.subtreeFlags&13878)for(v=v.child;v!==null;)mC(v,m),v=v.sibling}var Zo=null;function mC(m,v){var x=m.alternate,O=m.flags;switch(m.tag){case 0:case 11:case 14:case 15:Bs(v,m),Gs(m),O&4&&(Au(3,m,m.return),P1(3,m),Au(5,m,m.return));break;case 1:Bs(v,m),Gs(m),O&512&&(jr||x===null||ka(x,x.return)),O&64&&Ml&&(m=m.updateQueue,m!==null&&(O=m.callbacks,O!==null&&(x=m.shared.hiddenCallbacks,m.shared.hiddenCallbacks=x===null?O:x.concat(O))));break;case 26:var L=Zo;if(Bs(v,m),Gs(m),O&512&&(jr||x===null||ka(x,x.return)),O&4){var U=x!==null?x.memoizedState:null;if(O=m.memoizedState,x===null)if(O===null)if(m.stateNode===null){t:{O=m.type,x=m.memoizedProps,L=L.ownerDocument||L;e:switch(O){case"title":U=L.getElementsByTagName("title")[0],(!U||U[Tt]||U[W]||U.namespaceURI==="http://www.w3.org/2000/svg"||U.hasAttribute("itemprop"))&&(U=L.createElement(O),L.head.insertBefore(U,L.querySelector("head > title"))),An(U,O,x),U[W]=m,ne(U),O=U;break t;case"link":var Y=cO("link","href",L).get(O+(x.href||""));if(Y){for(var tt=0;tt<Y.length;tt++)if(U=Y[tt],U.getAttribute("href")===(x.href==null||x.href===""?null:x.href)&&U.getAttribute("rel")===(x.rel==null?null:x.rel)&&U.getAttribute("title")===(x.title==null?null:x.title)&&U.getAttribute("crossorigin")===(x.crossOrigin==null?null:x.crossOrigin)){Y.splice(tt,1);break e}}U=L.createElement(O),An(U,O,x),L.head.appendChild(U);break;case"meta":if(Y=cO("meta","content",L).get(O+(x.content||""))){for(tt=0;tt<Y.length;tt++)if(U=Y[tt],U.getAttribute("content")===(x.content==null?null:""+x.content)&&U.getAttribute("name")===(x.name==null?null:x.name)&&U.getAttribute("property")===(x.property==null?null:x.property)&&U.getAttribute("http-equiv")===(x.httpEquiv==null?null:x.httpEquiv)&&U.getAttribute("charset")===(x.charSet==null?null:x.charSet)){Y.splice(tt,1);break e}}U=L.createElement(O),An(U,O,x),L.head.appendChild(U);break;default:throw Error(n(468,O))}U[W]=m,ne(U),O=U}m.stateNode=O}else hO(L,m.type,m.stateNode);else m.stateNode=uO(L,O,m.memoizedProps);else U!==O?(U===null?x.stateNode!==null&&(x=x.stateNode,x.parentNode.removeChild(x)):U.count--,O===null?hO(L,m.type,m.stateNode):uO(L,O,m.memoizedProps)):O===null&&m.stateNode!==null&&M4(m,m.memoizedProps,x.memoizedProps)}break;case 27:Bs(v,m),Gs(m),O&512&&(jr||x===null||ka(x,x.return)),x!==null&&O&4&&M4(m,m.memoizedProps,x.memoizedProps);break;case 5:if(Bs(v,m),Gs(m),O&512&&(jr||x===null||ka(x,x.return)),m.flags&32){L=m.stateNode;try{td(L,"")}catch(Ot){Yi(m,m.return,Ot)}}O&4&&m.stateNode!=null&&(L=m.memoizedProps,M4(m,L,x!==null?x.memoizedProps:L)),O&1024&&(C4=!0);break;case 6:if(Bs(v,m),Gs(m),O&4){if(m.stateNode===null)throw Error(n(162));O=m.memoizedProps,x=m.stateNode;try{x.nodeValue=O}catch(Ot){Yi(m,m.return,Ot)}}break;case 3:if(y2=null,L=Zo,Zo=d2(v.containerInfo),Bs(v,m),Zo=L,Gs(m),O&4&&x!==null&&x.memoizedState.isDehydrated)try{Z1(v.containerInfo)}catch(Ot){Yi(m,m.return,Ot)}C4&&(C4=!1,gC(m));break;case 4:O=Zo,Zo=d2(m.stateNode.containerInfo),Bs(v,m),Gs(m),Zo=O;break;case 12:Bs(v,m),Gs(m);break;case 13:Bs(v,m),Gs(m),m.child.flags&8192&&m.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(D4=Q()),O&4&&(O=m.updateQueue,O!==null&&(m.updateQueue=null,O4(m,O)));break;case 22:L=m.memoizedState!==null;var ht=x!==null&&x.memoizedState!==null,Mt=Ml,jt=jr;if(Ml=Mt||L,jr=jt||ht,Bs(v,m),jr=jt,Ml=Mt,Gs(m),O&8192)t:for(v=m.stateNode,v._visibility=L?v._visibility&-2:v._visibility|1,L&&(x===null||ht||Ml||jr||vh(m)),x=null,v=m;;){if(v.tag===5||v.tag===26){if(x===null){ht=x=v;try{if(U=ht.stateNode,L)Y=U.style,typeof Y.setProperty=="function"?Y.setProperty("display","none","important"):Y.display="none";else{tt=ht.stateNode;var qt=ht.memoizedProps.style,At=qt!=null&&qt.hasOwnProperty("display")?qt.display:null;tt.style.display=At==null||typeof At=="boolean"?"":(""+At).trim()}}catch(Ot){Yi(ht,ht.return,Ot)}}}else if(v.tag===6){if(x===null){ht=v;try{ht.stateNode.nodeValue=L?"":ht.memoizedProps}catch(Ot){Yi(ht,ht.return,Ot)}}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===m)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===m)break t;for(;v.sibling===null;){if(v.return===null||v.return===m)break t;x===v&&(x=null),v=v.return}x===v&&(x=null),v.sibling.return=v.return,v=v.sibling}O&4&&(O=m.updateQueue,O!==null&&(x=O.retryQueue,x!==null&&(O.retryQueue=null,O4(m,x))));break;case 19:Bs(v,m),Gs(m),O&4&&(O=m.updateQueue,O!==null&&(m.updateQueue=null,O4(m,O)));break;case 30:break;case 21:break;default:Bs(v,m),Gs(m)}}function Gs(m){var v=m.flags;if(v&2){try{for(var x,O=m.return;O!==null;){if(uC(O)){x=O;break}O=O.return}if(x==null)throw Error(n(160));switch(x.tag){case 27:var L=x.stateNode,U=A4(m);t2(m,U,L);break;case 5:var Y=x.stateNode;x.flags&32&&(td(Y,""),x.flags&=-33);var tt=A4(m);t2(m,tt,Y);break;case 3:case 4:var ht=x.stateNode.containerInfo,Mt=A4(m);R4(m,Mt,ht);break;default:throw Error(n(161))}}catch(jt){Yi(m,m.return,jt)}m.flags&=-3}v&4096&&(m.flags&=-4097)}function gC(m){if(m.subtreeFlags&1024)for(m=m.child;m!==null;){var v=m;gC(v),v.tag===5&&v.flags&1024&&v.stateNode.reset(),m=m.sibling}}function Ru(m,v){if(v.subtreeFlags&8772)for(v=v.child;v!==null;)fC(m,v.alternate,v),v=v.sibling}function vh(m){for(m=m.child;m!==null;){var v=m;switch(v.tag){case 0:case 11:case 14:case 15:Au(4,v,v.return),vh(v);break;case 1:ka(v,v.return);var x=v.stateNode;typeof x.componentWillUnmount=="function"&&aC(v,v.return,x),vh(v);break;case 27:q1(v.stateNode);case 26:case 5:ka(v,v.return),vh(v);break;case 22:v.memoizedState===null&&vh(v);break;case 30:vh(v);break;default:vh(v)}m=m.sibling}}function Cu(m,v,x){for(x=x&&(v.subtreeFlags&8772)!==0,v=v.child;v!==null;){var O=v.alternate,L=m,U=v,Y=U.flags;switch(U.tag){case 0:case 11:case 15:Cu(L,U,x),P1(4,U);break;case 1:if(Cu(L,U,x),O=U,L=O.stateNode,typeof L.componentDidMount=="function")try{L.componentDidMount()}catch(Mt){Yi(O,O.return,Mt)}if(O=U,L=O.updateQueue,L!==null){var tt=O.stateNode;try{var ht=L.shared.hiddenCallbacks;if(ht!==null)for(L.shared.hiddenCallbacks=null,L=0;L<ht.length;L++)VA(ht[L],tt)}catch(Mt){Yi(O,O.return,Mt)}}x&&Y&64&&oC(U),I1(U,U.return);break;case 27:cC(U);case 26:case 5:Cu(L,U,x),x&&O===null&&Y&4&&lC(U),I1(U,U.return);break;case 12:Cu(L,U,x);break;case 13:Cu(L,U,x),x&&Y&4&&yC(L,U);break;case 22:U.memoizedState===null&&Cu(L,U,x),I1(U,U.return);break;case 30:break;default:Cu(L,U,x)}v=v.sibling}}function $4(m,v){var x=null;m!==null&&m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(x=m.memoizedState.cachePool.pool),m=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(m=v.memoizedState.cachePool.pool),m!==x&&(m!=null&&m.refCount++,x!=null&&w1(x))}function N4(m,v){m=null,v.alternate!==null&&(m=v.alternate.memoizedState.cache),v=v.memoizedState.cache,v!==m&&(v.refCount++,m!=null&&w1(m))}function Pa(m,v,x,O){if(v.subtreeFlags&10256)for(v=v.child;v!==null;)vC(m,v,x,O),v=v.sibling}function vC(m,v,x,O){var L=v.flags;switch(v.tag){case 0:case 11:case 15:Pa(m,v,x,O),L&2048&&P1(9,v);break;case 1:Pa(m,v,x,O);break;case 3:Pa(m,v,x,O),L&2048&&(m=null,v.alternate!==null&&(m=v.alternate.memoizedState.cache),v=v.memoizedState.cache,v!==m&&(v.refCount++,m!=null&&w1(m)));break;case 12:if(L&2048){Pa(m,v,x,O),m=v.stateNode;try{var U=v.memoizedProps,Y=U.id,tt=U.onPostCommit;typeof tt=="function"&&tt(Y,v.alternate===null?"mount":"update",m.passiveEffectDuration,-0)}catch(ht){Yi(v,v.return,ht)}}else Pa(m,v,x,O);break;case 13:Pa(m,v,x,O);break;case 23:break;case 22:U=v.stateNode,Y=v.alternate,v.memoizedState!==null?U._visibility&2?Pa(m,v,x,O):D1(m,v):U._visibility&2?Pa(m,v,x,O):(U._visibility|=2,bd(m,v,x,O,(v.subtreeFlags&10256)!==0)),L&2048&&$4(Y,v);break;case 24:Pa(m,v,x,O),L&2048&&N4(v.alternate,v);break;default:Pa(m,v,x,O)}}function bd(m,v,x,O,L){for(L=L&&(v.subtreeFlags&10256)!==0,v=v.child;v!==null;){var U=m,Y=v,tt=x,ht=O,Mt=Y.flags;switch(Y.tag){case 0:case 11:case 15:bd(U,Y,tt,ht,L),P1(8,Y);break;case 23:break;case 22:var jt=Y.stateNode;Y.memoizedState!==null?jt._visibility&2?bd(U,Y,tt,ht,L):D1(U,Y):(jt._visibility|=2,bd(U,Y,tt,ht,L)),L&&Mt&2048&&$4(Y.alternate,Y);break;case 24:bd(U,Y,tt,ht,L),L&&Mt&2048&&N4(Y.alternate,Y);break;default:bd(U,Y,tt,ht,L)}v=v.sibling}}function D1(m,v){if(v.subtreeFlags&10256)for(v=v.child;v!==null;){var x=m,O=v,L=O.flags;switch(O.tag){case 22:D1(x,O),L&2048&&$4(O.alternate,O);break;case 24:D1(x,O),L&2048&&N4(O.alternate,O);break;default:D1(x,O)}v=v.sibling}}var L1=8192;function wd(m){if(m.subtreeFlags&L1)for(m=m.child;m!==null;)bC(m),m=m.sibling}function bC(m){switch(m.tag){case 26:wd(m),m.flags&L1&&m.memoizedState!==null&&yX(Zo,m.memoizedState,m.memoizedProps);break;case 5:wd(m);break;case 3:case 4:var v=Zo;Zo=d2(m.stateNode.containerInfo),wd(m),Zo=v;break;case 22:m.memoizedState===null&&(v=m.alternate,v!==null&&v.memoizedState!==null?(v=L1,L1=16777216,wd(m),L1=v):wd(m));break;default:wd(m)}}function wC(m){var v=m.alternate;if(v!==null&&(m=v.child,m!==null)){v.child=null;do v=m.sibling,m.sibling=null,m=v;while(m!==null)}}function j1(m){var v=m.deletions;if((m.flags&16)!==0){if(v!==null)for(var x=0;x<v.length;x++){var O=v[x];hn=O,SC(O,m)}wC(m)}if(m.subtreeFlags&10256)for(m=m.child;m!==null;)_C(m),m=m.sibling}function _C(m){switch(m.tag){case 0:case 11:case 15:j1(m),m.flags&2048&&Au(9,m,m.return);break;case 3:j1(m);break;case 12:j1(m);break;case 22:var v=m.stateNode;m.memoizedState!==null&&v._visibility&2&&(m.return===null||m.return.tag!==13)?(v._visibility&=-3,e2(m)):j1(m);break;default:j1(m)}}function e2(m){var v=m.deletions;if((m.flags&16)!==0){if(v!==null)for(var x=0;x<v.length;x++){var O=v[x];hn=O,SC(O,m)}wC(m)}for(m=m.child;m!==null;){switch(v=m,v.tag){case 0:case 11:case 15:Au(8,v,v.return),e2(v);break;case 22:x=v.stateNode,x._visibility&2&&(x._visibility&=-3,e2(v));break;default:e2(v)}m=m.sibling}}function SC(m,v){for(;hn!==null;){var x=hn;switch(x.tag){case 0:case 11:case 15:Au(8,x,v);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var O=x.memoizedState.cachePool.pool;O!=null&&O.refCount++}break;case 24:w1(x.memoizedState.cache)}if(O=x.child,O!==null)O.return=x,hn=O;else t:for(x=m;hn!==null;){O=hn;var L=O.sibling,U=O.return;if(dC(O),O===x){hn=null;break t}if(L!==null){L.return=U,hn=L;break t}hn=U}}}var $K={getCacheForType:function(m){var v=Dn(Zr),x=v.data.get(m);return x===void 0&&(x=m(),v.data.set(m,x)),x}},NK=typeof WeakMap=="function"?WeakMap:Map,Ni=0,Ki=null,si=null,hi=0,ki=0,qs=null,Ou=!1,_d=!1,k4=!1,Rl=0,Mr=0,$u=0,bh=0,P4=0,go=0,Sd=0,z1=null,gs=null,I4=!1,D4=0,i2=1/0,r2=null,Nu=null,Mn=0,ku=null,xd=null,Td=0,L4=0,j4=null,xC=null,U1=0,z4=null;function Hs(){if((Ni&2)!==0&&hi!==0)return hi&-hi;if(_t.T!==null){var m=hd;return m!==0?m:V4()}return j()}function TC(){go===0&&(go=(hi&536870912)===0||Ti?h():536870912);var m=mo.current;return m!==null&&(m.flags|=32),go}function Vs(m,v,x){(m===Ki&&(ki===2||ki===9)||m.cancelPendingCommit!==null)&&(Ed(m,0),Pu(m,hi,go,!1)),g(m,x),((Ni&2)===0||m!==Ki)&&(m===Ki&&((Ni&2)===0&&(bh|=x),Mr===4&&Pu(m,hi,go,!1)),Ia(m))}function EC(m,v,x){if((Ni&6)!==0)throw Error(n(327));var O=!x&&(v&124)===0&&(v&m.expiredLanes)===0||s(m,v),L=O?IK(m,v):B4(m,v,!0),U=O;do{if(L===0){_d&&!O&&Pu(m,v,0,!1);break}else{if(x=m.current.alternate,U&&!kK(x)){L=B4(m,v,!1),U=!1;continue}if(L===2){if(U=v,m.errorRecoveryDisabledLanes&U)var Y=0;else Y=m.pendingLanes&-536870913,Y=Y!==0?Y:Y&536870912?536870912:0;if(Y!==0){v=Y;t:{var tt=m;L=z1;var ht=tt.current.memoizedState.isDehydrated;if(ht&&(Ed(tt,Y).flags|=256),Y=B4(tt,Y,!1),Y!==2){if(k4&&!ht){tt.errorRecoveryDisabledLanes|=U,bh|=U,L=4;break t}U=gs,gs=L,U!==null&&(gs===null?gs=U:gs.push.apply(gs,U))}L=Y}if(U=!1,L!==2)continue}}if(L===1){Ed(m,0),Pu(m,v,0,!0);break}t:{switch(O=m,U=L,U){case 0:case 1:throw Error(n(345));case 4:if((v&4194048)!==v)break;case 6:Pu(O,v,go,!Ou);break t;case 2:gs=null;break;case 3:case 5:break;default:throw Error(n(329))}if((v&62914560)===v&&(L=D4+300-Q(),10<L)){if(Pu(O,v,go,!Ou),r(O,0,!0)!==0)break t;O.timeoutHandle=tO(MC.bind(null,O,x,gs,r2,I4,v,go,bh,Sd,Ou,U,2,-0,0),L);break t}MC(O,x,gs,r2,I4,v,go,bh,Sd,Ou,U,0,-0,0)}}break}while(!0);Ia(m)}function MC(m,v,x,O,L,U,Y,tt,ht,Mt,jt,qt,At,Ot){if(m.timeoutHandle=-1,qt=v.subtreeFlags,(qt&8192||(qt&16785408)===16785408)&&(W1={stylesheets:null,count:0,unsuspend:pX},bC(v),qt=mX(),qt!==null)){m.cancelPendingCommit=qt(kC.bind(null,m,v,U,x,O,L,Y,tt,ht,jt,1,At,Ot)),Pu(m,U,Y,!Mt);return}kC(m,v,U,x,O,L,Y,tt,ht)}function kK(m){for(var v=m;;){var x=v.tag;if((x===0||x===11||x===15)&&v.flags&16384&&(x=v.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var O=0;O<x.length;O++){var L=x[O],U=L.getSnapshot;L=L.value;try{if(!Us(U(),L))return!1}catch{return!1}}if(x=v.child,v.subtreeFlags&16384&&x!==null)x.return=v,v=x;else{if(v===m)break;for(;v.sibling===null;){if(v.return===null||v.return===m)return!0;v=v.return}v.sibling.return=v.return,v=v.sibling}}return!0}function Pu(m,v,x,O){v&=~P4,v&=~bh,m.suspendedLanes|=v,m.pingedLanes&=~v,O&&(m.warmLanes|=v),O=m.expirationTimes;for(var L=v;0<L;){var U=31-Gt(L),Y=1<<U;O[U]=-1,L&=~Y}x!==0&&M(m,x,v)}function n2(){return(Ni&6)===0?(F1(0),!1):!0}function U4(){if(si!==null){if(ki===0)var m=si.return;else m=si,wl=dh=null,r4(m),gd=null,$1=0,m=si;for(;m!==null;)sC(m.alternate,m),m=m.return;si=null}}function Ed(m,v){var x=m.timeoutHandle;x!==-1&&(m.timeoutHandle=-1,XK(x)),x=m.cancelPendingCommit,x!==null&&(m.cancelPendingCommit=null,x()),U4(),Ki=m,si=x=gl(m.current,null),hi=v,ki=0,qs=null,Ou=!1,_d=s(m,v),k4=!1,Sd=go=P4=bh=$u=Mr=0,gs=z1=null,I4=!1,(v&8)!==0&&(v|=v&32);var O=m.entangledLanes;if(O!==0)for(m=m.entanglements,O&=v;0<O;){var L=31-Gt(O),U=1<<L;v|=m[L],O&=~U}return Rl=v,Mv(),x}function AC(m,v){ti=null,_t.H=Hv,v===S1||v===Iv?(v=qA(),ki=3):v===FA?(v=qA(),ki=4):ki=v===HR?8:v!==null&&typeof v=="object"&&typeof v.then=="function"?6:1,qs=v,si===null&&(Mr=1,Kv(m,ho(v,m.current)))}function RC(){var m=_t.H;return _t.H=Hv,m===null?Hv:m}function CC(){var m=_t.A;return _t.A=$K,m}function F4(){Mr=4,Ou||(hi&4194048)!==hi&&mo.current!==null||(_d=!0),($u&134217727)===0&&(bh&134217727)===0||Ki===null||Pu(Ki,hi,go,!1)}function B4(m,v,x){var O=Ni;Ni|=2;var L=RC(),U=CC();(Ki!==m||hi!==v)&&(r2=null,Ed(m,v)),v=!1;var Y=Mr;t:do try{if(ki!==0&&si!==null){var tt=si,ht=qs;switch(ki){case 8:U4(),Y=6;break t;case 3:case 2:case 9:case 6:mo.current===null&&(v=!0);var Mt=ki;if(ki=0,qs=null,Md(m,tt,ht,Mt),x&&_d){Y=0;break t}break;default:Mt=ki,ki=0,qs=null,Md(m,tt,ht,Mt)}}PK(),Y=Mr;break}catch(jt){AC(m,jt)}while(!0);return v&&m.shellSuspendCounter++,wl=dh=null,Ni=O,_t.H=L,_t.A=U,si===null&&(Ki=null,hi=0,Mv()),Y}function PK(){for(;si!==null;)OC(si)}function IK(m,v){var x=Ni;Ni|=2;var O=RC(),L=CC();Ki!==m||hi!==v?(r2=null,i2=Q()+500,Ed(m,v)):_d=s(m,v);t:do try{if(ki!==0&&si!==null){v=si;var U=qs;e:switch(ki){case 1:ki=0,qs=null,Md(m,v,U,1);break;case 2:case 9:if(BA(U)){ki=0,qs=null,$C(v);break}v=function(){ki!==2&&ki!==9||Ki!==m||(ki=7),Ia(m)},U.then(v,v);break t;case 3:ki=7;break t;case 4:ki=5;break t;case 7:BA(U)?(ki=0,qs=null,$C(v)):(ki=0,qs=null,Md(m,v,U,7));break;case 5:var Y=null;switch(si.tag){case 26:Y=si.memoizedState;case 5:case 27:var tt=si;if(!Y||fO(Y)){ki=0,qs=null;var ht=tt.sibling;if(ht!==null)si=ht;else{var Mt=tt.return;Mt!==null?(si=Mt,s2(Mt)):si=null}break e}}ki=0,qs=null,Md(m,v,U,5);break;case 6:ki=0,qs=null,Md(m,v,U,6);break;case 8:U4(),Mr=6;break t;default:throw Error(n(462))}}DK();break}catch(jt){AC(m,jt)}while(!0);return wl=dh=null,_t.H=O,_t.A=L,Ni=x,si!==null?0:(Ki=null,hi=0,Mv(),Mr)}function DK(){for(;si!==null&&!ts();)OC(si)}function OC(m){var v=rC(m.alternate,m,Rl);m.memoizedProps=m.pendingProps,v===null?s2(m):si=v}function $C(m){var v=m,x=v.alternate;switch(v.tag){case 15:case 0:v=XR(x,v,v.pendingProps,v.type,void 0,hi);break;case 11:v=XR(x,v,v.pendingProps,v.type.render,v.ref,hi);break;case 5:r4(v);default:sC(x,v),v=si=NA(v,Rl),v=rC(x,v,Rl)}m.memoizedProps=m.pendingProps,v===null?s2(m):si=v}function Md(m,v,x,O){wl=dh=null,r4(v),gd=null,$1=0;var L=v.return;try{if(EK(m,L,v,x,hi)){Mr=1,Kv(m,ho(x,m.current)),si=null;return}}catch(U){if(L!==null)throw si=L,U;Mr=1,Kv(m,ho(x,m.current)),si=null;return}v.flags&32768?(Ti||O===1?m=!0:_d||(hi&536870912)!==0?m=!1:(Ou=m=!0,(O===2||O===9||O===3||O===6)&&(O=mo.current,O!==null&&O.tag===13&&(O.flags|=16384))),NC(v,m)):s2(v)}function s2(m){var v=m;do{if((v.flags&32768)!==0){NC(v,Ou);return}m=v.return;var x=AK(v.alternate,v,Rl);if(x!==null){si=x;return}if(v=v.sibling,v!==null){si=v;return}si=v=m}while(v!==null);Mr===0&&(Mr=5)}function NC(m,v){do{var x=RK(m.alternate,m);if(x!==null){x.flags&=32767,si=x;return}if(x=m.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!v&&(m=m.sibling,m!==null)){si=m;return}si=m=x}while(m!==null);Mr=6,si=null}function kC(m,v,x,O,L,U,Y,tt,ht){m.cancelPendingCommit=null;do o2();while(Mn!==0);if((Ni&6)!==0)throw Error(n(327));if(v!==null){if(v===m.current)throw Error(n(177));if(U=v.lanes|v.childLanes,U|=N9,_(m,x,U,Y,tt,ht),m===Ki&&(si=Ki=null,hi=0),xd=v,ku=m,Td=x,L4=U,j4=L,xC=O,(v.subtreeFlags&10256)!==0||(v.flags&10256)!==0?(m.callbackNode=null,m.callbackPriority=0,UK(Ve,function(){return jC(),null})):(m.callbackNode=null,m.callbackPriority=0),O=(v.flags&13878)!==0,(v.subtreeFlags&13878)!==0||O){O=_t.T,_t.T=null,L=It.p,It.p=2,Y=Ni,Ni|=4;try{CK(m,v,x)}finally{Ni=Y,It.p=L,_t.T=O}}Mn=1,PC(),IC(),DC()}}function PC(){if(Mn===1){Mn=0;var m=ku,v=xd,x=(v.flags&13878)!==0;if((v.subtreeFlags&13878)!==0||x){x=_t.T,_t.T=null;var O=It.p;It.p=2;var L=Ni;Ni|=4;try{mC(v,m);var U=t6,Y=SA(m.containerInfo),tt=U.focusedElem,ht=U.selectionRange;if(Y!==tt&&tt&&tt.ownerDocument&&_A(tt.ownerDocument.documentElement,tt)){if(ht!==null&&A9(tt)){var Mt=ht.start,jt=ht.end;if(jt===void 0&&(jt=Mt),"selectionStart"in tt)tt.selectionStart=Mt,tt.selectionEnd=Math.min(jt,tt.value.length);else{var qt=tt.ownerDocument||document,At=qt&&qt.defaultView||window;if(At.getSelection){var Ot=At.getSelection(),De=tt.textContent.length,$e=Math.min(ht.start,De),Ui=ht.end===void 0?$e:Math.min(ht.end,De);!Ot.extend&&$e>Ui&&(Y=Ui,Ui=$e,$e=Y);var wt=wA(tt,$e),gt=wA(tt,Ui);if(wt&&gt&&(Ot.rangeCount!==1||Ot.anchorNode!==wt.node||Ot.anchorOffset!==wt.offset||Ot.focusNode!==gt.node||Ot.focusOffset!==gt.offset)){var Et=qt.createRange();Et.setStart(wt.node,wt.offset),Ot.removeAllRanges(),$e>Ui?(Ot.addRange(Et),Ot.extend(gt.node,gt.offset)):(Et.setEnd(gt.node,gt.offset),Ot.addRange(Et))}}}}for(qt=[],Ot=tt;Ot=Ot.parentNode;)Ot.nodeType===1&&qt.push({element:Ot,left:Ot.scrollLeft,top:Ot.scrollTop});for(typeof tt.focus=="function"&&tt.focus(),tt=0;tt<qt.length;tt++){var Bt=qt[tt];Bt.element.scrollLeft=Bt.left,Bt.element.scrollTop=Bt.top}}v2=!!Q4,t6=Q4=null}finally{Ni=L,It.p=O,_t.T=x}}m.current=v,Mn=2}}function IC(){if(Mn===2){Mn=0;var m=ku,v=xd,x=(v.flags&8772)!==0;if((v.subtreeFlags&8772)!==0||x){x=_t.T,_t.T=null;var O=It.p;It.p=2;var L=Ni;Ni|=4;try{fC(m,v.alternate,v)}finally{Ni=L,It.p=O,_t.T=x}}Mn=3}}function DC(){if(Mn===4||Mn===3){Mn=0,bi();var m=ku,v=xd,x=Td,O=xC;(v.subtreeFlags&10256)!==0||(v.flags&10256)!==0?Mn=5:(Mn=0,xd=ku=null,LC(m,m.pendingLanes));var L=m.pendingLanes;if(L===0&&(Nu=null),P(x),v=v.stateNode,Wi&&typeof Wi.onCommitFiberRoot=="function")try{Wi.onCommitFiberRoot(ds,v,void 0,(v.current.flags&128)===128)}catch{}if(O!==null){v=_t.T,L=It.p,It.p=2,_t.T=null;try{for(var U=m.onRecoverableError,Y=0;Y<O.length;Y++){var tt=O[Y];U(tt.value,{componentStack:tt.stack})}}finally{_t.T=v,It.p=L}}(Td&3)!==0&&o2(),Ia(m),L=m.pendingLanes,(x&4194090)!==0&&(L&42)!==0?m===z4?U1++:(U1=0,z4=m):U1=0,F1(0)}}function LC(m,v){(m.pooledCacheLanes&=v)===0&&(v=m.pooledCache,v!=null&&(m.pooledCache=null,w1(v)))}function o2(m){return PC(),IC(),DC(),jC()}function jC(){if(Mn!==5)return!1;var m=ku,v=L4;L4=0;var x=P(Td),O=_t.T,L=It.p;try{It.p=32>x?32:x,_t.T=null,x=j4,j4=null;var U=ku,Y=Td;if(Mn=0,xd=ku=null,Td=0,(Ni&6)!==0)throw Error(n(331));var tt=Ni;if(Ni|=4,_C(U.current),vC(U,U.current,Y,x),Ni=tt,F1(0,!1),Wi&&typeof Wi.onPostCommitFiberRoot=="function")try{Wi.onPostCommitFiberRoot(ds,U)}catch{}return!0}finally{It.p=L,_t.T=O,LC(m,v)}}function zC(m,v,x){v=ho(x,v),v=g4(m.stateNode,v,2),m=xu(m,v,2),m!==null&&(g(m,2),Ia(m))}function Yi(m,v,x){if(m.tag===3)zC(m,m,x);else for(;v!==null;){if(v.tag===3){zC(v,m,x);break}else if(v.tag===1){var O=v.stateNode;if(typeof v.type.getDerivedStateFromError=="function"||typeof O.componentDidCatch=="function"&&(Nu===null||!Nu.has(O))){m=ho(x,m),x=GR(2),O=xu(v,x,2),O!==null&&(qR(x,O,v,m),g(O,2),Ia(O));break}}v=v.return}}function G4(m,v,x){var O=m.pingCache;if(O===null){O=m.pingCache=new NK;var L=new Set;O.set(v,L)}else L=O.get(v),L===void 0&&(L=new Set,O.set(v,L));L.has(x)||(k4=!0,L.add(x),m=LK.bind(null,m,v,x),v.then(m,m))}function LK(m,v,x){var O=m.pingCache;O!==null&&O.delete(v),m.pingedLanes|=m.suspendedLanes&x,m.warmLanes&=~x,Ki===m&&(hi&x)===x&&(Mr===4||Mr===3&&(hi&62914560)===hi&&300>Q()-D4?(Ni&2)===0&&Ed(m,0):P4|=x,Sd===hi&&(Sd=0)),Ia(m)}function UC(m,v){v===0&&(v=f()),m=ad(m,v),m!==null&&(g(m,v),Ia(m))}function jK(m){var v=m.memoizedState,x=0;v!==null&&(x=v.retryLane),UC(m,x)}function zK(m,v){var x=0;switch(m.tag){case 13:var O=m.stateNode,L=m.memoizedState;L!==null&&(x=L.retryLane);break;case 19:O=m.stateNode;break;case 22:O=m.stateNode._retryCache;break;default:throw Error(n(314))}O!==null&&O.delete(v),UC(m,x)}function UK(m,v){return xn(m,v)}var a2=null,Ad=null,q4=!1,l2=!1,H4=!1,wh=0;function Ia(m){m!==Ad&&m.next===null&&(Ad===null?a2=Ad=m:Ad=Ad.next=m),l2=!0,q4||(q4=!0,BK())}function F1(m,v){if(!H4&&l2){H4=!0;do for(var x=!1,O=a2;O!==null;){if(m!==0){var L=O.pendingLanes;if(L===0)var U=0;else{var Y=O.suspendedLanes,tt=O.pingedLanes;U=(1<<31-Gt(42|m)+1)-1,U&=L&~(Y&~tt),U=U&201326741?U&201326741|1:U?U|2:0}U!==0&&(x=!0,qC(O,U))}else U=hi,U=r(O,O===Ki?U:0,O.cancelPendingCommit!==null||O.timeoutHandle!==-1),(U&3)===0||s(O,U)||(x=!0,qC(O,U));O=O.next}while(x);H4=!1}}function FK(){FC()}function FC(){l2=q4=!1;var m=0;wh!==0&&(KK()&&(m=wh),wh=0);for(var v=Q(),x=null,O=a2;O!==null;){var L=O.next,U=BC(O,v);U===0?(O.next=null,x===null?a2=L:x.next=L,L===null&&(Ad=x)):(x=O,(m!==0||(U&3)!==0)&&(l2=!0)),O=L}F1(m)}function BC(m,v){for(var x=m.suspendedLanes,O=m.pingedLanes,L=m.expirationTimes,U=m.pendingLanes&-62914561;0<U;){var Y=31-Gt(U),tt=1<<Y,ht=L[Y];ht===-1?((tt&x)===0||(tt&O)!==0)&&(L[Y]=l(tt,v)):ht<=v&&(m.expiredLanes|=tt),U&=~tt}if(v=Ki,x=hi,x=r(m,m===v?x:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),O=m.callbackNode,x===0||m===v&&(ki===2||ki===9)||m.cancelPendingCommit!==null)return O!==null&&O!==null&&we(O),m.callbackNode=null,m.callbackPriority=0;if((x&3)===0||s(m,x)){if(v=x&-x,v===m.callbackPriority)return v;switch(O!==null&&we(O),P(x)){case 2:case 8:x=Me;break;case 32:x=Ve;break;case 268435456:x=Tr;break;default:x=Ve}return O=GC.bind(null,m),x=xn(x,O),m.callbackPriority=v,m.callbackNode=x,v}return O!==null&&O!==null&&we(O),m.callbackPriority=2,m.callbackNode=null,2}function GC(m,v){if(Mn!==0&&Mn!==5)return m.callbackNode=null,m.callbackPriority=0,null;var x=m.callbackNode;if(o2()&&m.callbackNode!==x)return null;var O=hi;return O=r(m,m===Ki?O:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),O===0?null:(EC(m,O,v),BC(m,Q()),m.callbackNode!=null&&m.callbackNode===x?GC.bind(null,m):null)}function qC(m,v){if(o2())return null;EC(m,v,!0)}function BK(){ZK(function(){(Ni&6)!==0?xn(fs,FK):FC()})}function V4(){return wh===0&&(wh=h()),wh}function HC(m){return m==null||typeof m=="symbol"||typeof m=="boolean"?null:typeof m=="function"?m:bv(""+m)}function VC(m,v){var x=v.ownerDocument.createElement("input");return x.name=v.name,x.value=v.value,m.id&&x.setAttribute("form",m.id),v.parentNode.insertBefore(x,v),m=new FormData(m),x.parentNode.removeChild(x),m}function GK(m,v,x,O,L){if(v==="submit"&&x&&x.stateNode===L){var U=HC((L[q]||null).action),Y=O.submitter;Y&&(v=(v=Y[q]||null)?HC(v.formAction):Y.getAttribute("formAction"),v!==null&&(U=v,Y=null));var tt=new xv("action","action",null,O,L);m.push({event:tt,listeners:[{instance:null,listener:function(){if(O.defaultPrevented){if(wh!==0){var ht=Y?VC(L,Y):new FormData(L);f4(x,{pending:!0,data:ht,method:L.method,action:U},null,ht)}}else typeof U=="function"&&(tt.preventDefault(),ht=Y?VC(L,Y):new FormData(L),f4(x,{pending:!0,data:ht,method:L.method,action:U},U,ht))},currentTarget:L}]})}}for(var W4=0;W4<$9.length;W4++){var J4=$9[W4],qK=J4.toLowerCase(),HK=J4[0].toUpperCase()+J4.slice(1);Xo(qK,"on"+HK)}Xo(EA,"onAnimationEnd"),Xo(MA,"onAnimationIteration"),Xo(AA,"onAnimationStart"),Xo("dblclick","onDoubleClick"),Xo("focusin","onFocus"),Xo("focusout","onBlur"),Xo(lK,"onTransitionRun"),Xo(uK,"onTransitionStart"),Xo(cK,"onTransitionCancel"),Xo(RA,"onTransitionEnd"),ai("onMouseEnter",["mouseout","mouseover"]),ai("onMouseLeave",["mouseout","mouseover"]),ai("onPointerEnter",["pointerout","pointerover"]),ai("onPointerLeave",["pointerout","pointerover"]),xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var B1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VK=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(B1));function WC(m,v){v=(v&4)!==0;for(var x=0;x<m.length;x++){var O=m[x],L=O.event;O=O.listeners;t:{var U=void 0;if(v)for(var Y=O.length-1;0<=Y;Y--){var tt=O[Y],ht=tt.instance,Mt=tt.currentTarget;if(tt=tt.listener,ht!==U&&L.isPropagationStopped())break t;U=tt,L.currentTarget=Mt;try{U(L)}catch(jt){Yv(jt)}L.currentTarget=null,U=ht}else for(Y=0;Y<O.length;Y++){if(tt=O[Y],ht=tt.instance,Mt=tt.currentTarget,tt=tt.listener,ht!==U&&L.isPropagationStopped())break t;U=tt,L.currentTarget=Mt;try{U(L)}catch(jt){Yv(jt)}L.currentTarget=null,U=ht}}}}function oi(m,v){var x=v[nt];x===void 0&&(x=v[nt]=new Set);var O=m+"__bubble";x.has(O)||(JC(v,m,2,!1),x.add(O))}function Y4(m,v,x){var O=0;v&&(O|=4),JC(x,m,O,v)}var u2="_reactListening"+Math.random().toString(36).slice(2);function K4(m){if(!m[u2]){m[u2]=!0,Ye.forEach(function(x){x!=="selectionchange"&&(VK.has(x)||Y4(x,!1,m),Y4(x,!0,m))});var v=m.nodeType===9?m:m.ownerDocument;v===null||v[u2]||(v[u2]=!0,Y4("selectionchange",!1,v))}}function JC(m,v,x,O){switch(vO(v)){case 2:var L=bX;break;case 8:L=wX;break;default:L=c6}x=L.bind(null,v,x,m),L=void 0,!v9||v!=="touchstart"&&v!=="touchmove"&&v!=="wheel"||(L=!0),O?L!==void 0?m.addEventListener(v,x,{capture:!0,passive:L}):m.addEventListener(v,x,!0):L!==void 0?m.addEventListener(v,x,{passive:L}):m.addEventListener(v,x,!1)}function X4(m,v,x,O,L){var U=O;if((v&1)===0&&(v&2)===0&&O!==null)t:for(;;){if(O===null)return;var Y=O.tag;if(Y===3||Y===4){var tt=O.stateNode.containerInfo;if(tt===L)break;if(Y===4)for(Y=O.return;Y!==null;){var ht=Y.tag;if((ht===3||ht===4)&&Y.stateNode.containerInfo===L)return;Y=Y.return}for(;tt!==null;){if(Y=Pt(tt),Y===null)return;if(ht=Y.tag,ht===5||ht===6||ht===26||ht===27){O=U=Y;continue t}tt=tt.parentNode}}O=O.return}eA(function(){var Mt=U,jt=m9(x),qt=[];t:{var At=CA.get(m);if(At!==void 0){var Ot=xv,De=m;switch(m){case"keypress":if(_v(x)===0)break t;case"keydown":case"keyup":Ot=UY;break;case"focusin":De="focus",Ot=S9;break;case"focusout":De="blur",Ot=S9;break;case"beforeblur":case"afterblur":Ot=S9;break;case"click":if(x.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ot=nA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ot=RY;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ot=GY;break;case EA:case MA:case AA:Ot=$Y;break;case RA:Ot=HY;break;case"scroll":case"scrollend":Ot=MY;break;case"wheel":Ot=WY;break;case"copy":case"cut":case"paste":Ot=kY;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ot=oA;break;case"toggle":case"beforetoggle":Ot=YY}var $e=(v&4)!==0,Ui=!$e&&(m==="scroll"||m==="scrollend"),wt=$e?At!==null?At+"Capture":null:At;$e=[];for(var gt=Mt,Et;gt!==null;){var Bt=gt;if(Et=Bt.stateNode,Bt=Bt.tag,Bt!==5&&Bt!==26&&Bt!==27||Et===null||wt===null||(Bt=a1(gt,wt),Bt!=null&&$e.push(G1(gt,Bt,Et))),Ui)break;gt=gt.return}0<$e.length&&(At=new Ot(At,De,null,x,jt),qt.push({event:At,listeners:$e}))}}if((v&7)===0){t:{if(At=m==="mouseover"||m==="pointerover",Ot=m==="mouseout"||m==="pointerout",At&&x!==y9&&(De=x.relatedTarget||x.fromElement)&&(Pt(De)||De[J]))break t;if((Ot||At)&&(At=jt.window===jt?jt:(At=jt.ownerDocument)?At.defaultView||At.parentWindow:window,Ot?(De=x.relatedTarget||x.toElement,Ot=Mt,De=De?Pt(De):null,De!==null&&(Ui=d(De),$e=De.tag,De!==Ui||$e!==5&&$e!==27&&$e!==6)&&(De=null)):(Ot=null,De=Mt),Ot!==De)){if($e=nA,Bt="onMouseLeave",wt="onMouseEnter",gt="mouse",(m==="pointerout"||m==="pointerover")&&($e=oA,Bt="onPointerLeave",wt="onPointerEnter",gt="pointer"),Ui=Ot==null?At:Nt(Ot),Et=De==null?At:Nt(De),At=new $e(Bt,gt+"leave",Ot,x,jt),At.target=Ui,At.relatedTarget=Et,Bt=null,Pt(jt)===Mt&&($e=new $e(wt,gt+"enter",De,x,jt),$e.target=Et,$e.relatedTarget=Ui,Bt=$e),Ui=Bt,Ot&&De)e:{for($e=Ot,wt=De,gt=0,Et=$e;Et;Et=Rd(Et))gt++;for(Et=0,Bt=wt;Bt;Bt=Rd(Bt))Et++;for(;0<gt-Et;)$e=Rd($e),gt--;for(;0<Et-gt;)wt=Rd(wt),Et--;for(;gt--;){if($e===wt||wt!==null&&$e===wt.alternate)break e;$e=Rd($e),wt=Rd(wt)}$e=null}else $e=null;Ot!==null&&YC(qt,At,Ot,$e,!1),De!==null&&Ui!==null&&YC(qt,Ui,De,$e,!0)}}t:{if(At=Mt?Nt(Mt):window,Ot=At.nodeName&&At.nodeName.toLowerCase(),Ot==="select"||Ot==="input"&&At.type==="file")var de=pA;else if(fA(At))if(yA)de=sK;else{de=rK;var ii=iK}else Ot=At.nodeName,!Ot||Ot.toLowerCase()!=="input"||At.type!=="checkbox"&&At.type!=="radio"?Mt&&p9(Mt.elementType)&&(de=pA):de=nK;if(de&&(de=de(m,Mt))){dA(qt,de,x,jt);break t}ii&&ii(m,At,Mt),m==="focusout"&&Mt&&At.type==="number"&&Mt.memoizedProps.value!=null&&d9(At,"number",At.value)}switch(ii=Mt?Nt(Mt):window,m){case"focusin":(fA(ii)||ii.contentEditable==="true")&&(nd=ii,R9=Mt,y1=null);break;case"focusout":y1=R9=nd=null;break;case"mousedown":C9=!0;break;case"contextmenu":case"mouseup":case"dragend":C9=!1,xA(qt,x,jt);break;case"selectionchange":if(aK)break;case"keydown":case"keyup":xA(qt,x,jt)}var Ee;if(T9)t:{switch(m){case"compositionstart":var ke="onCompositionStart";break t;case"compositionend":ke="onCompositionEnd";break t;case"compositionupdate":ke="onCompositionUpdate";break t}ke=void 0}else rd?cA(m,x)&&(ke="onCompositionEnd"):m==="keydown"&&x.keyCode===229&&(ke="onCompositionStart");ke&&(aA&&x.locale!=="ko"&&(rd||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&rd&&(Ee=iA()):(bu=jt,b9="value"in bu?bu.value:bu.textContent,rd=!0)),ii=c2(Mt,ke),0<ii.length&&(ke=new sA(ke,m,null,x,jt),qt.push({event:ke,listeners:ii}),Ee?ke.data=Ee:(Ee=hA(x),Ee!==null&&(ke.data=Ee)))),(Ee=XY?ZY(m,x):QY(m,x))&&(ke=c2(Mt,"onBeforeInput"),0<ke.length&&(ii=new sA("onBeforeInput","beforeinput",null,x,jt),qt.push({event:ii,listeners:ke}),ii.data=Ee)),GK(qt,m,Mt,x,jt)}WC(qt,v)})}function G1(m,v,x){return{instance:m,listener:v,currentTarget:x}}function c2(m,v){for(var x=v+"Capture",O=[];m!==null;){var L=m,U=L.stateNode;if(L=L.tag,L!==5&&L!==26&&L!==27||U===null||(L=a1(m,x),L!=null&&O.unshift(G1(m,L,U)),L=a1(m,v),L!=null&&O.push(G1(m,L,U))),m.tag===3)return O;m=m.return}return[]}function Rd(m){if(m===null)return null;do m=m.return;while(m&&m.tag!==5&&m.tag!==27);return m||null}function YC(m,v,x,O,L){for(var U=v._reactName,Y=[];x!==null&&x!==O;){var tt=x,ht=tt.alternate,Mt=tt.stateNode;if(tt=tt.tag,ht!==null&&ht===O)break;tt!==5&&tt!==26&&tt!==27||Mt===null||(ht=Mt,L?(Mt=a1(x,U),Mt!=null&&Y.unshift(G1(x,Mt,ht))):L||(Mt=a1(x,U),Mt!=null&&Y.push(G1(x,Mt,ht)))),x=x.return}Y.length!==0&&m.push({event:v,listeners:Y})}var WK=/\r\n?/g,JK=/\u0000|\uFFFD/g;function KC(m){return(typeof m=="string"?m:""+m).replace(WK,`
`).replace(JK,"")}function XC(m,v){return v=KC(v),KC(m)===v}function h2(){}function zi(m,v,x,O,L,U){switch(x){case"children":typeof O=="string"?v==="body"||v==="textarea"&&O===""||td(m,O):(typeof O=="number"||typeof O=="bigint")&&v!=="body"&&td(m,""+O);break;case"className":un(m,"class",O);break;case"tabIndex":un(m,"tabindex",O);break;case"dir":case"role":case"viewBox":case"width":case"height":un(m,x,O);break;case"style":QM(m,O,U);break;case"data":if(v!=="object"){un(m,"data",O);break}case"src":case"href":if(O===""&&(v!=="a"||x!=="href")){m.removeAttribute(x);break}if(O==null||typeof O=="function"||typeof O=="symbol"||typeof O=="boolean"){m.removeAttribute(x);break}O=bv(""+O),m.setAttribute(x,O);break;case"action":case"formAction":if(typeof O=="function"){m.setAttribute(x,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof U=="function"&&(x==="formAction"?(v!=="input"&&zi(m,v,"name",L.name,L,null),zi(m,v,"formEncType",L.formEncType,L,null),zi(m,v,"formMethod",L.formMethod,L,null),zi(m,v,"formTarget",L.formTarget,L,null)):(zi(m,v,"encType",L.encType,L,null),zi(m,v,"method",L.method,L,null),zi(m,v,"target",L.target,L,null)));if(O==null||typeof O=="symbol"||typeof O=="boolean"){m.removeAttribute(x);break}O=bv(""+O),m.setAttribute(x,O);break;case"onClick":O!=null&&(m.onclick=h2);break;case"onScroll":O!=null&&oi("scroll",m);break;case"onScrollEnd":O!=null&&oi("scrollend",m);break;case"dangerouslySetInnerHTML":if(O!=null){if(typeof O!="object"||!("__html"in O))throw Error(n(61));if(x=O.__html,x!=null){if(L.children!=null)throw Error(n(60));m.innerHTML=x}}break;case"multiple":m.multiple=O&&typeof O!="function"&&typeof O!="symbol";break;case"muted":m.muted=O&&typeof O!="function"&&typeof O!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(O==null||typeof O=="function"||typeof O=="boolean"||typeof O=="symbol"){m.removeAttribute("xlink:href");break}x=bv(""+O),m.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",x);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":O!=null&&typeof O!="function"&&typeof O!="symbol"?m.setAttribute(x,""+O):m.removeAttribute(x);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":O&&typeof O!="function"&&typeof O!="symbol"?m.setAttribute(x,""):m.removeAttribute(x);break;case"capture":case"download":O===!0?m.setAttribute(x,""):O!==!1&&O!=null&&typeof O!="function"&&typeof O!="symbol"?m.setAttribute(x,O):m.removeAttribute(x);break;case"cols":case"rows":case"size":case"span":O!=null&&typeof O!="function"&&typeof O!="symbol"&&!isNaN(O)&&1<=O?m.setAttribute(x,O):m.removeAttribute(x);break;case"rowSpan":case"start":O==null||typeof O=="function"||typeof O=="symbol"||isNaN(O)?m.removeAttribute(x):m.setAttribute(x,O);break;case"popover":oi("beforetoggle",m),oi("toggle",m),yi(m,"popover",O);break;case"xlinkActuate":Ie(m,"http://www.w3.org/1999/xlink","xlink:actuate",O);break;case"xlinkArcrole":Ie(m,"http://www.w3.org/1999/xlink","xlink:arcrole",O);break;case"xlinkRole":Ie(m,"http://www.w3.org/1999/xlink","xlink:role",O);break;case"xlinkShow":Ie(m,"http://www.w3.org/1999/xlink","xlink:show",O);break;case"xlinkTitle":Ie(m,"http://www.w3.org/1999/xlink","xlink:title",O);break;case"xlinkType":Ie(m,"http://www.w3.org/1999/xlink","xlink:type",O);break;case"xmlBase":Ie(m,"http://www.w3.org/XML/1998/namespace","xml:base",O);break;case"xmlLang":Ie(m,"http://www.w3.org/XML/1998/namespace","xml:lang",O);break;case"xmlSpace":Ie(m,"http://www.w3.org/XML/1998/namespace","xml:space",O);break;case"is":yi(m,"is",O);break;case"innerText":case"textContent":break;default:(!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(x=TY.get(x)||x,yi(m,x,O))}}function Z4(m,v,x,O,L,U){switch(x){case"style":QM(m,O,U);break;case"dangerouslySetInnerHTML":if(O!=null){if(typeof O!="object"||!("__html"in O))throw Error(n(61));if(x=O.__html,x!=null){if(L.children!=null)throw Error(n(60));m.innerHTML=x}}break;case"children":typeof O=="string"?td(m,O):(typeof O=="number"||typeof O=="bigint")&&td(m,""+O);break;case"onScroll":O!=null&&oi("scroll",m);break;case"onScrollEnd":O!=null&&oi("scrollend",m);break;case"onClick":O!=null&&(m.onclick=h2);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pi.hasOwnProperty(x))t:{if(x[0]==="o"&&x[1]==="n"&&(L=x.endsWith("Capture"),v=x.slice(2,L?x.length-7:void 0),U=m[q]||null,U=U!=null?U[x]:null,typeof U=="function"&&m.removeEventListener(v,U,L),typeof O=="function")){typeof U!="function"&&U!==null&&(x in m?m[x]=null:m.hasAttribute(x)&&m.removeAttribute(x)),m.addEventListener(v,O,L);break t}x in m?m[x]=O:O===!0?m.setAttribute(x,""):yi(m,x,O)}}}function An(m,v,x){switch(v){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":oi("error",m),oi("load",m);var O=!1,L=!1,U;for(U in x)if(x.hasOwnProperty(U)){var Y=x[U];if(Y!=null)switch(U){case"src":O=!0;break;case"srcSet":L=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,v));default:zi(m,v,U,Y,x,null)}}L&&zi(m,v,"srcSet",x.srcSet,x,null),O&&zi(m,v,"src",x.src,x,null);return;case"input":oi("invalid",m);var tt=U=Y=L=null,ht=null,Mt=null;for(O in x)if(x.hasOwnProperty(O)){var jt=x[O];if(jt!=null)switch(O){case"name":L=jt;break;case"type":Y=jt;break;case"checked":ht=jt;break;case"defaultChecked":Mt=jt;break;case"value":U=jt;break;case"defaultValue":tt=jt;break;case"children":case"dangerouslySetInnerHTML":if(jt!=null)throw Error(n(137,v));break;default:zi(m,v,O,jt,x,null)}}YM(m,U,tt,ht,Mt,Y,L,!1),Te(m);return;case"select":oi("invalid",m),O=Y=U=null;for(L in x)if(x.hasOwnProperty(L)&&(tt=x[L],tt!=null))switch(L){case"value":U=tt;break;case"defaultValue":Y=tt;break;case"multiple":O=tt;default:zi(m,v,L,tt,x,null)}v=U,x=Y,m.multiple=!!O,v!=null?Qf(m,!!O,v,!1):x!=null&&Qf(m,!!O,x,!0);return;case"textarea":oi("invalid",m),U=L=O=null;for(Y in x)if(x.hasOwnProperty(Y)&&(tt=x[Y],tt!=null))switch(Y){case"value":O=tt;break;case"defaultValue":L=tt;break;case"children":U=tt;break;case"dangerouslySetInnerHTML":if(tt!=null)throw Error(n(91));break;default:zi(m,v,Y,tt,x,null)}XM(m,O,L,U),Te(m);return;case"option":for(ht in x)if(x.hasOwnProperty(ht)&&(O=x[ht],O!=null))switch(ht){case"selected":m.selected=O&&typeof O!="function"&&typeof O!="symbol";break;default:zi(m,v,ht,O,x,null)}return;case"dialog":oi("beforetoggle",m),oi("toggle",m),oi("cancel",m),oi("close",m);break;case"iframe":case"object":oi("load",m);break;case"video":case"audio":for(O=0;O<B1.length;O++)oi(B1[O],m);break;case"image":oi("error",m),oi("load",m);break;case"details":oi("toggle",m);break;case"embed":case"source":case"link":oi("error",m),oi("load",m);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Mt in x)if(x.hasOwnProperty(Mt)&&(O=x[Mt],O!=null))switch(Mt){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,v));default:zi(m,v,Mt,O,x,null)}return;default:if(p9(v)){for(jt in x)x.hasOwnProperty(jt)&&(O=x[jt],O!==void 0&&Z4(m,v,jt,O,x,void 0));return}}for(tt in x)x.hasOwnProperty(tt)&&(O=x[tt],O!=null&&zi(m,v,tt,O,x,null))}function YK(m,v,x,O){switch(v){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var L=null,U=null,Y=null,tt=null,ht=null,Mt=null,jt=null;for(Ot in x){var qt=x[Ot];if(x.hasOwnProperty(Ot)&&qt!=null)switch(Ot){case"checked":break;case"value":break;case"defaultValue":ht=qt;default:O.hasOwnProperty(Ot)||zi(m,v,Ot,null,O,qt)}}for(var At in O){var Ot=O[At];if(qt=x[At],O.hasOwnProperty(At)&&(Ot!=null||qt!=null))switch(At){case"type":U=Ot;break;case"name":L=Ot;break;case"checked":Mt=Ot;break;case"defaultChecked":jt=Ot;break;case"value":Y=Ot;break;case"defaultValue":tt=Ot;break;case"children":case"dangerouslySetInnerHTML":if(Ot!=null)throw Error(n(137,v));break;default:Ot!==qt&&zi(m,v,At,Ot,O,qt)}}f9(m,Y,tt,ht,Mt,jt,U,L);return;case"select":Ot=Y=tt=At=null;for(U in x)if(ht=x[U],x.hasOwnProperty(U)&&ht!=null)switch(U){case"value":break;case"multiple":Ot=ht;default:O.hasOwnProperty(U)||zi(m,v,U,null,O,ht)}for(L in O)if(U=O[L],ht=x[L],O.hasOwnProperty(L)&&(U!=null||ht!=null))switch(L){case"value":At=U;break;case"defaultValue":tt=U;break;case"multiple":Y=U;default:U!==ht&&zi(m,v,L,U,O,ht)}v=tt,x=Y,O=Ot,At!=null?Qf(m,!!x,At,!1):!!O!=!!x&&(v!=null?Qf(m,!!x,v,!0):Qf(m,!!x,x?[]:"",!1));return;case"textarea":Ot=At=null;for(tt in x)if(L=x[tt],x.hasOwnProperty(tt)&&L!=null&&!O.hasOwnProperty(tt))switch(tt){case"value":break;case"children":break;default:zi(m,v,tt,null,O,L)}for(Y in O)if(L=O[Y],U=x[Y],O.hasOwnProperty(Y)&&(L!=null||U!=null))switch(Y){case"value":At=L;break;case"defaultValue":Ot=L;break;case"children":break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(n(91));break;default:L!==U&&zi(m,v,Y,L,O,U)}KM(m,At,Ot);return;case"option":for(var De in x)if(At=x[De],x.hasOwnProperty(De)&&At!=null&&!O.hasOwnProperty(De))switch(De){case"selected":m.selected=!1;break;default:zi(m,v,De,null,O,At)}for(ht in O)if(At=O[ht],Ot=x[ht],O.hasOwnProperty(ht)&&At!==Ot&&(At!=null||Ot!=null))switch(ht){case"selected":m.selected=At&&typeof At!="function"&&typeof At!="symbol";break;default:zi(m,v,ht,At,O,Ot)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $e in x)At=x[$e],x.hasOwnProperty($e)&&At!=null&&!O.hasOwnProperty($e)&&zi(m,v,$e,null,O,At);for(Mt in O)if(At=O[Mt],Ot=x[Mt],O.hasOwnProperty(Mt)&&At!==Ot&&(At!=null||Ot!=null))switch(Mt){case"children":case"dangerouslySetInnerHTML":if(At!=null)throw Error(n(137,v));break;default:zi(m,v,Mt,At,O,Ot)}return;default:if(p9(v)){for(var Ui in x)At=x[Ui],x.hasOwnProperty(Ui)&&At!==void 0&&!O.hasOwnProperty(Ui)&&Z4(m,v,Ui,void 0,O,At);for(jt in O)At=O[jt],Ot=x[jt],!O.hasOwnProperty(jt)||At===Ot||At===void 0&&Ot===void 0||Z4(m,v,jt,At,O,Ot);return}}for(var wt in x)At=x[wt],x.hasOwnProperty(wt)&&At!=null&&!O.hasOwnProperty(wt)&&zi(m,v,wt,null,O,At);for(qt in O)At=O[qt],Ot=x[qt],!O.hasOwnProperty(qt)||At===Ot||At==null&&Ot==null||zi(m,v,qt,At,O,Ot)}var Q4=null,t6=null;function f2(m){return m.nodeType===9?m:m.ownerDocument}function ZC(m){switch(m){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function QC(m,v){if(m===0)switch(v){case"svg":return 1;case"math":return 2;default:return 0}return m===1&&v==="foreignObject"?0:m}function e6(m,v){return m==="textarea"||m==="noscript"||typeof v.children=="string"||typeof v.children=="number"||typeof v.children=="bigint"||typeof v.dangerouslySetInnerHTML=="object"&&v.dangerouslySetInnerHTML!==null&&v.dangerouslySetInnerHTML.__html!=null}var i6=null;function KK(){var m=window.event;return m&&m.type==="popstate"?m===i6?!1:(i6=m,!0):(i6=null,!1)}var tO=typeof setTimeout=="function"?setTimeout:void 0,XK=typeof clearTimeout=="function"?clearTimeout:void 0,eO=typeof Promise=="function"?Promise:void 0,ZK=typeof queueMicrotask=="function"?queueMicrotask:typeof eO<"u"?function(m){return eO.resolve(null).then(m).catch(QK)}:tO;function QK(m){setTimeout(function(){throw m})}function Iu(m){return m==="head"}function iO(m,v){var x=v,O=0,L=0;do{var U=x.nextSibling;if(m.removeChild(x),U&&U.nodeType===8)if(x=U.data,x==="/$"){if(0<O&&8>O){x=O;var Y=m.ownerDocument;if(x&1&&q1(Y.documentElement),x&2&&q1(Y.body),x&4)for(x=Y.head,q1(x),Y=x.firstChild;Y;){var tt=Y.nextSibling,ht=Y.nodeName;Y[Tt]||ht==="SCRIPT"||ht==="STYLE"||ht==="LINK"&&Y.rel.toLowerCase()==="stylesheet"||x.removeChild(Y),Y=tt}}if(L===0){m.removeChild(U),Z1(v);return}L--}else x==="$"||x==="$?"||x==="$!"?L++:O=x.charCodeAt(0)-48;else O=0;x=U}while(x);Z1(v)}function r6(m){var v=m.firstChild;for(v&&v.nodeType===10&&(v=v.nextSibling);v;){var x=v;switch(v=v.nextSibling,x.nodeName){case"HTML":case"HEAD":case"BODY":r6(x),Ut(x);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(x.rel.toLowerCase()==="stylesheet")continue}m.removeChild(x)}}function tX(m,v,x,O){for(;m.nodeType===1;){var L=x;if(m.nodeName.toLowerCase()!==v.toLowerCase()){if(!O&&(m.nodeName!=="INPUT"||m.type!=="hidden"))break}else if(O){if(!m[Tt])switch(v){case"meta":if(!m.hasAttribute("itemprop"))break;return m;case"link":if(U=m.getAttribute("rel"),U==="stylesheet"&&m.hasAttribute("data-precedence"))break;if(U!==L.rel||m.getAttribute("href")!==(L.href==null||L.href===""?null:L.href)||m.getAttribute("crossorigin")!==(L.crossOrigin==null?null:L.crossOrigin)||m.getAttribute("title")!==(L.title==null?null:L.title))break;return m;case"style":if(m.hasAttribute("data-precedence"))break;return m;case"script":if(U=m.getAttribute("src"),(U!==(L.src==null?null:L.src)||m.getAttribute("type")!==(L.type==null?null:L.type)||m.getAttribute("crossorigin")!==(L.crossOrigin==null?null:L.crossOrigin))&&U&&m.hasAttribute("async")&&!m.hasAttribute("itemprop"))break;return m;default:return m}}else if(v==="input"&&m.type==="hidden"){var U=L.name==null?null:""+L.name;if(L.type==="hidden"&&m.getAttribute("name")===U)return m}else return m;if(m=Qo(m.nextSibling),m===null)break}return null}function eX(m,v,x){if(v==="")return null;for(;m.nodeType!==3;)if((m.nodeType!==1||m.nodeName!=="INPUT"||m.type!=="hidden")&&!x||(m=Qo(m.nextSibling),m===null))return null;return m}function n6(m){return m.data==="$!"||m.data==="$?"&&m.ownerDocument.readyState==="complete"}function iX(m,v){var x=m.ownerDocument;if(m.data!=="$?"||x.readyState==="complete")v();else{var O=function(){v(),x.removeEventListener("DOMContentLoaded",O)};x.addEventListener("DOMContentLoaded",O),m._reactRetry=O}}function Qo(m){for(;m!=null;m=m.nextSibling){var v=m.nodeType;if(v===1||v===3)break;if(v===8){if(v=m.data,v==="$"||v==="$!"||v==="$?"||v==="F!"||v==="F")break;if(v==="/$")return null}}return m}var s6=null;function rO(m){m=m.previousSibling;for(var v=0;m;){if(m.nodeType===8){var x=m.data;if(x==="$"||x==="$!"||x==="$?"){if(v===0)return m;v--}else x==="/$"&&v++}m=m.previousSibling}return null}function nO(m,v,x){switch(v=f2(x),m){case"html":if(m=v.documentElement,!m)throw Error(n(452));return m;case"head":if(m=v.head,!m)throw Error(n(453));return m;case"body":if(m=v.body,!m)throw Error(n(454));return m;default:throw Error(n(451))}}function q1(m){for(var v=m.attributes;v.length;)m.removeAttributeNode(v[0]);Ut(m)}var vo=new Map,sO=new Set;function d2(m){return typeof m.getRootNode=="function"?m.getRootNode():m.nodeType===9?m:m.ownerDocument}var Cl=It.d;It.d={f:rX,r:nX,D:sX,C:oX,L:aX,m:lX,X:cX,S:uX,M:hX};function rX(){var m=Cl.f(),v=n2();return m||v}function nX(m){var v=ee(m);v!==null&&v.tag===5&&v.type==="form"?ER(v):Cl.r(m)}var Cd=typeof document>"u"?null:document;function oO(m,v,x){var O=Cd;if(O&&typeof v=="string"&&v){var L=$i(v);L='link[rel="'+m+'"][href="'+L+'"]',typeof x=="string"&&(L+='[crossorigin="'+x+'"]'),sO.has(L)||(sO.add(L),m={rel:m,crossOrigin:x,href:v},O.querySelector(L)===null&&(v=O.createElement("link"),An(v,"link",m),ne(v),O.head.appendChild(v)))}}function sX(m){Cl.D(m),oO("dns-prefetch",m,null)}function oX(m,v){Cl.C(m,v),oO("preconnect",m,v)}function aX(m,v,x){Cl.L(m,v,x);var O=Cd;if(O&&m&&v){var L='link[rel="preload"][as="'+$i(v)+'"]';v==="image"&&x&&x.imageSrcSet?(L+='[imagesrcset="'+$i(x.imageSrcSet)+'"]',typeof x.imageSizes=="string"&&(L+='[imagesizes="'+$i(x.imageSizes)+'"]')):L+='[href="'+$i(m)+'"]';var U=L;switch(v){case"style":U=Od(m);break;case"script":U=$d(m)}vo.has(U)||(m=C({rel:"preload",href:v==="image"&&x&&x.imageSrcSet?void 0:m,as:v},x),vo.set(U,m),O.querySelector(L)!==null||v==="style"&&O.querySelector(H1(U))||v==="script"&&O.querySelector(V1(U))||(v=O.createElement("link"),An(v,"link",m),ne(v),O.head.appendChild(v)))}}function lX(m,v){Cl.m(m,v);var x=Cd;if(x&&m){var O=v&&typeof v.as=="string"?v.as:"script",L='link[rel="modulepreload"][as="'+$i(O)+'"][href="'+$i(m)+'"]',U=L;switch(O){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":U=$d(m)}if(!vo.has(U)&&(m=C({rel:"modulepreload",href:m},v),vo.set(U,m),x.querySelector(L)===null)){switch(O){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(x.querySelector(V1(U)))return}O=x.createElement("link"),An(O,"link",m),ne(O),x.head.appendChild(O)}}}function uX(m,v,x){Cl.S(m,v,x);var O=Cd;if(O&&m){var L=_e(O).hoistableStyles,U=Od(m);v=v||"default";var Y=L.get(U);if(!Y){var tt={loading:0,preload:null};if(Y=O.querySelector(H1(U)))tt.loading=5;else{m=C({rel:"stylesheet",href:m,"data-precedence":v},x),(x=vo.get(U))&&o6(m,x);var ht=Y=O.createElement("link");ne(ht),An(ht,"link",m),ht._p=new Promise(function(Mt,jt){ht.onload=Mt,ht.onerror=jt}),ht.addEventListener("load",function(){tt.loading|=1}),ht.addEventListener("error",function(){tt.loading|=2}),tt.loading|=4,p2(Y,v,O)}Y={type:"stylesheet",instance:Y,count:1,state:tt},L.set(U,Y)}}}function cX(m,v){Cl.X(m,v);var x=Cd;if(x&&m){var O=_e(x).hoistableScripts,L=$d(m),U=O.get(L);U||(U=x.querySelector(V1(L)),U||(m=C({src:m,async:!0},v),(v=vo.get(L))&&a6(m,v),U=x.createElement("script"),ne(U),An(U,"link",m),x.head.appendChild(U)),U={type:"script",instance:U,count:1,state:null},O.set(L,U))}}function hX(m,v){Cl.M(m,v);var x=Cd;if(x&&m){var O=_e(x).hoistableScripts,L=$d(m),U=O.get(L);U||(U=x.querySelector(V1(L)),U||(m=C({src:m,async:!0,type:"module"},v),(v=vo.get(L))&&a6(m,v),U=x.createElement("script"),ne(U),An(U,"link",m),x.head.appendChild(U)),U={type:"script",instance:U,count:1,state:null},O.set(L,U))}}function aO(m,v,x,O){var L=(L=ce.current)?d2(L):null;if(!L)throw Error(n(446));switch(m){case"meta":case"title":return null;case"style":return typeof x.precedence=="string"&&typeof x.href=="string"?(v=Od(x.href),x=_e(L).hoistableStyles,O=x.get(v),O||(O={type:"style",instance:null,count:0,state:null},x.set(v,O)),O):{type:"void",instance:null,count:0,state:null};case"link":if(x.rel==="stylesheet"&&typeof x.href=="string"&&typeof x.precedence=="string"){m=Od(x.href);var U=_e(L).hoistableStyles,Y=U.get(m);if(Y||(L=L.ownerDocument||L,Y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},U.set(m,Y),(U=L.querySelector(H1(m)))&&!U._p&&(Y.instance=U,Y.state.loading=5),vo.has(m)||(x={rel:"preload",as:"style",href:x.href,crossOrigin:x.crossOrigin,integrity:x.integrity,media:x.media,hrefLang:x.hrefLang,referrerPolicy:x.referrerPolicy},vo.set(m,x),U||fX(L,m,x,Y.state))),v&&O===null)throw Error(n(528,""));return Y}if(v&&O!==null)throw Error(n(529,""));return null;case"script":return v=x.async,x=x.src,typeof x=="string"&&v&&typeof v!="function"&&typeof v!="symbol"?(v=$d(x),x=_e(L).hoistableScripts,O=x.get(v),O||(O={type:"script",instance:null,count:0,state:null},x.set(v,O)),O):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,m))}}function Od(m){return'href="'+$i(m)+'"'}function H1(m){return'link[rel="stylesheet"]['+m+"]"}function lO(m){return C({},m,{"data-precedence":m.precedence,precedence:null})}function fX(m,v,x,O){m.querySelector('link[rel="preload"][as="style"]['+v+"]")?O.loading=1:(v=m.createElement("link"),O.preload=v,v.addEventListener("load",function(){return O.loading|=1}),v.addEventListener("error",function(){return O.loading|=2}),An(v,"link",x),ne(v),m.head.appendChild(v))}function $d(m){return'[src="'+$i(m)+'"]'}function V1(m){return"script[async]"+m}function uO(m,v,x){if(v.count++,v.instance===null)switch(v.type){case"style":var O=m.querySelector('style[data-href~="'+$i(x.href)+'"]');if(O)return v.instance=O,ne(O),O;var L=C({},x,{"data-href":x.href,"data-precedence":x.precedence,href:null,precedence:null});return O=(m.ownerDocument||m).createElement("style"),ne(O),An(O,"style",L),p2(O,x.precedence,m),v.instance=O;case"stylesheet":L=Od(x.href);var U=m.querySelector(H1(L));if(U)return v.state.loading|=4,v.instance=U,ne(U),U;O=lO(x),(L=vo.get(L))&&o6(O,L),U=(m.ownerDocument||m).createElement("link"),ne(U);var Y=U;return Y._p=new Promise(function(tt,ht){Y.onload=tt,Y.onerror=ht}),An(U,"link",O),v.state.loading|=4,p2(U,x.precedence,m),v.instance=U;case"script":return U=$d(x.src),(L=m.querySelector(V1(U)))?(v.instance=L,ne(L),L):(O=x,(L=vo.get(U))&&(O=C({},x),a6(O,L)),m=m.ownerDocument||m,L=m.createElement("script"),ne(L),An(L,"link",O),m.head.appendChild(L),v.instance=L);case"void":return null;default:throw Error(n(443,v.type))}else v.type==="stylesheet"&&(v.state.loading&4)===0&&(O=v.instance,v.state.loading|=4,p2(O,x.precedence,m));return v.instance}function p2(m,v,x){for(var O=x.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),L=O.length?O[O.length-1]:null,U=L,Y=0;Y<O.length;Y++){var tt=O[Y];if(tt.dataset.precedence===v)U=tt;else if(U!==L)break}U?U.parentNode.insertBefore(m,U.nextSibling):(v=x.nodeType===9?x.head:x,v.insertBefore(m,v.firstChild))}function o6(m,v){m.crossOrigin==null&&(m.crossOrigin=v.crossOrigin),m.referrerPolicy==null&&(m.referrerPolicy=v.referrerPolicy),m.title==null&&(m.title=v.title)}function a6(m,v){m.crossOrigin==null&&(m.crossOrigin=v.crossOrigin),m.referrerPolicy==null&&(m.referrerPolicy=v.referrerPolicy),m.integrity==null&&(m.integrity=v.integrity)}var y2=null;function cO(m,v,x){if(y2===null){var O=new Map,L=y2=new Map;L.set(x,O)}else L=y2,O=L.get(x),O||(O=new Map,L.set(x,O));if(O.has(m))return O;for(O.set(m,null),x=x.getElementsByTagName(m),L=0;L<x.length;L++){var U=x[L];if(!(U[Tt]||U[W]||m==="link"&&U.getAttribute("rel")==="stylesheet")&&U.namespaceURI!=="http://www.w3.org/2000/svg"){var Y=U.getAttribute(v)||"";Y=m+Y;var tt=O.get(Y);tt?tt.push(U):O.set(Y,[U])}}return O}function hO(m,v,x){m=m.ownerDocument||m,m.head.insertBefore(x,v==="title"?m.querySelector("head > title"):null)}function dX(m,v,x){if(x===1||v.itemProp!=null)return!1;switch(m){case"meta":case"title":return!0;case"style":if(typeof v.precedence!="string"||typeof v.href!="string"||v.href==="")break;return!0;case"link":if(typeof v.rel!="string"||typeof v.href!="string"||v.href===""||v.onLoad||v.onError)break;switch(v.rel){case"stylesheet":return m=v.disabled,typeof v.precedence=="string"&&m==null;default:return!0}case"script":if(v.async&&typeof v.async!="function"&&typeof v.async!="symbol"&&!v.onLoad&&!v.onError&&v.src&&typeof v.src=="string")return!0}return!1}function fO(m){return!(m.type==="stylesheet"&&(m.state.loading&3)===0)}var W1=null;function pX(){}function yX(m,v,x){if(W1===null)throw Error(n(475));var O=W1;if(v.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(v.state.loading&4)===0){if(v.instance===null){var L=Od(x.href),U=m.querySelector(H1(L));if(U){m=U._p,m!==null&&typeof m=="object"&&typeof m.then=="function"&&(O.count++,O=m2.bind(O),m.then(O,O)),v.state.loading|=4,v.instance=U,ne(U);return}U=m.ownerDocument||m,x=lO(x),(L=vo.get(L))&&o6(x,L),U=U.createElement("link"),ne(U);var Y=U;Y._p=new Promise(function(tt,ht){Y.onload=tt,Y.onerror=ht}),An(U,"link",x),v.instance=U}O.stylesheets===null&&(O.stylesheets=new Map),O.stylesheets.set(v,m),(m=v.state.preload)&&(v.state.loading&3)===0&&(O.count++,v=m2.bind(O),m.addEventListener("load",v),m.addEventListener("error",v))}}function mX(){if(W1===null)throw Error(n(475));var m=W1;return m.stylesheets&&m.count===0&&l6(m,m.stylesheets),0<m.count?function(v){var x=setTimeout(function(){if(m.stylesheets&&l6(m,m.stylesheets),m.unsuspend){var O=m.unsuspend;m.unsuspend=null,O()}},6e4);return m.unsuspend=v,function(){m.unsuspend=null,clearTimeout(x)}}:null}function m2(){if(this.count--,this.count===0){if(this.stylesheets)l6(this,this.stylesheets);else if(this.unsuspend){var m=this.unsuspend;this.unsuspend=null,m()}}}var g2=null;function l6(m,v){m.stylesheets=null,m.unsuspend!==null&&(m.count++,g2=new Map,v.forEach(gX,m),g2=null,m2.call(m))}function gX(m,v){if(!(v.state.loading&4)){var x=g2.get(m);if(x)var O=x.get(null);else{x=new Map,g2.set(m,x);for(var L=m.querySelectorAll("link[data-precedence],style[data-precedence]"),U=0;U<L.length;U++){var Y=L[U];(Y.nodeName==="LINK"||Y.getAttribute("media")!=="not all")&&(x.set(Y.dataset.precedence,Y),O=Y)}O&&x.set(null,O)}L=v.instance,Y=L.getAttribute("data-precedence"),U=x.get(Y)||O,U===O&&x.set(null,L),x.set(Y,L),this.count++,O=m2.bind(this),L.addEventListener("load",O),L.addEventListener("error",O),U?U.parentNode.insertBefore(L,U.nextSibling):(m=m.nodeType===9?m.head:m,m.insertBefore(L,m.firstChild)),v.state.loading|=4}}var J1={$$typeof:rt,Provider:null,Consumer:null,_currentValue:$t,_currentValue2:$t,_threadCount:0};function vX(m,v,x,O,L,U,Y,tt){this.tag=1,this.containerInfo=m,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=p(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=p(0),this.hiddenUpdates=p(null),this.identifierPrefix=O,this.onUncaughtError=L,this.onCaughtError=U,this.onRecoverableError=Y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=tt,this.incompleteTransitions=new Map}function dO(m,v,x,O,L,U,Y,tt,ht,Mt,jt,qt){return m=new vX(m,v,x,Y,tt,ht,Mt,qt),v=1,U===!0&&(v|=24),U=Fs(3,null,null,v),m.current=U,U.stateNode=m,v=G9(),v.refCount++,m.pooledCache=v,v.refCount++,U.memoizedState={element:O,isDehydrated:x,cache:v},W9(U),m}function pO(m){return m?(m=ld,m):ld}function yO(m,v,x,O,L,U){L=pO(L),O.context===null?O.context=L:O.pendingContext=L,O=Su(v),O.payload={element:x},U=U===void 0?null:U,U!==null&&(O.callback=U),x=xu(m,O,v),x!==null&&(Vs(x,m,v),T1(x,m,v))}function mO(m,v){if(m=m.memoizedState,m!==null&&m.dehydrated!==null){var x=m.retryLane;m.retryLane=x!==0&&x<v?x:v}}function u6(m,v){mO(m,v),(m=m.alternate)&&mO(m,v)}function gO(m){if(m.tag===13){var v=ad(m,67108864);v!==null&&Vs(v,m,67108864),u6(m,67108864)}}var v2=!0;function bX(m,v,x,O){var L=_t.T;_t.T=null;var U=It.p;try{It.p=2,c6(m,v,x,O)}finally{It.p=U,_t.T=L}}function wX(m,v,x,O){var L=_t.T;_t.T=null;var U=It.p;try{It.p=8,c6(m,v,x,O)}finally{It.p=U,_t.T=L}}function c6(m,v,x,O){if(v2){var L=h6(O);if(L===null)X4(m,v,O,b2,x),bO(m,O);else if(SX(L,m,v,x,O))O.stopPropagation();else if(bO(m,O),v&4&&-1<_X.indexOf(m)){for(;L!==null;){var U=ee(L);if(U!==null)switch(U.tag){case 3:if(U=U.stateNode,U.current.memoizedState.isDehydrated){var Y=o(U.pendingLanes);if(Y!==0){var tt=U;for(tt.pendingLanes|=2,tt.entangledLanes|=2;Y;){var ht=1<<31-Gt(Y);tt.entanglements[1]|=ht,Y&=~ht}Ia(U),(Ni&6)===0&&(i2=Q()+500,F1(0))}}break;case 13:tt=ad(U,2),tt!==null&&Vs(tt,U,2),n2(),u6(U,2)}if(U=h6(O),U===null&&X4(m,v,O,b2,x),U===L)break;L=U}L!==null&&O.stopPropagation()}else X4(m,v,O,null,x)}}function h6(m){return m=m9(m),f6(m)}var b2=null;function f6(m){if(b2=null,m=Pt(m),m!==null){var v=d(m);if(v===null)m=null;else{var x=v.tag;if(x===13){if(m=y(v),m!==null)return m;m=null}else if(x===3){if(v.stateNode.current.memoizedState.isDehydrated)return v.tag===3?v.stateNode.containerInfo:null;m=null}else v!==m&&(m=null)}}return b2=m,null}function vO(m){switch(m){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pr()){case fs:return 2;case Me:return 8;case Ve:case Hr:return 32;case Tr:return 268435456;default:return 32}default:return 32}}var d6=!1,Du=null,Lu=null,ju=null,Y1=new Map,K1=new Map,zu=[],_X="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bO(m,v){switch(m){case"focusin":case"focusout":Du=null;break;case"dragenter":case"dragleave":Lu=null;break;case"mouseover":case"mouseout":ju=null;break;case"pointerover":case"pointerout":Y1.delete(v.pointerId);break;case"gotpointercapture":case"lostpointercapture":K1.delete(v.pointerId)}}function X1(m,v,x,O,L,U){return m===null||m.nativeEvent!==U?(m={blockedOn:v,domEventName:x,eventSystemFlags:O,nativeEvent:U,targetContainers:[L]},v!==null&&(v=ee(v),v!==null&&gO(v)),m):(m.eventSystemFlags|=O,v=m.targetContainers,L!==null&&v.indexOf(L)===-1&&v.push(L),m)}function SX(m,v,x,O,L){switch(v){case"focusin":return Du=X1(Du,m,v,x,O,L),!0;case"dragenter":return Lu=X1(Lu,m,v,x,O,L),!0;case"mouseover":return ju=X1(ju,m,v,x,O,L),!0;case"pointerover":var U=L.pointerId;return Y1.set(U,X1(Y1.get(U)||null,m,v,x,O,L)),!0;case"gotpointercapture":return U=L.pointerId,K1.set(U,X1(K1.get(U)||null,m,v,x,O,L)),!0}return!1}function wO(m){var v=Pt(m.target);if(v!==null){var x=d(v);if(x!==null){if(v=x.tag,v===13){if(v=y(x),v!==null){m.blockedOn=v,F(m.priority,function(){if(x.tag===13){var O=Hs();O=$(O);var L=ad(x,O);L!==null&&Vs(L,x,O),u6(x,O)}});return}}else if(v===3&&x.stateNode.current.memoizedState.isDehydrated){m.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}m.blockedOn=null}function w2(m){if(m.blockedOn!==null)return!1;for(var v=m.targetContainers;0<v.length;){var x=h6(m.nativeEvent);if(x===null){x=m.nativeEvent;var O=new x.constructor(x.type,x);y9=O,x.target.dispatchEvent(O),y9=null}else return v=ee(x),v!==null&&gO(v),m.blockedOn=x,!1;v.shift()}return!0}function _O(m,v,x){w2(m)&&x.delete(v)}function xX(){d6=!1,Du!==null&&w2(Du)&&(Du=null),Lu!==null&&w2(Lu)&&(Lu=null),ju!==null&&w2(ju)&&(ju=null),Y1.forEach(_O),K1.forEach(_O)}function _2(m,v){m.blockedOn===v&&(m.blockedOn=null,d6||(d6=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,xX)))}var S2=null;function SO(m){S2!==m&&(S2=m,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){S2===m&&(S2=null);for(var v=0;v<m.length;v+=3){var x=m[v],O=m[v+1],L=m[v+2];if(typeof O!="function"){if(f6(O||x)===null)continue;break}var U=ee(x);U!==null&&(m.splice(v,3),v-=3,f4(U,{pending:!0,data:L,method:x.method,action:O},O,L))}}))}function Z1(m){function v(ht){return _2(ht,m)}Du!==null&&_2(Du,m),Lu!==null&&_2(Lu,m),ju!==null&&_2(ju,m),Y1.forEach(v),K1.forEach(v);for(var x=0;x<zu.length;x++){var O=zu[x];O.blockedOn===m&&(O.blockedOn=null)}for(;0<zu.length&&(x=zu[0],x.blockedOn===null);)wO(x),x.blockedOn===null&&zu.shift();if(x=(m.ownerDocument||m).$$reactFormReplay,x!=null)for(O=0;O<x.length;O+=3){var L=x[O],U=x[O+1],Y=L[q]||null;if(typeof U=="function")Y||SO(x);else if(Y){var tt=null;if(U&&U.hasAttribute("formAction")){if(L=U,Y=U[q]||null)tt=Y.formAction;else if(f6(L)!==null)continue}else tt=Y.action;typeof tt=="function"?x[O+1]=tt:(x.splice(O,3),O-=3),SO(x)}}}function p6(m){this._internalRoot=m}x2.prototype.render=p6.prototype.render=function(m){var v=this._internalRoot;if(v===null)throw Error(n(409));var x=v.current,O=Hs();yO(x,O,m,v,null,null)},x2.prototype.unmount=p6.prototype.unmount=function(){var m=this._internalRoot;if(m!==null){this._internalRoot=null;var v=m.containerInfo;yO(m.current,2,null,m,null,null),n2(),v[J]=null}};function x2(m){this._internalRoot=m}x2.prototype.unstable_scheduleHydration=function(m){if(m){var v=j();m={blockedOn:null,target:m,priority:v};for(var x=0;x<zu.length&&v!==0&&v<zu[x].priority;x++);zu.splice(x,0,m),x===0&&wO(m)}};var xO=e.version;if(xO!=="19.1.1")throw Error(n(527,xO,"19.1.1"));It.findDOMNode=function(m){var v=m._reactInternals;if(v===void 0)throw typeof m.render=="function"?Error(n(188)):(m=Object.keys(m).join(","),Error(n(268,m)));return m=S(v),m=m!==null?T(m):null,m=m===null?null:m.stateNode,m};var TX={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:_t,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var T2=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!T2.isDisabled&&T2.supportsFiber)try{ds=T2.inject(TX),Wi=T2}catch{}}return ey.createRoot=function(m,v){if(!a(m))throw Error(n(299));var x=!1,O="",L=zR,U=UR,Y=FR,tt=null;return v!=null&&(v.unstable_strictMode===!0&&(x=!0),v.identifierPrefix!==void 0&&(O=v.identifierPrefix),v.onUncaughtError!==void 0&&(L=v.onUncaughtError),v.onCaughtError!==void 0&&(U=v.onCaughtError),v.onRecoverableError!==void 0&&(Y=v.onRecoverableError),v.unstable_transitionCallbacks!==void 0&&(tt=v.unstable_transitionCallbacks)),v=dO(m,1,!1,null,null,x,O,L,U,Y,tt,null),m[J]=v.current,K4(m),new p6(v)},ey.hydrateRoot=function(m,v,x){if(!a(m))throw Error(n(299));var O=!1,L="",U=zR,Y=UR,tt=FR,ht=null,Mt=null;return x!=null&&(x.unstable_strictMode===!0&&(O=!0),x.identifierPrefix!==void 0&&(L=x.identifierPrefix),x.onUncaughtError!==void 0&&(U=x.onUncaughtError),x.onCaughtError!==void 0&&(Y=x.onCaughtError),x.onRecoverableError!==void 0&&(tt=x.onRecoverableError),x.unstable_transitionCallbacks!==void 0&&(ht=x.unstable_transitionCallbacks),x.formState!==void 0&&(Mt=x.formState)),v=dO(m,1,!0,v,x??null,O,L,U,Y,tt,ht,Mt),v.context=pO(null),x=v.current,O=Hs(),O=$(O),L=Su(O),L.callback=null,xu(x,L,O),x=O,v.current.lanes=x,g(v,x),Ia(v),m[J]=v.current,K4(m),new x2(v)},ey.version="19.1.1",ey}var IO;function DX(){if(IO)return v6.exports;IO=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),v6.exports=IX(),v6.exports}var LX=DX();const _L=K.createContext(void 0),Wo=()=>K.useContext(_L),jX=()=>{const{mapDiv:t}=Wo();return at.jsx("div",{ref:t,className:"h-full w-full"})};function DO(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function SL(...t){return e=>{let i=!1;const n=t.map(a=>{const d=DO(a,e);return!i&&typeof d=="function"&&(i=!0),d});if(i)return()=>{for(let a=0;a<n.length;a++){const d=n[a];typeof d=="function"?d():DO(t[a],null)}}}}function kn(...t){return K.useCallback(SL(...t),t)}function Qm(t){const e=UX(t),i=K.forwardRef((n,a)=>{const{children:d,...y}=n,b=K.Children.toArray(d),S=b.find(BX);if(S){const T=S.props.children,C=b.map(k=>k===S?K.Children.count(T)>1?K.Children.only(null):K.isValidElement(T)?T.props.children:null:k);return at.jsx(e,{...y,ref:a,children:K.isValidElement(T)?K.cloneElement(T,void 0,C):null})}return at.jsx(e,{...y,ref:a,children:d})});return i.displayName=`${t}.Slot`,i}var zX=Qm("Slot");function UX(t){const e=K.forwardRef((i,n)=>{const{children:a,...d}=i;if(K.isValidElement(a)){const y=qX(a),b=GX(d,a.props);return a.type!==K.Fragment&&(b.ref=n?SL(n,y):y),K.cloneElement(a,b)}return K.Children.count(a)>1?K.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var FX=Symbol("radix.slottable");function BX(t){return K.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===FX}function GX(t,e){const i={...e};for(const n in e){const a=t[n],d=e[n];/^on[A-Z]/.test(n)?a&&d?i[n]=(...b)=>{const S=d(...b);return a(...b),S}:a&&(i[n]=a):n==="style"?i[n]={...a,...d}:n==="className"&&(i[n]=[a,d].filter(Boolean).join(" "))}return{...t,...i}}function qX(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,i=e&&"isReactWarning"in e&&e.isReactWarning;return i?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,i=e&&"isReactWarning"in e&&e.isReactWarning,i?t.props.ref:t.props.ref||t.ref)}function xL(t){var e,i,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(i=xL(t[e]))&&(n&&(n+=" "),n+=i)}else for(i in t)t[i]&&(n&&(n+=" "),n+=i);return n}function TL(){for(var t,e,i=0,n="",a=arguments.length;i<a;i++)(t=arguments[i])&&(e=xL(t))&&(n&&(n+=" "),n+=e);return n}const LO=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,jO=TL,HX=(t,e)=>i=>{var n;if(e?.variants==null)return jO(t,i?.class,i?.className);const{variants:a,defaultVariants:d}=e,y=Object.keys(a).map(T=>{const C=i?.[T],k=d?.[T];if(C===null)return null;const D=LO(C)||LO(k);return a[T][D]}),b=i&&Object.entries(i).reduce((T,C)=>{let[k,D]=C;return D===void 0||(T[k]=D),T},{}),S=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((T,C)=>{let{class:k,className:D,...z}=C;return Object.entries(z).every(G=>{let[B,H]=G;return Array.isArray(H)?H.includes({...d,...b}[B]):{...d,...b}[B]===H})?[...T,k,D]:T},[]);return jO(t,y,S,i?.class,i?.className)},aT="-",VX=t=>{const e=JX(t),{conflictingClassGroups:i,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:y=>{const b=y.split(aT);return b[0]===""&&b.length!==1&&b.shift(),EL(b,e)||WX(y)},getConflictingClassGroupIds:(y,b)=>{const S=i[y]||[];return b&&n[y]?[...S,...n[y]]:S}}},EL=(t,e)=>{if(t.length===0)return e.classGroupId;const i=t[0],n=e.nextPart.get(i),a=n?EL(t.slice(1),n):void 0;if(a)return a;if(e.validators.length===0)return;const d=t.join(aT);return e.validators.find(({validator:y})=>y(d))?.classGroupId},zO=/^\[(.+)\]$/,WX=t=>{if(zO.test(t)){const e=zO.exec(t)[1],i=e?.substring(0,e.indexOf(":"));if(i)return"arbitrary.."+i}},JX=t=>{const{theme:e,classGroups:i}=t,n={nextPart:new Map,validators:[]};for(const a in i)oS(i[a],n,a,e);return n},oS=(t,e,i,n)=>{t.forEach(a=>{if(typeof a=="string"){const d=a===""?e:UO(e,a);d.classGroupId=i;return}if(typeof a=="function"){if(YX(a)){oS(a(n),e,i,n);return}e.validators.push({validator:a,classGroupId:i});return}Object.entries(a).forEach(([d,y])=>{oS(y,UO(e,d),i,n)})})},UO=(t,e)=>{let i=t;return e.split(aT).forEach(n=>{i.nextPart.has(n)||i.nextPart.set(n,{nextPart:new Map,validators:[]}),i=i.nextPart.get(n)}),i},YX=t=>t.isThemeGetter,KX=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,i=new Map,n=new Map;const a=(d,y)=>{i.set(d,y),e++,e>t&&(e=0,n=i,i=new Map)};return{get(d){let y=i.get(d);if(y!==void 0)return y;if((y=n.get(d))!==void 0)return a(d,y),y},set(d,y){i.has(d)?i.set(d,y):a(d,y)}}},aS="!",lS=":",XX=lS.length,ZX=t=>{const{prefix:e,experimentalParseClassName:i}=t;let n=a=>{const d=[];let y=0,b=0,S=0,T;for(let G=0;G<a.length;G++){let B=a[G];if(y===0&&b===0){if(B===lS){d.push(a.slice(S,G)),S=G+XX;continue}if(B==="/"){T=G;continue}}B==="["?y++:B==="]"?y--:B==="("?b++:B===")"&&b--}const C=d.length===0?a:a.substring(S),k=QX(C),D=k!==C,z=T&&T>S?T-S:void 0;return{modifiers:d,hasImportantModifier:D,baseClassName:k,maybePostfixModifierPosition:z}};if(e){const a=e+lS,d=n;n=y=>y.startsWith(a)?d(y.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:y,maybePostfixModifierPosition:void 0}}if(i){const a=n;n=d=>i({className:d,parseClassName:a})}return n},QX=t=>t.endsWith(aS)?t.substring(0,t.length-1):t.startsWith(aS)?t.substring(1):t,tZ=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const a=[];let d=[];return n.forEach(y=>{y[0]==="["||e[y]?(a.push(...d.sort(),y),d=[]):d.push(y)}),a.push(...d.sort()),a}},eZ=t=>({cache:KX(t.cacheSize),parseClassName:ZX(t),sortModifiers:tZ(t),...VX(t)}),iZ=/\s+/,rZ=(t,e)=>{const{parseClassName:i,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:d}=e,y=[],b=t.trim().split(iZ);let S="";for(let T=b.length-1;T>=0;T-=1){const C=b[T],{isExternal:k,modifiers:D,hasImportantModifier:z,baseClassName:G,maybePostfixModifierPosition:B}=i(C);if(k){S=C+(S.length>0?" "+S:S);continue}let H=!!B,X=n(H?G.substring(0,B):G);if(!X){if(!H){S=C+(S.length>0?" "+S:S);continue}if(X=n(G),!X){S=C+(S.length>0?" "+S:S);continue}H=!1}const et=d(D).join(":"),rt=z?et+aS:et,it=rt+X;if(y.includes(it))continue;y.push(it);const ot=a(X,H);for(let pt=0;pt<ot.length;++pt){const yt=ot[pt];y.push(rt+yt)}S=C+(S.length>0?" "+S:S)}return S};function nZ(){let t=0,e,i,n="";for(;t<arguments.length;)(e=arguments[t++])&&(i=ML(e))&&(n&&(n+=" "),n+=i);return n}const ML=t=>{if(typeof t=="string")return t;let e,i="";for(let n=0;n<t.length;n++)t[n]&&(e=ML(t[n]))&&(i&&(i+=" "),i+=e);return i};function sZ(t,...e){let i,n,a,d=y;function y(S){const T=e.reduce((C,k)=>k(C),t());return i=eZ(T),n=i.cache.get,a=i.cache.set,d=b,b(S)}function b(S){const T=n(S);if(T)return T;const C=rZ(S,i);return a(S,C),C}return function(){return d(nZ.apply(null,arguments))}}const tn=t=>{const e=i=>i[t]||[];return e.isThemeGetter=!0,e},AL=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,RL=/^\((?:(\w[\w-]*):)?(.+)\)$/i,oZ=/^\d+\/\d+$/,aZ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lZ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,uZ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,cZ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,hZ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Nd=t=>oZ.test(t),ei=t=>!!t&&!Number.isNaN(Number(t)),Fu=t=>!!t&&Number.isInteger(Number(t)),S6=t=>t.endsWith("%")&&ei(t.slice(0,-1)),Ol=t=>aZ.test(t),fZ=()=>!0,dZ=t=>lZ.test(t)&&!uZ.test(t),CL=()=>!1,pZ=t=>cZ.test(t),yZ=t=>hZ.test(t),mZ=t=>!pe(t)&&!ye(t),gZ=t=>Ip(t,NL,CL),pe=t=>AL.test(t),_h=t=>Ip(t,kL,dZ),x6=t=>Ip(t,SZ,ei),FO=t=>Ip(t,OL,CL),vZ=t=>Ip(t,$L,yZ),E2=t=>Ip(t,PL,pZ),ye=t=>RL.test(t),iy=t=>Dp(t,kL),bZ=t=>Dp(t,xZ),BO=t=>Dp(t,OL),wZ=t=>Dp(t,NL),_Z=t=>Dp(t,$L),M2=t=>Dp(t,PL,!0),Ip=(t,e,i)=>{const n=AL.exec(t);return n?n[1]?e(n[1]):i(n[2]):!1},Dp=(t,e,i=!1)=>{const n=RL.exec(t);return n?n[1]?e(n[1]):i:!1},OL=t=>t==="position"||t==="percentage",$L=t=>t==="image"||t==="url",NL=t=>t==="length"||t==="size"||t==="bg-size",kL=t=>t==="length",SZ=t=>t==="number",xZ=t=>t==="family-name",PL=t=>t==="shadow",TZ=()=>{const t=tn("color"),e=tn("font"),i=tn("text"),n=tn("font-weight"),a=tn("tracking"),d=tn("leading"),y=tn("breakpoint"),b=tn("container"),S=tn("spacing"),T=tn("radius"),C=tn("shadow"),k=tn("inset-shadow"),D=tn("text-shadow"),z=tn("drop-shadow"),G=tn("blur"),B=tn("perspective"),H=tn("aspect"),X=tn("ease"),et=tn("animate"),rt=()=>["auto","avoid","all","avoid-page","page","left","right","column"],it=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],ot=()=>[...it(),ye,pe],pt=()=>["auto","hidden","clip","visible","scroll"],yt=()=>["auto","contain","none"],ft=()=>[ye,pe,S],vt=()=>[Nd,"full","auto",...ft()],Ct=()=>[Fu,"none","subgrid",ye,pe],Dt=()=>["auto",{span:["full",Fu,ye,pe]},Fu,ye,pe],zt=()=>[Fu,"auto",ye,pe],Wt=()=>["auto","min","max","fr",ye,pe],Xt=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],re=()=>["start","end","center","stretch","center-safe","end-safe"],_t=()=>["auto",...ft()],It=()=>[Nd,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...ft()],$t=()=>[t,ye,pe],ge=()=>[...it(),BO,FO,{position:[ye,pe]}],dt=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Ft=()=>["auto","cover","contain",wZ,gZ,{size:[ye,pe]}],Kt=()=>[S6,iy,_h],Vt=()=>["","none","full",T,ye,pe],ie=()=>["",ei,iy,_h],Oe=()=>["solid","dashed","dotted","double"],ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],je=()=>[ei,S6,BO,FO],ze=()=>["","none",G,ye,pe],Si=()=>["none",ei,ye,pe],Ge=()=>["none",ei,ye,pe],Qi=()=>[ei,ye,pe],Vi=()=>[Nd,"full",...ft()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ol],breakpoint:[Ol],color:[fZ],container:[Ol],"drop-shadow":[Ol],ease:["in","out","in-out"],font:[mZ],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ol],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ol],shadow:[Ol],spacing:["px",ei],text:[Ol],"text-shadow":[Ol],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Nd,pe,ye,H]}],container:["container"],columns:[{columns:[ei,pe,ye,b]}],"break-after":[{"break-after":rt()}],"break-before":[{"break-before":rt()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:ot()}],overflow:[{overflow:pt()}],"overflow-x":[{"overflow-x":pt()}],"overflow-y":[{"overflow-y":pt()}],overscroll:[{overscroll:yt()}],"overscroll-x":[{"overscroll-x":yt()}],"overscroll-y":[{"overscroll-y":yt()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:vt()}],"inset-x":[{"inset-x":vt()}],"inset-y":[{"inset-y":vt()}],start:[{start:vt()}],end:[{end:vt()}],top:[{top:vt()}],right:[{right:vt()}],bottom:[{bottom:vt()}],left:[{left:vt()}],visibility:["visible","invisible","collapse"],z:[{z:[Fu,"auto",ye,pe]}],basis:[{basis:[Nd,"full","auto",b,...ft()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ei,Nd,"auto","initial","none",pe]}],grow:[{grow:["",ei,ye,pe]}],shrink:[{shrink:["",ei,ye,pe]}],order:[{order:[Fu,"first","last","none",ye,pe]}],"grid-cols":[{"grid-cols":Ct()}],"col-start-end":[{col:Dt()}],"col-start":[{"col-start":zt()}],"col-end":[{"col-end":zt()}],"grid-rows":[{"grid-rows":Ct()}],"row-start-end":[{row:Dt()}],"row-start":[{"row-start":zt()}],"row-end":[{"row-end":zt()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Wt()}],"auto-rows":[{"auto-rows":Wt()}],gap:[{gap:ft()}],"gap-x":[{"gap-x":ft()}],"gap-y":[{"gap-y":ft()}],"justify-content":[{justify:[...Xt(),"normal"]}],"justify-items":[{"justify-items":[...re(),"normal"]}],"justify-self":[{"justify-self":["auto",...re()]}],"align-content":[{content:["normal",...Xt()]}],"align-items":[{items:[...re(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...re(),{baseline:["","last"]}]}],"place-content":[{"place-content":Xt()}],"place-items":[{"place-items":[...re(),"baseline"]}],"place-self":[{"place-self":["auto",...re()]}],p:[{p:ft()}],px:[{px:ft()}],py:[{py:ft()}],ps:[{ps:ft()}],pe:[{pe:ft()}],pt:[{pt:ft()}],pr:[{pr:ft()}],pb:[{pb:ft()}],pl:[{pl:ft()}],m:[{m:_t()}],mx:[{mx:_t()}],my:[{my:_t()}],ms:[{ms:_t()}],me:[{me:_t()}],mt:[{mt:_t()}],mr:[{mr:_t()}],mb:[{mb:_t()}],ml:[{ml:_t()}],"space-x":[{"space-x":ft()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":ft()}],"space-y-reverse":["space-y-reverse"],size:[{size:It()}],w:[{w:[b,"screen",...It()]}],"min-w":[{"min-w":[b,"screen","none",...It()]}],"max-w":[{"max-w":[b,"screen","none","prose",{screen:[y]},...It()]}],h:[{h:["screen","lh",...It()]}],"min-h":[{"min-h":["screen","lh","none",...It()]}],"max-h":[{"max-h":["screen","lh",...It()]}],"font-size":[{text:["base",i,iy,_h]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,ye,x6]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",S6,pe]}],"font-family":[{font:[bZ,pe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,ye,pe]}],"line-clamp":[{"line-clamp":[ei,"none",ye,x6]}],leading:[{leading:[d,...ft()]}],"list-image":[{"list-image":["none",ye,pe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ye,pe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$t()}],"text-color":[{text:$t()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Oe(),"wavy"]}],"text-decoration-thickness":[{decoration:[ei,"from-font","auto",ye,_h]}],"text-decoration-color":[{decoration:$t()}],"underline-offset":[{"underline-offset":[ei,"auto",ye,pe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:ft()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ye,pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ye,pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ge()}],"bg-repeat":[{bg:dt()}],"bg-size":[{bg:Ft()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Fu,ye,pe],radial:["",ye,pe],conic:[Fu,ye,pe]},_Z,vZ]}],"bg-color":[{bg:$t()}],"gradient-from-pos":[{from:Kt()}],"gradient-via-pos":[{via:Kt()}],"gradient-to-pos":[{to:Kt()}],"gradient-from":[{from:$t()}],"gradient-via":[{via:$t()}],"gradient-to":[{to:$t()}],rounded:[{rounded:Vt()}],"rounded-s":[{"rounded-s":Vt()}],"rounded-e":[{"rounded-e":Vt()}],"rounded-t":[{"rounded-t":Vt()}],"rounded-r":[{"rounded-r":Vt()}],"rounded-b":[{"rounded-b":Vt()}],"rounded-l":[{"rounded-l":Vt()}],"rounded-ss":[{"rounded-ss":Vt()}],"rounded-se":[{"rounded-se":Vt()}],"rounded-ee":[{"rounded-ee":Vt()}],"rounded-es":[{"rounded-es":Vt()}],"rounded-tl":[{"rounded-tl":Vt()}],"rounded-tr":[{"rounded-tr":Vt()}],"rounded-br":[{"rounded-br":Vt()}],"rounded-bl":[{"rounded-bl":Vt()}],"border-w":[{border:ie()}],"border-w-x":[{"border-x":ie()}],"border-w-y":[{"border-y":ie()}],"border-w-s":[{"border-s":ie()}],"border-w-e":[{"border-e":ie()}],"border-w-t":[{"border-t":ie()}],"border-w-r":[{"border-r":ie()}],"border-w-b":[{"border-b":ie()}],"border-w-l":[{"border-l":ie()}],"divide-x":[{"divide-x":ie()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ie()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Oe(),"hidden","none"]}],"divide-style":[{divide:[...Oe(),"hidden","none"]}],"border-color":[{border:$t()}],"border-color-x":[{"border-x":$t()}],"border-color-y":[{"border-y":$t()}],"border-color-s":[{"border-s":$t()}],"border-color-e":[{"border-e":$t()}],"border-color-t":[{"border-t":$t()}],"border-color-r":[{"border-r":$t()}],"border-color-b":[{"border-b":$t()}],"border-color-l":[{"border-l":$t()}],"divide-color":[{divide:$t()}],"outline-style":[{outline:[...Oe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ei,ye,pe]}],"outline-w":[{outline:["",ei,iy,_h]}],"outline-color":[{outline:$t()}],shadow:[{shadow:["","none",C,M2,E2]}],"shadow-color":[{shadow:$t()}],"inset-shadow":[{"inset-shadow":["none",k,M2,E2]}],"inset-shadow-color":[{"inset-shadow":$t()}],"ring-w":[{ring:ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$t()}],"ring-offset-w":[{"ring-offset":[ei,_h]}],"ring-offset-color":[{"ring-offset":$t()}],"inset-ring-w":[{"inset-ring":ie()}],"inset-ring-color":[{"inset-ring":$t()}],"text-shadow":[{"text-shadow":["none",D,M2,E2]}],"text-shadow-color":[{"text-shadow":$t()}],opacity:[{opacity:[ei,ye,pe]}],"mix-blend":[{"mix-blend":[...ce(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ce()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ei]}],"mask-image-linear-from-pos":[{"mask-linear-from":je()}],"mask-image-linear-to-pos":[{"mask-linear-to":je()}],"mask-image-linear-from-color":[{"mask-linear-from":$t()}],"mask-image-linear-to-color":[{"mask-linear-to":$t()}],"mask-image-t-from-pos":[{"mask-t-from":je()}],"mask-image-t-to-pos":[{"mask-t-to":je()}],"mask-image-t-from-color":[{"mask-t-from":$t()}],"mask-image-t-to-color":[{"mask-t-to":$t()}],"mask-image-r-from-pos":[{"mask-r-from":je()}],"mask-image-r-to-pos":[{"mask-r-to":je()}],"mask-image-r-from-color":[{"mask-r-from":$t()}],"mask-image-r-to-color":[{"mask-r-to":$t()}],"mask-image-b-from-pos":[{"mask-b-from":je()}],"mask-image-b-to-pos":[{"mask-b-to":je()}],"mask-image-b-from-color":[{"mask-b-from":$t()}],"mask-image-b-to-color":[{"mask-b-to":$t()}],"mask-image-l-from-pos":[{"mask-l-from":je()}],"mask-image-l-to-pos":[{"mask-l-to":je()}],"mask-image-l-from-color":[{"mask-l-from":$t()}],"mask-image-l-to-color":[{"mask-l-to":$t()}],"mask-image-x-from-pos":[{"mask-x-from":je()}],"mask-image-x-to-pos":[{"mask-x-to":je()}],"mask-image-x-from-color":[{"mask-x-from":$t()}],"mask-image-x-to-color":[{"mask-x-to":$t()}],"mask-image-y-from-pos":[{"mask-y-from":je()}],"mask-image-y-to-pos":[{"mask-y-to":je()}],"mask-image-y-from-color":[{"mask-y-from":$t()}],"mask-image-y-to-color":[{"mask-y-to":$t()}],"mask-image-radial":[{"mask-radial":[ye,pe]}],"mask-image-radial-from-pos":[{"mask-radial-from":je()}],"mask-image-radial-to-pos":[{"mask-radial-to":je()}],"mask-image-radial-from-color":[{"mask-radial-from":$t()}],"mask-image-radial-to-color":[{"mask-radial-to":$t()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":it()}],"mask-image-conic-pos":[{"mask-conic":[ei]}],"mask-image-conic-from-pos":[{"mask-conic-from":je()}],"mask-image-conic-to-pos":[{"mask-conic-to":je()}],"mask-image-conic-from-color":[{"mask-conic-from":$t()}],"mask-image-conic-to-color":[{"mask-conic-to":$t()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ge()}],"mask-repeat":[{mask:dt()}],"mask-size":[{mask:Ft()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ye,pe]}],filter:[{filter:["","none",ye,pe]}],blur:[{blur:ze()}],brightness:[{brightness:[ei,ye,pe]}],contrast:[{contrast:[ei,ye,pe]}],"drop-shadow":[{"drop-shadow":["","none",z,M2,E2]}],"drop-shadow-color":[{"drop-shadow":$t()}],grayscale:[{grayscale:["",ei,ye,pe]}],"hue-rotate":[{"hue-rotate":[ei,ye,pe]}],invert:[{invert:["",ei,ye,pe]}],saturate:[{saturate:[ei,ye,pe]}],sepia:[{sepia:["",ei,ye,pe]}],"backdrop-filter":[{"backdrop-filter":["","none",ye,pe]}],"backdrop-blur":[{"backdrop-blur":ze()}],"backdrop-brightness":[{"backdrop-brightness":[ei,ye,pe]}],"backdrop-contrast":[{"backdrop-contrast":[ei,ye,pe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ei,ye,pe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ei,ye,pe]}],"backdrop-invert":[{"backdrop-invert":["",ei,ye,pe]}],"backdrop-opacity":[{"backdrop-opacity":[ei,ye,pe]}],"backdrop-saturate":[{"backdrop-saturate":[ei,ye,pe]}],"backdrop-sepia":[{"backdrop-sepia":["",ei,ye,pe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":ft()}],"border-spacing-x":[{"border-spacing-x":ft()}],"border-spacing-y":[{"border-spacing-y":ft()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ye,pe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ei,"initial",ye,pe]}],ease:[{ease:["linear","initial",X,ye,pe]}],delay:[{delay:[ei,ye,pe]}],animate:[{animate:["none",et,ye,pe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[B,ye,pe]}],"perspective-origin":[{"perspective-origin":ot()}],rotate:[{rotate:Si()}],"rotate-x":[{"rotate-x":Si()}],"rotate-y":[{"rotate-y":Si()}],"rotate-z":[{"rotate-z":Si()}],scale:[{scale:Ge()}],"scale-x":[{"scale-x":Ge()}],"scale-y":[{"scale-y":Ge()}],"scale-z":[{"scale-z":Ge()}],"scale-3d":["scale-3d"],skew:[{skew:Qi()}],"skew-x":[{"skew-x":Qi()}],"skew-y":[{"skew-y":Qi()}],transform:[{transform:[ye,pe,"","none","gpu","cpu"]}],"transform-origin":[{origin:ot()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Vi()}],"translate-x":[{"translate-x":Vi()}],"translate-y":[{"translate-y":Vi()}],"translate-z":[{"translate-z":Vi()}],"translate-none":["translate-none"],accent:[{accent:$t()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$t()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ye,pe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":ft()}],"scroll-mx":[{"scroll-mx":ft()}],"scroll-my":[{"scroll-my":ft()}],"scroll-ms":[{"scroll-ms":ft()}],"scroll-me":[{"scroll-me":ft()}],"scroll-mt":[{"scroll-mt":ft()}],"scroll-mr":[{"scroll-mr":ft()}],"scroll-mb":[{"scroll-mb":ft()}],"scroll-ml":[{"scroll-ml":ft()}],"scroll-p":[{"scroll-p":ft()}],"scroll-px":[{"scroll-px":ft()}],"scroll-py":[{"scroll-py":ft()}],"scroll-ps":[{"scroll-ps":ft()}],"scroll-pe":[{"scroll-pe":ft()}],"scroll-pt":[{"scroll-pt":ft()}],"scroll-pr":[{"scroll-pr":ft()}],"scroll-pb":[{"scroll-pb":ft()}],"scroll-pl":[{"scroll-pl":ft()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ye,pe]}],fill:[{fill:["none",...$t()]}],"stroke-w":[{stroke:[ei,iy,_h,x6]}],stroke:[{stroke:["none",...$t()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},EZ=sZ(TZ);function Ai(...t){return EZ(TL(t))}const MZ=HX("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function lo({className:t,variant:e,size:i,asChild:n=!1,...a}){const d=n?zX:"button";return at.jsx(d,{"data-slot":"button",className:Ai(MZ({variant:e,size:i,className:t})),...a})}const IL=[{id:"dark-gray-vector",label:"Dark Gray",thumbnail:"https://www.arcgis.com/sharing/rest/content/items/908967a20fee4d1db3ff5149ec6efcc5/info/thumbnail/thumbnail1739589775091.png?f=json"},{id:"streets-vector",label:"Streets",thumbnail:"https://www.arcgis.com/sharing/rest/content/items/22fb75c0fa5a4c88b8ca4c4b8ae5c90b/info/thumbnail/thumbnail1739461862774.png?f=json"},{id:"satellite",label:"Satellite",thumbnail:"https://www.arcgis.com/sharing/rest/content/items/0d17ba68a8f64c278e7e2e7864e1069d/info/thumbnail/thumbnail1739466348621.png?f=json"},{id:"topo-vector",label:"Topographic",thumbnail:"https://www.arcgis.com/sharing/rest/content/items/668f436dc2dc4f2c83ceb0c064380590/info/thumbnail/thumbnail1739488895125.png?f=json"}],DL=IL[0];/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AZ=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),RZ=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,n)=>n?n.toUpperCase():i.toLowerCase()),GO=t=>{const e=RZ(t);return e.charAt(0).toUpperCase()+e.slice(1)},LL=(...t)=>t.filter((e,i,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===i).join(" ").trim(),CZ=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var OZ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Z=K.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:n,className:a="",children:d,iconNode:y,...b},S)=>K.createElement("svg",{ref:S,...OZ,width:e,height:e,stroke:t,strokeWidth:n?Number(i)*24/Number(e):i,className:LL("lucide",a),...!d&&!CZ(b)&&{"aria-hidden":"true"},...b},[...y.map(([T,C])=>K.createElement(T,C)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=(t,e)=>{const i=K.forwardRef(({className:n,...a},d)=>K.createElement($Z,{ref:d,iconNode:e,className:LL(`lucide-${AZ(GO(t))}`,`lucide-${t}`,n),...a}));return i.displayName=GO(t),i};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NZ=[["path",{d:"M12 22V8",key:"qkxhtm"}],["path",{d:"M5 12H2a10 10 0 0 0 20 0h-3",key:"1hv3nh"}],["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}]],kZ=Xe("anchor",NZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PZ=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],IZ=Xe("arrow-left",PZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DZ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],LZ=Xe("arrow-right",DZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jZ=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],zZ=Xe("arrow-up",jZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UZ=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],FZ=Xe("car",UZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BZ=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],GZ=Xe("chevron-down",BZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qZ=[["path",{d:"m7 20 5-5 5 5",key:"13a0gw"}],["path",{d:"m7 4 5 5 5-5",key:"1kwcof"}]],HZ=Xe("chevrons-down-up",qZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VZ=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],WZ=Xe("chevrons-left",VZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JZ=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],YZ=Xe("chevrons-right",JZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KZ=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],XZ=Xe("chevrons-up-down",KZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],QZ=Xe("circle-dot",ZZ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tQ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],eQ=Xe("circle-question-mark",tQ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iQ=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],rQ=Xe("compass",iQ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nQ=[["path",{d:"M20 4v7a4 4 0 0 1-4 4H4",key:"6o5b7l"}],["path",{d:"m9 10-5 5 5 5",key:"1kshq7"}]],sQ=Xe("corner-down-left",nQ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oQ=[["path",{d:"m15 10 5 5-5 5",key:"qqa56n"}],["path",{d:"M4 4v7a4 4 0 0 0 4 4h12",key:"z08zvw"}]],aQ=Xe("corner-down-right",oQ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lQ=[["path",{d:"M20 20v-7a4 4 0 0 0-4-4H4",key:"1nkjon"}],["path",{d:"M9 14 4 9l5-5",key:"102s5s"}]],uQ=Xe("corner-up-left",lQ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cQ=[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M4 20v-7a4 4 0 0 1 4-4h12",key:"1lu4f8"}]],hQ=Xe("corner-up-right",cQ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fQ=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],dQ=Xe("ellipsis-vertical",fQ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pQ=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],yQ=Xe("flag",pQ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mQ=[["path",{d:"M6 3v12",key:"qpgusn"}],["path",{d:"M18 9a3 3 0 1 0 0-6 3 3 0 0 0 0 6z",key:"1d02ji"}],["path",{d:"M6 21a3 3 0 1 0 0-6 3 3 0 0 0 0 6z",key:"chk6ph"}],["path",{d:"M15 6a9 9 0 0 0-9 9",key:"or332x"}],["path",{d:"M18 15v6",key:"9wciyi"}],["path",{d:"M21 18h-6",key:"139f0c"}]],qO=Xe("git-branch-plus",mQ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gQ=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],vQ=Xe("git-branch",gQ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bQ=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]],wQ=Xe("git-merge",bQ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Q=[["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"19",cy:"5",r:"1",key:"w8mnmm"}],["circle",{cx:"5",cy:"5",r:"1",key:"lttvr7"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}],["circle",{cx:"19",cy:"19",r:"1",key:"shf9b7"}],["circle",{cx:"5",cy:"19",r:"1",key:"bfqh0e"}]],SQ=Xe("grip",_Q);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xQ=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],TQ=Xe("layers",xQ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EQ=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],MQ=Xe("list-ordered",EQ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AQ=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],RQ=Xe("log-out",AQ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CQ=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M9 10h6",key:"9gxzsh"}]],OQ=Xe("map-pin-plus-inside",CQ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Q=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],NQ=Xe("map-pin",$Q);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kQ=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],PQ=Xe("maximize-2",kQ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IQ=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],DQ=Xe("minimize-2",IQ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LQ=[["path",{d:"M5 12h14",key:"1ays0h"}]],jQ=Xe("minus",LQ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zQ=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],UQ=Xe("navigation",zQ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FQ=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],BQ=Xe("play",FQ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GQ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],qQ=Xe("plus",GQ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HQ=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],VQ=Xe("refresh-ccw",HQ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WQ=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],JQ=Xe("rotate-ccw",WQ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YQ=[["path",{d:"M12 10.189V14",key:"1p8cqu"}],["path",{d:"M12 2v3",key:"qbqxhf"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-8.188-3.639a2 2 0 0 0-1.624 0L3 14a11.6 11.6 0 0 0 2.81 7.76",key:"7tigtc"}],["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1s1.2 1 2.5 1c2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"1924j5"}]],KQ=Xe("ship",YQ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XQ=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],ZQ=Xe("shuffle",XQ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QQ=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ttt=Xe("triangle-alert",QQ);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ett=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],itt=Xe("truck",ett);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rtt=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ntt=Xe("x",rtt),stt=({className:t})=>{const{view:e}=Wo(),[i,n]=K.useState(!1),[a,d]=K.useState(DL.id),y=K.useRef(null),b=C=>{e?.map&&(e.map.basemap=C,d(C),n(!1))},S=()=>{y.current&&(clearTimeout(y.current),y.current=null),n(!0)},T=()=>{y.current=window.setTimeout(()=>{n(!1)},300)};return at.jsx("div",{className:Ai("bg-white/70 rounded-md shadow-md",t),onMouseEnter:S,onMouseLeave:T,children:at.jsxs("div",{className:"flex flex-col backdrop-blur-sm rounded-md relative",children:[at.jsx(lo,{variant:"ghost",className:Ai("cursor-pointer w-10 h-10",i&&"bg-accent"),onClick:()=>n(!i),children:at.jsx(TQ,{})}),at.jsx("div",{className:Ai("absolute top-0 left-full ml-2 bg-white shadow-lg rounded-md flex gap-2 p-2 z-50 transition-all max-w-[calc(100vw-76px)] overflow-hidden",i?"opacity-100 translate-x-0":"opacity-0 -translate-x-2 pointer-events-none"),children:IL.map(C=>at.jsxs("button",{onClick:()=>b(C.id),className:Ai("flex flex-col items-center w-20 cursor-pointer border rounded-md overflow-hidden hover:shadow-md transition",a===C.id&&"ring-2 ring-blue-500"),children:[at.jsx("img",{src:C.thumbnail,alt:C.label,className:"w-full h-12 object-cover"}),at.jsx("span",{className:"text-[10px] sm:text-xs py-1",children:C.label})]},C.id))})]})})},jL=K.createContext(void 0),lT=()=>K.useContext(jL);function E(t,e,i,n){var a,d=arguments.length,y=d<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,i):n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(t,e,i,n);else for(var b=t.length-1;b>=0;b--)(a=t[b])&&(y=(d<3?a(y):d>3?a(e,i,y):a(e,i))||y);return d>3&&y&&Object.defineProperty(e,i,y),y}function sTt(t,e){return function(i,n){e(i,n,t)}}function oTt(t,e,i,n){function a(d){return d instanceof i?d:new i((function(y){y(d)}))}return new(i||(i=Promise))((function(d,y){function b(C){try{T(n.next(C))}catch(k){y(k)}}function S(C){try{T(n.throw(C))}catch(k){y(k)}}function T(C){C.done?d(C.value):a(C.value).then(b,S)}T((n=n.apply(t,[])).next())}))}function aTt(t,e,i){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,a;if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose]}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(d){return Promise.reject(d)}}),t.stack.push({value:e,dispose:n,async:i})}return e}var ott=typeof SuppressedError=="function"?SuppressedError:function(t,e,i){var n=new Error(i);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function lTt(t){function e(d){t.error=t.hasError?new ott(d,t.error,"An error was suppressed during disposal."):d,t.hasError=!0}var i,n=0;function a(){for(;i=t.stack.pop();)try{if(!i.async&&n===1)return n=0,t.stack.push(i),Promise.resolve().then(a);if(i.dispose){var d=i.dispose.call(i.value);if(i.async)return n|=2,Promise.resolve(d).then(a,(function(y){return e(y),a()}))}else n|=1}catch(y){e(y)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return a()}let Ac;function St(t){return typeof Ac[t]=="function"?Ac[t]=Ac[t](globalThis):Ac[t]}Ac=globalThis.dojoConfig?.has||globalThis.esriConfig?.has?{...globalThis.dojoConfig?.has,...globalThis.esriConfig?.has}:{},St.add=(t,e,i,n)=>{(n||Ac[t]===void 0)&&(Ac[t]=e),i&&St(t)},St.cache=Ac,St.add("big-integer-warning-enabled",!0),St.add("esri-deprecation-warnings",!0),St.add("esri-tests-disable-screenshots",!1),St.add("esri-tests-use-full-window",!1),St.add("esri-tests-post-to-influx",!0),St.add("esri-cim-animations-enable-status","enabled"),St.add("esri-cim-animations-spotlight",!1),St.add("esri-cim-animations-freeze-time",!1),(()=>{St.add("host-webworker",globalThis.WorkerGlobalScope!==void 0&&self instanceof globalThis.WorkerGlobalScope);const t=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(St.add("host-browser",t),St.add("host-node",typeof globalThis.process=="object"&&globalThis.process.versions?.node&&globalThis.process.versions.v8),St.add("dom",t),St("host-browser")){const e=navigator,i=e.userAgent,n=e.appVersion,a=parseFloat(n);if(St.add("wp",parseFloat(i.split("Windows Phone")[1])||void 0),St.add("msapp",parseFloat(i.split("MSAppHost/")[1])||void 0),St.add("khtml",n.includes("Konqueror")?a:void 0),St.add("edge",parseFloat(i.split("Edge/")[1])||void 0),St.add("opr",parseFloat(i.split("OPR/")[1])||void 0),St.add("webkit",!St("wp")&&!St("edge")&&parseFloat(i.split("WebKit/")[1])||void 0),St.add("chrome",!St("edge")&&!St("opr")&&parseFloat(i.split("Chrome/")[1])||void 0),St.add("android",!St("wp")&&parseFloat(i.split("Android ")[1])||void 0),St.add("safari",!n.includes("Safari")||St("wp")||St("chrome")||St("android")||St("edge")||St("opr")?void 0:parseFloat(n.split("Version/")[1])),St.add("mac",n.includes("Macintosh")),!St("wp")&&/(iPhone|iPod|iPad)/.test(i)){const d=RegExp.$1.replace(/P/,"p"),y=/OS ([\d_]+)/.test(i)?RegExp.$1:"1",b=parseFloat(y.replace(/_/,".").replaceAll("_",""));St.add(d,b),St.add("ios",b)}St("webkit")||(!i.includes("Gecko")||St("wp")||St("khtml")||St("edge")||St.add("mozilla",a),St("mozilla")&&St.add("ff",parseFloat(i.split("Firefox/")[1]||i.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const t=navigator.userAgent,e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(t),i=/iPhone/i.test(t);e&&St.add("esri-mobile",e),i&&St.add("esri-iPhone",i),St.add("esri-geolocation",!!navigator.geolocation)}St.add("esri-wasm","WebAssembly"in globalThis),St.add("esri-performance-mode-frames-between-render",20),St.add("esri-force-performance-mode",!1),St.add("esri-shared-array-buffer",(()=>{const t="SharedArrayBuffer"in globalThis,e=globalThis.crossOriginIsolated===!1;return t&&!e})),St.add("wasm-simd",(()=>{const t=[0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11];return WebAssembly.validate(new Uint8Array(t))})),St.add("esri-atomics","Atomics"in globalThis),St.add("esri-workers","Worker"in globalThis),St.add("web-feat:cache","caches"in globalThis),St.add("esri-workers-arraybuffer-transfer",!St("safari")||Number(St("safari"))>=12),St.add("workers-pool-size",8),St.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),St.add("featurelayer-simplify-payload-size-factors",[1,1,4]),St.add("featurelayer-fast-triangulation-enabled",!0),St.add("featurelayer-animation-enabled",!0),St.add("featurelayer-snapshot-enabled",!0),St.add("featurelayer-snapshot-initial-tolerance",0),St.add("featurelayer-snapshot-point-min-threshold",8e4),St.add("featurelayer-snapshot-point-max-threshold",4e5),St.add("featurelayer-snapshot-multipoint-min-threshold",2e4),St.add("featurelayer-snapshot-multipoint-max-threshold",1e5),St.add("featurelayer-snapshot-polygon-min-threshold",1e3),St.add("featurelayer-snapshot-polygon-max-threshold",2e3),St.add("featurelayer-snapshot-polyline-min-threshold",1e3),St.add("featurelayer-snapshot-polyline-max-threshold",2e3),St.add("featurelayer-snapshot-max-vertex-count",25e4),St.add("featurelayer-snapshot-non-hosted-exceedslimit-enabled",!1),St.add("featurelayer-snapshot-concurrency",4),St.add("featurelayer-snapshot-coverage",.1),St.add("featurelayer-query-max-depth",4),St.add("featurelayer-query-pausing-enabled",!1),St.add("featurelayer-query-tile-concurrency",4),St.add("featurelayer-query-tile-max-features",6e5),St.add("featurelayer-advanced-symbols",!1),St.add("featurelayer-pbf",!0),St.add("featurelayer-pbf-statistics",!1),St.add("feature-layers-workers",!0),St.add("feature-polyline-generalization-factor",1),St.add("mapview-transitions-duration",200),St.add("mapview-essential-goto-duration",200),St.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),St.add("mapserver-pbf-version-support",10.81),St.add("mapservice-popup-identify-max-tolerance",20),St.add("request-queue-concurrency-hosted",16),St.add("request-queue-concurrency-non-hosted",4),St.add("curve-densification-coarse-segments",128),St.add("curve-densification-max-segments",2e3),St.add("curve-densification-min-segments",3),St.add("curve-densification-pixel-deviation",.5),St.add("view-readyState-waiting-delay",1e3),St.add("gradient-depth-bias",.01),St.add("gradient-depth-epsilon",1e-8),St.add("enable-feature:esri-compress-textures",!0),St("host-webworker")||St("host-browser")&&(St.add("esri-csp-restrictions",(()=>{try{new Function}catch{return!0}return!1})),St.add("esri-image-decode",(()=>{if("decode"in new Image){const t=new Image;return t.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void t.decode().then((()=>{St.add("esri-image-decode",!0,!0,!0)})).catch((()=>{St.add("esri-image-decode",!1,!0,!0)}))}return!1})),St.add("esri-url-encodes-apostrophe",(()=>{const t=window.document.createElement("a");return t.href="?'",t.href.includes("?%27")})))})();const HO=new WeakMap;function att(t,e,i=!1){const n=` DEPRECATED - ${e}`;if(!i)return void t.warn(n);let a=HO.get(t);a||(a=new Set,HO.set(t,a)),a.has(e)||(a.add(e),t.warn(n))}const Cb="https://www.esriurl.com/";function ltt(t,e,i,n={}){St("esri-deprecation-warnings")&&Fc(t,`This widget is deprecated. Use the ${e} component instead.`,{see:[`${e} component reference: ${Cb}${i}/`,`Esri's move to web components: ${Cb}components-transition-plan/`],replacement:`<${i}></${i}>`,warnOnce:!0,...n})}function utt(t,e,i,n={}){St("esri-deprecation-warnings")&&Fc(t,`This view model is deprecated. Use the ${e} component directly instead.`,{see:[`${e} component reference: ${Cb}${i}/`,`Esri's move to web components: ${Cb}components-transition-plan/`],replacement:`<${i}></${i}>`,warnOnce:!0,...n})}function uTt(t,e,i={}){St("esri-deprecation-warnings")&&Fc(t,`Module: ${e}`,i)}function zL(t,e,i={}){if(St("esri-deprecation-warnings")){const{moduleName:n}=i;Fc(t,`Function: ${(n?n+"::":"")+e+"()"}`,i)}}function UL(t,e,i={}){if(St("esri-deprecation-warnings")){const{moduleName:n}=i;Fc(t,`Property: ${(n?n+"::":"")+e}`,i)}}function ctt(t,e,i={}){St("esri-deprecation-warnings")&&Fc(t,`Multiple argument constructor: ${e}`,{warnOnce:!0,replacement:`new ${e}({ <your properties here> })`,...i})}function Fc(t,e,i={}){if(St("esri-deprecation-warnings")){const{replacement:n,version:a,see:d,warnOnce:y}=i;let b=e;if(n&&(b+=`
	 Replacement: ${n}`),a&&(b+=`
	 Version: ${a}`),d)if(Array.isArray(d)){b+=`
	 See for more details:`;for(const S of d)b+=`
		${S}`}else b+=`
	 See ${d} for more details.`;att(t,b,y)}}function cTt(t){const e=[];return function*(){yield*e;for(const i of t)e.push(i),yield i}}function htt(t,e){for(const i of t)if(i!=null&&e(i))return i}function Ob(t){return t!=null&&typeof t[Symbol.iterator]=="function"}let Lp=class{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let e=0;return this._groups.forEach((i=>{e+=i.length})),e}add(e,i){if(Ob(e)){const n=this._getOrCreateGroup(i);for(const a of e)WO(a)&&n.push(a)}else WO(e)&&this._getOrCreateGroup(i).push(e);return this}forEach(e,i){if(typeof e=="function")this._groups.forEach((n=>n.forEach(e)));else{const n=this._getGroup(e);n&&i&&n.forEach(i)}}has(e){return this._groups.has(A2(e))}remove(e){if(typeof e!="string"&&Ob(e)){for(const i of e)this.remove(i);return this}return this.has(e)?(VO(this._getGroup(e)),this._groups.delete(A2(e)),this):this}removeAll(){return this._groups.forEach(VO),this._groups.clear(),this}removeReference(e){return this._groups.delete(e),this}_getOrCreateGroup(e){if(this.has(e))return this._getGroup(e);const i=[];return this._groups.set(A2(e),i),i}_getGroup(e){return this._groups.get(A2(e))}};function A2(t){return t||"_default_"}function VO(t){for(const e of t)e instanceof Lp?e.removeAll():e.remove()}function WO(t){return t!=null&&(!!t.remove||t instanceof Lp)}function fTt(t){}function ftt(t){return()=>t}function dTt(t){return t}var Cs;let dtt=(Cs=class{constructor(e=1){this._seed=e}set seed(e){this._seed=e??Math.random()*Cs._m}getInt(){return this._seed=(Cs._a*this._seed+Cs._c)%Cs._m,this._seed}getFloat(){return this.getInt()/(Cs._m-1)}getIntRange(e,i){return Math.round(this.getFloatRange(e,i))}getFloatRange(e,i){const n=i-e;return e+this.getInt()/Cs._m*n}},Cs._m=2147483647,Cs._a=48271,Cs._c=0,Cs);const ptt=1.5,pTt=1/ptt,yTt=.5;function mTt(t,e){return e?t.filter(((i,n,a)=>a.findIndex(e.bind(null,i))===n)):Array.from(new Set(t))}function ytt(t,e,i,n,a,d,y){if(t==null&&n==null)return!0;e=Math.max(0,e),a=Math.max(0,a),i=Math.max(0,i<0?(t?.length??0)+i:i),d=Math.max(0,d<0?(n?.length??0)+d:d);const b=i-e;if(t==null||n==null||b!==d-a)return!1;if(y){for(let S=0;S<b;S++)if(!y(t[e+S],n[a+S]))return!1}else for(let S=0;S<b;S++)if(t[e+S]!==n[a+S])return!1;return!0}function e5(t,e,i){return ytt(t,0,t?.length??0,e,0,e?.length??0,i)}function JO(t,e,i){let n,a;return i?(n=e.filter((d=>!t.some((y=>i(y,d))))),a=t.filter((d=>!e.some((y=>i(y,d)))))):(n=e.filter((d=>!t.includes(d))),a=t.filter((d=>!e.includes(d)))),{added:n,removed:a}}function gTt(t){return t&&typeof t.length=="number"}let FL=class{constructor(){this.last=0}};const BL=new FL;function uS(t,e,i,n){n=n||BL;const a=Math.max(0,n.last-10);for(let y=a;y<i;++y)if(t[y]===e)return n.last=y,y;const d=Math.min(a,i);for(let y=0;y<d;++y)if(t[y]===e)return n.last=y,y;return-1}function mtt(t,e,i,n){const a=t.length,d=uS(t,e,a,n);if(d!==-1)return t[d]=t[a-1],t.pop(),e}const ia=new Set;function gtt(t,e,i=t.length,n=e.length,a,d){if(n===0||i===0)return i;ia.clear();for(let b=0;b<n;++b)ia.add(e[b]);a=a||BL;const y=Math.max(0,a.last-10);for(let b=y;b<i;++b)if(ia.has(t[b])&&(d?.push(t[b]),ia.delete(t[b]),t[b]=t[i-1],--i,--b,ia.size===0||i===0))return ia.clear(),i;for(let b=0;b<y;++b)if(ia.has(t[b])&&(d?.push(t[b]),ia.delete(t[b]),t[b]=t[i-1],--i,--b,ia.size===0||i===0))return ia.clear(),i;return ia.clear(),i}function bTt(t,e,i){const n=t.length;if(e>=n)return t.slice();const a=GL(i),d=new Set,y=[];for(;y.length<e;){const b=Math.floor(a()*n);d.has(b)||(d.add(b),y.push(t[b]))}return y}function GL(t){return t?(YO.seed=t,()=>YO.getFloat()):Math.random}const YO=new dtt;function wTt(t,e){if(!t)return t;const i=GL(e);for(let n=t.length-1;n>0;n--){const a=Math.floor(i()*(n+1)),d=t[n];t[n]=t[a],t[a]=d}return t}function uT(t,e){const i=t.indexOf(e);return i!==-1?(t.splice(i,1),e):null}function Bc(t,e){return t!=null}const _Tt=[];function STt(t){return t instanceof ArrayBuffer}function cT(t){return t?.constructor?.name==="Int8Array"}function qL(t){return t?.constructor?.name==="Uint8Array"}function HL(t){return t?.constructor?.name==="Uint8ClampedArray"}function hT(t){return t?.constructor?.name==="Int16Array"}function VL(t){return t?.constructor?.name==="Uint16Array"}function fT(t){return t?.constructor?.name==="Int32Array"}function WL(t){return t?.constructor?.name==="Uint32Array"}function vtt(t){return t?.constructor?.name==="Float16Array"}function i5(t){return t?.constructor?.name==="Float32Array"}function r5(t){return t?.constructor?.name==="Float64Array"}function btt(t){return"buffer"in t}const JL=1024;function xTt(t){return r5(t)||i5(t)||fT(t)||hT(t)||cT(t)}function TTt(t){return r5(t)||i5(t)}function ETt(t){return r5(t)?179769e303:vtt(t)?65504:i5(t)?3402823e32:WL(t)?4294967295:VL(t)?65535:qL(t)||HL(t)?255:fT(t)?2147483647:hT(t)?32767:cT(t)?127:256}const MTt=-32768,ATt=-2147483648;function wtt(t,e){let i;for(i in t)t.hasOwnProperty(i)&&t[i]===void 0&&delete t[i];return t}function Ht(t){if(!t||typeof t!="object"||typeof t=="function")return t;const e=XL(t);if(e!=null)return e;if($b(t))return t.clone();if(YL(t))return t.map(Ht);if(KL(t))throw new Error("Trying to clone an unclonable Accessor instance");const i={};for(const n of Object.getOwnPropertyNames(t))i[n]=Ht(t[n]);return i}function cS(t){if(!t||typeof t!="object"||typeof t=="function"||"HTMLElement"in globalThis&&t instanceof HTMLElement)return t;const e=XL(t);if(e!=null)return e;if(YL(t)){let n=!0;const a=t.map((d=>{const y=cS(d);return d!=null&&y==null&&(n=!1),y}));return n?a:null}if($b(t))return t.clone();if(t instanceof File||t instanceof Blob)return t;if(KL(t))return null;const i=new(Object.getPrototypeOf(t)).constructor;for(const n of Object.getOwnPropertyNames(t)){const a=t[n],d=cS(a);if(a!=null&&d==null)return null;i[n]=d}return i}function $b(t){return typeof t.clone=="function"}function YL(t){return typeof t.map=="function"&&typeof t.forEach=="function"}function KL(t){return typeof t.notifyChange=="function"&&typeof t.watch=="function"}function KO(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function XL(t){if(cT(t)||qL(t)||HL(t)||hT(t)||VL(t)||fT(t)||WL(t)||i5(t)||r5(t))return t.slice();if(t instanceof Date)return new Date(t.getTime());if(t instanceof ArrayBuffer)return t.slice(0,t.byteLength);if(t instanceof Map){const e=new Map;for(const[i,n]of t)e.set(i,Ht(n));return e}if(t instanceof Set){const e=new Set;for(const i of t)e.add(Ht(i));return e}return null}function dT(t,e){return t===e||typeof t=="number"&&isNaN(t)&&typeof e=="number"&&isNaN(e)||typeof t?.getTime=="function"&&typeof e?.getTime=="function"&&t.getTime()===e.getTime()||!1}function ZL(t,e){return t===e||(t==null||typeof t=="string"?t===e:typeof t=="number"?t===e||typeof e=="number"&&isNaN(t)&&isNaN(e):t instanceof Date?e instanceof Date&&t.getTime()===e.getTime():Array.isArray(t)?Array.isArray(e)&&e5(t,e):t instanceof Set?e instanceof Set&&Stt(t,e):t instanceof Map?e instanceof Map&&xtt(t,e):!!KO(t)&&KO(e)&&_tt(t,e))}function _tt(t,e){if(t===null||e===null)return!1;const i=Object.keys(t);if(e===null||Object.keys(e).length!==i.length)return!1;for(const n of i)if(t[n]!==e[n]||!Object.prototype.hasOwnProperty.call(e,n))return!1;return!0}function Stt(t,e){if(t.size!==e.size)return!1;for(const i of t)if(!e.has(i))return!1;return!0}function xtt(t,e){if(t.size!==e.size)return!1;for(const[i,n]of t){const a=e.get(i);if(a!==n||a===void 0&&!e.has(i))return!1}return!0}function Ttt(t,e,i=!1){return tj(t,e,i)}function kg(t,e){if(e!=null)return e[t]||QL(t.split("."),!1,e)}function Hf(t,e,i){const n=t.split("."),a=n.pop(),d=QL(n,!0,i);d&&a&&(d[a]=e)}function XO(t,e){if(t==null&&e==null)return!1;if(t==null||e==null)return!0;if(typeof t=="object"){if(Array.isArray(t)){const i=e;if(t.length!==i.length)return!0;for(let n=0;n<t.length;n++)if(XO(t[n],i[n]))return!0;return!1}if(Object.keys(t).length!==Object.keys(e).length)return!0;for(const i in t)if(XO(t[i],e[i]))return!0;return!1}return t!==e}function QL(t,e,i){let n=i;for(const a of t){if(n==null)return;if(!(a in n)){if(!e)return;n[a]={}}n=n[a]}return n}function tj(t,e,i){return e?Object.keys(e).reduce(((n,a)=>{if(a==="__proto__")return n;let d=n[a],y=e[a];return d===y?n:d===void 0?(n[a]=Ht(y),n):(Array.isArray(y)||Array.isArray(n)?(d=d?Array.isArray(d)?n[a]=d.slice():n[a]=[d]:n[a]=[],y&&(Array.isArray(y)||(y=[y]),i?y.forEach((b=>{d.includes(b)||d.push(b)})):n[a]=y.slice())):y&&typeof y=="object"?n[a]=tj(d,y,i):n.hasOwnProperty(a)&&!e.hasOwnProperty(a)||(n[a]=y),n)}),t||{}):t}const ci={apiKey:void 0,apiKeys:{scopes:[]},applicationName:"",applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",respectPrefersReducedMotion:!0,routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],internalInterceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:62e3,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(Ttt(ci,globalThis.esriConfig,!0),delete ci.has),!ci.assetsPath){{const t="4.33";ci.assetsPath=`https://js.arcgis.com/${t}/@arcgis/core/assets`}ci.defaultAssetsPath=ci.assetsPath}const Ett=/\{([^}]+)\}/g;function ZO(t){return t??""}function ej(t,e){return e?t.replaceAll(Ett,typeof e=="object"?(i,n)=>ZO(kg(n,e)):(i,n)=>ZO(e(n))):t}function RTt(t,e){return t.replaceAll(/([.$?*|{}()[\]\\/+\-^])/g,(i=>e?.includes(i)?i:`\\${i}`))}function ij(t){let e=0;for(let i=0;i<t.length;i++)e=(e<<5)-e+t.charCodeAt(i),e|=0;return e}let QO;function CTt(t){return QO??=new DOMParser,QO.parseFromString(t||"","text/html").body.innerText||""}function OTt(t,e){return new RegExp(`{${e}}`,"ig").test(t)}function $Tt(t,...e){let i=t[0];for(let n=0;n<e.length;++n)i+=e[n]+t[n+1];return i}const t$={info:0,warn:1,error:2,none:3};var Ur;let ae=(Ur=class{constructor(e){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},e.level!=null&&(this.level=e.level),e.writer!=null&&(this.writer=e.writer),this._module=e.module,Ur._loggers.set(this.module,this);const i=this.module.lastIndexOf(".");i!==-1&&(this._parent=Ur.getLogger(this.module.slice(0,i)))}get module(){return this._module}get parent(){return this._parent}error(...e){this._log("error","always",...e)}warn(...e){this._log("warn","always",...e)}info(...e){this._log("info","always",...e)}errorOnce(...e){this._log("error","once",...e)}warnOnce(...e){this._log("warn","once",...e)}infoOnce(...e){this._log("info","once",...e)}errorOncePerTick(...e){this._log("error","oncePerTick",...e)}warnOncePerTick(...e){this._log("warn","oncePerTick",...e)}infoOncePerTick(...e){this._log("info","oncePerTick",...e)}get test(){}static get test(){}static getLogger(e){return e=typeof e!="string"?e.declaredClass:e,Ur._loggers.get(e)||new Ur({module:e})}_log(e,i,...n){if(this._matchLevel(e)){if(i!=="always"&&!Ur._throttlingDisabled){const a=Att(n),d=this._loggedMessages[e].get(a);if(i==="once"&&d!=null||i==="oncePerTick"&&d&&d>=Ur._tickCounter)return;this._loggedMessages[e].set(a,Ur._tickCounter),Ur._scheduleTickCounterIncrement()}for(const a of ci.log.interceptors)if(a(e,this.module,...n))return;this._inheritedWriter()(e,this.module,...n)}}_parentWithMember(e,i){let n=this;for(;n!=null;){const a=n[e];if(a!=null)return a;n=n.parent}return i}_inheritedWriter(){return this._parentWithMember("writer",Mtt)}_matchLevel(e){const i=ci.log.level||"warn";return t$[this._parentWithMember("level",i)]<=t$[e]}static _scheduleTickCounterIncrement(){Ur._tickCounterScheduled||(Ur._tickCounterScheduled=!0,Promise.resolve().then((()=>{Ur._tickCounter++,Ur._tickCounterScheduled=!1})))}},Ur._loggers=new Map,Ur._tickCounter=0,Ur._tickCounterScheduled=!1,Ur._throttlingDisabled=!1,Ur);function Mtt(t,e,...i){console[t](`[${e}]`,...i)}function Att(...t){return ij(JSON.stringify(t,(i,n)=>typeof n!="object"||Array.isArray(n)?n:"[Object]"))}function rj(t,e){if(t==null)throw new Error(e??"value is None")}function vr(t){return t?.destroy(),null}function NTt(t){return t?.dispose(),null}function or(t){return t?.remove(),null}function fp(t){return t?.abort(),null}function kTt(t){return t?.release(),null}function Rtt(t,e,i){return t!=null&&e!=null?i!=null?i(t,e):t.equals(e):t===e}function Ctt(t,e){let i;return t.some(((n,a)=>(i=e(n,a),i!=null))),i??void 0}const nj=Symbol("Accessor-beforeDestroy"),Ott={remove:()=>{}};function ui(t){return t?{remove(){t&&(t(),t=void 0)}}:Ott}function sj(t){t.forEach((e=>e?.remove()))}function PTt(t){sj(t),t.length=0}function Vf(t){return ui((()=>sj(t)))}function ITt(t){return ui((()=>t()?.remove()))}function DTt(t){return ui((()=>t?.abort()))}function LTt(t){return ui(t!=null?()=>t.destroy():void 0)}function $tt(t){return typeof t=="object"&&!!t&&"remove"in t&&typeof t.remove=="function"}function jTt(t){$tt(t)&&t.remove()}function zTt(t){return{[Symbol.dispose](){t.remove()}}}function Gc(t){return t.__accessor__??null}function Ntt(t,e){return t?.metadata?.[e]!=null}function x3(t,e,i){return i?Nb(t,e,{policy:i,path:""}):Nb(t,e,null)}function Nb(t,e,i){return e?Object.keys(e).reduce(((n,a)=>{const d=a;if(d==="__proto__")return n;let y=null,b="merge";if(i&&(y=i.path?`${i.path}.${a}`:a,b=i.policy(y)),b==="replace"||b==="replace-arrays"&&Array.isArray(n[d]))return n[d]=e[d],n;if(n[d]===void 0)return n[d]=Ht(e[d]),n;let S=n[d],T=e[d];if(S===T)return n;if(Array.isArray(T)||Array.isArray(n))S=S?Array.isArray(S)?n[d]=S.slice():n[d]=[S]:n[d]=[],T&&(Array.isArray(T)||(T=[T]),T.forEach((C=>{S.includes(C)||S.push(C)})));else if(T&&typeof T=="object")if(i){const C=i.path;i.path=y,n[d]=Nb(S,T,i),i.path=C}else n[d]=Nb(S,T,null);else n.hasOwnProperty(a)&&!e.hasOwnProperty(a)||(n[d]=T);return n}),t||{}):t}function oj(t){return Array.isArray(t)?t:t.split(".")}function e$(t){return t.includes(",")?t.split(",").map((e=>e.trim())):[t.trim()]}function ktt(t){if(Array.isArray(t)){const e=[];for(const i of t)e.push(...e$(i));return e}return e$(t)}function aj(t,e,i,n){const a=ktt(e);if(a.length!==1){const d=a.map((y=>n(t,y,i)));return Vf(d)}return n(t,a[0],i)}function lj(t,e){const i=t[t.length-1]==="?"?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const a=parseInt(i,10);if(!isNaN(a))return Array.isArray(e)?e[a]:e.at(a)}const n=Gc(e);return Ntt(n,i)?n.get(i):e[i]}function uj(t,e,i){if(t==null)return t;const n=lj(e[i],t);return!n&&i<e.length-1?void 0:i===e.length-1?n:uj(n,e,i+1)}function Pg(t,e,i=0){return typeof e!="string"||e.includes(".")?uj(t,oj(e),i):lj(e,t)}function ga(t,e){return Pg(t,e)}function i$(t,e){return Pg(e,t)!==void 0}const ro={INITIALIZING:0,CONSTRUCTING:1,CONSTRUCTED:2,DESTROYING:3,DESTROYED:4};function Ig(t){let e=t.constructor.__accessorMetadata__;const i=Object.prototype.hasOwnProperty.call(t.constructor,"__accessorMetadata__");if(e){if(!i){e=Object.create(e);for(const n in e)e[n]=Ht(e[n]);Object.defineProperty(t.constructor,"__accessorMetadata__",{value:e,enumerable:!1,configurable:!0,writable:!0})}}else e={},Object.defineProperty(t.constructor,"__accessorMetadata__",{value:e,enumerable:!1,configurable:!0,writable:!0});return t.constructor.__accessorMetadata__}function Dg(t,e){const i=Ig(t);let n=i[e];return n||(n=i[e]={}),n}function Ptt(t,e){return x3(t,e,Dtt)}const Itt=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function Dtt(t){return Itt.test(t)?"replace":"merge"}function Ltt(t){return t?.release&&typeof t.release=="function"}function jtt(t){return t?.acquire&&typeof t.acquire=="function"}var zc;let jp=(zc=class{constructor(e,i,n,a=1,d=0){this._ctor=e,this._acquireFunction=i,this._releaseFunction=n,this.allocationSize=a,this._pool=new Array(d),this._initialSize=d;for(let y=0;y<d;y++)this._pool[y]=new this._ctor;this.allocationSize=Math.max(a,1)}destroy(){this.prune(0)}acquire(...e){let i;if(zc.test.disabled)i=new this._ctor;else{if(this._pool.length===0){const n=this.allocationSize;for(let a=0;a<n;a++)this._pool[a]=new this._ctor}i=this._pool.pop()}return this._acquireFunction?this._acquireFunction(i,...e):jtt(i)&&i.acquire(...e),i}release(e){e&&!zc.test.disabled&&(this._releaseFunction?this._releaseFunction(e):Ltt(e)&&e.release(),this._pool.push(e))}prune(e=this._initialSize){if(!(e>=this._pool.length)){for(let i=e;i<this._pool.length;++i){const n=this._pool[i];this._dispose(n)}this._pool.length=e}}_dispose(e){e.dispose&&typeof e.dispose=="function"&&e.dispose()}},zc.test={disabled:!1},zc),ztt=class{constructor(e,i){this._observers=e,this._observer=i}remove(){uT(this._observers,this._observer)}},cj=class{constructor(){this._observers=null,this.destroyed=!1}observe(e){if(this.destroyed||e.destroyed)return Utt;this._observers==null&&(this._observers=[]);const i=this._observers;let n=!1,a=!1;const d=i.length;for(let y=0;y<d;++y){const b=i[y];if(b.destroyed)a=!0;else if(b===e){n=!0;break}}return n||(i.push(e),a&&this._removeDestroyedObservers()),new ztt(i,e)}_removeDestroyedObservers(){const e=this._observers;if(!e||e.length===0)return;const i=e.length;let n=0;for(let a=0;a<i;++a){for(;a+n<i&&e[a+n].destroyed;)++n;if(n>0){if(!(a+n<i))break;e[a]=e[a+n]}}e.length=i-n}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this._observers;if(e!=null){for(const i of e)i.onCommitted();this._observers=null}}};const Utt=ui();var fi;(function(t){t[t.DEFAULTS=0]="DEFAULTS",t[t.COMPUTED=1]="COMPUTED",t[t.SERVICE=2]="SERVICE",t[t.PORTAL_ITEM=3]="PORTAL_ITEM",t[t.WEB_SCENE=4]="WEB_SCENE",t[t.WEB_MAP=5]="WEB_MAP",t[t.LINK_CHART=6]="LINK_CHART",t[t.USER=7]="USER"})(fi||(fi={}));const BTt=fi.USER+1;function pT(t){switch(t){case"defaults":return fi.DEFAULTS;case"service":return fi.SERVICE;case"portal-item":return fi.PORTAL_ITEM;case"web-scene":return fi.WEB_SCENE;case"web-map":return fi.WEB_MAP;case"link-chart":return fi.LINK_CHART;case"user":return fi.USER;default:return null}}function hS(t){switch(t){case fi.DEFAULTS:return"defaults";case fi.SERVICE:return"service";case fi.PORTAL_ITEM:return"portal-item";case fi.WEB_SCENE:return"web-scene";case fi.WEB_MAP:return"web-map";case fi.LINK_CHART:return"link-chart";case fi.USER:return"user"}}function Ftt(t){return hS(t)}const ir={Dirty:1,Overridden:2,Computing:4,NonNullable:8,HasDefaultValue:16,DepTrackingInitialized:32,AutoTracked:64,ExplicitlyTracking:128};let n5=class{constructor(e){this.accessed=void 0,this._handles=void 0,this._observer=e}destroy(){this.accessed?.clear(),this.clear()}onAccessed(e){this._observer!=null&&e!==this._observer&&(this.accessed==null&&(this.accessed=new Set),this.accessed.add(e))}onTrackingEnd(){this._observer!=null&&(this.clear(),this.accessed!=null&&(this._handles==null&&(this._handles=[]),this.accessed.forEach((e=>{this._handles.push(e.observe(this._observer))})),this.accessed.clear()))}clear(){if(this._handles!=null){for(let e=0;e<this._handles.length;++e)this._handles[e].remove();this._handles.length=0}}};const kb=new n5,Ny=[];let xm=kb;function xe(t){xm.onAccessed(t)}let T3=!1,E3=!1;function yu(t,e,i){if(T3)return yT(t,e,i);let n=null;return hj(t),n=e.call(i),fj(),n}function Btt(t,e){return yu(kb,t,e)}function yT(t,e,i){const n=T3;T3=!0,hj(t);let a=null;try{a=e.call(i)}catch(d){E3&&ae.getLogger("esri.core.accessorSupport.tracking").error(d)}return fj(),T3=n,a}function hj(t){xm=t,Ny.push(t)}function fj(){const t=Ny.length;if(t>1){const e=Ny.pop();xm=Ny[t-2],e.onTrackingEnd()}else if(t===1){const e=Ny.pop();xm=kb,e.onTrackingEnd()}else xm=kb}function dj(t,e){if(e.flags&ir.DepTrackingInitialized)return;e.flags|=ir.DepTrackingInitialized;const i=E3;E3=!1,e.flags&ir.AutoTracked?yT(e.trackingTarget,e.metadata.get,t):pj(t,e),E3=i}const Gtt=[];function pj(t,e){e.flags&ir.ExplicitlyTracking||(e.flags|=ir.ExplicitlyTracking,yT(e.trackingTarget,(()=>{const i=e.metadata.dependsOn||Gtt;for(const n of i)if(typeof n!="string"||n.includes(".")){const a=oj(n);for(let d=0,y=t;d<a.length&&y!=null&&typeof y=="object";++d)y=r$(y,a[d],d!==a.length-1)}else r$(t,n,!1)})),e.flags&=-129)}function r$(t,e,i){const n=e[e.length-1]==="?"?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const d=parseInt(n,10);if(!isNaN(d))return Array.isArray(t)?t[d]:t.at(d)}const a=Gc(t);if(a){const d=a.propertiesByName.get(n);d&&(xe(d),dj(t,d))}return i?t[n]:void 0}let n$=class extends cj{constructor(e,i){super(),this.propertyName=e,this.metadata=i,this.trackingTarget=new n5(this),this.flags=0,this.flags=ir.Dirty|(i.nonNullable?ir.NonNullable:0)|(i.hasOwnProperty("value")?ir.HasDefaultValue:0)|(i.get===void 0?ir.DepTrackingInitialized:0)|(i.dependsOn===void 0?ir.AutoTracked:0)}destroy(){this.flags&ir.Dirty&&this.onCommitted(),super.destroy(),this.trackingTarget.destroy()}getComputed(e){e.mutable&&xe(this);const i=e.store,n=this.propertyName,a=this.flags,d=i.get(n);if(a&ir.Computing||~a&ir.Dirty&&i.has(n))return d;this.flags|=ir.Computing;const y=e.host;let b;a&ir.AutoTracked?b=yu(this.trackingTarget,this.metadata.get,y):(pj(y,this),b=this.metadata.get.call(y)),this.flags|=ir.DepTrackingInitialized,i.set(n,b,fi.COMPUTED);const S=i.get(n);return S===d?this.flags&=-2:Btt(this.commit,this),this.flags&=-5,S}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=-2,this.onCommitted()}onInvalidated(){~this.flags&ir.Overridden&&(this.flags|=ir.Dirty);const e=this._observers;if(e&&e.length>0)for(const i of e)i.onInvalidated()}onCommitted(){const e=this._observers;if(e&&e.length>0){const i=e.slice();for(const n of i)n.onCommitted()}}},qtt=class yj{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(e){const i=new yj;return this._values.forEach(((n,a)=>{e&&e.has(a)||i.set(a,Ht(n))})),i}get(e){return this._values.get(e)}originOf(){return fi.USER}keys(){return[...this._values.keys()]}set(e,i){this._values.set(e,i)}delete(e){this._values.delete(e)}has(e){return this._values.has(e)}isAtOrigin(e,i){return this.has(e)}isBelowOrigin(e,i){return!this.has(e)}forEach(e){this._values.forEach(e)}};function kd(t,e,i){return t!==void 0}function s$(t,e,i,n){return t!==void 0&&(!(i==null&&t.flags&ir.NonNullable)||(n.lifecycle,!1))}let Htt=class{constructor(e){this.host=e,this.propertiesByName=new Map,this.ctorArgs=null,this.lifecycle=ro.INITIALIZING,this.store=new qtt,this.mutable=!0,this._origin=fi.USER;const i=this.host.constructor.__accessorMetadata__;for(const n in i){const a=new n$(n,i[n]);this.propertiesByName.set(n,a)}this.metadata=i}initialize(){this.lifecycle=ro.CONSTRUCTING}constructed(){this.lifecycle=ro.CONSTRUCTED}destroy(){this.lifecycle=ro.DESTROYED,this.propertiesByName.forEach((e=>e.destroy()))}get initialized(){return this.lifecycle!==ro.INITIALIZING}get(e){const i=this.propertiesByName.get(e);if(!kd(i))return;if(i.metadata.get)return i.getComputed(this);this.mutable&&xe(i);const n=this.store;return n.has(e)?n.get(e):i.metadata.value}originOf(e){const i=this.store.originOf(e);if(i===void 0){const n=this.propertiesByName.get(e);if(n!==void 0&&n.flags&ir.HasDefaultValue)return"defaults"}return hS(i)}has(e){return this.propertiesByName.has(e)&&this.store.has(e)}keys(){return[...this.propertiesByName.keys()]}internalGet(e){const i=this.propertiesByName.get(e);if(kd(i))return this.store.has(e)?this.store.get(e):i.metadata.value}internalSet(e,i){const n=this.propertiesByName.get(e);kd(n)&&this._internalSet(n,i)}getDependsInfo(e,i,n){const a=this.propertiesByName.get(i);if(!kd(a))return"";const d=new n5,y=yu(d,(()=>a.metadata.get?.call(e)));let b=`${n}${e.declaredClass.split(".").pop()}.${i}: ${y}
`;const S=d.accessed??new Set;if(S.size===0)return b;n+="  ";for(const T of S)T instanceof n$&&(b+=`${n}${T.propertyName}: undefined
`);return b}setAtOrigin(e,i,n){const a=this.propertiesByName.get(e);if(kd(a))return this._setAtOrigin(a,i,n)}isOverridden(e){const i=this.propertiesByName.get(e);return i!==void 0&&!!(i.flags&ir.Overridden)}clearOrigin(e,i){const n=this.store,a=this.propertiesByName.get(e);if(!kd(a))return;const d=n.isAtOrigin(e,i)&&!(a.flags&ir.Overridden);n.delete(e,i),d&&a.notifyChange()}clearOverride(e){const i=this.propertiesByName.get(e);i&&i.flags&ir.Overridden&&(i.flags&=-3,i.notifyChange())}override(e,i){const n=this.propertiesByName.get(e);if(!s$(n,e,i,this))return;const a=n.metadata.cast;if(a){const d=this._cast(a,i),{valid:y,value:b}=d;if(T6.release(d),!y)return;i=b}n.flags|=ir.Overridden,this._internalSet(n,i)}set(e,i){const n=this.propertiesByName.get(e);if(!s$(n,e,i,this))return;const a=n.metadata.cast;if(a){const y=this._cast(a,i),{valid:b,value:S}=y;if(T6.release(y),!b)return;i=S}const d=n.metadata.set;d?d.call(this.host,i):this._internalSet(n,i)}setDefaultOrigin(e){this._origin=pT(e)}getDefaultOrigin(){return hS(this._origin)}notifyChange(e){const i=this.propertiesByName.get(e);i!==void 0&&i.notifyChange()}invalidate(e){const i=this.propertiesByName.get(e);i!==void 0&&i.invalidate()}commit(e){const i=this.propertiesByName.get(e);i!==void 0&&i.commit()}_internalSet(e,i){const n=this.lifecycle!==ro.INITIALIZING?this._origin:fi.DEFAULTS;this._setAtOrigin(e,i,n)}_setAtOrigin(e,i,n){const a=this.store,d=e.propertyName;if(a.isAtOrigin(d,n)&&dT(i,a.get(d))&&~e.flags&ir.Overridden)return;const y=a.isBelowOrigin(d,n)||a.isAtOrigin(d,n);y&&e.invalidate(),a.set(d,i,n),y&&e.commit(),dj(this.host,e)}_cast(e,i){const n=T6.acquire();return n.valid=!0,n.value=i,e&&(n.value=e.call(this.host,i,n)),n}},Vtt=class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}};const T6=new jp(Vtt);function Wtt(t,e){return t.replaceAll(/\$\{([^\s:}]*)(?::([^\s:}]+))?\}/g,((i,n)=>n===""?"$":(kg(n,e)??"").toString()))}let mj=class{constructor(e,i,n=void 0){this.name=e,this.details=n,this.message=(i&&Wtt(i,n))??""}toString(){return"["+this.name+"]: "+this.message}},Lt=class gj extends mj{constructor(e,i,n){super(e,i,n)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,((e,i)=>{if(i&&typeof i=="object"&&typeof i.toJSON=="function")return i;try{return Ht(i)}catch{return"[object]"}})))}}catch(e){throw ae.getLogger("esri.core.Error").error(e),e}return{name:this.name,message:this.message,details:this.details}}static fromJSON(e){return new gj(e.name,e.message,e.details)}};Lt.prototype.type="error";function Pb(t,e,i){if(t&&e)if(typeof e=="object")for(const n of Object.getOwnPropertyNames(e))Pb(t,n,e[n]);else{if(e.includes(".")){const a=e.split("."),d=a.splice(-1,1)[0];return void Pb(ga(t,a),d,i)}const n=t.__accessor__;n!=null&&Jtt(e,n),t[e]=i}}function Jtt(t,e){if(St("esri-unknown-property-errors")&&!Ytt(t,e))throw new Lt("set:unknown-property",Ktt(t,e))}function Ytt(t,e){return e.metadata[t]!=null}function Ktt(t,e){return"setting unknown property '"+t+"' on instance of "+e.host.declaredClass}let Xtt;function Ztt(){return Xtt}var o$;(function(t){t[t.Ignore=0]="Ignore",t[t.Destroy=1]="Destroy",t[t.ThrowError=2]="ThrowError"})(o$||(o$={}));function Qtt(t){t.length=0}let os=class{constructor(e=50,i=50){this._pool=new jp(Array,void 0,Qtt,i,e)}acquire(){return this._pool.acquire()}release(e){this._pool.release(e)}prune(){this._pool.prune(0)}static acquire(){return E6.acquire()}static release(e){return E6.release(e)}static prune(){E6.prune()}};const E6=new os(100);let vj=class extends jp{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...e){const i=super.acquire(...e);return this._set.delete(i),i}release(e){e&&!this._set.has(e)&&(super.release(e),this._set.add(e))}_dispose(e){this._set.delete(e),super._dispose(e)}};const R2=[];function Ib(t){R2.push(t),R2.length===1&&queueMicrotask((()=>{const e=R2.slice();R2.length=0;for(const i of e)i()}))}let Tm=class{constructor(e,i=30){this.name=e,this._counter=0,this._samples=new Array(i)}push(e){e!=null&&(this._samples[++this._counter%this._samples.length]=e)}set(e){e!=null&&(this._samples[this._counter%this._samples.length]=e)}get median(){return this._samples.slice().sort(((e,i)=>e-i))[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce(((e,i)=>e+i),0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}};var fS;(function(t){const e=(d,y,b,S)=>{let T=y,C=y;const k=b>>>1,D=d[T-1];for(;C<=k;){C=T<<1,C<b&&S(d[C-1],d[C])<0&&++C;const z=d[C-1];if(S(z,D)<=0)break;d[T-1]=z,T=C}d[T-1]=D},i=(d,y)=>d<y?-1:d>y?1:0;function n(d,y,b,S){y===void 0&&(y=0),b===void 0&&(b=d.length),S===void 0&&(S=i);for(let C=b>>>1;C>y;C--)e(d,C,b,S);const T=y+1;for(let C=b-1;C>y;C--){const k=d[y];d[y]=d[C],d[C]=k,e(d,T,C,S)}}function*a(d,y,b,S){y===void 0&&(y=0),b===void 0&&(b=d.length),S===void 0&&(S=i);for(let C=b>>>1;C>y;C--)e(d,C,b,S),yield;const T=y+1;for(let C=b-1;C>y;C--){const k=d[y];d[y]=d[C],d[C]=k,e(d,T,C,S),yield}}t.sort=n,t.iterableSort=a})(fS||(fS={}));const a$=fS,tet=1.5,eet=1.1;let Em=class{constructor(e){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new FL,e&&(e.initialSize&&(this.data=new Array(e.initialSize)),e.allocator&&(this._allocator=e.allocator),e.deallocator!==void 0&&(this._deallocator=e.deallocator),e.shrink&&(this._shrink=()=>l$(this)))}toArray(){return this.data.slice(0,this.length)}filter(e){const i=new Array;for(let n=0;n<this._length;n++){const a=this.data[n];e(a)&&i.push(a)}return i}at(e){if((e=Math.trunc(e)||0)<0&&(e+=this._length),!(e<0||e>=this._length))return this.data[e]}includes(e,i){const n=this.data.indexOf(e,i);return n!==-1&&n<this.length}get length(){return this._length}set length(e){if(e>this._length){if(this._allocator){for(;this._length<e;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=e}else{if(this._deallocator)for(let i=e;i<this._length;++i)this.data[i]=this._deallocator(this.data[i]);this._length=e,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(e){this.data[this._length++]=e}pushArray(e,i=e.length){for(let n=0;n<i;n++)this.data[this._length++]=e[n]}fill(e,i){for(let n=0;n<i;n++)this.data[this._length++]=e}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const e=this.data[this._length];return++this._length,e}unshift(e){this.data.unshift(e),this._length++,l$(this)}pop(){if(this.length===0)return;const e=this.data[this.length-1];return this.length=this.length-1,this._shrink(),e}remove(e){const i=uS(this.data,e,this.length,this._hint);if(i!==-1)return this.data.splice(i,1),this.length=this.length-1,e}removeUnordered(e){return this.removeUnorderedIndex(uS(this.data,e,this.length,this._hint))}removeUnorderedIndex(e){if(!(e>=this.length||e<0))return this.swapElements(e,this.length-1),this.pop()}removeUnorderedMany(e,i=e.length,n){this.length=gtt(this.data,e,this.length,i,this._hint,n),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(e,i){if(e>=this.length||i>=this.length||e===i)return;const n=this.data[e];this.data[e]=this.data[i],this.data[i]=n}sort(e){a$.sort(this.data,0,this.length,e)}iterableSort(e){return a$.iterableSort(this.data,0,this.length,e)}some(e,i){for(let n=0;n<this.length;++n)if(e.call(i,this.data[n],n,this.data))return!0;return!1}find(e,i){const{data:n,length:a}=this;for(let d=0;d<a;++d)if(e.call(i,n[d]))return n[d]}filterInPlace(e,i){let n=0;for(let a=0;a<this._length;++a){const d=this.data[a];e.call(i,d,a,this.data)&&(this.data[a]=this.data[n],this.data[n]=d,n++)}if(this._deallocator)for(let a=n;a<this._length;a++)this.data[a]=this._deallocator(this.data[a]);return this._length=n,this._shrink(),this}forAll(e,i){const{data:n,length:a}=this;for(let d=0;d<a;++d)e.call(i,n[d],d,n)}forEach(e,i){this.data.slice(0,this.length).forEach(e,i)}map(e,i){const n=new Array(this.length);for(let a=0;a<this.length;++a)n[a]=e.call(i,this.data[a],a,this.data);return n}reduce(e,i){let n=i;for(let a=0;a<this.length;++a)n=e(n,this.data[a],a,this.data);return n}has(e){const i=this.length,n=this.data;for(let a=0;a<i;++a)if(n[a]===e)return!0;return!1}*[Symbol.iterator](){for(let e=0;e<this.length;e++)yield this.data[e]}};function l$(t){t.data.length>tet*t.length&&(t.data.length=Math.floor(t.length*eet))}function iet(t){return{setTimeout:(e,i)=>{const n=t.setTimeout(e,i);return ui((()=>t.clearTimeout(n)))}}}const zp=iet(globalThis);function s5(t){return ret(t)||bj(t)}function ret(t){return t!=null&&typeof t=="object"&&"on"in t&&typeof t.on=="function"}function bj(t){return t!=null&&typeof t=="object"&&"addEventListener"in t&&typeof t.addEventListener=="function"}function Up(t,e,i){if(!s5(t))throw new TypeError("target is not a Evented or EventTarget object");return bj(t)?net(t,e,i):t.on(e,i)}function net(t,e,i,n){if(Array.isArray(e)){const a=e.slice();for(const d of a)t.addEventListener(d,i,n);return ui((()=>{for(const d of a)t.removeEventListener(d,i,n)}))}return t.addEventListener(e,i,n),ui((()=>t.removeEventListener(e,i,n)))}function wj(t,e,i){if(!s5(t))throw new TypeError("target is not a Evented or EventTarget object");if("once"in t)return t.once(e,i);const n=Up(t,e,(a=>{n.remove(),i.call(t,a)}));return n}function Zi(t="Aborted"){return new Lt("AbortError",t)}function dr(t,e="Aborted"){if(Go(t))throw Zi(e)}function Lg(t){return t instanceof AbortSignal?t:t?.signal??void 0}function Go(t){const e=Lg(t);return e!=null&&e.aborted}function _j(t){if(cs(t))throw t}function u$(t){if(!cs(t))throw t}function _a(t,e){const i=Lg(t);if(i!=null){if(!i.aborted)return wj(i,"abort",(()=>e()));e()}}function mT(t,e){const i=Lg(t);if(i!=null)return dr(i),wj(i,"abort",(()=>e(Zi())))}function set(t,e){return Lg(e)==null?t:new Promise(((i,n)=>{let a=_a(e,(()=>n(Zi())));const d=()=>{a=or(a)};t.then(d,d),t.then(i,n)}))}function cs(t){return t?.name==="AbortError"}async function c$(t){try{return await t}catch(e){if(!cs(e))throw e;return}}async function gT(t){if(!t)return;if(typeof t.forEach!="function"){const i=Object.keys(t),n=i.map((y=>t[y])),a=await gT(n),d={};return i.map(((y,b)=>d[y]=a[b])),d}const e=t;return Promise.allSettled(e).then((i=>Array.from(e,((n,a)=>{const d=i[a];return d.status==="fulfilled"?{promise:n,value:d.value}:{promise:n,error:d.reason}}))))}async function oet(t){return(await Promise.allSettled(t)).filter((e=>e.status==="fulfilled")).map((e=>e.value))}async function ZTt(t){return(await Promise.allSettled(t)).filter((e=>e.status==="rejected")).map((e=>e.reason))}function Sj(t,e=void 0,i){const n=new AbortController;return _a(i,(()=>n.abort())),new Promise(((a,d)=>{let y=setTimeout((()=>{y=0,a(e)}),t);_a(n,(()=>{y&&(clearTimeout(y),d(Zi()))}))}))}function QTt(t,e,i,n){const a=i&&"abort"in i?i:null;n!=null||a||(n=i);let d=setTimeout((()=>{d=0,a?.abort()}),e);const y=()=>n||new Lt("promiseUtils:timeout","The wrapped promise did not resolve within "+e+" ms");return t.then((b=>{if(d===0)throw y();return clearTimeout(d),b}),(b=>{throw clearTimeout(d),d===0?y():b}))}function aet(t,e){const i=new AbortController,n=setTimeout((()=>i.abort()),e);return _a(t,(()=>{i.abort(),clearTimeout(n)})),{...t,signal:i.signal}}function hl(t){return t&&typeof t.then=="function"}function dS(t){return hl(t)?t:Promise.resolve(t)}function uet(t,e=-1){let i,n,a,d,y=null;const b=(...S)=>{if(i){n=S,d&&d.reject(Zi()),d=qo();const D=d.promise;if(y){const z=y;y=null,z.abort()}return D}if(a=d||qo(),d=null,e>0){const D=new AbortController;i=dS(t(...S,D.signal));const z=i;Sj(e).then((()=>{i===z&&(d?D.abort():y=D)}))}else i=1,i=dS(t(...S));const T=()=>{const D=n;n=a=i=y=null,D!=null&&b(...D)},C=i,k=a;return C.then(T,T),C.then(k.resolve,k.reject),k.promise};return b}function qo(){let t,e;const i=new Promise(((a,d)=>{t=a,e=d})),n=a=>{t(a)};return n.resolve=a=>t(a),n.reject=a=>e(a),n.timeout=(a,d)=>zp.setTimeout((()=>n.reject(d)),a),n.promise=i,n}function tEt(t,e){e.then(t.resolve,t.reject)}async function h$(t){await Promise.resolve(),dr(t)}function eEt(t){return t}function cet(t){return 1e3*t}function iEt(t){return t}function rEt(t){return .001*t}let het=class{constructor(e){this.phases=e,this.paused=!1,this.ticks=-1,this.removed=!1}},fet=class{constructor(e){this.callback=e,this.isActive=!0}remove(){this.isActive=!1}},pS=0;const ry={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},yS=["prepare","preRender","render","postRender","update","finish"],mS=[],$f=new Em;let det=class{constructor(e){this._task=e}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1,xj()}};function pet(){pf!=null&&(cancelAnimationFrame(pf),pf=requestAnimationFrame(vT))}function xj(){pf==null&&(pS=performance.now(),pf=requestAnimationFrame(vT))}const Db={frameTasks:$f,willDispatch:!1,clearFrameTasks:yet,dispatch:Ej,executeFrameTasks:met,reschedule:pet};function jg(t){const e=new fet(t);return mS.push(e),Db.willDispatch||(Db.willDispatch=!0,Ib(Ej)),e}function dp(t){const e=new het(t);return $f.push(e),xj(),new det(e)}let pf=null;function yet(t=!1){$f.forAll((e=>{e.removed=!0})),t&&Tj()}function vT(){const t=performance.now();pf=null,pf=$f.some((i=>!i.paused&&!i.removed))?requestAnimationFrame(vT):null,Db.executeFrameTasks(t)}function met(t){const e=t-pS;pS=t;const i=1e3/60,n=Math.max(0,e-i);ry.time=t,ry.frameDuration=i-n;for(let a=0;a<yS.length;a++){const d=performance.now(),y=yS[a];$f.forAll((b=>{b.paused||b.removed||(a===0&&b.ticks++,b.phases[y]&&(ry.elapsedFrameTime=performance.now()-t,ry.deltaTime=b.ticks===0?0:e,b.phases[y]?.call(b,ry)))})),wet[a].push(performance.now()-d)}Tj(),_et.push(performance.now()-t)}const C2=new Em;function Tj(){$f.forAll((t=>{t.removed&&C2.push(t)})),$f.removeUnorderedMany(C2.data,C2.length),C2.clear()}function Ej(){for(;mS.length;){const t=mS.shift();t.isActive&&t.callback()}Db.willDispatch=!1}function get(t=1,e){const i=qo(),n=()=>{Go(e)?i.reject(Zi()):t===0?i():(--t,Ib((()=>n())))};return n(),i.promise}function vet(t){return get(1,t)}async function bet(t){await vet(t),await new Promise((e=>requestAnimationFrame((()=>{t?.aborted||e()}))))}const wet=yS.map((t=>new Tm(t))),_et=new Tm("total");function Mj(t,e){for(const i of t.values())if(e(i))return!0;return!1}function f$(t,e){if(!e)return t;for(const i of e)i!=null&&t.add(i);return t}function aEt(t,e){return e!=null&&t.add(e),t}function bT(t,e){const i=new Set;return f$(i,t),f$(i,e),i}function xet(t,e){const i=new Set;for(const n of e)t.has(n)&&i.add(n);return i}function lEt(t,e){if(!t||!e)return!1;if(t===e)return!0;for(const i of t)if(!e.has(i))return!1;return!0}function uEt(t,e){if(t==null&&e==null)return!0;if(t==null||e==null||t.size!==e.size)return!1;for(const i of t)if(!e.has(i))return!1;return!0}function Tet(t,e){const i=new Set(t);for(const n of e)i.delete(n);return i}function Eet(t,e){return Tet(bT(t,e),xet(t,e))}let Met=0;function M3(){return++Met}let o5=class extends n5{constructor(e){super(new Aet(e)),this._observer&&d$.register(this,new WeakRef(this._observer),this)}destroy(){this._observer&&d$.unregister(this._observer),this.accessed?.clear(),this.clear(),this._observer?.destroy()}},Aet=class{constructor(e){this._notify=e,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const e=this._invalidCount;if(e===1)return this._invalidCount=0,void this._notify();this._invalidCount=e>0?e-1:0}destroy(){this.destroyed=!0,this._notify=Ret}};const d$=new FinalizationRegistry((t=>{t.deref()?.destroy()}));function Ret(){}let E0=!1;const Lb=[];function Aj(t,e){let i=new o5(d),n=null,a=!1;function d(){if(!i||a)return;if(E0)return void Cj(d);const b=n;i.clear(),E0=!0,a=!0,n=yu(i,t),a=!1,E0=!1,e(n,b),Oj()}function y(){i&&(i.destroy(),i=null,n=null)}return a=!0,n=yu(i,t),a=!1,ui(y)}function Rj(t,e){let i=new o5(a),n=null;function a(){e(n,y)}function d(){i&&(i.destroy(),i=null),n=null}function y(){return i?(i.clear(),n=yu(i,t),n):null}return y(),ui(d)}function Cet(t,e){let i=!1,n=!1;const a=!!e?.sync;let d=new o5((()=>{i||n||(n=!0,a?y():queueMicrotask(y))}));function y(){n=!1,d&&!i&&(E0?Cj(y):(d.clear(),E0=!0,i=!0,yu(d,t),i=!1,E0=!1,Oj()))}function b(){d&&(d.destroy(),d=null)}return i=!0,yu(d,t),i=!1,ui(b)}function Cj(t){Lb.includes(t)||Lb.unshift(t)}function Oj(){for(;Lb.length;)Lb.pop()()}var Mm;(function(t){t[t.Untracked=0]="Untracked",t[t.Tracked=1]="Tracked"})(Mm||(Mm={}));var Tf;let wT=(Tf=class{constructor(){this.uid=M3(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(e,i,n,a,d){return this.pool.acquire(Mm.Untracked,e,i,n,a,d,dT)}static acquireTracked(e,i,n,a){return this.pool.acquire(Mm.Tracked,e,i,n,null,null,a)}notify(e,i){this.type===Mm.Untracked?this.callback.call(this.target,e,i,this.path,this.target):this.callback.call(null,e,i,void 0,void 0)}acquire(e,i,n,a,d,y,b){this.uid=M3(),this.removed=!1,this.type=e,this.oldValue=i,this.callback=n,this.getValue=a,this.target=d,this.path=y,this.equals=b}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=M3(),this.removed=!0}},Tf.pool=new vj(Tf),Tf);const A3=new os,du=new Set;let jb;function zb(t){du.delete(t),du.add(t),jb||(jb=jg(Net))}function Oet(t){if(t.removed)return;const e=t.oldValue,i=t.getValue();t.equals(e,i)||(t.oldValue=i,t.notify(i,e))}function $et(t){for(const e of du.values())e.target===t&&(e.removed=!0)}function Net(){let t=10;for(;jb&&t--;){jb=null;const e=ket(),i=A3.acquire();for(const n of e){const a=n.uid;Oet(n),a===n.uid&&n.removed&&i.push(n)}for(const n of du)n.removed&&(i.push(n),du.delete(n));for(const n of i)wT.pool.release(n);A3.release(i),A3.release(e),gS.forEach((n=>n()))}}function ket(){const t=A3.acquire();t.length=du.size;let e=0;for(const i of du)t[e]=i,++e;return du.clear(),t}const gS=new Set;function Pet(t){return gS.add(t),ui((()=>gS.delete(t)))}function Iet(t,e,i){let n=aj(t,e,i,((a,d,y)=>{let b,S,T=Rj((()=>Pg(a,d)),((C,k)=>{a.__accessor__?.lifecycle===ro.DESTROYED||b&&b.uid!==S?n.remove():(b||(b=wT.acquireUntracked(C,y,k,a,d),S=b.uid),zb(b))}));return ui((()=>{T.remove(),b&&(b.uid!==S||b.removed||(b.removed=!0,zb(b)),b=null),n=T=null}))}));return n}function Det(t,e,i){const n=aj(t,e,i,((a,d,y)=>{let b=!1;return Aj((()=>Pg(a,d)),((S,T)=>{a.__accessor__.lifecycle!==ro.DESTROYED?b||(b=!0,dT(T,S)||y.call(a,S,T,d,a),b=!1):n.remove()}))}));return n}function Let(t,e,i,n=!1){return t.__accessor__&&t.__accessor__.lifecycle!==ro.DESTROYED?n?Det(t,e,i):Iet(t,e,i):ui()}function jet(t,e,i){let n,a,d=Rj(t,((y,b)=>{n&&n.uid!==a?d.remove():(n||(n=wT.acquireTracked(y,e,b,i),a=n.uid),zb(n))}));return ui((()=>{d.remove(),n&&(n.uid!==a||n.removed||(n.removed=!0,zb(n)),n=null),d=null}))}function zet(t,e,i){let n=!1;return Aj(t,((a,d)=>{n||(n=!0,i(d,a)||e(a,d),n=!1)}))}function Uet(t,e,i=!1,n=ZL){return i?zet(t,e,n):jet(t,e,n)}function p$(t){return Mj(du,(e=>e.oldValue===t))}function Fet(t,e){for(const i of t.values())if(e(i))return!0;return!1}function fEt(t,e){for(const i of t.values())if(e(i))return i;return null}function zg(t,e,i){const n=t.get(e);if(n!==void 0)return n;const a=i();return t.set(e,a),a}function dEt(t){const e=new Map;return i=>(e.has(i)||e.set(i,t(i)),e.get(i))}const yf=()=>ae.getLogger("esri.core.accessorSupport.ensureTypes");function Bet(t){if(t==null)return t;const e=new Date(t);return isNaN(e.getTime())?(yf().error("Accessor#set",`Invalid date value: '${t}', falling back to current date`),new Date):e}function Get(t){return t==null?t:!!t}function qet(t){return t==null?t:t.toString()}function no(t,e=0){return t==null?t:(t=parseFloat(t),isNaN(t)?e:t)}function _T(t){return t==null?t:Math.round(parseFloat(t))}function Het(t){return null}function Vet(t,e){return i=>{let n=t(i);return e.step!=null&&(n=Math.round(n/e.step)*e.step),e.min!=null&&(n=Math.max(e.min,n)),e.max!=null&&(n=Math.min(e.max,n)),n}}function $j(t){return t?.constructor&&t.constructor.__accessorMetadata__!==void 0}function Ub(t,e){return e!=null&&t&&!(e instanceof t)}function Nj(t){return t&&"isCollection"in t}function y$(t){return t?.Type?typeof t.Type=="function"?t.Type:t.Type.base:null}function Wet(t,e){if(!e?.constructor||!Nj(e.constructor))return vS(t,e)?e:new t(e);const i=y$(t.prototype.itemType),n=y$(e.constructor.prototype.itemType);return i?n?i===n?e:i.prototype.isPrototypeOf(n.prototype)?new t(e):(vS(t,e),e):new t(e):e}function vS(t,e){return!!$j(e)&&(yf().error("Accessor#set","Assigning an instance of '"+(e.declaredClass||"unknown")+"' which is not a subclass of '"+a5(t)+"'"),!0)}function Fp(t,e){return e==null?e:Nj(t)?Wet(t,e):Ub(t,e)?vS(t,e)?e:new t(e):e}function a5(t){return t?.prototype?.declaredClass||"unknown"}const Jet=new WeakMap;function Yet(t){switch(t){case Number:return e=>no(e);case Hi:return _T;case Boolean:return Get;case String:return qet;case Date:return Bet;case ST:return Het;default:return zg(Jet,t,(()=>Fp.bind(null,t)))}}function an(t,e){const i=Yet(t);return arguments.length===1?i:i(e)}function tg(t,e,i){return arguments.length===1?tg.bind(null,t):e&&(Array.isArray(e)?e.map((n=>t(n,i))):[t(e,i)])}function Ket(t,e){return arguments.length===1?tg((i=>an(t,i))):tg((i=>an(t,i)),e)}function kj(t,e,i){return e!==0&&Array.isArray(i)?i.map((n=>kj(t,e-1,n))):t(i)}function Fb(t,e,i){if(arguments.length===2)return d=>Fb(t,e,d);if(!i)return i;i=kj(t,e,i);let n=e,a=i;for(;n>0&&Array.isArray(a);)n--,a=a[0];if(a!==void 0)for(let d=0;d<n;d++)i=[i];return i}function Xet(t,e,i){return arguments.length===2?Fb((n=>an(t,n)),e):Fb((n=>an(t,n)),e,i)}function Pj(t){return!!Array.isArray(t)&&!t.some((e=>{const i=typeof e;return!(i==="string"||i==="number"||i==="function"&&t.length>1)}))}function bS(t,e){if(arguments.length===2)return bS(t).call(null,e);const i=new Set,n=t.filter((b=>typeof b!="function")),a=t.filter((b=>typeof b=="function"));for(const b of t)typeof b!="string"&&typeof b!="number"||i.add(b);let d=null,y=null;return(b,S)=>{if(b==null)return b;const T=typeof b,C=T==="string"||T==="number";return C&&(i.has(b)||a.some((k=>T==="string"&&k===String||T==="number"&&k===Number)))||T==="object"&&a.some((k=>!Ub(b,k)))?b:(C&&n.length?(d||(d=n.map((k=>typeof k=="string"?`'${k}'`:`${k}`)).join(", ")),yf().error("Accessor#set",`'${b}' is not a valid value for this property, only the following values are valid: ${d}`)):typeof b=="object"&&a.length?(y||(y=a.map((k=>a5(k))).join(", ")),yf().error("Accessor#set",`'${b}' is not a valid value for this property, value must be one of ${y}`)):yf().error("Accessor#set",`'${b}' is not a valid value for this property`),S&&(S.valid=!1),null)}}function qc(t,e){if(arguments.length===2)return qc(t).call(null,e);const i={},n=[],a=[];for(const S in t.typeMap){const T=t.typeMap[S];i[S]=an(T),n.push(a5(T)),a.push(S)}const d=()=>`'${n.join("', '")}'`,y=()=>`'${a.join("', '")}'`,b=typeof t.key=="string"?S=>S[t.key]:t.key;return S=>{if(t.base&&!Ub(t.base,S)||S==null)return S;const T=b(S)||t.defaultKeyValue,C=i[T];if(!C)return yf().error("Accessor#set",`Invalid property value, value needs to be one of ${d()}, or a plain object that can autocast (having .type = ${y()})`),null;if(!Ub(t.typeMap[T],S))return S;if(typeof t.key=="string"&&!$j(S)){const k={};for(const D in S)D!==t.key&&(k[D]=S[D]);return C(k)}return C(S)}}let Hi=class{},ST=class{};const mEt={native:t=>({type:"native",value:t}),array:t=>({type:"array",value:t}),oneOf:t=>({type:"one-of",values:t})};function Zet(t){if(!t||!("type"in t))return!1;switch(t.type){case"native":case"array":case"one-of":return!0}return!1}function Ij(t){switch(t.type){case"native":return an(t.value);case"array":return tg(Ij(t.value));case"one-of":return Qet(t);default:return null}}function Qet(t){let e=null;return(i,n)=>_S(i,t)?i:(e==null&&(e=wS(t)),yf().error("Accessor#set",`Invalid property value, value needs to be of type ${e}`),n&&(n.valid=!1),null)}function wS(t){switch(t.type){case"native":switch(t.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case Hi:return"integer";case Date:return"date";case ST:return"null";default:return a5(t.value)}case"array":return`array of ${wS(t.value)}`;case"one-of":{const e=t.values.map((i=>wS(i)));return`one of ${e.slice(0,-1)} or ${e[e.length-1]}`}}return"unknown"}function _S(t,e){if(t==null)return!0;switch(e.type){case"native":switch(e.value){case Number:case Hi:return typeof t=="number";case Boolean:return typeof t=="boolean";case String:return typeof t=="string";case ST:return t===null}return t instanceof e.value;case"array":return!!Array.isArray(t)&&!t.some((i=>!_S(i,e.value)));case"one-of":return e.values.some((i=>_S(t,i)))}}function N(t={}){return(e,i)=>{if(e===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${e.name}.${i}. Accessor does not support static properties.`);const n=Object.getOwnPropertyDescriptor(e,i),a=Dg(e,i);n&&(n.get||n.set?(a.get=n.get||a.get,a.set=n.set||a.set):"value"in n&&("value"in t&&ae.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${i}" on "${e.constructor.name}" already defined in the metadata`,t),a.value=t.value=n.value)),t.readOnly!=null&&(a.readOnly=t.readOnly);const d=t.aliasOf;if(d){const S=typeof d=="string"?d:d.source,T=typeof d=="string"?null:d.overridable===!0;let C;a.dependsOn=[S],a.get=function(){let k=ga(this,S);if(typeof k=="function"){C||(C=S.split(".").slice(0,-1).join("."));const D=ga(this,C);D&&(k=k.bind(D))}return k},a.readOnly||(a.set=T?function(k){this._override(i,k)}:function(k){Pb(this,S,k)})}const y=t.type,b=t.types;if(!a.cast){let S;y?S=tit(y):b&&(S=Array.isArray(b)?tg(qc(b[0])):qc(b)),t.cast=eit(t.cast,S)}Ptt(a,t),t.range&&(a.cast=Vet(a.cast,t.range))}}function xT(t,e,i){const n=Dg(t,i);n.json||(n.json={});let a=n.json;return e!==void 0&&(a.origins||(a.origins={}),a.origins[e]||(a.origins[e]={}),a=a.origins[e]),a}function tit(t){let e=0,i=t;if(Zet(t))return Ij(t);for(;Array.isArray(i)&&i.length===1&&typeof i[0]!="string"&&typeof i[0]!="number";)i=i[0],e++;const n=i;if(Pj(n))return e===0?bS(n):Fb(bS(n),e);if(e===1)return Ket(n);if(e>1)return Xet(n,e);const a=t;return a.from?a.from:an(a)}function eit(t,e){if(t||e)return t?e?(i,n)=>e(t(i,n),n):t:e}function iit(t){if(t.json&&t.json.origins){const e=t.json.origins,i={"web-document":["web-scene","web-map"]};for(const n in i)if(e[n]){const a=e[n];i[n].forEach((d=>{e[d]=a})),delete e[n]}}}let sl=class extends mj{constructor(e,i,n){super(e,i,n)}};sl.prototype.type="warning";function Dj(t){return!!t&&t.prototype?.declaredClass&&t.prototype.declaredClass.indexOf("esri.core.Collection")===0}const SS=()=>ae.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function m$(t,e,i){t&&(!i&&!e.read||e.read?.reader||e.read?.enabled===!1||sit(t)&&Hf("read.reader",TT(t),e))}function TT(t){const e=t.ndimArray??0;if(e>1)return nit(t);if(e===1)return g$(t);if("type"in t&&jj(t.type)){const i=t.type.prototype?.itemType?.Type,n=g$(typeof i=="function"?{type:i}:{types:i});return(a,d,y)=>{const b=n(a,d,y);return b&&new t.type(b)}}return ET(t)}function ET(t){return"type"in t?rit(t.type):oit(t.types)}function rit(t){return t.prototype.read?(e,i,n)=>{if(e==null)return e;const a=typeof e;if(a!=="object")return void SS().error(`Expected JSON value of type 'object' to deserialize type '${t.prototype.declaredClass}', but got '${a}'`);const d=new t;return d.read(e,n),d}:t.fromJSON}function Lj(t,e,i,n){return n!==0&&Array.isArray(e)?e.map((a=>Lj(t,a,i,n-1))):t(e,void 0,i)}function nit(t){const e=ET(t),i=Lj.bind(null,e),n=t.ndimArray??0;return(a,d,y)=>{if(a==null)return a;a=i(a,y,n);let b=n,S=a;for(;b>0&&Array.isArray(S);)b--,S=S[0];if(S!==void 0)for(let T=0;T<b;T++)a=[a];return a}}function g$(t){const e=ET(t);return(i,n,a)=>{if(i==null)return i;if(Array.isArray(i)){const y=[];for(const b of i){const S=e(b,void 0,a);S!==void 0&&y.push(S)}return y}const d=e(i,void 0,a);return d!==void 0?[d]:void 0}}function jj(t){if(!Dj(t))return!1;const e=t.prototype.itemType;return!(!e||!e.Type)&&(typeof e.Type=="function"?MT(e.Type):zj(e.Type))}function sit(t){return"types"in t?zj(t.types):MT(t.type)}function MT(t){return!Array.isArray(t)&&!!t&&t.prototype&&("read"in t.prototype||"fromJSON"in t||jj(t))}function zj(t){for(const e in t.typeMap)if(!MT(t.typeMap[e]))return!1;return!0}function oit(t){let e=null;const i=t.errorContext??"type",n=t.validate;return(a,d,y)=>{if(a==null)return a;const b=typeof a;if(b!=="object")return void SS().error(`Expected JSON value of type 'object' to deserialize, but got '${b}'`);e||(e=ait(t));const S=t.key;if(typeof S!="string")return;const T=a[S],C=T?e[T]:t.defaultKeyValue?t.typeMap[t.defaultKeyValue]:void 0;if(!C){const D=`Type '${T||"unknown"}' is not supported`;return y?.messages&&a&&y.messages.push(new sl(`${i}:unsupported`,D,{definition:a,context:y})),void SS().error(D)}const k=new C;return k.read(a,y),n?n(k):k}}function ait(t){const e={};for(const i in t.typeMap){const n=t.typeMap[i],a=Ig(n.prototype);if(typeof t.key=="function")continue;const d=a[t.key];if(!d)continue;if(d.json?.type&&Array.isArray(d.json.type)&&d.json.type.length===1&&typeof d.json.type[0]=="string"){e[d.json.type[0]]=n;continue}const y=d.json?.write;if(!y?.writer){e[i]=n;continue}const b=y.target,S=typeof b=="string"?b:t.key,T={};y.writer(i,T,S),T[S]&&(e[T[S]]=n)}return e}function lit(t){if(t.json||(t.json={}),b$(t.json),w$(t.json),v$(t.json),t.json.origins)for(const e in t.json.origins)b$(t.json.origins[e]),w$(t.json.origins[e]),v$(t.json.origins[e]);return!0}function v$(t){t.name&&(t.read&&typeof t.read=="object"?t.read.source===void 0&&(t.read.source=t.name):t.read={source:t.name},t.write&&typeof t.write=="object"?t.write.target===void 0&&(t.write.target=t.name):t.write={target:t.name})}function b$(t){typeof t.read=="boolean"?t.read={enabled:t.read}:typeof t.read=="function"?t.read={enabled:!0,reader:t.read}:t.read&&typeof t.read=="object"&&t.read.enabled===void 0&&(t.read.enabled=!0)}function w$(t){typeof t.write=="boolean"?t.write={enabled:t.write}:typeof t.write=="function"?t.write={enabled:!0,writer:t.write}:t.write&&typeof t.write=="object"&&t.write.enabled===void 0&&(t.write.enabled=!0)}function _$(t,e){if(!e.write||e.write.writer||e.write.enabled===!1&&!e.write.overridePolicy)return;const i=t?.ndimArray??0;t&&(i===1||"type"in t&&Dj(t.type))?e.write.writer=hit:i>1?e.write.writer=fit(i):e.types?Array.isArray(e.types)?e.write.writer=cit(e.types[0]):e.write.writer=uit(e.types):e.write.writer=eg}function uit(t){return(e,i,n,a)=>e?Uj(e,t,a)?eg(e,i,n,a):void 0:eg(e,i,n,a)}function Uj(t,e,i){for(const n in e.typeMap)if(t instanceof e.typeMap[n])return!0;if(i?.messages){const n=e.errorContext??"type",a=`Values of type '${(typeof e.key!="function"?t[e.key]:t.declaredClass)??"Unknown"}' cannot be written`;i&&i.messages&&t&&i.messages.push(new Lt(`${n}:unsupported`,a,{definition:t,context:i})),ae.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(a)}return!1}function cit(t){return(e,i,n,a)=>!e||!Array.isArray(e)?eg(e,i,n,a):eg(e.filter((d=>Uj(d,t,a))),i,n,a)}function eg(t,e,i,n){Hf(i,Bb(t,n),e)}function Bb(t,e){return t&&typeof t.write=="function"?t.write({},e):t&&typeof t.toJSON=="function"?t.toJSON():typeof t=="number"?Gb(t):t}function Gb(t){return t===-1/0?-Number.MAX_VALUE:t===1/0?Number.MAX_VALUE:isNaN(t)?null:t}function hit(t,e,i,n){let a;t===null?a=null:t&&typeof t.map=="function"?(a=t.map((d=>Bb(d,n))),typeof a.toArray=="function"&&(a=a.toArray())):a=[Bb(t,n)],Hf(i,a,e)}function Fj(t,e,i){return i!==0&&Array.isArray(t)?t.map((n=>Fj(n,e,i-1))):Bb(t,e)}function fit(t){return(e,i,n,a)=>{let d;if(e===null)d=null;else{d=Fj(e,a,t);let y=t,b=d;for(;y>0&&Array.isArray(b);)y--,b=b[0];if(b!==void 0)for(let S=0;S<y;S++)d=[d]}Hf(n,d,i)}}function dit(t,e){return AT(t,"any",e?.origin)}function xS(t,e){return AT(t,"read",e?.origin)}function Bj(t,e){return AT(t,"write",e?.origin)}function AT(t,e,i){let n=t?.json;if(n?.origins&&i){let a;a=i==="link-chart"?n.origins[i]&&(e==="any"||e in n.origins[i])?n.origins[i]:n.origins["web-map"]:n.origins[i],a&&(e==="any"||e in a)&&(n=a)}return n}function pit(t){const e=yit(t);if(t.json.origins)for(const i in t.json.origins){const n=t.json.origins[i],a=n.types?mit(n):e;m$(a,n,!1),n.types&&!n.write&&t.json.write?.enabled&&(n.write={...t.json.write}),_$(a,n)}m$(e,t.json,!0),_$(e,t.json)}function yit(t){return t.json.types?TS(t.json):t.type?Gj(t):TS(t)}function mit(t){return t.type?Gj(t):TS(t)}function Gj(t){if(!t.type)return;let e=0,i=t.type;for(;Array.isArray(i)&&!Pj(i);)i=i[0],e++;return{type:i,ndimArray:e}}function TS(t){if(!t.types)return;let e=0,i=t.types;for(;Array.isArray(i);)i=i[0],e++;return{types:i,ndimArray:e}}function git(t){lit(t)&&(iit(t),pit(t))}const M6=new Set,A6=new Set;function ut(t){return e=>{t??="esri.core.Accessor",e.prototype.declaredClass=t,bit(e);const i=[],n=[];let a=e.prototype;for(;a;)a.hasOwnProperty("initialize")&&!M6.has(a.initialize)&&(M6.add(a.initialize),i.push(a.initialize)),a.hasOwnProperty("destroy")&&!A6.has(a.destroy)&&(A6.add(a.destroy),n.push(a.destroy)),a=Object.getPrototypeOf(a);M6.clear(),A6.clear();const d=class extends e{constructor(...b){if(super(...b),this.constructor===d&&typeof this.postscript=="function"){if(i.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let S=i.length-1;S>=0;S--)i[S].call(this)}}),n.length){let S=!1;const T=this[nj];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!S){this.__accessor__.lifecycle=ro.DESTROYING,S=!0,T.call(this);for(let C=0;C<n.length;C++)n[C].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}}),this.postscript()}}};d.__accessorMetadata__=Ig(e.prototype),d.prototype.declaredClass=t;const y=(t||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(d,"name",{value:y,configurable:!0}),d}}function vit(t,e){return e.get==null?function(){const i=this.__accessor__,n=i.propertiesByName.get(t);if(n===void 0)return;i.mutable&&xe(n);const a=i.store;return a.has(t)?a.get(t):n.metadata.value}:function(){const i=this.__accessor__,n=i.propertiesByName.get(t);if(n!==void 0)return n.getComputed(i)}}function bit(t){const e=t.prototype,i=Ig(e),n={};for(const a of Object.getOwnPropertyNames(i)){const d=i[a];git(d),n[a]={enumerable:!0,configurable:!0,get:vit(a,d),set(y){const b=this.__accessor__;if(b!==void 0){if(b.mutable)return b.initialized&&d.readOnly?S$("read-only",a):b.lifecycle===ro.CONSTRUCTED&&d.constructOnly?S$("construct-only",a):void b.set(a,y)}else Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:y})}}}Object.defineProperties(t.prototype,n)}const S$=(t,e)=>{ae.getLogger("esri.core.Accessor").error(`cannot assign to ${t} property '${e}'`)};var x$,T$;function wit(t){if(t==null)return{value:t};if(Array.isArray(t))return{type:[t[0]],value:null};switch(typeof t){case"object":return t.constructor?.__accessorMetadata__||t instanceof Date?{type:t.constructor,value:t}:t;case"boolean":return{type:Boolean,value:t};case"string":return{type:String,value:t};case"number":return{type:Number,value:t};case"function":return{type:t,value:null};default:return}}const Bu=Symbol("Accessor-Handles"),R6=Symbol("Accessor-Initialized");var Uc;let ve=(Uc=class{static createSubclass(e={}){if(Array.isArray(e))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:i,declaredClass:n,constructor:a}=e;delete e.declaredClass,delete e.properties,delete e.constructor;const d=this;class y extends d{constructor(...S){super(...S),this.inherited=null,a&&a.apply(this,S)}}Ig(y.prototype);for(const b in e){const S=e[b];y.prototype[b]=typeof S=="function"?function(...T){const C=this.inherited;let k;this.inherited=function(...D){if(d.prototype[b])return d.prototype[b].apply(this,D)};try{k=S.apply(this,T)}catch(D){throw this.inherited=C,D}return this.inherited=C,k}:e[b]}for(const b in i){const S=wit(i[b]);N(S)(y.prototype,b)}return ut(n)(y)}static freeze(e){return e instanceof Uc?e.__accessor__.mutable=!1:Object.freeze(e),e}static isFrozen(e){return e instanceof Uc?!e.__accessor__.mutable:Object.isFrozen(e)}constructor(...e){if(this[x$]=null,this[T$]=!1,this.constructor===Uc)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const i=new Htt(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:i}),e.length>0&&(i.ctorArgs=this.normalizeCtorArgs?.apply(this,e)??e[0])}postscript(){const e=this.__accessor__,i=e.ctorArgs;e.initialize(),i&&(this.set(i),e.ctorArgs=null),e.constructed(),this.initialize(),this[R6]=!0}initialize(){}[nj](){this[Bu]=vr(this[Bu])}destroy(){this.destroyed||($et(this),this.__accessor__.destroy(),Ztt()?.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[R6]}get destroyed(){return this.__accessor__?.lifecycle===ro.DESTROYED||!1}get destroying(){return this.__accessor__?.lifecycle===ro.DESTROYING||!1}commitProperty(e){ga(this,e)}hasOwnProperty(e){return this.__accessor__?this.__accessor__.has(e):Object.prototype.hasOwnProperty.call(this,e)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(e,i){return Pb(this,e,i),this}watch(e,i,n){return zL(ae.getLogger(this),"`watch` is deprecated in favor of reactiveUtils.watch",{replacement:"reactiveUtils.watch",version:"4.32",see:"https://arcg.is/1vaqf42#watch",warnOnce:!0}),Let(this,e,i,n)}addHandles(e,i){if(this.destroyed){const n=Array.isArray(e)?e:[e];for(const a of n)a.remove();return}(this[Bu]??=new Lp).add(e,i)}removeHandles(e){this[Bu]?.remove(e)}removeAllHandles(){this[Bu]?.removeAll()}removeHandlesReference(e){this[Bu]?.removeReference(e)}hasHandles(e){return this[Bu]?.has(e)===!0}_override(e,i){i===void 0?this.__accessor__.clearOverride(e):this.__accessor__.override(e,i)}_clearOverride(e){return this.__accessor__.clearOverride(e)}_overrideIfSome(e,i){i==null?this.__accessor__.clearOverride(e):this.__accessor__.override(e,i)}_isOverridden(e){return this.__accessor__.isOverridden(e)}notifyChange(e){this.__accessor__.notifyChange(e)}_get(e){return this.__accessor__.internalGet(e)}_set(e,i){return this.__accessor__.internalSet(e,i),this}},x$=Bu,T$=R6,Uc);const _it=Object.prototype.toString;function Sit(t){const e="__accessorMetadata__"in t?an(t):t;return function(...i){if(i.push(e),typeof i[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return xit.apply(this,i)}}function xit(t,e,i,n){Dg(t,e).cast=n}function Tit(t){return(e,i)=>{Dg(e,t).cast=e[i]}}function on(...t){if(t.length!==3||typeof t[1]!="string")return t.length===1&&_it.call(t[0])==="[object Function]"?Sit(t[0]):t.length===1&&typeof t[0]=="string"?Tit(t[0]):void 0}function Ne(t,e,i){let n,a;return e===void 0||Array.isArray(e)?(a=t,i=e,n=[void 0]):(a=e,n=Array.isArray(t)?t:[t]),(d,y)=>{const b=d.constructor.prototype;n.forEach((S=>{const T=xT(d,S,a);T.read&&typeof T.read=="object"||(T.read={}),T.read.reader=b[y],i&&(T.read.source=(T.read.source||[]).concat(i))}))}}function Pe(t,e,i){let n,a;return e===void 0?(a=t,n=[void 0]):typeof e!="string"?(a=t,n=[void 0],i=e):(a=e,n=Array.isArray(t)?t:[t]),(d,y)=>{const b=d.constructor.prototype;for(const S of n){const T=xT(d,S,a);T.write&&typeof T.write=="object"||(T.write={}),i&&(T.write.target=i),T.write.writer=b[y]}}}let Eit=class qj{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(e){const i=new qj;return this._values.forEach(((n,a)=>{e&&e.has(a)||i.set(a,Ht(n.value),n.origin)})),i}get(e,i){i=this._normalizeOrigin(i);const n=this._values.get(e);return i==null||n?.origin===i?n?.value:void 0}originOf(e){return this._values.get(e)?.origin??fi.USER}keys(e){e=this._normalizeOrigin(e);const i=[...this._values.keys()];return e==null?i:i.filter((n=>this._values.get(n)?.origin===e))}set(e,i,n){if((n=this._normalizeOrigin(n))===fi.DEFAULTS){const a=this._values.get(e);if(a?.origin!=null&&a.origin>n)return}this._values.set(e,new Mit(i,n))}delete(e,i){(i=this._normalizeOrigin(i))!=null&&this._values.get(e)?.origin!==i||this._values.delete(e)}has(e,i){return(i=this._normalizeOrigin(i))!=null?this._values.get(e)?.origin===i:this._values.has(e)}isAtOrigin(e,i){return i=this._normalizeOrigin(i),this.has(e,i)&&this.originOf(e)===i}isBelowOrigin(e,i){return i=this._normalizeOrigin(i),!this.has(e)||this.originOf(e)<i}forEach(e){this._values.forEach((({value:i},n)=>e(i,n)))}_normalizeOrigin(e){if(e!=null)return e===fi.DEFAULTS?e:fi.USER}},Mit=class{constructor(e,i){this.value=e,this.origin=i}};function Ait(t,e,i){e.keys().forEach((a=>{i.set(a,e.get(a),fi.DEFAULTS)}));const n=t.metadata;Object.keys(n).forEach((a=>{t.internalGet(a)&&i.set(a,t.internalGet(a),fi.DEFAULTS)}))}function Rit(t,e,i){if(!t?.read||t.read.enabled===!1||!t.read.source)return!1;const n=t.read.source;if(typeof n=="string"){if(n===e||n.includes(".")&&n.indexOf(e)===0&&i$(n,i))return!0}else for(const a of n)if(a===e||a.includes(".")&&a.indexOf(e)===0&&i$(a,i))return!0;return!1}function Cit(t){return t&&(!t.read||t.read.enabled!==!1&&!t.read.source)}function Oit(t,e,i,n,a){let d=xS(e[i],a);Cit(d)&&(t[i]=!0);for(const y of Object.getOwnPropertyNames(e))d=xS(e[y],a),Rit(d,i,n)&&(t[y]=!0)}function $it(t,e,i,n){const a=i.metadata,d=dit(a[e],n),y=d?.default;if(y===void 0)return;const b=typeof y=="function"?y.call(t,e,n):y;b!==void 0&&i.set(e,b)}const Hj={origin:"service"};function Nit(t,e,i=Hj){if(!e||typeof e!="object")return;const n=Gc(t),a=n.metadata,d={};for(const y of Object.getOwnPropertyNames(e))Oit(d,a,y,e,i);n.setDefaultOrigin(i.origin);for(const y of Object.getOwnPropertyNames(d)){const b=xS(a[y],i).read,S=b?.source;let T;T=S&&typeof S=="string"?Pg(e,S):e[y],b?.reader&&(T=b.reader.call(t,T,e,i)),T!==void 0&&n.set(y,T)}if(!i||!i.ignoreDefaults){n.setDefaultOrigin("defaults");for(const y of Object.getOwnPropertyNames(a))d[y]||$it(t,y,n,i)}n.setDefaultOrigin("user")}function bEt(t,e,i,n=Hj){const a={...n,messages:[]};i(a),a.messages?.forEach((d=>{d.type!=="warning"||t.loaded?n?.messages&&n.messages.push(d):t.loadWarnings.push(d)}))}function kit(t,e,i,n,a){const d={};return e.write?.writer?.call(t,n,d,i,a),d}function Vj(t,e,i,n,a,d){if(!n?.write)return!1;const y=ga(t,i);if(!a&&n.write.overridePolicy){const b=n.write.overridePolicy.call(t,y,i,d??void 0);b!==void 0&&(a=b)}if(a||(a=n.write),!a||a.enabled===!1||a.layerContainerTypes&&d?.layerContainerType&&!a.layerContainerTypes.includes(d.layerContainerType))return!1;if((y===null&&!a.allowNull&&!a.writerEnsuresNonNull||y===void 0)&&a.isRequired){const b=new Lt("web-document-write:property-required",`Missing value for required property '${i}' on '${t.declaredClass}'`,{propertyName:i,target:t});return b&&d?.messages?d.messages.push(b):b&&!d&&ae.getLogger("esri.core.accessorSupport.write").error(b.name,b.message),!1}return!(y===void 0||y===null&&!a.allowNull&&!a.writerEnsuresNonNull||!a.alwaysWriteDefaults&&(!e.store.multipleOriginsSupported||e.store.originOf(i)===fi.DEFAULTS)&&Pit(t,i,d,n,y)||!a.ignoreOrigin&&d?.origin&&e.store.multipleOriginsSupported&&e.store.originOf(i)<pT(d.origin))}function Pit(t,e,i,n,a){const d=n.default;if(d===void 0)return!1;if(n.defaultEquals!=null)return n.defaultEquals(a);if(typeof d=="function"){if(Array.isArray(a)){const y=d.call(t,e,i??void 0);return e5(y,a)}return!1}return d===a}function wEt(t,e,i,n){const a=Gc(t),d=a.metadata,y=Bj(d[e],n);return!!y&&Vj(t,a,e,y,i,n)}function Iit(t,e,i){if(t&&typeof t.toJSON=="function"&&(!t.toJSON.isDefaultToJSON||!t.write))return x3(e,t.toJSON(i));const n=Gc(t),a=n.metadata;for(const d in a){const y=Bj(a[d],i);if(!Vj(t,n,d,y,void 0,i))continue;const b=ga(t,d),S=kit(t,y,y.write&&typeof y.write.target=="string"?y.write.target:d,b,i);Object.keys(S).length>0&&(e=x3(e,S),i?.resources?.pendingOperations?.length&&i.resources.pendingOperations.push(Promise.all(i.resources.pendingOperations).then((()=>x3(e,S,(()=>"replace-arrays"))))),i?.writtenProperties&&i.writtenProperties.push({target:t,propName:d,oldOrigin:Ftt(n.store.originOf(d)),newOrigin:i.origin}))}return e}const Wj=t=>{let e=class extends t{constructor(...i){super(...i);const n=Gc(this),a=n.store,d=new Eit;n.store=d,Ait(n,a,d)}read(i,n){Nit(this,i,n)}write(i,n){return Iit(this,i??{},n)}toJSON(i){return this.write({},i)}static fromJSON(i,n){return Dit.call(this,i,n)}};return e=E([ut("esri.core.JSONSupport")],e),e.prototype.toJSON.isDefaultToJSON=!0,e};function Dit(t,e){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const i=new this;return i.read(t,e),i}let ky=class extends Wj(ve){};ky=E([ut("esri.core.JSONSupport")],ky),(function(t){t.JSONSupportMixin=Wj})(ky||(ky={}));const Zt=ky;let wr=class{constructor(e,i={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=e,this._options=i,this.apiValues=[],this.jsonValues=[],this._apiToJSON=Lit(e),this.apiValues=E$(this._apiToJSON),this.jsonValues=E$(this._jsonToAPI),this.read=n=>this.fromJSON(n),this.write=(n,a,d)=>{const y=this.toJSON(n);y!==void 0&&Hf(d,y,a)},this.write.isJSONMapWriter=!0}toJSON(e){if(e==null)return null;if(this._apiToJSON.hasOwnProperty(e)){const i=this._apiToJSON[e];return this._options.useNumericKeys?+i:i}return this._options.ignoreUnknown?null:e}fromJSON(e){return e!=null&&this._jsonToAPI.hasOwnProperty(e)?this._jsonToAPI[e]:this._options.ignoreUnknown?void 0:e}};function Lit(t){const e={};for(const i in t)e[t[i]]=i;return e}function E$(t){const e=[];for(const i in t)e.push(i);return e.sort(),e}function He(){return function(t,e){return new wr(t,{ignoreUnknown:!0,...e})}}let RT=class{constructor(e,i,n,a,d,y){this.semiMajorAxis=e,this.flattening=i,this.outerAtmosphereRimWidth=n,this.atmosphereHeight=a,this.scaleHeight=d;const b=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*b,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=y||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}};const _r=new RT(6378137,1/298.257223563,3e5,1e5,.085,.006694379990137799),il=new RT(3396190,1/169.8944472236118,23e4,6e4,.111),Hc=new RT(1737400,0,0,0,0),jit="modulepreload",zit=function(t){return"/routing-app/"+t},M$={},te=function(e,i,n){let a=Promise.resolve();if(i&&i.length>0){let S=function(T){return Promise.all(T.map(C=>Promise.resolve(C).then(k=>({status:"fulfilled",value:k}),k=>({status:"rejected",reason:k}))))};document.getElementsByTagName("link");const y=document.querySelector("meta[property=csp-nonce]"),b=y?.nonce||y?.getAttribute("nonce");a=S(i.map(T=>{if(T=zit(T),T in M$)return;M$[T]=!0;const C=T.endsWith(".css"),k=C?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${T}"]${k}`))return;const D=document.createElement("link");if(D.rel=C?"stylesheet":jit,C||(D.as="script"),D.crossOrigin="",D.href=T,b&&D.setAttribute("nonce",b),document.head.appendChild(D),C)return new Promise((z,G)=>{D.addEventListener("load",z),D.addEventListener("error",()=>G(new Error(`Unable to preload CSS for ${T}`)))})}))}function d(y){const b=new Event("vite:preloadError",{cancelable:!0});if(b.payload=y,window.dispatchEvent(b),!b.defaultPrevented)throw y}return a.then(y=>{for(const b of y||[])b.status==="rejected"&&d(b.reason);return e().catch(d)})};function qb(t){return t&&typeof t=="object"&&"toJSON"in t&&typeof t.toJSON=="function"}const Uit=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,Fit={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function A$(t){const e=t?.match(Uit);if(!e)return null;const[,i,n,a]=e;if(!i)return null;let d=null,y=null,b=null;const{devext:S,qaext:T,www:C}=Fit;if(n)if(d=i,a)switch(a.toLowerCase()){case"devext":({customBaseUrl:y,portalHostname:b}=S);break;case"qa":({customBaseUrl:y,portalHostname:b}=T);break;default:return null}else({customBaseUrl:y,portalHostname:b}=C);else switch(i.toLowerCase()){case"devext":({customBaseUrl:y,portalHostname:b}=S);break;case"qaext":({customBaseUrl:y,portalHostname:b}=T);break;case"www":({customBaseUrl:y,portalHostname:b}=C);break;default:return null}return{customBaseUrl:y,isPortal:!1,portalHostname:b,urlKey:d}}function Jj(t){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(t)}function Yj(t){const e=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,i=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,n=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;return e.test(t)?t=t.replace(e,"https://www.arcgis.com"):i.test(t)?t=t.replace(i,"https://devext.arcgis.com"):n.test(t)&&(t=t.replace(n,"https://qaext.arcgis.com")),t}function Kj(t){const e=atob(t),i=new Uint8Array(e.length);for(let n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return i.buffer}function Bit(t){const e=new Uint8Array(t);let i="";for(let n=0;n<e.length;n++)i+=String.fromCharCode(e[n]);return btoa(i)}const Git=()=>ae.getLogger("esri.core.urlUtils"),Bp=ci.request,R$="esri/config: esriConfig.request.proxyUrl is not set.",Xj=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,Zj=/^\s*http:/i,qit=/^\s*https:/i,Hit=/^\s*file:/i,Qj=/:\d+$/,Vit=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,Wit=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),Jit=new RegExp("^((([^[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^[:]*))(:([0-9]+))?$");let M0=class{constructor(e=""){this.uri=e,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let i=this.uri.match(Wit);this.scheme=i[2]||(i[1]?"":null),this.authority=i[4]||(i[3]?"":null),this.path=i[5],this.query=i[7]||(i[6]?"":null),this.fragment=i[9]||(i[8]?"":null),this.authority!=null&&(i=this.authority.match(Jit),this.user=i[3]||null,this.password=i[4]||null,this.host=i[6]||i[7],this.port=i[9]||null)}toString(){return this.uri}};const O2={},Yit=new M0(ci.applicationUrl);let Jn=Yit;const Kit=Xit();let CT=Kit;const OT=()=>Jn,EEt=()=>CT;function Xit(){const t=Jn.path,e=t.slice(0,t.lastIndexOf("/")+1);return`${`${Jn.scheme}://${Jn.host}${Jn.port!=null?`:${Jn.port}`:""}`}${e}`}function hs(t){if(!t)return null;const e={path:null,query:null},i=new M0(t),n=t.indexOf("?");return i.query===null?e.path=t:(e.path=t.slice(0,n),e.query=$T(i.query)),i.fragment&&(e.hash=i.fragment,i.query===null&&(e.path=e.path.slice(0,e.path.length-(i.fragment.length+1)))),e}function $T(t){const e=t.split("&"),i={};for(const n of e){if(!n)continue;const a=n.indexOf("=");let d,y;a<0?(d=decodeURIComponent(n),y=""):(d=decodeURIComponent(n.slice(0,a)),y=decodeURIComponent(n.slice(a+1)));let b=i[d];typeof b=="string"&&(b=i[d]=[b]),Array.isArray(b)?b.push(y):i[d]=y}return i}function ig(t,e){return t?Object.keys(t).map((i=>{const n=t[i];if(n==null)return"";const a=encodeURIComponent(i)+"=",d=e?.[i];return d?a+encodeURIComponent(d(n)):Array.isArray(n)?n.map((y=>qb(y)?a+encodeURIComponent(JSON.stringify(y)):a+encodeURIComponent(y))).join("&"):qb(n)?a+encodeURIComponent(JSON.stringify(n)):a+encodeURIComponent(n)})).filter((i=>i)).join("&"):""}function tz(t=!1){let e,i=Bp.proxyUrl;if(typeof t=="string"){e=nrt(t);const n=l5(t);n&&(i=n.proxyUrl)}else e=!!t;if(!i)throw Git().warn(R$),new Lt("urlUtils:proxy-not-set",R$);return e&&MS()&&(i=DT(i)),hs(i)}function MEt(t,e=!1){const i=l5(t);let n,a;if(i){const d=NT(i.proxyUrl);n=d.path,a=d.query?$T(d.query):null}else if(e){const d=tz(t);n=d.path,a=d.query}if(n){const d=hs(t);t=n+"?"+d.path;const y=ig({...a,...d.query});y&&(t=`${t}?${y}`)}return t}const ny={path:"",query:""};function NT(t){const e=t.indexOf("?");return e!==-1?(ny.path=t.slice(0,e),ny.query=t.slice(e+1)):(ny.path=t,ny.query=null),ny}function ez(t){return t=(t=Vb(t=urt(t=NT(t).path),!0)).toLowerCase()}function Zit(t){const e={proxyUrl:t.proxyUrl,urlPrefix:ez(t.urlPrefix)},i=Bp.proxyRules,n=e.urlPrefix;let a=i.length;for(let d=0;d<i.length;d++){const y=i[d].urlPrefix;if(n.indexOf(y)===0){if(n.length===y.length)return-1;a=d;break}y.indexOf(n)===0&&(a=d+1)}return i.splice(a,0,e),a}function l5(t){const e=Bp.proxyRules,i=ez(t);for(let n=0;n<e.length;n++)if(i.indexOf(e[n].urlPrefix)===0)return e[n]}function AEt(t,e){if(!t||!e)return!1;t=Hb(t),e=Hb(e);const i=A$(t),n=A$(e);return i!=null&&n!=null?i.portalHostname===n.portalHostname:i==null&&n==null&&Nf(t,e,!0)}function Qit(t,e){return t=Hb(t),e=Hb(e),Vb(t)===Vb(e)}function Hb(t){const e=(t=Dc(t)).indexOf("/sharing");return e>0?t.slice(0,e):t.replace(/\/+$/,"")}function ES(t,e=Bp.interceptors){const i=n=>n instanceof RegExp?n.test(t):typeof n=="string"?t.startsWith(n):n==null;if(e){for(const n of e)if(Array.isArray(n.urls)){if(n.urls.some(i))return n}else if(i(n.urls))return n}return null}function Nf(t,e,i=!1){if(!t||!e)return!1;const n=RS(t),a=RS(e);return!(!i&&n.scheme!==a.scheme)&&n.host!=null&&a.host!=null&&n.host.toLowerCase()===a.host.toLowerCase()&&n.port===a.port}function kT(t){if(typeof t=="string"){if(!Ps(t))return!0;t=RS(t)}if(Nf(t,Jn))return!0;const e=Bp.trustedServers||[];for(let i=0;i<e.length;i++){const n=trt(e[i]);for(let a=0;a<n.length;a++)if(Nf(t,n[a]))return!0}return!1}function trt(t){return O2[t]||(IT(t)||ol(t)?O2[t]=[new M0(Do(t))]:O2[t]=[new M0(`http://${t}`),new M0(`https://${t}`)]),O2[t]}function Do(t,e=CT,i){return ol(t)?i?.preserveProtocolRelative?t:Jn.scheme==="http"&&Jn.authority===uo(t).slice(2)?`http:${t}`:`https:${t}`:IT(t)?t:Ug(t[0]==="/"?lrt(e):e,t)}function PT(t,e=CT,i){if(t==null||!Ps(t))return t;const n=Dc(t),a=n.toLowerCase(),d=Dc(e).toLowerCase().replace(/\/+$/,""),y=i?Dc(i).toLowerCase().replace(/\/+$/,""):null;if(y&&d.indexOf(y)!==0)return t;const b=(k,D,z)=>(z=k.indexOf(D,z))===-1?k.length:z;let S=b(a,"/",a.indexOf("//")+2),T=-1;for(;a.slice(0,S+1)===d.slice(0,S)+"/"&&(T=S+1,S!==a.length);)S=b(a,"/",S+1);if(T===-1||y&&T<y.length)return t;t=n.slice(T);const C=d.slice(T-1).replaceAll(/[^/]+/g,"").length;if(C>0)for(let k=0;k<C;k++)t=`../${t}`;else t=`./${t}`;return t}function Dc(t){return t=frt(t=hrt(t=crt(t=Do(t=t.trim()))))}function Ug(...t){const e=t.filter(Bc);if(!e?.length)return;const i=[];if(Ps(e[0])){const a=e[0],d=a.indexOf("//");d!==-1&&(i.push(a.slice(0,d+1)),ort(e[0])&&(i[0]+="/"),e[0]=a.slice(d+2))}else e[0][0]==="/"&&i.push("");const n=e.reduce(((a,d)=>d?a.concat(d.split("/")):a),[]);for(let a=0;a<n.length;a++){const d=n[a];d===".."&&i.length>0&&i[i.length-1]!==".."?i.pop():(!d&&a===n.length-1||d&&(d!=="."||i.length===0))&&i.push(d)}return i.join("/")}function uo(t,e=!1){if(t==null||Fg(t)||Wf(t))return null;let i=t.indexOf("://");if(i===-1&&ol(t))i=2;else{if(i===-1)return null;i+=3}const n=t.indexOf("/",i);return n!==-1&&(t=t.slice(0,n)),e&&(t=Vb(t,!0)),t}function Ps(t){return ol(t)||IT(t)}function Fg(t){return t!=null&&t.slice(0,5)==="blob:"}function Wf(t){return t!=null&&t.slice(0,5)==="data:"}function ert(t){const e=pp(t);return e?.isBase64?Kj(e.data):null}function REt(t){return Bit(t).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}const irt=/^data:(.*?)(;base64)?,(.*)$/;function pp(t){const e=t.match(irt);if(!e)return null;const[,i,n,a]=e;return{mediaType:i,isBase64:!!n,data:a}}function iz(t){return t.isBase64?`data:${t.mediaType};base64,${t.data}`:`data:${t.mediaType},${t.data}`}async function rrt(t){return(await fetch(t)).blob()}function CEt(t){const e=ert(t);if(!e)return null;const i=pp(t);return new Blob([e],{type:i.mediaType})}function ol(t){return t!=null&&t[0]==="/"&&t[1]==="/"}function IT(t){return t!=null&&Xj.test(t)}function nrt(t){return t!=null&&qit.test(t)||Jn.scheme==="https"&&ol(t)}function srt(t){return t!=null&&Zj.test(t)||Jn.scheme==="http"&&ol(t)}function ort(t){return t!=null&&Hit.test(t)}function DT(t){return ol(t)?`https:${t}`:t.replace(Zj,"https:")}function art(){return Jn.scheme==="http"}function MS(){return Jn.scheme==="https"}function Vb(t,e=!1){return ol(t)?t.slice(2):(t=t.replace(Xj,""),e&&t.length>1&&t[0]==="/"&&t[1]==="/"&&(t=t.slice(2)),t)}function lrt(t){const e=t.indexOf("//"),i=t.indexOf("/",e+2);return i===-1?t:t.slice(0,i)}function OEt(t){let e=0;if(Ps(t)){const n=t.indexOf("//");n!==-1&&(e=n+2)}const i=t.lastIndexOf("/");return i<e?t:t.slice(0,i+1)}function $Et(t,e){if(!t)return"";const i=hs(t).path.replace(/\/+$/,""),n=i.slice(i.lastIndexOf("/")+1);if(!e?.length)return n;const a=new RegExp(`\\.(${e.join("|")})$`,"i");return n.replace(a,"")}function urt(t){return t.endsWith("/")?t:`${t}/`}function rg(t){return t.replace(/\/+$/,"")}function crt(t){if(/^https?:\/\//i.test(t)){const e=NT(t);t=(t=e.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),e.query&&(t+=`?${e.query}`)}return t}function hrt(t){return t.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function frt(t){const e=Bp.httpsDomains;if(!srt(t))return t;const i=t.indexOf("/",7);let n;if(n=i===-1?t:t.slice(0,i),n=n.toLowerCase().slice(7),Qj.test(n)){if(!n.endsWith(":80"))return t;n=n.slice(0,-3),t=t.replace(":80","")}return art()&&n===Jn.authority&&!Vit.test(t)||(MS()&&n===Jn.authority||e&&e.some((a=>n===a||n.endsWith(`.${a}`)))||MS()&&!l5(t))&&(t=DT(t)),t}function AS(t,e,i){if(!(e&&i&&t&&Ps(t)))return t;const n=t.indexOf("//"),a=t.indexOf("/",n+2),d=t.indexOf(":",n+2),y=Math.min(a<0?t.length:a,d<0?t.length:d);return t.slice(n+2,y).toLowerCase()!==e.toLowerCase()?t:`${t.slice(0,n+2)}${i}${t.slice(y)}`}function drt(t,e){const i=new URL(t);return i.host=e,i.port&&!Qj.test(e)&&(i.port=""),i.toString()}function NEt(t){return new URL(t).host}function RS(t){return typeof t=="string"?new M0(Do(t)):(t.scheme||(t.scheme=Jn.scheme),t)}function kEt(t){return yrt.test(t)}function rz(t,e){const i=hs(t),n=Object.keys(i.query||{});return n.length>0&&e&&e.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${n.join(", ")}.`),i.path}function prt(t,e,i){const n=hs(t),a=n.query||{};return a[e]=String(i),`${n.path}?${ig(a)}`}function C6(t,e){if(!e)return t;const i=hs(t),n=i.query||{};for(const[d,y]of Object.entries(e))y!=null&&(n[d]=y);const a=ig(n);return a?`${i.path}?${a}`:i.path}function nz(t){if(t==null)return null;const e=t.match(sz);return e?e[2]:null}function C$(t){if(t==null)return null;const e=t.match(sz);return e?{path:e[1],extension:e[2]}:{path:t,extension:null}}async function PEt(t){return typeof t=="string"?pp(t)??{data:t}:new Promise(((e,i)=>{const n=new FileReader;n.readAsDataURL(t),n.onload=()=>e(pp(n.result)),n.onerror=a=>i(a)}))}const sz=/([^.]*)\.([^/]*)$/,yrt=/(^data:image\/svg|\.svg$)/i,oz="20250903",az="39b1ef512004eb2837696c72250a1294d18a21b1";Symbol.dispose??=Symbol("Symbol.dispose"),Symbol.asyncDispose??=Symbol("Symbol.asyncDispose");const mrt="4.33";let qi,LT=mrt;LT="4.33.13";function IEt(t){qi=t}function DEt(t){const e=qi?.findCredential(t);return e?.token?prt(t,"token",e.token):t}St("host-webworker")||globalThis.$arcgis||Object.defineProperty(globalThis,"$arcgis",{configurable:!1,enumerable:!0,writable:!1,value:{}}),St("host-webworker");function Gp(t,e){const i=e?.url?.path;if(t&&i&&(t=Do(t,i,{preserveProtocolRelative:!0}),e.portalItem&&e.readResourcePaths)){const n=PT(t,e.portalItem.itemUrl);n!=null&&grt.test(n)&&e.readResourcePaths.push(e.portalItem.resourceFromPath(n).path)}return(t=CS(t,e?.portal))&&c5.test(t)?jT(t):t}function yp(t,e,i=gp.YES){if((t=t&&c5.test(t)?hz(t):t)==null)return t;!Ps(t)&&e?.blockedRelativeUrls&&e.blockedRelativeUrls.push(t);let n=Do(t);if(e){const a=e.verifyItemRelativeUrls?.rootPath||e.url?.path;if(a){const d=CS(a,e.portal),y=CS(n,e.portal);n=PT(y,d,d),n!=null&&n!==y&&n!==t&&e.verifyItemRelativeUrls&&e.verifyItemRelativeUrls.writtenUrls.push(n)}}return n=cz(n,e?.portal),Ps(n)&&(n=Dc(n)),e?.resources&&e?.portalItem&&!Ps(n)&&!Wf(n)&&i===gp.YES&&e.resources.toKeep.push({resource:e.portalItem.resourceFromPath(n),compress:!1}),n}function u5(t,e,i){return Gp(t,i)}function mp(t,e,i,n){const a=yp(t,n);a!==void 0&&(e[i]=a)}const c5=/\/items\/([^/]+)\/resources\/(.*)/,grt=/^\.\/resources\//;function lz(t){return(t?.match(c5)??null)?.[1]??null}function uz(t){const e=t?.match(c5)??null;if(e==null)return null;const i=e[2],n=i.lastIndexOf("/");if(n===-1){const{path:y,extension:b}=C$(i);return{prefix:null,filename:y,extension:b}}const{path:a,extension:d}=C$(i.slice(n+1));return{prefix:i.slice(0,n),filename:a,extension:d}}function cz(t,e){return e&&!e.isPortal&&e.urlKey&&e.customBaseUrl?AS(t,`${e.urlKey}.${e.customBaseUrl}`,e.portalHostname):t}function CS(t,e){if(!e||e.isPortal||!e.urlKey||!e.customBaseUrl)return t;const i=`${e.urlKey}.${e.customBaseUrl}`,n=OT();return Nf(n,`${n.scheme}://${i}`)?AS(t,e.portalHostname,i):AS(t,i,e.portalHostname)}function jT(t){if(!t)return t||null;let e=t;return e&&qi&&!qi.findCredential(e)&&(e=Yj(e),e=e.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),e=e.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),e=e.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),e}function hz(t){if(!t)return t||null;let e=t;return e=e.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com"),e=e.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com"),e=e.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"),e&&qi&&!qi.findCredential(e)&&(e=Yj(e)),e}var gp;(function(t){t[t.YES=0]="YES",t[t.NO=1]="NO"})(gp||(gp={}));const vrt=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return gp},ensureMainOnlineDomain:cz,fromCDNUrl:hz,fromJSON:Gp,itemIdFromResourceUrl:lz,prefixAndFilenameFromResourceUrl:uz,read:u5,toCDNUrl:jT,toJSON:yp,write:mp},Symbol.toStringTag,{value:"Module"})),fz={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",knowledgegraphserver:"KnowledgeGraphServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer",videoserver:"VideoServer"},dz=Object.values(fz),pz=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${dz.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),brt=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^/\\n]+)\\/(${dz.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),wrt=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function LEt(t){return pz.test(t)}function Bg(t){if(t==null)return null;const e=hs(t),i=e?.path.match(pz)||e?.path.match(brt);if(!i)return null;const[,n,a,d,y]=i,b=a.indexOf("/");return{title:yz(b!==-1?a.slice(b+1):a),serverType:fz[d.toLowerCase()],sublayer:y!=null&&y!==""?parseInt(y,10):null,url:{path:n}}}function _rt(t){const e=hs(t).path.match(wrt);return e?{serviceUrl:e[1],sublayerId:Number(e[2])}:null}function yz(t){return(t=t.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+t.slice(1)}function jEt(t,e){const i=[];if(t){const n=Bg(t);n!=null&&n.title&&i.push(n.title)}if(e){const n=yz(e);i.push(n)}if(i.length===2){if(i[0].toLowerCase().includes(i[1].toLowerCase()))return i[0];if(i[1].toLowerCase().includes(i[0].toLowerCase()))return i[1]}return i.join(" - ")}function O$(t){let e=uo(t,!0);return!!e&&(e=e.toLowerCase(),e.endsWith(".arcgis.com")&&(e.startsWith("services")||e.startsWith("tiles")||e.startsWith("features")||/^[a-z\d-]+\.svcs[a-z\d-]*\./.test(e)))}function zEt(t,e){return t&&rg(rz(t,e))}function UEt(t){let{url:e}=t;if(!e)return{url:e};e=rz(e,t.logger);const i=hs(e),n=Bg(i.path);let a;if(n!=null)n.sublayer!=null&&t.layer.layerId==null&&(a=n.sublayer),e=n.url.path;else if(t.nonStandardUrlAllowed){const d=_rt(i.path);d!=null&&(e=d.serviceUrl,a=d.sublayerId)}return{url:rg(e),layerId:a}}function FEt(t,e,i,n,a){mp(e,n,"url",a),n.url&&t.layerId!=null&&(n.url=Ug(n.url,i,t.layerId.toString()))}function BEt(t){if(!t)return!1;const e=t.toLowerCase(),i=e.includes("/services/"),n=e.includes("/mapserver/wmsserver"),a=e.includes("/imageserver/wmsserver"),d=e.includes("/wmsserver");return i&&(n||a||d)}const Srt=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function zT(t){if(!UT(t))return null;const e=n=>n instanceof RegExp?n.test(t):typeof n=="string"&&t.startsWith(n),i=ci.apiKeys;if(Array.isArray(i.scopes)){for(const n of i.scopes)if(Array.isArray(n.urls)){if(n.urls.some(e))return n.token}else if(e(n.urls))return n.token}return i.basemapStyles&&/^https?:\/\/(i?basemaps|basemapstyles)-api\.arcgis\.com\//i.test(t)?i.basemapStyles:ci.apiKey&&/^https?:\/\/.+\.arcgis\.com(\/|$)/i.test(t)?ci.apiKey:null}function OS(){return ci.apiKey!=null||ci.apiKeys.basemapStyles!=null}function xrt(t,e){return e?UT(t):zT(t)!=null}function UT(t){const e=uo(t,!0);return!!e&&!Srt.has(e)&&!t.endsWith("/sharing/rest/generateToken")}function Trt(t,e,i=!1,n){return new Promise(((a,d)=>{if(Go(n))return void d($$());let y=()=>{T(),d(new Error(`Unable to load ${e}`))},b=()=>{const C=t;T(),a(C)},S=()=>{if(!t)return;const C=t;T(),C.src="",d($$())};const T=()=>{St("esri-image-decode")||(t.removeEventListener("error",y),t.removeEventListener("load",b)),y=null,b=null,t=null,n?.removeEventListener("abort",S),S=null,i&&URL.revokeObjectURL(e)};n?.addEventListener("abort",S),St("esri-image-decode")?t.decode().then(b,y):(t.addEventListener("error",y),t.addEventListener("load",b))}))}function $$(){try{return new DOMException("Aborted","AbortError")}catch{const t=new Error;return t.name="AbortError",t}}const mz="Timeout exceeded";function Ert(){return new Error(mz)}function GEt(t){return typeof t=="object"&&!!t&&"message"in t&&t.message===mz}function Mrt(t){ci.request.crossOriginNoCorsDomains||(ci.request.crossOriginNoCorsDomains={});const e=ci.request.crossOriginNoCorsDomains;for(let i of t)i=i.toLowerCase(),/^https?:\/\//.test(i)?e[uo(i)??""]=0:(e[uo("http://"+i)??""]=0,e[uo("https://"+i)??""]=0)}function Art(t){const e=ci.request.crossOriginNoCorsDomains;if(e){let i=uo(t);if(i)return i=i.toLowerCase(),!Nf(i,OT())&&e[i]<Date.now()-36e5}return!1}async function Rrt(t){const e=hs(t);t=e.path,e.query?.f==="json"&&(t+="?f=json");try{await fetch(t,{mode:"no-cors",credentials:"include"})}catch{}const i=ci.request.crossOriginNoCorsDomains,n=uo(t);i&&n&&(i[n.toLowerCase()]=Date.now())}const $S=new Map;function Crt(t,e){const i=e?.preferredHost;if(!i||Nf(t,`https://${i}`,!0))return;const n=Bg(t);if(!n||n.serverType!=="FeatureServer"||Jj(t))return;const a=n.url.path.toLowerCase();$S.has(a)||$S.set(a,i)}function N$(t){const e=Bg(t)?.url.path.toLowerCase();if(!e)return t;const i=$S.get(e);return i?drt(t,i):t}async function Di(t,e){t instanceof URL&&(t=t.toString()),e?.query instanceof URLSearchParams&&(e.query=$T(e.query.toString().replaceAll("+"," ")));const i=Wf(t),n=Fg(t);n||i||(t=Dc(t));const a={url:t,requestOptions:{...e}},d=z=>({data:z,getAllHeaders:vp,getHeader:vp,httpStatus:200,requestOptions:a.requestOptions,url:a.url}),y=ES(t,No.internalInterceptors);if(y){const z=await P$(y,a);if(z!=null)return d(z)}let b=ES(t);if(b){const z=await P$(b,a);if(z!=null)return d(z);b.after||b.error||(b=null)}if(t=a.url,(e=a.requestOptions).responseType==="image"&&(St("host-webworker")||St("host-node")))throw ba("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),a);if(e.method==="head"){if(e.body)throw ba("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),a);if(i||n)throw ba("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),a)}if(await Prt(),Wb)return Wb.execute(t,e);const S=new AbortController,T=_a(e,(()=>S.abort())),C={controller:S,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:b,params:a,redoRequest:!1,useIdentity:No.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},k=e.useRequestQueue?zrt(C):kS(C),D=await k.finally((()=>T?.remove()));return b?.after?.(D),D}let Wb,gz=!1;const No=ci.request,vz="FormData"in globalThis,Ort=new Set([499,498,403,401]),$rt=new Set(["COM_0056","COM_0057","SB_0008"]),Nrt=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],vp=()=>null,Jb=Symbol();function krt(t){const e=uo(t);e&&!Di._corsServers.includes(e)&&Di._corsServers.push(e)}function k$(t){const e=uo(t);return!e||e.endsWith(".arcgis.com")||Di._corsServers.includes(e)||kT(e)}function ba(t,e,i,n){let a;const d={url:i.url,requestOptions:i.requestOptions,getAllHeaders:vp,getHeader:vp,ssl:!1};if(e instanceof Lt)return e.details?(e.details=Ht(e.details),e.details.url=i.url,e.details.requestOptions=i.requestOptions):e.details=d,e;if(e){const y=n&&(()=>Array.from(n.headers)),b=n&&(C=>n.headers.get(C)),S=n?.status,T=e.message;T&&(a=T),y&&b&&(d.getAllHeaders=y,d.getHeader=b),d.httpStatus=(e.httpCode!=null?e.httpCode:e.code)||S||0,d.subCode=e.subcode,d.messageCode=e.messageCode,typeof e.details=="string"?(d.messages=[e.details],a??=e.details):(d.messages=e.details,a??=d.messages?.[0]),d.raw=Jb in e?e[Jb]:e}return a??="Error",cs(e)?Zi():new Lt(t,a,d)}async function Prt(){St("host-webworker")&&(!Wb&&globalThis.invokeStaticMessage?Wb=await te(()=>import("./request-CDw6T2me.js"),[]):gz=!0)}async function NS(){qi||await te(()=>import("./IdentityManager-B2bsi19X.js"),__vite__mapDeps([0,1]))}async function Irt(t){const e=t.params.url,i=t.params.requestOptions,n=t.controller.signal,a=i.body;let d=null,y=null;if(vz&&"HTMLFormElement"in globalThis&&(a instanceof FormData?d=a:a instanceof HTMLFormElement&&(d=new FormData(a))),typeof a=="string"&&(y=a),t.fetchOptions={cache:i.cacheBust?"no-cache":"default",credentials:"same-origin",headers:i.headers||{},method:i.method==="head"?"HEAD":"GET",mode:"cors",priority:No.priority,redirect:"follow",signal:n},(d||y)&&(t.fetchOptions.body=d||y),(gz||i.authMode==="anonymous")&&(t.useIdentity=!1),t.hasToken=!!(/token=/i.test(e)||i.query?.token||d?.get("token")),!t.hasToken){const b=zT(e);b&&(i.query??={},i.query.token=b,t.hasToken=!0)}if(t.useIdentity&&!t.hasToken&&!t.credential&&!t.credentialToken&&!bz(e)&&!Go(n)){let b;i.authMode==="immediate"?(await NS(),b=await qi.getCredential(e,{signal:n})):i.authMode==="no-prompt"?(await NS(),b=await qi.getCredential(e,{prompt:!1,signal:n}).catch((()=>{}))):qi&&(b=qi.findCredential(e)),b&&(t.credential=b,t.credentialToken=b.token,t.useSSL=!!b.ssl)}}function bz(t){return Nrt.some((e=>e.test(t)))}async function Drt(t){let e=t.params.url,i=N$(e);const n=t.params.requestOptions,a=t.fetchOptions??{},d=Fg(e)||Wf(e),y=n.responseType||"json",b=d?0:n.timeout!=null?n.timeout:No.timeout;let S=!1;if(!d){t.useSSL&&(e=DT(e));let z={...n.query};t.credentialToken&&(z.token=t.credentialToken);let G=ig(z);St("esri-url-encodes-apostrophe")&&(G=G.replaceAll("'","%27"));const B=i.length+1+G.length;let H;S=n.method==="delete"||n.method==="post"||n.method==="put"||!!n.body||B>No.maxUrlLength;const X=n.useProxy||!!l5(e);if(X){const et=tz(e);H=et.path,!S&&H.length+1+B>No.maxUrlLength&&(S=!0),et.query&&(z={...et.query,...z})}if(a.method==="HEAD"&&(S||X)){if(S)throw B>No.maxUrlLength?ba("request:invalid-parameters",new Error("URL exceeds maximum length"),t.params):ba("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),t.params);if(X)throw ba("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),t.params)}S?(a.method=n.method==="delete"?"DELETE":n.method==="put"?"PUT":"POST",n.body?e=C6(e,z):(a.body=ig(z),a.headers||(a.headers={}),a.headers["Content-Type"]="application/x-www-form-urlencoded")):e=C6(e,z),X&&(t.useProxy=!0,e=`${H}?${e}`),z.token&&vz&&a.body instanceof FormData&&!Jj(e)&&a.body.set("token",z.token),n.hasOwnProperty("withCredentials")?t.withCredentials=n.withCredentials:Nf(e,OT())||(kT(e)||qi&&qi.findServerInfo(e)?.webTierAuth)&&(t.withCredentials=!0),t.withCredentials&&(a.credentials="include",Art(e)&&await Rrt(S?C6(e,z):e)),i=N$(e)}let T,C,k=0,D=!1;b>0&&(k=setTimeout((()=>{D=!0,t.controller.abort()}),b));try{if(n.responseType==="native-request-init")C=a,C.url=i,n.signal?C.signal=n.signal:delete C.signal;else if(n.responseType!=="image"||a.cache!=="default"||a.method!=="GET"||S||Lrt(n.headers)||!d&&!t.useProxy&&No.proxyUrl&&!k$(e)){if(Di._beforeFetch&&await Di._beforeFetch(e,a),T=await fetch(i,a),Di._afterFetch&&await Di._afterFetch(T),t.useProxy||krt(e),n.responseType==="native")C=T;else if(a.method!=="HEAD")if(T.ok){switch(y){case"array-buffer":C=await T.arrayBuffer();break;case"blob":case"image":C=await T.blob();break;default:C=await T.text()}if(k&&(clearTimeout(k),k=0),y==="json"||y==="xml"||y==="document")if(C)switch(y){case"json":C=JSON.parse(C);break;case"xml":C=I$(C,"application/xml");break;case"document":C=I$(C,"text/html")}else C=null;if(C){if(y==="array-buffer"||y==="blob"){const z=T.headers.get("Content-Type");if(z&&/application\/json|text\/plain/i.test(z)&&C[y==="blob"?"size":"byteLength"]<=750)try{const G=await new Response(C).json();G.error&&(C=G)}catch{}}y==="image"&&C instanceof Blob&&(C=await D$(URL.createObjectURL(C),t,!0))}}else{C=await T.text();try{C=JSON.parse(C)}catch{}}}else C=await D$(i,t)}catch(z){if(z.name==="AbortError")throw D?Ert():Zi("Request canceled");if(!(!T&&z instanceof TypeError&&No.proxyUrl)||n.body||n.method==="delete"||n.method==="head"||n.method==="post"||n.method==="put"||t.useProxy||k$(e))throw z;t.redoRequest=!0,Zit({proxyUrl:No.proxyUrl,urlPrefix:uo(e)??""})}finally{k&&clearTimeout(k)}return[T,C]}async function P$(t,e){if(t.responseData!=null)return t.responseData;if(t.headers&&(e.requestOptions.headers={...e.requestOptions.headers,...t.headers}),t.query&&(e.requestOptions.query={...e.requestOptions.query,...t.query}),t.before){let i,n;try{n=await t.before(e)}catch(a){i=ba("request:interceptor",a,e)}if((n instanceof Error||n instanceof Lt)&&(i=ba("request:interceptor",n,e)),i)throw t.error&&t.error(i),i;return n}}function Lrt(t){if(t){for(const e of Object.getOwnPropertyNames(t))if(t[e])return!0}return!1}function I$(t,e){let i;try{i=new DOMParser().parseFromString(t,e)}catch{}if(!i||i.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return i}Di._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],Di._beforeFetch=void 0,Di._afterFetch=void 0;const jrt=new Map;async function zrt(t){const e=Frt(t.params.url);if(!e)return kS(t);const{QueueProcessor:i}=await te(()=>import("./QueueProcessor-B_Agfqtp.js"),[]);return zg(jrt,e.origin,(()=>{const a=e.isHosted?St("request-queue-concurrency-hosted"):St("request-queue-concurrency-non-hosted");return new i({concurrency:a,process:d=>{if(Go(d.params.requestOptions))throw ba("",Zi("Request canceled"),d.params);return kS(d)}})})).push(t)}async function kS(t){let e,i;await Irt(t);try{do[e,i]=await Drt(t);while(!await Urt(t,e,i))}catch(d){const y=ba("request:server",d,t.params,e);throw y.details.ssl=t.useSSL,t.interceptor?.error&&t.interceptor.error(y),y}const n=t.params.url;if(i)if(/\/sharing\/rest\/(accounts|portals)\/self/i.test(n)){if(!t.hasToken&&!t.credentialToken&&i.user?.username&&!kT(n)){const d=uo(n,!0);d&&No.trustedServers.push(d)}Array.isArray(i.authorizedCrossOriginNoCorsDomains)&&Mrt(i.authorizedCrossOriginNoCorsDomains)}else(t.params.requestOptions.responseType||"json")==="json"&&Crt(n,i);const a=t.credential;if(a&&qi){let y=qi.findServerInfo(a.server)?.owningSystemUrl;if(y){y=y.replace(/\/?$/,"/sharing");const b=qi.findCredential(y,a.userId);b&&qi._getIdenticalSvcIdx(y,b)===-1&&b.resources.unshift(y)}}return{data:i,getAllHeaders:e?()=>Array.from(e.headers):vp,getHeader:e?d=>e.headers.get(d):vp,httpStatus:e?.status??200,requestOptions:t.params.requestOptions,ssl:t.useSSL,url:t.params.url}}async function Urt(t,e,i){if(t.redoRequest)return t.redoRequest=!1,!1;const n=t.params.requestOptions;if(!e||n.responseType==="native"||n.responseType==="native-request-init")return!0;let a,d;if(i&&(i.error&&typeof i.error=="object"?a=i.error:i.status==="error"&&Array.isArray(i.messages)&&(a={...i},a[Jb]=i,a.details=i.messages)),!a&&!e.ok)throw a=new Error(`Unable to load ${e.url} status: ${e.status}`),a[Jb]=i,a;let y,b=null;a&&(d=Number(a.code),b=a.hasOwnProperty("subcode")?Number(a.subcode):null,y=a.messageCode,y=y?.toUpperCase());const S=n.authMode;if(d===403&&(b===4||a.message?.toLowerCase().includes("ssl")&&!a.message.toLowerCase().includes("permission"))){if(!t.useSSL)return t.useSSL=!0,!1}else if(!t.hasToken&&t.useIdentity&&(S!=="no-prompt"||d===498)&&d!==void 0&&Ort.has(d)&&!bz(t.params.url)&&(d!==403||(!y||!$rt.has(y))&&(b==null||b===2&&t.credentialToken))){await NS();try{const T=await qi.getCredential(t.params.url,{error:ba("request:server",a,t.params),credential:t.credential,prompt:S!=="no-prompt",signal:t.controller.signal,token:t.credentialToken});return t.credential=T,t.credentialToken=T.token,t.useSSL=t.useSSL||T.ssl,!1}catch(T){if(S==="no-prompt")return t.credential=void 0,t.credentialToken=void 0,!1;a=T}}if(a)throw a;return!0}function D$(t,e,i=!1){const n=e.controller.signal,a=new Image;return e.withCredentials?a.crossOrigin="use-credentials":a.crossOrigin="anonymous",a.alt="",a.fetchPriority=No.priority,a.src=t,Trt(a,t,i,n)}function Frt(t){let e,i;return typeof t=="string"?(e=uo(t,!0),i=O$(t)):(e=t.origin,i=O$(t.toString())),e==null?null:{origin:e,isHosted:i}}function Cr(t){if(!ci.assetsPath)throw ae.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new Lt("assets:path-not-set","config.assetsPath is not set");return Ug(ci.assetsPath,t)}let O6,mt=null;function FT(){return!!mt}function Brt(){return!!St("esri-wasm")}function wz(){return O6||(O6=te(()=>import("./pe-wasm-DzdsRf4N.js"),[]).then((({default:t})=>t({locateFile:e=>Cr(`esri/geometry/support/${e}`)}))).then((t=>{xz(t)})),O6)}var PS,nr;(function(t){function e(d,y,b){mt.ensureCache.prepare();const S=Qh(b),T=b===S,C=mt.ensureFloat64(S),k=mt._pe_geog_to_proj(mt.getPointer(d),y,C);return k&&xc(b,y,C,T),k}function i(d,y,b,S){switch(S){case nr.PE_TRANSFORM_P_TO_G:return n(d,y,b);case nr.PE_TRANSFORM_G_TO_P:return e(d,y,b)}return 0}function n(d,y,b){return a(d,y,b,0)}function a(d,y,b,S){mt.ensureCache.prepare();const T=Qh(b),C=b===T,k=mt.ensureFloat64(T),D=mt._pe_proj_to_geog_center(mt.getPointer(d),y,k,S);return D&&xc(b,y,k,C),D}t.geogToProj=e,t.projGeog=i,t.projToGeog=n,t.projToGeogCenter=a})(PS||(PS={})),(function(t){function e(){t.PE_BUFFER_MAX=mt.PeDefs.prototype.PE_BUFFER_MAX,t.PE_NAME_MAX=mt.PeDefs.prototype.PE_NAME_MAX,t.PE_MGRS_MAX=mt.PeDefs.prototype.PE_MGRS_MAX,t.PE_USNG_MAX=mt.PeDefs.prototype.PE_USNG_MAX,t.PE_DD_MAX=mt.PeDefs.prototype.PE_DD_MAX,t.PE_DDM_MAX=mt.PeDefs.prototype.PE_DDM_MAX,t.PE_DMS_MAX=mt.PeDefs.prototype.PE_DMS_MAX,t.PE_UTM_MAX=mt.PeDefs.prototype.PE_UTM_MAX,t.PE_PARM_MAX=mt.PeDefs.prototype.PE_PARM_MAX,t.PE_TYPE_NONE=mt.PeDefs.prototype.PE_TYPE_NONE,t.PE_TYPE_GEOGCS=mt.PeDefs.prototype.PE_TYPE_GEOGCS,t.PE_TYPE_PROJCS=mt.PeDefs.prototype.PE_TYPE_PROJCS,t.PE_TYPE_GEOGTRAN=mt.PeDefs.prototype.PE_TYPE_GEOGTRAN,t.PE_TYPE_COORDSYS=mt.PeDefs.prototype.PE_TYPE_COORDSYS,t.PE_TYPE_UNIT=mt.PeDefs.prototype.PE_TYPE_UNIT,t.PE_TYPE_LINUNIT=mt.PeDefs.prototype.PE_TYPE_LINUNIT,t.PE_STR_OPTS_NONE=mt.PeDefs.prototype.PE_STR_OPTS_NONE,t.PE_STR_AUTH_NONE=mt.PeDefs.prototype.PE_STR_AUTH_NONE,t.PE_STR_AUTH_TOP=mt.PeDefs.prototype.PE_STR_AUTH_TOP,t.PE_STR_NAME_CANON=mt.PeDefs.prototype.PE_STR_NAME_CANON,t.PE_STR_FMT_WKT=mt.PeDefs.prototype.PE_STR_FMT_WKT,t.PE_STR_FMT_WKT2=mt.PeDefs.prototype.PE_STR_FMT_WKT2,t.PE_PARM_X0=mt.PeDefs.prototype.PE_PARM_X0,t.PE_PARM_ND=mt.PeDefs.prototype.PE_PARM_ND,t.PE_TRANSFORM_1_TO_2=mt.PeDefs.prototype.PE_TRANSFORM_1_TO_2,t.PE_TRANSFORM_2_TO_1=mt.PeDefs.prototype.PE_TRANSFORM_2_TO_1,t.PE_TRANSFORM_P_TO_G=mt.PeDefs.prototype.PE_TRANSFORM_P_TO_G,t.PE_TRANSFORM_G_TO_P=mt.PeDefs.prototype.PE_TRANSFORM_G_TO_P,t.PE_HORIZON_RECT=mt.PeDefs.prototype.PE_HORIZON_RECT,t.PE_HORIZON_POLY=mt.PeDefs.prototype.PE_HORIZON_POLY,t.PE_HORIZON_LINE=mt.PeDefs.prototype.PE_HORIZON_LINE,t.PE_HORIZON_DELTA=mt.PeDefs.prototype.PE_HORIZON_DELTA}t.init=e})(nr||(nr={}));let _z=null;var IS;(function(t){const e={},i={},n=z=>{const G=z.getType();switch(G){case nr.PE_TYPE_GEOGCS:z=mt.castObject(z,mt.PeGeogcs);break;case nr.PE_TYPE_PROJCS:z=mt.castObject(z,mt.PeProjcs);break;case nr.PE_TYPE_GEOGTRAN:z=mt.castObject(z,mt.PeGeogtran);break;default:G&nr.PE_TYPE_UNIT&&(z=mt.castObject(z,mt.PeUnit))}return z};function a(){mt.PeFactory.prototype.initialize(null)}function d(z){return y(nr.PE_TYPE_COORDSYS,z)}function y(z,G){let B=null,H=e[z];if(H||(H={},e[z]=H),H.hasOwnProperty(String(G))&&(B=H[G],mt.compare(B,mt.NULL)&&(B=null)),!B){const X=mt.PeFactory.prototype.factoryByType(z,G);mt.compare(X,mt.NULL)||(B=n(X),H[G]=B)}return B}function b(z,G){let B=null,H=i[z];if(H||(H={},i[z]=H),H.hasOwnProperty(G)&&(B=H[G],mt.compare(B,mt.NULL)&&(B=null)),!B){const X=mt.PeFactory.prototype.fromString(z,G);mt.compare(X,mt.NULL)||(B=n(X),H[G]=B)}return B}function S(z){return y(nr.PE_TYPE_GEOGCS,z)}function T(z){return y(nr.PE_TYPE_GEOGTRAN,z)}function C(z){return mt.PeFactory.prototype.getCode(z)}function k(z){return y(nr.PE_TYPE_PROJCS,z)}function D(z){return y(nr.PE_TYPE_UNIT,z)}t.initialize=a,t.coordsys=d,t.factoryByType=y,t.fromString=b,t.geogcs=S,t.geogtran=T,t.getCode=C,t.projcs=k,t.unit=D})(IS||(IS={}));let Sz=null;var Yb,DS,LS,jS,zS,US,Kb,FS,Xb,Zb,BS;function xz(t){function e(d,y,b){d[y]=b(d[y])}mt=t,nr.init(),Yb.init(),Kb.init(),Xb.init(),Zb.init(),_z=class extends mt.PeDouble{constructor(d=NaN){super(d)}destroy(){mt.destroy(this)}[Symbol.dispose](){this.destroy()}},Sz=class extends mt.PeGCSExtent{destroy(){mt.destroy(this)}[Symbol.dispose](){this.destroy()}};const i=[mt.PeAngunit,mt.PeDatum,mt.PeGeogcs,mt.PeGeogtran,mt.PeObject,mt.PeParameter,mt.PePrimem,mt.PeProjcs,mt.PeSpheroid,mt.PeUnit];for(const d of i)e(d.prototype,"getName",(y=>function(){return y.call(this,new Array(nr.PE_NAME_MAX))}));for(const d of[mt.PeGeogtran,mt.PeProjcs])e(d.prototype,"getParameters",(y=>function(){const b=new Array(nr.PE_PARM_MAX);let S=y.call(this);for(let T=0;T<b.length;T++){const C=mt.getValue(S,"*");b[T]=C?mt.wrapPointer(C,mt.PeParameter):null,S+=Int32Array.BYTES_PER_ELEMENT}return b}));e(mt.PeHorizon.prototype,"getCoord",(d=>function(y=!1){const b=this.getSize();if(!b)return null;const S=[];return xc(S,b,d.call(this),y),S})),e(mt.PeGTlistExtendedEntry.prototype,"getEntries",(d=>{const y=mt._pe_getPeGTlistExtendedGTsSize();return function(){let b=null;const S=d.call(this);if(!mt.compare(S,mt.NULL)){b=[S];const T=this.getSteps();if(T>1){const C=mt.getPointer(S);for(let k=1;k<T;k++)b.push(mt.wrapPointer(C+y*k,mt.PeGTlistExtendedGTs))}}return b}}));const n=mt._pe_getPeHorizonSize(),a=d=>function(){let y=this._cache;if(y||(y=new Map,this._cache=y),y.has(d))return y.get(d);let b=null;const S=d.call(this);if(!mt.compare(S,mt.NULL)){b=[S];const T=S.getNump();if(T>1){const C=mt.getPointer(S);for(let k=1;k<T;k++)b.push(mt.wrapPointer(C+n*k,mt.PeHorizon))}}return y.set(d,b),b};e(mt.PeProjcs.prototype,"horizonGcsGenerate",a),e(mt.PeProjcs.prototype,"horizonPcsGenerate",a),mt.PeObject.prototype.toString=function(d=nr.PE_STR_OPTS_NONE){mt.ensureCache.prepare();const y=mt.getPointer(this),b=mt.ensureInt8(new Array(nr.PE_BUFFER_MAX));return mt.UTF8ToString(mt._pe_object_to_string_ext(y,d,b))},mt.PeGeogcs.prototype.destroy=function(){this.Delete(),pa(this),this.ptr=0},mt.PeGeogcs.prototype[Symbol.dispose]=function(){this.destroy()},mt.PeProjcs.prototype.destroy=function(){this.Delete(),pa(this),this.ptr=0},mt.PeProjcs.prototype[Symbol.dispose]=function(){this.destroy()}}function pa(t){if(!t)return;const e=mt.getClass(t);if(!e)return;const i=mt.getCache(e);if(!i)return;const n=mt.getPointer(t);n&&delete i[n]}function $2(t,e){const i=[],n=new Array(e);for(let a=0;a<t;a++)i.push(mt.ensureInt8(n));return i}function Qh(t){return ArrayBuffer.isView(t)?t:Array.isArray(t[0])?t.flat():t}function xc(t,e,i,n=!1){if(n)for(let a=0;a<2*e;a++)t[a]=mt.getValue(i+a*Float64Array.BYTES_PER_ELEMENT,"double");else{const a=t.length===0;for(let d=0;d<e;d++)a&&(t[d]=new Array(2)),t[d][0]=mt.getValue(i,"double"),t[d][1]=mt.getValue(i+Float64Array.BYTES_PER_ELEMENT,"double"),i+=2*Float64Array.BYTES_PER_ELEMENT}}(function(t){let e;function i(){t.PE_GTLIST_OPTS_COMMON=mt.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,e=mt._pe_getPeGTlistExtendedEntrySize()}function n(a,d,y,b,S,T){let C=null;const k=new mt.PeInteger(T);try{const D=mt.PeGTlistExtended.prototype.getGTlist(a,d,y,b,S,k);if((T=k.val)&&(C=[D],T>1)){const z=mt.getPointer(D);for(let G=1;G<T;G++)C.push(mt.wrapPointer(z+e*G,mt.PeGTlistExtendedEntry))}}finally{mt.destroy(k)}return C}t.init=i,t.getGTlist=n})(Yb||(Yb={})),(function(t){function e(i){if(i?.length){for(const n of i)pa(n),n.getEntries().forEach((a=>{pa(a);const d=a.getGeogtran();pa(d),d.getParameters().forEach(pa),[d.getGeogcs1(),d.getGeogcs2()].forEach((y=>{pa(y);const b=y.getDatum();pa(b),pa(b.getSpheroid()),pa(y.getPrimem()),pa(y.getUnit())}))}));mt.PeGTlistExtendedEntry.prototype.Delete(i[0])}}t.destroy=e})(DS||(DS={})),(function(t){function e(i,n,a,d,y){mt.ensureCache.prepare();const b=Qh(a),S=a===b,T=mt.ensureFloat64(b);let C=0;d&&(C=mt.ensureFloat64(d));const k=mt._pe_geog_to_geog(mt.getPointer(i),n,T,C,y);return k&&xc(a,n,T,S),k}t.geogToGeog=e})(LS||(LS={})),(function(t){function e(d,y,b,S,T,C,k,D){mt.PeLineType.prototype.geodesic_coordinate(d,y,b,S,T,C,k,D)}function i(d,y,b,S,T,C,k,D,z){mt.PeLineType.prototype.geodetic_coordinate(d,y,b,S,T,C,k,D,z)}function n(d,y,b,S,T,C,k,D,z,G){mt.PeLineType.prototype.geodetic_distance(d,y,b,S,T,C,k,D,z,G)}function a(d,y,b,S,T,C,k,D,z){mt.PeLineType.prototype.great_elliptic_distance(d,y,b,S,T,C,k,D,z)}t.geodesicCoordinate=e,t.geodeticCoordinate=i,t.geodeticDistance=n,t.greatEllipticDistance=a})(jS||(jS={})),(function(t){function e(y,b){return mt.PeMath.prototype.phi_to_eta(y,b)}function i(y,b){return mt.PeMath.prototype.eta_to_phi(y,b)}function n(y,b){return mt.PeMath.prototype.phi_to_phig(y,b)}function a(y,b,S){return mt.PeMath.prototype.q(y,b,S)}function d(y,b){return mt.PeMath.prototype.q90(y,b)}t.phiToEta=e,t.etaToPhi=i,t.phiToPhig=n,t.q=a,t.q90=d})(zS||(zS={})),(function(t){const e=(T,C,k,D,z,G)=>{let B,H;switch(mt.ensureCache.prepare(),T){case"dd":B=mt._pe_geog_to_dd,H=nr.PE_DD_MAX;break;case"ddm":B=mt._pe_geog_to_ddm,H=nr.PE_DDM_MAX;break;case"dms":B=mt._pe_geog_to_dms,H=nr.PE_DMS_MAX}let X=0;C&&(X=mt.getPointer(C));const et=Qh(D),rt=mt.ensureFloat64(et),it=$2(k,H),ot=B(X,k,rt,z,mt.ensureInt32(it));if(ot)for(let pt=0;pt<k;pt++)G[pt]=mt.UTF8ToString(it[pt]);return ot},i=(T,C,k,D,z)=>{let G;switch(mt.ensureCache.prepare(),T){case"dd":G=mt._pe_dd_to_geog;break;case"ddm":G=mt._pe_ddm_to_geog;break;case"dms":G=mt._pe_dms_to_geog}let B=0;C&&(B=mt.getPointer(C));const H=D.map((it=>mt.ensureString(it))),X=mt.ensureInt32(H),et=mt.ensureFloat64(new Array(2*k)),rt=G(B,k,X,et);return rt&&xc(z,k,et),rt};function n(T,C,k,D,z){return e("dms",T,C,k,D,z)}function a(T,C,k,D){return i("dms",T,C,k,D)}function d(T,C,k,D,z){return e("ddm",T,C,k,D,z)}function y(T,C,k,D){return i("ddm",T,C,k,D)}function b(T,C,k,D,z){return e("dd",T,C,k,D,z)}function S(T,C,k,D){return i("dd",T,C,k,D)}t.geogToDms=n,t.dmsToGeog=a,t.geogToDdm=d,t.ddmToGeog=y,t.geogToDd=b,t.ddToGeog=S})(US||(US={})),(function(t){function e(){t.PE_MGRS_STYLE_NEW=mt.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,t.PE_MGRS_STYLE_OLD=mt.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,t.PE_MGRS_STYLE_AUTO=mt.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,t.PE_MGRS_180_ZONE_1_PLUS=mt.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,t.PE_MGRS_ADD_SPACES=mt.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}function i(a,d,y,b,S,T,C){mt.ensureCache.prepare();let k=0;a&&(k=mt.getPointer(a));const D=Qh(y),z=mt.ensureFloat64(D),G=$2(d,nr.PE_MGRS_MAX),B=mt.ensureInt32(G),H=mt._pe_geog_to_mgrs_extended(k,d,z,b,S,T,B);if(H)for(let X=0;X<d;X++)C[X]=mt.UTF8ToString(G[X]);return H}function n(a,d,y,b,S){mt.ensureCache.prepare();let T=0;a&&(T=mt.getPointer(a));const C=y.map((G=>mt.ensureString(G))),k=mt.ensureInt32(C),D=mt.ensureFloat64(new Array(2*d)),z=mt._pe_mgrs_to_geog_extended(T,d,k,b,D);return z&&xc(S,d,D),z}t.init=e,t.geogToMgrsExtended=i,t.mgrsToGeogExtended=n})(Kb||(Kb={})),(function(t){function e(n,a,d,y,b,S,T){mt.ensureCache.prepare();let C=0;n&&(C=mt.getPointer(n));const k=Qh(d),D=mt.ensureFloat64(k),z=$2(a,nr.PE_MGRS_MAX),G=mt.ensureInt32(z),B=mt._pe_geog_to_usng(C,a,D,y,b,S,G);if(B)for(let H=0;H<a;H++)T[H]=mt.UTF8ToString(z[H]);return B}function i(n,a,d,y){mt.ensureCache.prepare();let b=0;n&&(b=mt.getPointer(n));const S=d.map((D=>mt.ensureString(D))),T=mt.ensureInt32(S),C=mt.ensureFloat64(new Array(2*a)),k=mt._pe_usng_to_geog(b,a,T,C);return k&&xc(y,a,C),k}t.geogToUsng=e,t.usngToGeog=i})(FS||(FS={})),(function(t){function e(){t.PE_UTM_OPTS_NONE=mt.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,t.PE_UTM_OPTS_ADD_SPACES=mt.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,t.PE_UTM_OPTS_NS=mt.PeNotationUtm.prototype.PE_UTM_OPTS_NS}function i(a,d,y,b,S){mt.ensureCache.prepare();let T=0;a&&(T=mt.getPointer(a));const C=Qh(y),k=mt.ensureFloat64(C),D=$2(d,nr.PE_UTM_MAX),z=mt.ensureInt32(D),G=mt._pe_geog_to_utm(T,d,k,b,z);if(G)for(let B=0;B<d;B++)S[B]=mt.UTF8ToString(D[B]);return G}function n(a,d,y,b,S){mt.ensureCache.prepare();let T=0;a&&(T=mt.getPointer(a));const C=y.map((G=>mt.ensureString(G))),k=mt.ensureInt32(C),D=mt.ensureFloat64(new Array(2*d)),z=mt._pe_utm_to_geog(T,d,k,b,D);return z&&xc(S,d,D),z}t.init=e,t.geogToUtm=i,t.utmToGeog=n})(Xb||(Xb={})),(function(t){const e=new Map;function i(){t.PE_PCSINFO_OPTION_NONE=mt.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,t.PE_PCSINFO_OPTION_DOMAIN=mt.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,t.PE_POLE_OUTSIDE_BOUNDARY=mt.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,t.PE_POLE_POINT=mt.PePCSInfo.prototype.PE_POLE_POINT}function n(a,d=t.PE_PCSINFO_OPTION_DOMAIN){let y=null,b=null;return e.has(a)&&(b=e.get(a),b[d]&&(y=b[d])),y||(y=mt.PePCSInfo.prototype.generate(a,d),b||(b=[],e.set(a,b)),b[d]=y),y}t.init=i,t.generate=n})(Zb||(Zb={})),(function(t){function e(){return mt.PeVersion.prototype.version_string()}t.versionString=e})(BS||(BS={}));const Grt=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return PS},get PeDefs(){return nr},get PeDouble(){return _z},get PeFactory(){return IS},get PeGCSExtent(){return Sz},get PeGTTransformations(){return LS},get PeGTlistExtended(){return Yb},get PeGTlistExtendedEntry(){return DS},get PeLineType(){return jS},get PeMath(){return zS},get PeNotationDms(){return US},get PeNotationMgrs(){return Kb},get PeNotationUsng(){return FS},get PeNotationUtm(){return Xb},get PePCSInfo(){return Zb},get PeVersion(){return BS},_init:xz,get _pe(){return mt},isLoaded:FT,isSupported:Brt,load:wz},Symbol.toStringTag,{value:"Module"}));var kf;(function(t){t[t.CGCS2000=4490]="CGCS2000",t[t.GCSMARS2000=104971]="GCSMARS2000",t[t.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",t[t.GCSMOON2000=104903]="GCSMOON2000"})(kf||(kf={}));let A;const Z={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,10477:0,10481:2,10516:2,10592:0,10594:0,10596:0,10598:0,10601:0,10603:0,10626:0,10632:0,10641:0,10665:0,10674:0,10744:0,10745:0,10759:0,10773:0,10802:0,10820:0,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,65061:2,65062:2,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1,103978:2,103979:0,103980:2,103981:0};for(A=2e3;A<=2045;A++)Z[A]=0;for(A=2056;A<=2065;A++)Z[A]=0;for(A=2067;A<=2135;A++)Z[A]=0;for(A=2137;A<=2154;A++)Z[A]=0;for(A=2161;A<=2170;A++)Z[A]=0;for(A=2172;A<=2193;A++)Z[A]=0;for(A=2195;A<=2198;A++)Z[A]=0;for(A=2200;A<=2203;A++)Z[A]=0;for(A=2205;A<=2217;A++)Z[A]=0;for(A=2222;A<=2224;A++)Z[A]=1;for(A=2225;A<=2250;A++)Z[A]=2;for(A=2251;A<=2253;A++)Z[A]=1;for(A=2257;A<=2264;A++)Z[A]=2;for(A=2274;A<=2279;A++)Z[A]=2;for(A=2280;A<=2282;A++)Z[A]=1;for(A=2283;A<=2289;A++)Z[A]=2;for(A=2290;A<=2292;A++)Z[A]=0;for(A=2308;A<=2313;A++)Z[A]=0;for(A=2315;A<=2491;A++)Z[A]=0;for(A=2494;A<=2866;A++)Z[A]=0;for(A=2867;A<=2869;A++)Z[A]=1;for(A=2870;A<=2888;A++)Z[A]=2;for(A=2891;A<=2895;A++)Z[A]=2;for(A=2896;A<=2898;A++)Z[A]=1;for(A=2902;A<=2908;A++)Z[A]=2;for(A=2915;A<=2920;A++)Z[A]=2;for(A=2921;A<=2923;A++)Z[A]=1;for(A=2924;A<=2930;A++)Z[A]=2;for(A=2931;A<=2962;A++)Z[A]=0;for(A=2964;A<=2968;A++)Z[A]=2;for(A=2969;A<=2973;A++)Z[A]=0;for(A=2975;A<=2991;A++)Z[A]=0;for(A=2995;A<=3051;A++)Z[A]=0;for(A=3054;A<=3079;A++)Z[A]=0;for(A=3081;A<=3088;A++)Z[A]=0;for(A=3092;A<=3101;A++)Z[A]=0;for(A=3106;A<=3138;A++)Z[A]=0;for(A=3146;A<=3151;A++)Z[A]=0;for(A=3153;A<=3166;A++)Z[A]=0;for(A=3168;A<=3172;A++)Z[A]=0;for(A=3174;A<=3203;A++)Z[A]=0;for(A=3294;A<=3358;A++)Z[A]=0;for(A=3367;A<=3403;A++)Z[A]=0;for(A=3408;A<=3416;A++)Z[A]=0;for(A=3417;A<=3438;A++)Z[A]=2;for(A=3441;A<=3446;A++)Z[A]=2;for(A=3447;A<=3450;A++)Z[A]=0;for(A=3451;A<=3459;A++)Z[A]=2;for(A=3460;A<=3478;A++)Z[A]=0;for(A=3554;A<=3559;A++)Z[A]=0;for(A=3560;A<=3570;A++)Z[A]=2;for(A=3571;A<=3581;A++)Z[A]=0;for(A=3594;A<=3597;A++)Z[A]=0;for(A=3601;A<=3604;A++)Z[A]=0;for(A=3637;A<=3639;A++)Z[A]=0;for(A=3665;A<=3667;A++)Z[A]=0;for(A=3693;A<=3695;A++)Z[A]=0;for(A=3701;A<=3727;A++)Z[A]=0;for(A=3728;A<=3739;A++)Z[A]=2;for(A=3740;A<=3751;A++)Z[A]=0;for(A=3753;A<=3760;A++)Z[A]=2;for(A=3761;A<=3773;A++)Z[A]=0;for(A=3775;A<=3777;A++)Z[A]=0;for(A=3779;A<=3781;A++)Z[A]=0;for(A=3783;A<=3785;A++)Z[A]=0;for(A=3788;A<=3791;A++)Z[A]=0;for(A=3797;A<=3802;A++)Z[A]=0;for(A=3814;A<=3816;A++)Z[A]=0;for(A=3825;A<=3829;A++)Z[A]=0;for(A=3832;A<=3841;A++)Z[A]=0;for(A=3844;A<=3852;A++)Z[A]=0;for(A=3873;A<=3885;A++)Z[A]=0;for(A=3890;A<=3893;A++)Z[A]=0;for(A=3907;A<=3912;A++)Z[A]=0;for(A=3942;A<=3950;A++)Z[A]=0;for(A=3968;A<=3970;A++)Z[A]=0;for(A=3973;A<=3976;A++)Z[A]=0;for(A=3986;A<=3989;A++)Z[A]=0;for(A=3994;A<=3997;A++)Z[A]=0;for(A=4048;A<=4051;A++)Z[A]=0;for(A=4056;A<=4063;A++)Z[A]=0;for(A=4093;A<=4096;A++)Z[A]=0;for(A=4390;A<=4398;A++)Z[A]=0;for(A=4399;A<=4413;A++)Z[A]=2;for(A=4418;A<=4433;A++)Z[A]=2;for(A=4455;A<=4457;A++)Z[A]=2;for(A=4484;A<=4489;A++)Z[A]=0;for(A=4491;A<=4554;A++)Z[A]=0;for(A=4568;A<=4589;A++)Z[A]=0;for(A=4652;A<=4656;A++)Z[A]=0;for(A=4766;A<=4800;A++)Z[A]=0;for(A=5014;A<=5016;A++)Z[A]=0;for(A=5069;A<=5072;A++)Z[A]=0;for(A=5105;A<=5130;A++)Z[A]=0;for(A=5167;A<=5188;A++)Z[A]=0;for(A=5253;A<=5259;A++)Z[A]=0;for(A=5269;A<=5275;A++)Z[A]=0;for(A=5292;A<=5311;A++)Z[A]=0;for(A=5329;A<=5331;A++)Z[A]=0;for(A=5343;A<=5349;A++)Z[A]=0;for(A=5355;A<=5357;A++)Z[A]=0;for(A=5387;A<=5389;A++)Z[A]=0;for(A=5459;A<=5463;A++)Z[A]=0;for(A=5479;A<=5482;A++)Z[A]=0;for(A=5518;A<=5520;A++)Z[A]=0;for(A=5530;A<=5539;A++)Z[A]=0;for(A=5550;A<=5552;A++)Z[A]=0;for(A=5562;A<=5583;A++)Z[A]=0;for(A=5623;A<=5625;A++)Z[A]=2;for(A=5631;A<=5639;A++)Z[A]=0;for(A=5649;A<=5653;A++)Z[A]=0;for(A=5663;A<=5680;A++)Z[A]=0;for(A=5682;A<=5685;A++)Z[A]=0;for(A=5875;A<=5877;A++)Z[A]=0;for(A=5896;A<=5899;A++)Z[A]=0;for(A=5921;A<=5940;A++)Z[A]=0;for(A=6050;A<=6125;A++)Z[A]=0;for(A=6244;A<=6275;A++)Z[A]=0;for(A=6328;A<=6348;A++)Z[A]=0;for(A=6350;A<=6356;A++)Z[A]=0;for(A=6366;A<=6372;A++)Z[A]=0;for(A=6381;A<=6387;A++)Z[A]=0;for(A=6393;A<=6404;A++)Z[A]=0;for(A=6480;A<=6483;A++)Z[A]=0;for(A=6511;A<=6514;A++)Z[A]=0;for(A=6579;A<=6581;A++)Z[A]=0;for(A=6619;A<=6624;A++)Z[A]=0;for(A=6625;A<=6627;A++)Z[A]=2;for(A=6628;A<=6632;A++)Z[A]=0;for(A=6634;A<=6637;A++)Z[A]=0;for(A=6669;A<=6692;A++)Z[A]=0;for(A=6707;A<=6709;A++)Z[A]=0;for(A=6720;A<=6723;A++)Z[A]=0;for(A=6732;A<=6738;A++)Z[A]=0;for(A=6931;A<=6933;A++)Z[A]=0;for(A=6956;A<=6959;A++)Z[A]=0;for(A=7005;A<=7007;A++)Z[A]=0;for(A=7057;A<=7070;A++)Z[A]=2;for(A=7074;A<=7082;A++)Z[A]=0;for(A=7109;A<=7118;A++)Z[A]=0;for(A=7119;A<=7127;A++)Z[A]=1;for(A=7374;A<=7376;A++)Z[A]=0;for(A=7528;A<=7586;A++)Z[A]=0;for(A=7587;A<=7645;A++)Z[A]=2;for(A=7692;A<=7696;A++)Z[A]=0;for(A=7755;A<=7787;A++)Z[A]=0;for(A=7791;A<=7795;A++)Z[A]=0;for(A=7799;A<=7801;A++)Z[A]=0;for(A=7803;A<=7805;A++)Z[A]=0;for(A=7825;A<=7831;A++)Z[A]=0;for(A=7845;A<=7859;A++)Z[A]=0;for(A=8013;A<=8032;A++)Z[A]=0;for(A=8065;A<=8068;A++)Z[A]=1;for(A=8518;A<=8529;A++)Z[A]=2;for(A=8533;A<=8536;A++)Z[A]=2;for(A=8538;A<=8540;A++)Z[A]=2;for(A=8677;A<=8679;A++)Z[A]=0;for(A=8836;A<=8840;A++)Z[A]=0;for(A=8857;A<=8859;A++)Z[A]=0;for(A=8908;A<=8910;A++)Z[A]=0;for(A=9154;A<=9159;A++)Z[A]=0;for(A=9205;A<=9218;A++)Z[A]=0;for(A=9271;A<=9273;A++)Z[A]=0;for(A=9295;A<=9297;A++)Z[A]=0;for(A=9356;A<=9360;A++)Z[A]=0;for(A=9404;A<=9407;A++)Z[A]=0;for(A=9476;A<=9482;A++)Z[A]=0;for(A=9487;A<=9494;A++)Z[A]=0;for(A=9697;A<=9699;A++)Z[A]=0;for(A=9821;A<=9865;A++)Z[A]=0;for(A=10285;A<=10291;A++)Z[A]=0;for(A=10314;A<=10317;A++)Z[A]=0;for(A=10448;A<=10465;A++)Z[A]=0;for(A=10726;A<=10729;A++)Z[A]=0;for(A=10731;A<=10733;A++)Z[A]=0;for(A=11114;A<=11118;A++)Z[A]=0;for(A=20004;A<=20032;A++)Z[A]=0;for(A=20047;A<=20049;A++)Z[A]=0;for(A=20062;A<=20092;A++)Z[A]=0;for(A=20135;A<=20138;A++)Z[A]=0;for(A=20248;A<=20258;A++)Z[A]=0;for(A=20348;A<=20358;A++)Z[A]=0;for(A=20436;A<=20440;A++)Z[A]=0;for(A=20822;A<=20824;A++)Z[A]=0;for(A=20904;A<=20932;A++)Z[A]=0;for(A=20934;A<=20936;A++)Z[A]=0;for(A=21004;A<=21032;A++)Z[A]=0;for(A=21035;A<=21037;A++)Z[A]=0;for(A=21095;A<=21097;A++)Z[A]=0;for(A=21148;A<=21150;A++)Z[A]=0;for(A=21207;A<=21264;A++)Z[A]=0;for(A=21307;A<=21364;A++)Z[A]=0;for(A=21413;A<=21423;A++)Z[A]=0;for(A=21453;A<=21463;A++)Z[A]=0;for(A=21473;A<=21483;A++)Z[A]=0;for(A=21780;A<=21782;A++)Z[A]=0;for(A=21891;A<=21894;A++)Z[A]=0;for(A=21896;A<=21899;A++)Z[A]=0;for(A=22171;A<=22177;A++)Z[A]=0;for(A=22181;A<=22187;A++)Z[A]=0;for(A=22191;A<=22197;A++)Z[A]=0;for(A=22207;A<=22222;A++)Z[A]=0;for(A=22229;A<=22232;A++)Z[A]=0;for(A=22234;A<=22236;A++)Z[A]=0;for(A=22243;A<=22250;A++)Z[A]=0;for(A=22262;A<=22265;A++)Z[A]=0;for(A=22307;A<=22322;A++)Z[A]=0;for(A=22348;A<=22357;A++)Z[A]=0;for(A=22407;A<=22422;A++)Z[A]=0;for(A=22462;A<=22465;A++)Z[A]=0;for(A=22521;A<=22525;A++)Z[A]=0;for(A=22607;A<=22622;A++)Z[A]=0;for(A=22641;A<=22646;A++)Z[A]=0;for(A=22648;A<=22657;A++)Z[A]=0;for(A=22707;A<=22722;A++)Z[A]=0;for(A=22762;A<=22765;A++)Z[A]=0;for(A=22807;A<=22822;A++)Z[A]=0;for(A=22991;A<=22994;A++)Z[A]=0;for(A=23028;A<=23038;A++)Z[A]=0;for(A=23301;A<=23333;A++)Z[A]=2;for(A=23830;A<=23853;A++)Z[A]=0;for(A=23866;A<=23872;A++)Z[A]=0;for(A=23877;A<=23884;A++)Z[A]=0;for(A=23886;A<=23894;A++)Z[A]=0;for(A=23946;A<=23948;A++)Z[A]=0;for(A=24311;A<=24313;A++)Z[A]=0;for(A=24342;A<=24347;A++)Z[A]=0;for(A=24370;A<=24374;A++)Z[A]=10;for(A=24375;A<=24381;A++)Z[A]=0;for(A=24718;A<=24721;A++)Z[A]=0;for(A=24817;A<=24821;A++)Z[A]=0;for(A=24877;A<=24882;A++)Z[A]=0;for(A=24891;A<=24893;A++)Z[A]=0;for(A=25391;A<=25395;A++)Z[A]=0;for(A=25828;A<=25838;A++)Z[A]=0;for(A=26191;A<=26195;A++)Z[A]=0;for(A=26391;A<=26393;A++)Z[A]=0;for(A=26701;A<=26722;A++)Z[A]=0;for(A=26729;A<=26799;A++)Z[A]=2;for(A=26801;A<=26803;A++)Z[A]=2;for(A=26811;A<=26813;A++)Z[A]=2;for(A=26847;A<=26870;A++)Z[A]=2;for(A=26891;A<=26899;A++)Z[A]=0;for(A=26901;A<=26923;A++)Z[A]=0;for(A=26929;A<=26946;A++)Z[A]=0;for(A=26948;A<=26998;A++)Z[A]=0;for(A=27037;A<=27040;A++)Z[A]=0;for(A=27205;A<=27232;A++)Z[A]=0;for(A=27258;A<=27260;A++)Z[A]=0;for(A=27391;A<=27398;A++)Z[A]=0;for(A=27561;A<=27564;A++)Z[A]=0;for(A=27571;A<=27574;A++)Z[A]=0;for(A=27581;A<=27584;A++)Z[A]=0;for(A=27591;A<=27594;A++)Z[A]=0;for(A=27700;A<=27707;A++)Z[A]=0;for(A=28191;A<=28193;A++)Z[A]=0;for(A=28348;A<=28358;A++)Z[A]=0;for(A=28402;A<=28432;A++)Z[A]=0;for(A=28462;A<=28492;A++)Z[A]=0;for(A=29118;A<=29122;A++)Z[A]=0;for(A=29168;A<=29172;A++)Z[A]=0;for(A=29177;A<=29185;A++)Z[A]=0;for(A=29187;A<=29195;A++)Z[A]=0;for(A=29900;A<=29903;A++)Z[A]=0;for(A=30161;A<=30179;A++)Z[A]=0;for(A=30491;A<=30494;A++)Z[A]=0;for(A=30729;A<=30732;A++)Z[A]=0;for(A=31251;A<=31259;A++)Z[A]=0;for(A=31265;A<=31268;A++)Z[A]=0;for(A=31275;A<=31279;A++)Z[A]=0;for(A=31281;A<=31297;A++)Z[A]=0;for(A=31461;A<=31469;A++)Z[A]=0;for(A=31491;A<=31495;A++)Z[A]=0;for(A=31917;A<=31922;A++)Z[A]=0;for(A=31965;A<=32e3;A++)Z[A]=0;for(A=32001;A<=32003;A++)Z[A]=2;for(A=32005;A<=32031;A++)Z[A]=2;for(A=32033;A<=32060;A++)Z[A]=2;for(A=32064;A<=32067;A++)Z[A]=2;for(A=32074;A<=32077;A++)Z[A]=2;for(A=32081;A<=32086;A++)Z[A]=0;for(A=32107;A<=32130;A++)Z[A]=0;for(A=32133;A<=32159;A++)Z[A]=0;for(A=32164;A<=32167;A++)Z[A]=2;for(A=32180;A<=32199;A++)Z[A]=0;for(A=32201;A<=32260;A++)Z[A]=0;for(A=32301;A<=32360;A++)Z[A]=0;for(A=32401;A<=32460;A++)Z[A]=0;for(A=32501;A<=32560;A++)Z[A]=0;for(A=32601;A<=32662;A++)Z[A]=0;for(A=32664;A<=32667;A++)Z[A]=2;for(A=32701;A<=32761;A++)Z[A]=0;for(A=53001;A<=53004;A++)Z[A]=0;for(A=53008;A<=53019;A++)Z[A]=0;for(A=53021;A<=53032;A++)Z[A]=0;for(A=53034;A<=53037;A++)Z[A]=0;for(A=53042;A<=53046;A++)Z[A]=0;for(A=53074;A<=53080;A++)Z[A]=0;for(A=54001;A<=54004;A++)Z[A]=0;for(A=54008;A<=54019;A++)Z[A]=0;for(A=54021;A<=54032;A++)Z[A]=0;for(A=54034;A<=54037;A++)Z[A]=0;for(A=54042;A<=54046;A++)Z[A]=0;for(A=54048;A<=54053;A++)Z[A]=0;for(A=54074;A<=54080;A++)Z[A]=0;for(A=54090;A<=54096;A++)Z[A]=0;for(A=54098;A<=54101;A++)Z[A]=0;for(A=65161;A<=65163;A++)Z[A]=0;for(A=102001;A<=102040;A++)Z[A]=0;for(A=102042;A<=102063;A++)Z[A]=0;for(A=102065;A<=102067;A++)Z[A]=0;for(A=102070;A<=102117;A++)Z[A]=0;for(A=102122;A<=102216;A++)Z[A]=0;for(A=102221;A<=102377;A++)Z[A]=0;for(A=102382;A<=102388;A++)Z[A]=0;for(A=102389;A<=102398;A++)Z[A]=2;for(A=102399;A<=102444;A++)Z[A]=0;for(A=102445;A<=102447;A++)Z[A]=2;for(A=102448;A<=102458;A++)Z[A]=0;for(A=102459;A<=102468;A++)Z[A]=2;for(A=102469;A<=102499;A++)Z[A]=0;for(A=102500;A<=102519;A++)Z[A]=1;for(A=102520;A<=102524;A++)Z[A]=0;for(A=102525;A<=102529;A++)Z[A]=2;for(A=102530;A<=102588;A++)Z[A]=0;for(A=102590;A<=102598;A++)Z[A]=0;for(A=102601;A<=102603;A++)Z[A]=0;for(A=102605;A<=102628;A++)Z[A]=0;for(A=102629;A<=102646;A++)Z[A]=2;for(A=102648;A<=102700;A++)Z[A]=2;for(A=102701;A<=102703;A++)Z[A]=0;for(A=102707;A<=102730;A++)Z[A]=2;for(A=102733;A<=102758;A++)Z[A]=2;for(A=102767;A<=102900;A++)Z[A]=0;for(A=102901;A<=102933;A++)Z[A]=2;for(A=102934;A<=102950;A++)Z[A]=13;for(A=102951;A<=102963;A++)Z[A]=0;for(A=102965;A<=102969;A++)Z[A]=0;for(A=102971;A<=102973;A++)Z[A]=0;for(A=102975;A<=102989;A++)Z[A]=0;for(A=102990;A<=102992;A++)Z[A]=1;for(A=102997;A<=103002;A++)Z[A]=0;for(A=103003;A<=103008;A++)Z[A]=2;for(A=103009;A<=103011;A++)Z[A]=0;for(A=103012;A<=103014;A++)Z[A]=2;for(A=103019;A<=103021;A++)Z[A]=0;for(A=103022;A<=103024;A++)Z[A]=2;for(A=103029;A<=103031;A++)Z[A]=0;for(A=103032;A<=103034;A++)Z[A]=2;for(A=103065;A<=103068;A++)Z[A]=0;for(A=103074;A<=103076;A++)Z[A]=0;for(A=103077;A<=103079;A++)Z[A]=1;for(A=103080;A<=103082;A++)Z[A]=0;for(A=103083;A<=103085;A++)Z[A]=2;for(A=103090;A<=103093;A++)Z[A]=0;for(A=103097;A<=103099;A++)Z[A]=0;for(A=103100;A<=103102;A++)Z[A]=2;for(A=103107;A<=103109;A++)Z[A]=0;for(A=103110;A<=103112;A++)Z[A]=2;for(A=103113;A<=103116;A++)Z[A]=0;for(A=103117;A<=103120;A++)Z[A]=2;for(A=103153;A<=103157;A++)Z[A]=0;for(A=103158;A<=103162;A++)Z[A]=2;for(A=103163;A<=103165;A++)Z[A]=0;for(A=103166;A<=103168;A++)Z[A]=1;for(A=103169;A<=103171;A++)Z[A]=2;for(A=103186;A<=103188;A++)Z[A]=0;for(A=103189;A<=103191;A++)Z[A]=2;for(A=103192;A<=103195;A++)Z[A]=0;for(A=103196;A<=103199;A++)Z[A]=2;for(A=103200;A<=103224;A++)Z[A]=0;for(A=103225;A<=103227;A++)Z[A]=1;for(A=103232;A<=103237;A++)Z[A]=0;for(A=103238;A<=103243;A++)Z[A]=2;for(A=103244;A<=103246;A++)Z[A]=0;for(A=103247;A<=103249;A++)Z[A]=2;for(A=103254;A<=103256;A++)Z[A]=0;for(A=103257;A<=103259;A++)Z[A]=2;for(A=103264;A<=103266;A++)Z[A]=0;for(A=103267;A<=103269;A++)Z[A]=2;for(A=103300;A<=103375;A++)Z[A]=0;for(A=103381;A<=103383;A++)Z[A]=0;for(A=103384;A<=103386;A++)Z[A]=1;for(A=103387;A<=103389;A++)Z[A]=0;for(A=103390;A<=103392;A++)Z[A]=2;for(A=103397;A<=103399;A++)Z[A]=0;for(A=103400;A<=103471;A++)Z[A]=2;for(A=103476;A<=103478;A++)Z[A]=0;for(A=103479;A<=103481;A++)Z[A]=2;for(A=103486;A<=103488;A++)Z[A]=0;for(A=103489;A<=103491;A++)Z[A]=2;for(A=103492;A<=103495;A++)Z[A]=0;for(A=103496;A<=103499;A++)Z[A]=2;for(A=103528;A<=103543;A++)Z[A]=0;for(A=103544;A<=103548;A++)Z[A]=2;for(A=103549;A<=103551;A++)Z[A]=0;for(A=103552;A<=103554;A++)Z[A]=1;for(A=103555;A<=103557;A++)Z[A]=2;for(A=103558;A<=103560;A++)Z[A]=0;for(A=103571;A<=103573;A++)Z[A]=0;for(A=103574;A<=103576;A++)Z[A]=2;for(A=103577;A<=103580;A++)Z[A]=0;for(A=103581;A<=103583;A++)Z[A]=2;for(A=103595;A<=103694;A++)Z[A]=0;for(A=103696;A<=103699;A++)Z[A]=0;for(A=103700;A<=103793;A++)Z[A]=2;for(A=103794;A<=103890;A++)Z[A]=0;for(A=103891;A<=103896;A++)Z[A]=2;for(A=103900;A<=103971;A++)Z[A]=2;for(A=103972;A<=103977;A++)Z[A]=0;for(A=112e3;A<=112101;A++)Z[A]=0;const Tz=[102100,102113,3857,3785,900913],qrt=[104905,104971],Hrt=[4326,...Tz,...qrt],ng=[-20037508342788905e-9,20037508342788905e-9],GS=[-20037508342787e-6,20037508342787e-6],$6={wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:ng,origin:GS,dx:1e-5},Ez={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:ng,origin:GS,dx:1e-5},102100:$6,3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:ng,origin:GS,dx:1e-5},3857:$6,4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},900913:$6};function Sn(t,e){if(t===e)return!0;if(t==null||e==null)return!1;const i=t.wkid,n=e.wkid;if(i!=null||n!=null){if(i===n||al(t)&&al(e))return!0;const y=t.latestWkid;if(y!=null&&n===y)return!0;const b=e.latestWkid;return b!=null&&i===b}let a,d;return t.wkt2&&e.wkt2?(a=t.wkt2,d=e.wkt2):t.wkt&&e.wkt&&(a=t.wkt,d=e.wkt),!(!a||!d)&&a.toUpperCase()===d.toUpperCase()}function us(t){const e=t?.wkid;return e!=null&&e>=2e3&&Ez[e]||null}function Mz(t){if(!t)return;const{wkid:e,vcsWkid:i}=t;if(e)return i?JSON.stringify({wkid:e,vcsWkid:i}):String(e);const n=t.wkt||t.wkt2;return JSON.stringify(n?i?{wkt:n,vcsWkid:i}:{wkt:n}:{})}function qp(t){if(!oo(t))return!1;const{wkid:e}=t;if(e)return Z[e]==null;const i=t.wkt2||t.wkt;return!!i&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(i)}function Vrt(t){return!(Az(t)||Rz(t))}function Pf(t){return t?.wkid===4326}function qEt(t){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(t)}function L$(t){return t?.wkid===kf.CGCS2000}function al(t){const e=t?.wkid;return e!=null&&e>=2e3&&Tz.includes(e)}function Wrt(t){return t?.wkid===32662}function h5(t){return t===kf.GCSMARS2000||t===kf.GCSMARS2000_SPHERE}function Az(t){return h5(t?.wkid)}function f5(t){return t===kf.GCSMOON2000}function Rz(t){return f5(t?.wkid)}function Jrt(t){const e=t?.wkid;return e!=null&&e>=2e3&&Hrt.includes(e)}function oo(t){if(t==null)return!1;const e=t.wkid;return e!=null&&e>=2e3||t.wkt2!=null||t.wkt!=null}const Cz={wkid:4326,wkt:ej(Ez[4326].wkTemplate,{Central_Meridian:"0.0"})},Oz={wkid:102100,latestWkid:3857},Yrt={wkid:32662};function BT(t){return{wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${t.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`}}const Krt=BT(_r),GT=BT(il),qT=BT(Hc),Xrt={wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${_r.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`},Zrt=GT.wkt.toUpperCase(),Qrt=qT.wkt.toUpperCase();function tnt(t){if(t!=null&&oo(t)){const e=t.wkid,i=t.wkt2??t.wkt;if(h5(e))return il;const n=i?.toUpperCase();if(i&&n===Zrt)return il;if(f5(e)||n&&n===Qrt)return Hc}return _r}function HEt(t){return h5(t)?il:f5(t)?Hc:_r}function Qb(t){return Sn(t,Krt)}function Vc(t){return Qb(t)||Sn(t,GT)||Sn(t,qT)}const VEt=39.37,ent=_r.radius*Math.PI/200,$z=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,bp=Z,Nz=/UNIT\[([^\]]+)]/i,int=new Set([4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104025,104026,104139,104140]),rnt=He()({millimeter:"millimeters",centimeter:"centimeters",meter:"meters",meter_german:"german-meters",kilometer:"kilometers",decimeter:"decimeters",micrometer:"micrometers",nanometer:"nanometers","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",fathom:"fathoms",nautical_mile:"nautical-miles",chain_us:"us-chains",link_us:"us-links",mile_us:"us-miles",yard_clarke:"clarke-yards",chain_clarke:"clarke-chains",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",link_sears:"sears-links",yard_benoit_1895_a:"benoit-1895-a-yards",foot_benoit_1895_a:"benoit-1895-a-feet",chain_benoit_1895_a:"benoit-1895-a-chains",link_benoit_1895_a:"benoit-1895-a-links",yard_benoit_1895_b:"benoit-1895-b-yards",foot_benoit_1895_b:"benoit-1895-b-feet",chain_benoit_1895_b:"benoit-1895-b-chains",link_benoit_1895_b:"benoit-1895-b-links",foot_1865:"1865-feet",foot_indian:"indian-feet",foot_indian_1937:"indian-1937-feet",foot_indian_1962:"indian-1962-feet",foot_indian_1975:"indian-1975-feet",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",yard_indian_1962:"indian-1962-yards",yard_indian_1975:"indian-1975-yards",statute_mile:"statute-miles",foot_gold_coast:"gold-coast-feet",foot_british_1936:"british-1936-feet",yard:"yards",chain:"chains",link:"links",yard_sears_1922_truncated:"sears-1922-truncated-yards",foot_sears_1922_truncated:"sears-1922-truncated-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains",link_sears_1922_truncated:"sears-1922-truncated-links",yard_us:"us-yards",inch:"inches",inch_us:"us-inches",rod:"rods",rod_us:"us-rods",nautical_mile_us:"us-nautical-miles",nautical_mile_uk:"uk-nautical-miles",smoot:"smoots",vara_tx:"tx-vara",point:"points"}),ra=t=>t*t,Gu=t=>t*t*t,sg={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},meters:{inBaseUnits:1},feet:{inBaseUnits:.3048},"us-feet":{inBaseUnits:.3048006096012192},"clarke-feet":{inBaseUnits:.3047972654},fathoms:{inBaseUnits:1.8288},"nautical-miles":{inBaseUnits:1852},"german-meters":{inBaseUnits:1.0000135965},"us-chains":{inBaseUnits:20.11684023368047},"us-links":{inBaseUnits:.2011684023368047},"us-miles":{inBaseUnits:1609.347218694438},kilometers:{inBaseUnits:1e3},"clarke-yards":{inBaseUnits:.9143917962},"clarke-chains":{inBaseUnits:20.1166195164},"clarke-links":{inBaseUnits:.201166195164},"sears-yards":{inBaseUnits:.9143984146160287},"sears-feet":{inBaseUnits:.3047994715386762},"sears-chains":{inBaseUnits:20.11676512155263},"sears-links":{inBaseUnits:.2011676512155263},"benoit-1895-a-yards":{inBaseUnits:.9143992},"benoit-1895-a-feet":{inBaseUnits:.3047997333333333},"benoit-1895-a-chains":{inBaseUnits:20.1167824},"benoit-1895-a-links":{inBaseUnits:.201167824},"benoit-1895-b-yards":{inBaseUnits:.9143992042898124},"benoit-1895-b-feet":{inBaseUnits:.3047997347632708},"benoit-1895-b-chains":{inBaseUnits:20.11678249437587},"benoit-1895-b-links":{inBaseUnits:.2011678249437587},"1865-feet":{inBaseUnits:.3048008333333334},"indian-feet":{inBaseUnits:.3047995102481469},"indian-1937-feet":{inBaseUnits:.30479841},"indian-1962-feet":{inBaseUnits:.3047996},"indian-1975-feet":{inBaseUnits:.3047995},"indian-yards":{inBaseUnits:.9143985307444408},"indian-1937-yards":{inBaseUnits:.91439523},"indian-1962-yards":{inBaseUnits:.9143988},"indian-1975-yards":{inBaseUnits:.9143985},miles:{inBaseUnits:1609.344},"statute-miles":{inBaseUnits:1609.344},"gold-coast-feet":{inBaseUnits:.3047997101815088},"british-1936-feet":{inBaseUnits:.3048007491},yards:{inBaseUnits:.9144},chains:{inBaseUnits:20.1168},links:{inBaseUnits:.201168},"sears-1922-truncated-yards":{inBaseUnits:.914398},"sears-1922-truncated-feet":{inBaseUnits:.3047993333333334},"sears-1922-truncated-chains":{inBaseUnits:20.116756},"sears-1922-truncated-links":{inBaseUnits:.20116756},"us-yards":{inBaseUnits:.9144018288036576},decimeters:{inBaseUnits:.1},inches:{inBaseUnits:.0254},"us-inches":{inBaseUnits:.0254000508001016},rods:{inBaseUnits:5.0292},"us-rods":{inBaseUnits:5.029210058420118},"us-nautical-miles":{inBaseUnits:1853.248},"uk-nautical-miles":{inBaseUnits:1853.184},smoots:{inBaseUnits:1.7018},"tx-vara":{inBaseUnits:.8466683600033867},points:{inBaseUnits:.0003527777777777778},micrometers:{inBaseUnits:1e-6},nanometers:{inBaseUnits:1e-9},"50-kilometers":{inBaseUnits:5e4},"150-kilometers":{inBaseUnits:15e4}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:ra(.001)},"square-centimeters":{inBaseUnits:ra(.01)},"square-decimeters":{inBaseUnits:ra(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:ra(1e3)},"square-inches":{inBaseUnits:ra(.0254)},"square-feet":{inBaseUnits:ra(.3048)},"square-yards":{inBaseUnits:ra(.9144)},"square-miles":{inBaseUnits:ra(1609.344)},"square-nautical-miles":{inBaseUnits:ra(1852)},"square-us-feet":{inBaseUnits:ra(1200/3937)},acres:{inBaseUnits:.0015625*ra(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*Gu(.001)},"cubic-centimeters":{inBaseUnits:1e3*Gu(.01)},"cubic-decimeters":{inBaseUnits:1e3*Gu(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*Gu(1e3)},"cubic-inches":{inBaseUnits:1e3*Gu(.0254)},"cubic-feet":{inBaseUnits:1e3*Gu(.3048)},"cubic-yards":{inBaseUnits:1e3*Gu(.9144)},"cubic-miles":{inBaseUnits:1e3*Gu(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},nnt=(()=>{const t={};for(const e in sg)for(const i in sg[e].units)t[i]=e;return t})();function snt(t,e,i){return t*sg[i].units[e].inBaseUnits}function ont(t,e,i){return t/sg[i].units[e].inBaseUnits}const ant=["inches","feet","yards","miles","nautical-miles","us-feet","millimeters","centimeters","decimeters","meters","kilometers"],lnt=["metric","imperial"],kz=[...lnt,...ant],unt=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);function qS(t){const e=nnt[t];if(!e)throw new Error("unknown type");return e}function j$(t,e=null){return e=e||qS(t),sg[e].baseUnit===t}function $r(t,e,i){if(e===i)return t;const n=qS(e);if(n!==qS(i))throw new Error("incompatible units");const a=j$(e,n)?t:snt(t,e,n);return j$(i,n)?a:ont(a,i,n)}function WEt(t,e,i,n=!1){if(!n&&qp(e))throw new Error("Unable to convert from an angular unit to a linear unit.");const a=Jf(e);return a!==i&&(t=a?$r(t,a,i):$r(t*=fl(e),"meters",i)),t}function JEt(t,e,i,n=!1){if(!n&&qp(i))throw new Error("Unable to convert from a linear unit to an angular unit.");const a=Jf(i);return e!==a&&(t=a?$r(t,e,a):$r(t,e,"meters")/fl(i)),t}function cnt(t){switch(t){case"metric":return"meters";case"imperial":return"feet";default:return t}}function YEt(t){return cnt(t)}function KEt(t){switch(t){case"metric":return"square-meters";case"imperial":return"square-feet";default:return t}}function XEt(t,e){const i=$r(t,e,"meters");return Math.abs(i)<3e3?"meters":"kilometers"}function ZEt(t,e){const i=$r(t,e,"meters");return Math.abs(i)<1e5?"meters":"kilometers"}function QEt(t,e){const i=$r(t,e,"feet");return Math.abs(i)<1e3?"feet":"miles"}function tMt(t,e){const i=$r(t,e,"feet");return Math.abs(i)<1e5?"feet":"miles"}function eMt(t,e){const i=$r(t,e,"square-meters");return Math.abs(i)<3e6?"square-meters":"square-kilometers"}function iMt(t,e){const i=$r(t,e,"square-feet");return Math.abs(i)<1e6?"square-feet":"square-miles"}function hnt(t,e,i){return $r(t,e,"meters")/(i*Math.PI/180)}function HT(t){return rnt.fromJSON(t.toLowerCase())||null}function z$(t){if(t!=null&&!Vrt(t))return 1;const e=fl(t);return e>1e5?1:e}function Pz(t){return fl(t)>=tnt(t).metersPerDegree?"meters":Jf(t)}function fl(t,e=_r.metersPerDegree){return fnt(t,!0)??e}function fnt(t,e=!1){const i=t?.wkid??null,n=t?.wkt2??t?.wkt??null;let a=null;if(i){if(h5(i))return il.metersPerDegree;if(f5(i))return Hc.metersPerDegree;a=bp.values[bp[i]],!a&&e&&int.has(i)&&(a=ent)}else n&&(Lz(n)?a=U$($z.exec(n),a):Dz(n)&&(a=U$(Nz.exec(n),a)));return a}function rMt(t){return qp(t)?1:fl(t)}function U$(t,e){return t?.[1]?Iz(t[1]):e}function Iz(t){return parseFloat(t.split(",")[1])}function Jf(t){const e=t?.wkid??null,i=t?.wkt2??t?.wkt??null;let n=null;if(e)n=bp.units[bp[e]];else if(i){const a=Lz(i)?$z:Dz(i)?Nz:null;if(a){const d=a.exec(i);d?.[1]&&(n=pnt(d[1]))}}return n!=null?HT(n):null}function nMt(t){const e=Jf(t);return e!=null&&kz.includes(e)?e:null}function sMt(t){const e=Pz(t);return e!=null&&kz.includes(e)?e:null}function oMt(t){const e=Jf(t);return e==null?null:unt.get(e)}function Dz(t){return/^GEOCCS/i.test(t)}function Lz(t){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(t)}const dnt=1e-7;function pnt(t){let i=/[\\"']{1}([^\\"']+)/.exec(t)?.[1];if(!i||!HT(i)){const n=Iz(t);i=null;const a=bp.values;for(let d=0;d<a.length;++d)if(Math.abs(n-a[d])<dnt){i=bp.units[d];break}}return i}function aMt(t){const e=Jf(t);if(e==null)return null;switch(e){case"feet":case"us-feet":case"clarke-feet":case"fathoms":case"nautical-miles":case"us-chains":case"us-links":case"us-miles":case"clarke-yards":case"clarke-chains":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"sears-links":case"benoit-1895-a-yards":case"benoit-1895-a-feet":case"benoit-1895-a-chains":case"benoit-1895-a-links":case"benoit-1895-b-yards":case"benoit-1895-b-feet":case"benoit-1895-b-chains":case"benoit-1895-b-links":case"1865-feet":case"indian-feet":case"indian-1937-feet":case"indian-1962-feet":case"indian-1975-feet":case"indian-yards":case"indian-1937-yards":case"indian-1962-yards":case"indian-1975-yards":case"statute-miles":case"gold-coast-feet":case"british-1936-feet":case"yards":case"chains":case"links":case"sears-1922-truncated-yards":case"sears-1922-truncated-feet":case"sears-1922-truncated-chains":case"sears-1922-truncated-links":case"us-yards":case"inches":case"us-inches":case"rods":case"us-rods":case"us-nautical-miles":case"uk-nautical-miles":case"smoots":case"tx-vara":case"points":return"imperial";case"millimeters":case"centimeters":case"meters":case"german-meters":case"kilometers":case"decimeters":case"micrometers":case"nanometers":case"50-kilometers":case"150-kilometers":return"metric"}return null}const ynt={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},mnt={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},gnt={esriDUDecimalDegrees:"degrees",esriDURadians:"radians"},lMt=He()(ynt),uMt=He()(mnt),cMt=He()(gnt);var ja,tl;let le=(tl=class extends Zt{static fromJSON(e){if(!e)return null;if(e?.wkid===102100)return ja.WebMercator;if(e?.wkid===4326)return ja.WGS84;const i=new ja;return i.read(e),i}constructor(e){super(e),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(e){return e&&typeof e=="object"?e:{[typeof e=="string"?"wkt":"wkid"]:e}}get isWGS84(){return Pf(this)}get isWebMercator(){return al(this)}get isGeographic(){return qp(this)}get isWrappable(){return Jrt(this)}get metersPerUnit(){return fl(this)}get unit(){return Jf(this)||(this.isGeographic?"degrees":null)}writeWkt(e,i){this.wkid||(i.wkt=e)}clone(){if(this===ja.WGS84)return new ja(Cz);if(this===ja.WebMercator)return new ja(Oz);const e=new ja;return this.wkid!=null?(e.wkid=this.wkid,this.latestWkid!=null&&(e.latestWkid=this.latestWkid),this.vcsWkid!=null&&(e.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(e.latestVcsWkid=this.latestVcsWkid)):(this.wkt!=null&&(e.wkt=this.wkt),this.wkt2!=null&&(e.wkt2=this.wkt2)),this.imageCoordinateSystem&&(e.imageCoordinateSystem=Ht(this.imageCoordinateSystem)),e}equals(e){if(e==null)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(this.imageCoordinateSystem==null||e.imageCoordinateSystem==null)return!1;const{id:i,referenceServiceName:n}=e.imageCoordinateSystem,{geodataXform:a}=e.imageCoordinateSystem,d=this.imageCoordinateSystem;return i==null||a?JSON.stringify(d)===JSON.stringify(e.imageCoordinateSystem):n?d.id===i&&d.referenceServiceName===n:d.id===i}return Sn(this,e)}toJSON(e){return this.write(void 0,e)}},ja=tl,tl.GCS_NAD_1927=null,tl.WGS84=null,tl.WebMercator=null,tl.PlateCarree=null,tl);E([N({readOnly:!0})],le.prototype,"isWGS84",null),E([N({readOnly:!0})],le.prototype,"isWebMercator",null),E([N({readOnly:!0})],le.prototype,"isGeographic",null),E([N({readOnly:!0})],le.prototype,"isWrappable",null),E([N({type:Hi,json:{write:!0}})],le.prototype,"latestWkid",void 0),E([N({readOnly:!0})],le.prototype,"metersPerUnit",null),E([N({readOnly:!0})],le.prototype,"unit",null),E([N({type:Hi,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt==null}}}}}}})],le.prototype,"wkid",void 0),E([N({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid==null}}}}}}})],le.prototype,"wkt",void 0),E([Pe("wkt"),Pe("web-scene","wkt")],le.prototype,"writeWkt",null),E([N({type:String,json:{write:!1}})],le.prototype,"wkt2",void 0),E([N({type:Hi,json:{write:!0}})],le.prototype,"vcsWkid",void 0),E([N({type:Hi,json:{write:!0}})],le.prototype,"latestVcsWkid",void 0),E([N()],le.prototype,"imageCoordinateSystem",void 0),le=ja=E([ut("esri.geometry.SpatialReference")],le),le.prototype.toJSON.isDefaultToJSON=!0,le.GCS_NAD_1927=ve.freeze(new le({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'})),le.WGS84=ve.freeze(new le(Cz)),le.WebMercator=ve.freeze(new le(Oz)),le.PlateCarree=ve.freeze(new le(Yrt));let gn=class extends Zt{constructor(...e){super(...e),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=le.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(e,i){if(e instanceof le)return e;if(e!=null){const n=new le;return n.read(e,i),n}return e}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(e){return this.cache[e]}setCacheValue(e,i){this.cache[e]=i}};E([N()],gn.prototype,"type",void 0),E([N({readOnly:!0})],gn.prototype,"cache",null),E([N({readOnly:!0})],gn.prototype,"extent",null),E([N({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],gn.prototype,"hasM",void 0),E([N({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],gn.prototype,"hasZ",void 0),E([N({type:le,json:{write:!0},value:le.WGS84})],gn.prototype,"spatialReference",void 0),E([Ne("spatialReference")],gn.prototype,"readSpatialReference",null),gn=E([ut("esri.geometry.Geometry")],gn);function We(t){if(t&&typeof t=="object"&&"type"in t&&t.type==="mesh")throw new Lt("internal:mesh","Mesh geometries are not supported for this operation")}function vnt(t){t.forEach(We)}const bnt=57.29577951308232,wnt=.017453292519943;function F$(t){return t*bnt}function B$(t){return t*wnt}function fMt(t){return Math.PI/2-2*Math.atan(Math.exp(-t/_r.radius))}function HS(t){return t.wkid!=null||t.wkt!=null}const N6=[0,0];function tw(t,e,i,n,a){const d=t,y=a;if(y.spatialReference=i,"x"in d&&"x"in y)[y.x,y.y]=e(d.x,d.y,N6,n);else if("xmin"in d&&"xmin"in y)[y.xmin,y.ymin]=e(d.xmin,d.ymin,N6,n),[y.xmax,y.ymax]=e(d.xmax,d.ymax,N6,n);else if("paths"in d&&"paths"in y||"rings"in d&&"rings"in y){const b="paths"in d?d.paths:d.rings,S=[];let T;for(let C=0;C<b.length;C++){const k=b[C];T=[],S.push(T);for(let D=0;D<k.length;D++)T.push(e(k[D][0],k[D][1],[0,0],n)),k[D].length>2&&T[D].push(k[D][2]),k[D].length>3&&T[D].push(k[D][3])}"paths"in y?y.paths=S:y.rings=S}else if("points"in d&&"points"in y){const b=d.points,S=[];for(let T=0;T<b.length;T++)S[T]=e(b[T][0],b[T][1],[0,0],n),b[T].length>2&&S[T].push(b[T][2]),b[T].length>3&&S[T].push(b[T][3]);y.points=S}return a}function R3(t,e){const i=t&&(HS(t)?t:t.spatialReference),n=e&&(HS(e)?e:e.spatialReference);return!(t&&"type"in t&&t.type==="mesh"||e&&"type"in e&&e.type==="mesh"||!i||!n)&&(!!Sn(n,i)||al(n)&&Pf(i)||al(i)&&Pf(n))}function d5(t,e){if(t==null)return null;const i=t.spatialReference,n=e&&(HS(e)?e:e.spatialReference);return R3(i,n)?Sn(i,n)?Ht(t):al(n)?tw(t,d0,le.WebMercator,!1,Ht(t)):Pf(n)?tw(t,p5,le.WGS84,!1,Ht(t)):null:null}function d0(t,e,i=[0,0]){e>89.99999?e=89.99999:e<-89.99999&&(e=-89.99999);const n=B$(e);return i[0]=B$(t)*_r.radius,i[1]=_r.halfSemiMajorAxis*Math.log((1+Math.sin(n))/(1-Math.sin(n))),i}function p5(t,e,i=[0,0],n=!1){if(t===ng[0])i[0]=-180;else if(t===ng[1])i[0]=180;else{const a=F$(t/_r.radius);i[0]=n?a:a-360*Math.floor((a+180)/360)}return i[1]=F$(Math.PI/2-2*Math.atan(Math.exp(-e/_r.radius))),i}function mf(t,e=!1,i=Ht(t)){return We(t),We(i),tw(t,d0,le.WebMercator,e,i)}function Py(t,e=!1,i=Ht(t)){return We(t),We(i),tw(t,p5,le.WGS84,e,i)}function jz(t,e){const i=t.x-e.x,n=t.y-e.y,a=t.z!=null&&e.z!=null?t.z-e.z:0;return Math.sqrt(i*i+n*n+a*a)}function _nt(t){return zz(t,Uz)?.[0]??null}function Snt(t){return zz(t,Uz)?.[1]??null}function zz({x:t,y:e,spatialReference:i},n=[0,0]){if(i){if(al(i))return p5(t,e,n);if(qp(i))return n[0]=t,n[1]=e,n}return null}const Uz=[0,0];var C3;const k6=[0,0];function G$(t){return t&&(t.declaredClass==="esri.geometry.SpatialReference"||t.wkid!=null)}let ue=C3=class extends gn{static copy(t,e){e._set("x",t._get("x")),e._set("y",t._get("y")),e._set("z",t._get("z")),e._set("m",t._get("m"));const i=t._get("spatialReference");e._set("spatialReference",ve.isFrozen(i)?i:i.clone())}constructor(...t){super(...t),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(t,e,i,n,a){let d;if(Array.isArray(t))d=t,a=e,t=d[0],e=d[1],i=d[2],n=d[3];else if(t&&typeof t=="object"){if(d=t,t=d.x!=null?d.x:d.longitude,e=d.y!=null?d.y:d.latitude,i=d.z,n=d.m,(a=d.spatialReference)&&a.declaredClass!=="esri.geometry.SpatialReference"&&(a=new le(a)),d.longitude!=null||d.latitude!=null){if(d.longitude==null)ae.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(d.latitude==null)ae.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!d.declaredClass&&a?.isWebMercator){const b=d0(d.longitude,d.latitude,k6);t=b[0],e=b[1]}}}else G$(i)?(a=i,i=null):G$(n)&&(a=n,n=null);const y={x:t,y:e};return y.x==null&&y.y!=null?ae.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):y.y==null&&y.x!=null&&ae.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),a!=null&&(y.spatialReference=a),i!=null&&(y.z=i),n!=null&&(y.m=n),y}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(t){t!==(this._get("m")!==void 0)&&(this._set("m",t?0:void 0),this._set("hasM",t))}get hasZ(){return this.z!==void 0}set hasZ(t){t!==(this._get("z")!==void 0)&&(this._set("z",t?0:void 0),this._set("hasZ",t))}get latitude(){return Snt(this)}set latitude(t){const{spatialReference:e,x:i}=this;t!=null&&e&&(e.isWebMercator?this._set("y",d0(i,t,k6)[1]):e.isGeographic&&this._set("y",t),this._set("latitude",t))}get longitude(){return _nt(this)}set longitude(t){const{y:e,spatialReference:i}=this;t!=null&&i&&(i.isWebMercator?this._set("x",d0(t,e,k6)[0]):i.isGeographic&&this._set("x",t),this._set("longitude",t))}writeX(t,e,i){e[i]=isNaN(t)?"NaN":t}readX(t){return typeof t=="string"?NaN:t}clone(){const t=new C3;return t.x=this.x,t.y=this.y,t.z=this.z,t.m=this.m,t.spatialReference=this.spatialReference,t}copy(t){return C3.copy(t,this),this}equals(t){if(t==null)return!1;const{x:e,y:i,z:n,m:a,spatialReference:d}=this,{z:y,m:b}=t;let{x:S,y:T,spatialReference:C}=t;if(!d.equals(C))if(d.isWebMercator&&C.isWGS84)[S,T]=d0(S,T),C=d;else{if(!d.isWGS84||!C.isWebMercator)return!1;[S,T]=p5(S,T),C=d}return e===S&&i===T&&n===y&&a===b&&d.wkid===C.wkid}offset(t,e,i){return this.x+=t,this.y+=e,i!=null&&(this.z=(this.z??0)+i),this}normalize(){if(!this.spatialReference)return this;const t=us(this.spatialReference);if(!t)return this;let e=this.x;const[i,n]=t.valid,a=2*n;let d;return e>n?(d=Math.ceil(Math.abs(e-n)/a),e-=d*a):e<i&&(d=Math.ceil(Math.abs(e-i)/a),e+=d*a),this._set("x",e),this}distance(t){return jz(this,t)}toArray(){const t=this.hasZ,e=this.hasM;return t&&e?[this.x,this.y,this.z,this.m]:t?[this.x,this.y,this.z]:e?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(t){return this.write({},t)}};E([N({readOnly:!0})],ue.prototype,"cache",null),E([N({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],ue.prototype,"hasM",null),E([N({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],ue.prototype,"hasZ",null),E([N({type:Number})],ue.prototype,"latitude",null),E([N({type:Number})],ue.prototype,"longitude",null),E([N({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),on((t=>isNaN(t)?t:no(t)))],ue.prototype,"x",void 0),E([Pe("x")],ue.prototype,"writeX",null),E([Ne("x")],ue.prototype,"readX",null),E([N({type:Number,json:{write:!0}})],ue.prototype,"y",void 0),E([N({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],ue.prototype,"z",void 0),E([N({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],ue.prototype,"m",void 0),ue=C3=E([ut("esri.geometry.Point")],ue),ue.prototype.toJSON.isDefaultToJSON=!0;var P6={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var q$;function xnt(){return q$||(q$=1,(function(t){(function(){var e={}.hasOwnProperty;function i(){for(var d="",y=0;y<arguments.length;y++){var b=arguments[y];b&&(d=a(d,n(b)))}return d}function n(d){if(typeof d=="string"||typeof d=="number")return d;if(typeof d!="object")return"";if(Array.isArray(d))return i.apply(null,d);if(d.toString!==Object.prototype.toString&&!d.toString.toString().includes("[native code]"))return d.toString();var y="";for(var b in d)e.call(d,b)&&d[b]&&(y=a(y,b));return y}function a(d,y){return y?d?d+" "+y:d+y:d}t.exports?(i.default=i,t.exports=i):window.classNames=i})()})(P6)),P6.exports}var Tnt=xnt();const VT=sT(Tnt),Ent=({className:t})=>{const{view:e}=Wo(),{position:i,requestLocation:n}=lT(),a=(d,y=2500)=>{e&&e.goTo({target:new ue({latitude:d.latitude,longitude:d.longitude}),zoom:18},{duration:y})};return K.useEffect(()=>{!i||!e||e.when(()=>{a(i,0)})},[i,e]),at.jsx("div",{className:VT("bg-white/70 rounded-md shadow-md",t),children:at.jsx("div",{className:"flex flex-col backdrop-blur-sm rounded-md",children:at.jsx(lo,{variant:"ghost",className:"cursor-pointer size-10 active:bg-accent",onClick:()=>{i?a(i):n()},children:at.jsx(UQ,{})})})})},y5=({onClick:t,className:e,...i})=>at.jsx(lo,{className:Ai("cursor-pointer",e),size:"icon",variant:"ghost",onClick:t,...i,children:at.jsx(ntt,{})}),Fz=K.createContext(void 0),WT=()=>K.useContext(Fz),Bz=K.createContext(void 0),js=()=>K.useContext(Bz);var fu=wL();const Mnt=sT(fu),Ant=()=>{const{view:t}=Wo(),{createInitialRoute:e,addStopFromMap:i}=js(),{popupState:n,setPopupState:a,popupContainer:d,showDirectionsButtons:y}=WT();if(K.useEffect(()=>{!t||!n||t.openPopup({location:n.location,content:d})},[t,n,d]),!t||!n)return null;const b=()=>{t.closePopup(),a(null)};return fu.createPortal(at.jsxs(at.Fragment,{children:[at.jsx(y5,{onClick:()=>{b()},className:"absolute top-0 right-0 z-50"}),at.jsx("div",{className:"mb-1 text-xl font-semibold pr-5",children:n.label}),at.jsxs("div",{className:"text-xs text-gray-400 mb-5",children:[n.coords[1].toFixed(5),", ",n.coords[0].toFixed(5)]}),at.jsxs("div",{className:"flex items-center gap-2.5",children:[y&&at.jsxs(at.Fragment,{children:[at.jsx(lo,{className:"flex-1 cursor-pointer",onClick:()=>{e(void 0,n),b()},children:"Directions"}),at.jsx(lo,{variant:"outline",className:"flex-1 cursor-pointer",onClick:()=>{e(n,void 0),b()},children:"Route From Here"})]}),!y&&at.jsxs(lo,{variant:"outline",className:"flex-1 cursor-pointer",onClick:()=>{i(n.coords,n.label),b()},children:["Add Stop",at.jsx(OQ,{})]})]})]}),d)};function Ce(t,e,i={}){return JT(t,e,i,Gz)}function Ho(t,e,i={}){return JT(t,e,i,qz)}function JT(t,e,i={},n){let a=null;const d=i.once?(y,b)=>{n(y)&&(or(a),e(y,b))}:(y,b)=>{n(y)&&e(y,b)};if(a=Uet(t,d,i.sync,i.equals),i.initial){const y=t();d(y,y)}return a}function If(t,e,i,n={}){let a=null,d=null,y=null;function b(){a&&d&&(d.remove(),n.onListenerRemove?.(a),a=null,d=null)}function S(C){n.once&&n.once&&or(y),i(C)}const T=Ce(t,((C,k)=>{b(),s5(C)&&(a=C,d=Up(C,e,S),n.onListenerAdd?.(C))}),{sync:n.sync,initial:!0});return y=ui((()=>{T.remove(),b()})),y}function YT(t,e){return Rnt(t,qz,e)}function Rnt(t,e,i){if(Go(i))return Promise.reject(Zi());const n=t();if(e?.(n))return Promise.resolve(n);let a=null;function d(){a=or(a)}return new Promise(((y,b)=>{a=Vf([_a(i,(()=>{d(),b(Zi())})),JT(t,(S=>{d(),y(S)}),{sync:!1,once:!0},e??Gz)])}))}function Gz(t){return!0}function qz(t){return!!t}function dMt(t,e,i={}){let n=!1;const a=Ce(t,((d,y)=>{n||e(d,y)}),i);return{remove(){a.remove()},pause(){n=!0},resume(){n=!1}}}const Wc={sync:!0},Qn={initial:!0},ss={sync:!0,initial:!0},Cnt=({className:t})=>{const{view:e}=Wo(),[i,n]=K.useState(0);return K.useEffect(()=>{e&&Ce(()=>e.rotation,a=>{n(a)})},[e]),i===0?null:at.jsx("div",{className:VT("bg-white/70 rounded-md shadow-md",t),children:at.jsx("div",{className:"backdrop-blur-sm rounded-md",children:at.jsx(lo,{variant:"ghost",className:"cursor-pointer size-10 active:bg-accent",onClick:()=>{e?.goTo({rotation:0})},children:at.jsx(rQ,{})})})})},Hz=K.createContext(void 0),Yf=()=>K.useContext(Hz),Vz=({className:t})=>{const{routeResult:e}=js(),{routeMinimized:i,setRouteMinimized:n}=Yf();return i?at.jsx("div",{className:Ai("bg-white/70 rounded-md shadow-md",t),children:at.jsx("div",{className:"flex flex-col backdrop-blur-sm rounded-md",children:at.jsxs(lo,{variant:"ghost",className:Ai("cursor-pointer",e?"h-[46px] gap-2.5 items-start":"size-10"),onClick:()=>n(!1),children:[i&&e&&at.jsxs("div",{className:"flex flex-col text-left",children:[at.jsx("span",{children:e.summary.totalTimeFormatted}),at.jsx("span",{className:"text-[10px] leading-none text-stone-500",children:e.summary.totalLengthFormatted})]}),at.jsx(PQ,{})]})})}):at.jsx(lo,{className:Ai(t),size:"icon",variant:"ghost",onClick:()=>n(!0),children:at.jsx(DQ,{})})},Ont=({className:t})=>{const{view:e}=Wo();return e?at.jsx("div",{className:VT("bg-white/70 rounded-md shadow-md",t),children:at.jsxs("div",{className:"flex flex-col backdrop-blur-sm rounded-md",children:[at.jsx(lo,{variant:"ghost",className:"cursor-pointer size-10 active:bg-accent",onClick:()=>{e.goTo({zoom:e.zoom+1})},children:at.jsx(qQ,{})}),at.jsx("div",{className:"border-b border-black/10 w-[80%] ml-[10%]"}),at.jsx(lo,{variant:"ghost",className:"cursor-pointer size-10 active:bg-accent",onClick:()=>{e.goTo({zoom:e.zoom-1})},children:at.jsx(jQ,{})})]})}):null},KT=(t=768)=>{const[e,i]=K.useState(window.innerWidth<t);return K.useEffect(()=>{const n=()=>{i(window.innerWidth<t)};return window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}},[t]),e};function og(t,e){return e?{...e,query:{...t??{},...e.query}}:{query:t}}function m5(t){return typeof t=="string"?hs(t):Ht(t)}function Wz(t,e,i){const n={};for(const a in t){if(a==="declaredClass")continue;const d=t[a];if(d!=null&&typeof d!="function")if(Array.isArray(d))n[a]=d.map((y=>Wz(y)));else if(typeof d=="object")if(d.toJSON){const y=d.toJSON(i?.[a]);n[a]=e?y:JSON.stringify(y)}else n[a]=e?d:JSON.stringify(d);else n[a]=d}return n}function $nt(t,e){return t?e&&UT(t)?e:zT(t)??qi?.findCredential(t)?.token:null}async function pMt(t,e,i){const n=$nt(t,e);return n||(!qi&&ci.request.useIdentity&&await te(()=>import("./IdentityManager-B2bsi19X.js"),__vite__mapDeps([0,1])),(await qi.getCredential(t,i))?.token)}const I6=[0,0];function Gg(t,e){return e!=null&&rs(t,e.x,e.y,e.z)}function yMt(t,e){if(!e.points?.length)return!1;for(const i of e.points)if(!wp(t,i))return!1;return!0}function Nnt(t,e){const{xmin:i,ymin:n,zmin:a,xmax:d,ymax:y,zmax:b}=e;return t.hasZ&&e.hasZ?rs(t,i,n,a)&&rs(t,i,y,a)&&rs(t,d,y,a)&&rs(t,d,n,a)&&rs(t,i,n,b)&&rs(t,i,y,b)&&rs(t,d,y,b)&&rs(t,d,n,b):rs(t,i,n)&&rs(t,i,y)&&rs(t,d,y)&&rs(t,d,n)}function wp(t,e){return rs(t,e[0],e[1])}function knt(t,e){return rs(t,e[0],e[1],e[2])}function rs(t,e,i,n){return e>=t.xmin&&e<=t.xmax&&i>=t.ymin&&i<=t.ymax&&(n==null||!t.hasZ||n>=t.zmin&&n<=t.zmax)}function XT(t,e){return I6[1]=e.y,I6[0]=e.x,Pnt(t,I6)}function Pnt(t,e){return ZT(t.rings,e)}function ZT(t,e){if(!t)return!1;if(Int(t))return H$(!1,t,e);let i=!1;for(let n=0,a=t.length;n<a;n++)i=H$(i,t[n],e);return i}function Int(t){return!Array.isArray(t[0][0])}function H$(t,e,i){const[n,a]=i;let d=t,y=0;for(let b=0,S=e.length;b<S;b++){y++,y===S&&(y=0);const[T,C]=e[b],[k,D]=e[y];(C<a&&D>=a||D<a&&C>=a)&&T+(a-C)/(D-C)*(k-T)<n&&(d=!d)}return d}function Dnt(t,e){return Gg(t,e)}function Lnt(t,e){const i=t.hasZ&&e.hasZ;let n,a,d;if(t.xmin<=e.xmin){if(n=e.xmin,t.xmax<n)return!1}else if(n=t.xmin,e.xmax<n)return!1;if(t.ymin<=e.ymin){if(a=e.ymin,t.ymax<a)return!1}else if(a=t.ymin,e.ymax<a)return!1;if(i&&e.hasZ){if(t.zmin<=e.zmin){if(d=e.zmin,t.zmax<d)return!1}else if(d=t.zmin,e.zmax<d)return!1}return!0}function jnt(t,e){const{points:i,hasZ:n}=e,a=n?knt:wp;for(const d of i)if(a(t,d))return!0;return!1}const Df=[0,0],Lf=[0,0],jf=[0,0],zf=[0,0],znt=[Df,Lf,jf,zf],Jz=[[jf,Df],[Df,Lf],[Lf,zf],[zf,jf]];function Unt(t,e){return Fnt(t,e.rings)}function Fnt(t,e){Df[0]=t.xmin,Df[1]=t.ymax,Lf[0]=t.xmax,Lf[1]=t.ymax,jf[0]=t.xmin,jf[1]=t.ymin,zf[0]=t.xmax,zf[1]=t.ymin;for(const i of znt)if(ZT(e,i))return!0;for(const i of e){if(!i.length)continue;let n=i[0];if(wp(t,n))return!0;for(let a=1;a<i.length;a++){const d=i[a];if(wp(t,d)||Yz(n,d,Jz))return!0;n=d}}return!1}function Bnt(t,e){Df[0]=t.xmin,Df[1]=t.ymax,Lf[0]=t.xmax,Lf[1]=t.ymax,jf[0]=t.xmin,jf[1]=t.ymin,zf[0]=t.xmax,zf[1]=t.ymin;const i=e.paths;for(const n of i){if(!i.length)continue;let a=n[0];if(wp(t,a))return!0;for(let d=1;d<n.length;d++){const y=n[d];if(wp(t,y)||Yz(a,y,Jz))return!0;a=y}}return!1}const dn=[0,0];function Gnt(t){for(let e=0;e<t.length;e++){const i=t[e];for(let a=0;a<i.length-1;a++){const d=i[a],y=i[a+1];for(let b=e+1;b<t.length;b++)for(let S=0;S<t[b].length-1;S++){const T=t[b][S],C=t[b][S+1];if(VS(d,y,T,C,dn)&&!(dn[0]===d[0]&&dn[1]===d[1]||dn[0]===T[0]&&dn[1]===T[1]||dn[0]===y[0]&&dn[1]===y[1]||dn[0]===C[0]&&dn[1]===C[1]))return!0}}const n=i.length;if(!(n<=4))for(let a=0;a<n-3;a++){let d=n-1;a===0&&(d=n-2);const y=i[a],b=i[a+1];for(let S=a+2;S<d;S++){const T=i[S],C=i[S+1];if(VS(y,b,T,C,dn)&&!(dn[0]===y[0]&&dn[1]===y[1]||dn[0]===T[0]&&dn[1]===T[1]||dn[0]===b[0]&&dn[1]===b[1]||dn[0]===C[0]&&dn[1]===C[1]))return!0}}}return!1}function Yz(t,e,i){for(let n=0;n<i.length;n++)if(VS(t,e,i[n][0],i[n][1]))return!0;return!1}function VS(t,e,i,n,a){const[d,y]=t,[b,S]=e,[T,C]=i,[k,D]=n,z=k-T,G=d-T,B=b-d,H=D-C,X=y-C,et=S-y,rt=H*B-z*et;if(rt===0)return!1;const it=(z*X-H*G)/rt,ot=(B*X-et*G)/rt;return it>=0&&it<=1&&ot>=0&&ot<=1&&(a&&(a[0]=d+it*(b-d),a[1]=y+it*(S-y)),!0)}function qnt(t){switch(t){case"esriGeometryEnvelope":case"extent":return Lnt;case"esriGeometryMultipoint":case"multipoint":return jnt;case"esriGeometryPoint":case"point":return Dnt;case"esriGeometryMultiPatch":case"multipatch":case"esriGeometryPolygon":case"polygon":return Unt;case"esriGeometryPolyline":case"polyline":return Bnt}}var ua;function Hnt(t){return t&&(t.declaredClass==="esri.geometry.SpatialReference"||t.wkid!=null)}function qu(t,e,i){return e==null?i:i==null?e:t(e,i)}let Be=ua=class extends gn{constructor(...t){super(...t),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(t,e,i,n,a){return Hnt(t)?{spatialReference:t,xmin:0,ymin:0,xmax:0,ymax:0}:typeof t=="object"?(t.spatialReference=t.spatialReference==null?le.WGS84:t.spatialReference,t):{xmin:t,ymin:e,xmax:i,ymax:n,spatialReference:a??le.WGS84}}static fromPoint(t){return new ua({xmin:t.x,ymin:t.y,zmin:t.z,xmax:t.x,ymax:t.y,zmax:t.z,spatialReference:t.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const t=new ue({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(t.z=.5*(this.zmin+this.zmax)),this.hasM&&(t.m=.5*(this.mmin+this.mmax)),t}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(t){const e=this.center;return t.z!=null&&this.hasZ?this.offset(t.x-e.x,t.y-e.y,t.z-e.z):this.offset(t.x-e.x,t.y-e.y)}clone(){const t=new ua;return t.xmin=this.xmin,t.ymin=this.ymin,t.xmax=this.xmax,t.ymax=this.ymax,t.spatialReference=this.spatialReference,this.zmin!=null&&(t.zmin=this.zmin,t.zmax=this.zmax),this.mmin!=null&&(t.mmin=this.mmin,t.mmax=this.mmax),t}contains(t){if(!t)return!1;const e=this.spatialReference,i=t.spatialReference;return e&&i&&!e.equals(i)&&R3(e,i)&&(t=e.isWebMercator?mf(t):Py(t,!0)),t.type==="point"?Gg(this,t):t.type==="extent"&&Nnt(this,t)}equals(t){if(this===t)return!0;if(t==null)return!1;const e=this.spatialReference,i=t.spatialReference;return e&&i&&!e.equals(i)&&R3(e,i)&&(t=e.isWebMercator?mf(t):Py(t,!0)),this.xmin===t.xmin&&this.ymin===t.ymin&&this.zmin===t.zmin&&this.mmin===t.mmin&&this.xmax===t.xmax&&this.ymax===t.ymax&&this.zmax===t.zmax&&this.mmax===t.mmax}expand(t){const e=.5*(1-t),i=this.width*e,n=this.height*e;if(this.xmin+=i,this.ymin+=n,this.xmax-=i,this.ymax-=n,this.hasZ){const a=(this.zmax-this.zmin)*e;this.zmin+=a,this.zmax-=a}if(this.hasM){const a=(this.mmax-this.mmin)*e;this.mmin+=a,this.mmax-=a}return this}intersects(t){if(t==null)return!1;t.type==="mesh"&&(t=t.extent);const e=this.spatialReference,i=t.spatialReference;return e&&i&&!Sn(e,i)&&R3(e,i)&&(t=e.isWebMercator?mf(t):Py(t,!0)),qnt(t.type)(this,t)}normalize(){const t=this._normalize(!1,!0);return Array.isArray(t)?t:[t]}offset(t,e,i){return this.xmin+=t,this.ymin+=e,this.xmax+=t,this.ymax+=e,i!=null&&(this.zmin+=i,this.zmax+=i),this}shiftCentralMeridian(){return this._normalize(!0)}union(t){return this===t||(this.xmin=Math.min(this.xmin,t.xmin),this.ymin=Math.min(this.ymin,t.ymin),this.xmax=Math.max(this.xmax,t.xmax),this.ymax=Math.max(this.ymax,t.ymax),(this.hasZ||t.hasZ)&&(this.zmin=qu(Math.min,this.zmin,t.zmin),this.zmax=qu(Math.max,this.zmax,t.zmax)),(this.hasM||t.hasM)&&(this.mmin=qu(Math.min,this.mmin,t.mmin),this.mmax=qu(Math.max,this.mmax,t.mmax))),this}intersection(t){return this===t?this:t!=null&&this.intersects(t)?(this.xmin=Math.max(this.xmin,t.xmin),this.ymin=Math.max(this.ymin,t.ymin),this.xmax=Math.min(this.xmax,t.xmax),this.ymax=Math.min(this.ymax,t.ymax),(this.hasZ||t.hasZ)&&(this.zmin=qu(Math.max,this.zmin,t.zmin),this.zmax=qu(Math.min,this.zmax,t.zmax)),(this.hasM||t.hasM)&&(this.mmin=qu(Math.max,this.mmin,t.mmin),this.mmax=qu(Math.min,this.mmax,t.mmax)),this):null}toJSON(t){return this.write({},t)}_shiftCM(t=us(this.spatialReference)){if(!t||!this.spatialReference)return this;const e=this.spatialReference,i=this._getCM(t);if(i){const n=e.isWebMercator?Py(i):i;this.xmin-=i.x,this.xmax-=i.x,e.isWebMercator||(n.x=D6(n.x,t).x),this.spatialReference=new le(ej((e.isWGS84?t.altTemplate:null)??t.wkTemplate,{Central_Meridian:n.x}))}return this}_getCM(t){let e=null;const[i,n]=t.valid,a=this.xmin,d=this.xmax;return a>=i&&a<=n&&d>=i&&d<=n||(e=this.center),e}_normalize(t,e,i){const n=this.spatialReference;if(!n)return this;const a=i??us(n);if(a==null)return this;const d=this._getParts(a).map((S=>S.extent));if(d.length<2)return d[0]||this;if(d.length>2)return t?this._shiftCM(a):this.set({xmin:a.valid[0],xmax:a.valid[1]});if(t)return this._shiftCM(a);if(e)return d;let y=!0,b=!0;return d.forEach((S=>{S.hasZ||(y=!1),S.hasM||(b=!1)})),{rings:d.map((S=>{const T=[[S.xmin,S.ymin],[S.xmin,S.ymax],[S.xmax,S.ymax],[S.xmax,S.ymin],[S.xmin,S.ymin]];if(y){const C=(S.zmax-S.zmin)/2;for(let k=0;k<T.length;k++)T[k].push(C)}if(b){const C=(S.mmax-S.mmin)/2;for(let k=0;k<T.length;k++)T[k].push(C)}return T})),hasZ:y,hasM:b,spatialReference:n}}_getParts(t){let e=this.cache._parts;if(!e){e=[];const{ymin:a,ymax:d,spatialReference:y}=this,b=this.width,S=this.xmin,T=this.xmax;let C;t=t||us(y);const[k,D]=t.valid;C=D6(this.xmin,t);const z=C.x,G=C.frameId;C=D6(this.xmax,t);const B=C.x,H=C.frameId,X=z===B&&b>0;if(b>2*D){const et=new ua(S<T?z:B,a,D,d,y),rt=new ua(k,a,S<T?B:z,d,y),it=new ua(0,a,D,d,y),ot=new ua(k,a,0,d,y),pt=[],yt=[];et.contains(it)&&pt.push(G),et.contains(ot)&&yt.push(G),rt.contains(it)&&pt.push(H),rt.contains(ot)&&yt.push(H);for(let ft=G+1;ft<H;ft++)pt.push(ft),yt.push(ft);e.push({extent:et,frameIds:[G]},{extent:rt,frameIds:[H]},{extent:it,frameIds:pt},{extent:ot,frameIds:yt})}else z>B||X?e.push({extent:new ua(z,a,D,d,y),frameIds:[G]},{extent:new ua(k,a,B,d,y),frameIds:[H]}):e.push({extent:new ua(z,a,B,d,y),frameIds:[G]});this.cache._parts=e}const i=this.hasZ,n=this.hasM;if(i||n){const a={};i&&(a.zmin=this.zmin,a.zmax=this.zmax),n&&(a.mmin=this.mmin,a.mmax=this.mmax);for(let d=0;d<e.length;d++)e[d].extent.set(a)}return e}};function D6(t,e){const[i,n]=e.valid,a=2*n;let d,y=0;return t>n?(d=Math.ceil(Math.abs(t-n)/a),t-=d*a,y=d):t<i&&(d=Math.ceil(Math.abs(t-i)/a),t+=d*a,y=-d),{x:t,frameId:y}}E([N({readOnly:!0})],Be.prototype,"cache",null),E([N({readOnly:!0})],Be.prototype,"center",null),E([N({readOnly:!0})],Be.prototype,"extent",null),E([N({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Be.prototype,"hasM",null),E([N({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Be.prototype,"hasZ",null),E([N({readOnly:!0})],Be.prototype,"height",null),E([N({readOnly:!0})],Be.prototype,"width",null),E([N({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],Be.prototype,"xmin",void 0),E([N({type:Number,json:{write:!0}})],Be.prototype,"ymin",void 0),E([N({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Be.prototype,"mmin",void 0),E([N({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Be.prototype,"zmin",void 0),E([N({type:Number,json:{write:!0}})],Be.prototype,"xmax",void 0),E([N({type:Number,json:{write:!0}})],Be.prototype,"ymax",void 0),E([N({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Be.prototype,"mmax",void 0),E([N({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Be.prototype,"zmax",void 0),Be=ua=E([ut("esri.geometry.Extent")],Be),Be.prototype.toJSON.isDefaultToJSON=!0;let Qu=class extends Zt{constructor(e){super(e),this.address=null,this.attributes=null,this.extent=null,this.location=null,this.score=null}};E([N({type:String,json:{write:!0}})],Qu.prototype,"address",void 0),E([N({type:Object,json:{write:!0}})],Qu.prototype,"attributes",void 0),E([N({type:Be,json:{write:!0}})],Qu.prototype,"extent",void 0),E([N({type:ue,json:{write:!0}})],Qu.prototype,"location",void 0),E([N({type:Number,json:{write:!0}})],Qu.prototype,"score",void 0),Qu=E([ut("esri.rest.support.AddressCandidate")],Qu);const Vnt=Qu,g5={type:String,json:{read:{source:"token"},write:{target:"token"}}};let jn=class extends Zt{constructor(e){super(e),this.address=null,this.apiKey=null,this.categories=null,this.countryCode=null,this.forStorage=null,this.location=null,this.locationType=null,this.magicKey=null,this.maxLocations=null,this.outFields=null,this.outSpatialReference=null,this.searchExtent=null}};E([N({type:Object,json:{write:!0}})],jn.prototype,"address",void 0),E([N(g5)],jn.prototype,"apiKey",void 0),E([N({type:[String],json:{read:{source:"category",reader:t=>t?t.split(","):null},write:{target:"category",writer:(t,e)=>{e.category=t?t.join(","):null}}}})],jn.prototype,"categories",void 0),E([N({type:String,json:{write:!0}})],jn.prototype,"countryCode",void 0),E([N({type:Boolean,json:{write:!0}})],jn.prototype,"forStorage",void 0),E([N({type:ue,json:{write:{writer:(t,e)=>{e.location=t?t.clone().normalize():null}}}})],jn.prototype,"location",void 0),E([N({type:["rooftop","street"],json:{write:!0}})],jn.prototype,"locationType",void 0),E([N({type:String,json:{write:!0}})],jn.prototype,"magicKey",void 0),E([N({type:Number,json:{write:!0}})],jn.prototype,"maxLocations",void 0),E([N({type:[String],json:{write:{writer:(t,e)=>{e.outFields=t?t.join(","):null}}}})],jn.prototype,"outFields",void 0),E([N({type:le,json:{read:{source:"outSR"},write:{target:"outSR"}}})],jn.prototype,"outSpatialReference",void 0),E([N({type:Be,json:{write:{writer:(t,e)=>{const i=t?t.shiftCentralMeridian():null;e.searchExtent=i}}}})],jn.prototype,"searchExtent",void 0),jn=E([ut("esri.rest.support.AddressToLocationsParameters")],jn),jn.from=an(jn);let $l=class extends Zt{constructor(e){super(e),this.addresses=null,this.categories=null,this.countryCode=null,this.locationType=null,this.outSpatialReference=null}};E([N({type:[Object],json:{read:{reader:t=>t?.records?t.records.map((e=>e.attributes)):null},write:{writer:(t,e)=>{const i=[];Array.isArray(t)&&t.forEach((n=>{i.push({attributes:n})})),e.addresses={records:i}}}}})],$l.prototype,"addresses",void 0),E([N({type:[String],json:{read:{source:"category",reader:t=>t?t.split(","):null},write:{target:"category",writer:(t,e)=>{e.category=t?t.join(","):null}}}})],$l.prototype,"categories",void 0),E([N({type:String,json:{read:{source:"sourceCountry"},write:{target:"sourceCountry"}}})],$l.prototype,"countryCode",void 0),E([N({type:String,json:{write:!0}})],$l.prototype,"locationType",void 0),E([N({type:le,json:{read:{source:"outSR"},write:{target:"outSR"}}})],$l.prototype,"outSpatialReference",void 0),$l=E([ut("esri.rest.support.AddressesToLocationsParameters")],$l),$l.from=an($l);let zl=class extends Zt{constructor(e){super(e),this.apiKey=null,this.location=null,this.locationType=null,this.outSpatialReference=null}};E([N(g5)],zl.prototype,"apiKey",void 0),E([N({type:ue,json:{write:{writer:(t,e)=>{const i=t?t.clone().normalize():null,n=i!==void 0;e.location=n?i:null}}}})],zl.prototype,"location",void 0),E([N({type:["street","rooftop"],json:{write:!0}})],zl.prototype,"locationType",void 0),E([N({type:le,json:{read:{source:"outSR"},write:{target:"outSR"}}})],zl.prototype,"outSpatialReference",void 0),zl=E([ut("esri.rest.support.LocationToAddressParameters")],zl),zl.from=an(zl);const Wnt=zl;async function Jnt(t,e,i){e=Wnt.from(e);const n=m5(t),a={...e.toJSON(),f:"json"},d=Wz({...n.query,...a}),y=og(d,i),b=`${n.path}/reverseGeocode`;return Di(b,y).then(Ynt)}function Ynt({data:t}){if(!t)return;const{address:e,location:i}=t,n=e?.Match_addr||"";return Vnt.fromJSON({address:n,attributes:e||{},location:i,score:100})}let sy=class extends Zt{constructor(e){super(e),this.isCollection=null,this.magicKey=null,this.text=null}};E([N({type:Boolean,json:{write:!0}})],sy.prototype,"isCollection",void 0),E([N({type:String,json:{write:!0}})],sy.prototype,"magicKey",void 0),E([N({type:String,json:{write:!0}})],sy.prototype,"text",void 0),sy=E([ut("esri.rest.support.SuggestionCandidate")],sy);let bo=class extends Zt{constructor(e){super(e),this.apiKey=null,this.categories=null,this.countryCode=null,this.location=null,this.maxSuggestions=null,this.outSpatialReference=null,this.searchExtent=null,this.text=null}};E([N(g5)],bo.prototype,"apiKey",void 0),E([N({type:[String],json:{read:{source:"category",reader:t=>t?t.split(","):null},write:{target:"category",writer:(t,e)=>{e.category=t?t.join(","):null}}}})],bo.prototype,"categories",void 0),E([N({type:String,json:{write:!0}})],bo.prototype,"countryCode",void 0),E([N({type:ue,json:{write:{writer:(t,e)=>{e.location=t?t.clone().normalize():null}}}})],bo.prototype,"location",void 0),E([N({type:Number,json:{write:!0}})],bo.prototype,"maxSuggestions",void 0),E([N({type:le,json:{read:{source:"outSR"},write:{target:"outSR"}}})],bo.prototype,"outSpatialReference",void 0),E([N({type:Be,json:{write:{writer:(t,e)=>{const i=t?t.shiftCentralMeridian():null;e.searchExtent=JSON.stringify(i)}}}})],bo.prototype,"searchExtent",void 0),E([N({type:String,json:{write:!0}})],bo.prototype,"text",void 0),bo=E([ut("esri.rest.support.SuggestLocationsParameters")],bo),bo.from=an(bo);const Knt=()=>{const{view:t}=Wo(),{setPopupState:e,popupContainer:i}=WT();K.useEffect(()=>{if(!t)return;const n=t.on("click",async a=>{const{mapPoint:d}=a;if(!d?.latitude||!d?.longitude)return;const y=[d.longitude,d.latitude];try{const S=(await Jnt("https://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer",{location:d})).address||`${y[1].toFixed(5)}, ${y[0].toFixed(5)}`;e({coords:y,label:S,location:d})}catch(b){console.error("Reverse geocode failed",b)}});return()=>n.remove()},[t,e,i])},Xnt=()=>{const t=KT(1024),{mapPopupOpen:e,routeMinimized:i}=Yf();return Knt(),at.jsxs(at.Fragment,{children:[at.jsxs("div",{className:"absolute top-[90px] lg:top-auto lg:bottom-5 left-5 z-40 flex flex-col gap-1",children:[at.jsx(Cnt,{className:"order-last lg:order-none"}),at.jsx(stt,{}),at.jsx(Ent,{}),at.jsx(Ont,{})]}),(t&&!e||!t)&&i&&at.jsx(Vz,{className:"absolute bottom-5 lg:bottom-auto lg:top-5 right-5 z-40"}),at.jsx(Ant,{})]})};var Znt=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Sr=Znt.reduce((t,e)=>{const i=Qm(`Primitive.${e}`),n=K.forwardRef((a,d)=>{const{asChild:y,...b}=a,S=y?i:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),at.jsx(S,{...b,ref:d})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Qnt(t,e){t&&fu.flushSync(()=>t.dispatchEvent(e))}var Uf=globalThis?.document?K.useLayoutEffect:()=>{};function tst(t,e){return K.useReducer((i,n)=>e[i][n]??i,t)}var dl=t=>{const{present:e,children:i}=t,n=est(e),a=typeof i=="function"?i({present:n.isPresent}):K.Children.only(i),d=kn(n.ref,ist(a));return typeof i=="function"||n.isPresent?K.cloneElement(a,{ref:d}):null};dl.displayName="Presence";function est(t){const[e,i]=K.useState(),n=K.useRef(null),a=K.useRef(t),d=K.useRef("none"),y=t?"mounted":"unmounted",[b,S]=tst(y,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return K.useEffect(()=>{const T=N2(n.current);d.current=b==="mounted"?T:"none"},[b]),Uf(()=>{const T=n.current,C=a.current;if(C!==t){const D=d.current,z=N2(T);t?S("MOUNT"):z==="none"||T?.display==="none"?S("UNMOUNT"):S(C&&D!==z?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,S]),Uf(()=>{if(e){let T;const C=e.ownerDocument.defaultView??window,k=z=>{const B=N2(n.current).includes(CSS.escape(z.animationName));if(z.target===e&&B&&(S("ANIMATION_END"),!a.current)){const H=e.style.animationFillMode;e.style.animationFillMode="forwards",T=C.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=H)})}},D=z=>{z.target===e&&(d.current=N2(n.current))};return e.addEventListener("animationstart",D),e.addEventListener("animationcancel",k),e.addEventListener("animationend",k),()=>{C.clearTimeout(T),e.removeEventListener("animationstart",D),e.removeEventListener("animationcancel",k),e.removeEventListener("animationend",k)}}else S("ANIMATION_END")},[e,S]),{isPresent:["mounted","unmountSuspended"].includes(b),ref:K.useCallback(T=>{n.current=T?getComputedStyle(T):null,i(T)},[])}}function N2(t){return t?.animationName||"none"}function ist(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,i=e&&"isReactWarning"in e&&e.isReactWarning;return i?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,i=e&&"isReactWarning"in e&&e.isReactWarning,i?t.props.ref:t.props.ref||t.ref)}function rst(t,e){const i=K.createContext(e),n=d=>{const{children:y,...b}=d,S=K.useMemo(()=>b,Object.values(b));return at.jsx(i.Provider,{value:S,children:y})};n.displayName=t+"Provider";function a(d){const y=K.useContext(i);if(y)return y;if(e!==void 0)return e;throw new Error(`\`${d}\` must be used within \`${t}\``)}return[n,a]}function Hp(t,e=[]){let i=[];function n(d,y){const b=K.createContext(y),S=i.length;i=[...i,y];const T=k=>{const{scope:D,children:z,...G}=k,B=D?.[t]?.[S]||b,H=K.useMemo(()=>G,Object.values(G));return at.jsx(B.Provider,{value:H,children:z})};T.displayName=d+"Provider";function C(k,D){const z=D?.[t]?.[S]||b,G=K.useContext(z);if(G)return G;if(y!==void 0)return y;throw new Error(`\`${k}\` must be used within \`${d}\``)}return[T,C]}const a=()=>{const d=i.map(y=>K.createContext(y));return function(b){const S=b?.[t]||d;return K.useMemo(()=>({[`__scope${t}`]:{...b,[t]:S}}),[b,S])}};return a.scopeName=t,[n,nst(a,...e)]}function nst(...t){const e=t[0];if(t.length===1)return e;const i=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(d){const y=n.reduce((b,{useScope:S,scopeName:T})=>{const k=S(d)[`__scope${T}`];return{...b,...k}},{});return K.useMemo(()=>({[`__scope${e.scopeName}`]:y}),[y])}};return i.scopeName=e.scopeName,i}function so(t){const e=K.useRef(t);return K.useEffect(()=>{e.current=t}),K.useMemo(()=>(...i)=>e.current?.(...i),[])}var sst=K.createContext(void 0);function QT(t){const e=K.useContext(sst);return t||e||"ltr"}function ost(t,[e,i]){return Math.min(i,Math.max(e,t))}function ar(t,e,{checkForDefaultPrevented:i=!0}={}){return function(a){if(t?.(a),i===!1||!a.defaultPrevented)return e?.(a)}}function ast(t,e){return K.useReducer((i,n)=>e[i][n]??i,t)}var tE="ScrollArea",[Kz,SMt]=Hp(tE),[lst,Jo]=Kz(tE),Xz=K.forwardRef((t,e)=>{const{__scopeScrollArea:i,type:n="hover",dir:a,scrollHideDelay:d=600,...y}=t,[b,S]=K.useState(null),[T,C]=K.useState(null),[k,D]=K.useState(null),[z,G]=K.useState(null),[B,H]=K.useState(null),[X,et]=K.useState(0),[rt,it]=K.useState(0),[ot,pt]=K.useState(!1),[yt,ft]=K.useState(!1),vt=kn(e,Dt=>S(Dt)),Ct=QT(a);return at.jsx(lst,{scope:i,type:n,dir:Ct,scrollHideDelay:d,scrollArea:b,viewport:T,onViewportChange:C,content:k,onContentChange:D,scrollbarX:z,onScrollbarXChange:G,scrollbarXEnabled:ot,onScrollbarXEnabledChange:pt,scrollbarY:B,onScrollbarYChange:H,scrollbarYEnabled:yt,onScrollbarYEnabledChange:ft,onCornerWidthChange:et,onCornerHeightChange:it,children:at.jsx(Sr.div,{dir:Ct,...y,ref:vt,style:{position:"relative","--radix-scroll-area-corner-width":X+"px","--radix-scroll-area-corner-height":rt+"px",...t.style}})})});Xz.displayName=tE;var Zz="ScrollAreaViewport",Qz=K.forwardRef((t,e)=>{const{__scopeScrollArea:i,children:n,nonce:a,...d}=t,y=Jo(Zz,i),b=K.useRef(null),S=kn(e,b,y.onViewportChange);return at.jsxs(at.Fragment,{children:[at.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),at.jsx(Sr.div,{"data-radix-scroll-area-viewport":"",...d,ref:S,style:{overflowX:y.scrollbarXEnabled?"scroll":"hidden",overflowY:y.scrollbarYEnabled?"scroll":"hidden",...t.style},children:at.jsx("div",{ref:y.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});Qz.displayName=Zz;var pl="ScrollAreaScrollbar",tU=K.forwardRef((t,e)=>{const{forceMount:i,...n}=t,a=Jo(pl,t.__scopeScrollArea),{onScrollbarXEnabledChange:d,onScrollbarYEnabledChange:y}=a,b=t.orientation==="horizontal";return K.useEffect(()=>(b?d(!0):y(!0),()=>{b?d(!1):y(!1)}),[b,d,y]),a.type==="hover"?at.jsx(ust,{...n,ref:e,forceMount:i}):a.type==="scroll"?at.jsx(cst,{...n,ref:e,forceMount:i}):a.type==="auto"?at.jsx(eU,{...n,ref:e,forceMount:i}):a.type==="always"?at.jsx(eE,{...n,ref:e}):null});tU.displayName=pl;var ust=K.forwardRef((t,e)=>{const{forceMount:i,...n}=t,a=Jo(pl,t.__scopeScrollArea),[d,y]=K.useState(!1);return K.useEffect(()=>{const b=a.scrollArea;let S=0;if(b){const T=()=>{window.clearTimeout(S),y(!0)},C=()=>{S=window.setTimeout(()=>y(!1),a.scrollHideDelay)};return b.addEventListener("pointerenter",T),b.addEventListener("pointerleave",C),()=>{window.clearTimeout(S),b.removeEventListener("pointerenter",T),b.removeEventListener("pointerleave",C)}}},[a.scrollArea,a.scrollHideDelay]),at.jsx(dl,{present:i||d,children:at.jsx(eU,{"data-state":d?"visible":"hidden",...n,ref:e})})}),cst=K.forwardRef((t,e)=>{const{forceMount:i,...n}=t,a=Jo(pl,t.__scopeScrollArea),d=t.orientation==="horizontal",y=b5(()=>S("SCROLL_END"),100),[b,S]=ast("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return K.useEffect(()=>{if(b==="idle"){const T=window.setTimeout(()=>S("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(T)}},[b,a.scrollHideDelay,S]),K.useEffect(()=>{const T=a.viewport,C=d?"scrollLeft":"scrollTop";if(T){let k=T[C];const D=()=>{const z=T[C];k!==z&&(S("SCROLL"),y()),k=z};return T.addEventListener("scroll",D),()=>T.removeEventListener("scroll",D)}},[a.viewport,d,S,y]),at.jsx(dl,{present:i||b!=="hidden",children:at.jsx(eE,{"data-state":b==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:ar(t.onPointerEnter,()=>S("POINTER_ENTER")),onPointerLeave:ar(t.onPointerLeave,()=>S("POINTER_LEAVE"))})})}),eU=K.forwardRef((t,e)=>{const i=Jo(pl,t.__scopeScrollArea),{forceMount:n,...a}=t,[d,y]=K.useState(!1),b=t.orientation==="horizontal",S=b5(()=>{if(i.viewport){const T=i.viewport.offsetWidth<i.viewport.scrollWidth,C=i.viewport.offsetHeight<i.viewport.scrollHeight;y(b?T:C)}},10);return _p(i.viewport,S),_p(i.content,S),at.jsx(dl,{present:n||d,children:at.jsx(eE,{"data-state":d?"visible":"hidden",...a,ref:e})})}),eE=K.forwardRef((t,e)=>{const{orientation:i="vertical",...n}=t,a=Jo(pl,t.__scopeScrollArea),d=K.useRef(null),y=K.useRef(0),[b,S]=K.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),T=oU(b.viewport,b.content),C={...n,sizes:b,onSizesChange:S,hasThumb:T>0&&T<1,onThumbChange:D=>d.current=D,onThumbPointerUp:()=>y.current=0,onThumbPointerDown:D=>y.current=D};function k(D,z){return mst(D,y.current,b,z)}return i==="horizontal"?at.jsx(hst,{...C,ref:e,onThumbPositionChange:()=>{if(a.viewport&&d.current){const D=a.viewport.scrollLeft,z=V$(D,b,a.dir);d.current.style.transform=`translate3d(${z}px, 0, 0)`}},onWheelScroll:D=>{a.viewport&&(a.viewport.scrollLeft=D)},onDragScroll:D=>{a.viewport&&(a.viewport.scrollLeft=k(D,a.dir))}}):i==="vertical"?at.jsx(fst,{...C,ref:e,onThumbPositionChange:()=>{if(a.viewport&&d.current){const D=a.viewport.scrollTop,z=V$(D,b);d.current.style.transform=`translate3d(0, ${z}px, 0)`}},onWheelScroll:D=>{a.viewport&&(a.viewport.scrollTop=D)},onDragScroll:D=>{a.viewport&&(a.viewport.scrollTop=k(D))}}):null}),hst=K.forwardRef((t,e)=>{const{sizes:i,onSizesChange:n,...a}=t,d=Jo(pl,t.__scopeScrollArea),[y,b]=K.useState(),S=K.useRef(null),T=kn(e,S,d.onScrollbarXChange);return K.useEffect(()=>{S.current&&b(getComputedStyle(S.current))},[S]),at.jsx(rU,{"data-orientation":"horizontal",...a,ref:T,sizes:i,style:{bottom:0,left:d.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:d.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":v5(i)+"px",...t.style},onThumbPointerDown:C=>t.onThumbPointerDown(C.x),onDragScroll:C=>t.onDragScroll(C.x),onWheelScroll:(C,k)=>{if(d.viewport){const D=d.viewport.scrollLeft+C.deltaX;t.onWheelScroll(D),lU(D,k)&&C.preventDefault()}},onResize:()=>{S.current&&d.viewport&&y&&n({content:d.viewport.scrollWidth,viewport:d.viewport.offsetWidth,scrollbar:{size:S.current.clientWidth,paddingStart:iw(y.paddingLeft),paddingEnd:iw(y.paddingRight)}})}})}),fst=K.forwardRef((t,e)=>{const{sizes:i,onSizesChange:n,...a}=t,d=Jo(pl,t.__scopeScrollArea),[y,b]=K.useState(),S=K.useRef(null),T=kn(e,S,d.onScrollbarYChange);return K.useEffect(()=>{S.current&&b(getComputedStyle(S.current))},[S]),at.jsx(rU,{"data-orientation":"vertical",...a,ref:T,sizes:i,style:{top:0,right:d.dir==="ltr"?0:void 0,left:d.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":v5(i)+"px",...t.style},onThumbPointerDown:C=>t.onThumbPointerDown(C.y),onDragScroll:C=>t.onDragScroll(C.y),onWheelScroll:(C,k)=>{if(d.viewport){const D=d.viewport.scrollTop+C.deltaY;t.onWheelScroll(D),lU(D,k)&&C.preventDefault()}},onResize:()=>{S.current&&d.viewport&&y&&n({content:d.viewport.scrollHeight,viewport:d.viewport.offsetHeight,scrollbar:{size:S.current.clientHeight,paddingStart:iw(y.paddingTop),paddingEnd:iw(y.paddingBottom)}})}})}),[dst,iU]=Kz(pl),rU=K.forwardRef((t,e)=>{const{__scopeScrollArea:i,sizes:n,hasThumb:a,onThumbChange:d,onThumbPointerUp:y,onThumbPointerDown:b,onThumbPositionChange:S,onDragScroll:T,onWheelScroll:C,onResize:k,...D}=t,z=Jo(pl,i),[G,B]=K.useState(null),H=kn(e,vt=>B(vt)),X=K.useRef(null),et=K.useRef(""),rt=z.viewport,it=n.content-n.viewport,ot=so(C),pt=so(S),yt=b5(k,10);function ft(vt){if(X.current){const Ct=vt.clientX-X.current.left,Dt=vt.clientY-X.current.top;T({x:Ct,y:Dt})}}return K.useEffect(()=>{const vt=Ct=>{const Dt=Ct.target;G?.contains(Dt)&&ot(Ct,it)};return document.addEventListener("wheel",vt,{passive:!1}),()=>document.removeEventListener("wheel",vt,{passive:!1})},[rt,G,it,ot]),K.useEffect(pt,[n,pt]),_p(G,yt),_p(z.content,yt),at.jsx(dst,{scope:i,scrollbar:G,hasThumb:a,onThumbChange:so(d),onThumbPointerUp:so(y),onThumbPositionChange:pt,onThumbPointerDown:so(b),children:at.jsx(Sr.div,{...D,ref:H,style:{position:"absolute",...D.style},onPointerDown:ar(t.onPointerDown,vt=>{vt.button===0&&(vt.target.setPointerCapture(vt.pointerId),X.current=G.getBoundingClientRect(),et.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",z.viewport&&(z.viewport.style.scrollBehavior="auto"),ft(vt))}),onPointerMove:ar(t.onPointerMove,ft),onPointerUp:ar(t.onPointerUp,vt=>{const Ct=vt.target;Ct.hasPointerCapture(vt.pointerId)&&Ct.releasePointerCapture(vt.pointerId),document.body.style.webkitUserSelect=et.current,z.viewport&&(z.viewport.style.scrollBehavior=""),X.current=null})})})}),ew="ScrollAreaThumb",nU=K.forwardRef((t,e)=>{const{forceMount:i,...n}=t,a=iU(ew,t.__scopeScrollArea);return at.jsx(dl,{present:i||a.hasThumb,children:at.jsx(pst,{ref:e,...n})})}),pst=K.forwardRef((t,e)=>{const{__scopeScrollArea:i,style:n,...a}=t,d=Jo(ew,i),y=iU(ew,i),{onThumbPositionChange:b}=y,S=kn(e,k=>y.onThumbChange(k)),T=K.useRef(void 0),C=b5(()=>{T.current&&(T.current(),T.current=void 0)},100);return K.useEffect(()=>{const k=d.viewport;if(k){const D=()=>{if(C(),!T.current){const z=gst(k,b);T.current=z,b()}};return b(),k.addEventListener("scroll",D),()=>k.removeEventListener("scroll",D)}},[d.viewport,C,b]),at.jsx(Sr.div,{"data-state":y.hasThumb?"visible":"hidden",...a,ref:S,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:ar(t.onPointerDownCapture,k=>{const z=k.target.getBoundingClientRect(),G=k.clientX-z.left,B=k.clientY-z.top;y.onThumbPointerDown({x:G,y:B})}),onPointerUp:ar(t.onPointerUp,y.onThumbPointerUp)})});nU.displayName=ew;var iE="ScrollAreaCorner",sU=K.forwardRef((t,e)=>{const i=Jo(iE,t.__scopeScrollArea),n=!!(i.scrollbarX&&i.scrollbarY);return i.type!=="scroll"&&n?at.jsx(yst,{...t,ref:e}):null});sU.displayName=iE;var yst=K.forwardRef((t,e)=>{const{__scopeScrollArea:i,...n}=t,a=Jo(iE,i),[d,y]=K.useState(0),[b,S]=K.useState(0),T=!!(d&&b);return _p(a.scrollbarX,()=>{const C=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(C),S(C)}),_p(a.scrollbarY,()=>{const C=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(C),y(C)}),T?at.jsx(Sr.div,{...n,ref:e,style:{width:d,height:b,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function iw(t){return t?parseInt(t,10):0}function oU(t,e){const i=t/e;return isNaN(i)?0:i}function v5(t){const e=oU(t.viewport,t.content),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-i)*e;return Math.max(n,18)}function mst(t,e,i,n="ltr"){const a=v5(i),d=a/2,y=e||d,b=a-y,S=i.scrollbar.paddingStart+y,T=i.scrollbar.size-i.scrollbar.paddingEnd-b,C=i.content-i.viewport,k=n==="ltr"?[0,C]:[C*-1,0];return aU([S,T],k)(t)}function V$(t,e,i="ltr"){const n=v5(e),a=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,d=e.scrollbar.size-a,y=e.content-e.viewport,b=d-n,S=i==="ltr"?[0,y]:[y*-1,0],T=ost(t,S);return aU([0,y],[0,b])(T)}function aU(t,e){return i=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(i-t[0])}}function lU(t,e){return t>0&&t<e}var gst=(t,e=()=>{})=>{let i={left:t.scrollLeft,top:t.scrollTop},n=0;return(function a(){const d={left:t.scrollLeft,top:t.scrollTop},y=i.left!==d.left,b=i.top!==d.top;(y||b)&&e(),i=d,n=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(n)};function b5(t,e){const i=so(t),n=K.useRef(0);return K.useEffect(()=>()=>window.clearTimeout(n.current),[]),K.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(i,e)},[i,e])}function _p(t,e){const i=so(e);Uf(()=>{let n=0;if(t){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(i)});return a.observe(t),()=>{window.cancelAnimationFrame(n),a.unobserve(t)}}},[t,i])}var vst=Xz,bst=Qz,wst=sU;function uU({className:t,children:e,...i}){return at.jsxs(vst,{"data-slot":"scroll-area",className:Ai("relative",t),...i,children:[at.jsx(bst,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:e}),at.jsx(_st,{}),at.jsx(wst,{})]})}function _st({className:t,orientation:e="vertical",...i}){return at.jsx(tU,{"data-slot":"scroll-area-scrollbar",orientation:e,className:Ai("flex touch-none p-px transition-colors select-none",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",t),...i,children:at.jsx(nU,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}const cU=20,Ff=4;function Sst(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return K.useMemo(()=>n=>{e.forEach(a=>a(n))},e)}const w5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Vp(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function rE(t){return"nodeType"in t}function zs(t){var e,i;return t?Vp(t)?t:rE(t)&&(e=(i=t.ownerDocument)==null?void 0:i.defaultView)!=null?e:window:window}function nE(t){const{Document:e}=zs(t);return t instanceof e}function qg(t){return Vp(t)?!1:t instanceof zs(t).HTMLElement}function hU(t){return t instanceof zs(t).SVGElement}function Wp(t){return t?Vp(t)?t.document:rE(t)?nE(t)?t:qg(t)||hU(t)?t.ownerDocument:document:document:document}const ll=w5?K.useLayoutEffect:K.useEffect;function sE(t){const e=K.useRef(t);return ll(()=>{e.current=t}),K.useCallback(function(){for(var i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return e.current==null?void 0:e.current(...n)},[])}function xst(){const t=K.useRef(null),e=K.useCallback((n,a)=>{t.current=setInterval(n,a)},[]),i=K.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,i]}function ag(t,e){e===void 0&&(e=[t]);const i=K.useRef(t);return ll(()=>{i.current!==t&&(i.current=t)},e),i}function Hg(t,e){const i=K.useRef();return K.useMemo(()=>{const n=t(i.current);return i.current=n,n},[...e])}function rw(t){const e=sE(t),i=K.useRef(null),n=K.useCallback(a=>{a!==i.current&&e?.(a,i.current),i.current=a},[]);return[i,n]}function WS(t){const e=K.useRef();return K.useEffect(()=>{e.current=t},[t]),e.current}let L6={};function Vg(t,e){return K.useMemo(()=>{if(e)return e;const i=L6[t]==null?0:L6[t]+1;return L6[t]=i,t+"-"+i},[t,e])}function fU(t){return function(e){for(var i=arguments.length,n=new Array(i>1?i-1:0),a=1;a<i;a++)n[a-1]=arguments[a];return n.reduce((d,y)=>{const b=Object.entries(y);for(const[S,T]of b){const C=d[S];C!=null&&(d[S]=C+t*T)}return d},{...e})}}const A0=fU(1),nw=fU(-1);function Tst(t){return"clientX"in t&&"clientY"in t}function oE(t){if(!t)return!1;const{KeyboardEvent:e}=zs(t.target);return e&&t instanceof e}function Est(t){if(!t)return!1;const{TouchEvent:e}=zs(t.target);return e&&t instanceof e}function JS(t){if(Est(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:i}=t.touches[0];return{x:e,y:i}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:i}=t.changedTouches[0];return{x:e,y:i}}}return Tst(t)?{x:t.clientX,y:t.clientY}:null}const lg=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:i}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(i?Math.round(i):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:i}=t;return"scaleX("+e+") scaleY("+i+")"}},Transform:{toString(t){if(t)return[lg.Translate.toString(t),lg.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:i,easing:n}=t;return e+" "+i+"ms "+n}}}),W$="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Mst(t){return t.matches(W$)?t:t.querySelector(W$)}const Ast={display:"none"};function Rst(t){let{id:e,value:i}=t;return Qt.createElement("div",{id:e,style:Ast},i)}function Cst(t){let{id:e,announcement:i,ariaLiveType:n="assertive"}=t;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Qt.createElement("div",{id:e,style:a,role:"status","aria-live":n,"aria-atomic":!0},i)}function Ost(){const[t,e]=K.useState("");return{announce:K.useCallback(n=>{n!=null&&e(n)},[]),announcement:t}}const dU=K.createContext(null);function $st(t){const e=K.useContext(dU);K.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function Nst(){const[t]=K.useState(()=>new Set),e=K.useCallback(n=>(t.add(n),()=>t.delete(n)),[t]);return[K.useCallback(n=>{let{type:a,event:d}=n;t.forEach(y=>{var b;return(b=y[a])==null?void 0:b.call(y,d)})},[t]),e]}const kst={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Pst={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:i}=t;return i?"Draggable item "+e.id+" was moved over droppable area "+i.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:i}=t;return i?"Draggable item "+e.id+" was dropped over droppable area "+i.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function Ist(t){let{announcements:e=Pst,container:i,hiddenTextDescribedById:n,screenReaderInstructions:a=kst}=t;const{announce:d,announcement:y}=Ost(),b=Vg("DndLiveRegion"),[S,T]=K.useState(!1);if(K.useEffect(()=>{T(!0)},[]),$st(K.useMemo(()=>({onDragStart(k){let{active:D}=k;d(e.onDragStart({active:D}))},onDragMove(k){let{active:D,over:z}=k;e.onDragMove&&d(e.onDragMove({active:D,over:z}))},onDragOver(k){let{active:D,over:z}=k;d(e.onDragOver({active:D,over:z}))},onDragEnd(k){let{active:D,over:z}=k;d(e.onDragEnd({active:D,over:z}))},onDragCancel(k){let{active:D,over:z}=k;d(e.onDragCancel({active:D,over:z}))}}),[d,e])),!S)return null;const C=Qt.createElement(Qt.Fragment,null,Qt.createElement(Rst,{id:n,value:a.draggable}),Qt.createElement(Cst,{id:b,announcement:y}));return i?fu.createPortal(C,i):C}var sn;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(sn||(sn={}));function sw(){}function Dst(t,e){return K.useMemo(()=>({sensor:t,options:{}}),[t,e])}function Lst(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return K.useMemo(()=>[...e].filter(n=>n!=null),[...e])}const Sa=Object.freeze({x:0,y:0});function jst(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function zst(t,e){let{data:{value:i}}=t,{data:{value:n}}=e;return i-n}function Ust(t,e){let{data:{value:i}}=t,{data:{value:n}}=e;return n-i}function Fst(t,e){if(!t||t.length===0)return null;const[i]=t;return i[e]}function J$(t,e,i){return e===void 0&&(e=t.left),i===void 0&&(i=t.top),{x:e+t.width*.5,y:i+t.height*.5}}const Bst=t=>{let{collisionRect:e,droppableRects:i,droppableContainers:n}=t;const a=J$(e,e.left,e.top),d=[];for(const y of n){const{id:b}=y,S=i.get(b);if(S){const T=jst(J$(S),a);d.push({id:b,data:{droppableContainer:y,value:T}})}}return d.sort(zst)};function Gst(t,e){const i=Math.max(e.top,t.top),n=Math.max(e.left,t.left),a=Math.min(e.left+e.width,t.left+t.width),d=Math.min(e.top+e.height,t.top+t.height),y=a-n,b=d-i;if(n<a&&i<d){const S=e.width*e.height,T=t.width*t.height,C=y*b,k=C/(S+T-C);return Number(k.toFixed(4))}return 0}const qst=t=>{let{collisionRect:e,droppableRects:i,droppableContainers:n}=t;const a=[];for(const d of n){const{id:y}=d,b=i.get(y);if(b){const S=Gst(b,e);S>0&&a.push({id:y,data:{droppableContainer:d,value:S}})}}return a.sort(Ust)};function Hst(t,e,i){return{...t,scaleX:e&&i?e.width/i.width:1,scaleY:e&&i?e.height/i.height:1}}function pU(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Sa}function Vst(t){return function(i){for(var n=arguments.length,a=new Array(n>1?n-1:0),d=1;d<n;d++)a[d-1]=arguments[d];return a.reduce((y,b)=>({...y,top:y.top+t*b.y,bottom:y.bottom+t*b.y,left:y.left+t*b.x,right:y.right+t*b.x}),{...i})}}const Wst=Vst(1);function Jst(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function Yst(t,e,i){const n=Jst(e);if(!n)return t;const{scaleX:a,scaleY:d,x:y,y:b}=n,S=t.left-y-(1-a)*parseFloat(i),T=t.top-b-(1-d)*parseFloat(i.slice(i.indexOf(" ")+1)),C=a?t.width/a:t.width,k=d?t.height/d:t.height;return{width:C,height:k,top:T,right:S+C,bottom:T+k,left:S}}const Kst={ignoreTransform:!1};function Jp(t,e){e===void 0&&(e=Kst);let i=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:T,transformOrigin:C}=zs(t).getComputedStyle(t);T&&(i=Yst(i,T,C))}const{top:n,left:a,width:d,height:y,bottom:b,right:S}=i;return{top:n,left:a,width:d,height:y,bottom:b,right:S}}function Y$(t){return Jp(t,{ignoreTransform:!0})}function Xst(t){const e=t.innerWidth,i=t.innerHeight;return{top:0,left:0,right:e,bottom:i,width:e,height:i}}function Zst(t,e){return e===void 0&&(e=zs(t).getComputedStyle(t)),e.position==="fixed"}function Qst(t,e){e===void 0&&(e=zs(t).getComputedStyle(t));const i=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const d=e[a];return typeof d=="string"?i.test(d):!1})}function aE(t,e){const i=[];function n(a){if(e!=null&&i.length>=e||!a)return i;if(nE(a)&&a.scrollingElement!=null&&!i.includes(a.scrollingElement))return i.push(a.scrollingElement),i;if(!qg(a)||hU(a)||i.includes(a))return i;const d=zs(t).getComputedStyle(a);return a!==t&&Qst(a,d)&&i.push(a),Zst(a,d)?i:n(a.parentNode)}return t?n(t):i}function yU(t){const[e]=aE(t,1);return e??null}function j6(t){return!w5||!t?null:Vp(t)?t:rE(t)?nE(t)||t===Wp(t).scrollingElement?window:qg(t)?t:null:null}function mU(t){return Vp(t)?t.scrollX:t.scrollLeft}function gU(t){return Vp(t)?t.scrollY:t.scrollTop}function YS(t){return{x:mU(t),y:gU(t)}}var bn;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(bn||(bn={}));function vU(t){return!w5||!t?!1:t===document.scrollingElement}function bU(t){const e={x:0,y:0},i=vU(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},n={x:t.scrollWidth-i.width,y:t.scrollHeight-i.height},a=t.scrollTop<=e.y,d=t.scrollLeft<=e.x,y=t.scrollTop>=n.y,b=t.scrollLeft>=n.x;return{isTop:a,isLeft:d,isBottom:y,isRight:b,maxScroll:n,minScroll:e}}const tot={x:.2,y:.2};function eot(t,e,i,n,a){let{top:d,left:y,right:b,bottom:S}=i;n===void 0&&(n=10),a===void 0&&(a=tot);const{isTop:T,isBottom:C,isLeft:k,isRight:D}=bU(t),z={x:0,y:0},G={x:0,y:0},B={height:e.height*a.y,width:e.width*a.x};return!T&&d<=e.top+B.height?(z.y=bn.Backward,G.y=n*Math.abs((e.top+B.height-d)/B.height)):!C&&S>=e.bottom-B.height&&(z.y=bn.Forward,G.y=n*Math.abs((e.bottom-B.height-S)/B.height)),!D&&b>=e.right-B.width?(z.x=bn.Forward,G.x=n*Math.abs((e.right-B.width-b)/B.width)):!k&&y<=e.left+B.width&&(z.x=bn.Backward,G.x=n*Math.abs((e.left+B.width-y)/B.width)),{direction:z,speed:G}}function iot(t){if(t===document.scrollingElement){const{innerWidth:d,innerHeight:y}=window;return{top:0,left:0,right:d,bottom:y,width:d,height:y}}const{top:e,left:i,right:n,bottom:a}=t.getBoundingClientRect();return{top:e,left:i,right:n,bottom:a,width:t.clientWidth,height:t.clientHeight}}function wU(t){return t.reduce((e,i)=>A0(e,YS(i)),Sa)}function rot(t){return t.reduce((e,i)=>e+mU(i),0)}function not(t){return t.reduce((e,i)=>e+gU(i),0)}function sot(t,e){if(e===void 0&&(e=Jp),!t)return;const{top:i,left:n,bottom:a,right:d}=e(t);yU(t)&&(a<=0||d<=0||i>=window.innerHeight||n>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const oot=[["x",["left","right"],rot],["y",["top","bottom"],not]];class lE{constructor(e,i){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=aE(i),a=wU(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[d,y,b]of oot)for(const S of y)Object.defineProperty(this,S,{get:()=>{const T=b(n),C=a[d]-T;return this.rect[S]+C},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Am{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(i=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...i)})},this.target=e}add(e,i,n){var a;(a=this.target)==null||a.addEventListener(e,i,n),this.listeners.push([e,i,n])}}function aot(t){const{EventTarget:e}=zs(t);return t instanceof e?t:Wp(t)}function z6(t,e){const i=Math.abs(t.x),n=Math.abs(t.y);return typeof e=="number"?Math.sqrt(i**2+n**2)>e:"x"in e&&"y"in e?i>e.x&&n>e.y:"x"in e?i>e.x:"y"in e?n>e.y:!1}var ko;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(ko||(ko={}));function K$(t){t.preventDefault()}function lot(t){t.stopPropagation()}var Mi;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(Mi||(Mi={}));const _U={start:[Mi.Space,Mi.Enter],cancel:[Mi.Esc],end:[Mi.Space,Mi.Enter,Mi.Tab]},uot=(t,e)=>{let{currentCoordinates:i}=e;switch(t.code){case Mi.Right:return{...i,x:i.x+25};case Mi.Left:return{...i,x:i.x-25};case Mi.Down:return{...i,y:i.y+25};case Mi.Up:return{...i,y:i.y-25}}};class SU{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:i}}=e;this.props=e,this.listeners=new Am(Wp(i)),this.windowListeners=new Am(zs(i)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ko.Resize,this.handleCancel),this.windowListeners.add(ko.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ko.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:i}=this.props,n=e.node.current;n&&sot(n),i(Sa)}handleKeyDown(e){if(oE(e)){const{active:i,context:n,options:a}=this.props,{keyboardCodes:d=_U,coordinateGetter:y=uot,scrollBehavior:b="smooth"}=a,{code:S}=e;if(d.end.includes(S)){this.handleEnd(e);return}if(d.cancel.includes(S)){this.handleCancel(e);return}const{collisionRect:T}=n.current,C=T?{x:T.left,y:T.top}:Sa;this.referenceCoordinates||(this.referenceCoordinates=C);const k=y(e,{active:i,context:n.current,currentCoordinates:C});if(k){const D=nw(k,C),z={x:0,y:0},{scrollableAncestors:G}=n.current;for(const B of G){const H=e.code,{isTop:X,isRight:et,isLeft:rt,isBottom:it,maxScroll:ot,minScroll:pt}=bU(B),yt=iot(B),ft={x:Math.min(H===Mi.Right?yt.right-yt.width/2:yt.right,Math.max(H===Mi.Right?yt.left:yt.left+yt.width/2,k.x)),y:Math.min(H===Mi.Down?yt.bottom-yt.height/2:yt.bottom,Math.max(H===Mi.Down?yt.top:yt.top+yt.height/2,k.y))},vt=H===Mi.Right&&!et||H===Mi.Left&&!rt,Ct=H===Mi.Down&&!it||H===Mi.Up&&!X;if(vt&&ft.x!==k.x){const Dt=B.scrollLeft+D.x,zt=H===Mi.Right&&Dt<=ot.x||H===Mi.Left&&Dt>=pt.x;if(zt&&!D.y){B.scrollTo({left:Dt,behavior:b});return}zt?z.x=B.scrollLeft-Dt:z.x=H===Mi.Right?B.scrollLeft-ot.x:B.scrollLeft-pt.x,z.x&&B.scrollBy({left:-z.x,behavior:b});break}else if(Ct&&ft.y!==k.y){const Dt=B.scrollTop+D.y,zt=H===Mi.Down&&Dt<=ot.y||H===Mi.Up&&Dt>=pt.y;if(zt&&!D.x){B.scrollTo({top:Dt,behavior:b});return}zt?z.y=B.scrollTop-Dt:z.y=H===Mi.Down?B.scrollTop-ot.y:B.scrollTop-pt.y,z.y&&B.scrollBy({top:-z.y,behavior:b});break}}this.handleMove(e,A0(nw(k,this.referenceCoordinates),z))}}}handleMove(e,i){const{onMove:n}=this.props;e.preventDefault(),n(i)}handleEnd(e){const{onEnd:i}=this.props;e.preventDefault(),this.detach(),i()}handleCancel(e){const{onCancel:i}=this.props;e.preventDefault(),this.detach(),i()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}SU.activators=[{eventName:"onKeyDown",handler:(t,e,i)=>{let{keyboardCodes:n=_U,onActivation:a}=e,{active:d}=i;const{code:y}=t.nativeEvent;if(n.start.includes(y)){const b=d.activatorNode.current;return b&&t.target!==b?!1:(t.preventDefault(),a?.({event:t.nativeEvent}),!0)}return!1}}];function X$(t){return!!(t&&"distance"in t)}function Z$(t){return!!(t&&"delay"in t)}class uE{constructor(e,i,n){var a;n===void 0&&(n=aot(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=i;const{event:d}=e,{target:y}=d;this.props=e,this.events=i,this.document=Wp(y),this.documentListeners=new Am(this.document),this.listeners=new Am(n),this.windowListeners=new Am(zs(y)),this.initialCoordinates=(a=JS(d))!=null?a:Sa,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:i,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(ko.Resize,this.handleCancel),this.windowListeners.add(ko.DragStart,K$),this.windowListeners.add(ko.VisibilityChange,this.handleCancel),this.windowListeners.add(ko.ContextMenu,K$),this.documentListeners.add(ko.Keydown,this.handleKeydown),i){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Z$(i)){this.timeoutId=setTimeout(this.handleStart,i.delay),this.handlePending(i);return}if(X$(i)){this.handlePending(i);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,i){const{active:n,onPending:a}=this.props;a(n,e,this.initialCoordinates,i)}handleStart(){const{initialCoordinates:e}=this,{onStart:i}=this.props;e&&(this.activated=!0,this.documentListeners.add(ko.Click,lot,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ko.SelectionChange,this.removeTextSelection),i(e))}handleMove(e){var i;const{activated:n,initialCoordinates:a,props:d}=this,{onMove:y,options:{activationConstraint:b}}=d;if(!a)return;const S=(i=JS(e))!=null?i:Sa,T=nw(a,S);if(!n&&b){if(X$(b)){if(b.tolerance!=null&&z6(T,b.tolerance))return this.handleCancel();if(z6(T,b.distance))return this.handleStart()}if(Z$(b)&&z6(T,b.tolerance))return this.handleCancel();this.handlePending(b,T);return}e.cancelable&&e.preventDefault(),y(S)}handleEnd(){const{onAbort:e,onEnd:i}=this.props;this.detach(),this.activated||e(this.props.active),i()}handleCancel(){const{onAbort:e,onCancel:i}=this.props;this.detach(),this.activated||e(this.props.active),i()}handleKeydown(e){e.code===Mi.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const cot={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class cE extends uE{constructor(e){const{event:i}=e,n=Wp(i.target);super(e,cot,n)}}cE.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:i}=t,{onActivation:n}=e;return!i.isPrimary||i.button!==0?!1:(n?.({event:i}),!0)}}];const hot={move:{name:"mousemove"},end:{name:"mouseup"}};var KS;(function(t){t[t.RightClick=2]="RightClick"})(KS||(KS={}));class fot extends uE{constructor(e){super(e,hot,Wp(e.event.target))}}fot.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:i}=t,{onActivation:n}=e;return i.button===KS.RightClick?!1:(n?.({event:i}),!0)}}];const U6={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class dot extends uE{constructor(e){super(e,U6)}static setup(){return window.addEventListener(U6.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(U6.move.name,e)};function e(){}}}dot.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:i}=t,{onActivation:n}=e;const{touches:a}=i;return a.length>1?!1:(n?.({event:i}),!0)}}];var Rm;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Rm||(Rm={}));var ow;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(ow||(ow={}));function pot(t){let{acceleration:e,activator:i=Rm.Pointer,canScroll:n,draggingRect:a,enabled:d,interval:y=5,order:b=ow.TreeOrder,pointerCoordinates:S,scrollableAncestors:T,scrollableAncestorRects:C,delta:k,threshold:D}=t;const z=mot({delta:k,disabled:!d}),[G,B]=xst(),H=K.useRef({x:0,y:0}),X=K.useRef({x:0,y:0}),et=K.useMemo(()=>{switch(i){case Rm.Pointer:return S?{top:S.y,bottom:S.y,left:S.x,right:S.x}:null;case Rm.DraggableRect:return a}},[i,a,S]),rt=K.useRef(null),it=K.useCallback(()=>{const pt=rt.current;if(!pt)return;const yt=H.current.x*X.current.x,ft=H.current.y*X.current.y;pt.scrollBy(yt,ft)},[]),ot=K.useMemo(()=>b===ow.TreeOrder?[...T].reverse():T,[b,T]);K.useEffect(()=>{if(!d||!T.length||!et){B();return}for(const pt of ot){if(n?.(pt)===!1)continue;const yt=T.indexOf(pt),ft=C[yt];if(!ft)continue;const{direction:vt,speed:Ct}=eot(pt,ft,et,e,D);for(const Dt of["x","y"])z[Dt][vt[Dt]]||(Ct[Dt]=0,vt[Dt]=0);if(Ct.x>0||Ct.y>0){B(),rt.current=pt,G(it,y),H.current=Ct,X.current=vt;return}}H.current={x:0,y:0},X.current={x:0,y:0},B()},[e,it,n,B,d,y,JSON.stringify(et),JSON.stringify(z),G,T,ot,C,JSON.stringify(D)])}const yot={x:{[bn.Backward]:!1,[bn.Forward]:!1},y:{[bn.Backward]:!1,[bn.Forward]:!1}};function mot(t){let{delta:e,disabled:i}=t;const n=WS(e);return Hg(a=>{if(i||!n||!a)return yot;const d={x:Math.sign(e.x-n.x),y:Math.sign(e.y-n.y)};return{x:{[bn.Backward]:a.x[bn.Backward]||d.x===-1,[bn.Forward]:a.x[bn.Forward]||d.x===1},y:{[bn.Backward]:a.y[bn.Backward]||d.y===-1,[bn.Forward]:a.y[bn.Forward]||d.y===1}}},[i,e,n])}function got(t,e){const i=e!=null?t.get(e):void 0,n=i?i.node.current:null;return Hg(a=>{var d;return e==null?null:(d=n??a)!=null?d:null},[n,e])}function vot(t,e){return K.useMemo(()=>t.reduce((i,n)=>{const{sensor:a}=n,d=a.activators.map(y=>({eventName:y.eventName,handler:e(y.handler,n)}));return[...i,...d]},[]),[t,e])}var ug;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(ug||(ug={}));var XS;(function(t){t.Optimized="optimized"})(XS||(XS={}));const Q$=new Map;function bot(t,e){let{dragging:i,dependencies:n,config:a}=e;const[d,y]=K.useState(null),{frequency:b,measure:S,strategy:T}=a,C=K.useRef(t),k=H(),D=ag(k),z=K.useCallback(function(X){X===void 0&&(X=[]),!D.current&&y(et=>et===null?X:et.concat(X.filter(rt=>!et.includes(rt))))},[D]),G=K.useRef(null),B=Hg(X=>{if(k&&!i)return Q$;if(!X||X===Q$||C.current!==t||d!=null){const et=new Map;for(let rt of t){if(!rt)continue;if(d&&d.length>0&&!d.includes(rt.id)&&rt.rect.current){et.set(rt.id,rt.rect.current);continue}const it=rt.node.current,ot=it?new lE(S(it),it):null;rt.rect.current=ot,ot&&et.set(rt.id,ot)}return et}return X},[t,d,i,k,S]);return K.useEffect(()=>{C.current=t},[t]),K.useEffect(()=>{k||z()},[i,k]),K.useEffect(()=>{d&&d.length>0&&y(null)},[JSON.stringify(d)]),K.useEffect(()=>{k||typeof b!="number"||G.current!==null||(G.current=setTimeout(()=>{z(),G.current=null},b))},[b,k,z,...n]),{droppableRects:B,measureDroppableContainers:z,measuringScheduled:d!=null};function H(){switch(T){case ug.Always:return!1;case ug.BeforeDragging:return i;default:return!i}}}function xU(t,e){return Hg(i=>t?i||(typeof e=="function"?e(t):t):null,[e,t])}function wot(t,e){return xU(t,e)}function _ot(t){let{callback:e,disabled:i}=t;const n=sE(e),a=K.useMemo(()=>{if(i||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:d}=window;return new d(n)},[n,i]);return K.useEffect(()=>()=>a?.disconnect(),[a]),a}function _5(t){let{callback:e,disabled:i}=t;const n=sE(e),a=K.useMemo(()=>{if(i||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:d}=window;return new d(n)},[i]);return K.useEffect(()=>()=>a?.disconnect(),[a]),a}function Sot(t){return new lE(Jp(t),t)}function tN(t,e,i){e===void 0&&(e=Sot);const[n,a]=K.useState(null);function d(){a(S=>{if(!t)return null;if(t.isConnected===!1){var T;return(T=S??i)!=null?T:null}const C=e(t);return JSON.stringify(S)===JSON.stringify(C)?S:C})}const y=_ot({callback(S){if(t)for(const T of S){const{type:C,target:k}=T;if(C==="childList"&&k instanceof HTMLElement&&k.contains(t)){d();break}}}}),b=_5({callback:d});return ll(()=>{d(),t?(b?.observe(t),y?.observe(document.body,{childList:!0,subtree:!0})):(b?.disconnect(),y?.disconnect())},[t]),n}function xot(t){const e=xU(t);return pU(t,e)}const eN=[];function Tot(t){const e=K.useRef(t),i=Hg(n=>t?n&&n!==eN&&t&&e.current&&t.parentNode===e.current.parentNode?n:aE(t):eN,[t]);return K.useEffect(()=>{e.current=t},[t]),i}function Eot(t){const[e,i]=K.useState(null),n=K.useRef(t),a=K.useCallback(d=>{const y=j6(d.target);y&&i(b=>b?(b.set(y,YS(y)),new Map(b)):null)},[]);return K.useEffect(()=>{const d=n.current;if(t!==d){y(d);const b=t.map(S=>{const T=j6(S);return T?(T.addEventListener("scroll",a,{passive:!0}),[T,YS(T)]):null}).filter(S=>S!=null);i(b.length?new Map(b):null),n.current=t}return()=>{y(t),y(d)};function y(b){b.forEach(S=>{const T=j6(S);T?.removeEventListener("scroll",a)})}},[a,t]),K.useMemo(()=>t.length?e?Array.from(e.values()).reduce((d,y)=>A0(d,y),Sa):wU(t):Sa,[t,e])}function iN(t,e){e===void 0&&(e=[]);const i=K.useRef(null);return K.useEffect(()=>{i.current=null},e),K.useEffect(()=>{const n=t!==Sa;n&&!i.current&&(i.current=t),!n&&i.current&&(i.current=null)},[t]),i.current?nw(t,i.current):Sa}function Mot(t){K.useEffect(()=>{if(!w5)return;const e=t.map(i=>{let{sensor:n}=i;return n.setup==null?void 0:n.setup()});return()=>{for(const i of e)i?.()}},t.map(e=>{let{sensor:i}=e;return i}))}function Aot(t,e){return K.useMemo(()=>t.reduce((i,n)=>{let{eventName:a,handler:d}=n;return i[a]=y=>{d(y,e)},i},{}),[t,e])}function TU(t){return K.useMemo(()=>t?Xst(t):null,[t])}const rN=[];function Rot(t,e){e===void 0&&(e=Jp);const[i]=t,n=TU(i?zs(i):null),[a,d]=K.useState(rN);function y(){d(()=>t.length?t.map(S=>vU(S)?n:new lE(e(S),S)):rN)}const b=_5({callback:y});return ll(()=>{b?.disconnect(),y(),t.forEach(S=>b?.observe(S))},[t]),a}function Cot(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return qg(e)?e:t}function Oot(t){let{measure:e}=t;const[i,n]=K.useState(null),a=K.useCallback(T=>{for(const{target:C}of T)if(qg(C)){n(k=>{const D=e(C);return k?{...k,width:D.width,height:D.height}:D});break}},[e]),d=_5({callback:a}),y=K.useCallback(T=>{const C=Cot(T);d?.disconnect(),C&&d?.observe(C),n(C?e(C):null)},[e,d]),[b,S]=rw(y);return K.useMemo(()=>({nodeRef:b,rect:i,setRef:S}),[i,b,S])}const $ot=[{sensor:cE,options:{}},{sensor:SU,options:{}}],Not={current:{}},O3={draggable:{measure:Y$},droppable:{measure:Y$,strategy:ug.WhileDragging,frequency:XS.Optimized},dragOverlay:{measure:Jp}};class Cm extends Map{get(e){var i;return e!=null&&(i=super.get(e))!=null?i:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:i}=e;return!i})}getNodeFor(e){var i,n;return(i=(n=this.get(e))==null?void 0:n.node.current)!=null?i:void 0}}const kot={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Cm,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:sw},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:O3,measureDroppableContainers:sw,windowRect:null,measuringScheduled:!1},Pot={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:sw,draggableNodes:new Map,over:null,measureDroppableContainers:sw},S5=K.createContext(Pot),EU=K.createContext(kot);function Iot(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Cm}}}function Dot(t,e){switch(e.type){case sn.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case sn.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case sn.DragEnd:case sn.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case sn.RegisterDroppable:{const{element:i}=e,{id:n}=i,a=new Cm(t.droppable.containers);return a.set(n,i),{...t,droppable:{...t.droppable,containers:a}}}case sn.SetDroppableDisabled:{const{id:i,key:n,disabled:a}=e,d=t.droppable.containers.get(i);if(!d||n!==d.key)return t;const y=new Cm(t.droppable.containers);return y.set(i,{...d,disabled:a}),{...t,droppable:{...t.droppable,containers:y}}}case sn.UnregisterDroppable:{const{id:i,key:n}=e,a=t.droppable.containers.get(i);if(!a||n!==a.key)return t;const d=new Cm(t.droppable.containers);return d.delete(i),{...t,droppable:{...t.droppable,containers:d}}}default:return t}}function Lot(t){let{disabled:e}=t;const{active:i,activatorEvent:n,draggableNodes:a}=K.useContext(S5),d=WS(n),y=WS(i?.id);return K.useEffect(()=>{if(!e&&!n&&d&&y!=null){if(!oE(d)||document.activeElement===d.target)return;const b=a.get(y);if(!b)return;const{activatorNode:S,node:T}=b;if(!S.current&&!T.current)return;requestAnimationFrame(()=>{for(const C of[S.current,T.current]){if(!C)continue;const k=Mst(C);if(k){k.focus();break}}})}},[n,e,a,y,d]),null}function jot(t,e){let{transform:i,...n}=e;return t!=null&&t.length?t.reduce((a,d)=>d({transform:a,...n}),i):i}function zot(t){return K.useMemo(()=>({draggable:{...O3.draggable,...t?.draggable},droppable:{...O3.droppable,...t?.droppable},dragOverlay:{...O3.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function Uot(t){let{activeNode:e,measure:i,initialRect:n,config:a=!0}=t;const d=K.useRef(!1),{x:y,y:b}=typeof a=="boolean"?{x:a,y:a}:a;ll(()=>{if(!y&&!b||!e){d.current=!1;return}if(d.current||!n)return;const T=e?.node.current;if(!T||T.isConnected===!1)return;const C=i(T),k=pU(C,n);if(y||(k.x=0),b||(k.y=0),d.current=!0,Math.abs(k.x)>0||Math.abs(k.y)>0){const D=yU(T);D&&D.scrollBy({top:k.y,left:k.x})}},[e,y,b,n,i])}const MU=K.createContext({...Sa,scaleX:1,scaleY:1});var pc;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(pc||(pc={}));const Fot=K.memo(function(e){var i,n,a,d;let{id:y,accessibility:b,autoScroll:S=!0,children:T,sensors:C=$ot,collisionDetection:k=qst,measuring:D,modifiers:z,...G}=e;const B=K.useReducer(Dot,void 0,Iot),[H,X]=B,[et,rt]=Nst(),[it,ot]=K.useState(pc.Uninitialized),pt=it===pc.Initialized,{draggable:{active:yt,nodes:ft,translate:vt},droppable:{containers:Ct}}=H,Dt=yt!=null?ft.get(yt):null,zt=K.useRef({initial:null,translated:null}),Wt=K.useMemo(()=>{var g;return yt!=null?{id:yt,data:(g=Dt?.data)!=null?g:Not,rect:zt}:null},[yt,Dt]),Xt=K.useRef(null),[re,_t]=K.useState(null),[It,$t]=K.useState(null),ge=ag(G,Object.values(G)),dt=Vg("DndDescribedBy",y),Ft=K.useMemo(()=>Ct.getEnabled(),[Ct]),Kt=zot(D),{droppableRects:Vt,measureDroppableContainers:ie,measuringScheduled:Oe}=bot(Ft,{dragging:pt,dependencies:[vt.x,vt.y],config:Kt.droppable}),ce=got(ft,yt),je=K.useMemo(()=>It?JS(It):null,[It]),ze=p(),Si=wot(ce,Kt.draggable.measure);Uot({activeNode:yt!=null?ft.get(yt):null,config:ze.layoutShiftCompensation,initialRect:Si,measure:Kt.draggable.measure});const Ge=tN(ce,Kt.draggable.measure,Si),Qi=tN(ce?ce.parentElement:null),Vi=K.useRef({activatorEvent:null,active:null,activeNode:ce,collisionRect:null,collisions:null,droppableRects:Vt,draggableNodes:ft,draggingNode:null,draggingNodeRect:null,droppableContainers:Ct,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),xn=Ct.getNodeFor((i=Vi.current.over)==null?void 0:i.id),we=Oot({measure:Kt.dragOverlay.measure}),ts=(n=we.nodeRef.current)!=null?n:ce,bi=pt?(a=we.rect)!=null?a:Ge:null,Q=!!(we.nodeRef.current&&we.rect),pr=xot(Q?null:Ge),fs=TU(ts?zs(ts):null),Me=Tot(pt?xn??ce:null),Ve=Rot(Me),Hr=jot(z,{transform:{x:vt.x-pr.x,y:vt.y-pr.y,scaleX:1,scaleY:1},activatorEvent:It,active:Wt,activeNodeRect:Ge,containerNodeRect:Qi,draggingNodeRect:bi,over:Vi.current.over,overlayNodeRect:we.rect,scrollableAncestors:Me,scrollableAncestorRects:Ve,windowRect:fs}),Tr=je?A0(je,vt):null,Tn=Eot(Me),Pn=iN(Tn),ds=iN(Tn,[Ge]),Wi=A0(Hr,Pn),Ri=bi?Wst(bi,Hr):null,Gt=Wt&&Ri?k({active:Wt,collisionRect:Ri,droppableRects:Vt,droppableContainers:Ft,pointerCoordinates:Tr}):null,In=Fst(Gt,"id"),[c,I]=K.useState(null),w=Q?Hr:A0(Hr,ds),u=Hst(w,(d=c?.rect)!=null?d:null,Ge),o=K.useRef(null),r=K.useCallback((g,_)=>{let{sensor:M,options:R}=_;if(Xt.current==null)return;const $=ft.get(Xt.current);if(!$)return;const P=g.nativeEvent,j=new M({active:Xt.current,activeNode:$,event:P,options:R,context:Vi,onAbort(V){if(!ft.get(V))return;const{onDragAbort:q}=ge.current,J={id:V};q?.(J),et({type:"onDragAbort",event:J})},onPending(V,W,q,J){if(!ft.get(V))return;const{onDragPending:st}=ge.current,ct={id:V,constraint:W,initialCoordinates:q,offset:J};st?.(ct),et({type:"onDragPending",event:ct})},onStart(V){const W=Xt.current;if(W==null)return;const q=ft.get(W);if(!q)return;const{onDragStart:J}=ge.current,nt={activatorEvent:P,active:{id:W,data:q.data,rect:zt}};fu.unstable_batchedUpdates(()=>{J?.(nt),ot(pc.Initializing),X({type:sn.DragStart,initialCoordinates:V,active:W}),et({type:"onDragStart",event:nt}),_t(o.current),$t(P)})},onMove(V){X({type:sn.DragMove,coordinates:V})},onEnd:F(sn.DragEnd),onCancel:F(sn.DragCancel)});o.current=j;function F(V){return async function(){const{active:q,collisions:J,over:nt,scrollAdjustedTranslate:st}=Vi.current;let ct=null;if(q&&st){const{cancelDrop:bt}=ge.current;ct={activatorEvent:P,active:q,collisions:J,delta:st,over:nt},V===sn.DragEnd&&typeof bt=="function"&&await Promise.resolve(bt(ct))&&(V=sn.DragCancel)}Xt.current=null,fu.unstable_batchedUpdates(()=>{X({type:V}),ot(pc.Uninitialized),I(null),_t(null),$t(null),o.current=null;const bt=V===sn.DragEnd?"onDragEnd":"onDragCancel";if(ct){const Tt=ge.current[bt];Tt?.(ct),et({type:bt,event:ct})}})}}},[ft]),s=K.useCallback((g,_)=>(M,R)=>{const $=M.nativeEvent,P=ft.get(R);if(Xt.current!==null||!P||$.dndKit||$.defaultPrevented)return;const j={active:P};g(M,_.options,j)===!0&&($.dndKit={capturedBy:_.sensor},Xt.current=R,r(M,_))},[ft,r]),l=vot(C,s);Mot(C),ll(()=>{Ge&&it===pc.Initializing&&ot(pc.Initialized)},[Ge,it]),K.useEffect(()=>{const{onDragMove:g}=ge.current,{active:_,activatorEvent:M,collisions:R,over:$}=Vi.current;if(!_||!M)return;const P={active:_,activatorEvent:M,collisions:R,delta:{x:Wi.x,y:Wi.y},over:$};fu.unstable_batchedUpdates(()=>{g?.(P),et({type:"onDragMove",event:P})})},[Wi.x,Wi.y]),K.useEffect(()=>{const{active:g,activatorEvent:_,collisions:M,droppableContainers:R,scrollAdjustedTranslate:$}=Vi.current;if(!g||Xt.current==null||!_||!$)return;const{onDragOver:P}=ge.current,j=R.get(In),F=j&&j.rect.current?{id:j.id,rect:j.rect.current,data:j.data,disabled:j.disabled}:null,V={active:g,activatorEvent:_,collisions:M,delta:{x:$.x,y:$.y},over:F};fu.unstable_batchedUpdates(()=>{I(F),P?.(V),et({type:"onDragOver",event:V})})},[In]),ll(()=>{Vi.current={activatorEvent:It,active:Wt,activeNode:ce,collisionRect:Ri,collisions:Gt,droppableRects:Vt,draggableNodes:ft,draggingNode:ts,draggingNodeRect:bi,droppableContainers:Ct,over:c,scrollableAncestors:Me,scrollAdjustedTranslate:Wi},zt.current={initial:bi,translated:Ri}},[Wt,ce,Gt,Ri,ft,ts,bi,Vt,Ct,c,Me,Wi]),pot({...ze,delta:vt,draggingRect:Ri,pointerCoordinates:Tr,scrollableAncestors:Me,scrollableAncestorRects:Ve});const h=K.useMemo(()=>({active:Wt,activeNode:ce,activeNodeRect:Ge,activatorEvent:It,collisions:Gt,containerNodeRect:Qi,dragOverlay:we,draggableNodes:ft,droppableContainers:Ct,droppableRects:Vt,over:c,measureDroppableContainers:ie,scrollableAncestors:Me,scrollableAncestorRects:Ve,measuringConfiguration:Kt,measuringScheduled:Oe,windowRect:fs}),[Wt,ce,Ge,It,Gt,Qi,we,ft,Ct,Vt,c,ie,Me,Ve,Kt,Oe,fs]),f=K.useMemo(()=>({activatorEvent:It,activators:l,active:Wt,activeNodeRect:Ge,ariaDescribedById:{draggable:dt},dispatch:X,draggableNodes:ft,over:c,measureDroppableContainers:ie}),[It,l,Wt,Ge,X,dt,ft,c,ie]);return Qt.createElement(dU.Provider,{value:rt},Qt.createElement(S5.Provider,{value:f},Qt.createElement(EU.Provider,{value:h},Qt.createElement(MU.Provider,{value:u},T)),Qt.createElement(Lot,{disabled:b?.restoreFocus===!1})),Qt.createElement(Ist,{...b,hiddenTextDescribedById:dt}));function p(){const g=re?.autoScrollEnabled===!1,_=typeof S=="object"?S.enabled===!1:S===!1,M=pt&&!g&&!_;return typeof S=="object"?{...S,enabled:M}:{enabled:M}}}),Bot=K.createContext(null),nN="button",Got="Draggable";function qot(t){let{id:e,data:i,disabled:n=!1,attributes:a}=t;const d=Vg(Got),{activators:y,activatorEvent:b,active:S,activeNodeRect:T,ariaDescribedById:C,draggableNodes:k,over:D}=K.useContext(S5),{role:z=nN,roleDescription:G="draggable",tabIndex:B=0}=a??{},H=S?.id===e,X=K.useContext(H?MU:Bot),[et,rt]=rw(),[it,ot]=rw(),pt=Aot(y,e),yt=ag(i);ll(()=>(k.set(e,{id:e,key:d,node:et,activatorNode:it,data:yt}),()=>{const vt=k.get(e);vt&&vt.key===d&&k.delete(e)}),[k,e]);const ft=K.useMemo(()=>({role:z,tabIndex:B,"aria-disabled":n,"aria-pressed":H&&z===nN?!0:void 0,"aria-roledescription":G,"aria-describedby":C.draggable}),[n,z,B,H,G,C.draggable]);return{active:S,activatorEvent:b,activeNodeRect:T,attributes:ft,isDragging:H,listeners:n?void 0:pt,node:et,over:D,setNodeRef:rt,setActivatorNodeRef:ot,transform:X}}function Hot(){return K.useContext(EU)}const Vot="Droppable",Wot={timeout:25};function Jot(t){let{data:e,disabled:i=!1,id:n,resizeObserverConfig:a}=t;const d=Vg(Vot),{active:y,dispatch:b,over:S,measureDroppableContainers:T}=K.useContext(S5),C=K.useRef({disabled:i}),k=K.useRef(!1),D=K.useRef(null),z=K.useRef(null),{disabled:G,updateMeasurementsFor:B,timeout:H}={...Wot,...a},X=ag(B??n),et=K.useCallback(()=>{if(!k.current){k.current=!0;return}z.current!=null&&clearTimeout(z.current),z.current=setTimeout(()=>{T(Array.isArray(X.current)?X.current:[X.current]),z.current=null},H)},[H]),rt=_5({callback:et,disabled:G||!y}),it=K.useCallback((ft,vt)=>{rt&&(vt&&(rt.unobserve(vt),k.current=!1),ft&&rt.observe(ft))},[rt]),[ot,pt]=rw(it),yt=ag(e);return K.useEffect(()=>{!rt||!ot.current||(rt.disconnect(),k.current=!1,rt.observe(ot.current))},[ot,rt]),K.useEffect(()=>(b({type:sn.RegisterDroppable,element:{id:n,key:d,disabled:i,node:ot,rect:D,data:yt}}),()=>b({type:sn.UnregisterDroppable,key:d,id:n})),[n]),K.useEffect(()=>{i!==C.current.disabled&&(b({type:sn.SetDroppableDisabled,id:n,key:d,disabled:i}),C.current.disabled=i)},[n,d,i,b]),{active:y,rect:D,isOver:S?.id===n,node:ot,over:S,setNodeRef:pt}}function hE(t,e,i){const n=t.slice();return n.splice(i<0?n.length+i:i,0,n.splice(e,1)[0]),n}function Yot(t,e){return t.reduce((i,n,a)=>{const d=e.get(n);return d&&(i[a]=d),i},Array(t.length))}function k2(t){return t!==null&&t>=0}function Kot(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}function Xot(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const AU=t=>{let{rects:e,activeIndex:i,overIndex:n,index:a}=t;const d=hE(e,n,i),y=e[a],b=d[a];return!b||!y?null:{x:b.left-y.left,y:b.top-y.top,scaleX:b.width/y.width,scaleY:b.height/y.height}},P2={scaleX:1,scaleY:1},Zot=t=>{var e;let{activeIndex:i,activeNodeRect:n,index:a,rects:d,overIndex:y}=t;const b=(e=d[i])!=null?e:n;if(!b)return null;if(a===i){const T=d[y];return T?{x:0,y:i<y?T.top+T.height-(b.top+b.height):T.top-b.top,...P2}:null}const S=Qot(d,a,i);return a>i&&a<=y?{x:0,y:-b.height-S,...P2}:a<i&&a>=y?{x:0,y:b.height+S,...P2}:{x:0,y:0,...P2}};function Qot(t,e,i){const n=t[e],a=t[e-1],d=t[e+1];return n?i<e?a?n.top-(a.top+a.height):d?d.top-(n.top+n.height):0:d?d.top-(n.top+n.height):a?n.top-(a.top+a.height):0:0}const RU="Sortable",CU=Qt.createContext({activeIndex:-1,containerId:RU,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:AU,disabled:{draggable:!1,droppable:!1}});function tat(t){let{children:e,id:i,items:n,strategy:a=AU,disabled:d=!1}=t;const{active:y,dragOverlay:b,droppableRects:S,over:T,measureDroppableContainers:C}=Hot(),k=Vg(RU,i),D=b.rect!==null,z=K.useMemo(()=>n.map(pt=>typeof pt=="object"&&"id"in pt?pt.id:pt),[n]),G=y!=null,B=y?z.indexOf(y.id):-1,H=T?z.indexOf(T.id):-1,X=K.useRef(z),et=!Kot(z,X.current),rt=H!==-1&&B===-1||et,it=Xot(d);ll(()=>{et&&G&&C(z)},[et,z,G,C]),K.useEffect(()=>{X.current=z},[z]);const ot=K.useMemo(()=>({activeIndex:B,containerId:k,disabled:it,disableTransforms:rt,items:z,overIndex:H,useDragOverlay:D,sortedRects:Yot(z,S),strategy:a}),[B,k,it.draggable,it.droppable,rt,z,H,S,D,a]);return Qt.createElement(CU.Provider,{value:ot},e)}const eat=t=>{let{id:e,items:i,activeIndex:n,overIndex:a}=t;return hE(i,n,a).indexOf(e)},iat=t=>{let{containerId:e,isSorting:i,wasDragging:n,index:a,items:d,newIndex:y,previousItems:b,previousContainerId:S,transition:T}=t;return!T||!n||b!==d&&a===y?!1:i?!0:y!==a&&e===S},rat={duration:200,easing:"ease"},OU="transform",nat=lg.Transition.toString({property:OU,duration:0,easing:"linear"}),sat={roleDescription:"sortable"};function oat(t){let{disabled:e,index:i,node:n,rect:a}=t;const[d,y]=K.useState(null),b=K.useRef(i);return ll(()=>{if(!e&&i!==b.current&&n.current){const S=a.current;if(S){const T=Jp(n.current,{ignoreTransform:!0}),C={x:S.left-T.left,y:S.top-T.top,scaleX:S.width/T.width,scaleY:S.height/T.height};(C.x||C.y)&&y(C)}}i!==b.current&&(b.current=i)},[e,i,n,a]),K.useEffect(()=>{d&&y(null)},[d]),d}function aat(t){let{animateLayoutChanges:e=iat,attributes:i,disabled:n,data:a,getNewIndex:d=eat,id:y,strategy:b,resizeObserverConfig:S,transition:T=rat}=t;const{items:C,containerId:k,activeIndex:D,disabled:z,disableTransforms:G,sortedRects:B,overIndex:H,useDragOverlay:X,strategy:et}=K.useContext(CU),rt=lat(n,z),it=C.indexOf(y),ot=K.useMemo(()=>({sortable:{containerId:k,index:it,items:C},...a}),[k,a,it,C]),pt=K.useMemo(()=>C.slice(C.indexOf(y)),[C,y]),{rect:yt,node:ft,isOver:vt,setNodeRef:Ct}=Jot({id:y,data:ot,disabled:rt.droppable,resizeObserverConfig:{updateMeasurementsFor:pt,...S}}),{active:Dt,activatorEvent:zt,activeNodeRect:Wt,attributes:Xt,setNodeRef:re,listeners:_t,isDragging:It,over:$t,setActivatorNodeRef:ge,transform:dt}=qot({id:y,data:ot,attributes:{...sat,...i},disabled:rt.draggable}),Ft=Sst(Ct,re),Kt=!!Dt,Vt=Kt&&!G&&k2(D)&&k2(H),ie=!X&&It,Oe=ie&&Vt?dt:null,je=Vt?Oe??(b??et)({rects:B,activeNodeRect:Wt,activeIndex:D,overIndex:H,index:it}):null,ze=k2(D)&&k2(H)?d({id:y,items:C,activeIndex:D,overIndex:H}):it,Si=Dt?.id,Ge=K.useRef({activeId:Si,items:C,newIndex:ze,containerId:k}),Qi=C!==Ge.current.items,Vi=e({active:Dt,containerId:k,isDragging:It,isSorting:Kt,id:y,index:it,items:C,newIndex:Ge.current.newIndex,previousItems:Ge.current.items,previousContainerId:Ge.current.containerId,transition:T,wasDragging:Ge.current.activeId!=null}),xn=oat({disabled:!Vi,index:it,node:ft,rect:yt});return K.useEffect(()=>{Kt&&Ge.current.newIndex!==ze&&(Ge.current.newIndex=ze),k!==Ge.current.containerId&&(Ge.current.containerId=k),C!==Ge.current.items&&(Ge.current.items=C)},[Kt,ze,k,C]),K.useEffect(()=>{if(Si===Ge.current.activeId)return;if(Si!=null&&Ge.current.activeId==null){Ge.current.activeId=Si;return}const ts=setTimeout(()=>{Ge.current.activeId=Si},50);return()=>clearTimeout(ts)},[Si]),{active:Dt,activeIndex:D,attributes:Xt,data:ot,rect:yt,index:it,newIndex:ze,items:C,isOver:vt,isSorting:Kt,isDragging:It,listeners:_t,node:ft,overIndex:H,over:$t,setNodeRef:Ft,setActivatorNodeRef:ge,setDroppableNodeRef:Ct,setDraggableNodeRef:re,transform:xn??je,transition:we()};function we(){if(xn||Qi&&Ge.current.newIndex===it)return nat;if(!(ie&&!oE(zt)||!T)&&(Kt||Vi))return lg.Transition.toString({...T,property:OU})}}function lat(t,e){var i,n;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(i=t?.draggable)!=null?i:e.draggable,droppable:(n=t?.droppable)!=null?n:e.droppable}}Mi.Down,Mi.Right,Mi.Up,Mi.Left;const uat=()=>{const{stopsListExpanded:t,setStopsListExpanded:e}=Yf(),{hasUnfilledStops:i,stops:n,addStop:a}=js();return i||n.length>=cU?null:at.jsx(lo,{variant:"outline",size:"sm",className:"w-full mt-2.5 cursor-pointer",onClick:()=>{n.length+1>Ff&&!t&&e(!0),a()},children:"Add Stop"})},$U=K.createContext(void 0),fE=()=>K.useContext($U),NU=({className:t})=>{const{suggestions:e,highlightedIndex:i,handleSelect:n,setHighlightedIndex:a}=fE();return at.jsx(uU,{className:Ai("bg-white text-black rounded-md",t),children:at.jsx("ul",{children:e.map((d,y)=>at.jsx("li",{className:Ai("p-2 hover:bg-gray-100 cursor-pointer",i===y?"bg-gray-100":""),onClick:()=>n(d),onMouseOver:()=>a(null),children:d.label},y))})})},cat=(t,e)=>{const[i,n]=K.useState({top:0,left:0,width:void 0});return K.useEffect(()=>{const a=()=>{if(!e.current)return;const d=e.current.getBoundingClientRect();n({top:d.bottom+window.scrollY+4,left:d.left+window.scrollX,width:d.width})};return a(),window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a)}},[e,t]),i},hat=()=>{const{inputRef:t,isFocused:e,suggestions:i}=fE(),{top:n,left:a,width:d}=cat(e,t);return i.length===0||!e?null:fu.createPortal(at.jsx("div",{className:"absolute z-[100] w-full shadow-md",style:{top:n,left:a,width:d},children:at.jsx(NU,{})}),document.body)};var fat=bL[" useId ".trim().toString()]||(()=>{}),dat=0;function R0(t){const[e,i]=K.useState(fat());return Uf(()=>{i(n=>n??String(dat++))},[t]),t||(e?`radix-${e}`:"")}var pat=bL[" useInsertionEffect ".trim().toString()]||Uf;function x5({prop:t,defaultProp:e,onChange:i=()=>{},caller:n}){const[a,d,y]=yat({defaultProp:e,onChange:i}),b=t!==void 0,S=b?t:a;{const C=K.useRef(t!==void 0);K.useEffect(()=>{const k=C.current;k!==b&&console.warn(`${n} is changing from ${k?"controlled":"uncontrolled"} to ${b?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),C.current=b},[b,n])}const T=K.useCallback(C=>{if(b){const k=mat(C)?C(t):C;k!==t&&y.current?.(k)}else d(C)},[b,t,d,y]);return[S,T]}function yat({defaultProp:t,onChange:e}){const[i,n]=K.useState(t),a=K.useRef(i),d=K.useRef(e);return pat(()=>{d.current=e},[e]),K.useEffect(()=>{a.current!==i&&(d.current?.(i),a.current=i)},[i,a]),[i,n,d]}function mat(t){return typeof t=="function"}function gat(t,e=globalThis?.document){const i=so(t);K.useEffect(()=>{const n=a=>{a.key==="Escape"&&i(a)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[i,e])}var vat="DismissableLayer",ZS="dismissableLayer.update",bat="dismissableLayer.pointerDownOutside",wat="dismissableLayer.focusOutside",sN,kU=K.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),PU=K.forwardRef((t,e)=>{const{disableOutsidePointerEvents:i=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:d,onInteractOutside:y,onDismiss:b,...S}=t,T=K.useContext(kU),[C,k]=K.useState(null),D=C?.ownerDocument??globalThis?.document,[,z]=K.useState({}),G=kn(e,yt=>k(yt)),B=Array.from(T.layers),[H]=[...T.layersWithOutsidePointerEventsDisabled].slice(-1),X=B.indexOf(H),et=C?B.indexOf(C):-1,rt=T.layersWithOutsidePointerEventsDisabled.size>0,it=et>=X,ot=xat(yt=>{const ft=yt.target,vt=[...T.branches].some(Ct=>Ct.contains(ft));!it||vt||(a?.(yt),y?.(yt),yt.defaultPrevented||b?.())},D),pt=Tat(yt=>{const ft=yt.target;[...T.branches].some(Ct=>Ct.contains(ft))||(d?.(yt),y?.(yt),yt.defaultPrevented||b?.())},D);return gat(yt=>{et===T.layers.size-1&&(n?.(yt),!yt.defaultPrevented&&b&&(yt.preventDefault(),b()))},D),K.useEffect(()=>{if(C)return i&&(T.layersWithOutsidePointerEventsDisabled.size===0&&(sN=D.body.style.pointerEvents,D.body.style.pointerEvents="none"),T.layersWithOutsidePointerEventsDisabled.add(C)),T.layers.add(C),oN(),()=>{i&&T.layersWithOutsidePointerEventsDisabled.size===1&&(D.body.style.pointerEvents=sN)}},[C,D,i,T]),K.useEffect(()=>()=>{C&&(T.layers.delete(C),T.layersWithOutsidePointerEventsDisabled.delete(C),oN())},[C,T]),K.useEffect(()=>{const yt=()=>z({});return document.addEventListener(ZS,yt),()=>document.removeEventListener(ZS,yt)},[]),at.jsx(Sr.div,{...S,ref:G,style:{pointerEvents:rt?it?"auto":"none":void 0,...t.style},onFocusCapture:ar(t.onFocusCapture,pt.onFocusCapture),onBlurCapture:ar(t.onBlurCapture,pt.onBlurCapture),onPointerDownCapture:ar(t.onPointerDownCapture,ot.onPointerDownCapture)})});PU.displayName=vat;var _at="DismissableLayerBranch",Sat=K.forwardRef((t,e)=>{const i=K.useContext(kU),n=K.useRef(null),a=kn(e,n);return K.useEffect(()=>{const d=n.current;if(d)return i.branches.add(d),()=>{i.branches.delete(d)}},[i.branches]),at.jsx(Sr.div,{...t,ref:a})});Sat.displayName=_at;function xat(t,e=globalThis?.document){const i=so(t),n=K.useRef(!1),a=K.useRef(()=>{});return K.useEffect(()=>{const d=b=>{if(b.target&&!n.current){let S=function(){IU(bat,i,T,{discrete:!0})};const T={originalEvent:b};b.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=S,e.addEventListener("click",a.current,{once:!0})):S()}else e.removeEventListener("click",a.current);n.current=!1},y=window.setTimeout(()=>{e.addEventListener("pointerdown",d)},0);return()=>{window.clearTimeout(y),e.removeEventListener("pointerdown",d),e.removeEventListener("click",a.current)}},[e,i]),{onPointerDownCapture:()=>n.current=!0}}function Tat(t,e=globalThis?.document){const i=so(t),n=K.useRef(!1);return K.useEffect(()=>{const a=d=>{d.target&&!n.current&&IU(wat,i,{originalEvent:d},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,i]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function oN(){const t=new CustomEvent(ZS);document.dispatchEvent(t)}function IU(t,e,i,{discrete:n}){const a=i.originalEvent.target,d=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:i});e&&a.addEventListener(t,e,{once:!0}),n?Qnt(a,d):a.dispatchEvent(d)}var F6="focusScope.autoFocusOnMount",B6="focusScope.autoFocusOnUnmount",aN={bubbles:!1,cancelable:!0},Eat="FocusScope",DU=K.forwardRef((t,e)=>{const{loop:i=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:d,...y}=t,[b,S]=K.useState(null),T=so(a),C=so(d),k=K.useRef(null),D=kn(e,B=>S(B)),z=K.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;K.useEffect(()=>{if(n){let B=function(rt){if(z.paused||!b)return;const it=rt.target;b.contains(it)?k.current=it:tc(k.current,{select:!0})},H=function(rt){if(z.paused||!b)return;const it=rt.relatedTarget;it!==null&&(b.contains(it)||tc(k.current,{select:!0}))},X=function(rt){if(document.activeElement===document.body)for(const ot of rt)ot.removedNodes.length>0&&tc(b)};document.addEventListener("focusin",B),document.addEventListener("focusout",H);const et=new MutationObserver(X);return b&&et.observe(b,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",B),document.removeEventListener("focusout",H),et.disconnect()}}},[n,b,z.paused]),K.useEffect(()=>{if(b){uN.add(z);const B=document.activeElement;if(!b.contains(B)){const X=new CustomEvent(F6,aN);b.addEventListener(F6,T),b.dispatchEvent(X),X.defaultPrevented||(Mat($at(LU(b)),{select:!0}),document.activeElement===B&&tc(b))}return()=>{b.removeEventListener(F6,T),setTimeout(()=>{const X=new CustomEvent(B6,aN);b.addEventListener(B6,C),b.dispatchEvent(X),X.defaultPrevented||tc(B??document.body,{select:!0}),b.removeEventListener(B6,C),uN.remove(z)},0)}}},[b,T,C,z]);const G=K.useCallback(B=>{if(!i&&!n||z.paused)return;const H=B.key==="Tab"&&!B.altKey&&!B.ctrlKey&&!B.metaKey,X=document.activeElement;if(H&&X){const et=B.currentTarget,[rt,it]=Aat(et);rt&&it?!B.shiftKey&&X===it?(B.preventDefault(),i&&tc(rt,{select:!0})):B.shiftKey&&X===rt&&(B.preventDefault(),i&&tc(it,{select:!0})):X===et&&B.preventDefault()}},[i,n,z.paused]);return at.jsx(Sr.div,{tabIndex:-1,...y,ref:D,onKeyDown:G})});DU.displayName=Eat;function Mat(t,{select:e=!1}={}){const i=document.activeElement;for(const n of t)if(tc(n,{select:e}),document.activeElement!==i)return}function Aat(t){const e=LU(t),i=lN(e,t),n=lN(e.reverse(),t);return[i,n]}function LU(t){const e=[],i=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;i.nextNode();)e.push(i.currentNode);return e}function lN(t,e){for(const i of t)if(!Rat(i,{upTo:e}))return i}function Rat(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Cat(t){return t instanceof HTMLInputElement&&"select"in t}function tc(t,{select:e=!1}={}){if(t&&t.focus){const i=document.activeElement;t.focus({preventScroll:!0}),t!==i&&Cat(t)&&e&&t.select()}}var uN=Oat();function Oat(){let t=[];return{add(e){const i=t[0];e!==i&&i?.pause(),t=cN(t,e),t.unshift(e)},remove(e){t=cN(t,e),t[0]?.resume()}}}function cN(t,e){const i=[...t],n=i.indexOf(e);return n!==-1&&i.splice(n,1),i}function $at(t){return t.filter(e=>e.tagName!=="A")}var Nat="Portal",jU=K.forwardRef((t,e)=>{const{container:i,...n}=t,[a,d]=K.useState(!1);Uf(()=>d(!0),[]);const y=i||a&&globalThis?.document?.body;return y?Mnt.createPortal(at.jsx(Sr.div,{...n,ref:e}),y):null});jU.displayName=Nat;var G6=0;function kat(){K.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??hN()),document.body.insertAdjacentElement("beforeend",t[1]??hN()),G6++,()=>{G6===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),G6--}},[])}function hN(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Za=function(){return Za=Object.assign||function(e){for(var i,n=1,a=arguments.length;n<a;n++){i=arguments[n];for(var d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e[d]=i[d])}return e},Za.apply(this,arguments)};function zU(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(i[n[a]]=t[n[a]]);return i}function Pat(t,e,i){if(i||arguments.length===2)for(var n=0,a=e.length,d;n<a;n++)(d||!(n in e))&&(d||(d=Array.prototype.slice.call(e,0,n)),d[n]=e[n]);return t.concat(d||Array.prototype.slice.call(e))}var $3="right-scroll-bar-position",N3="width-before-scroll-bar",Iat="with-scroll-bars-hidden",Dat="--removed-body-scroll-bar-size";function q6(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Lat(t,e){var i=K.useState(function(){return{value:t,callback:e,facade:{get current(){return i.value},set current(n){var a=i.value;a!==n&&(i.value=n,i.callback(n,a))}}}})[0];return i.callback=e,i.facade}var jat=typeof window<"u"?K.useLayoutEffect:K.useEffect,fN=new WeakMap;function zat(t,e){var i=Lat(null,function(n){return t.forEach(function(a){return q6(a,n)})});return jat(function(){var n=fN.get(i);if(n){var a=new Set(n),d=new Set(t),y=i.current;a.forEach(function(b){d.has(b)||q6(b,null)}),d.forEach(function(b){a.has(b)||q6(b,y)})}fN.set(i,t)},[t]),i}function Uat(t){return t}function Fat(t,e){e===void 0&&(e=Uat);var i=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return i.length?i[i.length-1]:t},useMedium:function(d){var y=e(d,n);return i.push(y),function(){i=i.filter(function(b){return b!==y})}},assignSyncMedium:function(d){for(n=!0;i.length;){var y=i;i=[],y.forEach(d)}i={push:function(b){return d(b)},filter:function(){return i}}},assignMedium:function(d){n=!0;var y=[];if(i.length){var b=i;i=[],b.forEach(d),y=i}var S=function(){var C=y;y=[],C.forEach(d)},T=function(){return Promise.resolve().then(S)};T(),i={push:function(C){y.push(C),T()},filter:function(C){return y=y.filter(C),i}}}};return a}function Bat(t){t===void 0&&(t={});var e=Fat(null);return e.options=Za({async:!0,ssr:!1},t),e}var UU=function(t){var e=t.sideCar,i=zU(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return K.createElement(n,Za({},i))};UU.isSideCarExport=!0;function Gat(t,e){return t.useMedium(e),UU}var FU=Bat(),H6=function(){},T5=K.forwardRef(function(t,e){var i=K.useRef(null),n=K.useState({onScrollCapture:H6,onWheelCapture:H6,onTouchMoveCapture:H6}),a=n[0],d=n[1],y=t.forwardProps,b=t.children,S=t.className,T=t.removeScrollBar,C=t.enabled,k=t.shards,D=t.sideCar,z=t.noRelative,G=t.noIsolation,B=t.inert,H=t.allowPinchZoom,X=t.as,et=X===void 0?"div":X,rt=t.gapMode,it=zU(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),ot=D,pt=zat([i,e]),yt=Za(Za({},it),a);return K.createElement(K.Fragment,null,C&&K.createElement(ot,{sideCar:FU,removeScrollBar:T,shards:k,noRelative:z,noIsolation:G,inert:B,setCallbacks:d,allowPinchZoom:!!H,lockRef:i,gapMode:rt}),y?K.cloneElement(K.Children.only(b),Za(Za({},yt),{ref:pt})):K.createElement(et,Za({},yt,{className:S,ref:pt}),b))});T5.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};T5.classNames={fullWidth:N3,zeroRight:$3};var qat=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Hat(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=qat();return e&&t.setAttribute("nonce",e),t}function Vat(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Wat(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Jat=function(){var t=0,e=null;return{add:function(i){t==0&&(e=Hat())&&(Vat(e,i),Wat(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Yat=function(){var t=Jat();return function(e,i){K.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&i])}},BU=function(){var t=Yat(),e=function(i){var n=i.styles,a=i.dynamic;return t(n,a),null};return e},Kat={left:0,top:0,right:0,gap:0},V6=function(t){return parseInt(t||"",10)||0},Xat=function(t){var e=window.getComputedStyle(document.body),i=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],a=e[t==="padding"?"paddingRight":"marginRight"];return[V6(i),V6(n),V6(a)]},Zat=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Kat;var e=Xat(t),i=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-i+e[2]-e[0])}},Qat=BU(),C0="data-scroll-locked",tlt=function(t,e,i,n){var a=t.left,d=t.top,y=t.right,b=t.gap;return i===void 0&&(i="margin"),`
  .`.concat(Iat,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(b,"px ").concat(n,`;
  }
  body[`).concat(C0,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),i==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(d,`px;
    padding-right: `).concat(y,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(b,"px ").concat(n,`;
    `),i==="padding"&&"padding-right: ".concat(b,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat($3,` {
    right: `).concat(b,"px ").concat(n,`;
  }
  
  .`).concat(N3,` {
    margin-right: `).concat(b,"px ").concat(n,`;
  }
  
  .`).concat($3," .").concat($3,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(N3," .").concat(N3,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(C0,`] {
    `).concat(Dat,": ").concat(b,`px;
  }
`)},dN=function(){var t=parseInt(document.body.getAttribute(C0)||"0",10);return isFinite(t)?t:0},elt=function(){K.useEffect(function(){return document.body.setAttribute(C0,(dN()+1).toString()),function(){var t=dN()-1;t<=0?document.body.removeAttribute(C0):document.body.setAttribute(C0,t.toString())}},[])},ilt=function(t){var e=t.noRelative,i=t.noImportant,n=t.gapMode,a=n===void 0?"margin":n;elt();var d=K.useMemo(function(){return Zat(a)},[a]);return K.createElement(Qat,{styles:tlt(d,!e,a,i?"":"!important")})},QS=!1;if(typeof window<"u")try{var I2=Object.defineProperty({},"passive",{get:function(){return QS=!0,!0}});window.addEventListener("test",I2,I2),window.removeEventListener("test",I2,I2)}catch{QS=!1}var Pd=QS?{passive:!1}:!1,rlt=function(t){return t.tagName==="TEXTAREA"},GU=function(t,e){if(!(t instanceof Element))return!1;var i=window.getComputedStyle(t);return i[e]!=="hidden"&&!(i.overflowY===i.overflowX&&!rlt(t)&&i[e]==="visible")},nlt=function(t){return GU(t,"overflowY")},slt=function(t){return GU(t,"overflowX")},pN=function(t,e){var i=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=qU(t,n);if(a){var d=HU(t,n),y=d[1],b=d[2];if(y>b)return!0}n=n.parentNode}while(n&&n!==i.body);return!1},olt=function(t){var e=t.scrollTop,i=t.scrollHeight,n=t.clientHeight;return[e,i,n]},alt=function(t){var e=t.scrollLeft,i=t.scrollWidth,n=t.clientWidth;return[e,i,n]},qU=function(t,e){return t==="v"?nlt(e):slt(e)},HU=function(t,e){return t==="v"?olt(e):alt(e)},llt=function(t,e){return t==="h"&&e==="rtl"?-1:1},ult=function(t,e,i,n,a){var d=llt(t,window.getComputedStyle(e).direction),y=d*n,b=i.target,S=e.contains(b),T=!1,C=y>0,k=0,D=0;do{if(!b)break;var z=HU(t,b),G=z[0],B=z[1],H=z[2],X=B-H-d*G;(G||X)&&qU(t,b)&&(k+=X,D+=G);var et=b.parentNode;b=et&&et.nodeType===Node.DOCUMENT_FRAGMENT_NODE?et.host:et}while(!S&&b!==document.body||S&&(e.contains(b)||e===b));return(C&&Math.abs(k)<1||!C&&Math.abs(D)<1)&&(T=!0),T},D2=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},yN=function(t){return[t.deltaX,t.deltaY]},mN=function(t){return t&&"current"in t?t.current:t},clt=function(t,e){return t[0]===e[0]&&t[1]===e[1]},hlt=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},flt=0,Id=[];function dlt(t){var e=K.useRef([]),i=K.useRef([0,0]),n=K.useRef(),a=K.useState(flt++)[0],d=K.useState(BU)[0],y=K.useRef(t);K.useEffect(function(){y.current=t},[t]),K.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var B=Pat([t.lockRef.current],(t.shards||[]).map(mN),!0).filter(Boolean);return B.forEach(function(H){return H.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),B.forEach(function(H){return H.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var b=K.useCallback(function(B,H){if("touches"in B&&B.touches.length===2||B.type==="wheel"&&B.ctrlKey)return!y.current.allowPinchZoom;var X=D2(B),et=i.current,rt="deltaX"in B?B.deltaX:et[0]-X[0],it="deltaY"in B?B.deltaY:et[1]-X[1],ot,pt=B.target,yt=Math.abs(rt)>Math.abs(it)?"h":"v";if("touches"in B&&yt==="h"&&pt.type==="range")return!1;var ft=pN(yt,pt);if(!ft)return!0;if(ft?ot=yt:(ot=yt==="v"?"h":"v",ft=pN(yt,pt)),!ft)return!1;if(!n.current&&"changedTouches"in B&&(rt||it)&&(n.current=ot),!ot)return!0;var vt=n.current||ot;return ult(vt,H,B,vt==="h"?rt:it)},[]),S=K.useCallback(function(B){var H=B;if(!(!Id.length||Id[Id.length-1]!==d)){var X="deltaY"in H?yN(H):D2(H),et=e.current.filter(function(ot){return ot.name===H.type&&(ot.target===H.target||H.target===ot.shadowParent)&&clt(ot.delta,X)})[0];if(et&&et.should){H.cancelable&&H.preventDefault();return}if(!et){var rt=(y.current.shards||[]).map(mN).filter(Boolean).filter(function(ot){return ot.contains(H.target)}),it=rt.length>0?b(H,rt[0]):!y.current.noIsolation;it&&H.cancelable&&H.preventDefault()}}},[]),T=K.useCallback(function(B,H,X,et){var rt={name:B,delta:H,target:X,should:et,shadowParent:plt(X)};e.current.push(rt),setTimeout(function(){e.current=e.current.filter(function(it){return it!==rt})},1)},[]),C=K.useCallback(function(B){i.current=D2(B),n.current=void 0},[]),k=K.useCallback(function(B){T(B.type,yN(B),B.target,b(B,t.lockRef.current))},[]),D=K.useCallback(function(B){T(B.type,D2(B),B.target,b(B,t.lockRef.current))},[]);K.useEffect(function(){return Id.push(d),t.setCallbacks({onScrollCapture:k,onWheelCapture:k,onTouchMoveCapture:D}),document.addEventListener("wheel",S,Pd),document.addEventListener("touchmove",S,Pd),document.addEventListener("touchstart",C,Pd),function(){Id=Id.filter(function(B){return B!==d}),document.removeEventListener("wheel",S,Pd),document.removeEventListener("touchmove",S,Pd),document.removeEventListener("touchstart",C,Pd)}},[]);var z=t.removeScrollBar,G=t.inert;return K.createElement(K.Fragment,null,G?K.createElement(d,{styles:hlt(a)}):null,z?K.createElement(ilt,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function plt(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const ylt=Gat(FU,dlt);var VU=K.forwardRef(function(t,e){return K.createElement(T5,Za({},t,{ref:e,sideCar:ylt}))});VU.classNames=T5.classNames;var mlt=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Dd=new WeakMap,L2=new WeakMap,j2={},W6=0,WU=function(t){return t&&(t.host||WU(t.parentNode))},glt=function(t,e){return e.map(function(i){if(t.contains(i))return i;var n=WU(i);return n&&t.contains(n)?n:(console.error("aria-hidden",i,"in not contained inside",t,". Doing nothing"),null)}).filter(function(i){return!!i})},vlt=function(t,e,i,n){var a=glt(e,Array.isArray(t)?t:[t]);j2[i]||(j2[i]=new WeakMap);var d=j2[i],y=[],b=new Set,S=new Set(a),T=function(k){!k||b.has(k)||(b.add(k),T(k.parentNode))};a.forEach(T);var C=function(k){!k||S.has(k)||Array.prototype.forEach.call(k.children,function(D){if(b.has(D))C(D);else try{var z=D.getAttribute(n),G=z!==null&&z!=="false",B=(Dd.get(D)||0)+1,H=(d.get(D)||0)+1;Dd.set(D,B),d.set(D,H),y.push(D),B===1&&G&&L2.set(D,!0),H===1&&D.setAttribute(i,"true"),G||D.setAttribute(n,"true")}catch(X){console.error("aria-hidden: cannot operate on ",D,X)}})};return C(e),b.clear(),W6++,function(){y.forEach(function(k){var D=Dd.get(k)-1,z=d.get(k)-1;Dd.set(k,D),d.set(k,z),D||(L2.has(k)||k.removeAttribute(n),L2.delete(k)),z||k.removeAttribute(i)}),W6--,W6||(Dd=new WeakMap,Dd=new WeakMap,L2=new WeakMap,j2={})}},blt=function(t,e,i){i===void 0&&(i="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),a=mlt(t);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),vlt(n,a,i,"aria-hidden")):function(){return null}},E5="Dialog",[JU,xMt]=Hp(E5),[wlt,Aa]=JU(E5),YU=t=>{const{__scopeDialog:e,children:i,open:n,defaultOpen:a,onOpenChange:d,modal:y=!0}=t,b=K.useRef(null),S=K.useRef(null),[T,C]=x5({prop:n,defaultProp:a??!1,onChange:d,caller:E5});return at.jsx(wlt,{scope:e,triggerRef:b,contentRef:S,contentId:R0(),titleId:R0(),descriptionId:R0(),open:T,onOpenChange:C,onOpenToggle:K.useCallback(()=>C(k=>!k),[C]),modal:y,children:i})};YU.displayName=E5;var KU="DialogTrigger",_lt=K.forwardRef((t,e)=>{const{__scopeDialog:i,...n}=t,a=Aa(KU,i),d=kn(e,a.triggerRef);return at.jsx(Sr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":yE(a.open),...n,ref:d,onClick:ar(t.onClick,a.onOpenToggle)})});_lt.displayName=KU;var dE="DialogPortal",[Slt,XU]=JU(dE,{forceMount:void 0}),ZU=t=>{const{__scopeDialog:e,forceMount:i,children:n,container:a}=t,d=Aa(dE,e);return at.jsx(Slt,{scope:e,forceMount:i,children:K.Children.map(n,y=>at.jsx(dl,{present:i||d.open,children:at.jsx(jU,{asChild:!0,container:a,children:y})}))})};ZU.displayName=dE;var aw="DialogOverlay",QU=K.forwardRef((t,e)=>{const i=XU(aw,t.__scopeDialog),{forceMount:n=i.forceMount,...a}=t,d=Aa(aw,t.__scopeDialog);return d.modal?at.jsx(dl,{present:n||d.open,children:at.jsx(Tlt,{...a,ref:e})}):null});QU.displayName=aw;var xlt=Qm("DialogOverlay.RemoveScroll"),Tlt=K.forwardRef((t,e)=>{const{__scopeDialog:i,...n}=t,a=Aa(aw,i);return at.jsx(VU,{as:xlt,allowPinchZoom:!0,shards:[a.contentRef],children:at.jsx(Sr.div,{"data-state":yE(a.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Bf="DialogContent",tF=K.forwardRef((t,e)=>{const i=XU(Bf,t.__scopeDialog),{forceMount:n=i.forceMount,...a}=t,d=Aa(Bf,t.__scopeDialog);return at.jsx(dl,{present:n||d.open,children:d.modal?at.jsx(Elt,{...a,ref:e}):at.jsx(Mlt,{...a,ref:e})})});tF.displayName=Bf;var Elt=K.forwardRef((t,e)=>{const i=Aa(Bf,t.__scopeDialog),n=K.useRef(null),a=kn(e,i.contentRef,n);return K.useEffect(()=>{const d=n.current;if(d)return blt(d)},[]),at.jsx(eF,{...t,ref:a,trapFocus:i.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ar(t.onCloseAutoFocus,d=>{d.preventDefault(),i.triggerRef.current?.focus()}),onPointerDownOutside:ar(t.onPointerDownOutside,d=>{const y=d.detail.originalEvent,b=y.button===0&&y.ctrlKey===!0;(y.button===2||b)&&d.preventDefault()}),onFocusOutside:ar(t.onFocusOutside,d=>d.preventDefault())})}),Mlt=K.forwardRef((t,e)=>{const i=Aa(Bf,t.__scopeDialog),n=K.useRef(!1),a=K.useRef(!1);return at.jsx(eF,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:d=>{t.onCloseAutoFocus?.(d),d.defaultPrevented||(n.current||i.triggerRef.current?.focus(),d.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:d=>{t.onInteractOutside?.(d),d.defaultPrevented||(n.current=!0,d.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const y=d.target;i.triggerRef.current?.contains(y)&&d.preventDefault(),d.detail.originalEvent.type==="focusin"&&a.current&&d.preventDefault()}})}),eF=K.forwardRef((t,e)=>{const{__scopeDialog:i,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:d,...y}=t,b=Aa(Bf,i),S=K.useRef(null),T=kn(e,S);return kat(),at.jsxs(at.Fragment,{children:[at.jsx(DU,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:d,children:at.jsx(PU,{role:"dialog",id:b.contentId,"aria-describedby":b.descriptionId,"aria-labelledby":b.titleId,"data-state":yE(b.open),...y,ref:T,onDismiss:()=>b.onOpenChange(!1)})}),at.jsxs(at.Fragment,{children:[at.jsx(Rlt,{titleId:b.titleId}),at.jsx(Olt,{contentRef:S,descriptionId:b.descriptionId})]})]})}),pE="DialogTitle",iF=K.forwardRef((t,e)=>{const{__scopeDialog:i,...n}=t,a=Aa(pE,i);return at.jsx(Sr.h2,{id:a.titleId,...n,ref:e})});iF.displayName=pE;var rF="DialogDescription",nF=K.forwardRef((t,e)=>{const{__scopeDialog:i,...n}=t,a=Aa(rF,i);return at.jsx(Sr.p,{id:a.descriptionId,...n,ref:e})});nF.displayName=rF;var sF="DialogClose",Alt=K.forwardRef((t,e)=>{const{__scopeDialog:i,...n}=t,a=Aa(sF,i);return at.jsx(Sr.button,{type:"button",...n,ref:e,onClick:ar(t.onClick,()=>a.onOpenChange(!1))})});Alt.displayName=sF;function yE(t){return t?"open":"closed"}var oF="DialogTitleWarning",[TMt,aF]=rst(oF,{contentName:Bf,titleName:pE,docsSlug:"dialog"}),Rlt=({titleId:t})=>{const e=aF(oF),i=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return K.useEffect(()=>{t&&(document.getElementById(t)||console.error(i))},[i,t]),null},Clt="DialogDescriptionWarning",Olt=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${aF(Clt).contentName}}.`;return K.useEffect(()=>{const a=t.current?.getAttribute("aria-describedby");e&&a&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},$lt=YU,Nlt=ZU,klt=QU,Plt=tF,Ilt=iF,Dlt=nF;function Llt(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",e.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}const lF=Qt.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),Wg=()=>{const t=Qt.useContext(lF);if(!t)throw new Error("useDrawerContext must be used within a Drawer.Root");return t};Llt(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function jlt(){const t=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(t)&&/Mobile/.test(t)||/FxiOS/.test(t))}function zlt(){return mE(/^Mac/)}function Ult(){return mE(/^iPhone/)}function gN(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function Flt(){return mE(/^iPad/)||zlt()&&navigator.maxTouchPoints>1}function uF(){return Ult()||Flt()}function mE(t){return typeof window<"u"&&window.navigator!=null?t.test(window.navigator.platform):void 0}const Blt=24,Glt=typeof window<"u"?K.useLayoutEffect:K.useEffect;function vN(...t){return(...e)=>{for(let i of t)typeof i=="function"&&i(...e)}}const J6=typeof document<"u"&&window.visualViewport;function bN(t){let e=window.getComputedStyle(t);return/(auto|scroll)/.test(e.overflow+e.overflowX+e.overflowY)}function cF(t){for(bN(t)&&(t=t.parentElement);t&&!bN(t);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}const qlt=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let z2=0,Y6;function Hlt(t={}){let{isDisabled:e}=t;Glt(()=>{if(!e)return z2++,z2===1&&uF()&&(Y6=Vlt()),()=>{z2--,z2===0&&Y6?.()}},[e])}function Vlt(){let t,e=0,i=k=>{t=cF(k.target),!(t===document.documentElement&&t===document.body)&&(e=k.changedTouches[0].pageY)},n=k=>{if(!t||t===document.documentElement||t===document.body){k.preventDefault();return}let D=k.changedTouches[0].pageY,z=t.scrollTop,G=t.scrollHeight-t.clientHeight;G!==0&&((z<=0&&D>e||z>=G&&D<e)&&k.preventDefault(),e=D)},a=k=>{let D=k.target;tx(D)&&D!==document.activeElement&&(k.preventDefault(),D.style.transform="translateY(-2000px)",D.focus(),requestAnimationFrame(()=>{D.style.transform=""}))},d=k=>{let D=k.target;tx(D)&&(D.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{D.style.transform="",J6&&(J6.height<window.innerHeight?requestAnimationFrame(()=>{wN(D)}):J6.addEventListener("resize",()=>wN(D),{once:!0}))}))},y=()=>{window.scrollTo(0,0)},b=window.pageXOffset,S=window.pageYOffset,T=vN(Wlt(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let C=vN(oy(document,"touchstart",i,{passive:!1,capture:!0}),oy(document,"touchmove",n,{passive:!1,capture:!0}),oy(document,"touchend",a,{passive:!1,capture:!0}),oy(document,"focus",d,!0),oy(window,"scroll",y));return()=>{T(),C(),window.scrollTo(b,S)}}function Wlt(t,e,i){let n=t.style[e];return t.style[e]=i,()=>{t.style[e]=n}}function oy(t,e,i,n){return t.addEventListener(e,i,n),()=>{t.removeEventListener(e,i,n)}}function wN(t){let e=document.scrollingElement||document.documentElement;for(;t&&t!==e;){let i=cF(t);if(i!==document.documentElement&&i!==document.body&&i!==t){let n=i.getBoundingClientRect().top,a=t.getBoundingClientRect().top,d=t.getBoundingClientRect().bottom;const y=i.getBoundingClientRect().bottom+Blt;d>y&&(i.scrollTop+=a-n)}t=i.parentElement}}function tx(t){return t instanceof HTMLInputElement&&!qlt.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}function Jlt(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Ylt(...t){return e=>t.forEach(i=>Jlt(i,e))}function hF(...t){return K.useCallback(Ylt(...t),t)}const fF=new WeakMap;function rn(t,e,i=!1){if(!t||!(t instanceof HTMLElement))return;let n={};Object.entries(e).forEach(([a,d])=>{if(a.startsWith("--")){t.style.setProperty(a,d);return}n[a]=t.style[a],t.style[a]=d}),!i&&fF.set(t,n)}function Klt(t,e){if(!t||!(t instanceof HTMLElement))return;let i=fF.get(t);i&&(t.style[e]=i[e])}const Kr=t=>{switch(t){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return t}};function U2(t,e){if(!t)return null;const i=window.getComputedStyle(t),n=i.transform||i.webkitTransform||i.mozTransform;let a=n.match(/^matrix3d\((.+)\)$/);return a?parseFloat(a[1].split(", ")[Kr(e)?13:12]):(a=n.match(/^matrix\((.+)\)$/),a?parseFloat(a[1].split(", ")[Kr(e)?5:4]):null)}function Xlt(t){return 8*(Math.log(t+1)-2)}function K6(t,e){if(!t)return()=>{};const i=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=i}}function Zlt(...t){return(...e)=>{for(const i of t)typeof i=="function"&&i(...e)}}const gr={DURATION:.5,EASE:[.32,.72,0,1]},dF=.4,Qlt=.25,tut=100,pF=8,Sh=16,ex=26,X6="vaul-dragging";function yF(t){const e=Qt.useRef(t);return Qt.useEffect(()=>{e.current=t}),Qt.useMemo(()=>(...i)=>e.current==null?void 0:e.current.call(e,...i),[])}function eut({defaultProp:t,onChange:e}){const i=Qt.useState(t),[n]=i,a=Qt.useRef(n),d=yF(e);return Qt.useEffect(()=>{a.current!==n&&(d(n),a.current=n)},[n,a,d]),i}function mF({prop:t,defaultProp:e,onChange:i=()=>{}}){const[n,a]=eut({defaultProp:e,onChange:i}),d=t!==void 0,y=d?t:n,b=yF(i),S=Qt.useCallback(T=>{if(d){const k=typeof T=="function"?T(t):T;k!==t&&b(k)}else a(T)},[d,t,a,b]);return[y,S]}function iut({activeSnapPointProp:t,setActiveSnapPointProp:e,snapPoints:i,drawerRef:n,overlayRef:a,fadeFromIndex:d,onSnapPointChange:y,direction:b="bottom",container:S,snapToSequentialPoint:T}){const[C,k]=mF({prop:t,defaultProp:i?.[0],onChange:e}),[D,z]=Qt.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);Qt.useEffect(()=>{function yt(){z({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",yt),()=>window.removeEventListener("resize",yt)},[]);const G=Qt.useMemo(()=>C===i?.[i.length-1]||null,[i,C]),B=Qt.useMemo(()=>{var yt;return(yt=i?.findIndex(ft=>ft===C))!=null?yt:null},[i,C]),H=i&&i.length>0&&(d||d===0)&&!Number.isNaN(d)&&i[d]===C||!i,X=Qt.useMemo(()=>{const yt=S?{width:S.getBoundingClientRect().width,height:S.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var ft;return(ft=i?.map(vt=>{const Ct=typeof vt=="string";let Dt=0;if(Ct&&(Dt=parseInt(vt,10)),Kr(b)){const Wt=Ct?Dt:D?vt*yt.height:0;return D?b==="bottom"?yt.height-Wt:-yt.height+Wt:Wt}const zt=Ct?Dt:D?vt*yt.width:0;return D?b==="right"?yt.width-zt:-yt.width+zt:zt}))!=null?ft:[]},[i,D,S]),et=Qt.useMemo(()=>B!==null?X?.[B]:null,[X,B]),rt=Qt.useCallback(yt=>{var ft;const vt=(ft=X?.findIndex(Ct=>Ct===yt))!=null?ft:null;y(vt),rn(n.current,{transition:`transform ${gr.DURATION}s cubic-bezier(${gr.EASE.join(",")})`,transform:Kr(b)?`translate3d(0, ${yt}px, 0)`:`translate3d(${yt}px, 0, 0)`}),X&&vt!==X.length-1&&d!==void 0&&vt!==d&&vt<d?rn(a.current,{transition:`opacity ${gr.DURATION}s cubic-bezier(${gr.EASE.join(",")})`,opacity:"0"}):rn(a.current,{transition:`opacity ${gr.DURATION}s cubic-bezier(${gr.EASE.join(",")})`,opacity:"1"}),k(i?.[Math.max(vt,0)])},[n.current,i,X,d,a,k]);Qt.useEffect(()=>{if(C||t){var yt;const ft=(yt=i?.findIndex(vt=>vt===t||vt===C))!=null?yt:-1;X&&ft!==-1&&typeof X[ft]=="number"&&rt(X[ft])}},[C,t,i,X,rt]);function it({draggedDistance:yt,closeDrawer:ft,velocity:vt,dismissible:Ct}){if(d===void 0)return;const Dt=b==="bottom"||b==="right"?(et??0)-yt:(et??0)+yt,zt=B===d-1,Wt=B===0,Xt=yt>0;if(zt&&rn(a.current,{transition:`opacity ${gr.DURATION}s cubic-bezier(${gr.EASE.join(",")})`}),!T&&vt>2&&!Xt){Ct?ft():rt(X[0]);return}if(!T&&vt>2&&Xt&&X&&i){rt(X[i.length-1]);return}const re=X?.reduce((It,$t)=>typeof It!="number"||typeof $t!="number"?It:Math.abs($t-Dt)<Math.abs(It-Dt)?$t:It),_t=Kr(b)?window.innerHeight:window.innerWidth;if(vt>dF&&Math.abs(yt)<_t*.4){const It=Xt?1:-1;if(It>0&&G&&i){rt(X[i.length-1]);return}if(Wt&&It<0&&Ct&&ft(),B===null)return;rt(X[B+It]);return}rt(re)}function ot({draggedDistance:yt}){if(et===null)return;const ft=b==="bottom"||b==="right"?et-yt:et+yt;(b==="bottom"||b==="right")&&ft<X[X.length-1]||(b==="top"||b==="left")&&ft>X[X.length-1]||rn(n.current,{transform:Kr(b)?`translate3d(0, ${ft}px, 0)`:`translate3d(${ft}px, 0, 0)`})}function pt(yt,ft){if(!i||typeof B!="number"||!X||d===void 0)return null;const vt=B===d-1;if(B>=d&&ft)return 0;if(vt&&!ft)return 1;if(!H&&!vt)return null;const Dt=vt?B+1:B-1,zt=vt?X[Dt]-X[Dt-1]:X[Dt+1]-X[Dt],Wt=yt/Math.abs(zt);return vt?1-Wt:Wt}return{isLastSnapPoint:G,activeSnapPoint:C,shouldFade:H,getPercentageDragged:pt,setActiveSnapPoint:k,activeSnapPointIndex:B,onRelease:it,onDrag:ot,snapPointsOffset:X}}const rut=()=>()=>{};function nut(){const{direction:t,isOpen:e,shouldScaleBackground:i,setBackgroundColorOnScale:n,noBodyStyles:a}=Wg(),d=Qt.useRef(null),y=K.useMemo(()=>document.body.style.backgroundColor,[]);function b(){return(window.innerWidth-ex)/window.innerWidth}Qt.useEffect(()=>{if(e&&i){d.current&&clearTimeout(d.current);const S=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!S)return;Zlt(n&&!a?K6(document.body,{background:"black"}):rut,K6(S,{transformOrigin:Kr(t)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${gr.DURATION}s`,transitionTimingFunction:`cubic-bezier(${gr.EASE.join(",")})`}));const T=K6(S,{borderRadius:`${pF}px`,overflow:"hidden",...Kr(t)?{transform:`scale(${b()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${b()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{T(),d.current=window.setTimeout(()=>{y?document.body.style.background=y:document.body.style.removeProperty("background")},gr.DURATION*1e3)}}},[e,i,y])}let ay=null;function sut({isOpen:t,modal:e,nested:i,hasBeenOpened:n,preventScrollRestoration:a,noBodyStyles:d}){const[y,b]=Qt.useState(()=>typeof window<"u"?window.location.href:""),S=Qt.useRef(0),T=Qt.useCallback(()=>{if(gN()&&ay===null&&t&&!d){ay={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:k,innerHeight:D}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-S.current}px`,left:`${-k}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const z=D-window.innerHeight;z&&S.current>=D&&(document.body.style.top=`${-(S.current+z)}px`)}),300)}},[t]),C=Qt.useCallback(()=>{if(gN()&&ay!==null&&!d){const k=-parseInt(document.body.style.top,10),D=-parseInt(document.body.style.left,10);Object.assign(document.body.style,ay),window.requestAnimationFrame(()=>{if(a&&y!==window.location.href){b(window.location.href);return}window.scrollTo(D,k)}),ay=null}},[y]);return Qt.useEffect(()=>{function k(){S.current=window.scrollY}return k(),window.addEventListener("scroll",k),()=>{window.removeEventListener("scroll",k)}},[]),Qt.useEffect(()=>{if(e)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||C()}},[e,C]),Qt.useEffect(()=>{i||!n||(t?(!window.matchMedia("(display-mode: standalone)").matches&&T(),e||window.setTimeout(()=>{C()},500)):C())},[t,n,y,e,i,T,C]),{restorePositionSetting:C}}function out({open:t,onOpenChange:e,children:i,onDrag:n,onRelease:a,snapPoints:d,shouldScaleBackground:y=!1,setBackgroundColorOnScale:b=!0,closeThreshold:S=Qlt,scrollLockTimeout:T=tut,dismissible:C=!0,handleOnly:k=!1,fadeFromIndex:D=d&&d.length-1,activeSnapPoint:z,setActiveSnapPoint:G,fixed:B,modal:H=!0,onClose:X,nested:et,noBodyStyles:rt=!1,direction:it="bottom",defaultOpen:ot=!1,disablePreventScroll:pt=!0,snapToSequentialPoint:yt=!1,preventScrollRestoration:ft=!1,repositionInputs:vt=!0,onAnimationEnd:Ct,container:Dt,autoFocus:zt=!1}){var Wt,Xt;const[re=!1,_t]=mF({defaultProp:ot,prop:t,onChange:h=>{e?.(h),!h&&!et&&Wi(),setTimeout(()=>{Ct?.(h)},gr.DURATION*1e3),h&&!H&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),h||(document.body.style.pointerEvents="auto")}}),[It,$t]=Qt.useState(!1),[ge,dt]=Qt.useState(!1),[Ft,Kt]=Qt.useState(!1),Vt=Qt.useRef(null),ie=Qt.useRef(null),Oe=Qt.useRef(null),ce=Qt.useRef(null),je=Qt.useRef(null),ze=Qt.useRef(!1),Si=Qt.useRef(null),Ge=Qt.useRef(0),Qi=Qt.useRef(!1),Vi=Qt.useRef(!ot),xn=Qt.useRef(0),we=Qt.useRef(null),ts=Qt.useRef(((Wt=we.current)==null?void 0:Wt.getBoundingClientRect().height)||0),bi=Qt.useRef(((Xt=we.current)==null?void 0:Xt.getBoundingClientRect().width)||0),Q=Qt.useRef(0),pr=Qt.useCallback(h=>{d&&h===Tr.length-1&&(ie.current=new Date)},[]),{activeSnapPoint:fs,activeSnapPointIndex:Me,setActiveSnapPoint:Ve,onRelease:Hr,snapPointsOffset:Tr,onDrag:Tn,shouldFade:Pn,getPercentageDragged:ds}=iut({snapPoints:d,activeSnapPointProp:z,setActiveSnapPointProp:G,drawerRef:we,fadeFromIndex:D,overlayRef:Vt,onSnapPointChange:pr,direction:it,container:Dt,snapToSequentialPoint:yt});Hlt({isDisabled:!re||ge||!H||Ft||!It||!vt||!pt});const{restorePositionSetting:Wi}=sut({isOpen:re,modal:H,nested:et??!1,hasBeenOpened:It,preventScrollRestoration:ft,noBodyStyles:rt});function Ri(){return(window.innerWidth-ex)/window.innerWidth}function Gt(h){var f,p;!C&&!d||we.current&&!we.current.contains(h.target)||(ts.current=((f=we.current)==null?void 0:f.getBoundingClientRect().height)||0,bi.current=((p=we.current)==null?void 0:p.getBoundingClientRect().width)||0,dt(!0),Oe.current=new Date,uF()&&window.addEventListener("touchend",()=>ze.current=!1,{once:!0}),h.target.setPointerCapture(h.pointerId),Ge.current=Kr(it)?h.pageY:h.pageX)}function In(h,f){var p;let g=h;const _=(p=window.getSelection())==null?void 0:p.toString(),M=we.current?U2(we.current,it):null,R=new Date;if(g.tagName==="SELECT"||g.hasAttribute("data-vaul-no-drag")||g.closest("[data-vaul-no-drag]"))return!1;if(it==="right"||it==="left")return!0;if(ie.current&&R.getTime()-ie.current.getTime()<500)return!1;if(M!==null&&(it==="bottom"?M>0:M<0))return!0;if(_&&_.length>0)return!1;if(je.current&&R.getTime()-je.current.getTime()<T&&M===0||f)return je.current=R,!1;for(;g;){if(g.scrollHeight>g.clientHeight){if(g.scrollTop!==0)return je.current=new Date,!1;if(g.getAttribute("role")==="dialog")return!0}g=g.parentNode}return!0}function c(h){if(we.current&&ge){const f=it==="bottom"||it==="right"?1:-1,p=(Ge.current-(Kr(it)?h.pageY:h.pageX))*f,g=p>0,_=d&&!C&&!g;if(_&&Me===0)return;const M=Math.abs(p),R=document.querySelector("[data-vaul-drawer-wrapper]"),$=it==="bottom"||it==="top"?ts.current:bi.current;let P=M/$;const j=ds(M,g);if(j!==null&&(P=j),_&&P>=1||!ze.current&&!In(h.target,g))return;if(we.current.classList.add(X6),ze.current=!0,rn(we.current,{transition:"none"}),rn(Vt.current,{transition:"none"}),d&&Tn({draggedDistance:p}),g&&!d){const V=Xlt(p),W=Math.min(V*-1,0)*f;rn(we.current,{transform:Kr(it)?`translate3d(0, ${W}px, 0)`:`translate3d(${W}px, 0, 0)`});return}const F=1-P;if((Pn||D&&Me===D-1)&&(n?.(h,P),rn(Vt.current,{opacity:`${F}`,transition:"none"},!0)),R&&Vt.current&&y){const V=Math.min(Ri()+P*(1-Ri()),1),W=8-P*8,q=Math.max(0,14-P*14);rn(R,{borderRadius:`${W}px`,transform:Kr(it)?`scale(${V}) translate3d(0, ${q}px, 0)`:`scale(${V}) translate3d(${q}px, 0, 0)`,transition:"none"},!0)}if(!d){const V=M*f;rn(we.current,{transform:Kr(it)?`translate3d(0, ${V}px, 0)`:`translate3d(${V}px, 0, 0)`})}}}Qt.useEffect(()=>{window.requestAnimationFrame(()=>{Vi.current=!0})},[]),Qt.useEffect(()=>{var h;function f(){if(!we.current||!vt)return;const p=document.activeElement;if(tx(p)||Qi.current){var g;const _=((g=window.visualViewport)==null?void 0:g.height)||0,M=window.innerHeight;let R=M-_;const $=we.current.getBoundingClientRect().height||0,P=$>M*.8;Q.current||(Q.current=$);const j=we.current.getBoundingClientRect().top;if(Math.abs(xn.current-R)>60&&(Qi.current=!Qi.current),d&&d.length>0&&Tr&&Me){const F=Tr[Me]||0;R+=F}if(xn.current=R,$>_||Qi.current){const F=we.current.getBoundingClientRect().height;let V=F;F>_&&(V=_-(P?j:ex)),B?we.current.style.height=`${F-Math.max(R,0)}px`:we.current.style.height=`${Math.max(V,_-j)}px`}else jlt()||(we.current.style.height=`${Q.current}px`);d&&d.length>0&&!Qi.current?we.current.style.bottom="0px":we.current.style.bottom=`${Math.max(R,0)}px`}}return(h=window.visualViewport)==null||h.addEventListener("resize",f),()=>{var p;return(p=window.visualViewport)==null?void 0:p.removeEventListener("resize",f)}},[Me,d,Tr]);function I(h){u(),X?.(),h||_t(!1),setTimeout(()=>{d&&Ve(d[0])},gr.DURATION*1e3)}function w(){if(!we.current)return;const h=document.querySelector("[data-vaul-drawer-wrapper]"),f=U2(we.current,it);rn(we.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${gr.DURATION}s cubic-bezier(${gr.EASE.join(",")})`}),rn(Vt.current,{transition:`opacity ${gr.DURATION}s cubic-bezier(${gr.EASE.join(",")})`,opacity:"1"}),y&&f&&f>0&&re&&rn(h,{borderRadius:`${pF}px`,overflow:"hidden",...Kr(it)?{transform:`scale(${Ri()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Ri()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${gr.DURATION}s`,transitionTimingFunction:`cubic-bezier(${gr.EASE.join(",")})`},!0)}function u(){!ge||!we.current||(we.current.classList.remove(X6),ze.current=!1,dt(!1),ce.current=new Date)}function o(h){if(!ge||!we.current)return;we.current.classList.remove(X6),ze.current=!1,dt(!1),ce.current=new Date;const f=U2(we.current,it);if(!h||!In(h.target,!1)||!f||Number.isNaN(f)||Oe.current===null)return;const p=ce.current.getTime()-Oe.current.getTime(),g=Ge.current-(Kr(it)?h.pageY:h.pageX),_=Math.abs(g)/p;if(_>.05&&(Kt(!0),setTimeout(()=>{Kt(!1)},200)),d){Hr({draggedDistance:g*(it==="bottom"||it==="right"?1:-1),closeDrawer:I,velocity:_,dismissible:C}),a?.(h,!0);return}if(it==="bottom"||it==="right"?g>0:g<0){w(),a?.(h,!0);return}if(_>dF){I(),a?.(h,!1);return}var M;const R=Math.min((M=we.current.getBoundingClientRect().height)!=null?M:0,window.innerHeight);var $;const P=Math.min(($=we.current.getBoundingClientRect().width)!=null?$:0,window.innerWidth),j=it==="left"||it==="right";if(Math.abs(f)>=(j?P:R)*S){I(),a?.(h,!1);return}a?.(h,!0),w()}Qt.useEffect(()=>(re&&(rn(document.documentElement,{scrollBehavior:"auto"}),ie.current=new Date),()=>{Klt(document.documentElement,"scrollBehavior")}),[re]);function r(h){const f=h?(window.innerWidth-Sh)/window.innerWidth:1,p=h?-Sh:0;Si.current&&window.clearTimeout(Si.current),rn(we.current,{transition:`transform ${gr.DURATION}s cubic-bezier(${gr.EASE.join(",")})`,transform:Kr(it)?`scale(${f}) translate3d(0, ${p}px, 0)`:`scale(${f}) translate3d(${p}px, 0, 0)`}),!h&&we.current&&(Si.current=setTimeout(()=>{const g=U2(we.current,it);rn(we.current,{transition:"none",transform:Kr(it)?`translate3d(0, ${g}px, 0)`:`translate3d(${g}px, 0, 0)`})},500))}function s(h,f){if(f<0)return;const p=(window.innerWidth-Sh)/window.innerWidth,g=p+f*(1-p),_=-Sh+f*Sh;rn(we.current,{transform:Kr(it)?`scale(${g}) translate3d(0, ${_}px, 0)`:`scale(${g}) translate3d(${_}px, 0, 0)`,transition:"none"})}function l(h,f){const p=Kr(it)?window.innerHeight:window.innerWidth,g=f?(p-Sh)/p:1,_=f?-Sh:0;f&&rn(we.current,{transition:`transform ${gr.DURATION}s cubic-bezier(${gr.EASE.join(",")})`,transform:Kr(it)?`scale(${g}) translate3d(0, ${_}px, 0)`:`scale(${g}) translate3d(${_}px, 0, 0)`})}return Qt.useEffect(()=>{H||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[H]),Qt.createElement($lt,{defaultOpen:ot,onOpenChange:h=>{!C&&!h||(h?$t(!0):I(!0),_t(h))},open:re},Qt.createElement(lF.Provider,{value:{activeSnapPoint:fs,snapPoints:d,setActiveSnapPoint:Ve,drawerRef:we,overlayRef:Vt,onOpenChange:e,onPress:Gt,onRelease:o,onDrag:c,dismissible:C,shouldAnimate:Vi,handleOnly:k,isOpen:re,isDragging:ge,shouldFade:Pn,closeDrawer:I,onNestedDrag:s,onNestedOpenChange:r,onNestedRelease:l,keyboardIsOpen:Qi,modal:H,snapPointsOffset:Tr,activeSnapPointIndex:Me,direction:it,shouldScaleBackground:y,setBackgroundColorOnScale:b,noBodyStyles:rt,container:Dt,autoFocus:zt}},i))}const gF=Qt.forwardRef(function({...t},e){const{overlayRef:i,snapPoints:n,onRelease:a,shouldFade:d,isOpen:y,modal:b,shouldAnimate:S}=Wg(),T=hF(e,i),C=n&&n.length>0;if(!b)return null;const k=Qt.useCallback(D=>a(D),[a]);return Qt.createElement(klt,{onMouseUp:k,ref:T,"data-vaul-overlay":"","data-vaul-snap-points":y&&C?"true":"false","data-vaul-snap-points-overlay":y&&d?"true":"false","data-vaul-animate":S?.current?"true":"false",...t})});gF.displayName="Drawer.Overlay";const vF=Qt.forwardRef(function({onPointerDownOutside:t,style:e,onOpenAutoFocus:i,...n},a){const{drawerRef:d,onPress:y,onRelease:b,onDrag:S,keyboardIsOpen:T,snapPointsOffset:C,activeSnapPointIndex:k,modal:D,isOpen:z,direction:G,snapPoints:B,container:H,handleOnly:X,shouldAnimate:et,autoFocus:rt}=Wg(),[it,ot]=Qt.useState(!1),pt=hF(a,d),yt=Qt.useRef(null),ft=Qt.useRef(null),vt=Qt.useRef(!1),Ct=B&&B.length>0;nut();const Dt=(Wt,Xt,re=0)=>{if(vt.current)return!0;const _t=Math.abs(Wt.y),It=Math.abs(Wt.x),$t=It>_t,ge=["bottom","right"].includes(Xt)?1:-1;if(Xt==="left"||Xt==="right"){if(!(Wt.x*ge<0)&&It>=0&&It<=re)return $t}else if(!(Wt.y*ge<0)&&_t>=0&&_t<=re)return!$t;return vt.current=!0,!0};Qt.useEffect(()=>{Ct&&window.requestAnimationFrame(()=>{ot(!0)})},[]);function zt(Wt){yt.current=null,vt.current=!1,b(Wt)}return Qt.createElement(Plt,{"data-vaul-drawer-direction":G,"data-vaul-drawer":"","data-vaul-delayed-snap-points":it?"true":"false","data-vaul-snap-points":z&&Ct?"true":"false","data-vaul-custom-container":H?"true":"false","data-vaul-animate":et?.current?"true":"false",...n,ref:pt,style:C&&C.length>0?{"--snap-point-height":`${C[k??0]}px`,...e}:e,onPointerDown:Wt=>{X||(n.onPointerDown==null||n.onPointerDown.call(n,Wt),yt.current={x:Wt.pageX,y:Wt.pageY},y(Wt))},onOpenAutoFocus:Wt=>{i?.(Wt),rt||Wt.preventDefault()},onPointerDownOutside:Wt=>{if(t?.(Wt),!D||Wt.defaultPrevented){Wt.preventDefault();return}T.current&&(T.current=!1)},onFocusOutside:Wt=>{if(!D){Wt.preventDefault();return}},onPointerMove:Wt=>{if(ft.current=Wt,X||(n.onPointerMove==null||n.onPointerMove.call(n,Wt),!yt.current))return;const Xt=Wt.pageY-yt.current.y,re=Wt.pageX-yt.current.x,_t=Wt.pointerType==="touch"?10:2;Dt({x:re,y:Xt},G,_t)?S(Wt):(Math.abs(re)>_t||Math.abs(Xt)>_t)&&(yt.current=null)},onPointerUp:Wt=>{n.onPointerUp==null||n.onPointerUp.call(n,Wt),yt.current=null,vt.current=!1,b(Wt)},onPointerOut:Wt=>{n.onPointerOut==null||n.onPointerOut.call(n,Wt),zt(ft.current)},onContextMenu:Wt=>{n.onContextMenu==null||n.onContextMenu.call(n,Wt),ft.current&&zt(ft.current)}})});vF.displayName="Drawer.Content";const aut=250,lut=120,uut=Qt.forwardRef(function({preventCycle:t=!1,children:e,...i},n){const{closeDrawer:a,isDragging:d,snapPoints:y,activeSnapPoint:b,setActiveSnapPoint:S,dismissible:T,handleOnly:C,isOpen:k,onPress:D,onDrag:z}=Wg(),G=Qt.useRef(null),B=Qt.useRef(!1);function H(){if(B.current){rt();return}window.setTimeout(()=>{X()},lut)}function X(){if(d||t||B.current){rt();return}if(rt(),!y||y.length===0){T||a();return}if(b===y[y.length-1]&&T){a();return}const ot=y.findIndex(yt=>yt===b);if(ot===-1)return;const pt=y[ot+1];S(pt)}function et(){G.current=window.setTimeout(()=>{B.current=!0},aut)}function rt(){G.current&&window.clearTimeout(G.current),B.current=!1}return Qt.createElement("div",{onClick:H,onPointerCancel:rt,onPointerDown:it=>{C&&D(it),et()},onPointerMove:it=>{C&&z(it)},ref:n,"data-vaul-drawer-visible":k?"true":"false","data-vaul-handle":"","aria-hidden":"true",...i},Qt.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},e))});uut.displayName="Drawer.Handle";function cut(t){const e=Wg(),{container:i=e.container,...n}=t;return Qt.createElement(Nlt,{container:i,...n})}const Yp={Root:out,Content:vF,Overlay:gF,Portal:cut,Title:Ilt,Description:Dlt};function hut({...t}){return at.jsx(Yp.Root,{"data-slot":"drawer",...t})}function fut({...t}){return at.jsx(Yp.Portal,{"data-slot":"drawer-portal",...t})}function dut({className:t,...e}){return at.jsx(Yp.Overlay,{"data-slot":"drawer-overlay",className:Ai("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function put({className:t,children:e,...i}){return at.jsxs(fut,{"data-slot":"drawer-portal",children:[at.jsx(dut,{}),at.jsxs(Yp.Content,{"data-slot":"drawer-content",className:Ai("group/drawer-content bg-background fixed z-50 flex h-auto flex-col","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-3/4 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:sm:max-w-sm","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",t),...i,children:[at.jsx("div",{className:"bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block"}),e]})]})}function yut({className:t,...e}){return at.jsx("div",{"data-slot":"drawer-header",className:Ai("flex flex-col gap-0.5 p-4 group-data-[vaul-drawer-direction=bottom]/drawer-content:text-center group-data-[vaul-drawer-direction=top]/drawer-content:text-center md:gap-1.5 md:text-left",t),...e})}function mut({className:t,...e}){return at.jsx(Yp.Title,{"data-slot":"drawer-title",className:Ai("text-foreground font-semibold",t),...e})}function gut({className:t,...e}){return at.jsx(Yp.Description,{"data-slot":"drawer-description",className:Ai("text-muted-foreground text-sm",t),...e})}function bF({className:t,type:e,...i}){return at.jsx("input",{type:e,"data-slot":"input",className:Ai("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...i})}const vut=()=>{const{query:t,setQuery:e,onInputChange:i,placeholder:n,isFocused:a,setIsFocused:d}=fE(),y=K.useRef(null);return at.jsx(hut,{repositionInputs:!1,open:a,onOpenChange:d,children:at.jsxs(put,{onAnimationEnd:()=>{y.current?.focus()},className:"min-h-[70vh] max-w-xl mx-auto",children:[at.jsxs(yut,{className:"sr-only",children:[at.jsx(mut,{children:"Suggestions List"}),at.jsx(gut,{children:"Autocomplete Suggestions List"})]}),at.jsxs("div",{className:"flex items-center gap-2 mb-4 pt-4 px-4",children:[at.jsxs("div",{className:"relative w-full",children:[at.jsx(bF,{ref:y,value:t,onChange:b=>{e(b.target.value),i?.(b.target.value)},placeholder:n,className:"pr-10"}),at.jsx(y5,{onClick:()=>{e(""),i?.(""),y.current&&y.current.focus()},className:"absolute top-0 right-0 z-50"})]}),at.jsx("button",{className:"text-sm",onClick:()=>{d(!1)},children:"Close"})]}),at.jsx(NU,{className:"max-h-[calc(100vh-104px)] [&_li]:border-b [&_li]:border-black/10 [&_li]:last:border-none"})]})})};function wF(t,e){return function(){return t.apply(e,arguments)}}const{toString:but}=Object.prototype,{getPrototypeOf:gE}=Object,{iterator:M5,toStringTag:_F}=Symbol,A5=(t=>e=>{const i=but.call(e);return t[i]||(t[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),Ra=t=>(t=t.toLowerCase(),e=>A5(e)===t),R5=t=>e=>typeof e===t,{isArray:Kp}=Array,cg=R5("undefined");function Jg(t){return t!==null&&!cg(t)&&t.constructor!==null&&!cg(t.constructor)&&Is(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const SF=Ra("ArrayBuffer");function wut(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&SF(t.buffer),e}const _ut=R5("string"),Is=R5("function"),xF=R5("number"),Yg=t=>t!==null&&typeof t=="object",Sut=t=>t===!0||t===!1,k3=t=>{if(A5(t)!=="object")return!1;const e=gE(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(_F in t)&&!(M5 in t)},xut=t=>{if(!Yg(t)||Jg(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Tut=Ra("Date"),Eut=Ra("File"),Mut=Ra("Blob"),Aut=Ra("FileList"),Rut=t=>Yg(t)&&Is(t.pipe),Cut=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Is(t.append)&&((e=A5(t))==="formdata"||e==="object"&&Is(t.toString)&&t.toString()==="[object FormData]"))},Out=Ra("URLSearchParams"),[$ut,Nut,kut,Put]=["ReadableStream","Request","Response","Headers"].map(Ra),Iut=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Kg(t,e,{allOwnKeys:i=!1}={}){if(t===null||typeof t>"u")return;let n,a;if(typeof t!="object"&&(t=[t]),Kp(t))for(n=0,a=t.length;n<a;n++)e.call(null,t[n],n,t);else{if(Jg(t))return;const d=i?Object.getOwnPropertyNames(t):Object.keys(t),y=d.length;let b;for(n=0;n<y;n++)b=d[n],e.call(null,t[b],b,t)}}function TF(t,e){if(Jg(t))return null;e=e.toLowerCase();const i=Object.keys(t);let n=i.length,a;for(;n-- >0;)if(a=i[n],e===a.toLowerCase())return a;return null}const nf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,EF=t=>!cg(t)&&t!==nf;function ix(){const{caseless:t}=EF(this)&&this||{},e={},i=(n,a)=>{const d=t&&TF(e,a)||a;k3(e[d])&&k3(n)?e[d]=ix(e[d],n):k3(n)?e[d]=ix({},n):Kp(n)?e[d]=n.slice():e[d]=n};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&Kg(arguments[n],i);return e}const Dut=(t,e,i,{allOwnKeys:n}={})=>(Kg(e,(a,d)=>{i&&Is(a)?t[d]=wF(a,i):t[d]=a},{allOwnKeys:n}),t),Lut=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),jut=(t,e,i,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),i&&Object.assign(t.prototype,i)},zut=(t,e,i,n)=>{let a,d,y;const b={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),d=a.length;d-- >0;)y=a[d],(!n||n(y,t,e))&&!b[y]&&(e[y]=t[y],b[y]=!0);t=i!==!1&&gE(t)}while(t&&(!i||i(t,e))&&t!==Object.prototype);return e},Uut=(t,e,i)=>{t=String(t),(i===void 0||i>t.length)&&(i=t.length),i-=e.length;const n=t.indexOf(e,i);return n!==-1&&n===i},Fut=t=>{if(!t)return null;if(Kp(t))return t;let e=t.length;if(!xF(e))return null;const i=new Array(e);for(;e-- >0;)i[e]=t[e];return i},But=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&gE(Uint8Array)),Gut=(t,e)=>{const n=(t&&t[M5]).call(t);let a;for(;(a=n.next())&&!a.done;){const d=a.value;e.call(t,d[0],d[1])}},qut=(t,e)=>{let i;const n=[];for(;(i=t.exec(e))!==null;)n.push(i);return n},Hut=Ra("HTMLFormElement"),Vut=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,n,a){return n.toUpperCase()+a}),_N=(({hasOwnProperty:t})=>(e,i)=>t.call(e,i))(Object.prototype),Wut=Ra("RegExp"),MF=(t,e)=>{const i=Object.getOwnPropertyDescriptors(t),n={};Kg(i,(a,d)=>{let y;(y=e(a,d,t))!==!1&&(n[d]=y||a)}),Object.defineProperties(t,n)},Jut=t=>{MF(t,(e,i)=>{if(Is(t)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const n=t[i];if(Is(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},Yut=(t,e)=>{const i={},n=a=>{a.forEach(d=>{i[d]=!0})};return Kp(t)?n(t):n(String(t).split(e)),i},Kut=()=>{},Xut=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Zut(t){return!!(t&&Is(t.append)&&t[_F]==="FormData"&&t[M5])}const Qut=t=>{const e=new Array(10),i=(n,a)=>{if(Yg(n)){if(e.indexOf(n)>=0)return;if(Jg(n))return n;if(!("toJSON"in n)){e[a]=n;const d=Kp(n)?[]:{};return Kg(n,(y,b)=>{const S=i(y,a+1);!cg(S)&&(d[b]=S)}),e[a]=void 0,d}}return n};return i(t,0)},tct=Ra("AsyncFunction"),ect=t=>t&&(Yg(t)||Is(t))&&Is(t.then)&&Is(t.catch),AF=((t,e)=>t?setImmediate:e?((i,n)=>(nf.addEventListener("message",({source:a,data:d})=>{a===nf&&d===i&&n.length&&n.shift()()},!1),a=>{n.push(a),nf.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",Is(nf.postMessage)),ict=typeof queueMicrotask<"u"?queueMicrotask.bind(nf):typeof process<"u"&&process.nextTick||AF,rct=t=>t!=null&&Is(t[M5]),kt={isArray:Kp,isArrayBuffer:SF,isBuffer:Jg,isFormData:Cut,isArrayBufferView:wut,isString:_ut,isNumber:xF,isBoolean:Sut,isObject:Yg,isPlainObject:k3,isEmptyObject:xut,isReadableStream:$ut,isRequest:Nut,isResponse:kut,isHeaders:Put,isUndefined:cg,isDate:Tut,isFile:Eut,isBlob:Mut,isRegExp:Wut,isFunction:Is,isStream:Rut,isURLSearchParams:Out,isTypedArray:But,isFileList:Aut,forEach:Kg,merge:ix,extend:Dut,trim:Iut,stripBOM:Lut,inherits:jut,toFlatObject:zut,kindOf:A5,kindOfTest:Ra,endsWith:Uut,toArray:Fut,forEachEntry:Gut,matchAll:qut,isHTMLForm:Hut,hasOwnProperty:_N,hasOwnProp:_N,reduceDescriptors:MF,freezeMethods:Jut,toObjectSet:Yut,toCamelCase:Vut,noop:Kut,toFiniteNumber:Xut,findKey:TF,global:nf,isContextDefined:EF,isSpecCompliantForm:Zut,toJSONObject:Qut,isAsyncFn:tct,isThenable:ect,setImmediate:AF,asap:ict,isIterable:rct};function Je(t,e,i,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),i&&(this.config=i),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}kt.inherits(Je,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:kt.toJSONObject(this.config),code:this.code,status:this.status}}});const RF=Je.prototype,CF={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{CF[t]={value:t}});Object.defineProperties(Je,CF);Object.defineProperty(RF,"isAxiosError",{value:!0});Je.from=(t,e,i,n,a,d)=>{const y=Object.create(RF);return kt.toFlatObject(t,y,function(S){return S!==Error.prototype},b=>b!=="isAxiosError"),Je.call(y,t.message,e,i,n,a),y.cause=t,y.name=t.name,d&&Object.assign(y,d),y};const nct=null;function rx(t){return kt.isPlainObject(t)||kt.isArray(t)}function OF(t){return kt.endsWith(t,"[]")?t.slice(0,-2):t}function SN(t,e,i){return t?t.concat(e).map(function(a,d){return a=OF(a),!i&&d?"["+a+"]":a}).join(i?".":""):e}function sct(t){return kt.isArray(t)&&!t.some(rx)}const oct=kt.toFlatObject(kt,{},null,function(e){return/^is[A-Z]/.test(e)});function C5(t,e,i){if(!kt.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,i=kt.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(B,H){return!kt.isUndefined(H[B])});const n=i.metaTokens,a=i.visitor||C,d=i.dots,y=i.indexes,S=(i.Blob||typeof Blob<"u"&&Blob)&&kt.isSpecCompliantForm(e);if(!kt.isFunction(a))throw new TypeError("visitor must be a function");function T(G){if(G===null)return"";if(kt.isDate(G))return G.toISOString();if(kt.isBoolean(G))return G.toString();if(!S&&kt.isBlob(G))throw new Je("Blob is not supported. Use a Buffer instead.");return kt.isArrayBuffer(G)||kt.isTypedArray(G)?S&&typeof Blob=="function"?new Blob([G]):Buffer.from(G):G}function C(G,B,H){let X=G;if(G&&!H&&typeof G=="object"){if(kt.endsWith(B,"{}"))B=n?B:B.slice(0,-2),G=JSON.stringify(G);else if(kt.isArray(G)&&sct(G)||(kt.isFileList(G)||kt.endsWith(B,"[]"))&&(X=kt.toArray(G)))return B=OF(B),X.forEach(function(rt,it){!(kt.isUndefined(rt)||rt===null)&&e.append(y===!0?SN([B],it,d):y===null?B:B+"[]",T(rt))}),!1}return rx(G)?!0:(e.append(SN(H,B,d),T(G)),!1)}const k=[],D=Object.assign(oct,{defaultVisitor:C,convertValue:T,isVisitable:rx});function z(G,B){if(!kt.isUndefined(G)){if(k.indexOf(G)!==-1)throw Error("Circular reference detected in "+B.join("."));k.push(G),kt.forEach(G,function(X,et){(!(kt.isUndefined(X)||X===null)&&a.call(e,X,kt.isString(et)?et.trim():et,B,D))===!0&&z(X,B?B.concat(et):[et])}),k.pop()}}if(!kt.isObject(t))throw new TypeError("data must be an object");return z(t),e}function xN(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function vE(t,e){this._pairs=[],t&&C5(t,this,e)}const $F=vE.prototype;$F.append=function(e,i){this._pairs.push([e,i])};$F.toString=function(e){const i=e?function(n){return e.call(this,n,xN)}:xN;return this._pairs.map(function(a){return i(a[0])+"="+i(a[1])},"").join("&")};function act(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function NF(t,e,i){if(!e)return t;const n=i&&i.encode||act;kt.isFunction(i)&&(i={serialize:i});const a=i&&i.serialize;let d;if(a?d=a(e,i):d=kt.isURLSearchParams(e)?e.toString():new vE(e,i).toString(n),d){const y=t.indexOf("#");y!==-1&&(t=t.slice(0,y)),t+=(t.indexOf("?")===-1?"?":"&")+d}return t}class TN{constructor(){this.handlers=[]}use(e,i,n){return this.handlers.push({fulfilled:e,rejected:i,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){kt.forEach(this.handlers,function(n){n!==null&&e(n)})}}const kF={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},lct=typeof URLSearchParams<"u"?URLSearchParams:vE,uct=typeof FormData<"u"?FormData:null,cct=typeof Blob<"u"?Blob:null,hct={isBrowser:!0,classes:{URLSearchParams:lct,FormData:uct,Blob:cct},protocols:["http","https","file","blob","url","data"]},bE=typeof window<"u"&&typeof document<"u",nx=typeof navigator=="object"&&navigator||void 0,fct=bE&&(!nx||["ReactNative","NativeScript","NS"].indexOf(nx.product)<0),dct=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",pct=bE&&window.location.href||"http://localhost",yct=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:bE,hasStandardBrowserEnv:fct,hasStandardBrowserWebWorkerEnv:dct,navigator:nx,origin:pct},Symbol.toStringTag,{value:"Module"})),Yn={...yct,...hct};function mct(t,e){return C5(t,new Yn.classes.URLSearchParams,{visitor:function(i,n,a,d){return Yn.isNode&&kt.isBuffer(i)?(this.append(n,i.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...e})}function gct(t){return kt.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function vct(t){const e={},i=Object.keys(t);let n;const a=i.length;let d;for(n=0;n<a;n++)d=i[n],e[d]=t[d];return e}function PF(t){function e(i,n,a,d){let y=i[d++];if(y==="__proto__")return!0;const b=Number.isFinite(+y),S=d>=i.length;return y=!y&&kt.isArray(a)?a.length:y,S?(kt.hasOwnProp(a,y)?a[y]=[a[y],n]:a[y]=n,!b):((!a[y]||!kt.isObject(a[y]))&&(a[y]=[]),e(i,n,a[y],d)&&kt.isArray(a[y])&&(a[y]=vct(a[y])),!b)}if(kt.isFormData(t)&&kt.isFunction(t.entries)){const i={};return kt.forEachEntry(t,(n,a)=>{e(gct(n),a,i,0)}),i}return null}function bct(t,e,i){if(kt.isString(t))try{return(e||JSON.parse)(t),kt.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(i||JSON.stringify)(t)}const Xg={transitional:kF,adapter:["xhr","http","fetch"],transformRequest:[function(e,i){const n=i.getContentType()||"",a=n.indexOf("application/json")>-1,d=kt.isObject(e);if(d&&kt.isHTMLForm(e)&&(e=new FormData(e)),kt.isFormData(e))return a?JSON.stringify(PF(e)):e;if(kt.isArrayBuffer(e)||kt.isBuffer(e)||kt.isStream(e)||kt.isFile(e)||kt.isBlob(e)||kt.isReadableStream(e))return e;if(kt.isArrayBufferView(e))return e.buffer;if(kt.isURLSearchParams(e))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let b;if(d){if(n.indexOf("application/x-www-form-urlencoded")>-1)return mct(e,this.formSerializer).toString();if((b=kt.isFileList(e))||n.indexOf("multipart/form-data")>-1){const S=this.env&&this.env.FormData;return C5(b?{"files[]":e}:e,S&&new S,this.formSerializer)}}return d||a?(i.setContentType("application/json",!1),bct(e)):e}],transformResponse:[function(e){const i=this.transitional||Xg.transitional,n=i&&i.forcedJSONParsing,a=this.responseType==="json";if(kt.isResponse(e)||kt.isReadableStream(e))return e;if(e&&kt.isString(e)&&(n&&!this.responseType||a)){const y=!(i&&i.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(b){if(y)throw b.name==="SyntaxError"?Je.from(b,Je.ERR_BAD_RESPONSE,this,null,this.response):b}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Yn.classes.FormData,Blob:Yn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};kt.forEach(["delete","get","head","post","put","patch"],t=>{Xg.headers[t]={}});const wct=kt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_ct=t=>{const e={};let i,n,a;return t&&t.split(`
`).forEach(function(y){a=y.indexOf(":"),i=y.substring(0,a).trim().toLowerCase(),n=y.substring(a+1).trim(),!(!i||e[i]&&wct[i])&&(i==="set-cookie"?e[i]?e[i].push(n):e[i]=[n]:e[i]=e[i]?e[i]+", "+n:n)}),e},EN=Symbol("internals");function ly(t){return t&&String(t).trim().toLowerCase()}function P3(t){return t===!1||t==null?t:kt.isArray(t)?t.map(P3):String(t)}function Sct(t){const e=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=i.exec(t);)e[n[1]]=n[2];return e}const xct=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Z6(t,e,i,n,a){if(kt.isFunction(n))return n.call(this,e,i);if(a&&(e=i),!!kt.isString(e)){if(kt.isString(n))return e.indexOf(n)!==-1;if(kt.isRegExp(n))return n.test(e)}}function Tct(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,i,n)=>i.toUpperCase()+n)}function Ect(t,e){const i=kt.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+i,{value:function(a,d,y){return this[n].call(this,e,a,d,y)},configurable:!0})})}let Ds=class{constructor(e){e&&this.set(e)}set(e,i,n){const a=this;function d(b,S,T){const C=ly(S);if(!C)throw new Error("header name must be a non-empty string");const k=kt.findKey(a,C);(!k||a[k]===void 0||T===!0||T===void 0&&a[k]!==!1)&&(a[k||S]=P3(b))}const y=(b,S)=>kt.forEach(b,(T,C)=>d(T,C,S));if(kt.isPlainObject(e)||e instanceof this.constructor)y(e,i);else if(kt.isString(e)&&(e=e.trim())&&!xct(e))y(_ct(e),i);else if(kt.isObject(e)&&kt.isIterable(e)){let b={},S,T;for(const C of e){if(!kt.isArray(C))throw TypeError("Object iterator must return a key-value pair");b[T=C[0]]=(S=b[T])?kt.isArray(S)?[...S,C[1]]:[S,C[1]]:C[1]}y(b,i)}else e!=null&&d(i,e,n);return this}get(e,i){if(e=ly(e),e){const n=kt.findKey(this,e);if(n){const a=this[n];if(!i)return a;if(i===!0)return Sct(a);if(kt.isFunction(i))return i.call(this,a,n);if(kt.isRegExp(i))return i.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,i){if(e=ly(e),e){const n=kt.findKey(this,e);return!!(n&&this[n]!==void 0&&(!i||Z6(this,this[n],n,i)))}return!1}delete(e,i){const n=this;let a=!1;function d(y){if(y=ly(y),y){const b=kt.findKey(n,y);b&&(!i||Z6(n,n[b],b,i))&&(delete n[b],a=!0)}}return kt.isArray(e)?e.forEach(d):d(e),a}clear(e){const i=Object.keys(this);let n=i.length,a=!1;for(;n--;){const d=i[n];(!e||Z6(this,this[d],d,e,!0))&&(delete this[d],a=!0)}return a}normalize(e){const i=this,n={};return kt.forEach(this,(a,d)=>{const y=kt.findKey(n,d);if(y){i[y]=P3(a),delete i[d];return}const b=e?Tct(d):String(d).trim();b!==d&&delete i[d],i[b]=P3(a),n[b]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const i=Object.create(null);return kt.forEach(this,(n,a)=>{n!=null&&n!==!1&&(i[a]=e&&kt.isArray(n)?n.join(", "):n)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,i])=>e+": "+i).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...i){const n=new this(e);return i.forEach(a=>n.set(a)),n}static accessor(e){const n=(this[EN]=this[EN]={accessors:{}}).accessors,a=this.prototype;function d(y){const b=ly(y);n[b]||(Ect(a,y),n[b]=!0)}return kt.isArray(e)?e.forEach(d):d(e),this}};Ds.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);kt.reduceDescriptors(Ds.prototype,({value:t},e)=>{let i=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[i]=n}}});kt.freezeMethods(Ds);function Q6(t,e){const i=this||Xg,n=e||i,a=Ds.from(n.headers);let d=n.data;return kt.forEach(t,function(b){d=b.call(i,d,a.normalize(),e?e.status:void 0)}),a.normalize(),d}function IF(t){return!!(t&&t.__CANCEL__)}function Xp(t,e,i){Je.call(this,t??"canceled",Je.ERR_CANCELED,e,i),this.name="CanceledError"}kt.inherits(Xp,Je,{__CANCEL__:!0});function DF(t,e,i){const n=i.config.validateStatus;!i.status||!n||n(i.status)?t(i):e(new Je("Request failed with status code "+i.status,[Je.ERR_BAD_REQUEST,Je.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function Mct(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Act(t,e){t=t||10;const i=new Array(t),n=new Array(t);let a=0,d=0,y;return e=e!==void 0?e:1e3,function(S){const T=Date.now(),C=n[d];y||(y=T),i[a]=S,n[a]=T;let k=d,D=0;for(;k!==a;)D+=i[k++],k=k%t;if(a=(a+1)%t,a===d&&(d=(d+1)%t),T-y<e)return;const z=C&&T-C;return z?Math.round(D*1e3/z):void 0}}function Rct(t,e){let i=0,n=1e3/e,a,d;const y=(T,C=Date.now())=>{i=C,a=null,d&&(clearTimeout(d),d=null),t(...T)};return[(...T)=>{const C=Date.now(),k=C-i;k>=n?y(T,C):(a=T,d||(d=setTimeout(()=>{d=null,y(a)},n-k)))},()=>a&&y(a)]}const lw=(t,e,i=3)=>{let n=0;const a=Act(50,250);return Rct(d=>{const y=d.loaded,b=d.lengthComputable?d.total:void 0,S=y-n,T=a(S),C=y<=b;n=y;const k={loaded:y,total:b,progress:b?y/b:void 0,bytes:S,rate:T||void 0,estimated:T&&b&&C?(b-y)/T:void 0,event:d,lengthComputable:b!=null,[e?"download":"upload"]:!0};t(k)},i)},MN=(t,e)=>{const i=t!=null;return[n=>e[0]({lengthComputable:i,total:t,loaded:n}),e[1]]},AN=t=>(...e)=>kt.asap(()=>t(...e)),Cct=Yn.hasStandardBrowserEnv?((t,e)=>i=>(i=new URL(i,Yn.origin),t.protocol===i.protocol&&t.host===i.host&&(e||t.port===i.port)))(new URL(Yn.origin),Yn.navigator&&/(msie|trident)/i.test(Yn.navigator.userAgent)):()=>!0,Oct=Yn.hasStandardBrowserEnv?{write(t,e,i,n,a,d){const y=[t+"="+encodeURIComponent(e)];kt.isNumber(i)&&y.push("expires="+new Date(i).toGMTString()),kt.isString(n)&&y.push("path="+n),kt.isString(a)&&y.push("domain="+a),d===!0&&y.push("secure"),document.cookie=y.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function $ct(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Nct(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function LF(t,e,i){let n=!$ct(e);return t&&(n||i==!1)?Nct(t,e):e}const RN=t=>t instanceof Ds?{...t}:t;function Gf(t,e){e=e||{};const i={};function n(T,C,k,D){return kt.isPlainObject(T)&&kt.isPlainObject(C)?kt.merge.call({caseless:D},T,C):kt.isPlainObject(C)?kt.merge({},C):kt.isArray(C)?C.slice():C}function a(T,C,k,D){if(kt.isUndefined(C)){if(!kt.isUndefined(T))return n(void 0,T,k,D)}else return n(T,C,k,D)}function d(T,C){if(!kt.isUndefined(C))return n(void 0,C)}function y(T,C){if(kt.isUndefined(C)){if(!kt.isUndefined(T))return n(void 0,T)}else return n(void 0,C)}function b(T,C,k){if(k in e)return n(T,C);if(k in t)return n(void 0,T)}const S={url:d,method:d,data:d,baseURL:y,transformRequest:y,transformResponse:y,paramsSerializer:y,timeout:y,timeoutMessage:y,withCredentials:y,withXSRFToken:y,adapter:y,responseType:y,xsrfCookieName:y,xsrfHeaderName:y,onUploadProgress:y,onDownloadProgress:y,decompress:y,maxContentLength:y,maxBodyLength:y,beforeRedirect:y,transport:y,httpAgent:y,httpsAgent:y,cancelToken:y,socketPath:y,responseEncoding:y,validateStatus:b,headers:(T,C,k)=>a(RN(T),RN(C),k,!0)};return kt.forEach(Object.keys({...t,...e}),function(C){const k=S[C]||a,D=k(t[C],e[C],C);kt.isUndefined(D)&&k!==b||(i[C]=D)}),i}const jF=t=>{const e=Gf({},t);let{data:i,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:d,headers:y,auth:b}=e;e.headers=y=Ds.from(y),e.url=NF(LF(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),b&&y.set("Authorization","Basic "+btoa((b.username||"")+":"+(b.password?unescape(encodeURIComponent(b.password)):"")));let S;if(kt.isFormData(i)){if(Yn.hasStandardBrowserEnv||Yn.hasStandardBrowserWebWorkerEnv)y.setContentType(void 0);else if((S=y.getContentType())!==!1){const[T,...C]=S?S.split(";").map(k=>k.trim()).filter(Boolean):[];y.setContentType([T||"multipart/form-data",...C].join("; "))}}if(Yn.hasStandardBrowserEnv&&(n&&kt.isFunction(n)&&(n=n(e)),n||n!==!1&&Cct(e.url))){const T=a&&d&&Oct.read(d);T&&y.set(a,T)}return e},kct=typeof XMLHttpRequest<"u",Pct=kct&&function(t){return new Promise(function(i,n){const a=jF(t);let d=a.data;const y=Ds.from(a.headers).normalize();let{responseType:b,onUploadProgress:S,onDownloadProgress:T}=a,C,k,D,z,G;function B(){z&&z(),G&&G(),a.cancelToken&&a.cancelToken.unsubscribe(C),a.signal&&a.signal.removeEventListener("abort",C)}let H=new XMLHttpRequest;H.open(a.method.toUpperCase(),a.url,!0),H.timeout=a.timeout;function X(){if(!H)return;const rt=Ds.from("getAllResponseHeaders"in H&&H.getAllResponseHeaders()),ot={data:!b||b==="text"||b==="json"?H.responseText:H.response,status:H.status,statusText:H.statusText,headers:rt,config:t,request:H};DF(function(yt){i(yt),B()},function(yt){n(yt),B()},ot),H=null}"onloadend"in H?H.onloadend=X:H.onreadystatechange=function(){!H||H.readyState!==4||H.status===0&&!(H.responseURL&&H.responseURL.indexOf("file:")===0)||setTimeout(X)},H.onabort=function(){H&&(n(new Je("Request aborted",Je.ECONNABORTED,t,H)),H=null)},H.onerror=function(){n(new Je("Network Error",Je.ERR_NETWORK,t,H)),H=null},H.ontimeout=function(){let it=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const ot=a.transitional||kF;a.timeoutErrorMessage&&(it=a.timeoutErrorMessage),n(new Je(it,ot.clarifyTimeoutError?Je.ETIMEDOUT:Je.ECONNABORTED,t,H)),H=null},d===void 0&&y.setContentType(null),"setRequestHeader"in H&&kt.forEach(y.toJSON(),function(it,ot){H.setRequestHeader(ot,it)}),kt.isUndefined(a.withCredentials)||(H.withCredentials=!!a.withCredentials),b&&b!=="json"&&(H.responseType=a.responseType),T&&([D,G]=lw(T,!0),H.addEventListener("progress",D)),S&&H.upload&&([k,z]=lw(S),H.upload.addEventListener("progress",k),H.upload.addEventListener("loadend",z)),(a.cancelToken||a.signal)&&(C=rt=>{H&&(n(!rt||rt.type?new Xp(null,t,H):rt),H.abort(),H=null)},a.cancelToken&&a.cancelToken.subscribe(C),a.signal&&(a.signal.aborted?C():a.signal.addEventListener("abort",C)));const et=Mct(a.url);if(et&&Yn.protocols.indexOf(et)===-1){n(new Je("Unsupported protocol "+et+":",Je.ERR_BAD_REQUEST,t));return}H.send(d||null)})},Ict=(t,e)=>{const{length:i}=t=t?t.filter(Boolean):[];if(e||i){let n=new AbortController,a;const d=function(T){if(!a){a=!0,b();const C=T instanceof Error?T:this.reason;n.abort(C instanceof Je?C:new Xp(C instanceof Error?C.message:C))}};let y=e&&setTimeout(()=>{y=null,d(new Je(`timeout ${e} of ms exceeded`,Je.ETIMEDOUT))},e);const b=()=>{t&&(y&&clearTimeout(y),y=null,t.forEach(T=>{T.unsubscribe?T.unsubscribe(d):T.removeEventListener("abort",d)}),t=null)};t.forEach(T=>T.addEventListener("abort",d));const{signal:S}=n;return S.unsubscribe=()=>kt.asap(b),S}},Dct=function*(t,e){let i=t.byteLength;if(i<e){yield t;return}let n=0,a;for(;n<i;)a=n+e,yield t.slice(n,a),n=a},Lct=async function*(t,e){for await(const i of jct(t))yield*Dct(i,e)},jct=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:i,value:n}=await e.read();if(i)break;yield n}}finally{await e.cancel()}},CN=(t,e,i,n)=>{const a=Lct(t,e);let d=0,y,b=S=>{y||(y=!0,n&&n(S))};return new ReadableStream({async pull(S){try{const{done:T,value:C}=await a.next();if(T){b(),S.close();return}let k=C.byteLength;if(i){let D=d+=k;i(D)}S.enqueue(new Uint8Array(C))}catch(T){throw b(T),T}},cancel(S){return b(S),a.return()}},{highWaterMark:2})},O5=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",zF=O5&&typeof ReadableStream=="function",zct=O5&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),UF=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Uct=zF&&UF(()=>{let t=!1;const e=new Request(Yn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),ON=64*1024,sx=zF&&UF(()=>kt.isReadableStream(new Response("").body)),uw={stream:sx&&(t=>t.body)};O5&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!uw[e]&&(uw[e]=kt.isFunction(t[e])?i=>i[e]():(i,n)=>{throw new Je(`Response type '${e}' is not supported`,Je.ERR_NOT_SUPPORT,n)})})})(new Response);const Fct=async t=>{if(t==null)return 0;if(kt.isBlob(t))return t.size;if(kt.isSpecCompliantForm(t))return(await new Request(Yn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(kt.isArrayBufferView(t)||kt.isArrayBuffer(t))return t.byteLength;if(kt.isURLSearchParams(t)&&(t=t+""),kt.isString(t))return(await zct(t)).byteLength},Bct=async(t,e)=>{const i=kt.toFiniteNumber(t.getContentLength());return i??Fct(e)},Gct=O5&&(async t=>{let{url:e,method:i,data:n,signal:a,cancelToken:d,timeout:y,onDownloadProgress:b,onUploadProgress:S,responseType:T,headers:C,withCredentials:k="same-origin",fetchOptions:D}=jF(t);T=T?(T+"").toLowerCase():"text";let z=Ict([a,d&&d.toAbortSignal()],y),G;const B=z&&z.unsubscribe&&(()=>{z.unsubscribe()});let H;try{if(S&&Uct&&i!=="get"&&i!=="head"&&(H=await Bct(C,n))!==0){let ot=new Request(e,{method:"POST",body:n,duplex:"half"}),pt;if(kt.isFormData(n)&&(pt=ot.headers.get("content-type"))&&C.setContentType(pt),ot.body){const[yt,ft]=MN(H,lw(AN(S)));n=CN(ot.body,ON,yt,ft)}}kt.isString(k)||(k=k?"include":"omit");const X="credentials"in Request.prototype;G=new Request(e,{...D,signal:z,method:i.toUpperCase(),headers:C.normalize().toJSON(),body:n,duplex:"half",credentials:X?k:void 0});let et=await fetch(G,D);const rt=sx&&(T==="stream"||T==="response");if(sx&&(b||rt&&B)){const ot={};["status","statusText","headers"].forEach(vt=>{ot[vt]=et[vt]});const pt=kt.toFiniteNumber(et.headers.get("content-length")),[yt,ft]=b&&MN(pt,lw(AN(b),!0))||[];et=new Response(CN(et.body,ON,yt,()=>{ft&&ft(),B&&B()}),ot)}T=T||"text";let it=await uw[kt.findKey(uw,T)||"text"](et,t);return!rt&&B&&B(),await new Promise((ot,pt)=>{DF(ot,pt,{data:it,headers:Ds.from(et.headers),status:et.status,statusText:et.statusText,config:t,request:G})})}catch(X){throw B&&B(),X&&X.name==="TypeError"&&/Load failed|fetch/i.test(X.message)?Object.assign(new Je("Network Error",Je.ERR_NETWORK,t,G),{cause:X.cause||X}):Je.from(X,X&&X.code,t,G)}}),ox={http:nct,xhr:Pct,fetch:Gct};kt.forEach(ox,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const $N=t=>`- ${t}`,qct=t=>kt.isFunction(t)||t===null||t===!1,FF={getAdapter:t=>{t=kt.isArray(t)?t:[t];const{length:e}=t;let i,n;const a={};for(let d=0;d<e;d++){i=t[d];let y;if(n=i,!qct(i)&&(n=ox[(y=String(i)).toLowerCase()],n===void 0))throw new Je(`Unknown adapter '${y}'`);if(n)break;a[y||"#"+d]=n}if(!n){const d=Object.entries(a).map(([b,S])=>`adapter ${b} `+(S===!1?"is not supported by the environment":"is not available in the build"));let y=e?d.length>1?`since :
`+d.map($N).join(`
`):" "+$N(d[0]):"as no adapter specified";throw new Je("There is no suitable adapter to dispatch the request "+y,"ERR_NOT_SUPPORT")}return n},adapters:ox};function t_(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Xp(null,t)}function NN(t){return t_(t),t.headers=Ds.from(t.headers),t.data=Q6.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),FF.getAdapter(t.adapter||Xg.adapter)(t).then(function(n){return t_(t),n.data=Q6.call(t,t.transformResponse,n),n.headers=Ds.from(n.headers),n},function(n){return IF(n)||(t_(t),n&&n.response&&(n.response.data=Q6.call(t,t.transformResponse,n.response),n.response.headers=Ds.from(n.response.headers))),Promise.reject(n)})}const BF="1.11.0",$5={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{$5[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const kN={};$5.transitional=function(e,i,n){function a(d,y){return"[Axios v"+BF+"] Transitional option '"+d+"'"+y+(n?". "+n:"")}return(d,y,b)=>{if(e===!1)throw new Je(a(y," has been removed"+(i?" in "+i:"")),Je.ERR_DEPRECATED);return i&&!kN[y]&&(kN[y]=!0,console.warn(a(y," has been deprecated since v"+i+" and will be removed in the near future"))),e?e(d,y,b):!0}};$5.spelling=function(e){return(i,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function Hct(t,e,i){if(typeof t!="object")throw new Je("options must be an object",Je.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let a=n.length;for(;a-- >0;){const d=n[a],y=e[d];if(y){const b=t[d],S=b===void 0||y(b,d,t);if(S!==!0)throw new Je("option "+d+" must be "+S,Je.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new Je("Unknown option "+d,Je.ERR_BAD_OPTION)}}const I3={assertOptions:Hct,validators:$5},Da=I3.validators;let gf=class{constructor(e){this.defaults=e||{},this.interceptors={request:new TN,response:new TN}}async request(e,i){try{return await this._request(e,i)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const d=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?d&&!String(n.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+d):n.stack=d}catch{}}throw n}}_request(e,i){typeof e=="string"?(i=i||{},i.url=e):i=e||{},i=Gf(this.defaults,i);const{transitional:n,paramsSerializer:a,headers:d}=i;n!==void 0&&I3.assertOptions(n,{silentJSONParsing:Da.transitional(Da.boolean),forcedJSONParsing:Da.transitional(Da.boolean),clarifyTimeoutError:Da.transitional(Da.boolean)},!1),a!=null&&(kt.isFunction(a)?i.paramsSerializer={serialize:a}:I3.assertOptions(a,{encode:Da.function,serialize:Da.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),I3.assertOptions(i,{baseUrl:Da.spelling("baseURL"),withXsrfToken:Da.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let y=d&&kt.merge(d.common,d[i.method]);d&&kt.forEach(["delete","get","head","post","put","patch","common"],G=>{delete d[G]}),i.headers=Ds.concat(y,d);const b=[];let S=!0;this.interceptors.request.forEach(function(B){typeof B.runWhen=="function"&&B.runWhen(i)===!1||(S=S&&B.synchronous,b.unshift(B.fulfilled,B.rejected))});const T=[];this.interceptors.response.forEach(function(B){T.push(B.fulfilled,B.rejected)});let C,k=0,D;if(!S){const G=[NN.bind(this),void 0];for(G.unshift(...b),G.push(...T),D=G.length,C=Promise.resolve(i);k<D;)C=C.then(G[k++],G[k++]);return C}D=b.length;let z=i;for(k=0;k<D;){const G=b[k++],B=b[k++];try{z=G(z)}catch(H){B.call(this,H);break}}try{C=NN.call(this,z)}catch(G){return Promise.reject(G)}for(k=0,D=T.length;k<D;)C=C.then(T[k++],T[k++]);return C}getUri(e){e=Gf(this.defaults,e);const i=LF(e.baseURL,e.url,e.allowAbsoluteUrls);return NF(i,e.params,e.paramsSerializer)}};kt.forEach(["delete","get","head","options"],function(e){gf.prototype[e]=function(i,n){return this.request(Gf(n||{},{method:e,url:i,data:(n||{}).data}))}});kt.forEach(["post","put","patch"],function(e){function i(n){return function(d,y,b){return this.request(Gf(b||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:d,data:y}))}}gf.prototype[e]=i(),gf.prototype[e+"Form"]=i(!0)});let Vct=class GF{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(d){i=d});const n=this;this.promise.then(a=>{if(!n._listeners)return;let d=n._listeners.length;for(;d-- >0;)n._listeners[d](a);n._listeners=null}),this.promise.then=a=>{let d;const y=new Promise(b=>{n.subscribe(b),d=b}).then(a);return y.cancel=function(){n.unsubscribe(d)},y},e(function(d,y,b){n.reason||(n.reason=new Xp(d,y,b),i(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const i=this._listeners.indexOf(e);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const e=new AbortController,i=n=>{e.abort(n)};return this.subscribe(i),e.signal.unsubscribe=()=>this.unsubscribe(i),e.signal}static source(){let e;return{token:new GF(function(a){e=a}),cancel:e}}};function Wct(t){return function(i){return t.apply(null,i)}}function Jct(t){return kt.isObject(t)&&t.isAxiosError===!0}const ax={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ax).forEach(([t,e])=>{ax[e]=t});function qF(t){const e=new gf(t),i=wF(gf.prototype.request,e);return kt.extend(i,gf.prototype,e,{allOwnKeys:!0}),kt.extend(i,e,null,{allOwnKeys:!0}),i.create=function(a){return qF(Gf(t,a))},i}const Pr=qF(Xg);Pr.Axios=gf;Pr.CanceledError=Xp;Pr.CancelToken=Vct;Pr.isCancel=IF;Pr.VERSION=BF;Pr.toFormData=C5;Pr.AxiosError=Je;Pr.Cancel=Pr.CanceledError;Pr.all=function(e){return Promise.all(e)};Pr.spread=Wct;Pr.isAxiosError=Jct;Pr.mergeConfig=Gf;Pr.AxiosHeaders=Ds;Pr.formToJSON=t=>PF(kt.isHTMLForm(t)?new FormData(t):t);Pr.getAdapter=FF.getAdapter;Pr.HttpStatusCode=ax;Pr.default=Pr;const{Axios:AMt,AxiosError:RMt,CanceledError:CMt,isCancel:OMt,CancelToken:$Mt,VERSION:NMt,all:kMt,Cancel:PMt,isAxiosError:IMt,spread:DMt,toFormData:LMt,AxiosHeaders:jMt,HttpStatusCode:zMt,formToJSON:UMt,getAdapter:FMt,mergeConfig:BMt}=Pr,Yct=t=>{const[e,i]=K.useState([]),[n,a]=K.useState(!1),{position:d}=lT();return K.useEffect(()=>{if(!t){i([]);return}(async()=>{a(!0);try{const S=(await Pr.get("https://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer/suggest",{params:{f:"json",text:t,maxSuggestions:5,location:d?`${d.longitude},${d.latitude}`:void 0}})).data.suggestions.map(T=>({label:T.text,location:T.magicKey}));i(S)}catch(b){console.error(b)}finally{a(!1)}})()},[t,d]),{suggestions:e,loading:n}},Kct=(t,e)=>{const[i,n]=K.useState(null);return K.useEffect(()=>{const a=d=>{d.key==="Escape"?(n(null),document.activeElement?.blur()):d.key==="ArrowDown"?(d.preventDefault(),n(y=>y===null?0:y<t.length-1?y+1:0)):d.key==="ArrowUp"?(d.preventDefault(),n(y=>y===null?t.length-1:y>0?y-1:t.length-1)):d.key==="Enter"&&i!==null&&t[i]&&e(t[i])};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[i,t,e]),{highlightedIndex:i,setHighlightedIndex:n}},HF=({placeholder:t="Search",onSelect:e,onInputChange:i,initialQuery:n="",className:a})=>{const d=K.useRef(null),[y,b]=K.useState(!1),[S,T]=K.useState(n),{suggestions:C}=Yct(S),k=KT();K.useEffect(()=>{T(n)},[n]);const D=K.useCallback(async H=>{e(H),T(H.label),b(!1)},[e]),{highlightedIndex:z,setHighlightedIndex:G}=Kct(C,D),B={inputRef:d,query:S,setQuery:T,onInputChange:i,placeholder:t,isFocused:y,setIsFocused:b,suggestions:C,highlightedIndex:z,setHighlightedIndex:G,handleSelect:D};return at.jsxs("div",{className:"relative w-full",children:[at.jsx(bF,{ref:d,placeholder:t,value:S,readOnly:k,onChange:H=>{T(H.target.value),i?.(H.target.value)},onFocus:()=>b(!0),onBlur:()=>{k||setTimeout(()=>b(!1),200)},className:Ai("bg-white",k&&y&&"text-white !placeholder-white",a)}),at.jsx($U.Provider,{value:B,children:k?at.jsx(vut,{}):at.jsx(hat,{})})]})},VF=async t=>{try{const e=await Pr.get("https://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer/findAddressCandidates",{params:{f:"json",magicKey:t.location}});if(e.data.candidates.length>0){const i=e.data.candidates[0];return{coords:[i.location.x,i.location.y],label:t.label}}}catch(e){console.error(e)}},Xct=({stop:t,index:e,className:i})=>{const{stops:n,updateStop:a,removeStop:d}=js(),{attributes:y,listeners:b,setNodeRef:S,transform:T,transition:C}=aat({id:t.id}),k={transform:lg.Transform.toString(T),transition:C};return at.jsxs("div",{ref:S,style:k,className:Ai("relative flex items-center gap-1 group",i),children:[at.jsx(SQ,{...b,...y,className:Ai("size-5 cursor-grab text-stone-500 touch-none outline-none order-1 lg:order-none","group-hover:block sm:hidden","block sm:group-hover:block")}),e<n.length-1&&at.jsx(QZ,{className:"size-5 lg:group-hover:hidden"}),e===n.length-1&&at.jsx(yQ,{className:"size-5 lg:group-hover:hidden"}),at.jsx(dQ,{className:"absolute left-1 top-full size-2.5 ellipsis-icon transition-opacity"}),at.jsxs("div",{className:"relative w-full",children:[at.jsx(HF,{onSelect:D=>{VF(D).then(z=>{z&&a(t.id,z.coords,z.label)})},onInputChange:D=>{a(t.id,null,D)},placeholder:"Type or select a location",initialQuery:t.label,className:"shadow-sm pr-10"}),n.length>2&&at.jsx(y5,{onClick:()=>d(t.id),className:"absolute top-0 right-0"})]})]})},Zct=()=>{const{stops:t}=js(),{stopsListExpanded:e}=Yf();return at.jsx(at.Fragment,{children:t.slice(0,e?t.length:Ff).map((i,n)=>at.jsx(Xct,{stop:i,index:n,className:Ai((e&&n===t.length-1||!e&&n===Math.min(Ff-1,t.length-1))&&"[&_.ellipsis-icon]:hidden")},i.id))})},Qct=()=>{const{stopsListExpanded:t,setStopsListExpanded:e}=Yf(),{stops:i}=js();return i.length<=Ff?null:at.jsxs(lo,{variant:"ghost",className:"cursor-pointer text-xs h-min p-0 !bg-transparent hover:text-stone-500 mt-2.5",onClick:()=>e(!t),children:[!t&&at.jsxs(at.Fragment,{children:[i.length-Ff," More Stops",at.jsx(XZ,{className:"size-3"})]}),t&&at.jsxs(at.Fragment,{children:["Collapse Stops",at.jsx(HZ,{className:"size-3"})]})]})},tht=()=>{const{stops:t,setStops:e}=js(),i=Lst(Dst(cE)),[n,a]=K.useState(!1),d=y=>{a(!1);const{active:b,over:S}=y;b.id!==S?.id&&e(T=>{const C=T.findIndex(D=>D.id===b.id),k=T.findIndex(D=>D.id===S?.id);return hE(T,C,k)})};return at.jsx(Fot,{sensors:i,collisionDetection:Bst,onDragEnd:d,onDragStart:()=>a(!0),children:at.jsxs(tat,{items:t,strategy:Zot,children:[at.jsx(uU,{className:Ai("overflow-y-auto overflow-x-hidden scrollable-element max-h-[calc(100vh-238px-40px)]",n&&"[&_.ellipsis-icon]:opacity-0"),style:{minHeight:`${36*Math.min(t.length,Ff)+(Math.min(t.length,Ff)-1)*10+6}px`},children:at.jsx("div",{className:"flex flex-col gap-2.5 p-[3px] pl-0 overflow-hidden",children:at.jsx(Zct,{})})}),at.jsx(Qct,{}),at.jsx(uat,{})]})})},eht=()=>at.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",id:"Person-Walking--Streamline-Font-Awesome",height:"16",width:"16",children:at.jsx("path",{d:"M7.999855 1.63007c-0.00066 -1.1316599999999999 1.223985 -1.839665 2.204365 -1.274405 0.455525 0.262645 0.7360850000000001 0.7485900000000001 0.7357750000000001 1.274405 0.00066 1.131665 -1.223985 1.839665 -2.204365 1.274405 -0.455525 -0.26264 -0.7360850000000001 -0.7485850000000001 -0.7357750000000001 -1.274405Zm-1.02599 4.63379c-0.030625000000000003 0.01225 -0.05819 0.0245 -0.088815 0.036755l-0.24501499999999998 0.10719000000000001c-0.502275 0.223575 -0.8881650000000001 0.6492800000000001 -1.06274 1.1699350000000002l-0.079625 0.23888500000000001c-0.17151000000000002 0.514525 -0.72585 0.790165 -1.2403750000000002 0.6186550000000001s-0.790165 -0.72585 -0.6186550000000001 -1.2403750000000002l0.07963 -0.23888500000000001c0.34914 -1.044365 1.1209300000000002 -1.89578 2.12548 -2.3429300000000004l0.24501 -0.10719000000000001c0.6370300000000001 -0.281765 1.3261250000000002 -0.42877000000000004 2.02441 -0.42877000000000004 1.365945 0 2.59713 0.8207900000000001 3.1208400000000003 2.07954l0.47165 1.130115 0.655405 0.327705c0.48390000000000005 0.24195000000000003 0.67991 0.829975 0.43796 1.3138750000000001s-0.8299799999999999 0.67991 -1.3138750000000001 0.43796l-0.8207900000000001 -0.407335c-0.31545500000000004 -0.159255 -0.56353 -0.422645 -0.698285 -0.750345l-0.294015 -0.7044100000000001 -0.59109 2.0060350000000002 1.51601 1.6538300000000001c0.16538 0.18069500000000002 0.281765 0.398145 0.343015 0.6370300000000001l0.7044100000000001 2.8207000000000004c0.131695 0.523715 -0.18682 1.056615 -0.7135950000000001 1.1883100000000002s-1.056615 -0.18682 -1.1883100000000002 -0.7136l-0.6737850000000001 -2.6981900000000003 -2.16529 -2.361305c-0.45327500000000004 -0.49308500000000005 -0.62172 -1.182185 -0.45021000000000005 -1.8284l0.517585 -1.944785Zm-1.7702100000000003 6.085485 0.76566 -1.911095c0.064315 0.09188 0.13782000000000003 0.17763500000000002 0.21438500000000002 0.26339l1.2465000000000002 1.3598150000000002 -0.44408500000000006 1.10868c-0.073505 0.18376 -0.18376 0.35220500000000005 -0.32464000000000004 0.49308500000000005l-1.8896550000000003 1.8896550000000003c-0.38283 0.38283 -1.00455 0.38283 -1.38738 0s-0.38283 -1.004545 0 -1.38738l1.8192150000000002 -1.8161500000000002Z",fill:"#000000",strokeWidth:"0.05"})});function iht(t){const e=t+"CollectionProvider",[i,n]=Hp(e),[a,d]=i(e,{collectionRef:{current:null},itemMap:new Map}),y=B=>{const{scope:H,children:X}=B,et=Qt.useRef(null),rt=Qt.useRef(new Map).current;return at.jsx(a,{scope:H,itemMap:rt,collectionRef:et,children:X})};y.displayName=e;const b=t+"CollectionSlot",S=Qm(b),T=Qt.forwardRef((B,H)=>{const{scope:X,children:et}=B,rt=d(b,X),it=kn(H,rt.collectionRef);return at.jsx(S,{ref:it,children:et})});T.displayName=b;const C=t+"CollectionItemSlot",k="data-radix-collection-item",D=Qm(C),z=Qt.forwardRef((B,H)=>{const{scope:X,children:et,...rt}=B,it=Qt.useRef(null),ot=kn(H,it),pt=d(C,X);return Qt.useEffect(()=>(pt.itemMap.set(it,{ref:it,...rt}),()=>void pt.itemMap.delete(it))),at.jsx(D,{[k]:"",ref:ot,children:et})});z.displayName=C;function G(B){const H=d(t+"CollectionConsumer",B);return Qt.useCallback(()=>{const et=H.collectionRef.current;if(!et)return[];const rt=Array.from(et.querySelectorAll(`[${k}]`));return Array.from(H.itemMap.values()).sort((pt,yt)=>rt.indexOf(pt.ref.current)-rt.indexOf(yt.ref.current))},[H.collectionRef,H.itemMap])}return[{Provider:y,Slot:T,ItemSlot:z},G,n]}var e_="rovingFocusGroup.onEntryFocus",rht={bubbles:!1,cancelable:!0},Zg="RovingFocusGroup",[lx,WF,nht]=iht(Zg),[sht,JF]=Hp(Zg,[nht]),[oht,aht]=sht(Zg),YF=K.forwardRef((t,e)=>at.jsx(lx.Provider,{scope:t.__scopeRovingFocusGroup,children:at.jsx(lx.Slot,{scope:t.__scopeRovingFocusGroup,children:at.jsx(lht,{...t,ref:e})})}));YF.displayName=Zg;var lht=K.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:i,orientation:n,loop:a=!1,dir:d,currentTabStopId:y,defaultCurrentTabStopId:b,onCurrentTabStopIdChange:S,onEntryFocus:T,preventScrollOnEntryFocus:C=!1,...k}=t,D=K.useRef(null),z=kn(e,D),G=QT(d),[B,H]=x5({prop:y,defaultProp:b??null,onChange:S,caller:Zg}),[X,et]=K.useState(!1),rt=so(T),it=WF(i),ot=K.useRef(!1),[pt,yt]=K.useState(0);return K.useEffect(()=>{const ft=D.current;if(ft)return ft.addEventListener(e_,rt),()=>ft.removeEventListener(e_,rt)},[rt]),at.jsx(oht,{scope:i,orientation:n,dir:G,loop:a,currentTabStopId:B,onItemFocus:K.useCallback(ft=>H(ft),[H]),onItemShiftTab:K.useCallback(()=>et(!0),[]),onFocusableItemAdd:K.useCallback(()=>yt(ft=>ft+1),[]),onFocusableItemRemove:K.useCallback(()=>yt(ft=>ft-1),[]),children:at.jsx(Sr.div,{tabIndex:X||pt===0?-1:0,"data-orientation":n,...k,ref:z,style:{outline:"none",...t.style},onMouseDown:ar(t.onMouseDown,()=>{ot.current=!0}),onFocus:ar(t.onFocus,ft=>{const vt=!ot.current;if(ft.target===ft.currentTarget&&vt&&!X){const Ct=new CustomEvent(e_,rht);if(ft.currentTarget.dispatchEvent(Ct),!Ct.defaultPrevented){const Dt=it().filter(_t=>_t.focusable),zt=Dt.find(_t=>_t.active),Wt=Dt.find(_t=>_t.id===B),re=[zt,Wt,...Dt].filter(Boolean).map(_t=>_t.ref.current);ZF(re,C)}}ot.current=!1}),onBlur:ar(t.onBlur,()=>et(!1))})})}),KF="RovingFocusGroupItem",XF=K.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:i,focusable:n=!0,active:a=!1,tabStopId:d,children:y,...b}=t,S=R0(),T=d||S,C=aht(KF,i),k=C.currentTabStopId===T,D=WF(i),{onFocusableItemAdd:z,onFocusableItemRemove:G,currentTabStopId:B}=C;return K.useEffect(()=>{if(n)return z(),()=>G()},[n,z,G]),at.jsx(lx.ItemSlot,{scope:i,id:T,focusable:n,active:a,children:at.jsx(Sr.span,{tabIndex:k?0:-1,"data-orientation":C.orientation,...b,ref:e,onMouseDown:ar(t.onMouseDown,H=>{n?C.onItemFocus(T):H.preventDefault()}),onFocus:ar(t.onFocus,()=>C.onItemFocus(T)),onKeyDown:ar(t.onKeyDown,H=>{if(H.key==="Tab"&&H.shiftKey){C.onItemShiftTab();return}if(H.target!==H.currentTarget)return;const X=hht(H,C.orientation,C.dir);if(X!==void 0){if(H.metaKey||H.ctrlKey||H.altKey||H.shiftKey)return;H.preventDefault();let rt=D().filter(it=>it.focusable).map(it=>it.ref.current);if(X==="last")rt.reverse();else if(X==="prev"||X==="next"){X==="prev"&&rt.reverse();const it=rt.indexOf(H.currentTarget);rt=C.loop?fht(rt,it+1):rt.slice(it+1)}setTimeout(()=>ZF(rt))}}),children:typeof y=="function"?y({isCurrentTabStop:k,hasTabStop:B!=null}):y})})});XF.displayName=KF;var uht={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function cht(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function hht(t,e,i){const n=cht(t.key,i);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return uht[n]}function ZF(t,e=!1){const i=document.activeElement;for(const n of t)if(n===i||(n.focus({preventScroll:e}),document.activeElement!==i))return}function fht(t,e){return t.map((i,n)=>t[(e+n)%t.length])}var dht=YF,pht=XF,N5="Tabs",[yht,GMt]=Hp(N5,[JF]),QF=JF(),[mht,wE]=yht(N5),tB=K.forwardRef((t,e)=>{const{__scopeTabs:i,value:n,onValueChange:a,defaultValue:d,orientation:y="horizontal",dir:b,activationMode:S="automatic",...T}=t,C=QT(b),[k,D]=x5({prop:n,onChange:a,defaultProp:d??"",caller:N5});return at.jsx(mht,{scope:i,baseId:R0(),value:k,onValueChange:D,orientation:y,dir:C,activationMode:S,children:at.jsx(Sr.div,{dir:C,"data-orientation":y,...T,ref:e})})});tB.displayName=N5;var eB="TabsList",iB=K.forwardRef((t,e)=>{const{__scopeTabs:i,loop:n=!0,...a}=t,d=wE(eB,i),y=QF(i);return at.jsx(dht,{asChild:!0,...y,orientation:d.orientation,dir:d.dir,loop:n,children:at.jsx(Sr.div,{role:"tablist","aria-orientation":d.orientation,...a,ref:e})})});iB.displayName=eB;var rB="TabsTrigger",nB=K.forwardRef((t,e)=>{const{__scopeTabs:i,value:n,disabled:a=!1,...d}=t,y=wE(rB,i),b=QF(i),S=oB(y.baseId,n),T=aB(y.baseId,n),C=n===y.value;return at.jsx(pht,{asChild:!0,...b,focusable:!a,active:C,children:at.jsx(Sr.button,{type:"button",role:"tab","aria-selected":C,"aria-controls":T,"data-state":C?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:S,...d,ref:e,onMouseDown:ar(t.onMouseDown,k=>{!a&&k.button===0&&k.ctrlKey===!1?y.onValueChange(n):k.preventDefault()}),onKeyDown:ar(t.onKeyDown,k=>{[" ","Enter"].includes(k.key)&&y.onValueChange(n)}),onFocus:ar(t.onFocus,()=>{const k=y.activationMode!=="manual";!C&&!a&&k&&y.onValueChange(n)})})})});nB.displayName=rB;var sB="TabsContent",ght=K.forwardRef((t,e)=>{const{__scopeTabs:i,value:n,forceMount:a,children:d,...y}=t,b=wE(sB,i),S=oB(b.baseId,n),T=aB(b.baseId,n),C=n===b.value,k=K.useRef(C);return K.useEffect(()=>{const D=requestAnimationFrame(()=>k.current=!1);return()=>cancelAnimationFrame(D)},[]),at.jsx(dl,{present:a||C,children:({present:D})=>at.jsx(Sr.div,{"data-state":C?"active":"inactive","data-orientation":b.orientation,role:"tabpanel","aria-labelledby":S,hidden:!D,id:T,tabIndex:0,...y,ref:e,style:{...t.style,animationDuration:k.current?"0s":void 0},children:D&&d})})});ght.displayName=sB;function oB(t,e){return`${t}-trigger-${e}`}function aB(t,e){return`${t}-content-${e}`}var vht=tB,bht=iB,wht=nB;function _ht({className:t,...e}){return at.jsx(vht,{"data-slot":"tabs",className:Ai("flex flex-col gap-2",t),...e})}function Sht({className:t,...e}){return at.jsx(bht,{"data-slot":"tabs-list",className:Ai("bg-stone-300 text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...e})}function i_({className:t,...e}){return at.jsx(wht,{"data-slot":"tabs-trigger",className:Ai("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}const xht=({className:t})=>{const{travelMode:e,setTravelMode:i}=js();return at.jsx(_ht,{defaultValue:e,className:Ai(t),onValueChange:n=>i(n),children:at.jsxs(Sht,{className:"text-white shadow-sm",children:[at.jsx(i_,{value:"automobile",children:at.jsx(FZ,{})}),at.jsx(i_,{value:"walk",children:at.jsx(eht,{})}),at.jsx(i_,{value:"truck",children:at.jsx(itt,{})})]})})};var k5="Collapsible",[Tht,qMt]=Hp(k5),[Eht,_E]=Tht(k5),lB=K.forwardRef((t,e)=>{const{__scopeCollapsible:i,open:n,defaultOpen:a,disabled:d,onOpenChange:y,...b}=t,[S,T]=x5({prop:n,defaultProp:a??!1,onChange:y,caller:k5});return at.jsx(Eht,{scope:i,disabled:d,contentId:R0(),open:S,onOpenToggle:K.useCallback(()=>T(C=>!C),[T]),children:at.jsx(Sr.div,{"data-state":xE(S),"data-disabled":d?"":void 0,...b,ref:e})})});lB.displayName=k5;var uB="CollapsibleTrigger",cB=K.forwardRef((t,e)=>{const{__scopeCollapsible:i,...n}=t,a=_E(uB,i);return at.jsx(Sr.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":xE(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:e,onClick:ar(t.onClick,a.onOpenToggle)})});cB.displayName=uB;var SE="CollapsibleContent",hB=K.forwardRef((t,e)=>{const{forceMount:i,...n}=t,a=_E(SE,t.__scopeCollapsible);return at.jsx(dl,{present:i||a.open,children:({present:d})=>at.jsx(Mht,{...n,ref:e,present:d})})});hB.displayName=SE;var Mht=K.forwardRef((t,e)=>{const{__scopeCollapsible:i,present:n,children:a,...d}=t,y=_E(SE,i),[b,S]=K.useState(n),T=K.useRef(null),C=kn(e,T),k=K.useRef(0),D=k.current,z=K.useRef(0),G=z.current,B=y.open||b,H=K.useRef(B),X=K.useRef(void 0);return K.useEffect(()=>{const et=requestAnimationFrame(()=>H.current=!1);return()=>cancelAnimationFrame(et)},[]),Uf(()=>{const et=T.current;if(et){X.current=X.current||{transitionDuration:et.style.transitionDuration,animationName:et.style.animationName},et.style.transitionDuration="0s",et.style.animationName="none";const rt=et.getBoundingClientRect();k.current=rt.height,z.current=rt.width,H.current||(et.style.transitionDuration=X.current.transitionDuration,et.style.animationName=X.current.animationName),S(n)}},[y.open,n]),at.jsx(Sr.div,{"data-state":xE(y.open),"data-disabled":y.disabled?"":void 0,id:y.contentId,hidden:!B,...d,ref:C,style:{"--radix-collapsible-content-height":D?`${D}px`:void 0,"--radix-collapsible-content-width":G?`${G}px`:void 0,...t.style},children:B&&a})});function xE(t){return t?"open":"closed"}var Aht=lB;function Rht({...t}){return at.jsx(Aht,{"data-slot":"collapsible",...t})}function Cht({...t}){return at.jsx(cB,{"data-slot":"collapsible-trigger",...t})}function Oht({...t}){return at.jsx(hB,{"data-slot":"collapsible-content",...t})}const PN={esriDMTUnknown:eQ,esriDMTStop:NQ,esriDMTStraight:zZ,esriDMTBearLeft:uQ,esriDMTBearRight:hQ,esriDMTTurnLeft:IZ,esriDMTTurnRight:LZ,esriDMTSharpLeft:WZ,esriDMTSharpRight:YZ,esriDMTUTurn:JQ,esriDMTFerry:kZ,esriDMTRoundabout:VQ,esriDMTHighwayMerge:wQ,esriDMTHighwayExit:RQ,esriDMTHighwayChange:ZQ,esriDMTForkCenter:vQ,esriDMTForkLeft:qO,esriDMTForkRight:qO,esriDMTDepart:BQ,esriDMTTripItem:MQ,esriDMTEndOfFerry:KQ,esriDMTRampRight:aQ,esriDMTRampLeft:sQ},$ht=({type:t,className:e})=>{const i=PN[t]||PN.esriDMTUnknown;return at.jsx(i,{className:Ai("size-7 flex-shrink-0",e)})},fB=t=>{let e=class extends t{clone(){const i=Gc(this);rj(i,"unable to clone instance of non-accessor class");const n=i.metadata,a=i.store,d={},y=new Map;for(const S in n){const T=n[S],C=a?.originOf(S),k=T.clonable;if(T.readOnly||k===!1||C!==fi.USER&&C!==fi.DEFAULTS&&C!==fi.WEB_MAP&&C!==fi.WEB_SCENE)continue;const D=this[S];let z=null;z=typeof k=="function"?k(D):k==="reference"?D:cS(D),D!=null&&z==null||(C===fi.DEFAULTS?y.set(S,z):d[S]=z)}const b=new(Object.getPrototypeOf(this)).constructor(d);if(y.size){const S=Gc(b)?.store;if(S)for(const[T,C]of y)S.set(T,C,fi.DEFAULTS)}return b}};return e=E([ut("esri.core.Clonable")],e),e};let Iy=class extends fB(ve){};Iy=E([ut("esri.core.Clonable")],Iy),(function(t){t.ClonableMixin=fB})(Iy||(Iy={}));const qr=Iy;let D3=class dB{constructor(){this._emitter=new dB.EventEmitter(this)}emit(e,i){return this._emitter.emit(e,i)}on(e,i){return this._emitter.on(e,i)}once(e,i){return this._emitter.once(e,i)}hasEventListener(e){return this._emitter.hasEventListener(e)}};(function(t){class e{constructor(a=null){this._target=a,this._listenersMap=null}clear(){this._listenersMap?.clear(),this._listenersMap=null}destroy(){this.clear()}emit(a,d){let y=this._listenersMap?.get(a);if(!y)return!1;const b=this._target||this;let S=!1;for(const T of y.slice()){const C="deref"in T?T.deref():T;C?C?.call(b,d):S=!0}return S&&(y=y.filter((T=>!("deref"in T)||T.deref()!=null)),this._listenersMap.set(a,y)),y.length>0}on(a,d){if(Array.isArray(a)){const b=a.map((S=>this.on(S,d)));return Vf(b)}if(a.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??=new Map;const y=this._listenersMap.get(a)||[];return y.push(d),this._listenersMap.set(a,y),ui((()=>{const b=this._listenersMap?.get(a),S=b?.indexOf(d)??-1;S>=0&&b.splice(S,1)}))}once(a,d){const y=this.on(a,(b=>{y.remove(),("deref"in d?d.deref():d)?.call(null,b)}));return y}hasEventListener(a){const d=this._listenersMap?.get(a);return d!=null&&d.length>0}}t.EventEmitter=e,t.EventedMixin=n=>{let a=class extends n{constructor(){super(...arguments),this._emitter=new e}destroy(){this._emitter.clear()}emit(d,y){return this._emitter.emit(d,y)}on(d,y){return this._emitter.on(d,y)}once(d,y){return this._emitter.once(d,y)}hasEventListener(d){return this._emitter.hasEventListener(d)}};return a=E([ut("esri.core.Evented")],a),a};let i=class extends ve{constructor(){super(...arguments),this._emitter=new D3.EventEmitter(this)}destroy(){this._emitter.clear()}emit(n,a){return this._emitter.emit(n,a)}on(n,a){return this._emitter.on(n,a)}once(n,a){return this._emitter.once(n,a)}hasEventListener(n){return this._emitter.hasEventListener(n)}};i=E([ut("esri.core.Evented.EventedAccessor")],i),t.EventedAccessor=i})(D3||(D3={}));const gu=D3;var _i;(function(t){t[t.ADD=1]="ADD",t[t.REMOVE=2]="REMOVE",t[t.MOVE=4]="MOVE"})(_i||(_i={}));function pB(t){return(e,i)=>{e[i]=t}}let Qg=class extends cj{notify(){const e=this._observers;if(e&&e.length>0){const i=e.slice();for(const n of i)n.onInvalidated(),n.onCommitted()}}};var Ul;let Nht=class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(e){this.defaultPrevented=!1,this.item=e}},kht=class{constructor(e,i,n,a,d){this.target=e,this.added=i,this.removed=n,this.start=a,this.deleteCount=d}};const wo=new jp(Nht,void 0,(t=>{t.item=null,t.target=null,t.defaultPrevented=!1,t.cancellable=!1}));function IN(t){t&&typeof t=="object"&&"destroy"in t&&typeof t.destroy=="function"&&t.destroy()}function r_(t){return t?t instanceof yc?t.toArray():t.length?Array.prototype.slice.apply(t):[]:[]}function n_(t){if(t?.length)return t[0]}function Pht(t,e,i,n){const a=Math.min(t.length-i,e.length-n);let d=0;for(;d<a&&t[i+d]===e[n+d];)d++;return d}function yB(t,e,i,n){e&&e.forEach(((a,d,y)=>{t.push(a),yB(t,i.call(n,a,d,y),i,n)}))}const Hu=new Set,Vu=new Set,Wu=new Set,s_=new Map;let Iht=0;var Ef;let yc=(Ef=class extends gu.EventedAccessor{static isCollection(e){return e!=null&&e instanceof Ul}constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._updating=!1,this._timer=null,this._observable=new Qg,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:Iht++})}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof Ul?{items:e}:e:{}}destroy(){this._removeAllRaw(),this._timer&&this._timer.remove(),this._emitter.destroy(),this._notifications=null}*[Symbol.iterator](){yield*this.items}get items(){return xe(this._observable),this._items}set items(e){this._emitBeforeChanges(_i.ADD)||(this._splice(0,this.length,r_(e)),this._emitAfterChanges(_i.ADD))}hasEventListener(e){return!this.destroyed&&(e==="change"?this._chgListeners.length>0:this._emitter.hasEventListener(e))}on(e,i){if(this.destroyed)return ui();if(e==="change"){const n=this._chgListeners,a={removed:!1,callback:i};return n.push(a),this._notifications&&this._notifications.push({listeners:n.slice(),items:this._items.slice(),changes:[]}),ui((()=>{a.removed=!0,n.splice(n.indexOf(a),1)}))}return this._emitter.on(e,i)}once(e,i){const n="deref"in i?()=>i.deref():()=>i,a=this.on(e,(d=>{n()?.call(null,d),a.remove()}));return a}add(e,i){if(xe(this._observable),this._emitBeforeChanges(_i.ADD))return this;const n=this.getNextIndex(i??null);return this._splice(n,0,[e]),this._emitAfterChanges(_i.ADD),this}addMany(e,i=this._items.length){if(xe(this._observable),!e?.length)return this;if(this._emitBeforeChanges(_i.ADD))return this;const n=this.getNextIndex(i);return this._splice(n,0,r_(e)),this._emitAfterChanges(_i.ADD),this}at(e){if(xe(this._observable),(e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this._items[e]}removeAll(){if(xe(this._observable),!this.length||this._emitBeforeChanges(_i.REMOVE))return[];const e=this._removeAllRaw();return this._emitAfterChanges(_i.REMOVE),e}_removeAllRaw(){return this.length===0?[]:this._splice(0,this.length)||[]}clone(){return xe(this._observable),this._createNewInstance({items:this._items.map(Ht)})}concat(...e){xe(this._observable);const i=e.map(r_);return this._createNewInstance({items:this._items.concat(...i)})}drain(e,i){if(xe(this._observable),!this.length||this._emitBeforeChanges(_i.REMOVE))return;const n=this._splice(0,this.length),a=n.length;for(let d=0;d<a;d++)e.call(i,n[d],d,n);this._emitAfterChanges(_i.REMOVE)}destroyAll(){this.drain(IN)}destroyMany(e){const i=this.removeMany(e);return i.forEach(IN),i}every(e,i){return xe(this._observable),this._items.every(e,i)}filter(e,i){xe(this._observable);const n=arguments.length===2?this._items.filter(e,i):this._items.filter(e);return this._createNewInstance({items:n})}find(e,i){return xe(this._observable),this._items.find(e,i)}findIndex(e,i){return xe(this._observable),this._items.findIndex(e,i)}flatten(e,i){xe(this._observable);const n=[];return yB(n,this,e,i),new Ul(n)}forEach(e,i){return xe(this._observable),this._items.forEach(e,i)}getItemAt(e){return xe(this._observable),this._items[e]}getNextIndex(e){xe(this._observable);const i=this.length;return(e=e??i)<0?e=0:e>i&&(e=i),e}includes(e,i=0){return xe(this._observable),this._items.includes(e,i)}indexOf(e,i=0){return xe(this._observable),this._items.indexOf(e,i)}join(e=","){return xe(this._observable),this._items.join(e)}lastIndexOf(e,i=this.length-1){return xe(this._observable),this._items.lastIndexOf(e,i)}map(e,i){xe(this._observable);const n=this._items.map(e,i);return new Ul({items:n})}reorder(e,i=this.length-1){xe(this._observable);const n=this.indexOf(e);if(n!==-1){if(i<0?i=0:i>=this.length&&(i=this.length-1),n!==i){if(this._emitBeforeChanges(_i.MOVE))return e;this._splice(n,1),this._splice(i,0,[e]),this._emitAfterChanges(_i.MOVE)}return e}}pop(){if(xe(this._observable),!this.length||this._emitBeforeChanges(_i.REMOVE))return;const e=n_(this._splice(this.length-1,1));return this._emitAfterChanges(_i.REMOVE),e}push(...e){return xe(this._observable),this._emitBeforeChanges(_i.ADD)||(this._splice(this.length,0,e),this._emitAfterChanges(_i.ADD)),this.length}reduce(e,i){xe(this._observable);const n=this._items;return arguments.length===2?n.reduce(e,i):n.reduce(e)}reduceRight(e,i){xe(this._observable);const n=this._items;return arguments.length===2?n.reduceRight(e,i):n.reduceRight(e)}remove(e){return xe(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if(xe(this._observable),e<0||e>=this.length||this._emitBeforeChanges(_i.REMOVE))return;const i=n_(this._splice(e,1));return this._emitAfterChanges(_i.REMOVE),i}removeMany(e){if(xe(this._observable),!e?.length||this._emitBeforeChanges(_i.REMOVE))return[];const i=e instanceof Ul?e.toArray():e,n=this._items,a=[],d=i.length;for(let y=0;y<d;y++){const b=i[y],S=n.indexOf(b);if(S>-1){const T=1+Pht(i,n,y+1,S+1),C=this._splice(S,T);C&&C.length>0&&a.push.apply(a,C),y+=T-1}}return this._emitAfterChanges(_i.REMOVE),a}reverse(){if(xe(this._observable),this._emitBeforeChanges(_i.MOVE))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,e)),this._emitAfterChanges(_i.MOVE),this}shift(){if(xe(this._observable),!this.length||this._emitBeforeChanges(_i.REMOVE))return;const e=n_(this._splice(0,1));return this._emitAfterChanges(_i.REMOVE),e}slice(e=0,i=this.length){return xe(this._observable),this._createNewInstance({items:this._items.slice(e,i)})}some(e,i){return xe(this._observable),this._items.some(e,i)}sort(e){if(xe(this._observable),!this.length||this._emitBeforeChanges(_i.MOVE)||!this._requiresSort(e))return this;const i=this._splice(0,this.length);return arguments.length?i.sort(e):i.sort(),this._splice(0,0,i),this._emitAfterChanges(_i.MOVE),this}_requiresSort(e=(i,n)=>i===n?0:i<n?-1:1){const i=this.length-1;for(let n=0;n<i;n++)if(e(this.items[n],this.items[n+1])>0)return!0;return!1}splice(e,i,...n){xe(this._observable),arguments.length===1&&(i=this.length),i??=0;const a=(i?_i.REMOVE:0)|(n.length?_i.ADD:0);if(this._emitBeforeChanges(a))return[];const d=this._splice(e,i,n)||[];return this._emitAfterChanges(a),d}toArray(){return xe(this._observable),this._items.slice()}toJSON(e){return xe(this._observable),this.toArray().map((i=>qb(i)?i.toJSON(e):i))}toLocaleString(){return xe(this._observable),this._items.toLocaleString()}toString(){return xe(this._observable),this._items.toString()}unshift(...e){return xe(this._observable),!e.length||this._emitBeforeChanges(_i.ADD)||(this._splice(0,0,e),this._emitAfterChanges(_i.ADD)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,i,n){const a=this._items,d=this.itemType;let y,b;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._updating=!0,this._timer=jg((()=>this._dispatchChange()))),e<0&&(e+=this.length),i){if(b=a.splice(e,i),this.hasEventListener("before-remove")){const S=wo.acquire();S.target=this,S.cancellable=!0;for(let T=0,C=b.length;T<C;T++)y=b[T],S.reset(y),this.emit("before-remove",S),S.defaultPrevented&&(b.splice(T,1),a.splice(e,0,y),e+=1,T-=1,C-=1);wo.release(S)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const S=wo.acquire();S.target=this,S.cancellable=!1;const T=b.length;for(let C=0;C<T;C++)S.reset(b[C]),this.emit("after-remove",S);wo.release(S)}}if(n?.length){if(d){const k=[];for(const D of n){const z=d.ensureType(D);z==null&&D!=null||k.push(z)}n=k}const S=this.hasEventListener("before-add"),T=this.hasEventListener("after-add"),C=e===this.length;if(S||T){const k=wo.acquire();k.target=this,k.cancellable=!0;const D=wo.acquire();D.target=this,D.cancellable=!1;for(const z of n)S?(k.reset(z),this.emit("before-add",k),k.defaultPrevented||(C?a.push(z):a.splice(e++,0,z),this._set("length",a.length),T&&(D.reset(z),this.emit("after-add",D)))):(C?a.push(z):a.splice(e++,0,z),this._set("length",a.length),D.reset(z),this.emit("after-add",D));wo.release(D),wo.release(k)}else{if(C)for(const k of n)a.push(k);else a.splice(e,0,...n);this._set("length",a.length)}}if((n?.length||b?.length)&&this._notifyChangeEvent(n,b),this.hasEventListener("after-splice")){const S=new kht(this,n,b,e,i);this.emit("after-splice",S)}return b}_emitBeforeChanges(e){let i=!1;if(this.hasEventListener("before-changes")){const n=wo.acquire();n.target=this,n.cancellable=!0,n.type=e,this.emit("before-changes",n),i=n.defaultPrevented,wo.release(n)}return i}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const i=wo.acquire();i.target=this,i.cancellable=!1,i.type=e,this.emit("after-changes",i),wo.release(i)}this._observable.notify()}_notifyChangeEvent(e,i){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:i})}get updating(){return this._updating}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),this._updating=!1,!this._notifications)return;const e=this._notifications;this._notifications=null;for(const i of e){const n=i.changes;Hu.clear(),Vu.clear(),Wu.clear();for(const{added:T,removed:C}of n){if(T)if(Wu.size===0&&Vu.size===0)for(const k of T)Hu.add(k);else for(const k of T)Vu.has(k)?(Wu.add(k),Vu.delete(k)):Wu.has(k)||Hu.add(k);if(C)if(Wu.size===0&&Hu.size===0)for(const k of C)Vu.add(k);else for(const k of C)Hu.has(k)?Hu.delete(k):(Wu.delete(k),Vu.add(k))}const a=os.acquire();Hu.forEach((T=>{a.push(T)}));const d=os.acquire();Vu.forEach((T=>{d.push(T)}));const y=this._items,b=i.items,S=os.acquire();if(Wu.forEach((T=>{b.indexOf(T)!==y.indexOf(T)&&S.push(T)})),i.listeners&&(a.length||d.length||S.length)){const T={target:this,added:a,removed:d,moved:S},C=i.listeners.length;for(let k=0;k<C;k++){const D=i.listeners[k];D.removed||D.callback.call(this,T)}}os.release(a),os.release(d),os.release(S)}Hu.clear(),Vu.clear(),Wu.clear()}},Ul=Ef,Ef.ofType=e=>{if(!e)return Ul;if(s_.has(e))return s_.get(e);let i=null;if(typeof e=="function")i=e.prototype.declaredClass;else if(e.base)i=e.base.prototype.declaredClass;else for(const a in e.typeMap){const d=e.typeMap[a].prototype.declaredClass;i?i+=` | ${d}`:i=d}let n=class extends Ul{};return E([pB({Type:e,ensureType:typeof e=="function"?an(e):qc(e)})],n.prototype,"itemType",void 0),n=E([ut(`esri.core.Collection<${i}>`)],n),s_.set(e,n),n},Ef);E([N()],yc.prototype,"_updating",void 0),E([N()],yc.prototype,"length",void 0),E([N()],yc.prototype,"items",null),E([N({readOnly:!0})],yc.prototype,"updating",null),yc=Ul=E([ut("esri.core.Collection")],yc);const me=yc;let o_;async function Dht(){return o_==null&&(o_=te(()=>import("./WhereClauseCache-CI41yqKr.js"),__vite__mapDeps([2,3,4,5,6,7,8])).then((t=>new t.WhereClauseCache(500,500)))),o_}async function Lht(t,e){const i=await Dht(),n=i.get(t,e);if(n==null)throw i.getError(t,e);return n}function YMt(t,e){return t||=null,e||=null,t==="1=1"?e??t:e==="1=1"?t??e:t&&e?`(${t}) AND (${e})`:t??e}function KMt(t,e){return t||=null,e||=null,t==="1=1"||e==="1=1"||t===e?t==="1=1"?t:e:t&&e?`(${t}) OR (${e})`:t??e}function XMt(t,e){return e.length===0?null:`${t} IN (${jht(e)})`}function jht(t){return t.map((e=>typeof e=="string"?zht(e):e)).join(",")}function zht(t){return`'${t.replaceAll("'","''")}'`}function ZMt(t){return typeof t=="number"}function QMt(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}function tAt(t){return typeof t=="boolean"}function tv(t){return typeof t=="string"||t instanceof String}function Uht(t){return t==null||tv(t)}function eAt(t){return Array.isArray(t)}function iAt(t){return t?.declaredClass==="esri.Graphic"}function rAt(t){return t instanceof Date}class Kf extends Error{}class Fht extends Kf{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class Bht extends Kf{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class Ght extends Kf{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class p0 extends Kf{}class mB extends Kf{constructor(e){super(`Invalid unit ${e}`)}}class Hn extends Kf{}class Ju extends Kf{constructor(){super("Zone is an abstract class")}}const oe="numeric",xa="short",co="long",cw={year:oe,month:oe,day:oe},gB={year:oe,month:xa,day:oe},qht={year:oe,month:xa,day:oe,weekday:xa},vB={year:oe,month:co,day:oe},bB={year:oe,month:co,day:oe,weekday:co},wB={hour:oe,minute:oe},_B={hour:oe,minute:oe,second:oe},SB={hour:oe,minute:oe,second:oe,timeZoneName:xa},xB={hour:oe,minute:oe,second:oe,timeZoneName:co},TB={hour:oe,minute:oe,hourCycle:"h23"},EB={hour:oe,minute:oe,second:oe,hourCycle:"h23"},MB={hour:oe,minute:oe,second:oe,hourCycle:"h23",timeZoneName:xa},AB={hour:oe,minute:oe,second:oe,hourCycle:"h23",timeZoneName:co},RB={year:oe,month:oe,day:oe,hour:oe,minute:oe},CB={year:oe,month:oe,day:oe,hour:oe,minute:oe,second:oe},OB={year:oe,month:xa,day:oe,hour:oe,minute:oe},$B={year:oe,month:xa,day:oe,hour:oe,minute:oe,second:oe},Hht={year:oe,month:xa,day:oe,weekday:xa,hour:oe,minute:oe},NB={year:oe,month:co,day:oe,hour:oe,minute:oe,timeZoneName:xa},kB={year:oe,month:co,day:oe,hour:oe,minute:oe,second:oe,timeZoneName:xa},PB={year:oe,month:co,day:oe,weekday:co,hour:oe,minute:oe,timeZoneName:co},IB={year:oe,month:co,day:oe,weekday:co,hour:oe,minute:oe,second:oe,timeZoneName:co};class ev{get type(){throw new Ju}get name(){throw new Ju}get ianaName(){return this.name}get isUniversal(){throw new Ju}offsetName(e,i){throw new Ju}formatOffset(e,i){throw new Ju}offset(e){throw new Ju}equals(e){throw new Ju}get isValid(){throw new Ju}}let a_=null;class P5 extends ev{static get instance(){return a_===null&&(a_=new P5),a_}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:i,locale:n}){return VB(e,i,n)}formatOffset(e,i){return Om(this.offset(e),i)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}const ux=new Map;function Vht(t){let e=ux.get(t);return e===void 0&&(e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),ux.set(t,e)),e}const Wht={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function Jht(t,e){const i=t.format(e).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(i),[,a,d,y,b,S,T,C]=n;return[y,a,d,b,S,T,C]}function Yht(t,e){const i=t.formatToParts(e),n=[];for(let a=0;a<i.length;a++){const{type:d,value:y}=i[a],b=Wht[d];d==="era"?n[b]=y:Fe(b)||(n[b]=parseInt(y,10))}return n}const l_=new Map;class Ta extends ev{static create(e){let i=l_.get(e);return i===void 0&&l_.set(e,i=new Ta(e)),i}static resetCache(){l_.clear(),ux.clear()}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=Ta.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:i,locale:n}){return VB(e,i,n,this.name)}formatOffset(e,i){return Om(this.offset(e),i)}offset(e){if(!this.valid)return NaN;const i=new Date(e);if(isNaN(i))return NaN;const n=Vht(this.name);let[a,d,y,b,S,T,C]=n.formatToParts?Yht(n,i):Jht(n,i);b==="BC"&&(a=-Math.abs(a)+1);const D=D5({year:a,month:d,day:y,hour:S===24?0:S,minute:T,second:C,millisecond:0});let z=+i;const G=z%1e3;return z-=G>=0?G:1e3+G,(D-z)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let DN={};function Kht(t,e={}){const i=JSON.stringify([t,e]);let n=DN[i];return n||(n=new Intl.ListFormat(t,e),DN[i]=n),n}const cx=new Map;function hx(t,e={}){const i=JSON.stringify([t,e]);let n=cx.get(i);return n===void 0&&(n=new Intl.DateTimeFormat(t,e),cx.set(i,n)),n}const fx=new Map;function Xht(t,e={}){const i=JSON.stringify([t,e]);let n=fx.get(i);return n===void 0&&(n=new Intl.NumberFormat(t,e),fx.set(i,n)),n}const dx=new Map;function Zht(t,e={}){const{base:i,...n}=e,a=JSON.stringify([t,n]);let d=dx.get(a);return d===void 0&&(d=new Intl.RelativeTimeFormat(t,e),dx.set(a,d)),d}let Dy=null;function Qht(){return Dy||(Dy=new Intl.DateTimeFormat().resolvedOptions().locale,Dy)}const px=new Map;function DB(t){let e=px.get(t);return e===void 0&&(e=new Intl.DateTimeFormat(t).resolvedOptions(),px.set(t,e)),e}const yx=new Map;function tft(t){let e=yx.get(t);if(!e){const i=new Intl.Locale(t);e="getWeekInfo"in i?i.getWeekInfo():i.weekInfo,"minimalDays"in e||(e={...LB,...e}),yx.set(t,e)}return e}function eft(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const i=t.indexOf("-u-");if(i===-1)return[t];{let n,a;try{n=hx(t).resolvedOptions(),a=t}catch{const S=t.substring(0,i);n=hx(S).resolvedOptions(),a=S}const{numberingSystem:d,calendar:y}=n;return[a,d,y]}}function ift(t,e,i){return(i||e)&&(t.includes("-u-")||(t+="-u"),i&&(t+=`-ca-${i}`),e&&(t+=`-nu-${e}`)),t}function rft(t){const e=[];for(let i=1;i<=12;i++){const n=Re.utc(2009,i,1);e.push(t(n))}return e}function nft(t){const e=[];for(let i=1;i<=7;i++){const n=Re.utc(2016,11,13+i);e.push(t(n))}return e}function F2(t,e,i,n){const a=t.listingMode();return a==="error"?null:a==="en"?i(e):n(e)}function sft(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||DB(t.locale).numberingSystem==="latn"}class oft{constructor(e,i,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const{padTo:a,floor:d,...y}=n;if(!i||Object.keys(y).length>0){const b={useGrouping:!1,...n};n.padTo>0&&(b.minimumIntegerDigits=n.padTo),this.inf=Xht(e,b)}}format(e){if(this.inf){const i=this.floor?Math.floor(e):e;return this.inf.format(i)}else{const i=this.floor?Math.floor(e):RE(e,3);return Xr(i,this.padTo)}}}class aft{constructor(e,i,n){this.opts=n,this.originalZone=void 0;let a;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const y=-1*(e.offset/60),b=y>=0?`Etc/GMT+${y}`:`Etc/GMT${y}`;e.offset!==0&&Ta.create(b).valid?(a=b,this.dt=e):(a="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,a=e.zone.name):(a="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const d={...this.opts};d.timeZone=d.timeZone||a,this.dtf=hx(i,d)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(i=>{if(i.type==="timeZoneName"){const n=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...i,value:n}}else return i}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class lft{constructor(e,i,n){this.opts={style:"long",...n},!i&&qB()&&(this.rtf=Zht(e,n))}format(e,i){return this.rtf?this.rtf.format(e,i):Oft(i,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,i){return this.rtf?this.rtf.formatToParts(e,i):[]}}const LB={firstDay:1,minimalDays:4,weekend:[6,7]};class Oi{static fromOpts(e){return Oi.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,i,n,a,d=!1){const y=e||Nr.defaultLocale,b=y||(d?"en-US":Qht()),S=i||Nr.defaultNumberingSystem,T=n||Nr.defaultOutputCalendar,C=gx(a)||Nr.defaultWeekSettings;return new Oi(b,S,T,C,y)}static resetCache(){Dy=null,cx.clear(),fx.clear(),dx.clear(),px.clear(),yx.clear()}static fromObject({locale:e,numberingSystem:i,outputCalendar:n,weekSettings:a}={}){return Oi.create(e,i,n,a)}constructor(e,i,n,a,d){const[y,b,S]=eft(e);this.locale=y,this.numberingSystem=i||b||null,this.outputCalendar=n||S||null,this.weekSettings=a,this.intl=ift(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=d,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=sft(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),i=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&i?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:Oi.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,gx(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,i=!1){return F2(this,e,YB,()=>{const n=i?{month:e,day:"numeric"}:{month:e},a=i?"format":"standalone";return this.monthsCache[a][e]||(this.monthsCache[a][e]=rft(d=>this.extract(d,n,"month"))),this.monthsCache[a][e]})}weekdays(e,i=!1){return F2(this,e,ZB,()=>{const n=i?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},a=i?"format":"standalone";return this.weekdaysCache[a][e]||(this.weekdaysCache[a][e]=nft(d=>this.extract(d,n,"weekday"))),this.weekdaysCache[a][e]})}meridiems(){return F2(this,void 0,()=>QB,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Re.utc(2016,11,13,9),Re.utc(2016,11,13,19)].map(i=>this.extract(i,e,"dayperiod"))}return this.meridiemCache})}eras(e){return F2(this,e,tG,()=>{const i={era:e};return this.eraCache[e]||(this.eraCache[e]=[Re.utc(-40,1,1),Re.utc(2017,1,1)].map(n=>this.extract(n,i,"era"))),this.eraCache[e]})}extract(e,i,n){const a=this.dtFormatter(e,i),d=a.formatToParts(),y=d.find(b=>b.type.toLowerCase()===n);return y?y.value:null}numberFormatter(e={}){return new oft(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,i={}){return new aft(e,this.intl,i)}relFormatter(e={}){return new lft(this.intl,this.isEnglish(),e)}listFormatter(e={}){return Kht(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||DB(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:HB()?tft(this.locale):LB}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let u_=null;class Xn extends ev{static get utcInstance(){return u_===null&&(u_=new Xn(0)),u_}static instance(e){return e===0?Xn.utcInstance:new Xn(e)}static parseSpecifier(e){if(e){const i=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(i)return new Xn(L5(i[1],i[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Om(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Om(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,i){return Om(this.fixed,i)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class uft extends ev{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Tc(t,e){if(Fe(t)||t===null)return e;if(t instanceof ev)return t;if(yft(t)){const i=t.toLowerCase();return i==="default"?e:i==="local"||i==="system"?P5.instance:i==="utc"||i==="gmt"?Xn.utcInstance:Xn.parseSpecifier(i)||Ta.create(t)}else return Lc(t)?Xn.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new uft(t)}const TE={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},LN={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},cft=TE.hanidec.replace(/[\[|\]]/g,"").split("");function hft(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let i=0;i<t.length;i++){const n=t.charCodeAt(i);if(t[i].search(TE.hanidec)!==-1)e+=cft.indexOf(t[i]);else for(const a in LN){const[d,y]=LN[a];n>=d&&n<=y&&(e+=n-d)}}return parseInt(e,10)}else return e}const mx=new Map;function fft(){mx.clear()}function na({numberingSystem:t},e=""){const i=t||"latn";let n=mx.get(i);n===void 0&&(n=new Map,mx.set(i,n));let a=n.get(e);return a===void 0&&(a=new RegExp(`${TE[i]}${e}`),n.set(e,a)),a}let jN=()=>Date.now(),zN="system",UN=null,FN=null,BN=null,GN=60,qN,HN=null;class Nr{static get now(){return jN}static set now(e){jN=e}static set defaultZone(e){zN=e}static get defaultZone(){return Tc(zN,P5.instance)}static get defaultLocale(){return UN}static set defaultLocale(e){UN=e}static get defaultNumberingSystem(){return FN}static set defaultNumberingSystem(e){FN=e}static get defaultOutputCalendar(){return BN}static set defaultOutputCalendar(e){BN=e}static get defaultWeekSettings(){return HN}static set defaultWeekSettings(e){HN=gx(e)}static get twoDigitCutoffYear(){return GN}static set twoDigitCutoffYear(e){GN=e%100}static get throwOnInvalid(){return qN}static set throwOnInvalid(e){qN=e}static resetCaches(){Oi.resetCache(),Ta.resetCache(),Re.resetCache(),fft()}}class va{constructor(e,i){this.reason=e,this.explanation=i}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const jB=[0,31,59,90,120,151,181,212,243,273,304,334],zB=[0,31,60,91,121,152,182,213,244,274,305,335];function jo(t,e){return new va("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function EE(t,e,i){const n=new Date(Date.UTC(t,e-1,i));t<100&&t>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);const a=n.getUTCDay();return a===0?7:a}function UB(t,e,i){return i+(iv(t)?zB:jB)[e-1]}function FB(t,e){const i=iv(t)?zB:jB,n=i.findIndex(d=>d<e),a=e-i[n];return{month:n+1,day:a}}function ME(t,e){return(t-e+7)%7+1}function hw(t,e=4,i=1){const{year:n,month:a,day:d}=t,y=UB(n,a,d),b=ME(EE(n,a,d),i);let S=Math.floor((y-b+14-e)/7),T;return S<1?(T=n-1,S=hg(T,e,i)):S>hg(n,e,i)?(T=n+1,S=1):T=n,{weekYear:T,weekNumber:S,weekday:b,...j5(t)}}function VN(t,e=4,i=1){const{weekYear:n,weekNumber:a,weekday:d}=t,y=ME(EE(n,1,e),i),b=O0(n);let S=a*7+d-y-7+e,T;S<1?(T=n-1,S+=O0(T)):S>b?(T=n+1,S-=O0(n)):T=n;const{month:C,day:k}=FB(T,S);return{year:T,month:C,day:k,...j5(t)}}function c_(t){const{year:e,month:i,day:n}=t,a=UB(e,i,n);return{year:e,ordinal:a,...j5(t)}}function WN(t){const{year:e,ordinal:i}=t,{month:n,day:a}=FB(e,i);return{year:e,month:n,day:a,...j5(t)}}function JN(t,e){if(!Fe(t.localWeekday)||!Fe(t.localWeekNumber)||!Fe(t.localWeekYear)){if(!Fe(t.weekday)||!Fe(t.weekNumber)||!Fe(t.weekYear))throw new p0("Cannot mix locale-based week fields with ISO-based week fields");return Fe(t.localWeekday)||(t.weekday=t.localWeekday),Fe(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),Fe(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function dft(t,e=4,i=1){const n=I5(t.weekYear),a=zo(t.weekNumber,1,hg(t.weekYear,e,i)),d=zo(t.weekday,1,7);return n?a?d?!1:jo("weekday",t.weekday):jo("week",t.weekNumber):jo("weekYear",t.weekYear)}function pft(t){const e=I5(t.year),i=zo(t.ordinal,1,O0(t.year));return e?i?!1:jo("ordinal",t.ordinal):jo("year",t.year)}function BB(t){const e=I5(t.year),i=zo(t.month,1,12),n=zo(t.day,1,fw(t.year,t.month));return e?i?n?!1:jo("day",t.day):jo("month",t.month):jo("year",t.year)}function GB(t){const{hour:e,minute:i,second:n,millisecond:a}=t,d=zo(e,0,23)||e===24&&i===0&&n===0&&a===0,y=zo(i,0,59),b=zo(n,0,59),S=zo(a,0,999);return d?y?b?S?!1:jo("millisecond",a):jo("second",n):jo("minute",i):jo("hour",e)}function Fe(t){return typeof t>"u"}function Lc(t){return typeof t=="number"}function I5(t){return typeof t=="number"&&t%1===0}function yft(t){return typeof t=="string"}function mft(t){return Object.prototype.toString.call(t)==="[object Date]"}function qB(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function HB(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function gft(t){return Array.isArray(t)?t:[t]}function YN(t,e,i){if(t.length!==0)return t.reduce((n,a)=>{const d=[e(a),a];return n&&i(n[0],d[0])===n[0]?n:d},null)[1]}function vft(t,e){return e.reduce((i,n)=>(i[n]=t[n],i),{})}function Sp(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function gx(t){if(t==null)return null;if(typeof t!="object")throw new Hn("Week settings must be an object");if(!zo(t.firstDay,1,7)||!zo(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!zo(e,1,7)))throw new Hn("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function zo(t,e,i){return I5(t)&&t>=e&&t<=i}function bft(t,e){return t-e*Math.floor(t/e)}function Xr(t,e=2){const i=t<0;let n;return i?n="-"+(""+-t).padStart(e,"0"):n=(""+t).padStart(e,"0"),n}function mc(t){if(!(Fe(t)||t===null||t===""))return parseInt(t,10)}function xh(t){if(!(Fe(t)||t===null||t===""))return parseFloat(t)}function AE(t){if(!(Fe(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function RE(t,e,i=!1){const n=10**e;return(i?Math.trunc:Math.round)(t*n)/n}function iv(t){return t%4===0&&(t%100!==0||t%400===0)}function O0(t){return iv(t)?366:365}function fw(t,e){const i=bft(e-1,12)+1,n=t+(e-i)/12;return i===2?iv(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][i-1]}function D5(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function KN(t,e,i){return-ME(EE(t,1,e),i)+e-1}function hg(t,e=4,i=1){const n=KN(t,e,i),a=KN(t+1,e,i);return(O0(t)-n+a)/7}function vx(t){return t>99?t:t>Nr.twoDigitCutoffYear?1900+t:2e3+t}function VB(t,e,i,n=null){const a=new Date(t),d={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(d.timeZone=n);const y={timeZoneName:e,...d},b=new Intl.DateTimeFormat(i,y).formatToParts(a).find(S=>S.type.toLowerCase()==="timezonename");return b?b.value:null}function L5(t,e){let i=parseInt(t,10);Number.isNaN(i)&&(i=0);const n=parseInt(e,10)||0,a=i<0||Object.is(i,-0)?-n:n;return i*60+a}function WB(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new Hn(`Invalid unit value ${t}`);return e}function dw(t,e){const i={};for(const n in t)if(Sp(t,n)){const a=t[n];if(a==null)continue;i[e(n)]=WB(a)}return i}function Om(t,e){const i=Math.trunc(Math.abs(t/60)),n=Math.trunc(Math.abs(t%60)),a=t>=0?"+":"-";switch(e){case"short":return`${a}${Xr(i,2)}:${Xr(n,2)}`;case"narrow":return`${a}${i}${n>0?`:${n}`:""}`;case"techie":return`${a}${Xr(i,2)}${Xr(n,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function j5(t){return vft(t,["hour","minute","second","millisecond"])}const wft=["January","February","March","April","May","June","July","August","September","October","November","December"],JB=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],_ft=["J","F","M","A","M","J","J","A","S","O","N","D"];function YB(t){switch(t){case"narrow":return[..._ft];case"short":return[...JB];case"long":return[...wft];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const KB=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],XB=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Sft=["M","T","W","T","F","S","S"];function ZB(t){switch(t){case"narrow":return[...Sft];case"short":return[...XB];case"long":return[...KB];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const QB=["AM","PM"],xft=["Before Christ","Anno Domini"],Tft=["BC","AD"],Eft=["B","A"];function tG(t){switch(t){case"narrow":return[...Eft];case"short":return[...Tft];case"long":return[...xft];default:return null}}function Mft(t){return QB[t.hour<12?0:1]}function Aft(t,e){return ZB(e)[t.weekday-1]}function Rft(t,e){return YB(e)[t.month-1]}function Cft(t,e){return tG(e)[t.year<0?0:1]}function Oft(t,e,i="always",n=!1){const a={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},d=["hours","minutes","seconds"].indexOf(t)===-1;if(i==="auto"&&d){const k=t==="days";switch(e){case 1:return k?"tomorrow":`next ${a[t][0]}`;case-1:return k?"yesterday":`last ${a[t][0]}`;case 0:return k?"today":`this ${a[t][0]}`}}const y=Object.is(e,-0)||e<0,b=Math.abs(e),S=b===1,T=a[t],C=n?S?T[1]:T[2]||T[1]:S?a[t][0]:t;return y?`${b} ${C} ago`:`in ${b} ${C}`}function XN(t,e){let i="";for(const n of t)n.literal?i+=n.val:i+=e(n.val);return i}const $ft={D:cw,DD:gB,DDD:vB,DDDD:bB,t:wB,tt:_B,ttt:SB,tttt:xB,T:TB,TT:EB,TTT:MB,TTTT:AB,f:RB,ff:OB,fff:NB,ffff:PB,F:CB,FF:$B,FFF:kB,FFFF:IB};class Kn{static create(e,i={}){return new Kn(e,i)}static parseFormat(e){let i=null,n="",a=!1;const d=[];for(let y=0;y<e.length;y++){const b=e.charAt(y);b==="'"?(n.length>0&&d.push({literal:a||/^\s+$/.test(n),val:n}),i=null,n="",a=!a):a||b===i?n+=b:(n.length>0&&d.push({literal:/^\s+$/.test(n),val:n}),n=b,i=b)}return n.length>0&&d.push({literal:a||/^\s+$/.test(n),val:n}),d}static macroTokenToFormatOpts(e){return $ft[e]}constructor(e,i){this.opts=i,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,i){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...i}).format()}dtFormatter(e,i={}){return this.loc.dtFormatter(e,{...this.opts,...i})}formatDateTime(e,i){return this.dtFormatter(e,i).format()}formatDateTimeParts(e,i){return this.dtFormatter(e,i).formatToParts()}formatInterval(e,i){return this.dtFormatter(e.start,i).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,i){return this.dtFormatter(e,i).resolvedOptions()}num(e,i=0){if(this.opts.forceSimple)return Xr(e,i);const n={...this.opts};return i>0&&(n.padTo=i),this.loc.numberFormatter(n).format(e)}formatDateTimeFromString(e,i){const n=this.loc.listingMode()==="en",a=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",d=(z,G)=>this.loc.extract(e,z,G),y=z=>e.isOffsetFixed&&e.offset===0&&z.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,z.format):"",b=()=>n?Mft(e):d({hour:"numeric",hourCycle:"h12"},"dayperiod"),S=(z,G)=>n?Rft(e,z):d(G?{month:z}:{month:z,day:"numeric"},"month"),T=(z,G)=>n?Aft(e,z):d(G?{weekday:z}:{weekday:z,month:"long",day:"numeric"},"weekday"),C=z=>{const G=Kn.macroTokenToFormatOpts(z);return G?this.formatWithSystemDefault(e,G):z},k=z=>n?Cft(e,z):d({era:z},"era"),D=z=>{switch(z){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return y({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return y({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return y({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return b();case"d":return a?d({day:"numeric"},"day"):this.num(e.day);case"dd":return a?d({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return T("short",!0);case"cccc":return T("long",!0);case"ccccc":return T("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return T("short",!1);case"EEEE":return T("long",!1);case"EEEEE":return T("narrow",!1);case"L":return a?d({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return a?d({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return S("short",!0);case"LLLL":return S("long",!0);case"LLLLL":return S("narrow",!0);case"M":return a?d({month:"numeric"},"month"):this.num(e.month);case"MM":return a?d({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return S("short",!1);case"MMMM":return S("long",!1);case"MMMMM":return S("narrow",!1);case"y":return a?d({year:"numeric"},"year"):this.num(e.year);case"yy":return a?d({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return a?d({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return a?d({year:"numeric"},"year"):this.num(e.year,6);case"G":return k("short");case"GG":return k("long");case"GGGGG":return k("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return C(z)}};return XN(Kn.parseFormat(i),D)}formatDurationFromString(e,i){const n=S=>{switch(S[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},a=S=>T=>{const C=n(T);return C?this.num(S.get(C),T.length):T},d=Kn.parseFormat(i),y=d.reduce((S,{literal:T,val:C})=>T?S:S.concat(C),[]),b=e.shiftTo(...y.map(n).filter(S=>S));return XN(d,a(b))}}const eG=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Zp(...t){const e=t.reduce((i,n)=>i+n.source,"");return RegExp(`^${e}$`)}function Qp(...t){return e=>t.reduce(([i,n,a],d)=>{const[y,b,S]=d(e,a);return[{...i,...y},b||n,S]},[{},null,1]).slice(0,2)}function t1(t,...e){if(t==null)return[null,null];for(const[i,n]of e){const a=i.exec(t);if(a)return n(a)}return[null,null]}function iG(...t){return(e,i)=>{const n={};let a;for(a=0;a<t.length;a++)n[t[a]]=mc(e[i+a]);return[n,null,i+a]}}const rG=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Nft=`(?:${rG.source}?(?:\\[(${eG.source})\\])?)?`,CE=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,nG=RegExp(`${CE.source}${Nft}`),OE=RegExp(`(?:T${nG.source})?`),kft=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Pft=/(\d{4})-?W(\d\d)(?:-?(\d))?/,Ift=/(\d{4})-?(\d{3})/,Dft=iG("weekYear","weekNumber","weekDay"),Lft=iG("year","ordinal"),jft=/(\d{4})-(\d\d)-(\d\d)/,sG=RegExp(`${CE.source} ?(?:${rG.source}|(${eG.source}))?`),zft=RegExp(`(?: ${sG.source})?`);function $0(t,e,i){const n=t[e];return Fe(n)?i:mc(n)}function Uft(t,e){return[{year:$0(t,e),month:$0(t,e+1,1),day:$0(t,e+2,1)},null,e+3]}function e1(t,e){return[{hours:$0(t,e,0),minutes:$0(t,e+1,0),seconds:$0(t,e+2,0),milliseconds:AE(t[e+3])},null,e+4]}function rv(t,e){const i=!t[e]&&!t[e+1],n=L5(t[e+1],t[e+2]),a=i?null:Xn.instance(n);return[{},a,e+3]}function nv(t,e){const i=t[e]?Ta.create(t[e]):null;return[{},i,e+1]}const Fft=RegExp(`^T?${CE.source}$`),Bft=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Gft(t){const[e,i,n,a,d,y,b,S,T]=t,C=e[0]==="-",k=S&&S[0]==="-",D=(z,G=!1)=>z!==void 0&&(G||z&&C)?-z:z;return[{years:D(xh(i)),months:D(xh(n)),weeks:D(xh(a)),days:D(xh(d)),hours:D(xh(y)),minutes:D(xh(b)),seconds:D(xh(S),S==="-0"),milliseconds:D(AE(T),k)}]}const qft={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function $E(t,e,i,n,a,d,y){const b={year:e.length===2?vx(mc(e)):mc(e),month:JB.indexOf(i)+1,day:mc(n),hour:mc(a),minute:mc(d)};return y&&(b.second=mc(y)),t&&(b.weekday=t.length>3?KB.indexOf(t)+1:XB.indexOf(t)+1),b}const Hft=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Vft(t){const[,e,i,n,a,d,y,b,S,T,C,k]=t,D=$E(e,a,n,i,d,y,b);let z;return S?z=qft[S]:T?z=0:z=L5(C,k),[D,new Xn(z)]}function Wft(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const Jft=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Yft=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Kft=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function ZN(t){const[,e,i,n,a,d,y,b]=t;return[$E(e,a,n,i,d,y,b),Xn.utcInstance]}function Xft(t){const[,e,i,n,a,d,y,b]=t;return[$E(e,b,i,n,a,d,y),Xn.utcInstance]}const Zft=Zp(kft,OE),Qft=Zp(Pft,OE),tdt=Zp(Ift,OE),edt=Zp(nG),oG=Qp(Uft,e1,rv,nv),idt=Qp(Dft,e1,rv,nv),rdt=Qp(Lft,e1,rv,nv),ndt=Qp(e1,rv,nv);function sdt(t){return t1(t,[Zft,oG],[Qft,idt],[tdt,rdt],[edt,ndt])}function odt(t){return t1(Wft(t),[Hft,Vft])}function adt(t){return t1(t,[Jft,ZN],[Yft,ZN],[Kft,Xft])}function ldt(t){return t1(t,[Bft,Gft])}const udt=Qp(e1);function cdt(t){return t1(t,[Fft,udt])}const hdt=Zp(jft,zft),fdt=Zp(sG),ddt=Qp(e1,rv,nv);function pdt(t){return t1(t,[hdt,oG],[fdt,ddt])}const QN="Invalid Duration",aG={weeks:{days:7,hours:168,minutes:10080,seconds:10080*60,milliseconds:10080*60*1e3},days:{hours:24,minutes:1440,seconds:1440*60,milliseconds:1440*60*1e3},hours:{minutes:60,seconds:3600,milliseconds:3600*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},ydt={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:2184*60,seconds:2184*60*60,milliseconds:2184*60*60*1e3},months:{weeks:4,days:30,hours:720,minutes:720*60,seconds:720*60*60,milliseconds:720*60*60*1e3},...aG},_o=146097/400,Ld=146097/4800,mdt={years:{quarters:4,months:12,weeks:_o/7,days:_o,hours:_o*24,minutes:_o*24*60,seconds:_o*24*60*60,milliseconds:_o*24*60*60*1e3},quarters:{months:3,weeks:_o/28,days:_o/4,hours:_o*24/4,minutes:_o*24*60/4,seconds:_o*24*60*60/4,milliseconds:_o*24*60*60*1e3/4},months:{weeks:Ld/7,days:Ld,hours:Ld*24,minutes:Ld*24*60,seconds:Ld*24*60*60,milliseconds:Ld*24*60*60*1e3},...aG},sf=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],gdt=sf.slice(0).reverse();function Yu(t,e,i=!1){const n={values:i?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new gi(n)}function lG(t,e){let i=e.milliseconds??0;for(const n of gdt.slice(1))e[n]&&(i+=e[n]*t[n].milliseconds);return i}function tk(t,e){const i=lG(t,e)<0?-1:1;sf.reduceRight((n,a)=>{if(Fe(e[a]))return n;if(n){const d=e[n]*i,y=t[a][n],b=Math.floor(d/y);e[a]+=b*i,e[n]-=b*y*i}return a},null),sf.reduce((n,a)=>{if(Fe(e[a]))return n;if(n){const d=e[n]%1;e[n]-=d,e[a]+=d*t[n][a]}return a},null)}function vdt(t){const e={};for(const[i,n]of Object.entries(t))n!==0&&(e[i]=n);return e}class gi{constructor(e){const i=e.conversionAccuracy==="longterm"||!1;let n=i?mdt:ydt;e.matrix&&(n=e.matrix),this.values=e.values,this.loc=e.loc||Oi.create(),this.conversionAccuracy=i?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(e,i){return gi.fromObject({milliseconds:e},i)}static fromObject(e,i={}){if(e==null||typeof e!="object")throw new Hn(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new gi({values:dw(e,gi.normalizeUnit),loc:Oi.fromObject(i),conversionAccuracy:i.conversionAccuracy,matrix:i.matrix})}static fromDurationLike(e){if(Lc(e))return gi.fromMillis(e);if(gi.isDuration(e))return e;if(typeof e=="object")return gi.fromObject(e);throw new Hn(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,i){const[n]=ldt(e);return n?gi.fromObject(n,i):gi.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,i){const[n]=cdt(e);return n?gi.fromObject(n,i):gi.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,i=null){if(!e)throw new Hn("need to specify a reason the Duration is invalid");const n=e instanceof va?e:new va(e,i);if(Nr.throwOnInvalid)throw new Ght(n);return new gi({invalid:n})}static normalizeUnit(e){const i={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!i)throw new mB(e);return i}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,i={}){const n={...i,floor:i.round!==!1&&i.floor!==!1};return this.isValid?Kn.create(this.loc,n).formatDurationFromString(this,e):QN}toHuman(e={}){if(!this.isValid)return QN;const i=sf.map(n=>{const a=this.values[n];return Fe(a)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:n.slice(0,-1)}).format(a)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(i)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=RE(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const i=this.toMillis();return i<0||i>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},Re.fromMillis(i,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?lG(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const i=gi.fromDurationLike(e),n={};for(const a of sf)(Sp(i.values,a)||Sp(this.values,a))&&(n[a]=i.get(a)+this.get(a));return Yu(this,{values:n},!0)}minus(e){if(!this.isValid)return this;const i=gi.fromDurationLike(e);return this.plus(i.negate())}mapUnits(e){if(!this.isValid)return this;const i={};for(const n of Object.keys(this.values))i[n]=WB(e(this.values[n],n));return Yu(this,{values:i},!0)}get(e){return this[gi.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const i={...this.values,...dw(e,gi.normalizeUnit)};return Yu(this,{values:i})}reconfigure({locale:e,numberingSystem:i,conversionAccuracy:n,matrix:a}={}){const y={loc:this.loc.clone({locale:e,numberingSystem:i}),matrix:a,conversionAccuracy:n};return Yu(this,y)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return tk(this.matrix,e),Yu(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=vdt(this.normalize().shiftToAll().toObject());return Yu(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(y=>gi.normalizeUnit(y));const i={},n={},a=this.toObject();let d;for(const y of sf)if(e.indexOf(y)>=0){d=y;let b=0;for(const T in n)b+=this.matrix[T][y]*n[T],n[T]=0;Lc(a[y])&&(b+=a[y]);const S=Math.trunc(b);i[y]=S,n[y]=(b*1e3-S*1e3)/1e3}else Lc(a[y])&&(n[y]=a[y]);for(const y in n)n[y]!==0&&(i[d]+=y===d?n[y]:n[y]/this.matrix[d][y]);return tk(this.matrix,i),Yu(this,{values:i},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const i of Object.keys(this.values))e[i]=this.values[i]===0?0:-this.values[i];return Yu(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function i(n,a){return n===void 0||n===0?a===void 0||a===0:n===a}for(const n of sf)if(!i(this.values[n],e.values[n]))return!1;return!0}}const jd="Invalid Interval";function bdt(t,e){return!t||!t.isValid?Or.invalid("missing or invalid start"):!e||!e.isValid?Or.invalid("missing or invalid end"):e<t?Or.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class Or{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,i=null){if(!e)throw new Hn("need to specify a reason the Interval is invalid");const n=e instanceof va?e:new va(e,i);if(Nr.throwOnInvalid)throw new Bht(n);return new Or({invalid:n})}static fromDateTimes(e,i){const n=uy(e),a=uy(i),d=bdt(n,a);return d??new Or({start:n,end:a})}static after(e,i){const n=gi.fromDurationLike(i),a=uy(e);return Or.fromDateTimes(a,a.plus(n))}static before(e,i){const n=gi.fromDurationLike(i),a=uy(e);return Or.fromDateTimes(a.minus(n),a)}static fromISO(e,i){const[n,a]=(e||"").split("/",2);if(n&&a){let d,y;try{d=Re.fromISO(n,i),y=d.isValid}catch{y=!1}let b,S;try{b=Re.fromISO(a,i),S=b.isValid}catch{S=!1}if(y&&S)return Or.fromDateTimes(d,b);if(y){const T=gi.fromISO(a,i);if(T.isValid)return Or.after(d,T)}else if(S){const T=gi.fromISO(n,i);if(T.isValid)return Or.before(b,T)}}return Or.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",i){if(!this.isValid)return NaN;const n=this.start.startOf(e,i);let a;return i?.useLocaleWeeks?a=this.end.reconfigure({locale:n.locale}):a=this.end,a=a.startOf(e,i),Math.floor(a.diff(n,e).get(e))+(a.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:i}={}){return this.isValid?Or.fromDateTimes(e||this.s,i||this.e):this}splitAt(...e){if(!this.isValid)return[];const i=e.map(uy).filter(y=>this.contains(y)).sort((y,b)=>y.toMillis()-b.toMillis()),n=[];let{s:a}=this,d=0;for(;a<this.e;){const y=i[d]||this.e,b=+y>+this.e?this.e:y;n.push(Or.fromDateTimes(a,b)),a=b,d+=1}return n}splitBy(e){const i=gi.fromDurationLike(e);if(!this.isValid||!i.isValid||i.as("milliseconds")===0)return[];let{s:n}=this,a=1,d;const y=[];for(;n<this.e;){const b=this.start.plus(i.mapUnits(S=>S*a));d=+b>+this.e?this.e:b,y.push(Or.fromDateTimes(n,d)),n=d,a+=1}return y}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const i=this.s>e.s?this.s:e.s,n=this.e<e.e?this.e:e.e;return i>=n?null:Or.fromDateTimes(i,n)}union(e){if(!this.isValid)return this;const i=this.s<e.s?this.s:e.s,n=this.e>e.e?this.e:e.e;return Or.fromDateTimes(i,n)}static merge(e){const[i,n]=e.sort((a,d)=>a.s-d.s).reduce(([a,d],y)=>d?d.overlaps(y)||d.abutsStart(y)?[a,d.union(y)]:[a.concat([d]),y]:[a,y],[[],null]);return n&&i.push(n),i}static xor(e){let i=null,n=0;const a=[],d=e.map(S=>[{time:S.s,type:"s"},{time:S.e,type:"e"}]),y=Array.prototype.concat(...d),b=y.sort((S,T)=>S.time-T.time);for(const S of b)n+=S.type==="s"?1:-1,n===1?i=S.time:(i&&+i!=+S.time&&a.push(Or.fromDateTimes(i,S.time)),i=null);return Or.merge(a)}difference(...e){return Or.xor([this].concat(e)).map(i=>this.intersection(i)).filter(i=>i&&!i.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:jd}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=cw,i={}){return this.isValid?Kn.create(this.s.loc.clone(i),e).formatInterval(this):jd}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:jd}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:jd}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:jd}toFormat(e,{separator:i="  "}={}){return this.isValid?`${this.s.toFormat(e)}${i}${this.e.toFormat(e)}`:jd}toDuration(e,i){return this.isValid?this.e.diff(this.s,e,i):gi.invalid(this.invalidReason)}mapEndpoints(e){return Or.fromDateTimes(e(this.s),e(this.e))}}class B2{static hasDST(e=Nr.defaultZone){const i=Re.now().setZone(e).set({month:12});return!e.isUniversal&&i.offset!==i.set({month:6}).offset}static isValidIANAZone(e){return Ta.isValidZone(e)}static normalizeZone(e){return Tc(e,Nr.defaultZone)}static getStartOfWeek({locale:e=null,locObj:i=null}={}){return(i||Oi.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:i=null}={}){return(i||Oi.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:i=null}={}){return(i||Oi.create(e)).getWeekendDays().slice()}static months(e="long",{locale:i=null,numberingSystem:n=null,locObj:a=null,outputCalendar:d="gregory"}={}){return(a||Oi.create(i,n,d)).months(e)}static monthsFormat(e="long",{locale:i=null,numberingSystem:n=null,locObj:a=null,outputCalendar:d="gregory"}={}){return(a||Oi.create(i,n,d)).months(e,!0)}static weekdays(e="long",{locale:i=null,numberingSystem:n=null,locObj:a=null}={}){return(a||Oi.create(i,n,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:i=null,numberingSystem:n=null,locObj:a=null}={}){return(a||Oi.create(i,n,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Oi.create(e).meridiems()}static eras(e="short",{locale:i=null}={}){return Oi.create(i,null,"gregory").eras(e)}static features(){return{relative:qB(),localeWeek:HB()}}}function ek(t,e){const i=a=>a.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=i(e)-i(t);return Math.floor(gi.fromMillis(n).as("days"))}function wdt(t,e,i){const n=[["years",(S,T)=>T.year-S.year],["quarters",(S,T)=>T.quarter-S.quarter+(T.year-S.year)*4],["months",(S,T)=>T.month-S.month+(T.year-S.year)*12],["weeks",(S,T)=>{const C=ek(S,T);return(C-C%7)/7}],["days",ek]],a={},d=t;let y,b;for(const[S,T]of n)i.indexOf(S)>=0&&(y=S,a[S]=T(t,e),b=d.plus(a),b>e?(a[S]--,t=d.plus(a),t>e&&(b=t,a[S]--,t=d.plus(a))):t=b);return[t,a,b,y]}function _dt(t,e,i,n){let[a,d,y,b]=wdt(t,e,i);const S=e-a,T=i.filter(k=>["hours","minutes","seconds","milliseconds"].indexOf(k)>=0);T.length===0&&(y<e&&(y=a.plus({[b]:1})),y!==a&&(d[b]=(d[b]||0)+S/(y-a)));const C=gi.fromObject(d,n);return T.length>0?gi.fromMillis(S,n).shiftTo(...T).plus(C):C}const Sdt="missing Intl.DateTimeFormat.formatToParts support";function Ei(t,e=i=>i){return{regex:t,deser:([i])=>e(hft(i))}}const xdt="",uG=`[ ${xdt}]`,cG=new RegExp(uG,"g");function Tdt(t){return t.replace(/\./g,"\\.?").replace(cG,uG)}function ik(t){return t.replace(/\./g,"").replace(cG," ").toLowerCase()}function sa(t,e){return t===null?null:{regex:RegExp(t.map(Tdt).join("|")),deser:([i])=>t.findIndex(n=>ik(i)===ik(n))+e}}function rk(t,e){return{regex:t,deser:([,i,n])=>L5(i,n),groups:e}}function G2(t){return{regex:t,deser:([e])=>e}}function Edt(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Mdt(t,e){const i=na(e),n=na(e,"{2}"),a=na(e,"{3}"),d=na(e,"{4}"),y=na(e,"{6}"),b=na(e,"{1,2}"),S=na(e,"{1,3}"),T=na(e,"{1,6}"),C=na(e,"{1,9}"),k=na(e,"{2,4}"),D=na(e,"{4,6}"),z=H=>({regex:RegExp(Edt(H.val)),deser:([X])=>X,literal:!0}),B=(H=>{if(t.literal)return z(H);switch(H.val){case"G":return sa(e.eras("short"),0);case"GG":return sa(e.eras("long"),0);case"y":return Ei(T);case"yy":return Ei(k,vx);case"yyyy":return Ei(d);case"yyyyy":return Ei(D);case"yyyyyy":return Ei(y);case"M":return Ei(b);case"MM":return Ei(n);case"MMM":return sa(e.months("short",!0),1);case"MMMM":return sa(e.months("long",!0),1);case"L":return Ei(b);case"LL":return Ei(n);case"LLL":return sa(e.months("short",!1),1);case"LLLL":return sa(e.months("long",!1),1);case"d":return Ei(b);case"dd":return Ei(n);case"o":return Ei(S);case"ooo":return Ei(a);case"HH":return Ei(n);case"H":return Ei(b);case"hh":return Ei(n);case"h":return Ei(b);case"mm":return Ei(n);case"m":return Ei(b);case"q":return Ei(b);case"qq":return Ei(n);case"s":return Ei(b);case"ss":return Ei(n);case"S":return Ei(S);case"SSS":return Ei(a);case"u":return G2(C);case"uu":return G2(b);case"uuu":return Ei(i);case"a":return sa(e.meridiems(),0);case"kkkk":return Ei(d);case"kk":return Ei(k,vx);case"W":return Ei(b);case"WW":return Ei(n);case"E":case"c":return Ei(i);case"EEE":return sa(e.weekdays("short",!1),1);case"EEEE":return sa(e.weekdays("long",!1),1);case"ccc":return sa(e.weekdays("short",!0),1);case"cccc":return sa(e.weekdays("long",!0),1);case"Z":case"ZZ":return rk(new RegExp(`([+-]${b.source})(?::(${n.source}))?`),2);case"ZZZ":return rk(new RegExp(`([+-]${b.source})(${n.source})?`),2);case"z":return G2(/[a-z_+-/]{1,256}?/i);case" ":return G2(/[^\S\n\r]/);default:return z(H)}})(t)||{invalidReason:Sdt};return B.token=t,B}const Adt={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function Rdt(t,e,i){const{type:n,value:a}=t;if(n==="literal"){const S=/^\s+$/.test(a);return{literal:!S,val:S?" ":a}}const d=e[n];let y=n;n==="hour"&&(e.hour12!=null?y=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?y="hour12":y="hour24":y=i.hour12?"hour12":"hour24");let b=Adt[y];if(typeof b=="object"&&(b=b[d]),b)return{literal:!1,val:b}}function Cdt(t){return[`^${t.map(i=>i.regex).reduce((i,n)=>`${i}(${n.source})`,"")}$`,t]}function Odt(t,e,i){const n=t.match(e);if(n){const a={};let d=1;for(const y in i)if(Sp(i,y)){const b=i[y],S=b.groups?b.groups+1:1;!b.literal&&b.token&&(a[b.token.val[0]]=b.deser(n.slice(d,d+S))),d+=S}return[n,a]}else return[n,{}]}function $dt(t){const e=d=>{switch(d){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let i=null,n;return Fe(t.z)||(i=Ta.create(t.z)),Fe(t.Z)||(i||(i=new Xn(t.Z)),n=t.Z),Fe(t.q)||(t.M=(t.q-1)*3+1),Fe(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),Fe(t.u)||(t.S=AE(t.u)),[Object.keys(t).reduce((d,y)=>{const b=e(y);return b&&(d[b]=t[y]),d},{}),i,n]}let h_=null;function Ndt(){return h_||(h_=Re.fromMillis(1555555555555)),h_}function kdt(t,e){if(t.literal)return t;const i=Kn.macroTokenToFormatOpts(t.val),n=pG(i,e);return n==null||n.includes(void 0)?t:n}function hG(t,e){return Array.prototype.concat(...t.map(i=>kdt(i,e)))}class fG{constructor(e,i){if(this.locale=e,this.format=i,this.tokens=hG(Kn.parseFormat(i),e),this.units=this.tokens.map(n=>Mdt(n,e)),this.disqualifyingUnit=this.units.find(n=>n.invalidReason),!this.disqualifyingUnit){const[n,a]=Cdt(this.units);this.regex=RegExp(n,"i"),this.handlers=a}}explainFromTokens(e){if(this.isValid){const[i,n]=Odt(e,this.regex,this.handlers),[a,d,y]=n?$dt(n):[null,null,void 0];if(Sp(n,"a")&&Sp(n,"H"))throw new p0("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:i,matches:n,result:a,zone:d,specificOffset:y}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function dG(t,e,i){return new fG(t,i).explainFromTokens(e)}function Pdt(t,e,i){const{result:n,zone:a,specificOffset:d,invalidReason:y}=dG(t,e,i);return[n,a,d,y]}function pG(t,e){if(!t)return null;const n=Kn.create(e,t).dtFormatter(Ndt()),a=n.formatToParts(),d=n.resolvedOptions();return a.map(y=>Rdt(y,t,d))}const f_="Invalid DateTime",nk=864e13;function Ly(t){return new va("unsupported zone",`the zone "${t.name}" is not supported`)}function d_(t){return t.weekData===null&&(t.weekData=hw(t.c)),t.weekData}function p_(t){return t.localWeekData===null&&(t.localWeekData=hw(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function Th(t,e){const i={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new Re({...i,...e,old:i})}function yG(t,e,i){let n=t-e*60*1e3;const a=i.offset(n);if(e===a)return[n,e];n-=(a-e)*60*1e3;const d=i.offset(n);return a===d?[n,a]:[t-Math.min(a,d)*60*1e3,Math.max(a,d)]}function q2(t,e){t+=e*60*1e3;const i=new Date(t);return{year:i.getUTCFullYear(),month:i.getUTCMonth()+1,day:i.getUTCDate(),hour:i.getUTCHours(),minute:i.getUTCMinutes(),second:i.getUTCSeconds(),millisecond:i.getUTCMilliseconds()}}function L3(t,e,i){return yG(D5(t),e,i)}function sk(t,e){const i=t.o,n=t.c.year+Math.trunc(e.years),a=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,d={...t.c,year:n,month:a,day:Math.min(t.c.day,fw(n,a))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},y=gi.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),b=D5(d);let[S,T]=yG(b,i,t.zone);return y!==0&&(S+=y,T=t.zone.offset(S)),{ts:S,o:T}}function zd(t,e,i,n,a,d){const{setZone:y,zone:b}=i;if(t&&Object.keys(t).length!==0||e){const S=e||b,T=Re.fromObject(t,{...i,zone:S,specificOffset:d});return y?T:T.setZone(b)}else return Re.invalid(new va("unparsable",`the input "${a}" can't be parsed as ${n}`))}function H2(t,e,i=!0){return t.isValid?Kn.create(Oi.create("en-US"),{allowZ:i,forceSimple:!0}).formatDateTimeFromString(t,e):null}function y_(t,e){const i=t.c.year>9999||t.c.year<0;let n="";return i&&t.c.year>=0&&(n+="+"),n+=Xr(t.c.year,i?6:4),e?(n+="-",n+=Xr(t.c.month),n+="-",n+=Xr(t.c.day)):(n+=Xr(t.c.month),n+=Xr(t.c.day)),n}function ok(t,e,i,n,a,d){let y=Xr(t.c.hour);return e?(y+=":",y+=Xr(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!i)&&(y+=":")):y+=Xr(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!i)&&(y+=Xr(t.c.second),(t.c.millisecond!==0||!n)&&(y+=".",y+=Xr(t.c.millisecond,3))),a&&(t.isOffsetFixed&&t.offset===0&&!d?y+="Z":t.o<0?(y+="-",y+=Xr(Math.trunc(-t.o/60)),y+=":",y+=Xr(Math.trunc(-t.o%60))):(y+="+",y+=Xr(Math.trunc(t.o/60)),y+=":",y+=Xr(Math.trunc(t.o%60)))),d&&(y+="["+t.zone.ianaName+"]"),y}const mG={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Idt={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Ddt={ordinal:1,hour:0,minute:0,second:0,millisecond:0},gG=["year","month","day","hour","minute","second","millisecond"],Ldt=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],jdt=["year","ordinal","hour","minute","second","millisecond"];function zdt(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new mB(t);return e}function ak(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return zdt(t)}}function Udt(t){if(jy===void 0&&(jy=Nr.now()),t.type!=="iana")return t.offset(jy);const e=t.name;let i=bx.get(e);return i===void 0&&(i=t.offset(jy),bx.set(e,i)),i}function lk(t,e){const i=Tc(e.zone,Nr.defaultZone);if(!i.isValid)return Re.invalid(Ly(i));const n=Oi.fromObject(e);let a,d;if(Fe(t.year))a=Nr.now();else{for(const S of gG)Fe(t[S])&&(t[S]=mG[S]);const y=BB(t)||GB(t);if(y)return Re.invalid(y);const b=Udt(i);[a,d]=L3(t,b,i)}return new Re({ts:a,zone:i,loc:n,o:d})}function uk(t,e,i){const n=Fe(i.round)?!0:i.round,a=(y,b)=>(y=RE(y,n||i.calendary?0:2,!0),e.loc.clone(i).relFormatter(i).format(y,b)),d=y=>i.calendary?e.hasSame(t,y)?0:e.startOf(y).diff(t.startOf(y),y).get(y):e.diff(t,y).get(y);if(i.unit)return a(d(i.unit),i.unit);for(const y of i.units){const b=d(y);if(Math.abs(b)>=1)return a(b,y)}return a(t>e?-0:0,i.units[i.units.length-1])}function ck(t){let e={},i;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],i=Array.from(t).slice(0,t.length-1)):i=Array.from(t),[e,i]}let jy;const bx=new Map;class Re{constructor(e){const i=e.zone||Nr.defaultZone;let n=e.invalid||(Number.isNaN(e.ts)?new va("invalid input"):null)||(i.isValid?null:Ly(i));this.ts=Fe(e.ts)?Nr.now():e.ts;let a=null,d=null;if(!n)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(i))[a,d]=[e.old.c,e.old.o];else{const b=Lc(e.o)&&!e.old?e.o:i.offset(this.ts);a=q2(this.ts,b),n=Number.isNaN(a.year)?new va("invalid input"):null,a=n?null:a,d=n?null:b}this._zone=i,this.loc=e.loc||Oi.create(),this.invalid=n,this.weekData=null,this.localWeekData=null,this.c=a,this.o=d,this.isLuxonDateTime=!0}static now(){return new Re({})}static local(){const[e,i]=ck(arguments),[n,a,d,y,b,S,T]=i;return lk({year:n,month:a,day:d,hour:y,minute:b,second:S,millisecond:T},e)}static utc(){const[e,i]=ck(arguments),[n,a,d,y,b,S,T]=i;return e.zone=Xn.utcInstance,lk({year:n,month:a,day:d,hour:y,minute:b,second:S,millisecond:T},e)}static fromJSDate(e,i={}){const n=mft(e)?e.valueOf():NaN;if(Number.isNaN(n))return Re.invalid("invalid input");const a=Tc(i.zone,Nr.defaultZone);return a.isValid?new Re({ts:n,zone:a,loc:Oi.fromObject(i)}):Re.invalid(Ly(a))}static fromMillis(e,i={}){if(Lc(e))return e<-nk||e>nk?Re.invalid("Timestamp out of range"):new Re({ts:e,zone:Tc(i.zone,Nr.defaultZone),loc:Oi.fromObject(i)});throw new Hn(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,i={}){if(Lc(e))return new Re({ts:e*1e3,zone:Tc(i.zone,Nr.defaultZone),loc:Oi.fromObject(i)});throw new Hn("fromSeconds requires a numerical input")}static fromObject(e,i={}){e=e||{};const n=Tc(i.zone,Nr.defaultZone);if(!n.isValid)return Re.invalid(Ly(n));const a=Oi.fromObject(i),d=dw(e,ak),{minDaysInFirstWeek:y,startOfWeek:b}=JN(d,a),S=Nr.now(),T=Fe(i.specificOffset)?n.offset(S):i.specificOffset,C=!Fe(d.ordinal),k=!Fe(d.year),D=!Fe(d.month)||!Fe(d.day),z=k||D,G=d.weekYear||d.weekNumber;if((z||C)&&G)throw new p0("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(D&&C)throw new p0("Can't mix ordinal dates with month/day");const B=G||d.weekday&&!z;let H,X,et=q2(S,T);B?(H=Ldt,X=Idt,et=hw(et,y,b)):C?(H=jdt,X=Ddt,et=c_(et)):(H=gG,X=mG);let rt=!1;for(const Ct of H){const Dt=d[Ct];Fe(Dt)?rt?d[Ct]=X[Ct]:d[Ct]=et[Ct]:rt=!0}const it=B?dft(d,y,b):C?pft(d):BB(d),ot=it||GB(d);if(ot)return Re.invalid(ot);const pt=B?VN(d,y,b):C?WN(d):d,[yt,ft]=L3(pt,T,n),vt=new Re({ts:yt,zone:n,o:ft,loc:a});return d.weekday&&z&&e.weekday!==vt.weekday?Re.invalid("mismatched weekday",`you can't specify both a weekday of ${d.weekday} and a date of ${vt.toISO()}`):vt.isValid?vt:Re.invalid(vt.invalid)}static fromISO(e,i={}){const[n,a]=sdt(e);return zd(n,a,i,"ISO 8601",e)}static fromRFC2822(e,i={}){const[n,a]=odt(e);return zd(n,a,i,"RFC 2822",e)}static fromHTTP(e,i={}){const[n,a]=adt(e);return zd(n,a,i,"HTTP",i)}static fromFormat(e,i,n={}){if(Fe(e)||Fe(i))throw new Hn("fromFormat requires an input string and a format");const{locale:a=null,numberingSystem:d=null}=n,y=Oi.fromOpts({locale:a,numberingSystem:d,defaultToEN:!0}),[b,S,T,C]=Pdt(y,e,i);return C?Re.invalid(C):zd(b,S,n,`format ${i}`,e,T)}static fromString(e,i,n={}){return Re.fromFormat(e,i,n)}static fromSQL(e,i={}){const[n,a]=pdt(e);return zd(n,a,i,"SQL",e)}static invalid(e,i=null){if(!e)throw new Hn("need to specify a reason the DateTime is invalid");const n=e instanceof va?e:new va(e,i);if(Nr.throwOnInvalid)throw new Fht(n);return new Re({invalid:n})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,i={}){const n=pG(e,Oi.fromObject(i));return n?n.map(a=>a?a.val:null).join(""):null}static expandFormat(e,i={}){return hG(Kn.parseFormat(e),Oi.fromObject(i)).map(a=>a.val).join("")}static resetCache(){jy=void 0,bx.clear()}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?d_(this).weekYear:NaN}get weekNumber(){return this.isValid?d_(this).weekNumber:NaN}get weekday(){return this.isValid?d_(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?p_(this).weekday:NaN}get localWeekNumber(){return this.isValid?p_(this).weekNumber:NaN}get localWeekYear(){return this.isValid?p_(this).weekYear:NaN}get ordinal(){return this.isValid?c_(this.c).ordinal:NaN}get monthShort(){return this.isValid?B2.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?B2.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?B2.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?B2.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,i=6e4,n=D5(this.c),a=this.zone.offset(n-e),d=this.zone.offset(n+e),y=this.zone.offset(n-a*i),b=this.zone.offset(n-d*i);if(y===b)return[this];const S=n-y*i,T=n-b*i,C=q2(S,y),k=q2(T,b);return C.hour===k.hour&&C.minute===k.minute&&C.second===k.second&&C.millisecond===k.millisecond?[Th(this,{ts:S}),Th(this,{ts:T})]:[this]}get isInLeapYear(){return iv(this.year)}get daysInMonth(){return fw(this.year,this.month)}get daysInYear(){return this.isValid?O0(this.year):NaN}get weeksInWeekYear(){return this.isValid?hg(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?hg(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:i,numberingSystem:n,calendar:a}=Kn.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:i,numberingSystem:n,outputCalendar:a}}toUTC(e=0,i={}){return this.setZone(Xn.instance(e),i)}toLocal(){return this.setZone(Nr.defaultZone)}setZone(e,{keepLocalTime:i=!1,keepCalendarTime:n=!1}={}){if(e=Tc(e,Nr.defaultZone),e.equals(this.zone))return this;if(e.isValid){let a=this.ts;if(i||n){const d=e.offset(this.ts),y=this.toObject();[a]=L3(y,d,e)}return Th(this,{ts:a,zone:e})}else return Re.invalid(Ly(e))}reconfigure({locale:e,numberingSystem:i,outputCalendar:n}={}){const a=this.loc.clone({locale:e,numberingSystem:i,outputCalendar:n});return Th(this,{loc:a})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const i=dw(e,ak),{minDaysInFirstWeek:n,startOfWeek:a}=JN(i,this.loc),d=!Fe(i.weekYear)||!Fe(i.weekNumber)||!Fe(i.weekday),y=!Fe(i.ordinal),b=!Fe(i.year),S=!Fe(i.month)||!Fe(i.day),T=b||S,C=i.weekYear||i.weekNumber;if((T||y)&&C)throw new p0("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(S&&y)throw new p0("Can't mix ordinal dates with month/day");let k;d?k=VN({...hw(this.c,n,a),...i},n,a):Fe(i.ordinal)?(k={...this.toObject(),...i},Fe(i.day)&&(k.day=Math.min(fw(k.year,k.month),k.day))):k=WN({...c_(this.c),...i});const[D,z]=L3(k,this.o,this.zone);return Th(this,{ts:D,o:z})}plus(e){if(!this.isValid)return this;const i=gi.fromDurationLike(e);return Th(this,sk(this,i))}minus(e){if(!this.isValid)return this;const i=gi.fromDurationLike(e).negate();return Th(this,sk(this,i))}startOf(e,{useLocaleWeeks:i=!1}={}){if(!this.isValid)return this;const n={},a=gi.normalizeUnit(e);switch(a){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break}if(a==="weeks")if(i){const d=this.loc.getStartOfWeek(),{weekday:y}=this;y<d&&(n.weekNumber=this.weekNumber-1),n.weekday=d}else n.weekday=1;if(a==="quarters"){const d=Math.ceil(this.month/3);n.month=(d-1)*3+1}return this.set(n)}endOf(e,i){return this.isValid?this.plus({[e]:1}).startOf(e,i).minus(1):this}toFormat(e,i={}){return this.isValid?Kn.create(this.loc.redefaultToEN(i)).formatDateTimeFromString(this,e):f_}toLocaleString(e=cw,i={}){return this.isValid?Kn.create(this.loc.clone(i),e).formatDateTime(this):f_}toLocaleParts(e={}){return this.isValid?Kn.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:i=!1,suppressMilliseconds:n=!1,includeOffset:a=!0,extendedZone:d=!1}={}){if(!this.isValid)return null;const y=e==="extended";let b=y_(this,y);return b+="T",b+=ok(this,y,i,n,a,d),b}toISODate({format:e="extended"}={}){return this.isValid?y_(this,e==="extended"):null}toISOWeekDate(){return H2(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:i=!1,includeOffset:n=!0,includePrefix:a=!1,extendedZone:d=!1,format:y="extended"}={}){return this.isValid?(a?"T":"")+ok(this,y==="extended",i,e,n,d):null}toRFC2822(){return H2(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return H2(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?y_(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:i=!1,includeOffsetSpace:n=!0}={}){let a="HH:mm:ss.SSS";return(i||e)&&(n&&(a+=" "),i?a+="z":e&&(a+="ZZ")),H2(this,a,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():f_}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const i={...this.c};return e.includeConfig&&(i.outputCalendar=this.outputCalendar,i.numberingSystem=this.loc.numberingSystem,i.locale=this.loc.locale),i}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,i="milliseconds",n={}){if(!this.isValid||!e.isValid)return gi.invalid("created by diffing an invalid DateTime");const a={locale:this.locale,numberingSystem:this.numberingSystem,...n},d=gft(i).map(gi.normalizeUnit),y=e.valueOf()>this.valueOf(),b=y?this:e,S=y?e:this,T=_dt(b,S,d,a);return y?T.negate():T}diffNow(e="milliseconds",i={}){return this.diff(Re.now(),e,i)}until(e){return this.isValid?Or.fromDateTimes(this,e):this}hasSame(e,i,n){if(!this.isValid)return!1;const a=e.valueOf(),d=this.setZone(e.zone,{keepLocalTime:!0});return d.startOf(i,n)<=a&&a<=d.endOf(i,n)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const i=e.base||Re.fromObject({},{zone:this.zone}),n=e.padding?this<i?-e.padding:e.padding:0;let a=["years","months","days","hours","minutes","seconds"],d=e.unit;return Array.isArray(e.unit)&&(a=e.unit,d=void 0),uk(i,this.plus(n),{...e,numeric:"always",units:a,unit:d})}toRelativeCalendar(e={}){return this.isValid?uk(e.base||Re.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(Re.isDateTime))throw new Hn("min requires all arguments be DateTimes");return YN(e,i=>i.valueOf(),Math.min)}static max(...e){if(!e.every(Re.isDateTime))throw new Hn("max requires all arguments be DateTimes");return YN(e,i=>i.valueOf(),Math.max)}static fromFormatExplain(e,i,n={}){const{locale:a=null,numberingSystem:d=null}=n,y=Oi.fromOpts({locale:a,numberingSystem:d,defaultToEN:!0});return dG(y,e,i)}static fromStringExplain(e,i,n={}){return Re.fromFormatExplain(e,i,n)}static buildFormatParser(e,i={}){const{locale:n=null,numberingSystem:a=null}=i,d=Oi.fromOpts({locale:n,numberingSystem:a,defaultToEN:!0});return new fG(d,e)}static fromFormatParser(e,i,n={}){if(Fe(e)||Fe(i))throw new Hn("fromFormatParser requires an input string and a format parser");const{locale:a=null,numberingSystem:d=null}=n,y=Oi.fromOpts({locale:a,numberingSystem:d,defaultToEN:!0});if(!y.equals(i.locale))throw new Hn(`fromFormatParser called with a locale of ${y}, but the format parser was created for ${i.locale}`);const{result:b,zone:S,specificOffset:T,invalidReason:C}=i.explainFromTokens(e);return C?Re.invalid(C):zd(b,S,n,`format ${i.format}`,e,T)}static get DATE_SHORT(){return cw}static get DATE_MED(){return gB}static get DATE_MED_WITH_WEEKDAY(){return qht}static get DATE_FULL(){return vB}static get DATE_HUGE(){return bB}static get TIME_SIMPLE(){return wB}static get TIME_WITH_SECONDS(){return _B}static get TIME_WITH_SHORT_OFFSET(){return SB}static get TIME_WITH_LONG_OFFSET(){return xB}static get TIME_24_SIMPLE(){return TB}static get TIME_24_WITH_SECONDS(){return EB}static get TIME_24_WITH_SHORT_OFFSET(){return MB}static get TIME_24_WITH_LONG_OFFSET(){return AB}static get DATETIME_SHORT(){return RB}static get DATETIME_SHORT_WITH_SECONDS(){return CB}static get DATETIME_MED(){return OB}static get DATETIME_MED_WITH_SECONDS(){return $B}static get DATETIME_MED_WITH_WEEKDAY(){return Hht}static get DATETIME_FULL(){return NB}static get DATETIME_FULL_WITH_SECONDS(){return kB}static get DATETIME_HUGE(){return PB}static get DATETIME_HUGE_WITH_SECONDS(){return IB}}function uy(t){if(Re.isDateTime(t))return t;if(t&&t.valueOf&&Lc(t.valueOf()))return Re.fromJSDate(t);if(t&&typeof t=="object")return Re.fromObject(t);throw new Hn(`Unknown datetime argument: ${t}, of type ${typeof t}`)}const Fdt="HH:mm",Bdt="HH:mm:ss",Gdt="HH:mm:ss.SSS",qdt=[Gdt,Bdt,Fdt,"TT"],Hdt="yyyy-MM-dd";function hk(t){if(!t||!tv(t))return null;const e=Re.fromFormat(t,Hdt);return e.isValid?e:null}function fk(t){return t&&tv(t)?Ctt(qdt,(e=>{const i=Re.fromFormat(t,e);return i.isValid?i:null}))??null:null}function dk(t){if(!t||!tv(t))return null;const e=Re.fromISO(t);return e.isValid?e:null}var pw;(function(t){t.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",t.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(pw||(pw={}));const vG=new Set(["integer","small-integer","long","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeLong","esriFieldTypeBigInteger"]);function Vdt(t){return t!=null&&vG.has(t.type)}function bG(t){return t!=null&&(t.type==="date-only"||t.type==="esriFieldTypeDateOnly")}function wG(t){return t!=null&&(t.type==="timestamp-offset"||t.type==="esriFieldTypeTimestampOffset")}function _G(t){return t!=null&&(t.type==="time-only"||t.type==="esriFieldTypeTimeOnly")}const Wdt=new Set(["single","double","esriFieldTypeSingle","esriFieldTypeDouble"]);bT(vG,Wdt);function nAt(t,e){const i=t?.domain;if(!i||i.type!=="range")return;const n="range"in i?i.range[0]:i.minValue,a="range"in i?i.range[1]:i.maxValue,d=Vdt(t);return bG(t)||_G(t)||wG(t)?{...Jdt(t,a,n),isInteger:d}:{min:n!=null&&typeof n=="number"?n:null,max:a!=null&&typeof a=="number"?a:null,rawMin:n,rawMax:a,isInteger:d}}function Jdt(t,e,i){return bG(t)?{min:hk(i)?.toMillis(),max:hk(e)?.toMillis(),rawMin:i,rawMax:e}:_G(t)?{min:fk(i)?.toMillis(),max:fk(e)?.toMillis(),rawMin:i,rawMax:e}:wG(t)?{min:dk(i)?.toMillis(),max:dk(e)?.toMillis(),rawMin:i,rawMax:e}:{max:null,min:null}}function Ydt(t){if(!t)return;const e=t.match(Kdt);return e?.groups?e.groups.doubleQuoted??e.groups.singleQuoted??e.groups.dotNotation:void 0}const Kdt=/^(\$feature\[(?:"(?<doubleQuoted>[^"]+)"|'(?<singleQuoted>[^']+)')\]|\$feature\.(?<dotNotation>[a-zA-Z_][a-zA-Z0-9_]*))$/i;function sAt(t){return t.match(Xdt)?.[1]?.replace(/\\'/g,"'")??null}const Xdt=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/;let m_;function Zdt(){return m_||(m_=(async()=>{const[t,e,i]=await Promise.all([te(()=>import("./arcadeUtils-C3UdqOH_.js"),__vite__mapDeps([9,10,11,7,6,8,12,13,14,15,16,17,18,19,5,20])),te(()=>import("./batchExec-Cel7OFuZ.js"),__vite__mapDeps([21,22])),te(()=>import("./aiServices-CMZg3pKr.js").then(n=>n.ag),__vite__mapDeps([11,7,6,8,12,13,14]))]);return{arcade:t.arcade,arcadeUtils:t,batchExec:e,aiServices:i,Dictionary:t.Dictionary,Feature:t.arcadeFeature,Voxel:t.Voxel}})()),m_}const Qdt=/^([0-9_])/,t0t=/[^a-z0-9_\u0080-\uffff]+/gi;function oAt(t){return t==null?null:t.trim().replaceAll(t0t,"_").replace(Qdt,"F$1")||null}const e0t=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],i0t=["field","normalizationField"];function aAt(t,e){if(t!=null&&e!=null){for(const i of Array.isArray(t)?t:[t])if(pk(e0t,i,e),"visualVariables"in i&&i.visualVariables)for(const n of i.visualVariables)pk(i0t,n,e)}}function pk(t,e,i){if(t)for(const n of t){const a=kg(n,e),d=a&&typeof a!="function"&&i.get(a);d&&Hf(n,d.name,e)}}function lAt(t,e){if(t!=null&&e?.fields?.length)if("startField"in t){const i=e.get(t.startField),n=e.get(t.endField);t.startField=i?.name??null,t.endField=n?.name??null}else{const i=e.get(t.startTimeField),n=e.get(t.endTimeField);t.startTimeField=i?.name??null,t.endTimeField=n?.name??null}}const g_=new Set;function NE(t,e){return t&&e?(g_.clear(),fg(g_,t,e),Array.from(g_).sort()):[]}function fg(t,e,i){if(i)if(e?.fields?.length)if(i.includes("*"))for(const{name:n}of e.fields)t.add(n);else for(const n of i)z5(t,e,n);else{if(i.includes("*"))return t.clear(),void t.add("*");for(const n of i)n!=null&&t.add(n)}}function z5(t,e,i){if(typeof i=="string")if(e){const n=e.get(i);n&&t.add(n.name)}else t.add(i)}function uAt(t,e){return e==null||t==null?[]:e.includes("*")?(t.fields??[]).map((i=>i.name)):e}function cAt(t,e,i=1){if(!e||!t)return[];if(e.includes("*"))return["*"];const n=NE(t,e);return n.length/t.fields.length>=i?["*"]:n}async function Jc(t,e,i){if(!i)return;let n;const a=Ydt(i);if(a)n=[a];else{const{arcadeUtils:d}=await Zdt();n=d.extractFieldNames(i,e?.fields?.map((y=>y.name)))}for(const d of n)z5(t,e,d)}async function kE(t,e,i){if(i&&i!=="1=1"){const n=await Lht(i,e);if(!n.isStandardized)throw new Lt("fieldUtils:collectFilterFields","Where clause is not standardized",{where:i});fg(t,e,n.fieldNames)}}function hAt({displayField:t,fields:e}){return t||(e?.length?v_(e,"name-or-title")||v_(e,"unique-identifier")||v_(e,"type-or-category")||r0t(e):null)}function r0t(t){for(const e of t){if(!e?.name)continue;const i=e.name.toLowerCase();if(i.includes("name")||i.includes("title"))return e.name}return null}function v_(t,e){for(const i of t)if(i?.valueType&&i.valueType===e)return i.name;return null}async function fAt(t,e){if(!e)return;const i=e.elevationInfo?.featureExpressionInfo;return i?i.collectRequiredFields(t,e.fieldsIndex):void 0}function n0t(t,e,i){i.onStatisticExpression?Jc(t,e,i.onStatisticExpression.expression):t.add(i.onStatisticField)}async function dAt(t,e,i){if(!e||!i||!("fields"in i))return;const n=[],a=i.popupTemplate;n.push(SG(t,e,a)),i.fields&&n.push(...i.fields.map((async d=>n0t(t,e.fieldsIndex,d)))),await Promise.all(n)}async function pAt(t,e){const{fieldsIndex:i,trackInfo:n}=e;if(!e||!n||!i)return;const a=[n.latestObservations.renderer?.collectRequiredFields(t,i),n.previousObservations.renderer?.collectRequiredFields(t,i),n.trackLines.renderer?.collectRequiredFields(t,i)];n.popupTemplate&&a.push(SG(t,e,n.popupTemplate));for(const d of[n.latestObservations.labelingInfo,n.previousObservations.labelingInfo,n.trackLines.labelingInfo])if(d)for(const y of d)a.push(EG(t,i,y));await Promise.all(a)}async function SG(t,e,i){const n=[];i?.expressionInfos&&n.push(...i.expressionInfos.map((d=>Jc(t,e.fieldsIndex,d.expression))));const a=i?.content;if(Array.isArray(a))for(const d of a)d.type==="expression"&&d.expressionInfo&&n.push(Jc(t,e.fieldsIndex,d.expressionInfo.expression));await Promise.all(n)}async function yAt(t,e,i){e&&(e.timeInfo&&i?.timeExtent&&fg(t,e.fieldsIndex,[e.timeInfo.startField,e.timeInfo.endField]),e.floorInfo&&fg(t,e.fieldsIndex,[e.floorInfo.floorField]),i?.where!=null&&await kE(t,e.fieldsIndex,i.where))}async function mAt(t,e,i){e&&i&&await Promise.all(i.map((n=>s0t(t,e,n))))}async function s0t(t,e,i){e&&i&&(i.valueExpression?await Jc(t,e.fieldsIndex,i.valueExpression):i.field&&z5(t,e.fieldsIndex,i.field))}function gAt(t){return t?NE(t.fieldsIndex,xG(t)):[]}function o0t(t){if(!t)return[];const e=t.geometryFieldsInfo;return e?NE(t.fieldsIndex,[e.shapeAreaField,e.shapeLengthField]):[]}async function vAt(t,e,i){if(!e||!i)return;const n=e.fieldsIndex;await Promise.all(i.filters.map((a=>kE(t,n,a.where))))}const a0t=new Set(["oid","global-id","guid"]),l0t=new Set(["oid","global-id"]),u0t=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/objectid/i,/^perimeter_/i,/_perimeter$/i,/_i$/i];function c0t(t){const e=new Set;TG(t).forEach((n=>e.add(n))),o0t(t).forEach((n=>e.add(n.toLowerCase())));const i=t&&"infoFor3D"in t?t.infoFor3D:void 0;return i&&(Object.values(i.assetMapFieldRoles).forEach((n=>e.add(n.toLowerCase()))),Object.values(i.transformFieldRoles).forEach((n=>e.add(n.toLowerCase())))),Array.from(e)}function xG(t){if(!t)return[];const e="editFieldsInfo"in t&&t.editFieldsInfo;if(!e)return[];const{creationDateField:i,creatorField:n,editDateField:a,editorField:d}=e;return[i,n,a,d].filter(Boolean)}function TG(t){return xG(t).map((e=>e.toLowerCase()))}function bAt(t,e){return t.editable&&!a0t.has(t.type)&&!TG(e).includes(t.name?.toLowerCase()??"")}function wAt(t,e){const i=t.name?.toLowerCase()??"";return!(e?.objectIdField!=null&&i===e.objectIdField.toLowerCase()||e?.globalIdField!=null&&i===e.globalIdField.toLowerCase()||c0t(e).includes(i)||l0t.has(t.type)||u0t.some((n=>n.test(i))))}async function _At(t,e){const{labelingInfo:i,fieldsIndex:n}=e;i?.length&&await Promise.all(i.map((a=>EG(t,n,a))))}async function EG(t,e,i){if(!i)return;const n=i.getLabelExpression(),a=i.where;if(n.type==="arcade")await Jc(t,e,n.expression);else{const d=n.expression.match(/{[^}]*}/g);d&&d.forEach((y=>{z5(t,e,y.slice(1,-1))}))}await kE(t,e,a)}function SAt(t){const e=t.defaultValue;return e!==void 0&&AG(t,e)?e:t.nullable?null:void 0}function xAt(t){const e=typeof t=="string"?{type:t}:t;return _0t(e)?255:e.type==="esriFieldTypeDate"||e.type==="date"?8:void 0}function MG(t){return typeof t=="number"&&!isNaN(t)&&isFinite(t)}function h0t(t){return t===null||MG(t)}function f0t(t){return t===null||Number.isInteger(t)}function d0t(){return!0}function AG(t,e){let i;switch(t.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":i=t.nullable?f0t:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":i=t.nullable?h0t:MG;break;case"string":case"esriFieldTypeString":i=t.nullable?Uht:tv;break;default:i=d0t}return arguments.length===1?i:i(e)}const p0t=["integer","small-integer","big-integer","long"],y0t=["single","double"],m0t=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeLong","esriFieldTypeBigInteger"],g0t=["esriFieldTypeSingle","esriFieldTypeDouble"],RG=new Set([...p0t,...m0t]),v0t=new Set([...y0t,...g0t]),b0t=bT(RG,v0t);function TAt(t){return t!=null&&RG.has(t.type)}function w0t(t){return t!=null&&b0t.has(t.type)}function _0t(t){return t!=null&&(t.type==="string"||t.type==="esriFieldTypeString")}function EAt(t){return t!=null&&(t.type==="date"||t.type==="esriFieldTypeDate")}function MAt(t){return t!=null&&(t.type==="date-only"||t.type==="esriFieldTypeDateOnly")}function AAt(t){return t!=null&&(t.type==="timestamp-offset"||t.type==="esriFieldTypeTimestampOffset")}function RAt(t){return t!=null&&(t.type==="time-only"||t.type==="esriFieldTypeTimeOnly")}function CAt(t){return t!=null&&(t.type==="oid"||t.type==="esriFieldTypeOID")}function OAt(t){return t!=null&&(t.type==="global-id"||t.type==="esriFieldTypeGlobalID")}function $At(t,e){return S0t(t,e)===null}var yw,mw;function NAt(t){return t==null||typeof t=="number"&&isNaN(t)?null:t}function S0t(t,e){return t==null||t.nullable&&e===null?null:AG(t,e)?w0t(t)&&!x0t(t.type,Number(e))?yw.OUT_OF_RANGE:null:mw.INVALID_TYPE}function x0t(t,e){const i=typeof t=="string"?CG(t):t;if(!i)return!1;const n=i.min,a=i.max;return i.isInteger?Number.isInteger(e)&&e>=n&&e<=a:e>=n&&e<=a}function CG(t){switch(t){case"esriFieldTypeSmallInteger":case"small-integer":return T0t;case"esriFieldTypeInteger":case"esriFieldTypeLong":case"integer":case"long":return E0t;case"esriFieldTypeBigInteger":case"big-integer":return M0t;case"esriFieldTypeSingle":case"single":return A0t;case"esriFieldTypeDouble":case"double":return R0t}}(function(t){t.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"})(yw||(yw={})),(function(t){t.INVALID_TYPE="type-validation-error::invalid-type"})(mw||(mw={}));const T0t={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},E0t={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},M0t={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},A0t={min:-34e37,max:12e37,isInteger:!1,rawMin:-34e37,rawMax:12e37},R0t={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function kAt(t,e,i){switch(t){case pw.INVALID_CODED_VALUE:return`Value ${i} is not in the coded domain - field: ${e.name}, domain: ${JSON.stringify(e.domain)}`;case pw.VALUE_OUT_OF_RANGE:return`Value ${i} is out of the range of valid values - field: ${e.name}, domain: ${JSON.stringify(e.domain)}`;case mw.INVALID_TYPE:return`Value ${i} is not a valid value for the field type - field: ${e.name}, type: ${e.type}, nullable: ${e.nullable}`;case yw.OUT_OF_RANGE:{const{min:n,max:a}=CG(e.type);return`Value ${i} is out of range for the number type - field: ${e.name}, type: ${e.type}, value range is ${n} to ${a}`}}}function PAt(t,e){return!C0t(t,e,null)}function C0t(t,e,i){if(!t?.attributes||!e)return!0;const n=new Set(Object.keys(t.attributes));let a=!1;for(const d of e)if(!n.has(d)&&(a=!0,i==null))break;return a}function IAt(t){return!!t&&["raster.itempixelvalue","raster.servicepixelvalue"].some((e=>t.toLowerCase().startsWith(e)))}function O0t(t){const e=t?.match(/{[^}]+}/g);return e?e.map((i=>i.slice(1,-1).split(":")[0].trim())):[]}let j3=class extends Zt{constructor(e){super(e),this.type=null}};E([N({type:["attachments","custom","fields","media","text","expression","relationship","utility-network-associations"],readOnly:!0,json:{read:!1,write:!0}})],j3.prototype,"type",void 0),j3=E([ut("esri.popup.content.Content")],j3);const vu=j3,V2=new wr({asc:"ascending",desc:"descending"});let zy=class extends qr.ClonableMixin(Zt){constructor(e){super(e),this.field=null,this.order="ascending"}};E([N({type:String,json:{write:!0}})],zy.prototype,"field",void 0),E([N({type:V2.apiValues,json:{type:V2.jsonValues,read:V2.read,write:V2.write}})],zy.prototype,"order",void 0),zy=E([ut("esri.popup.support.AttachmentsOrderByInfo")],zy);const $0t=zy;let ec=class extends qr.ClonableMixin(vu){constructor(e){super(e),this.description=null,this.displayType="auto",this.orderByFields=null,this.title=null,this.type="attachments"}};E([N({type:String,json:{write:!0}})],ec.prototype,"description",void 0),E([N({type:["auto","preview","list"],json:{write:!0}})],ec.prototype,"displayType",void 0),E([N({type:[$0t],json:{write:!0}})],ec.prototype,"orderByFields",void 0),E([N({type:String,json:{write:!0}})],ec.prototype,"title",void 0),E([N({type:["attachments"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],ec.prototype,"type",void 0),ec=E([ut("esri.popup.content.AttachmentsContent")],ec);const dg=ec;var wx;let Nh=wx=class extends vu{constructor(t){super(t),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new wx({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?Ht(this.outFields):null})}};E([N()],Nh.prototype,"creator",void 0),E([N()],Nh.prototype,"destroyer",void 0),E([N()],Nh.prototype,"outFields",void 0),E([N({type:["custom"],readOnly:!0})],Nh.prototype,"type",void 0),Nh=wx=E([ut("esri.popup.content.CustomContent")],Nh);const N0t=Nh;var _x;let Kd=_x=class extends Zt{constructor(t){super(t),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new _x({title:this.title,expression:this.expression})}};E([N({type:String,json:{write:!0}})],Kd.prototype,"title",void 0),E([N({type:String,json:{write:!0}})],Kd.prototype,"expression",void 0),E([N({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],Kd.prototype,"returnType",void 0),Kd=_x=E([ut("esri.popup.ElementExpressionInfo")],Kd);const k0t=Kd;var Sx;let Uy=Sx=class extends vu{constructor(t){super(t),this.expressionInfo=null,this.type="expression"}clone(){return new Sx({expressionInfo:this.expressionInfo?.clone()})}};E([N({type:k0t,json:{write:!0}})],Uy.prototype,"expressionInfo",void 0),E([N({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],Uy.prototype,"type",void 0),Uy=Sx=E([ut("esri.popup.content.ExpressionContent")],Uy);const U5=Uy;function se(t,e={}){const i=t instanceof wr?t:new wr(t,e),{alwaysWriteDefaults:n,default:a,ignoreUnknown:d=!0,name:y,nonNullable:b,readOnly:S=!1}=e;return N({type:d?i.apiValues:String,json:{type:i.jsonValues,default:a,name:y,read:!S&&{reader:i.read},write:{writer:i.write,alwaysWriteDefaults:n}},nonNullable:b,readOnly:S})}let $m;const P0t=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale,xx=globalThis.document?.documentElement;function OG(){const t=xx?.getAttribute("lang"),e=globalThis.navigator?.language;return P0t??t??e??"en"}function Fo(){return $m===void 0&&($m=OG()),$m}const I0t=/^(?<language>[a-z]{2,3})(?:-[a-z]{3})?(?:-[A-Z][a-z]{3})?(?:-(?<region>[A-Z]{2}|\d{3}))?(?:-.*)?$/;function PE(t=Fo()){return I0t.exec(t)?.groups}const z3=[];function $G(t){return z3.push(t),ui((()=>{z3.splice(z3.indexOf(t),1)}))}const U3=[];function IE(t){return U3.push(t),ui((()=>U3.splice(U3.indexOf(t),1)))}function yk(){const t=OG();$m!==t&&([...U3].forEach((e=>e(t))),$m=t,[...z3].forEach((e=>e(t))))}globalThis.addEventListener?.("languagechange",yk),xx&&new MutationObserver((()=>{yk()})).observe(xx,{attributeFilter:["lang"]});const ul="system",DE="unknown",pg="UTC",D0t=Intl.DateTimeFormat().resolvedOptions().timeZone,mk=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Bishkek"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Mazatlan"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]),L0t="shortOffset";function j0t(t){return"timeZoneIANA"in t}function z0t(t){return t.startsWith("UTC")}function zAt(t,e=!1){return{json:{read:{source:t,reader:(i,n)=>n[t]?U0t(n[t]):null},write:!!e&&{allowNull:!0,writer(i,n){n[t]=i?F0t(i):null}}}}}function U0t(t,e=ul){return t?j0t(t)?t.timeZoneIANA:B0t(t,e):e}function F0t(t){return{timeZoneIANA:t}}function B0t(t,e=ul){if(!t||!mk.has(t.timeZone))return e;const i=mk.get(t.timeZone);return z0t(t.timeZone)||t.respectsDaylightSaving?i:G0t(i)}function G0t(t){const e=Re.local().setZone(t),i=Math.min(e.set({month:1,day:1}).offset,e.set({month:5}).offset);return i===0?"Etc/UTC":`Etc/GMT${Xn.instance(-i).formatOffset(0,"narrow")}`}function UAt(t,e,i,n,a){if(e&&a==="date")return{timeZone:pg,timeZoneName:void 0};const d=n.timeStyle||n.hour,y=i===DE;return{timeZone:y?a==="timestamp-offset"?void 0:t??pg:i,timeZoneName:y&&d?L0t:void 0}}function q0t(t){const e=new Set(["etc/utc","etc/gmt","gmt"]),i=new Set(Intl.supportedValuesOf("timeZone").map((n=>n.toLowerCase())));return t===ul||t===DE||e.has(t.toLowerCase())||i.has(t.toLowerCase())}const H0t={year:void 0,month:void 0,day:void 0,weekday:void 0},V0t={hour:void 0,minute:void 0,second:void 0},NG={timeZone:pg},La={year:"numeric",month:"numeric",day:"numeric"},cy={year:"numeric",month:"long",day:"numeric"},hy={year:"numeric",month:"short",day:"numeric"},fy={year:"numeric",month:"long",weekday:"long",day:"numeric"},gc={hour:"numeric",minute:"numeric"},kh={...gc,second:"numeric"},kG={hourCycle:"h23"},dy={...gc,...kG},py={...kh,...kG},PG={"short-date":La,"short-date-short-time":{...La,...gc},"short-date-short-time-24":{...La,...dy},"short-date-long-time":{...La,...kh},"short-date-long-time-24":{...La,...py},"short-date-le":La,"short-date-le-short-time":{...La,...gc},"short-date-le-short-time-24":{...La,...dy},"short-date-le-long-time":{...La,...kh},"short-date-le-long-time-24":{...La,...py},"long-month-day-year":cy,"long-month-day-year-short-time":{...cy,...gc},"long-month-day-year-short-time-24":{...cy,...dy},"long-month-day-year-long-time":{...cy,...kh},"long-month-day-year-long-time-24":{...cy,...py},"day-short-month-year":hy,"day-short-month-year-short-time":{...hy,...gc},"day-short-month-year-short-time-24":{...hy,...dy},"day-short-month-year-long-time":{...hy,...kh},"day-short-month-year-long-time-24":{...hy,...py},"long-date":fy,"long-date-short-time":{...fy,...gc},"long-date-short-time-24":{...fy,...dy},"long-date-long-time":{...fy,...kh},"long-date-long-time-24":{...fy,...py},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":gc,"long-time":kh},W0t=He()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),IG={ar:"ar-u-nu-latn-ca-gregory",nn:"no-NN"},J0t=new Intl.DateTimeFormat("bs",{month:"long"}).formatToParts(new Date(2025,2)),Y0t=J0t.find((({type:t})=>t==="month"))?.value.toLowerCase();function DG(){const t=Fo(),e=PE(t)?.language;return(e&&IG[e])??t}Y0t!=="mart"&&(IG.bs="sr-Latn-CS");let Tx=new WeakMap;const F5=PG["short-date-short-time"];function K0t(t){let e=Tx.get(t);if(!e){const i=DG(),n=jE(t.timeZone??ul),a={...t,timeZone:n};e=new Intl.DateTimeFormat(i,a),Tx.set(t,e)}return e}function FAt(t){return PG[t]}function LE(t,e=F5){return K0t(e).format(t)}function BAt(t,e=F5){return LE(new Date(t),{...e,...NG,...V0t})}function GAt(t,e=F5){return LE(new Date(`1970-01-01T${t}Z`),{...e,...NG,...H0t})}function qAt(t,e=F5){if(e.timeZone)return LE(new Date(t),e);const i=Re.fromISO(t,{setZone:!0}),n=i.offset===0?pg:e.timeZone,a={...e,timeZone:n};return i.toLocaleString(a,{locale:DG()})}function jE(t){switch(t){case ul:return D0t;case DE:return pg;default:return t}}IE((()=>{Tx=new WeakMap}));let Xd=class extends qr.ClonableMixin(Zt){constructor(e){super(e),this.dateFormat=null,this.digitSeparator=!1,this.places=null}};E([se(W0t)],Xd.prototype,"dateFormat",void 0),E([N({type:Boolean,json:{write:!0}})],Xd.prototype,"digitSeparator",void 0),E([N({type:Hi,json:{write:!0}})],Xd.prototype,"places",void 0),Xd=E([ut("esri.popup.support.FieldInfoFormat")],Xd);const X0t=Xd;var Ex;let ca=Ex=class extends Zt{constructor(t){super(t),this.fieldName=null,this.format=void 0,this.isEditable=!0,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){return new Ex({fieldName:this.fieldName,format:this.format?.clone(),isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};E([N({type:String,json:{write:!0}})],ca.prototype,"fieldName",void 0),E([N({type:X0t,json:{write:!0}})],ca.prototype,"format",void 0),E([N({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],ca.prototype,"isEditable",void 0),E([N({type:String,json:{write:!0}})],ca.prototype,"label",void 0),E([se(new wr({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],ca.prototype,"stringFieldOption",void 0),E([N({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],ca.prototype,"statisticType",void 0),E([N({type:String,json:{write:!0}})],ca.prototype,"tooltip",void 0),E([N({type:Boolean,json:{write:!0}})],ca.prototype,"visible",void 0),ca=Ex=E([ut("esri.popup.FieldInfo")],ca);const LG=ca;var Mx;let Fl=Mx=class extends vu{constructor(t){super(t),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(t,e){e.fieldInfos=t&&t.map((i=>i.toJSON()))}clone(){return new Mx(Ht({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};E([N({type:Object,json:{write:!0}})],Fl.prototype,"attributes",void 0),E([N({type:String,json:{write:!0}})],Fl.prototype,"description",void 0),E([N({type:[LG]})],Fl.prototype,"fieldInfos",void 0),E([Pe("fieldInfos")],Fl.prototype,"writeFieldInfos",null),E([N({type:String,json:{write:!0}})],Fl.prototype,"title",void 0),E([N({type:["fields"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Fl.prototype,"type",void 0),Fl=Mx=E([ut("esri.popup.content.FieldsContent")],Fl);const yg=Fl;let Ph=class extends Zt{constructor(e){super(e),this.altText=null,this.caption="",this.title="",this.type=null}};E([N({type:String,json:{write:!0}})],Ph.prototype,"altText",void 0),E([N({type:String,json:{write:!0}})],Ph.prototype,"caption",void 0),E([N({type:String,json:{write:!0}})],Ph.prototype,"title",void 0),E([N({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Ph.prototype,"type",void 0),Ph=E([ut("esri.popup.content.mixins.MediaInfo")],Ph);const zE=Ph,gw={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function jG(t){return!!gw[t]||!!gw[t.toLowerCase()]}function UE(t){return gw[t]??gw[t.toLowerCase()]}function Z0t(t){return[...UE(t)]}function b_(t,e,i){i<0&&++i,i>1&&--i;const n=6*i;return n<1?t+(e-t)*n:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}function zG(t,e,i,n=1){const a=(t%360+360)%360/360,d=i<=.5?i*(e+1):i+e-i*e,y=2*i-d;return[Math.round(255*b_(y,d,a+1/3)),Math.round(255*b_(y,d,a)),Math.round(255*b_(y,d,a-1/3)),n]}function Q0t(t){const e=t.length>5,i=e?8:4,n=(1<<i)-1,a=e?1:17,d=e?t.length===9:t.length===5;let y=+("0x"+t.slice(1));if(isNaN(y))return null;const b=[0,0,0,1];let S;return d&&(S=y&n,y>>=i,b[3]=a*S/255),S=y&n,y>>=i,b[2]=a*S,S=y&n,y>>=i,b[1]=a*S,S=y&n,y>>=i,b[0]=a*S,b}function UG(t){if(t[0]!=="#"||isNaN(+`0x${t.slice(1)}`))return null;switch(t.length){case 4:case 5:{const e=parseInt(t.slice(1,2),16),i=parseInt(t.slice(2,3),16),n=parseInt(t.slice(3,4),16),a=t.length===4?15:parseInt(t.slice(4),16);return[e+16*e,i+16*i,n+16*n,(a+16*a)/255]}case 7:case 9:return[parseInt(t.slice(1,3),16),parseInt(t.slice(3,5),16),parseInt(t.slice(5,7),16),(t.length===7?255:parseInt(t.slice(7),16))/255];default:return null}}function FG(t){const e=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s.\-,%0-9]+)\)/);if(e){const i=e[2].split(/\s*,\s*/),n=e[1];if(n==="rgb"&&i.length===3||n==="rgba"&&i.length===4){const a=i[0];if(a.charAt(a.length-1)==="%"){const d=i.map((y=>2.56*parseFloat(y)));return i.length===4&&(d[3]=parseFloat(i[3])),gk(d)}return gk(i.map((d=>parseFloat(d))))}if(n==="hsl"&&i.length===3||n==="hsla"&&i.length===4)return zG(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100,parseFloat(i[3]??"1"))}return null}function gk(t){return t[0]=N0(t[0]),t[1]=N0(t[1]),t[2]=N0(t[2]),t[3]=t.length===4?GG(t[3]):1,t}function BG(t){let e=jG(t)?UE(t):null;return e??=FG(t),e??=UG(t),e}function WAt(t){const e=BG(t);return e!=null?[e[0]/255,e[1]/255,e[2]/255,e[3]]:null}function GG(t){return qG(t,0,1)}function N0(t){return Math.round(qG(t,0,255))}function qG(t,e,i){return t=Number(t),isNaN(t)?i:t<e?e:t>i?i:t}const JAt=2.2,vk=new Float32Array(1);function YAt(t){--t;for(let e=1;e<32;e<<=1)t|=t>>e;return t+1}function Ea(t,e,i){return Math.min(Math.max(t,e),i)}function KAt(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t}function Fy(t,e,i){return t+(e-t)*i}function XAt(t,e,i,n,a){return Fy(n,a,(t-e)/(i-e))}function sv(t){return t*Math.PI/180}function HG(t){return 180*t/Math.PI}function ZAt(t,e=1e-6){return(t<0?-1:1)/Math.max(Math.abs(t),e)}function QAt(t){return Math.acos(Ea(t,-1,1))}function tpt(t){return Math.asin(Ea(t,-1,1))}function k0(t,e,i=1e-6){return t===e?!0:!Number.isFinite(t)||!Number.isFinite(e)?!1:(t>e?t-e:e-t)<=i}function tRt(t,e,i=1e-6){return!k0(t,e,i)&&t>e}function eRt(t,e,i=1e-6){return!k0(t,e,i)&&t<e}function iRt(t,e,i=1e-6){return k0(t,e,i)||t>e}const vw=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function Ax(t){return vw.setFloat64(0,t),vw.getBigInt64(0)}function ept(t){return vw.setBigInt64(0,t),vw.getFloat64(0)}const F3=BigInt("1000000"),ipt=VG(1);function VG(t){const e=Ax(t=Math.abs(t)),i=ept(e<=F3?F3:e-F3);return Math.abs(t-i)}function rRt(t,e,i=ipt){if(t===e)return!0;if(!Number.isFinite(t)||!Number.isFinite(e))return!1;if(i!=null&&VG(Math.min(Math.abs(t),Math.abs(e)))<i)return Math.abs(t-e)<=i;const n=Ax(t),a=Ax(e);return n<0!=a<0?!1:!((n<a?a-n:n-a)>F3)}function nRt(t,e,i=1e-6){if(t===e)return!0;if(!Number.isFinite(t)||!Number.isFinite(e))return!1;const n=Math.abs(t-e),a=Math.abs(t),d=Math.abs(e);if(t===0||e===0||a<1e-12&&d<1e-12){if(n>.01*i)return!1}else if(n/(a+d)>i)return!1;return!0}function sRt(t){return WG(Math.max(-bk,Math.min(t,bk)))}function WG(t){return vk[0]=t,vk[0]}function oRt(t){const e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[3]*t[3]+t[4]*t[4]+t[5]*t[5],n=t[6]*t[6]+t[7]*t[7]+t[8]*t[8];return!(k0(e,1)&&k0(i,1)&&k0(n,1))}const bk=WG(34028234663852886e22);function aRt(t,e,i){if(i===void 0||+i==0)return Math[t](e);if(e=+e,i=+i,isNaN(e)||typeof i!="number"||i%1!=0)return NaN;let n=e.toString().split("e");return n=(e=Math[t](+(n[0]+"e"+(n[1]?+n[1]-i:-i)))).toString().split("e"),+(n[0]+"e"+(n[1]?+n[1]+i:i))}function W2(t){return Ea(_T(t),0,255)}function J2(t,e){const i=t.toString(16).padStart(2,"0");return e?i.slice(0,1):i}let B3=class bs{static blendColors(e,i,n,a=new bs){return a.r=Math.round(e.r+(i.r-e.r)*n),a.g=Math.round(e.g+(i.g-e.g)*n),a.b=Math.round(e.b+(i.b-e.b)*n),a.a=e.a+(i.a-e.a)*n,a._sanitize()}static fromRgb(e,i){const n=FG(e);return n?bs.fromArray(n,i):null}static fromHex(e,i=new bs){const n=UG(e);return n?bs.fromArray(n,i):null}static fromArray(e,i=new bs){return i._set(Number(e[0]),Number(e[1]),Number(e[2]),Number(e[3])),isNaN(i.a)&&(i.a=1),i._sanitize()}static fromString(e,i){const n=BG(e);return n?bs.fromArray(n,i):null}static fromJSON(e){return e!=null?new bs([e[0],e[1],e[2],(e[3]??255)/255]):void 0}static toUnitRGB(e){return e!=null?[e.r/255,e.g/255,e.b/255]:null}static toUnitRGBA(e){return e!=null?[e.r/255,e.g/255,e.b/255,e.a!=null?e.a:1]:null}constructor(e){this.r=255,this.g=255,this.b=255,this.a=1,e&&this.setColor(e)}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(e){return typeof e=="string"?bs.fromString(e,this):Array.isArray(e)?bs.fromArray(e,this):(this._set(e.r??0,e.g??0,e.b??0,e.a??1),e instanceof bs||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(e){const i=e?.capitalize??!1,n=e?.digits??6,a=n===3||n===4,d=n===4||n===8,y=`#${J2(this.r,a)}${J2(this.g,a)}${J2(this.b,a)}${d?J2(Math.round(255*this.a),a):""}`;return i?y.toUpperCase():y}toCss(e=!1){const i=this.r+", "+this.g+", "+this.b;return e?`rgba(${i}, ${this.a})`:`rgb(${i})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(e=bs.AlphaMode.ALWAYS){const i=W2(this.r),n=W2(this.g),a=W2(this.b);return e===bs.AlphaMode.ALWAYS||this.a!==1?[i,n,a,W2(255*this.a)]:[i,n,a]}clone(){return new bs(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(e){return e!=null&&e.r===this.r&&e.g===this.g&&e.b===this.b&&e.a===this.a}_sanitize(){return this.r=N0(this.r),this.g=N0(this.g),this.b=N0(this.b),this.a=GG(this.a),this}_set(e,i,n,a){this.r=e,this.g=i,this.b=n,this.a=a}};B3.prototype.declaredClass="esri.Color",(function(t){var e;(e=t.AlphaMode||(t.AlphaMode={}))[e.ALWAYS=0]="ALWAYS",e[e.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"})(B3||(B3={}));const ni=B3;var Rx;let Ih=Rx=class extends ve{constructor(t){super(t),this.color=null,this.fieldName=null,this.tooltip=null,this.value=null}clone(){return new Rx({color:this.color?.clone(),fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};E([N()],Ih.prototype,"color",void 0),E([N()],Ih.prototype,"fieldName",void 0),E([N()],Ih.prototype,"tooltip",void 0),E([N()],Ih.prototype,"value",void 0),Ih=Rx=E([ut("esri.popup.content.support.ChartMediaInfoValueSeries")],Ih);const rpt=Ih;var Cx;let ic=Cx=class extends Zt{constructor(t){super(t),this.colors=null,this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new Cx({colors:Ht(this.colors),fields:Ht(this.fields),normalizeField:this.normalizeField,series:Ht(this.series),tooltipField:this.tooltipField})}};E([N({type:[ni],json:{type:[[Hi]],write:!0}})],ic.prototype,"colors",void 0),E([N({type:[String],json:{write:{isRequired:!0}}})],ic.prototype,"fields",void 0),E([N({type:String,json:{write:!0}})],ic.prototype,"normalizeField",void 0),E([N({type:[rpt],json:{read:!1}})],ic.prototype,"series",void 0),E([N({type:String,json:{write:!0}})],ic.prototype,"tooltipField",void 0),ic=Cx=E([ut("esri.popup.content.support.ChartMediaInfoValue")],ic);const npt=ic;let By=class extends zE{constructor(e){super(e),this.type=null,this.value=void 0}};E([N({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],By.prototype,"type",void 0),E([N({type:npt,json:{write:{isRequired:!0}}})],By.prototype,"value",void 0),By=E([ut("esri.popup.content.mixins.ChartMediaInfo")],By);const B5=By,G5=He()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var Ox;let G3=Ox=class extends B5{constructor(t){super(t),this.type="bar-chart"}clone(){return new Ox({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};E([N({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:{writer:G5.write,isRequired:!0}}})],G3.prototype,"type",void 0),G3=Ox=E([ut("esri.popup.content.BarChartMediaInfo")],G3);const JG=G3;var $x;let q3=$x=class extends B5{constructor(t){super(t),this.type="column-chart"}clone(){return new $x({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};E([N({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:{writer:G5.write,isRequired:!0}}})],q3.prototype,"type",void 0),q3=$x=E([ut("esri.popup.content.ColumnChartMediaInfo")],q3);const YG=q3;var Nx;let Gy=Nx=class extends Zt{constructor(t){super(t),this.linkURL=null,this.sourceURL=null}clone(){return new Nx({linkURL:this.linkURL,sourceURL:this.sourceURL})}};E([N({type:String,json:{write:!0}})],Gy.prototype,"linkURL",void 0),E([N({type:String,json:{write:{isRequired:!0}}})],Gy.prototype,"sourceURL",void 0),Gy=Nx=E([ut("esri.popup.content.support.ImageMediaInfoValue")],Gy);const spt=Gy;var kx;let Zd=kx=class extends zE{constructor(t){super(t),this.refreshInterval=0,this.type="image",this.value=void 0}clone(){return new kx({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?.clone()})}};E([N({type:Number,json:{write:!0}})],Zd.prototype,"refreshInterval",void 0),E([N({type:["image"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Zd.prototype,"type",void 0),E([N({type:spt,json:{write:{isRequired:!0}}})],Zd.prototype,"value",void 0),Zd=kx=E([ut("esri.popup.content.ImageMediaInfo")],Zd);const KG=Zd;var Px;let H3=Px=class extends B5{constructor(t){super(t),this.type="line-chart"}clone(){return new Px({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};E([N({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:{writer:G5.write,isRequired:!0}}})],H3.prototype,"type",void 0),H3=Px=E([ut("esri.popup.content.LineChartMediaInfo")],H3);const XG=H3;var Ix;let V3=Ix=class extends B5{constructor(t){super(t),this.type="pie-chart"}clone(){return new Ix({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};E([N({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:{writer:G5.write,isRequired:!0}}})],V3.prototype,"type",void 0),V3=Ix=E([ut("esri.popup.content.PieChartMediaInfo")],V3);const ZG=V3,Dx={base:zE,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":JG,"column-chart":YG,"line-chart":XG,"pie-chart":ZG,image:KG}};var Lx;let ha=Lx=class extends vu{constructor(t){super(t),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(t){return t&&t.map((e=>e.type==="image"?KG.fromJSON(e):e.type==="barchart"?JG.fromJSON(e):e.type==="columnchart"?YG.fromJSON(e):e.type==="linechart"?XG.fromJSON(e):e.type==="piechart"?ZG.fromJSON(e):void 0)).filter(Boolean)}writeMediaInfos(t,e){e.mediaInfos=t&&t.map((i=>i.toJSON()))}clone(){return new Lx(Ht({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};E([N()],ha.prototype,"activeMediaInfoIndex",void 0),E([N({type:Object,json:{write:!0}})],ha.prototype,"attributes",void 0),E([N({type:String,json:{write:!0}})],ha.prototype,"description",void 0),E([N({types:[Dx]})],ha.prototype,"mediaInfos",void 0),E([Ne("mediaInfos")],ha.prototype,"readMediaInfos",null),E([Pe("mediaInfos")],ha.prototype,"writeMediaInfos",null),E([N({type:String,json:{write:!0}})],ha.prototype,"title",void 0),E([N({type:["media"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],ha.prototype,"type",void 0),ha=Lx=E([ut("esri.popup.content.MediaContent")],ha);const mg=ha;var jx;let qy=jx=class extends Zt{constructor(t){super(t),this.field=null,this.order=null}clone(){return new jx({field:this.field,order:this.order})}};E([N({type:String,json:{write:!0}})],qy.prototype,"field",void 0),E([N({type:["asc","desc"],json:{write:!0}})],qy.prototype,"order",void 0),qy=jx=E([ut("esri.popup.support.RelatedRecordsInfoFieldOrder")],qy);const QG=qy;let za=class extends qr.ClonableMixin(vu){constructor(e){super(e),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};E([N({type:String,json:{write:!0}})],za.prototype,"description",void 0),E([N({type:Number,json:{type:Hi,write:!0}})],za.prototype,"displayCount",void 0),E([N({type:["list"],json:{write:{isRequired:!0}}})],za.prototype,"displayType",void 0),E([N({type:[QG],json:{write:!0}})],za.prototype,"orderByFields",void 0),E([N({type:Number,json:{type:Hi,write:{isRequired:!0}}})],za.prototype,"relationshipId",void 0),E([N({type:String,json:{write:!0}})],za.prototype,"title",void 0),E([N({type:["relationship"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],za.prototype,"type",void 0),za=E([ut("esri.popup.content.RelationshipContent")],za);const gg=za;var zx;let Hy=zx=class extends vu{constructor(t){super(t),this.text=null,this.type="text"}clone(){return new zx({text:this.text})}};E([N({type:String,json:{write:!0}})],Hy.prototype,"text",void 0),E([N({type:["text"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Hy.prototype,"type",void 0),Hy=zx=E([ut("esri.popup.content.TextContent")],Hy);const vg=Hy;let Bl=class extends qr.ClonableMixin(Zt){constructor(e){super(e),this.title=null,this.description=null,this.type=null,this.associatedNetworkSourceId=null,this.associatedAssetGroup=null,this.associatedAssetType=null}};E([N({type:String,json:{write:!0}})],Bl.prototype,"title",void 0),E([N({type:String,json:{write:!0}})],Bl.prototype,"description",void 0),E([N({type:["attachment","connectivity","container","content","structure"],json:{write:!0}})],Bl.prototype,"type",void 0),E([N({type:Number,json:{type:Hi,write:!0}})],Bl.prototype,"associatedNetworkSourceId",void 0),E([N({type:Number,json:{type:Hi,write:!0}})],Bl.prototype,"associatedAssetGroup",void 0),E([N({type:Number,json:{type:Hi,write:!0}})],Bl.prototype,"associatedAssetType",void 0),Bl=E([ut("esri.popup.support.UtilityNetworkAssociationType")],Bl);const opt=Bl;let rc=class extends qr.ClonableMixin(vu){constructor(e){super(e),this.description=null,this.displayCount=null,this.title=null,this.associationTypes=[],this.type="utility-network-associations"}};E([N({type:String,json:{write:!0}})],rc.prototype,"description",void 0),E([N({type:Number,json:{type:Hi,write:!0}})],rc.prototype,"displayCount",void 0),E([N({type:String,json:{write:!0}})],rc.prototype,"title",void 0),E([N({type:[opt],json:{write:!0}})],rc.prototype,"associationTypes",void 0),E([se({utilityNetworkAssociations:"utility-network-associations"})],rc.prototype,"type",void 0),rc=E([ut("esri.popup.content.UtilityNetworkAssociationsContent")],rc);const FE=rc,apt={base:null,key:"type",typeMap:{attachment:dg,media:mg,text:vg,expression:U5,field:yg,relationship:gg,utilityNetworkAssociations:FE}},lpt={base:null,key:"type",typeMap:{attachment:dg,media:mg,text:vg,expression:U5,field:yg,relationship:gg}};var Ux;let Dh=Ux=class extends Zt{constructor(t){super(t),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new Ux({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};E([N({type:String,json:{write:!0}})],Dh.prototype,"name",void 0),E([N({type:String,json:{write:!0}})],Dh.prototype,"title",void 0),E([N({type:String,json:{write:!0}})],Dh.prototype,"expression",void 0),E([N({type:["string","number"],json:{write:!0}})],Dh.prototype,"returnType",void 0),Dh=Ux=E([ut("esri.popup.ExpressionInfo")],Dh);const upt=Dh;var Fx;let Vy=Fx=class extends Zt{constructor(t){super(t),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new Fx({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};E([N({type:Boolean,json:{write:!0}})],Vy.prototype,"returnTopmostRaster",void 0),E([N({type:Boolean,json:{write:!0}})],Vy.prototype,"showNoDataRecords",void 0),Vy=Fx=E([ut("esri.popup.LayerOptions")],Vy);const cpt=Vy;var Bx;let Wy=Bx=class extends Zt{constructor(t){super(t),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new Bx({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?Ht(this.orderByFields):null})}};E([N({type:Boolean,json:{write:!0}})],Wy.prototype,"showRelatedRecords",void 0),E([N({type:[QG],json:{write:!0}})],Wy.prototype,"orderByFields",void 0),Wy=Bx=E([ut("esri.popup.RelatedRecordsInfo")],Wy);const wk=Wy;let tq=0;const eq=t=>{let e=class extends t{constructor(...i){super(...i),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+tq++})}};return e=E([ut("esri.core.Identifiable")],e),e},hpt=t=>{let e=class extends t{constructor(...i){super(...i),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:tq++})}};return e=E([ut("esri.core.Identifiable.NumericIdentifiable")],e),e};let Jy=class extends eq(class{}){};Jy=E([ut("esri.core.Identifiable")],Jy),(function(t){t.IdentifiableMixin=eq,t.NumericIdentifiableMixin=hpt})(Jy||(Jy={}));const ov=Jy;var Gx;let So=Gx=class extends ov.IdentifiableMixin(ve){constructor(t){super(t),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new Gx({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};E([N()],So.prototype,"active",void 0),E([N()],So.prototype,"className",void 0),E([N()],So.prototype,"disabled",void 0),E([N()],So.prototype,"icon",void 0),E([N()],So.prototype,"id",void 0),E([N()],So.prototype,"indicator",void 0),E([N()],So.prototype,"title",void 0),E([N()],So.prototype,"type",void 0),E([N()],So.prototype,"visible",void 0),So=Gx=E([ut("esri.support.actions.ActionBase")],So);const BE=So;var qx;let W3=qx=class extends BE{constructor(t){super(t),this.image=null,this.type="button"}clone(){return new qx({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};E([N()],W3.prototype,"image",void 0),W3=qx=E([ut("esri.support.actions.ActionButton")],W3);const fpt=W3;var Hx;let Yy=Hx=class extends BE{constructor(t){super(t),this.image=null,this.type="toggle",this.value=!1}clone(){return new Hx({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};E([N()],Yy.prototype,"image",void 0),E([N()],Yy.prototype,"value",void 0),Yy=Hx=E([ut("esri.support.actions.ActionToggle")],Yy);const dpt=Yy,yy="relationships/",_k="expression/",ppt=me.ofType({key:"type",defaultKeyValue:"button",base:BE,typeMap:{button:fpt,toggle:dpt}}),ypt={base:vu,key:"type",typeMap:{media:mg,custom:N0t,text:vg,attachments:dg,fields:yg,expression:U5,relationship:gg,utilityNetworkAssociations:FE}},iq=new Set(["attachments","fields","media","text","expression","relationship"]),mpt=new Set([...iq,"utility-network-associations"]);let Jr=class extends qr.ClonableMixin(Zt){constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(e){return Array.isArray(e)?e.map((i=>qc(ypt,i))):typeof e=="string"||typeof e=="function"||e instanceof HTMLElement||hl(e)?e:(ae.getLogger(this).error("content error","unsupported content value",{value:e}),null)}readContent(e,i){const{popupElements:n}=i;return Array.isArray(n)&&n.length>0?this._readPopupInfoElements(i.description,i.mediaInfos,n):this._readPopupInfo(i)}writeWebSceneContent(e,i,n,a){this._writePopupTemplateContent(e,i,a)}writeWebMapContent(e,i,n,a){this._writePopupTemplateContent(e,i,a)}writeFieldInfos(e,i,n,a){const{content:d}=this,y=Array.isArray(d)?d:null;if(e){const b=y?y.filter((T=>T.type==="fields")):[],S=b.length&&b.every((T=>T.fieldInfos?.length));i.fieldInfos=e.filter(Boolean).map((T=>{const C=T.toJSON(a);return S&&(C.visible=!1),C}))}if(y)for(const b of y)b.type==="fields"&&this._writeFieldsContent(b,i)}writeLayerOptions(e,i,n,a){i[n]=!e||e.showNoDataRecords===null&&e.returnTopmostRaster===null?null:e.toJSON(a)}writeTitle(e,i){i.title=e||""}async collectRequiredFields(e,i){const n=this.expressionInfos||[];await this._collectExpressionInfoFields(e,i,[...n,...this._getContentExpressionInfos(this.content,n)]),fg(e,i,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(e){const i=new Set;return await this.collectRequiredFields(i,e),[...i].sort()}_writePopupTemplateContent(e,i,n){typeof e!="string"?Array.isArray(e)&&(i.popupElements=e.filter((a=>n?.origin==="web-scene"?iq.has(a.type):mpt.has(a.type))).map((a=>a?.toJSON(n))),i.popupElements.forEach((a=>{a.type==="attachments"?this._writeAttachmentContent(i):a.type==="media"?this._writeMediaContent(a,i):a.type==="text"?this._writeTextContent(a,i):a.type==="relationship"&&this._writeRelationshipContent(a,i)}))):i.description=e}_writeFieldsContent(e,i){if(!Array.isArray(e.fieldInfos)||!e.fieldInfos.length)return;const n=Ht(e.fieldInfos);Array.isArray(i.fieldInfos)?n.forEach((a=>{const d=i.fieldInfos.find((y=>y.fieldName?.toLowerCase()===a.fieldName?.toLowerCase()));d?d.visible=!0:i.fieldInfos.push(a)})):i.fieldInfos=n}_writeAttachmentContent(e){e.showAttachments||(e.showAttachments=!0)}_writeRelationshipContent(e,i){const n=e.orderByFields?.map((d=>this._toFieldOrderJSON(d,e.relationshipId)))||[],a=[...i.relatedRecordsInfo?.orderByFields||[],...n];i.relatedRecordsInfo={showRelatedRecords:!0,...a?.length&&{orderByFields:a}}}_writeTextContent(e,i){!i.description&&e.text&&(i.description=e.text)}_writeMediaContent(e,i){if(!Array.isArray(e.mediaInfos)||!e.mediaInfos.length)return;const n=Ht(e.mediaInfos);Array.isArray(i.mediaInfos)?i.mediaInfos=[...i.mediaInfos,...n]:i.mediaInfos=n}_readPopupInfoElements(e,i,n){const a={description:!1,mediaInfos:!1};return n.map((d=>d.type==="media"?(d.mediaInfos||!i||a.mediaInfos||(d.mediaInfos=i,a.mediaInfos=!0),mg.fromJSON(d)):d.type==="text"?(d.text||!e||a.description||(d.text=e,a.description=!0),vg.fromJSON(d)):d.type==="attachments"?dg.fromJSON(d):d.type==="fields"?yg.fromJSON(d):d.type==="expression"?U5.fromJSON(d):d.type==="relationship"?gg.fromJSON(d):d.type==="utilityNetworkAssociations"?FE.fromJSON(d):void 0)).filter(Boolean)}_toRelationshipContent(e){const{field:i,order:n}=e;if(!i?.startsWith(yy))return null;const a=i.replace(yy,"").split("/");if(a.length!==2)return null;const d=parseInt(a[0],10),y=a[1];return!Number.isNaN(d)&&y?gg.fromJSON({relationshipId:d,orderByFields:[{field:y,order:n}]}):null}_toFieldOrderJSON(e,i){const{order:n,field:a}=e;return{field:`${yy}${i}/${a}`,order:n}}_readPopupInfo({description:e,mediaInfos:i,showAttachments:n,relatedRecordsInfo:a={showRelatedRecords:!1}}){const d=[];e?d.push(new vg({text:e})):d.push(new yg),Array.isArray(i)&&i.length&&d.push(mg.fromJSON({mediaInfos:i})),n&&d.push(dg.fromJSON({displayType:"auto"}));const{showRelatedRecords:y,orderByFields:b}=a;return y&&b?.length&&b.forEach((S=>{const T=this._toRelationshipContent(S);T&&d.push(T)})),d.length?d:e}_getContentElementFields(e){const i=e?.type;if(i==="attachments")return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description)];if(i==="custom")return e.outFields||[];if(i==="fields")return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...this._getFieldInfoFields(e.fieldInfos??this.fieldInfos)];if(i==="media"){const n=e.mediaInfos||[];return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...n.reduce(((a,d)=>[...a,...this._getMediaInfoFields(d)]),[])]}return i==="text"?this._extractFieldNames(e.text):i==="relationship"||i==="utility-network-associations"?[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description)]:[]}_getMediaInfoFields(e){const{caption:i,title:n,value:a}=e,d=a||{},{fields:y,normalizeField:b,tooltipField:S,sourceURL:T,linkURL:C}=d,k=[...this._extractFieldNames(n),...this._extractFieldNames(i),...this._extractFieldNames(T),...this._extractFieldNames(C),...y??[]];return b&&k.push(b),S&&k.push(S),k}_getContentExpressionInfos(e,i){return Array.isArray(e)?e.reduce(((n,a)=>[...n,...a.type==="expression"&&a.expressionInfo?[a.expressionInfo]:[]]),i):[]}_getContentFields(e){return typeof e=="string"?this._extractFieldNames(e):Array.isArray(e)?e.reduce(((i,n)=>[...i,...this._getContentElementFields(n)]),[]):[]}async _collectExpressionInfoFields(e,i,n){n&&await Promise.all(n.map((a=>Jc(e,i,a.expression))))}_getFieldInfoFields(e){return e?e.filter((({fieldName:i,visible:n})=>!(n!==void 0&&!n||!i||i.startsWith(yy)||i.startsWith(_k)))).map((i=>i.fieldName)):[]}_getActionsFields(e){return e?e.toArray().reduce(((i,n)=>[...i,...this._getActionFields(n)]),[]):[]}_getActionFields(e){const{className:i,title:n,type:a}=e,d=a==="button"||a==="toggle"?e.image:"";return[...this._extractFieldNames(n),...this._extractFieldNames(i),...this._extractFieldNames(d)]}_getTitleFields(e){return typeof e=="string"?this._extractFieldNames(e):[]}_extractFieldNames(e){return O0t(e).filter((i=>!(i.indexOf(yy)===0||i.indexOf(_k)===0)))}};E([N({type:ppt})],Jr.prototype,"actions",void 0),E([N()],Jr.prototype,"content",void 0),E([on("content")],Jr.prototype,"castContent",null),E([Ne("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],Jr.prototype,"readContent",null),E([Pe("web-scene","content",{popupElements:{type:me.ofType(lpt)},showAttachments:{type:Boolean},mediaInfos:{type:me.ofType(Dx)},description:{type:String},relatedRecordsInfo:{type:wk}})],Jr.prototype,"writeWebSceneContent",null),E([Pe("content",{popupElements:{type:me.ofType(apt)},showAttachments:{type:Boolean},mediaInfos:{type:me.ofType(Dx)},description:{type:String},relatedRecordsInfo:{type:wk}})],Jr.prototype,"writeWebMapContent",null),E([N({type:[upt],json:{write:!0}})],Jr.prototype,"expressionInfos",void 0),E([N({type:[LG]})],Jr.prototype,"fieldInfos",void 0),E([Pe("fieldInfos")],Jr.prototype,"writeFieldInfos",null),E([N({type:cpt})],Jr.prototype,"layerOptions",void 0),E([Pe("layerOptions")],Jr.prototype,"writeLayerOptions",null),E([N({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],Jr.prototype,"lastEditInfoEnabled",void 0),E([N()],Jr.prototype,"outFields",void 0),E([N()],Jr.prototype,"overwriteActions",void 0),E([N()],Jr.prototype,"returnGeometry",void 0),E([N({json:{type:String}})],Jr.prototype,"title",void 0),E([Pe("title")],Jr.prototype,"writeTitle",null),Jr=E([ut("esri.PopupTemplate")],Jr);const gpt=Jr;function xp(t,e,i=!1){let{hasM:n,hasZ:a}=t;Array.isArray(e)?e.length!==4||n||a?e.length===3&&i&&!n?(a=!0,n=!1):e.length===3&&n&&a&&(n=!1,a=!1):(n=!0,a=!0):(a=!a&&e.hasZ&&(!n||e.hasM),n=!n&&e.hasM&&(!a||e.hasZ)),t.hasZ=a,t.hasM=n}var Vx;function Sk(t){return(e,i)=>e==null?i:i==null?e:t(e,i)}function vpt(t){return t&&(t.declaredClass==="esri.geometry.SpatialReference"||t.wkid!=null)}let Po=Vx=class extends gn{constructor(...t){super(...t),this.points=[],this.type="multipoint"}normalizeCtorArgs(t,e){if(!t&&!e)return{};const i={};Array.isArray(t)?(i.points=t,i.spatialReference=e):vpt(t)?i.spatialReference=t:(t.points&&(i.points=t.points),t.spatialReference&&(i.spatialReference=t.spatialReference),t.hasZ&&(i.hasZ=t.hasZ),t.hasM&&(i.hasM=t.hasM));const n=i.points?.[0];return n&&(i.hasZ===void 0&&i.hasM===void 0?(i.hasZ=n.length>2,i.hasM=!1):i.hasZ===void 0?i.hasZ=n.length>3:i.hasM===void 0&&(i.hasM=n.length>3)),i}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const t=this.points;if(!t.length)return null;const e=new Be,i=this.hasZ,n=this.hasM,a=i?3:2,d=t[0],y=Sk(Math.min),b=Sk(Math.max);let S,T,C,k,[D,z]=d,[G,B]=d;for(let H=0,X=t.length;H<X;H++){const et=t[H],[rt,it]=et;if(D=y(D,rt),z=y(z,it),G=b(G,rt),B=b(B,it),i&&et.length>2){const ot=et[2];S=y(S,ot),C=b(C,ot)}if(n&&et.length>a){const ot=et[a];T=y(T,ot),k=b(k,ot)}}return e.xmin=D,e.ymin=z,e.xmax=G,e.ymax=B,e.spatialReference=this.spatialReference,i?(e.zmin=S,e.zmax=C):(e.zmin=void 0,e.zmax=void 0),n?(e.mmin=T,e.mmax=k):(e.mmin=void 0,e.mmax=void 0),e}writePoints(t,e){e.points=Ht(this.points)}addPoint(t){return xp(this,t),Array.isArray(t)?this.points.push(t):this.points.push(t.toArray()),this.notifyChange("points"),this}clone(){const t={points:Ht(this.points),spatialReference:this.spatialReference};return this.hasZ&&(t.hasZ=!0),this.hasM&&(t.hasM=!0),new Vx(t)}getPoint(t){if(!this._validateInputs(t))return null;const e=this.points[t],i={x:e[0],y:e[1],spatialReference:this.spatialReference};let n=2;return this.hasZ&&(i.z=e[2],n=3),this.hasM&&(i.m=e[n]),new ue(i)}removePoint(t){if(!this._validateInputs(t))return null;const e=new ue(this.points.splice(t,1)[0],this.spatialReference);return this.notifyChange("points"),e}setPoint(t,e){return this._validateInputs(t)?(xp(this,e),Array.isArray(e)||(e=e.toArray()),this.points[t]=e,this.notifyChange("points"),this):this}toJSON(t){return this.write({},t)}_validateInputs(t){return t!=null&&t>=0&&t<this.points.length}};E([N({readOnly:!0})],Po.prototype,"cache",null),E([N()],Po.prototype,"extent",null),E([N({type:[[Number]],json:{write:{isRequired:!0}}})],Po.prototype,"points",void 0),E([Pe("points")],Po.prototype,"writePoints",null),Po=Vx=E([ut("esri.geometry.Multipoint")],Po),Po.prototype.toJSON.isDefaultToJSON=!0;function pRt(t){const e=[];for(t.reset();t.nextPath();){const i=[];for(;t.nextPoint();)i.push([t.x,t.y]);e.push(i)}return t.reset(),e}function bpt(t){const e=[];for(;t.nextPoint();)e.push([t.x,t.y]);return t.seekPathStart(),e}var bw;(function(t){t[t.X=0]="X",t[t.Y=1]="Y",t[t.Z=2]="Z"})(bw||(bw={}));function yRt(t){if(!t)return null;if(Array.isArray(t))return t;const e=t.hasZ,i=t.hasM;if(t.type==="point")return i&&e?[t.x,t.y,t.z,t.m]:e?[t.x,t.y,t.z]:i?[t.x,t.y,t.m]:[t.x,t.y];if(t.type==="polygon")return t.rings.slice();if(t.type==="polyline")return t.paths.slice();if(t.type==="multipoint")return t.points.slice();if(t.type==="extent"){const n=t.clone().normalize();if(!n)return null;let a=!1,d=!1;return n.forEach((y=>{y.hasZ&&(a=!0),y.hasM&&(d=!0)})),n.map((y=>{const b=[[y.xmin,y.ymin],[y.xmin,y.ymax],[y.xmax,y.ymax],[y.xmax,y.ymin],[y.xmin,y.ymin]];if(a&&y.hasZ){const S=.5*(y.zmax-y.zmin);for(let T=0;T<b.length;T++)b[T].push(S)}if(d&&y.hasM){const S=.5*(y.mmax-y.mmin);for(let T=0;T<b.length;T++)b[T].push(S)}return b}))}return null}function q5(t,e){const i=e[0]-t[0],n=e[1]-t[1];if(t.length>2&&e.length>2){const a=t[2]-e[2];return Math.sqrt(i*i+n*n+a*a)}return Math.sqrt(i*i+n*n)}function rq(t,e,i){const n=t[0]+i*(e[0]-t[0]),a=t[1]+i*(e[1]-t[1]);return t.length>2&&e.length>2?[n,a,t[2]+i*(e[2]-t[2])]:[n,a]}function wpt(t,e,i,n){return _pt(t,e,i[n],i[n+1])}function _pt(t,e,i,n){const[a,d]=e,[y,b]=i,[S,T]=n,C=S-y,k=T-b,D=C*C+k*k,z=(a-y)*C+(d-b)*k,G=Math.min(1,Math.max(0,z/D));return t[0]=y+C*G,t[1]=b+k*G,t}function mRt(t,e,i,n,a,d){let y=i,b=n,S=a-y,T=d-b;if(S!==0||T!==0){const C=((t-y)*S+(e-b)*T)/(S*S+T*T);C>1?(y=a,b=d):C>0&&(y+=S*C,b+=T*C)}return S=t-y,T=e-b,S*S+T*T}function nq(t,e){return rq(t,e,.5)}function gRt(t){const e=t.length;let i=0;for(let n=0;n<e-1;++n)i+=q5(t[n],t[n+1]);return i}function vRt(t,e){if(e<=0)return t[0];const i=t.length;let n=0;for(let a=0;a<i-1;++a){const d=q5(t[a],t[a+1]);if(e-n<d){const y=(e-n)/d;return rq(t[a],t[a+1],y)}n+=d}return t[i-1]}function sq(t,e=bw.X,i=bw.Y){let n=0;const a=t.length;let d=t[0];for(let y=1;y<a;y++){const b=t[y];n+=(b[e]-d[e])*(b[i]+d[i]),d=b}if(oq(t)){const y=t[0];n+=(y[e]-d[e])*(y[i]+d[i])}return n>=0}function oq(t){const e=t.length;return e>0&&!e5(t[0],t[e-1])}function bRt(t){"rings"in t&&(Spt(t),xpt(t))}function Spt(t){if("rings"in t)for(const e of t.rings)oq(e)&&e.push(e[0].slice())}function xpt(t){if(!("rings"in t)||t.rings.length===0||sq(t.rings[0]))return!1;for(const e of t.rings)e.reverse();return!0}function wRt(t){return t.type!=="polygon"&&t.type!=="polyline"||Tpt(t.type==="polygon"?t.rings:t.paths,t.spatialReference),t}function Tpt(t,e){const i=us(e);if(!i)return;const n=i.valid[0],a=i.valid[1],d=a-n;for(const y of t){let b=1/0,S=-1/0;for(const C of y){const k=Ept(C[0],n,a);b=Math.min(b,k),S=Math.max(S,k),C[0]=k}const T=S-b;d-T<T&&y.forEach((C=>{C[0]<0&&(C[0]+=d)}))}}function Ept(t,e,i){const n=i-e;return t<e?i-(e-t)%n:t>i?e+(t-e)%n:t}function _Rt(t,e){if(t===e)return!0;if(t.type!==e.type)return!1;if(t.type==="point"||t.type==="mesh"||t.type==="extent")return!0;if(t.type==="multipoint")return t.points.length===e.points.length;const[i,n]=t.type==="polyline"?[t.paths,e.paths]:[t.rings,e.rings];return i.length===n.length&&i.every(((a,d)=>a.length===n[d].length))}function SRt(t){return t?t.hasZ?[t.xmax-t.xmin/2,t.ymax-t.ymin/2,t.zmax-t.zmin/2]:[t.xmax-t.xmin/2,t.ymax-t.ymin/2]:null}function Mpt(t){return t?Apt(t.rings,t.hasZ??!1):null}function Apt(t,e){if(!t?.length)return null;const i=[],n=[],a=e?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let d=0,y=t.length;d<y;d++){const b=aq(t[d],e,a);b&&n.push(b)}if(n.sort(((d,y)=>{let b=d[2]-y[2];return b===0&&e&&(b=d[4]-y[4]),b})),n.length&&(i[0]=n[0][0],i[1]=n[0][1],e&&(i[2]=n[0][3]),(i[0]<a[0]||i[0]>a[1]||i[1]<a[2]||i[1]>a[3]||e&&(i[2]<a[4]||i[2]>a[5]))&&(i.length=0)),!i.length){const d=t[0]&&t[0].length?Rpt(t[0],e):null;if(!d)return null;i[0]=d[0],i[1]=d[1],e&&d.length>2&&(i[2]=d[2])}return i}function aq(t,e,i){let n=0,a=0,d=0,y=0,b=0;const S=t.length?t[0][0]:0,T=t.length?t[0][1]:0,C=t.length&&e?t[0][2]:0;for(let D=0;D<t.length;D++){const z=t[D],G=t[(D+1)%t.length],[B,H,X]=z,et=B-S,rt=H-T,[it,ot,pt]=G,yt=it-S,ft=ot-T,vt=et*ft-yt*rt;if(y+=vt,n+=(et+yt)*vt,a+=(rt+ft)*vt,e&&z.length>2&&G.length>2){const Ct=X-C,Dt=pt-C,zt=et*Dt-yt*Ct;d+=(Ct+Dt)*zt,b+=zt}B<i[0]&&(i[0]=B),B>i[1]&&(i[1]=B),H<i[2]&&(i[2]=H),H>i[3]&&(i[3]=H),e&&(X<i[4]&&(i[4]=X),X>i[5]&&(i[5]=X))}if(y>0&&(y*=-1),b>0&&(b*=-1),!y)return null;y*=.5,b*=.5;const k=[n/(6*y)+S,a/(6*y)+T,y];return e&&(i[4]===i[5]||b===0?(k[3]=(i[4]+i[5])/2,k[4]=0):(k[3]=d/(6*b)+C,k[4]=b)),k}function xRt(t,e){let i=0,n=0,a=0;t.nextPoint();const d=t.pathSize?t.x:0,y=t.pathSize?t.y:0;for(let b=0;b<t.pathSize;b++){t.seekInPath(b);const S=[t.x,t.y];t.seekInPath((b+1)%t.pathSize);const T=[t.x,t.y],[C,k]=S,D=C-d,z=k-y,[G,B]=T,H=G-d,X=B-y,et=D*X-H*z;a+=et,i+=(D+H)*et,n+=(z+X)*et,C<e[0]&&(e[0]=C),C>e[1]&&(e[1]=C),k<e[2]&&(e[2]=k),k>e[3]&&(e[3]=k)}return a>0&&(a*=-1),a?(a*=.5,[i/(6*a)+d,n/(6*a)+y,a]):null}function Rpt(t,e){const i=e?[0,0,0]:[0,0],n=e?[0,0,0]:[0,0];let a=0,d=0,y=0,b=0;for(let S=0,T=t.length;S<T-1;S++){const C=t[S],k=t[S+1];if(C&&k){i[0]=C[0],i[1]=C[1],n[0]=k[0],n[1]=k[1],e&&C.length>2&&k.length>2&&(i[2]=C[2],n[2]=k[2]);const D=q5(i,n);if(D){a+=D;const z=nq(C,k);d+=D*z[0],y+=D*z[1],e&&z.length>2&&(b+=D*z[2])}}}return a>0?e?[d/a,y/a,b/a]:[d/a,y/a]:t.length?t[0]:null}function Cpt(t){const{hasZ:e,totalSize:i}=t;if(i===0)return null;const n=[],a=[],d=e?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(t.reset();t.nextPath();){const y=aq(bpt(t),t.hasZ,d);y&&a.push(y)}if(a.sort(((y,b)=>{let S=y[2]-b[2];return S===0&&e&&(S=y[4]-b[4]),S})),a.length&&(n[0]=a[0][0],n[1]=a[0][1],e&&(n[2]=a[0][3]),(n[0]<d[0]||n[0]>d[1]||n[1]<d[2]||n[1]>d[3]||e&&(n[2]<d[4]||n[2]>d[5]))&&(n.length=0)),!n.length){t.reset(),t.nextPath();const y=t.pathSize?Opt(t):null;if(!y)return null;n[0]=y[0],n[1]=y[1],e&&y.length>2&&(n[2]=y[2])}return n}function Opt(t){const{hasZ:e}=t,i=e?[0,0,0]:[0,0],n=e?[0,0,0]:[0,0];let a=0,d=0,y=0,b=0;if(t.nextPoint()){let S=t.x,T=t.y,C=t.z;for(;t.nextPoint();){const k=t.x,D=t.y,z=t.z;i[0]=S,i[1]=T,n[0]=k,n[1]=D,e&&(i[2]=C,n[2]=z);const G=q5(i,n);if(G){a+=G;const B=nq(i,n);d+=G*B[0],y+=G*B[1],e&&B.length>2&&(b+=G*B[2])}S=k,T=D,C=z}}return a>0?e?[d/a,y/a,b/a]:[d/a,y/a]:t.pathSize?(t.seekPathStart(),t.nextPoint(),[t.x,t.y]):null}const $pt=1e-6;function TRt(t){let e=0;for(t.reset();t.nextPath();)e+=t.getCurrentRingArea();if(e<$pt){const a=Cpt(t);return a?[a[0],a[1]]:null}const i=[0,0];if(t.reset(),!t.nextPath()||!t.nextPoint())return null;const n=[t.x,t.y];for(t.reset();t.nextPath();)kpt(i,n,t);return i[0]*=1/e,i[1]*=1/e,i[0]+=n[0],i[1]+=n[1],i}const Npt=1/3;function kpt(t,e,i){if(!t||!i||i.pathSize<3)return null;i.nextPoint();const n=i.x,a=i.y;i.nextPoint();let d,y=i.x-n,b=i.y-a,S=0,T=0;for(;i.nextPoint();)S=i.x-n,T=i.y-a,d=.5*Npt*(S*b-T*y),t[0]+=d*(y+S),t[1]+=d*(b+T),y=S,b=T;const C=i.getCurrentRingArea(),k=[n,a];return k[0]-=e[0],k[1]-=e[1],k[0]*=C,k[1]*=C,t[0]+=k[0],t[1]+=k[1],t}function ls(t=Lpt){return[t[0],t[1],t[2],t[3]]}function lq(t,e){return t!==e&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]),t}function ERt(t,e,i,n,a=ls()){return a[0]=t,a[1]=e,a[2]=i,a[3]=n,a}function MRt(t,e=ls()){return e[0]=t.xmin,e[1]=t.ymin,e[2]=t.xmax,e[3]=t.ymax,e}function Ppt(t,e,i=new Be){return i.xmin=t[0],i.ymin=t[1],i.xmax=t[2],i.ymax=t[3],i.spatialReference=e,i}function ARt(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function RRt(t,e,i){if(e!=null)if("length"in e)Wx(e)?(i[0]=Math.min(t[0],e[0]),i[1]=Math.min(t[1],e[1]),i[2]=Math.max(t[2],e[2]),i[3]=Math.max(t[3],e[3])):e.length!==2&&e.length!==3||(i[0]=Math.min(t[0],e[0]),i[1]=Math.min(t[1],e[1]),i[2]=Math.max(t[2],e[0]),i[3]=Math.max(t[3],e[1]));else switch(e.type){case"extent":i[0]=Math.min(t[0],e.xmin),i[1]=Math.min(t[1],e.ymin),i[2]=Math.max(t[2],e.xmax),i[3]=Math.max(t[3],e.ymax);break;case"point":i[0]=Math.min(t[0],e.x),i[1]=Math.min(t[1],e.y),i[2]=Math.max(t[2],e.x),i[3]=Math.max(t[3],e.y)}else lq(i,t)}function CRt(t,e,i=t){const n=e.length;let a=t[0],d=t[1],y=t[2],b=t[3];for(let S=0;S<n;S++){const T=e[S];a=Math.min(a,T[0]),d=Math.min(d,T[1]),y=Math.max(y,T[0]),b=Math.max(b,T[1])}return i[0]=a,i[1]=d,i[2]=y,i[3]=b,i}function ORt(t){for(let e=0;e<4;e++)if(!isFinite(t[e]))return!1;return!0}function GE(t){return t==null||t[0]>=t[2]?0:t[2]-t[0]}function qE(t){return t==null||t[1]>=t[3]?0:t[3]-t[1]}function $Rt(t){return GE(t)*qE(t)}function NRt(t,e=[0,0]){return e[0]=(t[0]+t[2])/2,e[1]=(t[1]+t[3])/2,e}function kRt(t){const e=GE(t),i=qE(t);return Math.sqrt(e*e+i*i)}function PRt(t,e){return Ipt(t,e.x,e.y)}function Ipt(t,e,i){return e>=t[0]&&i>=t[1]&&e<=t[2]&&i<=t[3]}function IRt(t,e){return Math.max(e[0],t[0])<=Math.min(e[2],t[2])&&Math.max(e[1],t[1])<=Math.min(e[3],t[3])}function DRt(t,e,i){return Math.max(e[0],t[0])-i<=Math.min(e[2],t[2])&&Math.max(e[1],t[1])-i<=Math.min(e[3],t[3])}function Dpt(t,e){return e[0]>=t[0]&&e[2]<=t[2]&&e[1]>=t[1]&&e[3]<=t[3]}function LRt(t,e,i,n=t){return n[0]=t[0]+e,n[1]=t[1]+i,n[2]=t[2]+e,n[3]=t[3]+i,n}function jRt(t){return t?lq(t,xk):ls(xk)}function Wx(t){return t!=null&&t.length===4}function zRt(t,e){return Wx(t)&&Wx(e)?t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]:t===e}const xk=[1/0,1/0,-1/0,-1/0],Lpt=[0,0,0,0];function uq(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function cq(t){return t.points!==void 0}function hq(t){return t.x!==void 0&&t.y!==void 0}function fq(t){return t.paths!==void 0}function dq(t){return t.rings!==void 0}function pq(t){function e(i,n){return i==null?n:n==null?i:t(i,n)}return e}const Rc=pq(Math.min),Cc=pq(Math.max);function URt(t,e){return fq(e)?Tp(t,e.paths,!1,!1):dq(e)?Tp(t,e.rings,!1,!1):cq(e)?HE(t,e.points,!1,!1,!1,!1):uq(e)?yq(t,e):(hq(e)&&(t[0]=e.x,t[1]=e.y,t[2]=e.x,t[3]=e.y),t)}function FRt(t){let e,i,n,a;for(t.reset(),e=n=1/0,i=a=-1/0;t.nextPath();){const d=jpt(t);e=Math.min(d[0],e),n=Math.min(d[1],n),i=Math.max(d[2],i),a=Math.max(d[3],a)}return ls([e,n,i,a])}function jpt(t){let e,i,n,a;for(e=n=1/0,i=a=-1/0;t.nextPoint();)e=Math.min(t.x,e),n=Math.min(t.y,n),i=Math.max(t.x,i),a=Math.max(t.y,a);return ls([e,n,i,a])}function BRt(t,e){return fq(e)?Tp(t,e.paths,!0,!1):dq(e)?Tp(t,e.rings,!0,!1):cq(e)?HE(t,e.points,!0,!1,!0,!1):uq(e)?yq(t,e,!0,!1,!0,!1):(hq(e)&&(t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.x,t[4]=e.y,t[5]=e.z),t)}function Tp(t,e,i,n){const a=i?3:2;if(!e.length||!e[0].length)return null;let d,y,b,S,[T,C]=e[0][0],[k,D]=e[0][0];for(let z=0;z<e.length;z++){const G=e[z];for(let B=0;B<G.length;B++){const H=G[B],[X,et]=H;if(T=Rc(T,X),C=Rc(C,et),k=Cc(k,X),D=Cc(D,et),i&&H.length>2){const rt=H[2];d=Rc(d,rt),y=Cc(y,rt)}if(n&&H.length>a){const rt=H[a];b=Rc(d,rt),S=Cc(y,rt)}}}return i?n?(t[0]=T,t[1]=C,t[2]=d,t[3]=b,t[4]=k,t[5]=D,t[6]=y,t[7]=S,t.length=8,t):(t[0]=T,t[1]=C,t[2]=d,t[3]=k,t[4]=D,t[5]=y,t.length=6,t):n?(t[0]=T,t[1]=C,t[2]=b,t[3]=k,t[4]=D,t[5]=S,t.length=6,t):(t[0]=T,t[1]=C,t[2]=k,t[3]=D,t.length=4,t)}function yq(t,e,i,n,a,d){const y=e.xmin,b=e.xmax,S=e.ymin,T=e.ymax;let C=e.zmin,k=e.zmax,D=e.mmin,z=e.mmax;return a?(C=C||0,k=k||0,d?(D=D||0,z=z||0,t[0]=y,t[1]=S,t[2]=C,t[3]=D,t[4]=b,t[5]=T,t[6]=k,t[7]=z,t):(t[0]=y,t[1]=S,t[2]=C,t[3]=b,t[4]=T,t[5]=k,t)):d?(D=D||0,z=z||0,t[0]=y,t[1]=S,t[2]=D,t[3]=b,t[4]=T,t[5]=z,t):(t[0]=y,t[1]=S,t[2]=b,t[3]=T,t)}function HE(t,e,i,n,a,d){const y=i?3:2,b=n&&d,S=i&&a;if(!e.length||!e[0].length)return null;let T,C,k,D,[z,G]=e[0],[B,H]=e[0];for(let X=0;X<e.length;X++){const et=e[X],[rt,it]=et;if(z=Rc(z,rt),G=Rc(G,it),B=Cc(B,rt),H=Cc(H,it),S&&et.length>2){const ot=et[2];T=Rc(T,ot),C=Cc(C,ot)}if(b&&et.length>y){const ot=et[y];k=Rc(T,ot),D=Cc(C,ot)}}return a?(T=T||0,C=C||0,d?(k=k||0,D=D||0,t[0]=z,t[1]=G,t[2]=T,t[3]=k,t[4]=B,t[5]=H,t[6]=C,t[7]=D,t):(t[0]=z,t[1]=G,t[2]=T,t[3]=B,t[4]=H,t[5]=C,t)):d?(k=k||0,D=D||0,t[0]=z,t[1]=G,t[2]=k,t[3]=B,t[4]=H,t[5]=D,t):(t[0]=z,t[1]=G,t[2]=B,t[3]=H,t)}function zpt(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function Upt(t){return t.points!==void 0}function Fpt(t){return t.x!==void 0&&t.y!==void 0}function Bpt(t){return t.paths!==void 0}function Gpt(t){return t.rings!==void 0}const VE=[];function mq(t,e,i,n){return{xmin:t,ymin:e,xmax:i,ymax:n}}function gq(t,e,i,n,a,d){return{xmin:t,ymin:e,zmin:i,xmax:n,ymax:a,zmax:d}}function vq(t,e,i,n,a,d){return{xmin:t,ymin:e,mmin:i,xmax:n,ymax:a,mmax:d}}function bq(t,e,i,n,a,d,y,b){return{xmin:t,ymin:e,zmin:i,mmin:n,xmax:a,ymax:d,zmax:y,mmax:b}}function WE(t,e=!1,i=!1){return e?i?bq(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]):gq(t[0],t[1],t[2],t[3],t[4],t[5]):i?vq(t[0],t[1],t[2],t[3],t[4],t[5]):mq(t[0],t[1],t[2],t[3])}function GRt(t){return t?zpt(t)?t:Fpt(t)?Hpt(t):Gpt(t)?wq(t):Bpt(t)?_q(t):Upt(t)?qpt(t):null:null}function qpt(t){const{hasZ:e,hasM:i,points:n}=t;return WE(HE(VE,n,e??!1,i??!1),e,i)}function Hpt(t){const{x:e,y:i,z:n,m:a}=t,d=a!=null;return n!=null?d?bq(e,i,n,a,e,i,n,a):gq(e,i,n,e,i,n):d?vq(e,i,a,e,i,a):mq(e,i,e,i)}function wq(t){const{hasZ:e,hasM:i,rings:n}=t,a=Tp(VE,n,e??!1,i??!1);return a?WE(a,e,i):null}function _q(t){const{hasZ:e,hasM:i,paths:n}=t,a=Tp(VE,n,e??!1,i??!1);return a?WE(a,e,i):null}var J3;function Tk(t){return!Array.isArray(t[0])}function Vpt(t){return typeof t[0]?.[0]=="number"}function Wpt(t){if(!t)return;let{rings:e,hasM:i,hasZ:n,spatialReference:a}=t;switch(e??=[],Vpt(e)&&(e=[e]),e[0]?.[0]?.length){case 4:n??=!0,i??=!0;break;case 3:n??=i!==!0,i??=!n;break;default:n??=!1,i??=!1}return a??=le.WGS84,{...t,hasM:i,hasZ:n,rings:e,spatialReference:a}}let rr=J3=class extends gn{static fromExtent(t){const e=t.clone().normalize(),{spatialReference:i}=t;let n=!1,a=!1;for(const y of e)y.hasZ&&(n=!0),y.hasM&&(a=!0);const d={rings:e.map((y=>{const b=[[y.xmin,y.ymin],[y.xmin,y.ymax],[y.xmax,y.ymax],[y.xmax,y.ymin],[y.xmin,y.ymin]];if(n&&y.hasZ){const S=y.zmin+.5*(y.zmax-y.zmin);for(let T=0;T<b.length;T++)b[T].push(S)}if(a&&y.hasM){const S=y.mmin+.5*(y.mmax-y.mmin);for(let T=0;T<b.length;T++)b[T].push(S)}return b})),spatialReference:i};return n&&(d.hasZ=!0),a&&(d.hasM=!0),new J3(d)}constructor(t){super(Wpt(t)),this.curveRings=void 0,this.rings=[],this.type="polygon"}get cache(){return this.commitProperty("curveRings"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("rings"),this.commitProperty("spatialReference"),{}}get centroid(){const t=Mpt(this);if(!t||isNaN(t[0])||isNaN(t[1])||this.hasZ&&isNaN(t[2]))return null;const e=new ue;return e.x=t[0],e.y=t[1],e.spatialReference=this.spatialReference,this.hasZ&&(e.z=t[2]),e}writeCurveRings(t,e){e.curveRings=Ht(t)}get extent(){const t=wq(this),{spatialReference:e}=this;return t?new Be({...t,spatialReference:e}):null}get isSelfIntersecting(){return UL(ae.getLogger(this),"isSelfIntersecting",{replacement:"Please use simplifyOperator.isSimple() instead.",version:"4.33",warnOnce:!0}),Gnt(this.rings)}writeRings(t,e){e.rings=Ht(this.rings)}addRing(t){if(!t)return;const e=this.rings,i=e.length;if(Tk(t)){const n=[];for(let a=0,d=t.length;a<d;a++)n[a]=t[a].toArray();e[i]=n}else e[i]=t.slice();return this.notifyChange("rings"),this}clone(){const t=new J3;return t.spatialReference=this.spatialReference,t.rings=Ht(this.rings),t.curveRings=Ht(this.curveRings),t.hasZ=this.hasZ,t.hasM=this.hasM,t}equals(t){if(this===t)return!0;if(t==null)return!1;const e=this.spatialReference,i=t.spatialReference;if(e!=null!=(i!=null)||e!=null&&i!=null&&!e.equals(i)||this.rings.length!==t.rings.length)return!1;const n=([a,d,y,b],[S,T,C,k])=>a===S&&d===T&&(y==null&&C==null||y===C)&&(b==null&&k==null||b===k);for(let a=0;a<this.rings.length;a++){const d=this.rings[a],y=t.rings[a];if(!e5(d,y,n))return!1}return!0}contains(t){if(!t)return!1;const e=d5(t,this.spatialReference);return XT(this,e??t)}isClockwise(t){const e=Tk(t)?t.map((i=>this.hasZ?this.hasM?[i.x,i.y,i.z,i.m]:[i.x,i.y,i.z]:[i.x,i.y])):t;return sq(e)}getPoint(t,e){if(!this._validateInputs(t,e))return null;const i=this.rings[t][e],n=this.hasZ,a=this.hasM;return n&&!a?new ue(i[0],i[1],i[2],void 0,this.spatialReference):a&&!n?new ue(i[0],i[1],void 0,i[2],this.spatialReference):n&&a?new ue(i[0],i[1],i[2],i[3],this.spatialReference):new ue(i[0],i[1],this.spatialReference)}insertPoint(t,e,i){return this._validateInputs(t,e,!0)?(xp(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[t].splice(e,0,i),this.notifyChange("rings"),this):this}removePoint(t,e){if(!this._validateInputs(t,e))return null;const i=new ue(this.rings[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("rings"),i}removeRing(t){if(!this._validateInputs(t,null))return null;const e=this.rings.splice(t,1)[0],i=this.spatialReference,n=e.map((a=>new ue(a,i)));return this.notifyChange("rings"),n}setPoint(t,e,i){return this._validateInputs(t,e)?(xp(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[t][e]=i,this.notifyChange("rings"),this):this}_validateInputs(t,e,i=!1){if(t==null||t<0||t>=this.rings.length)return!1;if(e!=null){const n=this.rings[t];if(i&&(e<0||e>n.length)||!i&&(e<0||e>=n.length))return!1}return!0}toJSON(t){return this.write({},t)}};E([N({readOnly:!0})],rr.prototype,"cache",null),E([N({readOnly:!0})],rr.prototype,"centroid",null),E([N({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],rr.prototype,"curveRings",void 0),E([Pe("curveRings")],rr.prototype,"writeCurveRings",null),E([N({readOnly:!0})],rr.prototype,"extent",null),E([N({readOnly:!0})],rr.prototype,"isSelfIntersecting",null),E([N({type:[[[Number]]],json:{write:{isRequired:!0}}})],rr.prototype,"rings",void 0),E([Pe("rings")],rr.prototype,"writeRings",null),rr=J3=E([ut("esri.geometry.Polygon")],rr),rr.prototype.toJSON.isDefaultToJSON=!0;var Jx;function Jpt(t){return!Array.isArray(t[0])}function Ypt(t){return typeof t[0]?.[0]=="number"}function Kpt(t){if(!t)return;let{paths:e,hasM:i,hasZ:n,spatialReference:a}=t;switch(e??=[],Ypt(e)&&(e=[e]),e[0]?.[0]?.length){case 4:n??=!0,i??=!0;break;case 3:n??=i!==!0,i??=!n;break;default:n??=!1,i??=!1}return a??=le.WGS84,{...t,hasM:i,hasZ:n,paths:e,spatialReference:a}}let sr=Jx=class extends gn{constructor(t){super(Kpt(t)),this.curvePaths=void 0,this.paths=[],this.type="polyline"}get cache(){return this.commitProperty("curvePaths"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("paths"),this.commitProperty("spatialReference"),{}}writeCurvePaths(t,e){e.curvePaths=Ht(t)}get extent(){const t=_q(this),{spatialReference:e}=this;return t?new Be({...t,spatialReference:e}):null}writePaths(t,e){e.paths=Ht(this.paths)}addPath(t){if(!t)return;const e=this.paths,i=e.length;if(Jpt(t)){const n=[];for(let a=0,d=t.length;a<d;a++)n[a]=t[a].toArray();e[i]=n}else e[i]=t.slice();return this.notifyChange("paths"),this}clone(){const t=new Jx;return t.spatialReference=this.spatialReference,t.paths=Ht(this.paths),t.curvePaths=Ht(this.curvePaths),t.hasZ=this.hasZ,t.hasM=this.hasM,t}getPoint(t,e){if(!this._validateInputs(t,e))return null;const i=this.paths[t][e],n=this.hasZ,a=this.hasM;return n&&!a?new ue(i[0],i[1],i[2],void 0,this.spatialReference):a&&!n?new ue(i[0],i[1],void 0,i[2],this.spatialReference):n&&a?new ue(i[0],i[1],i[2],i[3],this.spatialReference):new ue(i[0],i[1],this.spatialReference)}insertPoint(t,e,i){return this._validateInputs(t,e,!0)?(xp(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[t].splice(e,0,i),this.notifyChange("paths"),this):this}removePath(t){if(!this._validateInputs(t,null))return null;const e=this.paths.splice(t,1)[0],i=this.spatialReference,n=e.map((a=>new ue(a,i)));return this.notifyChange("paths"),n}removePoint(t,e){if(!this._validateInputs(t,e))return null;const i=new ue(this.paths[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("paths"),i}setPoint(t,e,i){return this._validateInputs(t,e)?(xp(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[t][e]=i,this.notifyChange("paths"),this):this}_validateInputs(t,e,i=!1){if(t==null||t<0||t>=this.paths.length)return!1;if(e!=null){const n=this.paths[t];if(i&&(e<0||e>n.length)||!i&&(e<0||e>=n.length))return!1}return!0}toJSON(t){return this.write({},t)}};E([N({readOnly:!0})],sr.prototype,"cache",null),E([N({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],sr.prototype,"curvePaths",void 0),E([Pe("curvePaths")],sr.prototype,"writeCurvePaths",null),E([N({readOnly:!0})],sr.prototype,"extent",null),E([N({type:[[[Number]]],json:{write:{isRequired:!0}}})],sr.prototype,"paths",void 0),E([Pe("paths")],sr.prototype,"writePaths",null),sr=Jx=E([ut("esri.geometry.Polyline")],sr),sr.prototype.toJSON.isDefaultToJSON=!0;function Sq(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function xq(t){return t.points!==void 0}function Tq(t){return t.x!==void 0&&t.y!==void 0}function Eq(t){return t.paths!==void 0||t.curvePaths!==void 0}function P0(t){return t.rings!==void 0||t.curveRings!==void 0}function Yc(t){return t==null?null:t instanceof gn?t:Tq(t)?ue.fromJSON(t):Eq(t)?sr.fromJSON(t):P0(t)?rr.fromJSON(t):xq(t)?Po.fromJSON(t):Sq(t)?Be.fromJSON(t):null}function JE(t){return t?Tq(t)?"esriGeometryPoint":Eq(t)?"esriGeometryPolyline":P0(t)?"esriGeometryPolygon":Sq(t)?"esriGeometryEnvelope":xq(t)?"esriGeometryMultipoint":null:null}const Xpt={esriGeometryPoint:ue,esriGeometryPolyline:sr,esriGeometryPolygon:rr,esriGeometryEnvelope:Be,esriGeometryMultipoint:Po,esriGeometryMultiPatch:rr};function Zpt(t){return t&&Xpt[t]||null}const Qpt=He()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),qRt=He()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"}),av={base:gn,key:"type",typeMap:{extent:Be,multipoint:Po,point:ue,polyline:sr,polygon:rr}};function HRt(t,e){switch(e.type){case"object-id":case"unique-id-simple":return t.attributes[e.fieldName];case"unique-id-composite":{const i=[];for(const n of e.fieldNames)i.push(t.attributes[n]??null);return JSON.stringify(i)}}}function t1t(t,e){if("uniqueIdFields"in e&&e.uniqueIdFields?.length){if(e.uniqueIdFields.length===1)return t.attributes?.[e.uniqueIdFields[0]];const i=e.uniqueIdFields.map((n=>t.attributes?.[n]));return JSON.stringify(i)}return"objectIdField"in e&&e.objectIdField?t.attributes?.[e.objectIdField]:null}const Ek=new wr({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let e1t=0,Gr=class extends Zt{constructor(e){super(e),this.id="sym"+e1t++,this.type=null,this.color=new ni([0,0,0,1])}readColor(e){return e?.[0]!=null?[e[0],e[1],e[2],e[3]/255]:e}async collectRequiredFields(e,i){}hash(){return JSON.stringify(this.toJSON())}clone(){}};E([N({type:Ek.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:Ek.write,isRequired:!0}}})],Gr.prototype,"type",void 0),E([N({type:ni,json:{write:{allowNull:!0}}})],Gr.prototype,"color",void 0),E([Ne("color")],Gr.prototype,"readColor",null),Gr=E([ut("esri.symbols.Symbol")],Gr);var Yx;let $s=Yx=class extends Gr{constructor(t){super(t),this.data=null,this.type="cim"}readData(t,e){return e}writeData(t,e){Object.assign(e,t)}async collectRequiredFields(t,e){if(this.data?.type==="CIMSymbolReference"){const i=this.data.primitiveOverrides;if(i){const n=i.map((a=>{const d=a.valueExpressionInfo;return d?Jc(t,e,d.expression):null}));await Promise.all(n)}}}clone(){return new Yx({data:Ht(this.data)})}hash(){return ij(JSON.stringify(this.data)).toString()}};E([N({json:{write:!1}})],$s.prototype,"color",void 0),E([N({json:{write:!0}})],$s.prototype,"data",void 0),E([Ne("data",["symbol"])],$s.prototype,"readData",null),E([Pe("data",{})],$s.prototype,"writeData",null),E([se({CIMSymbolReference:"cim"},{readOnly:!0})],$s.prototype,"type",void 0),$s=Yx=E([ut("esri.symbols.CIMSymbol")],$s);function mu(t,e,i=me){return e||(e=new i),e===t||(e.removeAll(),i1t(t)?e.addMany(t):t&&e.add(t)),e}function Mq(t){return t}function i1t(t){return t&&(Array.isArray(t)||"items"in t&&Array.isArray(t.items))}var vc;(function(t){t[t.PENDING=0]="PENDING",t[t.RESOLVED=1]="RESOLVED",t[t.REJECTED=2]="REJECTED"})(vc||(vc={}));let r1t=class{constructor(){this._resolver=qo(),this._status=vc.PENDING,this._resolvingPromises=[],this._resolver.promise.then((()=>{this._status=vc.RESOLVED,this._cleanUp()}),(()=>{this._status=vc.REJECTED,this._cleanUp()})),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(e){this._resolvingPromises.push(e),this._tryResolve()}isResolved(){return this._status===vc.RESOLVED}isRejected(){return this._status===vc.REJECTED}isFulfilled(){return this._status!==vc.PENDING}abort(){this._resolver.reject(Zi())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const e=qo(),i=[...this._resolvingPromises,e.promise],n=this._allPromise=Promise.all(i);n.then((()=>{this.isFulfilled()||this._allPromise!==n||this._resolver.resolve()}),(a=>{this.isFulfilled()||this._allPromise!==n||cs(a)||this._resolver.reject(a)})),e.resolve()}};const Aq=t=>{let e=class extends t{constructor(...i){super(...i),this._promiseProps=new r1t,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(i,n){return this._promiseProps.promise.then((()=>this)).then(i,n)}catch(i){return this.when(null,i)}addResolvingPromise(i){i&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in i?i.when():i)}};return e=E([ut("esri.core.Promise")],e),e};let Oc=class extends Aq(ve){};Oc=E([ut("esri.core.Promise")],Oc),(function(t){t.EsriPromiseMixin=Aq})(Oc||(Oc={}));const n1t="not-loaded",s1t="loading",o1t="failed",Mk="loaded",Rq=t=>{let e=class extends t{constructor(...i){super(...i),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise((n=>{const a=this.load.bind(this);this.load=d=>{const y=new Promise(((b,S)=>{const T=mT(d,S);this.destroyed&&S(new Lt("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(b,S).finally((()=>{T&&T.remove()}))}));if(this.loadStatus===n1t){this._set("loadStatus",s1t);const b=this._loadController=new AbortController;a({signal:b.signal})}return n(),y}}))),this.when((()=>{this._set("loadStatus",Mk),this._loadController=null}),(n=>{this._set("loadStatus",o1t),this._set("loadError",n),this._loadController=null}))}destroy(){this._loadController&&(this._loadController=fp(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===Mk}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){return this.isFulfilled()||(this._set("loadError",new Lt("load:cancelled","Cancelled")),this._loadController?.abort(),this._promiseProps.abort()),this}};return E([N({readOnly:!0})],e.prototype,"loaded",null),E([N({readOnly:!0})],e.prototype,"loadError",void 0),E([N({clonable:!1})],e.prototype,"loadStatus",void 0),E([N({type:[sl],readOnly:!0})],e.prototype,"loadWarnings",null),e=E([ut("esri.core.Loadable")],e),e};let Uo=class extends Rq(Oc){};Uo=E([ut("esri.core.Loadable")],Uo),(function(t){function e(i){return!(!i||!i.load)}t.LoadableMixin=Rq,t.isLoadable=e})(Uo||(Uo={}));let Y2;function a1t(t){return Y2&&!Y2.destroyed||(Y2=t()),Y2}var Kx;const l1t=new wr({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let Fr=Kx=class extends ve{constructor(t){super(t),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(t){t!=="asc"&&t!=="desc"||this._set("sortOrder",t)}clone(){return new Kx({categories:this.categories?Ht(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(t,e){let i=[];this.categories&&(i=this.categories.map((y=>Array.isArray(y)?JSON.stringify(y):y)));let n="";if(this.extent){const y=d5(this.extent,le.WGS84);y!=null&&(n=`${y.xmin},${y.ymin},${y.xmax},${y.ymax}`)}let a=this.query;!this.disableExtraQuery&&t.extraQuery&&(a="("+a+")"+t.extraQuery);const d={categories:i,bbox:n,q:a,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(d.sortField=this.sortField.split(",").map((y=>l1t.toJSON(y.trim()))).join(","),d.sortOrder=this.sortOrder),{query:{...e,...d}}}};E([N()],Fr.prototype,"categories",void 0),E([N()],Fr.prototype,"disableExtraQuery",void 0),E([N({type:Be})],Fr.prototype,"extent",void 0),E([N()],Fr.prototype,"filter",void 0),E([N()],Fr.prototype,"num",void 0),E([N()],Fr.prototype,"query",void 0),E([N()],Fr.prototype,"sortField",void 0),E([N()],Fr.prototype,"sortOrder",null),E([N()],Fr.prototype,"start",void 0),Fr=Kx=E([ut("esri.portal.PortalQueryParams")],Fr);var Xx;let Rr=Xx=class extends Zt{constructor(t){super(t),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){const t=this.url,e=this.thumbnail;return t&&e&&this.portal?this.portal?.normalizeUrl(`${t}/info/${e}?f=json`):null}get url(){const t=this.portal?.restUrl;return t?t+"/community/groups/"+this.id:null}fetchCategorySchema(t){return this.portal.request(this.url+"/categorySchema",t).then((e=>{const i=e.categorySchema||[];return i.some((n=>n.source==="contentCategorySetsGroupQuery.LivingAtlas"))?this._fetchCategorySchemaSet("LivingAtlas",t):i}))}fetchMembers(t){return this.portal.request(this.url+"/users",t)}getThumbnailUrl(t){let e=this.thumbnailUrl;return e&&t&&(e+=`&w=${t}`),e}toJSON(){throw new Lt("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const e=new Xx({sourceJSON:t});return e.read(t),e}queryItems(t,e){let i=an(Fr,t);const n=this.portal;return parseFloat(n.currentVersion)>5?(i=i||new Fr,n.queryPortal(`/content/groups/${this.id}/search`,i,"PortalItem",e)):(i=i?i.clone():new Fr,i.query="group:"+this.id+(i.query?" "+i.query:""),n.queryItems(i,e))}_fetchCategorySchemaSet(t,e){const i=this.portal;return i.fetchSelf(i.authMode,!0,e).then((n=>{const a=n.contentCategorySetsGroupQuery;if(a){const d=new Fr({disableExtraQuery:!0,num:1,query:a});return i.queryGroups(d,e)}throw new Lt("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")})).then((n=>{if(n.total){const a=n.results[0],d=new Fr({num:1,query:`typekeywords:"${t}"`});return a.queryItems(d,e)}throw new Lt("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")})).then((n=>n.total?n.results[0].fetchData("json",e).then((a=>{const d=a?.categorySchema;return d?.length?d:[]})):[]))}};E([N()],Rr.prototype,"access",void 0),E([N({type:Date})],Rr.prototype,"created",void 0),E([N()],Rr.prototype,"description",void 0),E([N()],Rr.prototype,"id",void 0),E([N()],Rr.prototype,"isInvitationOnly",void 0),E([N({type:Date})],Rr.prototype,"modified",void 0),E([N()],Rr.prototype,"owner",void 0),E([N()],Rr.prototype,"portal",void 0),E([N()],Rr.prototype,"snippet",void 0),E([N()],Rr.prototype,"sortField",void 0),E([N()],Rr.prototype,"sortOrder",void 0),E([N()],Rr.prototype,"sourceJSON",void 0),E([N()],Rr.prototype,"tags",void 0),E([N()],Rr.prototype,"thumbnail",void 0),E([N({readOnly:!0})],Rr.prototype,"thumbnailUrl",null),E([N()],Rr.prototype,"title",void 0),E([N({readOnly:!0})],Rr.prototype,"url",null),Rr=Xx=E([ut("esri.portal.PortalGroup")],Rr);let Lh=class extends ve{constructor(e){super(e),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};E([N()],Lh.prototype,"nextQueryParams",void 0),E([N()],Lh.prototype,"queryParams",void 0),E([N()],Lh.prototype,"results",void 0),E([N()],Lh.prototype,"total",void 0),Lh=E([ut("esri.portal.PortalQueryResult")],Lh);let Gl=class extends Zt{constructor(e){super(e),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const e=this.portal?.restUrl;return e?`${e}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new Lt("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};E([N({type:Date})],Gl.prototype,"created",void 0),E([N()],Gl.prototype,"id",void 0),E([N()],Gl.prototype,"portal",void 0),E([N()],Gl.prototype,"title",void 0),E([N({readOnly:!0})],Gl.prototype,"url",null),E([N()],Gl.prototype,"username",void 0),Gl=E([ut("esri.portal.PortalFolder")],Gl);var Zx;let Pi=Zx=class extends Zt{constructor(t){super(t),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.id=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userLicenseTypeId=null,this.userType=null}get thumbnailUrl(){const t=this.url,e=this.thumbnail;return t&&e?this.portal.normalizeUrl(`${t}/info/${e}?f=json`):null}get userContentUrl(){const t=this.portal?.restUrl;return t?`${t}/content/users/${this.id}`:null}get url(){const t=this.portal?.restUrl;return t?`${t}/community/users/${this.id}`:null}addItem(t){const e=t&&t.item,i=t?.data,n=t?.folder,a={method:"post"};e&&(a.query=e.createPostQuery(),i!=null&&(typeof i=="string"?a.query.text=i:typeof i=="object"&&(a.query.text=JSON.stringify(i))));let d=this.userContentUrl;return n&&(d+="/"+(typeof n=="string"?n:n.id)),this.portal.request(d+"/addItem",a).then((y=>(e.id=y.id,e.portal=this.portal,e.loaded?e.reload():e.load())))}async deleteItem(t,e=!1){let i=this.userContentUrl;t.ownerFolder&&(i+="/"+t.ownerFolder);const n=e?{permanentDelete:!0}:{};await this.portal.request(i+`/items/${t.id}/delete`,{method:"post",query:n}),t.id=null,t.portal=null}async deleteItems(t,e=!1){t=t.slice();const i=this.userContentUrl+"/deleteItems",n=[],a=t.map((d=>d.id));if(a.length){const d={method:"post",query:{items:a.join(","),permanentDelete:e}},y=await this.portal.request(i,d);for(const b of y.results){const S=t.find((k=>b.itemId===k.id)),T=b.success;let C=null;T?(S.id=null,S.portal=null):b.error&&(C=new Lt("portal:delete-item-failed",b.error.message,b.error)),n.push({item:S,success:T,error:C})}}return n}fetchFolders(){const t={query:{num:1}};return this.portal.request(this.userContentUrl??"",t).then((e=>{let i;return i=e&&e.folders?e.folders.map((n=>{const a=Gl.fromJSON(n);return a.portal=this.portal,a})):[],i}))}fetchGroups(){return this.portal.request(this.url??"").then((t=>{let e;return e=t&&t.groups?t.groups.map((i=>{const n=Rr.fromJSON(i);return n.portal=this.portal,n})):[],e}))}async fetchItems(t){t??={};let e=this.userContentUrl??"";t.folder&&(e+="/"+t.folder.id);const{default:i}=await te(()=>Promise.resolve().then(()=>EH),void 0),n={folders:!1,inRecycleBin:!!t.inRecycleBin||null,foldersContent:!(t.folder||!t.includeSubfolderItems)||null,num:t.num||10,start:t.start||1,sortField:t.sortField||"created",sortOrder:t.sortOrder||"asc"},a=await this.portal.request(e,{query:n});let d;return a?.items?(d=a.items.map((y=>{const b=i.fromJSON(y);return b.portal=this.portal,b})),await Promise.all(d.map((y=>y.load()))),{items:d,nextStart:a.nextStart,total:a.total}):{items:[],nextStart:-1,total:0}}fetchTags(){return this.portal.request(this.url+"/tags").then((t=>t.tags))}getThumbnailUrl(t){let e=this.thumbnailUrl;return e&&t&&(e+=`&w=${t}`),e}queryFavorites(t){return this.favGroupId?(this._favGroup||(this._favGroup=new Rr({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(t)):Promise.reject(new Lt("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}async restoreItem(t,e){const i=this.userContentUrl,n=e?{folderID:typeof e=="string"?e:e.id}:null;await this.portal.request(i+`/items/${t.id}/restore`,{method:"post",query:n})}toJSON(){throw new Lt("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const e=new Zx({sourceJSON:t});return e.read(t),e}};E([N()],Pi.prototype,"access",void 0),E([N({type:Date})],Pi.prototype,"created",void 0),E([N()],Pi.prototype,"culture",void 0),E([N()],Pi.prototype,"description",void 0),E([N()],Pi.prototype,"email",void 0),E([N()],Pi.prototype,"favGroupId",void 0),E([N()],Pi.prototype,"fullName",void 0),E([N()],Pi.prototype,"id",void 0),E([N({type:Date})],Pi.prototype,"modified",void 0),E([N()],Pi.prototype,"orgId",void 0),E([N()],Pi.prototype,"portal",void 0),E([N()],Pi.prototype,"preferredView",void 0),E([N()],Pi.prototype,"privileges",void 0),E([N()],Pi.prototype,"region",void 0),E([N()],Pi.prototype,"role",void 0),E([N()],Pi.prototype,"roleId",void 0),E([N()],Pi.prototype,"sourceJSON",void 0),E([N()],Pi.prototype,"thumbnail",void 0),E([N({readOnly:!0})],Pi.prototype,"thumbnailUrl",null),E([N()],Pi.prototype,"units",void 0),E([N({readOnly:!0})],Pi.prototype,"userContentUrl",null),E([N({readOnly:!0})],Pi.prototype,"url",null),E([N()],Pi.prototype,"username",void 0),E([N()],Pi.prototype,"userLicenseTypeId",void 0),E([N()],Pi.prototype,"userType",void 0),Pi=Zx=E([ut("esri.portal.PortalUser")],Pi);var Js;let my;const Ak={PortalGroup:()=>Promise.resolve({default:Rr}),PortalItem:()=>te(()=>Promise.resolve().then(()=>EH),void 0),PortalUser:()=>Promise.resolve({default:Pi})};var el;let Jt=(el=class extends Zt.JSONSupportMixin(Uo){constructor(e){super(e),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.default3DBasemapQuery=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.layoutGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.hasClassificationSchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.recycleBinEnabled=!1,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=ci.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useDefault3dBasemap=!1,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return typeof e=="string"?{url:e}:e}destroy(){Rk.unregister(this),this.defaultBasemap=vr(this.defaultBasemap),this.defaultDevBasemap=vr(this.defaultDevBasemap),this.defaultVectorBasemap=vr(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=or(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(e){if(e)for(const i of e)ci.request.trustedServers.includes(i)||ci.request.trustedServers.push(i);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){const e=this.user?.orgId,i=!e||this.canSearchPublic;return this.id&&!i?` AND orgid:${this.id}`:null}get hasAPIKey(){return xrt(this.restUrl)}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let e=this.url;if(e){const i=e.indexOf("/sharing");e=i>0?e.slice(0,i):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get thumbnailUrl(){const e=this.restUrl,i=this.thumbnail;return e&&i?this._normalizeSSL(e+"/portals/self/resources/"+i):null}readUrlKey(e){return e&&e.toLowerCase()}readUser(e){let i=null;return e&&(i=Pi.fromJSON(e),i.portal=this),i}load(e){const i=te(()=>Promise.resolve().then(()=>Nvt),void 0).then((({default:n})=>{dr(e),my=n})).then((()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,e))).then((n=>{if(!this.hasAPIKey&&qi){const a=qi;this.credential=a.findCredential(this.restUrl),this.credential||this.authMode!==Js.AUTH_MODE_AUTO&&this.authMode!==Js.AUTH_MODE_NO_PROMPT||(this._esriIdCredentialCreateHandle?.remove(),this._esriIdCredentialCreateHandle=a.on("credential-create",u1t(new WeakRef(this))),Rk.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=n,this.read(n)}));return this.addResolvingPromise(i),Promise.resolve(this)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),i=(await te(async()=>{const{default:n}=await import("./ElevationLayer-B-BM9Hvt.js");return{default:n}},__vite__mapDeps([23,24,25,26,27,28,3,4,17,29,30,31,32,33]))).default;return e?e.map((n=>new i({id:n.id,url:n.url}))):[]}async fetchBasemaps(e,i){const n=await this._fetchBasemaps(e,i);if(i?.include3d===!0&&this.use3dBasemaps!==!1){const a=await this._fetchBasemaps3D(e,i);n.unshift(...a)}return n}async fetchDefault3DBasemap(e){if(!this.useDefault3dBasemap||!this.default3DBasemapQuery||this.default3DBasemapQuery==="none")return null;const i=new Fr;i.query=this.default3DBasemapQuery,i.disableExtraQuery=!0;const n=(await this.queryItems(i,e)).results.find((a=>a.type==="Web Scene"));return n?new my({portalItem:n}):null}fetchCategorySchema(e){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",e).then((i=>i.categorySchema)):Go(e)?Promise.reject(Zi()):Promise.resolve([])}async fetchClassificationSchema(e){return this.hasClassificationSchema?this.request(this.restUrl+"/portals/self/classification/classificationSchema",e).then((i=>i.classificationSchema)):null}fetchFeaturedGroups(e){const i=this.featuredGroups,n=new Fr({num:100,sortField:"title"});if(i?.length){const a=[];for(const d of i)a.push(`(title:"${d.title}" AND owner:${d.owner})`);return n.query=a.join(" OR "),this.queryGroups(n,e).then((d=>d.results))}return Go(e)?Promise.reject(Zi()):Promise.resolve([])}fetchRegions(e){const i=this.user?.culture||this.culture||Fo();return this.request(this.restUrl+"/portals/regions",{...e,query:{culture:i}})}fetchSettings(e){const i=this.user?.culture||this.culture||Fo();return this.request(this.restUrl+"/portals/self/settings",{...e,query:{culture:i}})}static getDefault(){return a1t((()=>new Js))}queryGroups(e,i){return this.queryPortal("/community/groups",e,"PortalGroup",i)}queryItems(e,i){return this.queryPortal("/search",e,"PortalItem",i)}queryUsers(e,i){return e.sortField||(e.sortField="username"),this.queryPortal("/community/users",e,"PortalUser",i)}fetchSelf(e=this.authMode,i=!1,n){const a=this.restUrl+"/portals/self",d={authMode:e,query:{culture:Fo().toLowerCase()},withCredentials:!0,...n};return d.authMode==="auto"&&(d.authMode="no-prompt"),i&&(d.query.default=!0),this.request(a,d)}queryPortal(e,i,n,a){const d=an(Fr,i),y=b=>this.request(this.restUrl+e,{...d.toRequestOptions(this),...a}).then((S=>{const T=d.clone();return T.start=S.nextStart,new Lh({nextQueryParams:T,queryParams:d,total:S.total,results:Js._resultsToTypedArray(b,{portal:this},S,a)})})).then((S=>Promise.all(S.results.map((T=>typeof T.when=="function"?T.when():S))).then((()=>S),(T=>(_j(T),S)))));return n&&Ak[n]?Ak[n]().then((({default:b})=>(dr(a),y(b)))):y()}signIn(){if(this.hasAPIKey)return this.load().then((()=>{if(!this.user)throw new Lt("portal:not-authenticated","Unable to authenticate user. Portal.user is missing")}));if(this.authMode===Js.AUTH_MODE_ANONYMOUS||this.authMode===Js.AUTH_MODE_NO_PROMPT&&!qi)return Promise.reject(new Lt("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const e=i=>Promise.resolve().then((()=>this.loadStatus==="not-loaded"?(i||(this.authMode="immediate"),this.load().then((()=>null))):this.loadStatus==="loading"?this.load().then((()=>this.credential?null:(this.credential=i,this.fetchSelf("immediate")))):this.user&&this.credential===i?null:(this.credential=i,this.fetchSelf("immediate")))).then((n=>{n&&(this.sourceJSON=n,this.read(n))}));return qi?qi.getCredential(this.restUrl,{prompt:this.authMode!==Js.AUTH_MODE_NO_PROMPT}).then((i=>e(i))):e(this.credential)}normalizeUrl(e){const i=this.credential?.token;return this._normalizeSSL(i?e+(e.includes("?")?"&":"?")+"token="+i:e)}requestToTypedArray(e,i,n){return this.request(e,i).then((a=>{const d=Js._resultsToTypedArray(n,{portal:this},a);return Promise.all(d.map((y=>typeof y.when=="function"?y.when():a))).then((()=>d),(()=>d))}))}request(e,i={}){const n={f:"json",...i.query},{authMode:a=this.authMode===Js.AUTH_MODE_ANONYMOUS||this.authMode===Js.AUTH_MODE_NO_PROMPT?this.authMode:"auto",body:d=null,cacheBust:y=!1,method:b="auto",responseType:S="json",signal:T}=i,C={authMode:a,body:d,cacheBust:y,method:b,query:n,responseType:S,timeout:0,signal:T};return i.withCredentials&&(C.withCredentials=!0),Di(this._normalizeSSL(e),C).then((k=>k.data))}toJSON(){throw new Lt("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new Js({sourceJSON:e})}_getHelperService(e){const i=this.helperServices&&this.helperServices[e];if(!i)throw new Lt("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return i}async _fetchBasemaps(e,i){const n=new Fr;n.query=e||(OS()?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),n.disableExtraQuery=!0;const a=await this.queryGroups(n,i);if(!a.total)return[];const d=a.results[0];n.num=100,n.query='type:"Web Map" -type:"Web Application"',n.sortField=d.sortField||"name",n.sortOrder=d.sortOrder||"desc";const y=await d.queryItems(n,i);return y.total?y.results.filter((b=>b.type==="Web Map")).map((b=>new my({portalItem:b}))):[]}async _fetchBasemaps3D(e,i){const n=e||this.basemapGalleryGroupQuery3D;if(!n)return[];if(OS())return[];const a=new Fr({query:n,disableExtraQuery:!0}),d=await this.queryGroups(a,i);if(!d.total)return[];const y=d.results[0];a.num=100,a.query='type:"Web Scene"',a.sortField=y.sortField||"name",a.sortOrder=y.sortOrder||"desc";const b=await y.queryItems(a,i);return b.total?b.results.filter((S=>S.type==="Web Scene")).map((S=>new my({portalItem:S}))):[]}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(e){if(e){const i=my.fromJSON(e);return i.portalItem={portal:this},i}return null}static _resultsToTypedArray(e,i,n,a){let d;if(n){const y=a!=null?a.signal:null;d=n.listings||n.notifications||n.userInvitations||n.tags||n.items||n.groups||n.comments||n.provisions||n.results||n.relatedItems||n,(e||i)&&(d=d.map((b=>{const S=Object.assign(e?e.fromJSON(b):b,i);return typeof S.load=="function"&&S.load(y),S})))}else d=[];return d}},Js=el,el.AUTH_MODE_ANONYMOUS="anonymous",el.AUTH_MODE_AUTO="auto",el.AUTH_MODE_IMMEDIATE="immediate",el.AUTH_MODE_NO_PROMPT="no-prompt",el);E([N()],Jt.prototype,"access",void 0),E([N()],Jt.prototype,"allSSL",void 0),E([N()],Jt.prototype,"authMode",void 0),E([N()],Jt.prototype,"authorizedCrossOriginDomains",void 0),E([Ne("authorizedCrossOriginDomains")],Jt.prototype,"readAuthorizedCrossOriginDomains",null),E([N()],Jt.prototype,"basemapGalleryGroupQuery",void 0),E([N({json:{name:"3DBasemapGalleryGroupQuery"}})],Jt.prototype,"basemapGalleryGroupQuery3D",void 0),E([N()],Jt.prototype,"bingKey",void 0),E([N()],Jt.prototype,"canListApps",void 0),E([N()],Jt.prototype,"canListData",void 0),E([N()],Jt.prototype,"canListPreProvisionedItems",void 0),E([N()],Jt.prototype,"canProvisionDirectPurchase",void 0),E([N()],Jt.prototype,"canSearchPublic",void 0),E([N()],Jt.prototype,"canShareBingPublic",void 0),E([N()],Jt.prototype,"canSharePublic",void 0),E([N()],Jt.prototype,"canSignInArcGIS",void 0),E([N()],Jt.prototype,"canSignInIDP",void 0),E([N()],Jt.prototype,"colorSetsGroupQuery",void 0),E([N()],Jt.prototype,"commentsEnabled",void 0),E([N({type:Date})],Jt.prototype,"created",void 0),E([N()],Jt.prototype,"credential",void 0),E([N()],Jt.prototype,"culture",void 0),E([N()],Jt.prototype,"currentVersion",void 0),E([N()],Jt.prototype,"customBaseUrl",void 0),E([N()],Jt.prototype,"default3DBasemapQuery",void 0),E([N()],Jt.prototype,"defaultBasemap",void 0),E([Ne("defaultBasemap")],Jt.prototype,"readDefaultBasemap",null),E([N()],Jt.prototype,"defaultDevBasemap",void 0),E([Ne("defaultDevBasemap")],Jt.prototype,"readDefaultDevBasemap",null),E([N({type:Be})],Jt.prototype,"defaultExtent",void 0),E([N()],Jt.prototype,"defaultVectorBasemap",void 0),E([Ne("defaultVectorBasemap")],Jt.prototype,"readDefaultVectorBasemap",null),E([N()],Jt.prototype,"description",void 0),E([N()],Jt.prototype,"devBasemapGalleryGroupQuery",void 0),E([N()],Jt.prototype,"eueiEnabled",void 0),E([N({readOnly:!0})],Jt.prototype,"extraQuery",null),E([N()],Jt.prototype,"featuredGroups",void 0),E([N()],Jt.prototype,"featuredItemsGroupQuery",void 0),E([N()],Jt.prototype,"galleryTemplatesGroupQuery",void 0),E([N()],Jt.prototype,"layoutGroupQuery",void 0),E([N()],Jt.prototype,"livingAtlasGroupQuery",void 0),E([N({readOnly:!0})],Jt.prototype,"hasAPIKey",null),E([N()],Jt.prototype,"hasCategorySchema",void 0),E([N()],Jt.prototype,"hasClassificationSchema",void 0),E([N()],Jt.prototype,"helpBase",void 0),E([N()],Jt.prototype,"helperServices",void 0),E([N()],Jt.prototype,"helpMap",void 0),E([N()],Jt.prototype,"homePageFeaturedContent",void 0),E([N()],Jt.prototype,"homePageFeaturedContentCount",void 0),E([N()],Jt.prototype,"httpPort",void 0),E([N()],Jt.prototype,"httpsPort",void 0),E([N()],Jt.prototype,"id",void 0),E([N()],Jt.prototype,"ipCntryCode",void 0),E([N({readOnly:!0})],Jt.prototype,"isOrganization",null),E([N()],Jt.prototype,"isPortal",void 0),E([N()],Jt.prototype,"isReadOnly",void 0),E([N({readOnly:!0})],Jt.prototype,"itemPageUrl",null),E([N()],Jt.prototype,"layerTemplatesGroupQuery",void 0),E([N()],Jt.prototype,"maxTokenExpirationMinutes",void 0),E([N({type:Date})],Jt.prototype,"modified",void 0),E([N()],Jt.prototype,"name",void 0),E([N()],Jt.prototype,"portalHostname",void 0),E([N()],Jt.prototype,"portalMode",void 0),E([N()],Jt.prototype,"portalProperties",void 0),E([N()],Jt.prototype,"region",void 0),E([N()],Jt.prototype,"recycleBinEnabled",void 0),E([N({readOnly:!0})],Jt.prototype,"restUrl",null),E([N()],Jt.prototype,"rotatorPanels",void 0),E([N()],Jt.prototype,"showHomePageDescription",void 0),E([N()],Jt.prototype,"sourceJSON",void 0),E([N()],Jt.prototype,"staticImagesUrl",void 0),E([N({json:{name:"2DStylesGroupQuery"}})],Jt.prototype,"stylesGroupQuery2d",void 0),E([N({json:{name:"stylesGroupQuery"}})],Jt.prototype,"stylesGroupQuery3d",void 0),E([N()],Jt.prototype,"supportsHostedServices",void 0),E([N()],Jt.prototype,"symbolSetsGroupQuery",void 0),E([N()],Jt.prototype,"templatesGroupQuery",void 0),E([N()],Jt.prototype,"thumbnail",void 0),E([N({readOnly:!0})],Jt.prototype,"thumbnailUrl",null),E([N()],Jt.prototype,"units",void 0),E([N()],Jt.prototype,"url",void 0),E([N()],Jt.prototype,"urlKey",void 0),E([Ne("urlKey")],Jt.prototype,"readUrlKey",null),E([N()],Jt.prototype,"user",void 0),E([Ne("user")],Jt.prototype,"readUser",null),E([N()],Jt.prototype,"use3dBasemaps",void 0),E([N()],Jt.prototype,"useDefault3dBasemap",void 0),E([N()],Jt.prototype,"useStandardizedQuery",void 0),E([N()],Jt.prototype,"useVectorBasemaps",void 0),E([N()],Jt.prototype,"vectorBasemapGalleryGroupQuery",void 0),Jt=Js=E([ut("esri.portal.Portal")],Jt);const Rk=new FinalizationRegistry((t=>{t.remove()}));function u1t(t){const e=qi;return()=>{const i=t.deref();i&&e.findCredential(i.restUrl)&&i.signIn().catch((()=>{}))}}let as=class extends Zt{constructor(e){super(e),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(e,i,n){e||(i[n]=e)}};E([N({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],as.prototype,"enabled",void 0),E([Pe("enabled")],as.prototype,"writeEnabled",null),E([N({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0,json:{write:{isRequired:!0}}})],as.prototype,"type",void 0),as=E([ut("esri.symbols.Symbol3DLayer")],as);const c1t=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,h1t="screenUtils.toPt: input not recognized!",Cq=96;function QRt(t){return t?t/72*Cq:0}function Kc(t){return t?72*t/Cq:0}function fr(t){if(typeof t=="string"){const e=t.match(c1t);if(e){const i=Number(e[1]),n=e[3]&&e[3].toLowerCase(),a=t.charAt(0)==="-",d=n==="px"?Kc(i):i;return a?-d:d}return console.warn(h1t),null}return t}function _n(t=0,e=0){return{x:t,y:e}}function tCt(t){return t?_n(t.x,t.y):null}function eCt(t=0,e=0){return[t,e]}function iCt(t=0,e=0,i=0){return[t,e,i]}function rCt(t){return t}function nCt(t){return t}function sCt(t){return t}function oCt(t,e){return e?(e[0]=t.x,e[1]=t.y,e.length>2&&(e[2]=0),e):[t.x,t.y]}function Oq(t){const e=_T(100*(1-t));return Math.max(0,Math.min(e,100))}function $q(t){const e=1-t/100;return Math.max(0,Math.min(e,1))}function f1t(t,e){const i=e.transparency!=null?$q(e.transparency):1,n=e.color;return n&&Array.isArray(n)?new ni([n[0]||0,n[1]||0,n[2]||0,i]):null}function d1t(t,e){e.color=t.toJSON().slice(0,3);const i=Oq(t.a);i!==0&&(e.transparency=i)}function th(t){return{type:ni,nonNullable:t?.nonNullable,json:{type:[Hi],default:null,read:{source:["color","transparency"],reader:f1t},write:{target:{color:{type:[Hi],isRequired:t?.colorRequiredOnWrite},transparency:{type:Hi}},writer:d1t}}}}const cl={type:Number,cast:fr,json:{write:!0}};var ww;function aCt(t){return t==="emissive"?ww.Emissive:ww.Color}(function(t){t[t.Emissive=0]="Emissive",t[t.Color=1]="Color"})(ww||(ww={}));let jh=class extends Zt{constructor(e){super(e),this.color=new ni([0,0,0,1]),this.extensionLength=0,this.size=Kc(1)}clone(){}cloneProperties(){return{color:Ht(this.color),size:this.size,extensionLength:this.extensionLength}}};E([N({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],jh.prototype,"type",void 0),E([N(th({colorRequiredOnWrite:!0}))],jh.prototype,"color",void 0),E([N({...cl,json:{write:{overridePolicy:t=>({enabled:!!t})}}})],jh.prototype,"extensionLength",void 0),E([N(cl)],jh.prototype,"size",void 0),jh=E([ut("esri.symbols.edges.Edges3D")],jh);const YE=jh;var Qx;let Y3=Qx=class extends YE{constructor(t){super(t),this.type="sketch"}clone(){return new Qx(this.cloneProperties())}};E([se({sketch:"sketch"},{readOnly:!0})],Y3.prototype,"type",void 0),Y3=Qx=E([ut("esri.symbols.edges.SketchEdges3D")],Y3);const p1t=Y3;var t7;let K3=t7=class extends YE{constructor(t){super(t),this.type="solid"}clone(){return new t7(this.cloneProperties())}};E([se({solid:"solid"},{readOnly:!0})],K3.prototype,"type",void 0),K3=t7=E([ut("esri.symbols.edges.SolidEdges3D")],K3);const y1t=K3,Nq={types:{key:"type",base:YE,typeMap:{solid:y1t,sketch:p1t}},json:{write:!0}};var e7;let y0=e7=class extends Zt{constructor(){super(...arguments),this.strength=null,this.source="emissive"}clone(){const t={strength:this.strength,source:this.source};return new e7(t)}};E([N({json:{write:!1}})],y0.prototype,"strength",void 0),E([N({json:{write:!1}})],y0.prototype,"source",void 0),y0=e7=E([ut("esri.symbols.support.Symbol3DEmissive")],y0);var i7;let ao=i7=class extends Zt{constructor(t){super(t),this.color=null,this.emissive=new y0({source:"emissive"})}clone(){const t={color:this.color?.clone()??null,emissive:this.emissive?.clone()??null};return new i7(t)}};E([N(th())],ao.prototype,"color",void 0),E([N({type:y0,json:{write:!1}})],ao.prototype,"emissive",void 0),ao=i7=E([ut("esri.symbols.support.Symbol3DMaterial")],ao);var r7,q0;let iu=(q0=class extends as{constructor(e){super(e),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new r7({edges:this.edges?.clone(),enabled:this.enabled,material:this.material?.clone(),castShadows:this.castShadows,size:this.size})}},r7=q0,q0);E([se({Extrude:"extrude"},{readOnly:!0})],iu.prototype,"type",void 0),E([N({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],iu.prototype,"size",void 0),E([N({type:ao,json:{write:!0}})],iu.prototype,"material",void 0),E([N({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],iu.prototype,"castShadows",void 0),E([N(Nq)],iu.prototype,"edges",void 0),iu=r7=E([ut("esri.symbols.ExtrudeSymbol3DLayer")],iu);let Nm=class extends Zt{constructor(e){super(e)}clone(){throw new Error("Subclasses of LinePattern3D should implement their own clone method.")}};E([N({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Nm.prototype,"type",void 0),Nm=E([ut("esri.symbols.patterns.LinePattern3D")],Nm);const m1t=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var n7;const g1t=He()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let of=n7=class extends Nm{constructor(t){super(t),this.type="style",this.style="solid"}clone(){const t={style:this.style};return new n7(t)}};E([N({type:["style"],json:{write:{isRequired:!0}}})],of.prototype,"type",void 0),E([se(g1t),N({type:m1t,json:{write:{isRequired:!0}}})],of.prototype,"style",void 0),of=n7=E([ut("esri.symbols.patterns.LineStylePattern3D")],of);let km=class extends Zt{constructor(e){super(e),this.type="style"}clone(){throw new Error("Subclasses of Pattern3D should implement their own clone method.")}};E([N({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],km.prototype,"type",void 0),km=E([ut("esri.symbols.patterns.Pattern3D")],km);const v1t=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var s7;let m0=s7=class extends km{constructor(t){super(t),this.type="style",this.style="solid"}clone(){return new s7({style:this.style})}};E([N({type:["style"],json:{write:{isRequired:!0}}})],m0.prototype,"type",void 0),E([N({type:v1t,json:{read:!0,write:{isRequired:!0}}})],m0.prototype,"style",void 0),m0=s7=E([ut("esri.symbols.patterns.StylePattern3D")],m0);const b1t={types:{key:"type",base:km,typeMap:{style:m0}},json:{write:!0}},kq={types:{key:"type",base:Nm,typeMap:{style:of}},json:{write:!0}},Pm=new ni("white"),w1t=new ni([255,255,255,0]);function _1t(t){return t.r===0&&t.g===0&&t.b===0}var o7;let Im=o7=class extends ao{constructor(t){super(t),this.colorMixMode=null}clone(){const t={color:this.color?.clone()??null,colorMixMode:this.colorMixMode,emissive:this.emissive?.clone()??null};return new o7(t)}};E([se({multiply:"multiply",replace:"replace",tint:"tint"})],Im.prototype,"colorMixMode",void 0),Im=o7=E([ut("esri.symbols.support.Symbol3DFillMaterial")],Im);function eh(){return[0,0,0]}function S1t(t){return[t[0],t[1],t[2]]}function i1(t,e,i){return[t,e,i]}function x1t(t,e,i){return[t,e,i]}function T1t(t,e=eh()){const i=Math.min(3,t.length);for(let n=0;n<i;++n)e[n]=t[n];return e}function Pq(){return eh()}function Iq(){return i1(1,1,1)}function Dq(){return i1(1,0,0)}function Lq(){return i1(0,1,0)}function jq(){return i1(0,0,1)}const E1t=Pq(),M1t=Iq(),A1t=Dq(),R1t=Lq(),C1t=jq();Object.freeze(Object.defineProperty({__proto__:null,ONES:M1t,UNIT_X:A1t,UNIT_Y:R1t,UNIT_Z:C1t,ZEROS:E1t,clone:S1t,create:eh,freeze:x1t,fromArray:T1t,fromValues:i1,ones:Iq,unitX:Dq,unitY:Lq,unitZ:jq,zeros:Pq},Symbol.toStringTag,{value:"Module"}));function O1t(t,e=!1){return t<=JL?e?new Array(t).fill(0):new Array(t):new Float64Array(t)}function hCt(t){return(btt(t)?t.byteLength/8:t.length)<=JL?Array.from(t):new Float64Array(t)}function fCt(t,e,i){return Array.isArray(t)?t.slice(e,e+i):t.subarray(e,e+i)}function lv(t=P1t){return[t[0],t[1],t[2],t[3],t[4],t[5]]}function KE(t,e,i,n,a,d,y=lv()){return y[0]=t,y[1]=e,y[2]=i,y[3]=n,y[4]=a,y[5]=d,y}function dCt(t,e=lv()){return $1t(t,0,t.length/3,e)}function $1t(t,e,i,n=lv()){return zq(n,a7),N1t(n,t,e,i),n}function pCt(t,e=O1t(24)){const[i,n,a,d,y,b]=t;return e[0]=i,e[1]=n,e[2]=a,e[3]=i,e[4]=n,e[5]=b,e[6]=i,e[7]=y,e[8]=a,e[9]=i,e[10]=y,e[11]=b,e[12]=d,e[13]=n,e[14]=a,e[15]=d,e[16]=n,e[17]=b,e[18]=d,e[19]=y,e[20]=a,e[21]=d,e[22]=y,e[23]=b,e}function yCt(t,e){const i=isFinite(t[2])||isFinite(t[5]);return new Be(i?{xmin:t[0],xmax:t[3],ymin:t[1],ymax:t[4],zmin:t[2],zmax:t[5],spatialReference:e}:{xmin:t[0],xmax:t[3],ymin:t[1],ymax:t[4],spatialReference:e})}function mCt(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.min(t[2],e[2]),t[3]=Math.max(t[3],e[3]),t[4]=Math.max(t[4],e[4]),t[5]=Math.max(t[5],e[5])}function gCt(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[3]=Math.max(t[3],e[2]),t[4]=Math.max(t[4],e[3])}function vCt(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.min(t[2],e[2]),t[3]=Math.max(t[3],e[0]),t[4]=Math.max(t[4],e[1]),t[5]=Math.max(t[5],e[2])}function N1t(t,e,i=0,n=e.length/3){let a=t[0],d=t[1],y=t[2],b=t[3],S=t[4],T=t[5];for(let C=0;C<n;C++)a=Math.min(a,e[i+3*C]),d=Math.min(d,e[i+3*C+1]),y=Math.min(y,e[i+3*C+2]),b=Math.max(b,e[i+3*C]),S=Math.max(S,e[i+3*C+1]),T=Math.max(T,e[i+3*C+2]);t[0]=a,t[1]=d,t[2]=y,t[3]=b,t[4]=S,t[5]=T}function bCt(t,e,i){const n=e.length;let a=t[0],d=t[1],y=t[2],b=t[3],S=t[4],T=t[5];if(i)for(let C=0;C<n;C++){const k=e[C];a=Math.min(a,k[0]),d=Math.min(d,k[1]),y=Math.min(y,k[2]),b=Math.max(b,k[0]),S=Math.max(S,k[1]),T=Math.max(T,k[2])}else for(let C=0;C<n;C++){const k=e[C];a=Math.min(a,k[0]),d=Math.min(d,k[1]),b=Math.max(b,k[0]),S=Math.max(S,k[1])}t[0]=a,t[1]=d,t[2]=y,t[3]=b,t[4]=S,t[5]=T}function wCt(t){for(let e=0;e<6;e++)if(!isFinite(t[e]))return!1;return!0}function uv(t){return t[0]>=t[3]?0:t[3]-t[0]}function cv(t){return t[1]>=t[4]?0:t[4]-t[1]}function hv(t){return t[2]>=t[5]?0:t[5]-t[2]}function _Ct(t){const e=uv(t),i=hv(t),n=cv(t);return Math.sqrt(e*e+i*i+n*n)}function SCt(t,e=[0,0,0]){return e[0]=t[0]+uv(t)/2,e[1]=t[1]+cv(t)/2,e[2]=t[2]+hv(t)/2,e}function xCt(t,e=[0,0,0]){return e[0]=uv(t),e[1]=cv(t),e[2]=hv(t),e}function TCt(t,e){return e[0]>=t[0]&&e[1]>=t[1]&&e[2]>=t[2]&&e[0]<=t[3]&&e[1]<=t[4]&&e[2]<=t[5]}function k1t(t,e){return Math.max(e[0],t[0])<=Math.min(e[3],t[3])&&Math.max(e[1],t[1])<=Math.min(e[4],t[4])&&Math.max(e[2],t[2])<=Math.min(e[5],t[5])}function ECt(t,e){return e==null||k1t(t,e)}function MCt(t,e,i,n,a=t){return a[0]=t[0]+e,a[1]=t[1]+i,a[2]=t[2]+n,a[3]=t[3]+e,a[4]=t[4]+i,a[5]=t[5]+n,a}function ACt(t,e,i=t){const n=t[0]+uv(t)/2,a=t[1]+cv(t)/2,d=t[2]+hv(t)/2;return i[0]=n+(t[0]-n)*e,i[1]=a+(t[1]-a)*e,i[2]=d+(t[2]-d)*e,i[3]=n+(t[3]-n)*e,i[4]=a+(t[4]-a)*e,i[5]=d+(t[5]-d)*e,i}function RCt(t,e){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function CCt(t,e,i=t){return i[0]=e[0],i[1]=e[1],i[2]=e[2],i!==t&&(i[3]=t[3],i[4]=t[4],i[5]=t[5]),i}function OCt(t,e,i=t){return i[3]=e[0],i[4]=e[1],i[5]=e[2],i!==t&&(i[0]=t[0],i[1]=t[1],i[2]=t[2]),t}function zq(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function $Ct(t){return t?zq(t,a7):lv(a7)}function NCt(t,e){return e||(e=ls()),e[0]=t[0],e[1]=t[1],e[2]=t[3],e[3]=t[4],e}function kCt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=Number.NEGATIVE_INFINITY,t[3]=e[2],t[4]=e[3],t[5]=Number.POSITIVE_INFINITY,t}function PCt(t,e,i,n,a){return t[0]=e,t[1]=i,t[2]=Number.NEGATIVE_INFINITY,t[3]=n,t[4]=a,t[5]=Number.POSITIVE_INFINITY,t}function Ck(t){return t.length===6}function ICt(t){return uv(t)===0&&cv(t)===0&&hv(t)===0}function DCt(t,e,i){if(t==null||e==null)return t===e;if(!Ck(t)||!Ck(e))return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}const a7=[1/0,1/0,1/0,-1/0,-1/0,-1/0],P1t=[0,0,0,0,0,0];lv();function LCt(t,{isPrimitive:e,width:i,depth:n,height:a}){const d=e?10:1;if(i==null&&a==null&&n==null)return[d*t[0],d*t[1],d*t[2]];const y=i1(i,n,a);let b;for(let S=0;S<3;S++){const T=y[S];if(T!=null){b=T/t[S];break}}for(let S=0;S<3;S++)y[S]==null&&(y[S]=t[S]*b);return y}const I1t=KE(-.5,-.5,-.5,.5,.5,.5),D1t=KE(-.5,-.5,0,.5,.5,1),L1t=KE(-.5,-.5,0,.5,.5,.5);function jCt(t){switch(t){case"sphere":case"cube":case"diamond":return I1t;case"cylinder":case"cone":case"inverted-cone":return D1t;case"tetrahedron":return L1t;default:return}}const XE=["butt","square","round"],j1t=[...XE,"none"],Uq=["miter","bevel","round"];var l7;let zh=l7=class extends Zt{constructor(t){super(t),this.color=new ni([0,0,0,1]),this.size=Kc(1),this.pattern=null,this.patternCap="butt"}clone(){const t={color:this.color!=null?this.color.clone():null,size:this.size,pattern:this.pattern!=null?this.pattern.clone():null,patternCap:this.patternCap};return new l7(t)}};E([N(th({colorRequiredOnWrite:!0}))],zh.prototype,"color",void 0),E([N({...cl,json:{write:{isRequired:!0}}})],zh.prototype,"size",void 0),E([N(kq)],zh.prototype,"pattern",void 0),E([N({type:XE,json:{default:"butt",write:{overridePolicy(){return{enabled:this.pattern!=null}}}}})],zh.prototype,"patternCap",void 0),zh=l7=E([ut("esri.symbols.support.Symbol3DOutline")],zh);var X3,H0;let eo=(H0=class extends as{constructor(e){super(e),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const e={edges:this.edges!=null?this.edges.clone():null,enabled:this.enabled,material:this.material!=null?this.material.clone():null,pattern:this.pattern!=null?this.pattern.clone():null,castShadows:this.castShadows,outline:this.outline!=null?this.outline.clone():null};return new X3(e)}static fromSimpleFillSymbol(e){const i=e.outline&&e.outline.style&&e.outline.style!=="solid"?new of({style:e.outline.style}):null,n={size:e.outline?.width??0,color:(e.outline?.color??Pm).clone(),pattern:i};return i&&e.outline?.cap&&(n.patternCap=e.outline.cap),new X3({material:new Im({color:(e.color??w1t).clone()}),pattern:e.style&&e.style!=="solid"?new m0({style:e.style}):null,outline:n})}},X3=H0,H0);E([se({Fill:"fill"},{readOnly:!0})],eo.prototype,"type",void 0),E([N({type:Im,json:{write:!0}})],eo.prototype,"material",void 0),E([N(b1t)],eo.prototype,"pattern",void 0),E([N({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],eo.prototype,"castShadows",void 0),E([N({type:zh,json:{write:!0}})],eo.prototype,"outline",void 0),E([N(Nq)],eo.prototype,"edges",void 0),eo=X3=E([ut("esri.symbols.FillSymbol3DLayer")],eo);var u7;const z1t=He()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let Uh=u7=class extends Zt{constructor(t){super(t)}readHref(t,e,i){return t?Gp(t,i):e.dataURI}writeHref(t,e,i,n){t&&(Wf(t)?e.dataURI=t:(e.href=yp(t,n),Ps(e.href)&&(e.href=Dc(e.href))))}clone(){return new u7({href:this.href,primitive:this.primitive})}};E([N({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],Uh.prototype,"href",void 0),E([Ne("href")],Uh.prototype,"readHref",null),E([Pe("href",{href:{type:String},dataURI:{type:String}})],Uh.prototype,"writeHref",null),E([se(z1t)],Uh.prototype,"primitive",void 0),Uh=u7=E([ut("esri.symbols.support.IconSymbol3DLayerResource")],Uh);const zCt="circle";var c7;let g0=c7=class extends ve{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new c7({x:this.x,y:this.y})}};E([N({type:Number})],g0.prototype,"x",void 0),E([N({type:Number})],g0.prototype,"y",void 0),g0=c7=E([ut("esri.symbols.support.Symbol3DAnchorPosition2D")],g0);var h7;let Ky=h7=class extends Zt{constructor(t){super(t),this.color=new ni([0,0,0,1]),this.size=Kc(1)}clone(){const t={color:this.color!=null?this.color.clone():null,size:this.size};return new h7(t)}};E([N(th({colorRequiredOnWrite:!0}))],Ky.prototype,"color",void 0),E([N({...cl,json:{write:{isRequired:!0}}})],Ky.prototype,"size",void 0),Ky=h7=E([ut("esri.symbols.support.Symbol3DIconOutline")],Ky);var Qd,V0;let $n=(V0=class extends as{constructor(e){super(e),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null,this.angle=0}clone(){return new Qd({anchor:this.anchor,anchorPosition:Ht(this.anchorPosition),enabled:this.enabled,material:Ht(this.material),outline:Ht(this.outline),resource:Ht(this.resource),angle:this.angle,size:this.size})}static fromSimpleMarkerSymbol(e){const i=e.color||Pm,n=Ok(e),a=e.outline&&e.outline.width>0?{size:e.outline.width,color:(e.outline.color||Pm).clone()}:null;return new Qd({size:e.size,angle:e.angle,resource:{primitive:F1t((()=>ae.getLogger(this.prototype)),e.style)},material:{color:i},outline:a,anchor:n?"relative":void 0,anchorPosition:n})}static fromPictureMarkerSymbol(e){const i=!e.color||_1t(e.color)?Pm:e.color,n=Ok(e);return new Qd({size:e.width<=e.height?e.height:e.width,angle:e.angle,resource:{href:e.url},material:{color:i.clone()},anchor:n?"relative":void 0,anchorPosition:n})}static fromCIMSymbol(e){return new Qd({resource:{href:iz({mediaType:"application/json",data:JSON.stringify(e.data)})}})}},Qd=V0,V0);function Ok(t){const e="width"in t?t.width:t.size,i="height"in t?t.height:t.size,n=$k(t.xoffset),a=$k(t.yoffset);return(n||a)&&e&&i?{x:-n/e,y:a/i}:null}function $k(t){return isFinite(t)?t:0}E([N({type:ao,json:{write:!0}})],$n.prototype,"material",void 0),E([N({type:Uh,json:{write:!0}})],$n.prototype,"resource",void 0),E([se({Icon:"icon"},{readOnly:!0})],$n.prototype,"type",void 0),E([N({...cl,json:{write:{isRequired:!0}}})],$n.prototype,"size",void 0),E([se({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"},{default:"center"})],$n.prototype,"anchor",void 0),E([N({type:g0,json:{type:[Number],read:{reader:t=>new g0({x:t[0],y:t[1]})},write:{writer:(t,e)=>{e.anchorPosition=[t.x,t.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],$n.prototype,"anchorPosition",void 0),E([N({type:Ky,json:{write:!0}})],$n.prototype,"outline",void 0),E([N({type:Number,json:{write:!0,default:0}})],$n.prototype,"angle",void 0),$n=Qd=E([ut("esri.symbols.IconSymbol3DLayer")],$n);const U1t={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function F1t(t,e){return U1t[e]||(t().warn(`${e} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const B1t=["begin","end","begin-end"],Fq=["arrow","circle","square","diamond","cross","x"];let au=class extends qr.ClonableMixin(Zt){constructor(e){super(e),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(e){return e!=null&&e.placement===this.placement&&e.style===this.style&&(this.color==null&&e.color==null||this.color!=null&&e.color!=null&&this.color.toJSON()===e.color.toJSON())}};E([N({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],au.prototype,"type",void 0),E([N({type:B1t,json:{default:"begin-end",write:!0}})],au.prototype,"placement",void 0),E([N({type:Fq,json:{default:"arrow",write:!0}})],au.prototype,"style",void 0),E([N({type:ni,json:{type:[Hi],default:null,write:!0}})],au.prototype,"color",void 0),au=E([ut("esri.symbols.LineStyleMarker3D")],au);var Z3,W0;let As=(W0=class extends as{constructor(e){super(e),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=Kc(1),this.pattern=null,this.marker=null}clone(){const e={enabled:this.enabled,material:this.material!=null?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:this.pattern!=null?this.pattern.clone():null,marker:this.marker!=null?this.marker.clone():null};return new Z3(e)}static fromSimpleLineSymbol(e){const i={enabled:!0,size:e.width??Kc(1),cap:e.cap||"butt",join:e.join||"miter",pattern:e.style?new of({style:e.style}):null,material:new ao({color:(e.color||Pm).clone()}),marker:e.marker?new au({placement:e.marker.placement,style:e.marker.style,color:e.marker.color?.clone()??null}):null};return new Z3(i)}},Z3=W0,W0);E([N({type:ao,json:{write:!0}})],As.prototype,"material",void 0),E([se({Line:"line"},{readOnly:!0})],As.prototype,"type",void 0),E([N({type:Uq,json:{write:!0,default:"miter"}})],As.prototype,"join",void 0),E([N({type:XE,json:{write:!0,default:"butt"}})],As.prototype,"cap",void 0),E([N({...cl,json:{write:{isRequired:!0}}})],As.prototype,"size",void 0),E([N(kq)],As.prototype,"pattern",void 0),E([N({types:{key:"type",base:au,typeMap:{style:au}},json:{write:!0}})],As.prototype,"marker",void 0),As=Z3=E([ut("esri.symbols.LineSymbol3DLayer")],As);var f7;const G1t=He()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let Xy=f7=class extends Zt{clone(){return new f7({href:this.href,primitive:this.primitive})}};E([N({type:String,json:{read:u5,write:mp}})],Xy.prototype,"href",void 0),E([se(G1t)],Xy.prototype,"primitive",void 0),Xy=f7=E([ut("esri.symbols.support.ObjectSymbol3DLayerResource")],Xy);const FCt="sphere";var d7;let tf=d7=class extends ve{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new d7({x:this.x,y:this.y,z:this.z})}};E([N({type:Number})],tf.prototype,"x",void 0),E([N({type:Number})],tf.prototype,"y",void 0),E([N({type:Number})],tf.prototype,"z",void 0),tf=d7=E([ut("esri.symbols.support.Symbol3DAnchorPosition3D")],tf);var p7,J0;let yn=(J0=class extends as{constructor(e){super(e),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new p7({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition?.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:this.material?.clone()??null,castShadows:this.castShadows,resource:this.resource?.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}},p7=J0,J0);E([N({type:ao,json:{write:!0}})],yn.prototype,"material",void 0),E([N({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],yn.prototype,"castShadows",void 0),E([N({type:Xy,json:{write:!0}})],yn.prototype,"resource",void 0),E([se({Object:"object"},{readOnly:!0})],yn.prototype,"type",void 0),E([N({type:Number,json:{write:!0}})],yn.prototype,"width",void 0),E([N({type:Number,json:{write:!0}})],yn.prototype,"height",void 0),E([N({type:Number,json:{write:!0}})],yn.prototype,"depth",void 0),E([se({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"},{default:"origin"})],yn.prototype,"anchor",void 0),E([N({type:tf,json:{type:[Number],read:{reader:t=>new tf({x:t[0],y:t[1],z:t[2]})},write:{writer:(t,e)=>{e.anchorPosition=[t.x,t.y,t.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],yn.prototype,"anchorPosition",void 0),E([N({type:Number,json:{write:!0}})],yn.prototype,"heading",void 0),E([N({type:Number,json:{write:!0}})],yn.prototype,"tilt",void 0),E([N({type:Number,json:{write:!0}})],yn.prototype,"roll",void 0),E([N({readOnly:!0})],yn.prototype,"isPrimitive",null),yn=p7=E([ut("esri.symbols.ObjectSymbol3DLayer")],yn);var y7,Y0;let On=(Y0=class extends as{constructor(e){super(e),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(e,i){return e??(i.height==null&&i.size!=null?i.size:void 0)}readHeight(e,i){return e??(i.width==null&&i.size!=null?i.size:void 0)}clone(){return new y7({enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}},y7=Y0,Y0);E([N({type:ao,json:{write:!0}})],On.prototype,"material",void 0),E([N({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],On.prototype,"castShadows",void 0),E([se({Path:"path"},{readOnly:!0})],On.prototype,"type",void 0),E([N({type:["circle","quad"],json:{write:!0,default:"circle"}})],On.prototype,"profile",void 0),E([N({type:Uq,json:{write:!0,default:"miter"}})],On.prototype,"join",void 0),E([N({type:j1t,json:{write:!0,default:"butt"}})],On.prototype,"cap",void 0),E([N({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],On.prototype,"width",void 0),E([Ne("width",["width","size","height"])],On.prototype,"readWidth",null),E([N({type:Number,json:{write:!0}})],On.prototype,"height",void 0),E([Ne("height",["height","size","width"])],On.prototype,"readHeight",null),E([N({type:["center","bottom","top"],json:{write:!0,default:"center"}})],On.prototype,"anchor",void 0),E([N({type:["heading","all"],json:{write:!0,default:"all"}})],On.prototype,"profileRotation",void 0),On=y7=E([ut("esri.symbols.PathSymbol3DLayer")],On);const q1t=["none","underline","line-through"],H1t=["normal","italic","oblique"],V1t=["normal","lighter","bold","bolder"],Bq={type:Number,cast:t=>{const e=no(t);return e===0?1:Ea(e,.1,4)},nonNullable:!0},W1t=["left","right","center"],J1t=["baseline","top","middle","bottom"],Gq={type:W1t,nonNullable:!0},qq={type:J1t,nonNullable:!0},BCt=8;var m7;let Oo=m7=class extends Zt{constructor(t){super(t),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(t){return fr(t)}clone(){return new m7({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};E([N({type:q1t,json:{default:"none",write:!0}})],Oo.prototype,"decoration",void 0),E([N({type:String,json:{write:!0}})],Oo.prototype,"family",void 0),E([N({type:Number,json:{write:{overridePolicy:(t,e,i)=>({enabled:!i||!i.textSymbol3D})}}})],Oo.prototype,"size",void 0),E([on("size")],Oo.prototype,"castSize",null),E([N({type:H1t,json:{default:"normal",write:!0}})],Oo.prototype,"style",void 0),E([N({type:V1t,json:{default:"normal",write:!0}})],Oo.prototype,"weight",void 0),Oo=m7=E([ut("esri.symbols.Font")],Oo);var g7;let v0=g7=class extends Zt{constructor(){super(...arguments),this.color=new ni([0,0,0,1]),this.size=0}clone(){const t={color:Ht(this.color),size:this.size};return new g7(t)}};E([N(th())],v0.prototype,"color",void 0),E([N(cl)],v0.prototype,"size",void 0),v0=g7=E([ut("esri.symbols.support.Symbol3DHalo")],v0);let Dm=class extends qr.ClonableMixin(Zt){constructor(e){super(e),this.color=null}};E([N(th())],Dm.prototype,"color",void 0),Dm=E([ut("esri.symbols.support.Symbol3DTextBackground")],Dm);var Q3,K0;let nn=(K0=class extends as{constructor(e){super(e),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(e){e!=null&&this._userSize!=null&&(e.size=this._userSize),this._set("font",e)}writeFont(e,i,n,a){const d={...a,textSymbol3D:!0};i.font=e.write({},d),delete i.font.size}get size(){return this._userSize!=null?this._userSize:this.font?.size!=null?this.font.size:9}set size(e){this._userSize=e,this.font!=null&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const e=new Q3({enabled:this.enabled,font:this.font&&Ht(this.font),halo:this.halo&&Ht(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:this.material!=null?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:Ht(this.background)});return e._userSize=this._userSize,e}static fromTextSymbol(e){return new Q3({font:e.font!=null?e.font.clone():new Oo,halo:Y1t(e.haloColor,e.haloSize),horizontalAlignment:e.horizontalAlignment,lineHeight:e.lineHeight,material:e.color?new ao({color:e.color.clone()}):null,text:e.text,verticalAlignment:e.verticalAlignment,background:e.backgroundColor?new Dm({color:e.backgroundColor.clone()}):null})}},Q3=K0,K0);function Y1t(t,e){return t&&e!=null&&e>0?new v0({color:Ht(t),size:e}):null}E([N({type:Oo,json:{write:!0}})],nn.prototype,"font",null),E([Pe("font")],nn.prototype,"writeFont",null),E([N({type:v0,json:{write:!0}})],nn.prototype,"halo",void 0),E([N({...Gq,json:{default:"center",write:!0}})],nn.prototype,"horizontalAlignment",void 0),E([N({...Bq,json:{default:1,write:!0}})],nn.prototype,"lineHeight",void 0),E([N({type:ao,json:{write:!0}})],nn.prototype,"material",void 0),E([N({type:Dm,json:{write:!0}})],nn.prototype,"background",void 0),E([N(cl)],nn.prototype,"size",null),E([N({type:String,json:{write:!0}})],nn.prototype,"text",void 0),E([se({Text:"text"},{readOnly:!0})],nn.prototype,"type",void 0),E([N({...qq,json:{default:"baseline",write:!0}})],nn.prototype,"verticalAlignment",void 0),nn=Q3=E([ut("esri.symbols.TextSymbol3DLayer")],nn);var v7,X0;let ru=(X0=class extends as{constructor(e){super(e),this.color=b7.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new v7({color:Ht(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}},v7=X0,X0);E([N({type:ni,nonNullable:!0,json:{type:[Hi],write:(t,e,i)=>e[i]=t.toArray(ni.AlphaMode.UNLESS_OPAQUE),default:()=>b7.clone(),defaultEquals:t=>t.toCss(!0)===b7.toCss(!0)}})],ru.prototype,"color",void 0),E([se({Water:"water"},{readOnly:!0})],ru.prototype,"type",void 0),E([N({type:["small","medium","large"],json:{write:!0,default:"medium"}})],ru.prototype,"waterbodySize",void 0),E([N({type:Number,json:{write:!0,default:null}})],ru.prototype,"waveDirection",void 0),E([N({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],ru.prototype,"waveStrength",void 0),ru=v7=E([ut("esri.symbols.WaterSymbol3DLayer")],ru);const b7=new ni([0,119,190]);var w7;let lu=w7=class extends ve{constructor(t){super(t),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new w7({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};E([N({type:String})],lu.prototype,"name",void 0),E([N({type:String})],lu.prototype,"styleUrl",void 0),E([N({type:String})],lu.prototype,"styleName",void 0),E([N({type:Jt})],lu.prototype,"portal",void 0),lu=w7=E([ut("esri.symbols.support.StyleOrigin")],lu);var _7;let Lm=_7=class extends ve{constructor(){super(...arguments),this.url=""}clone(){return new _7({url:this.url})}};E([N({type:String})],Lm.prototype,"url",void 0),Lm=_7=E([ut("esri.symbols.support.Thumbnail")],Lm);const Hq={icon:$n,object:yn,line:As,path:On,fill:eo,extrude:iu,text:nn,water:ru},K1t=me.ofType({base:as,key:"type",typeMap:Hq,errorContext:"symbol-layer"});let Rs=class extends Gr{constructor(e){super(e),this.styleOrigin=null,this.thumbnail=null,this.type=null;const i=this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers,n=i?.type,a=n||me;this._set("symbolLayers",new a)}get color(){return null}set color(e){this.constructed&&ae.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(e){mu(e,this._get("symbolLayers"))}readStyleOrigin(e,i,n){if(e.styleUrl&&e.name){const a=Gp(e.styleUrl,n);return new lu({styleUrl:a,name:e.name})}if(e.styleName&&e.name)return new lu({portal:n?.portal||Jt.getDefault(),styleName:e.styleName,name:e.name});n?.messages&&n.messages.push(new sl("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:n,definition:e}))}writeStyleOrigin(e,i,n,a){if(e.styleUrl&&e.name){let d=yp(e.styleUrl,a);Ps(d)&&(d=Dc(d)),i.styleOrigin={styleUrl:d,name:e.name}}else e.styleName&&e.name&&(e.portal&&a?.portal&&!Qit(e.portal.restUrl,a.portal.restUrl)?a?.messages&&a.messages.push(new sl("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):i.styleOrigin={styleName:e.styleName,name:e.name})}normalizeCtorArgs(e){return e instanceof as||e&&Hq[e.type]?{symbolLayers:[e]}:Array.isArray(e)?{symbolLayers:e}:e}};E([N({json:{read:!1,write:!1}})],Rs.prototype,"color",null),E([N({type:K1t,nonNullable:!0,json:{write:!0}}),on(Mq)],Rs.prototype,"symbolLayers",null),E([N({type:lu})],Rs.prototype,"styleOrigin",void 0),E([Ne("styleOrigin")],Rs.prototype,"readStyleOrigin",null),E([Pe("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],Rs.prototype,"writeStyleOrigin",null),E([N({type:Lm,json:{read:!1}})],Rs.prototype,"thumbnail",void 0),E([N({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],Rs.prototype,"type",void 0),Rs=E([ut("esri.symbols.Symbol3D")],Rs);let b0=class extends Zt{constructor(e){super(e),this.visible=!0}clone(){throw new Error("Subclasses of Callout3D should implement their own clone method.")}};E([N({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,isRequired:!0}}})],b0.prototype,"type",void 0),E([N({readOnly:!0})],b0.prototype,"visible",void 0),b0=E([ut("esri.symbols.callouts.Callout3D")],b0);var S7;let tb=S7=class extends Zt{constructor(t){super(t),this.color=new ni("white")}clone(){return new S7({color:Ht(this.color)})}};E([N(th({colorRequiredOnWrite:!0}))],tb.prototype,"color",void 0),tb=S7=E([ut("esri.symbols.callouts.LineCallout3DBorder")],tb);const X1t=tb;var x7;let nu=x7=class extends b0{constructor(t){super(t),this.type="line",this.color=new ni([0,0,0,1]),this.size=Kc(1),this.border=null}get visible(){return this.size>0&&this.color!=null&&this.color.a>0}clone(){return new x7({color:Ht(this.color),size:this.size,border:Ht(this.border)})}};E([se({line:"line"})],nu.prototype,"type",void 0),E([N(th({colorRequiredOnWrite:!0}))],nu.prototype,"color",void 0),E([N({...cl,json:{write:{isRequired:!0}}})],nu.prototype,"size",void 0),E([N({type:X1t,json:{write:!0}})],nu.prototype,"border",void 0),E([N({readOnly:!0})],nu.prototype,"visible",null),nu=x7=E([ut("esri.symbols.callouts.LineCallout3D")],nu);function ZE(t){if(!t)return!1;const e=t.verticalOffset;return!(!e||e.screenLength<=0||e.maxWorldLength!=null&&e.maxWorldLength<=0)}function Vq(t){return!t||!t.supportsCallout||!t.supportsCallout()?!1:!!t.callout?.visible&&!!ZE(t)}function VCt(t){return t.type==="point-3d"||t.type==="label-3d"}function WCt(t){return t.horizontalAlignment==="center"}const Wq={types:{key:"type",base:b0,typeMap:{line:nu}},json:{write:!0}};var T7;let Ec=T7=class extends Zt{constructor(t){super(t),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new T7({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};E([N({...cl,json:{write:{isRequired:!0}}})],Ec.prototype,"screenLength",void 0),E([N({type:Number,nonNullable:!0,json:{write:!0,default:0}})],Ec.prototype,"minWorldLength",void 0),E([N({type:Number,json:{write:!0}})],Ec.prototype,"maxWorldLength",void 0),Ec=T7=E([ut("esri.symbols.support.Symbol3DVerticalOffset")],Ec);var eb;const Jq=me.ofType({base:null,key:"type",typeMap:{text:nn}});let Ja=eb=class extends Rs{constructor(t){super(t),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new Jq,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return Vq(this)}hasVisibleVerticalOffset(){return ZE(this)}clone(){return new eb({styleOrigin:Ht(this.styleOrigin),symbolLayers:Ht(this.symbolLayers),thumbnail:Ht(this.thumbnail),callout:Ht(this.callout),verticalOffset:Ht(this.verticalOffset)})}static fromTextSymbol(t){return new eb({symbolLayers:new me([nn.fromTextSymbol(t)])})}};E([N({type:Ec,json:{write:!0}})],Ja.prototype,"verticalOffset",void 0),E([N(Wq)],Ja.prototype,"callout",void 0),E([N({json:{read:!1,write:!1}})],Ja.prototype,"styleOrigin",void 0),E([N({type:Jq})],Ja.prototype,"symbolLayers",void 0),E([se({LabelSymbol3D:"label-3d"},{readOnly:!0})],Ja.prototype,"type",void 0),Ja=eb=E([ut("esri.symbols.LabelSymbol3D")],Ja);var ib;const Yq=me.ofType({base:null,key:"type",typeMap:{line:As,path:On}}),Z1t=me.ofType({base:null,key:"type",typeMap:{line:As,path:On}});let $c=ib=class extends Rs{constructor(t){super(t),this.symbolLayers=new Yq,this.type="line-3d"}clone(){return new ib({styleOrigin:Ht(this.styleOrigin),symbolLayers:Ht(this.symbolLayers),thumbnail:Ht(this.thumbnail)})}static fromSimpleLineSymbol(t){return new ib({symbolLayers:new me([As.fromSimpleLineSymbol(t)])})}};E([N({type:Yq,json:{type:Z1t}})],$c.prototype,"symbolLayers",void 0),E([se({LineSymbol3D:"line-3d"},{readOnly:!0})],$c.prototype,"type",void 0),$c=ib=E([ut("esri.symbols.LineSymbol3D")],$c);var rb;const Kq=me.ofType({base:null,key:"type",typeMap:{fill:eo}});let af=rb=class extends Rs{constructor(t){super(t),this.symbolLayers=new Kq,this.type="mesh-3d"}clone(){return new rb({styleOrigin:Ht(this.styleOrigin),symbolLayers:Ht(this.symbolLayers),thumbnail:Ht(this.thumbnail)})}static fromSimpleFillSymbol(t){return new rb({symbolLayers:new me([eo.fromSimpleFillSymbol(t)])})}};E([N({type:Kq})],af.prototype,"symbolLayers",void 0),E([se({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],af.prototype,"type",void 0),af=rb=E([ut("esri.symbols.MeshSymbol3D")],af);let Zy=class extends Gr{constructor(e){super(e),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};E([se({esriSLS:"simple-line"},{readOnly:!0})],Zy.prototype,"type",void 0),E([N({type:Number,cast:fr,json:{write:!0}})],Zy.prototype,"width",void 0),Zy=E([ut("esri.symbols.LineSymbol")],Zy);var E7;let Ua=E7=class extends Zt{constructor(t){super(t),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(t,e,i,n){e[i]=n?.origin==="web-map"?"arrow":t}set color(t){this._set("color",t)}readColor(t){return t?.[0]!=null?[t[0],t[1],t[2],t[3]/255]:t}writeColor(t,e,i,n){n?.origin==="web-map"||(e[i]=t)}clone(){return new E7({color:Ht(this.color),placement:this.placement,style:this.style})}hash(){return`${this.placement}.${this.color?.hash()}.${this.style}`}};E([N({type:["begin","end","begin-end"],json:{write:!0}})],Ua.prototype,"placement",void 0),E([se({"line-marker":"line-marker"},{readOnly:!0}),N({json:{origins:{"web-map":{write:!1}}}})],Ua.prototype,"type",void 0),E([N({type:Fq})],Ua.prototype,"style",void 0),E([Pe("style")],Ua.prototype,"writeStyle",null),E([N({type:ni,value:null,json:{write:{allowNull:!0}}})],Ua.prototype,"color",null),E([Ne("color")],Ua.prototype,"readColor",null),E([Pe("color")],Ua.prototype,"writeColor",null),Ua=E7=E([ut("esri.symbols.LineSymbolMarker")],Ua);const Q1t=Ua;var M7;const w_=new wr({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let Vn=M7=class extends Zy{constructor(...t){super(...t),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(t,e,i,n,a,d){if(t&&typeof t!="string")return t;const y={};return t!=null&&(y.style=t),e!=null&&(y.color=e),i!=null&&(y.width=fr(i)),n!=null&&(y.cap=n),a!=null&&(y.join=a),d!=null&&(y.miterLimit=fr(d)),y}clone(){return new M7({color:Ht(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:this.marker?.clone()})}hash(){return`${super.hash()}.${this.color?.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${this.marker?.hash()}`}};E([se({esriSLS:"simple-line"},{readOnly:!0})],Vn.prototype,"type",void 0),E([N({type:w_.apiValues,json:{read:w_.read,write:w_.write}})],Vn.prototype,"style",void 0),E([N({type:["butt","round","square"],json:{write:{overridePolicy:(t,e,i)=>({enabled:t!=="round"&&i?.origin==null})}}})],Vn.prototype,"cap",void 0),E([N({type:["miter","round","bevel"],json:{write:{overridePolicy:(t,e,i)=>({enabled:t!=="round"&&i?.origin==null})}}})],Vn.prototype,"join",void 0),E([N({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":Q1t}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],Vn.prototype,"marker",void 0),E([N({type:Number,json:{read:!1,write:!1}})],Vn.prototype,"miterLimit",void 0),Vn=M7=E([ut("esri.symbols.SimpleLineSymbol")],Vn);let w0=class extends Gr{constructor(e){super(e),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline?.hash()}`}};E([N({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Vn}},json:{default:null,write:!0}})],w0.prototype,"outline",void 0),E([N({type:["simple-fill","picture-fill"],readOnly:!0})],w0.prototype,"type",void 0),w0=E([ut("esri.symbols.FillSymbol")],w0);function tyt(t,e,i){return e.imageData?iz({mediaType:e.contentType||"image/png",isBase64:!0,data:e.imageData}):Xq(e.url,i)}function Xq(t,e){if(!Ps(t)){const i=iyt(e);if(i)return Ug(i,"images",t)}return Gp(t,e)}function eyt(t,e,i,n){if(Wf(t)){const a=pp(t);if(!a)return;e.contentType=a.mediaType,e.imageData=a.data,i&&i.imageData===e.imageData&&i.url&&mp(i.url,e,"url",n)}else mp(t,e,"url",n)}const Zq={json:{read:{source:["imageData","url"],reader:tyt},write:{writer(t,e,i,n){eyt(t,e,this.source,n)}}}},Qq={readOnly:!0,json:{read:{source:["imageData","url"],reader(t,e,i){const n={};return e.imageData&&(n.imageData=e.imageData),e.contentType&&(n.contentType=e.contentType),e.url&&(n.url=Xq(e.url,i)),n}}}};function iyt(t){if(!t)return null;const{origin:e,layer:i}=t;if(e!=="service"&&e!=="portal-item")return null;const n=i?.type;return n==="feature"||n==="stream"?i.parsedUrl?.path:n==="map-image"||n==="tile"?t.url?.path:null}var A7;let Ss=A7=class extends w0{constructor(...t){super(...t),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(t,e,i,n){if(t&&typeof t!="string"&&t.imageData==null)return t;const a={};return t&&(a.url=t),e&&(a.outline=e),i!=null&&(a.width=fr(i)),n!=null&&(a.height=fr(n)),a}clone(){const t=new A7({color:Ht(this.color),height:this.height,outline:Ht(this.outline),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return t._set("source",Ht(this.source)),t}hash(){return`${super.hash()}.${this.color?.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};E([se({esriPFS:"picture-fill"},{readOnly:!0})],Ss.prototype,"type",void 0),E([N(Zq)],Ss.prototype,"url",void 0),E([N({type:Number,json:{write:!0}})],Ss.prototype,"xscale",void 0),E([N({type:Number,json:{write:!0}})],Ss.prototype,"yscale",void 0),E([N({type:Number,cast:fr,json:{write:!0}})],Ss.prototype,"width",void 0),E([N({type:Number,cast:fr,json:{write:!0}})],Ss.prototype,"height",void 0),E([N({type:Number,cast:fr,json:{write:!0}})],Ss.prototype,"xoffset",void 0),E([N({type:Number,cast:fr,json:{write:!0}})],Ss.prototype,"yoffset",void 0),E([N(Qq)],Ss.prototype,"source",void 0),Ss=A7=E([ut("esri.symbols.PictureFillSymbol")],Ss);let su=class extends Gr{constructor(e){super(e),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};E([N({type:Number,json:{read:t=>t&&-1*t,write:(t,e)=>e.angle=t&&-1*t}})],su.prototype,"angle",void 0),E([N({type:["simple-marker","picture-marker"],readOnly:!0})],su.prototype,"type",void 0),E([N({type:Number,cast:fr,json:{write:!0}})],su.prototype,"xoffset",void 0),E([N({type:Number,cast:fr,json:{write:!0}})],su.prototype,"yoffset",void 0),E([N({cast:t=>t==="auto"?t:no(fr(t)),json:{write:!0}})],su.prototype,"size",void 0),su=E([ut("esri.symbols.MarkerSymbol")],su);var R7;let Ts=R7=class extends su{constructor(...t){super(...t),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(t,e,i){if(t&&typeof t!="string"&&t.imageData==null)return t;const n={};return t&&(n.url=t),e!=null&&(n.width=fr(e)),i!=null&&(n.height=fr(i)),n}readHeight(t,e){return e.size||t}readWidth(t,e){return e.size||t}clone(){const t=new R7({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return t._set("source",Ht(this.source)),t}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};E([N({json:{write:!1}})],Ts.prototype,"color",void 0),E([se({esriPMS:"picture-marker"},{readOnly:!0})],Ts.prototype,"type",void 0),E([N(Zq)],Ts.prototype,"url",void 0),E([N(Qq)],Ts.prototype,"source",void 0),E([N({type:Number,cast:fr,json:{write:!0}})],Ts.prototype,"height",void 0),E([Ne("height",["height","size"])],Ts.prototype,"readHeight",null),E([N({type:Number,cast:fr,json:{write:!0}})],Ts.prototype,"width",void 0),E([N({json:{write:!1}})],Ts.prototype,"size",void 0),Ts=R7=E([ut("esri.symbols.PictureMarkerSymbol")],Ts);var Fh;const tH=me.ofType({base:null,key:"type",typeMap:{icon:$n,object:yn,text:nn}});let Ka=Fh=class extends Rs{constructor(t){super(t),this.verticalOffset=null,this.callout=null,this.symbolLayers=new tH,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const t of this.symbolLayers.items)switch(t.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return Vq(this)}hasVisibleVerticalOffset(){return ZE(this)}clone(){return new Fh({verticalOffset:Ht(this.verticalOffset),callout:Ht(this.callout),styleOrigin:Ht(this.styleOrigin),symbolLayers:Ht(this.symbolLayers),thumbnail:Ht(this.thumbnail)})}static fromSimpleMarkerSymbol(t){return new Fh({symbolLayers:new me([$n.fromSimpleMarkerSymbol(t)])})}static fromPictureMarkerSymbol(t){return new Fh({symbolLayers:new me([$n.fromPictureMarkerSymbol(t)])})}static fromCIMSymbol(t){if(t.data?.symbol?.type!=="CIMPointSymbol")return null;const i=t.data.symbol;return new Fh(i?.callout?{symbolLayers:new me([$n.fromCIMSymbol(t)]),callout:new nu({size:.5,color:new ni([0,0,0])}),verticalOffset:new Ec({screenLength:40})}:{symbolLayers:new me([$n.fromCIMSymbol(t)])})}static fromTextSymbol(t){return new Fh({symbolLayers:new me([nn.fromTextSymbol(t)])})}};E([N({type:Ec,json:{write:!0}})],Ka.prototype,"verticalOffset",void 0),E([N(Wq)],Ka.prototype,"callout",void 0),E([N({type:tH,json:{origins:{"web-scene":{write:!0}}}})],Ka.prototype,"symbolLayers",void 0),E([se({PointSymbol3D:"point-3d"},{readOnly:!0})],Ka.prototype,"type",void 0),Ka=Fh=E([ut("esri.symbols.PointSymbol3D")],Ka);var Qy;const eH=me.ofType({base:null,key:"type",typeMap:{extrude:iu,fill:eo,icon:$n,line:As,object:yn,text:nn,water:ru}});let Nc=Qy=class extends Rs{constructor(t){super(t),this.symbolLayers=new eH,this.type="polygon-3d"}initialize(){const t=e=>{e.type==="line"&&Fc(ae.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),e.type==="text"&&Fc(ae.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const e of this.symbolLayers)t(e);this.addHandles(If((()=>this.symbolLayers),"after-add",(({item:e})=>t(e)),Wc))}clone(){return new Qy({styleOrigin:Ht(this.styleOrigin),symbolLayers:Ht(this.symbolLayers),thumbnail:Ht(this.thumbnail)})}static fromJSON(t){const e=new Qy;if(e.read(t),e.symbolLayers.length===2&&e.symbolLayers.at(0).type==="fill"&&e.symbolLayers.at(1).type==="line"){const i=e.symbolLayers.at(0),n=e.symbolLayers.at(1);!n.enabled||t.symbolLayers?.[1]&&t.symbolLayers[1].enable===!1||(i.outline={size:n.size,color:n.material!=null?n.material.color:null}),e.symbolLayers.removeAt(1)}return e}static fromSimpleFillSymbol(t){return new Qy({symbolLayers:new me([eo.fromSimpleFillSymbol(t)])})}};E([N({type:eH,json:{write:!0}})],Nc.prototype,"symbolLayers",void 0),E([se({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],Nc.prototype,"type",void 0),Nc=Qy=E([ut("esri.symbols.PolygonSymbol3D")],Nc);var C7;const __=new wr({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let uu=C7=class extends w0{constructor(...t){super(...t),this.color=new ni([0,0,0,.25]),this.outline=new Vn,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(t,e,i){if(t&&typeof t!="string")return t;const n={};return t&&(n.style=t),e&&(n.outline=e),i&&(n.color=i),n}clone(){return new C7({color:Ht(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};E([N()],uu.prototype,"color",void 0),E([N()],uu.prototype,"outline",void 0),E([se({esriSFS:"simple-fill"},{readOnly:!0})],uu.prototype,"type",void 0),E([N({type:__.apiValues,json:{read:__.read,write:__.write}})],uu.prototype,"style",void 0),uu=C7=E([ut("esri.symbols.SimpleFillSymbol")],uu);var O7;const S_=new wr({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let to=O7=class extends su{constructor(...t){super(...t),this.color=new ni([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new Vn}normalizeCtorArgs(t,e,i,n){if(t&&typeof t!="string")return t;const a={};return t&&(a.style=t),e!=null&&(a.size=fr(e)),i&&(a.outline=i),n&&(a.color=n),a}writeColor(t,e){t&&this.style!=="x"&&this.style!=="cross"&&(e.color=t.toJSON()),t===null&&(e.color=null)}set path(t){this.style="path",this._set("path",t)}clone(){return new O7({angle:this.angle,color:Ht(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${this.outline?.hash()}`}};E([N()],to.prototype,"color",void 0),E([Pe("color")],to.prototype,"writeColor",null),E([se({esriSMS:"simple-marker"},{readOnly:!0})],to.prototype,"type",void 0),E([N()],to.prototype,"size",void 0),E([N({type:S_.apiValues,json:{read:S_.read,write:S_.write}})],to.prototype,"style",void 0),E([N({type:String,json:{write:!0}})],to.prototype,"path",null),E([N({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Vn}},json:{default:null,write:!0}})],to.prototype,"outline",void 0),to=O7=E([ut("esri.symbols.SimpleMarkerSymbol")],to);var $7;let Bi=$7=class extends Gr{constructor(...t){super(...t),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new Oo,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(t,e,i){if(t&&typeof t!="string")return t;const n={};return t&&(n.text=t),e&&(n.font=e),i&&(n.color=i),n}writeLineWidth(t,e,i,n){n&&typeof n!="string"?n.origin:e[i]=t}castLineWidth(t){return fr(t)}writeLineHeight(t,e,i,n){n&&typeof n!="string"?n.origin:e[i]=t}clone(){return new $7({angle:this.angle,backgroundColor:Ht(this.backgroundColor),borderLineColor:Ht(this.borderLineColor),borderLineSize:this.borderLineSize,color:Ht(this.color),font:this.font&&this.font.clone(),haloColor:Ht(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor?.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color?.hash()}.${this.font&&this.font.hash()}.${this.haloColor?.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};E([N({type:ni,json:{write:!0}})],Bi.prototype,"backgroundColor",void 0),E([N({type:ni,json:{write:!0}})],Bi.prototype,"borderLineColor",void 0),E([N({type:Number,json:{write:!0},cast:fr})],Bi.prototype,"borderLineSize",void 0),E([N({type:Oo,json:{write:!0}})],Bi.prototype,"font",void 0),E([N({...Gq,json:{write:!0}})],Bi.prototype,"horizontalAlignment",void 0),E([N({type:Boolean,json:{write:!0}})],Bi.prototype,"kerning",void 0),E([N({type:ni,json:{write:!0}})],Bi.prototype,"haloColor",void 0),E([N({type:Number,cast:fr,json:{write:!0}})],Bi.prototype,"haloSize",void 0),E([N({type:Boolean,json:{write:!0}})],Bi.prototype,"rightToLeft",void 0),E([N({type:Boolean,json:{write:!0}})],Bi.prototype,"rotated",void 0),E([N({type:String,json:{write:!0}})],Bi.prototype,"text",void 0),E([se({esriTS:"text"},{readOnly:!0})],Bi.prototype,"type",void 0),E([N({...qq,json:{write:!0}})],Bi.prototype,"verticalAlignment",void 0),E([N({type:Number,cast:fr,json:{write:!0}})],Bi.prototype,"xoffset",void 0),E([N({type:Number,cast:fr,json:{write:!0}})],Bi.prototype,"yoffset",void 0),E([N({type:Number,json:{read:t=>t&&-1*t,write:(t,e)=>e.angle=t&&-1*t}})],Bi.prototype,"angle",void 0),E([N({type:Number,json:{write:!0}})],Bi.prototype,"width",void 0),E([N({type:Number})],Bi.prototype,"lineWidth",void 0),E([Pe("lineWidth")],Bi.prototype,"writeLineWidth",null),E([on("lineWidth")],Bi.prototype,"castLineWidth",null),E([N(Bq)],Bi.prototype,"lineHeight",void 0),E([Pe("lineHeight")],Bi.prototype,"writeLineHeight",null),Bi=$7=E([ut("esri.symbols.TextSymbol")],Bi);var N7;let Es=N7=class extends Gr{constructor(t){super(t),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const t=this.portal!=null?this.portal:Jt.getDefault(),e=t.user?t.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${e}:${t.url}`}read(t,e){this.portal=e?.portal,super.read(t,e)}clone(){return new N7({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(t){return this._fetchSymbol(t)}async fetchCIMSymbol(t){zL(ae.getLogger(this),"WebStyleSymbol.fetchCIMSymbol is deprecated in favour of WebStyleSymbol.fetchSymbol which now supports both web and cim symbology",{version:"4.33",replacement:"WebStyleSymbol.fetchSymbol",see:"https://arcg.is/0CXPTr#fetchSymbol",warnOnce:!0});const e=await this._fetchSymbol({...t,acceptedFormats:["cim"]});if(e?.type!=="cim")throw new Lt("webstylesymbol:fetchCIMSymbol","Resolved web style symbol is not of type 'cim'");return e}async _fetchSymbol(t){const e=t!=null?t.cache:null,i=e?this._fetchCacheKey:null;if(e!=null){const y=i&&e.get(i);if(y)return y.clone()}const{resolveWebStyleSymbol:n}=await te(()=>import("./webStyleSymbolUtils-Bla59f4O.js"),__vite__mapDeps([34,35,36,37,38,39,40]));dr(t);const a=n(this,{portal:this.portal},t);a.catch((y=>{ae.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",y)}));const d=await a;return e?.set(i,d.clone()),d}};E([N({json:{write:!1}})],Es.prototype,"color",void 0),E([N({type:String,json:{write:!0}})],Es.prototype,"styleName",void 0),E([N({type:Jt,json:{write:!1}})],Es.prototype,"portal",void 0),E([N({type:String,json:{read:u5,write:mp}})],Es.prototype,"styleUrl",void 0),E([N({type:Lm,json:{read:!1}})],Es.prototype,"thumbnail",void 0),E([N({type:String,json:{write:!0}})],Es.prototype,"name",void 0),E([se({styleSymbolReference:"web-style"},{readOnly:!0})],Es.prototype,"type",void 0),E([N()],Es.prototype,"_fetchCacheKey",null),Es=N7=E([ut("esri.symbols.WebStyleSymbol")],Es);function XCt(t){if(!t)return!1;switch(t.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function ZCt(t){switch(t?.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const QE={base:Gr,key:"type",typeMap:{"simple-fill":uu,"picture-fill":Ss,"picture-marker":Ts,"simple-line":Vn,"simple-marker":to,text:Bi,"label-3d":Ja,"line-3d":$c,"mesh-3d":af,"point-3d":Ka,"polygon-3d":Nc,"web-style":Es,cim:$s},errorContext:"symbol"},QCt={base:Gr,key:"type",typeMap:{"picture-marker":Ts,"simple-marker":to,"point-3d":Ka,cim:$s},errorContext:"symbol"},tOt={base:Gr,key:"type",typeMap:{"simple-line":Vn,"line-3d":$c,cim:$s},errorContext:"symbol"},eOt={base:Gr,key:"type",typeMap:{"simple-fill":uu,"picture-fill":Ss,"polygon-3d":Nc,cim:$s},errorContext:"symbol"},iOt={base:Gr,key:"type",typeMap:{"picture-marker":Ts,"simple-marker":to,text:Bi,"web-style":Es,cim:$s},errorContext:"symbol"},rOt=TT({types:QE}),nOt={base:Gr,key:"type",typeMap:{"simple-fill":uu,"picture-fill":Ss,"picture-marker":Ts,"simple-line":Vn,"simple-marker":to,text:Bi,"line-3d":$c,"mesh-3d":af,"point-3d":Ka,"polygon-3d":Nc,"web-style":Es,cim:$s},errorContext:"symbol"},sOt={base:Gr,key:"type",typeMap:{text:Bi,"label-3d":Ja},errorContext:"symbol"},oOt={base:Gr,key:"type",typeMap:{"line-3d":$c,"mesh-3d":af,"point-3d":Ka,"polygon-3d":Nc,"web-style":Es,cim:$s},errorContext:"symbol"},aOt={base:Gr,key:"type",typeMap:{"label-3d":Ja},errorContext:"symbol"},lOt=qc(QE);var k7;function ryt(t){if(!t)return null;const e={};for(const i in t){const n=Yc(t[i]);n&&(e[i]=n)}return Object.keys(e).length!==0?e:null}function nyt(t){if(t==null)return null;const e={};for(const i in t){const n=t[i];n&&(e[i]=n.toJSON())}return Object.keys(e).length!==0?e:null}var Z0;let Ii=(Z0=class extends qr.ClonableMixin(Zt){constructor(e){super(e),this.isAggregate=!1,this.layer=null,this.origin=null,this.sourceLayer=null,this._version=0,Object.defineProperty(this,"uid",{value:M3(),configurable:!0}),Object.defineProperty(this,"_lastMeshTransform",{value:{},configurable:!0,writable:!0,enumerable:!1}),arguments.length>1&&ctt(ae.getLogger(this),"Graphic",{version:"4.30"})}initialize(){this._watchMeshGeometryChanges()}set aggregateGeometries(e){const i=this._get("aggregateGeometries");JSON.stringify(i)!==JSON.stringify(e)&&this._set("aggregateGeometries",e)}set attributes(e){const i=this._get("attributes");i!==e&&(this._set("attributes",e),this._notifyLayer("attributes",i,e))}set geometry(e){const i=this._get("geometry");i!==e&&(this._set("geometry",e),e?.type!=="mesh"&&this._notifyLayer("geometry",i,e))}set popupTemplate(e){const i=this._get("popupTemplate");i!==e&&(this._set("popupTemplate",e),this._notifyLayer("popupTemplate",i,e))}set symbol(e){const i=this._get("symbol");i!==e&&(this._set("symbol",e),this._notifyLayer("symbol",i,e))}get version(){return this._version}set visible(e){const i=this._get("visible");i!==e&&(this._set("visible",e),this._notifyLayer("visible",i,e))}cloneShallow(){return new k7({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible,origin:this.origin})}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;const i=this.origin&&"layer"in this.origin?this.origin.layer:null;for(const n of[i,this.sourceLayer,this.layer])if(n){if("popupTemplate"in n&&n.popupTemplate)return n.popupTemplate;if(e&&"defaultPopupTemplate"in n&&n.defaultPopupTemplate!=null)return n.defaultPopupTemplate}return null}getAttribute(e){return this.attributes?.[e]}setAttribute(e,i){if(this.attributes){const n=this.getAttribute(e);this.attributes[e]=i,this._notifyLayer("attributes",n,i,e)}else this.attributes={[e]:i}}getObjectId(){const e=this.sourceLayer??this.layer;return e?t1t(this,e):null}getGlobalId(){const e=this.sourceLayer??this.layer;return e&&"globalIdField"in e&&e.globalIdField?this.getAttribute(e.globalIdField):null}toJSON(){return{aggregateGeometries:nyt(this.aggregateGeometries),geometry:this.geometry!=null?this.geometry.toJSON():null,symbol:this.symbol!=null?this.symbol.toJSON():null,attributes:qb(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:this.popupTemplate?.toJSON()??null}}notifyMeshTransformChanged(e={}){const{geometry:i}=this;if(i?.type==="mesh"){const n={origin:i.origin,transform:i.transform};this._notifyLayer("origin-transform",n,n,e.action)}}_notifyLayer(e,i,n,a){if(this._version++,!this.layer||!("graphicChanged"in this.layer))return;const d={graphic:this,property:e,oldValue:i,newValue:n};e==="origin-transform"&&(d.action=a),e==="attributes"&&(d.attributeName=a),this.layer.graphicChanged(d)}_watchMeshGeometryChanges(){this.addHandles([Ho((()=>this.geometry?.type==="mesh"&&this.geometry.vertexSpace.origin?{localMatrix:this.geometry.transform?.localMatrix,origin:this.geometry.vertexSpace.origin}:void 0),(({localMatrix:e,origin:i})=>{this._lastMeshTransform.localMatrix===e&&this._lastMeshTransform.origin===i||(this._lastMeshTransform.localMatrix=e,this._lastMeshTransform.origin=i,this.notifyMeshTransformChanged())})),Ho((()=>this.geometry?.type==="mesh"?{vertexAttributes:this.geometry.vertexAttributes}:void 0),(()=>{const e=this.geometry;e?.type==="mesh"&&e.vertexSpace.origin?(this._lastMeshTransform.localMatrix=e.transform?.localMatrix,this._lastMeshTransform.origin=e.vertexSpace.origin):(this._lastMeshTransform.localMatrix=void 0,this._lastMeshTransform.origin=void 0),this._notifyLayer("geometry",this.geometry,this.geometry)}),{equals:(e,i)=>e===i,sync:!0})])}},k7=Z0,Z0);E([N({value:null,json:{read:ryt}})],Ii.prototype,"aggregateGeometries",null),E([N({value:null})],Ii.prototype,"attributes",null),E([N({value:null,types:av,json:{read:Yc}})],Ii.prototype,"geometry",null),E([N({type:Boolean})],Ii.prototype,"isAggregate",void 0),E([N({clonable:!1})],Ii.prototype,"layer",void 0),E([N({clonable:"reference"})],Ii.prototype,"origin",void 0),E([N({type:gpt,value:null})],Ii.prototype,"popupTemplate",null),E([N({clonable:"reference"})],Ii.prototype,"sourceLayer",void 0),E([N({value:null,types:QE})],Ii.prototype,"symbol",null),E([N({clonable:!1,json:{read:!1,write:!1}})],Ii.prototype,"_version",void 0),E([N({type:Boolean,value:!0})],Ii.prototype,"visible",null),Ii=k7=E([ut("esri.Graphic")],Ii);const syt=t=>new Ii({attributes:{id:"route-direction"},geometry:t,symbol:new Vn({color:[0,76,153,1],width:6})});var uOt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oyt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ayt(t,e){for(var i=0;i<e.length;i++){const n=e[i];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const d=Object.getOwnPropertyDescriptor(n,a);d&&Object.defineProperty(t,a,d.get?d:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var Nk,kk={exports:{}};function lyt(){return Nk||(Nk=1,(function(t){function e(){function n(c){if(typeof c=="number")return Q.Tc.Zg(c);if(c==null)return null;if(ds[c]!=null)return Q.Tc.Zg(ds[c]);throw Error("Unrecognised Unit Type")}function a(c){if(typeof c=="number")return Q.Tc.Zg(c);if(c==null)return null;if(Wi[c]!=null)return Q.Tc.Zg(Wi[c]);throw Error("Unrecognised Unit Type")}function d(c){if(c)switch(c){case"loxodrome":return 1;case"great-elliptic":return 2;case"normal-section":return 3;case"shape-preserving":return 4}return 0}function y(c,I,w,u){if(w==null||w.B())return null;switch(w.getType()){case Q.qn.Point:return c.exportPoint(I,w,u);case Q.qn.Polygon:return c.exportPolygon(I,w,u);case Q.qn.Polyline:return c.exportPolyline(I,w,u);case Q.qn.MultiPoint:return c.exportMultipoint(I,w,u);case Q.qn.Envelope:return c.exportExtent(I,w,u)}return null}function b(c,I,w,u){if(w.getType()!==Q.qn.Point)throw Error("Geometry not Point");return c.exportPoint(I,w,u)}function S(c,I,w){return c.convertToGEGeometry(I,w)}function T(c){var I=c.wkid;c=c.wkt2||c.wkt;var w=Ri.get(I||c);return w==null&&(I!==-1&&I!=null?(w=Q.Eg.create(I),Ri.set(I,w)):c&&(w=Q.Eg.qP(c),Ri.set(c,w)),In.has(I||c)&&w.VW(In.get(I||c))),w}function C(c){var I,w,u;if(c==null)return null;var o=T(c);return c=o.Hd(),o=o.Kn(),(I={}).tolerance=o,I.unitType=c==null?-1:c.od,I.unitID=c==null?-1:c.Ec(),I.unitBaseFactor=c==null?0:c.ai,I.unitSquareDerivative=c==null?0:(u=(w=Q.Tc.aG(c))===null||w===void 0?void 0:w.Ec())!==null&&u!==void 0?u:0,I}function k(c,I,w,u){return w==null?null:(w=Q.$b.clip(S(c,Gt,w),S(c,Gt,u),T(I)),y(c,Gt,w,I))}function D(c,I,w,u){w=Q.$b.dl(S(c,Gt,w),S(c,Gt,u),T(I)),u=[];for(var o=0;o<w.length;o++)u.push(y(c,Gt,w[o],I));return u}function z(c,I,w,u){if(w==null||u==null)throw Error("Illegal Argument Exception");return Q.$b.contains(S(c,Gt,w),S(c,Gt,u),T(I))}function G(c,I,w,u){if(w==null||u==null)throw Error("Illegal Argument Exception");return Q.$b.BP(S(c,Gt,w),S(c,Gt,u),T(I))}function B(c,I,w,u,o){if(w==null||u==null)throw Error("Illegal Argument Exception");return Q.$b.tb(S(c,Gt,w),S(c,Gt,u),T(I),n(o))}function H(c,I,w,u){return!(w==null&&u!=null||u==null&&w!=null)&&Q.$b.Nb(S(c,Gt,w),S(c,Gt,u),T(I))}function X(c,I,w,u){if(w==null||u==null)throw Error("Illegal Argument Exception");return Q.$b.TS(S(c,Gt,w),S(c,Gt,u),T(I))}function et(c,I,w,u){if(w==null||u==null)throw Error("Illegal Argument Exception");return Q.$b.touches(S(c,Gt,w),S(c,Gt,u),T(I))}function rt(c,I,w,u){if(w==null||u==null)throw Error("Illegal Argument Exception");return Q.$b.qY(S(c,Gt,w),S(c,Gt,u),T(I))}function it(c,I,w,u){if(w==null||u==null)throw Error("Illegal Argument Exception");return Q.$b.TP(S(c,Gt,w),S(c,Gt,u),T(I))}function ot(c,I,w,u){if(w==null||u==null)throw Error("Illegal Argument Exception");return Q.$b.DU(S(c,Gt,w),S(c,Gt,u),T(I))}function pt(c,I,w,u,o){if(w==null||u==null)throw Error("Illegal Argument Exception");return Q.$b.yB(S(c,Gt,w),S(c,Gt,u),T(I),o)}function yt(c,I,w){if(w==null)throw Error("Illegal Argument Exception");return Q.$b.dT(S(c,Gt,w),T(I))}function ft(c,I,w){if(w==null)throw Error("Illegal Argument Exception");return w=Q.$b.eC(S(c,Gt,w),T(I)),y(c,Gt,w,I)}function vt(c,I,w,u){if(u===void 0&&(u=!1),w==null)throw Error("Illegal Argument Exception");if(Array.isArray(w)){var o=u,r=[];for(u=0;u<w.length;u++)r.push(S(c,Gt,w[u]));for(w=Q.$b.jP(r,o),o=Array(w.length),u=0;u<w.length;u++)o[u]=y(c,Gt,w[u],I);return o}return u=Q.$b.iP(S(c,Gt,w),T(I)),y(c,Gt,u,I)}function Ct(c,I,w,u){if(w==null||u==null)throw Error("Illegal Argument Exception");if(Array.isArray(w)){for(var o=[],r=0;r<w.length;r++)o.push(S(c,Gt,w[r]));for(w=Q.$b.QP(o,S(c,Gt,u),T(I)),u=Array(w.length),r=0;r<w.length;r++)u[r]=y(c,Gt,w[r],I);return u}return r=Q.$b.im(S(c,Gt,w),S(c,Gt,u),T(I)),y(c,Gt,r,I)}function Dt(c,I,w,u){if(w==null||u==null)throw Error("Illegal Argument Exception");if(Array.isArray(w)){for(var o=[],r=0;r<w.length;r++)o.push(S(c,Gt,w[r]));for(w=Q.$b.VX(o,S(c,Gt,u),T(I)),u=Array(w.length),r=0;r<w.length;r++)u[r]=y(c,Gt,w[r],I);return u}return r=Q.$b.ep(S(c,Gt,w),S(c,Gt,u),T(I)),y(c,Gt,r,I)}function zt(c,I,w,u){if(w==null||u==null)throw Error("Illegal Argument Exception");if(Array.isArray(w)){for(var o=[],r=0;r<w.length;r++)o.push(S(c,Gt,w[r]));for(w=Q.$b.RS(o,S(c,Gt,u),T(I)),u=Array(w.length),r=0;r<w.length;r++)u[r]=y(c,Gt,w[r],I);return u}return r=Q.$b.Ea(S(c,Gt,w),S(c,Gt,u),T(I)),y(c,Gt,r,I)}function Wt(c,I,w,u){if(w==null)return null;var o=[];if(Array.isArray(w)){if(w.length===0)return null;for(u=0;u<w.length;u++)o.push(S(c,Gt,w[u]))}else o.push(S(c,Gt,w)),u!=null&&o.push(S(c,Gt,u));return y(c,Gt,Q.$b.jY(o,T(I)),I)}function Xt(c,I,w,u,o,r,s,l){var h=0;if(r!=null)switch(r){case"round":h=0;break;case"bevel":h=1;break;case"miter":h=2;break;case"square":h=3}if(Array.isArray(w)){if(w==null)c=null;else if(w.length===0)c=[];else{var f=[];for(r=0;r<w.length;r++)f.push(S(c,Gt,w[r]));for(w=Q.$b.BU(f,T(I),u,h,s,l,n(o)),u=Array(w.length),r=0;r<w.length;r++)u[r]=y(c,Gt,w[r],I);c=u}return c}return w=Q.$b.offset(S(c,Gt,w),T(I),u,h,s,l,n(o)),y(c,Gt,w,I)}function re(c,I,w,u,o,r){if(r===void 0&&(r=!1),Array.isArray(w)){if(!Array.isArray(u)){for(var s=[],l=0;l<w.length;l++)s.push(u);u=s}if(u.length!=w.length){if(u.length==0)throw Error("Illegal Argument Exception");s=[];var h=0;for(l=0;l<w.length;l++)u[l]===void 0?s.push(h):(s.push(u[l]),h=u[l]);u=s}return It(c,I,w,u,o,!1,r,"geodesic",NaN)}return w=Q.$b.buffer(S(c,Gt,w),T(I),u,n(o),!1,0,NaN),y(c,Gt,w,I)}function _t(c,I,w,u,o,r,s,l){if(Array.isArray(w)){if(!Array.isArray(u)){for(var h=[],f=0;f<w.length;f++)h.push(u);u=h}if(u.length!==w.length){if(u.length===0)throw Error("Illegal Argument Exception");h=[];var p=0;for(f=0;f<w.length;f++)u[f]===void 0?h.push(p):(h.push(u[f]),p=u[f]);u=h}return It(c,I,w,u,o,!0,r,s,l)}return s===void 0&&(s=NaN),w=Q.$b.buffer(S(c,Gt,w),T(I),u,n(o),!0,d(r),s),y(c,Gt,w,I)}function It(c,I,w,u,o,r,s,l,h){if(h===void 0&&(h=NaN),w==null)return null;if(w.length===0)return[];for(var f=[],p=0;p<w.length;p++)f.push(S(c,Gt,w[p]));for(w=Q.$b.MN(f,T(I),u,n(o),r,s,d(l),h),u=Array(w.length),p=0;p<w.length;p++)u[p]=y(c,Gt,w[p],I);return u}function $t(c,I,w,u,o){var r;return o===void 0&&(o=!0),w=Q.$b.nz(S(c,Gt,w),S(c,Gt,u),o),(r={}).coordinate=b(c,Gt,w.fz(),I),r.distance=w.hz(),r.isRightSide=w.Sz(),r.vertexIndex=w.Ua(),r.isEmpty=w.B(),r}function ge(c,I,w,u){var o;return w=Q.$b.oz(S(c,Gt,w),S(c,Gt,u)),(o={}).coordinate=b(c,Gt,w.fz(),I),o.distance=w.hz(),o.isRightSide=w.Sz(),o.vertexIndex=w.Ua(),o.isEmpty=w.B(),o}function dt(c,I,w,u,o,r){var s;for(w=Q.$b.pz(S(c,Gt,w),S(c,Gt,u),o,r),u=[],o=0;o<w.length;o++)w[o].B()===!1&&u.push(((s={}).coordinate=b(c,Gt,w[o].fz(),I),s.distance=w[o].hz(),s.isRightSide=w[o].Sz(),s.vertexIndex=w[o].Ua(),s.isEmpty=w[o].B(),s));return u}function Ft(c,I,w,u,o,r){return w=Q.$b.QQ(S(c,Gt,w),T(I),u,o,n(r)),y(c,Gt,w,I)}function Kt(c,I,w,u,o){return w=Q.$b.Qr(S(c,Gt,w),T(I),u,n(o)),y(c,Gt,w,I)}function Vt(c,I,w,u,o,r){return r===void 0&&(r=0),w=Q.$b.Wy(S(c,Gt,w),T(I),u,n(o),r),y(c,Gt,w,I)}function ie(c,I,w,u){if(w==null)throw Error("Illegal Argument Exception");return Q.$b.JU(S(c,Gt,w),T(I),a(u))}function Oe(c,I,w,u){if(w==null)throw Error("Illegal Argument Exception");return Q.$b.KU(S(c,Gt,w),T(I),n(u))}function ce(c,I,w,u,o){if(w==null)throw Error("Illegal Argument Exception");return Q.$b.WQ(S(c,Gt,w),T(I),a(u),d(o))}function je(c,I,w,u,o){if(w==null)throw Error("Illegal Argument Exception");return Q.$b.ZQ(S(c,Gt,w),T(I),n(u),d(o))}function ze(c){Q.NL.bind(c)}function Si(c,I,w,u,o){var r=null,s=null;if(u){if(!o)throw Q.i.N("AOI missing Spatial Reference");r=S(c,Gt,u),s=T(o).fh()}return(c=Q.gu.XR(T(I).fh(),T(w).fh(),r,s))!==null?c:null}function Ge(c,I,w,u,o){var r=null,s=null;if(u){if(!o)throw Q.i.N("AOI missing Spatial Reference");r=S(c,Gt,u),s=T(o).fh()}return Q.gu.YR(T(I).fh(),T(w).fh(),r,s)}function Qi(c,I,w,u,o,r){if(o===void 0&&(o=null),r===void 0&&(r=null),r){var s=new Q.yC;s.Vu=r.densificationStep,s.Jr=r.centralMeridianOfOutputGCS,r.clipWithInputHorizon&&s.PW(r.clipWithInputHorizon),r.clipWithOutputHorizon&&s.QW(r.clipWithOutputHorizon)}if(this.KY===!1)throw Error("Projection Engine must be enabled using enableProjection");if(I.length===0)return[];if(o){if(!(r=o.getCachedGeTransformation(w,u)))t:{if(r=o,o=null,r){var l=r.getGTListEntry();if(l!==null){o=new Q.wC(null);for(var h=0,f=l.steps;h<f.length;h++){l=f[h];var p=new Q.Dx(l.geogtran);l.isInverse&&p.Qz(),o.add(p)}s=Q.vr.Nr(T(w).fh(),T(u).fh(),o,s),r.assignCachedGe(w,u,s),r=s;break t}}if(o===null&&r&&r.steps&&0<r.steps.length){for(o=new Q.wC(null),h=0,f=r.steps;h<f.length;h++)(l=f[h]).wkid!=-1&&l.wkid!=null?o.add(Q.Dx.create(l.wkid,l.isInverse)):o.add(Q.Dx.uP(l.wkt,l.isInverse));s=Q.vr.Nr(T(w).fh(),T(u).fh(),o,s),r.assignCachedGe(w,u,s),r=s}else r=Q.vr.Nr(T(w).fh(),T(u).fh(),o,s)}for(w=[],o=0;o<I.length;o++)s=I[o],w.push(Vi(c,s,u,r))}else for(r=Q.vr.Nr(T(w).fh(),T(u).fh(),null),w=[],o=0;o<I.length;o++)s=I[o],w.push(Vi(c,s,u,r));return w}function Vi(c,I,w,u){return I=Q.$b.zh(S(c,Gt,I),u),y(c,Gt,I,w)}function xn(c,I){c!=null&&(c=c.wkid||c.wkt2||c.wkt,In.has(c),In.set(c,I),Ri.has(c)&&Ri.delete(c))}function we(c){c!=null&&(c=c.wkid||c.wkt2||c.wkt,In.has(c)&&(In.delete(c),Ri.has(c)&&Ri.delete(c)))}function ts(c,I,w,u){if(w==null||u==null)return[];var o=[],r=0;for(w=Q.$b.QS(S(c,Gt,w),S(c,Gt,u),T(I))||[];r<w.length;r++)o.push(y(c,Gt,w[r],I));return o}var bi,Q,pr,fs,Me=this&&this.__extends||(function(){function c(I,w){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,o){u.__proto__=o}||function(u,o){for(var r in o)o.hasOwnProperty(r)&&(u[r]=o[r])})(I,w)}return function(I,w){function u(){this.constructor=I}c(I,w),I.prototype=w===null?Object.create(w):(u.prototype=w.prototype,new u)}})();(function(c){var I;(I=c.qn||(c.qn={}))[I.Unknown=0]="Unknown",I[I.Point=33]="Point",I[I.Line=322]="Line",I[I.Envelope=197]="Envelope",I[I.MultiPoint=550]="MultiPoint",I[I.Polyline=1607]="Polyline",I[I.Polygon=1736]="Polygon",(function(u){u[u.enumMild=0]="enumMild",u[u.enumMedium=1]="enumMedium",u[u.enumHot=2]="enumHot"})(c.YK||(c.YK={}));var w=(function(){function u(){this.description=null,this.VA=0}return u.prototype.getType=function(){return 0},u.prototype.Db=function(){return-1},u.prototype.Nf=function(o){this.vc(),o!=this.description&&this.sn(o)},u.prototype.sn=function(){},u.prototype.Jl=function(o){this.vc(),o!=this.description&&(o=c.ee.CR(this.description,o))!=this.description&&this.sn(o)},u.prototype.hasAttribute=function(o){return this.description.hasAttribute(o)},u.prototype.re=function(o){this.vc(),this.description.hasAttribute(o)||(o=c.ee.BR(this.description,o),this.sn(o))},u.prototype.Tg=function(){return null},u.prototype.bn=function(){},u.prototype.A=function(){},u.prototype.Qo=function(){},u.prototype.xc=function(o){this.A(o)},u.prototype.B=function(){return!0},u.prototype.Oa=function(){},u.prototype.Oc=function(){},u.prototype.Ia=function(){return null},u.prototype.copyTo=function(){},u.prototype.Ke=function(){return 0},u.prototype.Qb=function(){return 0},u.prototype.iG=function(){return this.hasAttribute(1)},u.tf=function(o){return 1+((192&o)>>6)>>1},u.Rn=function(o){return!!(32&o)},u.US=function(o){return!!(128&o)},u.yd=function(o){return!!(256&o)},u.xj=function(o){return!!(512&o)},u.Hc=function(o){return!!(1024&o)},u.prototype.Of=function(){var o=this.Ia();return this.copyTo(o),o},u.prototype.mg=function(){return null},u.jg=function(o){var r=o.Ia();return o.copyTo(r),r},u.prototype.vc=function(){0<=this.VA&&(this.VA+=2147483649)},u.Ax=function(o){var r=o.getType();if(u.xj(r))return o.I();if(o.B())return 0;if(r==197)return 4;if(r==33)return 1;if(u.yd(r))return 2;throw c.i.fa("missing type")},u})();c.aa=w})(Q||(Q={})),pr=Q||(Q={}),fs=(function(){function c(){this.y=this.x=0}return c.construct=function(I,w){var u=new c;return u.x=I,u.y=w,u},c.al=function(I){var w=new c;return w.x=I.x,w.y=I.y,w},c.prototype.ma=function(I,w){this.x=I,this.y=w},c.prototype.L=function(I){this.x=I.x,this.y=I.y},c.prototype.fq=function(I,w){return this.x===I&&this.y===w},c.prototype.Rz=function(I){return 2220446049250313e-31>=Math.abs(this.x-I.x)&&2220446049250313e-31>=Math.abs(this.y-I.y)},c.prototype.qb=function(I){return this.x===I.x&&this.y===I.y},c.prototype.Nb=function(I){return I==this||I instanceof c&&this.x==I.x&&this.y==I.y},c.prototype.sub=function(I){this.x-=I.x,this.y-=I.y},c.prototype.uc=function(I,w){this.x=I.x-w.x,this.y=I.y-w.y},c.prototype.add=function(I,w){w!==void 0?(this.x=I.x+w.x,this.y=I.y+w.y):(this.x+=I.x,this.y+=I.y)},c.prototype.Sq=function(){this.x=-this.x,this.y=-this.y},c.prototype.mt=function(I){this.x=-I.x,this.y=-I.y},c.prototype.NS=function(I,w,u){this.x=I.x*(1-u)+w.x*u,this.y=I.y*(1-u)+w.y*u},c.prototype.Ct=function(I,w){this.x=this.x*I+w.x,this.y=this.y*I+w.y},c.prototype.HW=function(I,w,u){this.x=w.x*I+u.x,this.y=w.y*I+u.y},c.prototype.scale=function(I){this.x*=I,this.y*=I},c.prototype.compare=function(I){return this.y<I.y?-1:this.y>I.y?1:this.x<I.x?-1:this.x>I.x?1:0},c.prototype.normalize=function(){var I=this.length();I==0&&(this.x=1,this.y=0),this.x/=I,this.y/=I},c.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},c.prototype.Sk=function(){return this.x*this.x+this.y*this.y},c.tb=function(I,w){return Math.sqrt(this.yc(I,w))},c.Oy=function(I,w,u,o){return I-=u,w-=o,Math.sqrt(I*I+w*w)},c.prototype.Qh=function(I){return this.x*I.x+this.y*I.y},c.prototype.fD=function(I){return Math.abs(this.x*I.x)+Math.abs(this.y*I.y)},c.prototype.wi=function(I){return this.x*I.y-this.y*I.x},c.prototype.Bt=function(I,w){var u=-this.x*w+this.y*I;this.x=this.x*I+this.y*w,this.y=u},c.prototype.Hv=function(){var I=this.x;this.x=-this.y,this.y=I},c.prototype.MG=function(I){this.x=-I.y,this.y=I.x},c.prototype.ar=function(){var I=this.x;this.x=this.y,this.y=-I},c.prototype.qu=function(){return 0<this.x?0<=this.y?1:4:0<this.y?2:this.x==0?4:3},c.nu=function(I,w){var u=I.qu(),o=w.qu();return o==u?0>(I=I.wi(w))?1:0<I?-1:0:u<o?-1:1},c.yc=function(I,w){var u=I.x-w.x;return u*u+(I=I.y-w.y)*I},c.prototype.toString=function(){return"("+this.x+" , "+this.y+")"},c.prototype.Rc=function(){this.y=this.x=NaN},c.prototype.isNaN=function(){return isNaN(this.x)||isNaN(this.y)},c.prototype.offset=function(I,w){var u=c.tb(I,w),o=c.construct(this.x,this.y);if(u==0)return c.tb(o,I);var r=new c;return r.L(w),r.sub(I),o.sub(I),o.wi(r)/u},c.Uq=function(I,w,u){var o=new pr.Wb;o.set(w.x),o.sub(I.x);var r=new pr.Wb;r.set(u.y),r.sub(I.y);var s=new pr.Wb;s.set(w.y),s.sub(I.y);var l=new pr.Wb;return l.set(u.x),l.sub(I.x),o.Ag(r),s.Ag(l),o.sub(s),o.ps()?(o=new pr.hp(w.x),r=new pr.hp(I.x),s=new pr.hp(I.y),o=o.jt(r),I=(I=new pr.hp(u.y)).jt(s),w=(w=new pr.hp(w.y)).jt(s),u=(u=new pr.hp(u.x)).jt(r),o=o.lr(I),w=w.lr(u),(o=o.lr(w)).nT()?-1:o.fS()?1:0):0>(u=o.value())?-1:0<u?1:0},c.prototype.cc=function(){return pr.O.uj(pr.O.uj())},c})(),pr.h=fs,(function(c){var I=(function(){function w(u){this.Fy=this.Mt=0,this.OX=u}return w.prototype.reset=function(){this.Fy=this.Mt=0},w.prototype.add=function(u){u-=this.Fy;var o=this.Mt+u;this.Fy=o-this.Mt-u,this.Mt=o},w.prototype.sub=function(u){this.add(-u)},w.prototype.rm=function(){return this.OX+this.Mt},w})();c.Fx=I,c.lc=(function(){function w(){}return w.Cn=function(u,o){return 0<=o?Math.abs(u):-Math.abs(u)},w.sign=function(u){return 0>u?-1:0<u?1:0},w.RK=function(u){return u-360*Math.floor(u/360)},w.round=function(u){return Math.floor(u+.5)},w.ox=function(u){return u*u},w.hq=function(u,o,r){return .5>=r?u+(o-u)*r:o-(o-u)*(1-r)},w.OG=function(u,o,r,s){.5>=r?(s.x=u.x+(o.x-u.x)*r,s.y=u.y+(o.y-u.y)*r):(s.x=o.x-(o.x-u.x)*(1-r),s.y=o.y-(o.y-u.y)*(1-r))},w.lT=function(u,o,r,s,l,h){.5>=l?(h.x=u+(r-u)*l,h.y=o+(s-o)*l):(h.x=r-(r-u)*(1-l),h.y=s-(s-o)*(1-l))},w})()})(Q||(Q={})),(function(c){var I=(function(w){function u(){var o=w.call(this)||this;return o.sa=0,o.na=0,o.pa=0,o.la=0,o.ka=null,o}return Me(u,w),u.prototype.ac=function(){return c.h.construct(this.sa,this.na)},u.prototype.Yp=function(o){o.x=this.sa,o.y=this.na},u.prototype.Dc=function(o){this.em(0,o)},u.prototype.ZB=function(o,r){this.em(0,c.h.construct(o,r))},u.prototype.To=function(o){this.hD(0,o)},u.prototype.setStart=function(o){this.uD(0,o)},u.prototype.wv=function(o,r){return this.Od(0,o,r)},u.prototype.YB=function(o,r,s){this.tn(0,o,r,s)},u.prototype.wc=function(){return c.h.construct(this.pa,this.la)},u.prototype.Tr=function(o){o.x=this.pa,o.y=this.la},u.prototype.Qc=function(o){this.em(1,o)},u.prototype.Ql=function(o,r){this.em(1,c.h.construct(o,r))},u.prototype.Po=function(o){this.hD(1,o)},u.prototype.setEnd=function(o){this.uD(1,o)},u.prototype.gv=function(o,r){return this.Od(1,o,r)},u.prototype.OB=function(o,r,s){this.tn(1,o,r,s)},u.prototype.Db=function(){return 1},u.prototype.B=function(){return this.Ac()},u.prototype.Oa=function(){},u.prototype.Ke=function(){return 0},u.prototype.Ea=function(o,r,s,l,h){return this.KM(o,r,s,l,h)},u.prototype.isIntersecting=function(o,r){return this.zr(o,r,!1)!=0},u.prototype.qs=function(o,r){return this.ru(o,r,!1)},u.prototype.ru=function(){return null},u.prototype.Ac=function(){return!1},u.prototype.ay=function(o){if(this.vc(),this.ka==null&&0<o)this.ka=c.O.lg(2*o);else if(this.ka!=null&&this.ka.length<2*o){for(var r=this.ka.slice(0),s=this.ka.length;s<2*o;s++)r[s]=0;this.ka=r}},u.gM=function(o,r,s){if(0<s)var l=0;for(var h=0;h<s;h++)r[0+l]=o[0],l++},u.prototype.em=function(o,r){o!=0?(this.pa=r.x,this.la=r.y):(this.sa=r.x,this.na=r.y)},u.prototype.sn=function(o){if(this.ka!=null){for(var r=c.ee.Iw(o,this.description),s=[],l=u.Gg(this.description,0),h=u.Gg(this.description,1),f=u.Gg(o,0),p=u.Gg(o,1),g=0,_=1,M=o.Aa;_<M;_++){var R=o.kd(_),$=c.ra.Va(R);if(r[_]==-1){var P=c.ra.se(R);for(R=0;R<$;R++)s[f+g]=P,s[p+g]=P,g++}else for(P=this.description.$j(r[_])-2,R=0;R<$;R++)s[f+g]=this.ka[l+P],s[p+g]=this.ka[h+P],g++,P++}this.ka=s}this.description=o},u.prototype.hD=function(o,r){if(this.Ac())throw c.i.fa("empty geometry");r.Nf(this.description),r.Ac()&&r.un();for(var s=0;s<this.description.Aa;s++)for(var l=this.description.Ed(s),h=0,f=c.ra.Va(l);h<f;h++){var p=this.Od(o,l,h);r.setAttribute(l,h,p)}},u.prototype.uD=function(o,r){if(this.vc(),r.Ac())throw c.i.fa("empty geometry");for(var s=r.description,l=0,h=s.Aa;l<h;l++)for(var f=s.Ed(l),p=c.ra.Va(f),g=0;g<p;g++){var _=r.Uc(f,g);this.tn(o,f,g,_)}},u.prototype.Od=function(o,r,s){if(this.Ac())throw c.i.fa("This operation was performed on an Empty Geometry.");if(r==0)return o!=0?s!=0?this.la:this.pa:s!=0?this.na:this.sa;if(s>=c.ra.Va(r))throw c.i.ce();var l=this.description.Pf(r);return 0<=l?(this.ka!=null&&this.ay(this.description.Ae.length-2),this.ka[u.Gg(this.description,o)+this.description.$j(l)-2+s]):c.ra.se(r)},u.prototype.tn=function(o,r,s,l){if(this.vc(),s>=c.ra.Va(r))throw c.i.ce();var h=this.description.Pf(r);0>h&&(this.re(r),h=this.description.Pf(r)),r==0?o!=0?s!=0?this.la=l:this.pa=l:s!=0?this.na=l:this.sa=l:(this.ka==null&&this.ay(this.description.Ae.length-2),this.ka[u.Gg(this.description,o)+this.description.$j(h)-2+s]=l)},u.prototype.copyTo=function(o){if(o.getType()!=this.getType())throw c.i.N();o.description=this.description,o.ay(this.description.Ae.length-2),u.gM(this.ka,o.ka,2*(this.description.Ae.length-2)),o.sa=this.sa,o.na=this.na,o.pa=this.pa,o.la=this.la,o.vc(),this.op(o)},u.prototype.Tg=function(o,r){var s=new c.Nc;return this.Ac()?(s.Oa(),s):(s.oa=this.Od(0,o,r),s.va=s.oa,s.Lk(this.Od(1,o,r)),s)},u.prototype.ZI=function(o){this.Ac()?o.Oa():(o.oa=this.Od(0,0,0),o.va=o.oa,o.Lk(this.Od(1,0,0)))},u.prototype.Tw=function(o,r){r.Nf(this.description),r.Cb(this.hc(o));for(var s=1,l=this.description.Aa;s<l;s++)for(var h=this.description.Ed(s),f=c.ra.Va(h),p=0;p<f;p++){var g=this.Uc(o,h,p);r.setAttribute(h,p,g)}},u.prototype.FM=function(o){if(this.description!=o.description||this.sa!=o.sa||this.pa!=o.pa||this.na!=o.na||this.la!=o.la)return!1;for(var r=0;r<2*(this.description.Ae.length-2);r++)if(this.ka[r]!=o.ka[r])return!1;return!0},u.prototype.BG=function(){return this.sa==this.pa&&this.na==this.la},u.prototype.reverse=function(){var o=this.sa;this.sa=this.pa,this.pa=o,o=this.na,this.na=this.la,this.la=o,o=1;for(var r=this.description.Aa;o<r;o++)for(var s=this.description.kd(o),l=0,h=c.ra.Va(s);l<h;l++){var f=this.Od(0,s,l),p=this.Od(1,s,l);this.tn(0,s,l,p),this.tn(1,s,l,f)}},u.prototype.zr=function(o,r,s){var l=this.getType(),h=o.getType();if(l===322){if(h==322)return c.yb.OM(this,o,r,s);throw c.i.Qa()}throw c.i.Qa()},u.prototype.KM=function(o,r,s,l,h){var f=this.getType(),p=o.getType();if(f===322){if(p==322)return c.yb.Zx(this,o,r,s,l,h);throw c.i.Qa()}throw c.i.Qa()},u.prototype.Tx=function(){return null},u.Gg=function(o,r){return r*(o.Ae.length-2)},u.prototype.hc=function(o,r){if(r===void 0)return r=new c.h,this.hc(o,r),r;c.lc.lT(this.sa,this.na,this.pa,this.la,o,r)},u.prototype.fe=function(){return null},u.prototype.eG=function(){return null},u.prototype.cq=function(){return null},u.prototype.Bi=function(){return null},u.prototype.Pn=function(){return null},u.prototype.kg=function(){return null},u.prototype.Ux=function(o,r){return r!==void 0?this.vx(r)-this.vx(o):this.vx(o)},u.prototype.op=function(){},u.prototype.dl=function(){return null},u.prototype.ah=function(){},u.prototype.Uc=function(){return null},u.prototype.Pe=function(){return null},u.prototype.vx=function(){return null},u.prototype.NG=function(){return null},u.prototype.tb=function(o,r){if(!r&&this.zr(o,0,!1)!=0)return 0;r=17976931348623157e292;var s=this.ac(),l=o.fe(s,!1);return s.sub(o.hc(l)),(s=s.length())<r&&(r=s),s=this.wc(),l=o.fe(s,!1),s.sub(o.hc(l)),(s=s.length())<r&&(r=s),s=o.ac(),l=this.fe(s,!1),s.sub(this.hc(l)),(s=s.length())<r&&(r=s),s=o.wc(),l=this.fe(s,!1),s.sub(this.hc(l)),(s=s.length())<r&&(r=s),r},u.prototype.mg=function(){return c.pi.gm(this,null)},u})(c.aa);c.SC=I})(Q||(Q={})),new Q.h,(function(c){var I;(I=c.$K||(c.$K={}))[I.Unknown=-1]="Unknown",I[I.Not=0]="Not",I[I.Weak=1]="Weak",I[I.Strong=2]="Strong",(function(u){u[u.DirtyIsKnownSimple=1]="DirtyIsKnownSimple",u[u.IsWeakSimple=2]="IsWeakSimple",u[u.IsStrongSimple=4]="IsStrongSimple",u[u.DirtyOGCFlags=8]="DirtyOGCFlags",u[u.DirtyVerifiedStreams=32]="DirtyVerifiedStreams",u[u.DirtyExactIntervals=64]="DirtyExactIntervals",u[u.DirtyLooseIntervals=128]="DirtyLooseIntervals",u[u.DirtyIntervals=192]="DirtyIntervals",u[u.DirtyIsEnvelope=256]="DirtyIsEnvelope",u[u.DirtyLength2D=512]="DirtyLength2D",u[u.DirtyRingAreas2D=1024]="DirtyRingAreas2D",u[u.DirtyCoordinates=1993]="DirtyCoordinates",u[u.DirtyAllInternal=65535]="DirtyAllInternal",u[u.DirtyAll=16777215]="DirtyAll"})(c.MK||(c.MK={}));var w=(function(u){function o(){var r=u.call(this)||this;return r.Hm=65535,r.wa=0,r.Pg=-1,r.Bb=null,r}return Me(o,u),o.prototype.op=function(){},o.prototype.$x=function(){},o.prototype.iy=function(){},o.prototype.I=function(){return this.wa},o.prototype.B=function(){return this.Ac()},o.prototype.Ac=function(){return this.wa==0},o.prototype.ak=function(r){return(this.Hm&r)!=0},o.prototype.Lf=function(r,s){this.Hm=s?this.Hm|r:this.Hm&~r},o.prototype.mc=function(){this.ak(32)&&this.bN()},o.prototype.wx=function(){if(this.Ac())throw c.i.fa("This operation was performed on an Empty Geometry.")},o.prototype.ve=function(r,s){if(0>r||r>=this.wa)throw c.i.fa("index out of bounds");this.mc(),s.Nf(this.description),s.B()&&s.un();for(var l=0;l<this.description.Aa;l++)for(var h=this.description.Ed(l),f=0,p=c.ra.Va(h);f<p;f++){var g=this.za[l].eg(p*r+f);s.setAttribute(h,f,g)}},o.prototype.Ht=function(r,s){this.mc();for(var l=s.description,h=0;h<l.Aa;h++)for(var f=l.Ed(h),p=c.ra.Va(f),g=0;g<p;g++){var _=s.Uc(f,g);this.setAttribute(f,r,g,_)}},o.prototype.D=function(r,s){if(0>r||r>=this.I())throw c.i.ce();this.mc(),this.za[0].tc(2*r,s)},o.prototype.Na=function(r){var s=new c.h;return this.D(r,s),s},o.prototype.Gc=function(r,s){this.za[0].tc(2*r,s)},o.prototype.Cb=function(r,s,l){if(0>r||r>=this.wa)throw c.i.ce();this.mc();var h=this.za[0];l!==void 0?(h.write(2*r,s),h.write(2*r+1,l)):h.Tt(2*r,s),this.Pc(1993)},o.prototype.Cz=function(){if(void 0>=this.I())throw c.i.ce();this.mc();var r=this.za[0],s=new c.Nd;return s.x=r.read(NaN),s.y=r.read(NaN),s.z=this.hasAttribute(1)?this.za[1].eg():c.ra.se(1),s},o.prototype.dC=function(r){if(0>r||r>=this.I())throw c.i.ce();this.re(1),this.mc(),this.Pc(1993);var s=this.za[0];s.write(2*r,(void 0).x),s.write(2*r+1,(void 0).y),this.za[1].pr(r,(void 0).z)},o.prototype.Uc=function(r,s,l){if(0>s||s>=this.wa)throw c.i.ce();var h=c.ra.Va(r);if(l>=h)throw c.i.ce();this.mc();var f=this.description.Pf(r);return 0<=f?this.za[f].eg(s*h+l):c.ra.se(r)},o.prototype.yF=function(r,s){return this.Uc(r,s)},o.prototype.setAttribute=function(r,s,l,h){if(0>s||s>=this.wa)throw c.i.ce();var f=c.ra.Va(r);if(l>=f)throw c.i.ce();this.re(r),this.mc(),r=this.description.Pf(r),this.Pc(1993),this.za[r].pr(s*f+l,h)},o.prototype.ub=function(r){return this.wx(),this.re(r),this.mc(),this.za[this.description.Pf(r)]},o.prototype.hn=function(r,s){if(s!=null&&c.ra.Tp(r)!=s.Tp())throw c.i.N();this.re(r),r=this.description.Pf(r),this.za==null&&(this.za=c.Yc.qI(this.description.Aa)),this.za[r]=s,this.Pc(16777215)},o.prototype.sn=function(r){var s=null;if(this.za!=null){var l=c.ee.Iw(r,this.description);s=[];for(var h=0,f=r.Aa;h<f;h++)l[h]!=-1&&(s[h]=this.za[l[h]])}this.description=r,this.za=s,this.Pg=-1,this.Pc(16777215)},o.prototype.AD=function(r){this.wu(!0),r instanceof c.l?this.$.A(r):this.$.Qo(r)},o.prototype.aN=function(r){this.wu(!1),r instanceof c.l?this.$.A(r):this.$.Qo(r)},o.prototype.bn=function(r){this.wu(!0),this.$.copyTo(r)},o.prototype.A=function(r){this.AD(r)},o.prototype.Qo=function(r){this.AD(r)},o.prototype.xc=function(r){this.aN(r)},o.prototype.Tg=function(r,s){var l=new c.Nc;return this.Ac()?(l.Oa(),l):(this.wu(!0),this.$.Tg(r,s))},o.prototype.cc=function(){var r=this.description.cc();if(!this.Ac())for(var s=this.I(),l=0,h=this.description.Aa;l<h;l++)r=this.za[l].An(r,0,s*c.ra.Va(this.description.Ed(l)));return r},o.prototype.Nb=function(r){if(r==this)return!0;if(!(r instanceof o&&this.description.Nb(r.description))||this.Ac()!=r.Ac())return!1;if(this.Ac())return!0;var s=this.I();if(s!=r.I())return!1;for(var l=0;l<this.description.Aa;l++){var h=this.description.kd(l),f=this.ub(h),p=r.ub(h);if(!f.Nb(p,0,s*c.ra.Va(h)))return!1}return!0},o.prototype.copyTo=function(r){if(r.getType()!=this.getType())throw c.i.N();this.dD(r)},o.prototype.dD=function(r){this.mc(),r.description=this.description,r.za=null;var s=this.description.Aa,l=null;if(this.za!=null){l=[];for(var h=0;h<s;h++)this.za[h]!=null&&(l[h]=this.za[h].GB(this.I()*c.ra.Va(this.description.Ed(h))))}this.$!=null?(r.$=this.$.Ia(),this.$.copyTo(r.$)):r.$=null,r.wa=this.wa,r.Hm=this.Hm,r.za=l;try{this.op(r)}catch{throw r.Oa(),c.i.fu()}},o.prototype.wD=function(){this.wa=0,this.Pg=-1,this.za=null,this.Pc(16777215)},o.prototype.Pc=function(r){r==16777215&&(this.Pg=-1,this.$x()),this.Hm|=r,this.lM(),this.vc()},o.prototype.wu=function(r){if(this.mc(),this.ak(192))if(this.$==null?this.$=new c.Fh(this.description):this.$.Nf(this.description),this.B())this.$.Oa();else{this.hy(r);for(var s=1;s<this.description.Aa;s++)for(var l=this.description.Ed(s),h=c.ra.Va(l),f=this.za[s],p=0;p<h;p++){var g=new c.Nc;g.Oa();for(var _=0;_<this.wa;_++){var M=f.eg(_*h+p);g.Zb(M)}this.$.setInterval(l,p,g)}r&&this.Lf(192,!1)}},o.prototype.hy=function(){this.$.Oa();for(var r=this.za[0],s=new c.h,l=0;l<this.wa;l++)r.tc(2*l,s),this.$.Zb(s)},o.prototype.yp=function(r){r.Oa();for(var s=this.za[0],l=new c.h,h=0;h<this.wa;h++)s.tc(2*h,l),r.Zb(l)},o.prototype.bN=function(){if(this.Pg<this.wa){this.za==null&&(this.za=c.Yc.qI(this.description.Aa)),this.Pg=2147483647;for(var r=0;r<this.description.Aa;r++){var s=this.description.Ed(r);if(this.za[r]!=null){var l=c.ra.Va(s),h=c.O.truncate(this.za[r].size/l);h<this.wa&&(h=c.O.truncate(this.Pg>this.wa+5?(5*this.wa+3)/4:this.wa),this.za[r].resize(h*l,c.ra.se(s))),h<this.Pg&&(this.Pg=h)}else this.za[r]=c.Yc.YE(s,this.wa),this.Pg=this.wa}}this.iy(),this.Lf(32,!1)},o.prototype.dm=function(r){if(0>r)throw c.i.N();r!=this.wa&&(this.wa=r,this.Pc(65535))},o.prototype.om=function(r){if(!this.ak(1)){if(!this.ak(2))return 0;if(this.QT>=r)return this.ak(8)?1:2}return-1},o.prototype.Ch=function(r,s){if(this.QT=s,r==-1)this.Lf(1,!0),this.Lf(8,!0);else if(this.Lf(1,!1),this.Lf(8,!0),r==0)this.Lf(2,!1),this.Lf(4,!1);else if(r==1)this.Lf(2,!0),this.Lf(4,!1);else{if(r!=2)throw c.i.fa("internal error.");this.Lf(2,!0),this.Lf(4,!0)}},o.prototype.lM=function(){this.Bb!=null&&(this.Bb=null)},o.prototype.kD=function(r,s,l,h){if(0>r||r>=this.wa||0>s||s>=this.wa)throw c.i.fa("index out of bounds");this.mc(),h.Nf(this.description),h.B()&&h.un();for(var f=0;f<this.description.Aa;f++)for(var p=this.description.Ed(f),g=0,_=c.ra.Va(p);g<_;g++){var M=this.za[f].eg(_*r+g),R=this.za[f].eg(_*s+g);h.setAttribute(p,g,c.lc.hq(M,R,l))}},o.prototype.yr=function(r,s){var l=this.za[0].o,h=l[2*r]-l[2*s];return r=l[2*r+1]-l[2*s+1],Math.sqrt(h*h+r*r)},o.prototype.KR=function(r){if(0>r||r>=this.wa)throw c.i.ce();this.mc();var s=new c.Sa;s.Nf(this.description),s.B()&&s.un();for(var l=0;l<this.description.Aa;l++)for(var h=this.description.kd(l),f=0,p=c.ra.Va(h);f<p;f++){var g=this.za[l].eg(p*r+f);s.setAttribute(h,f,g)}return s},o.prototype.Dh=function(r,s){if(0>r||r>=this.wa)throw c.i.ce();if(s.B())throw c.i.N();this.mc();for(var l=s.description,h=0;h<l.Aa;h++)for(var f=l.kd(h),p=c.ra.Va(f),g=0;g<p;g++){var _=s.Uc(f,g);this.setAttribute(f,r,g,_)}},o.prototype.lu=function(){return null},o.prototype.fj=function(){return null},o})(c.aa);c.Gx=w})(Q||(Q={})),(function(c){var I=(function(){function w(){this.ob=this.Zn=null,this.Tm=124234251,this.Rv=!0,this.Qe=-1,this.ob=new c.$c(7),this.Zn=null}return w.prototype.Vo=function(u){this.Zn=u},w.prototype.RP=function(){this.Rv=!1},w.prototype.De=function(u){this.ob.De(u)},w.prototype.Pr=function(u){var o=this.ob.Ce();return this.rX(o),this.uX(u,o),o},w.prototype.MP=function(u){this.ob.jd(u)},w.prototype.addElement=function(u,o){return o==-1&&(this.Qe==-1&&(this.Qe=this.Pr(-1)),o=this.Qe),this.FD(u,0,o)},w.prototype.KD=function(u){return this.Qe==-1&&(this.Qe=this.Pr(-1)),this.FD(u,1,this.Qe)},w.prototype.xn=function(u){this.Qe==-1&&(this.Qe=this.Pr(-1));var o=this.Qe,r=this.ob.o;if(o==-1||r[7*o]==-1)return u=this.ob.Ll([-1,-1,-1,u,this.gl(),-1,-1]),(r=this.ob.o)[7*o]=u,this.vp(-1,u,o,r),u;var s=o==-1?-1:r[7*o+2];return u=this.ob.Ll([-1,-1,s,u,this.gl(),-1,-1]),(r=this.ob.o)[7*s+1]=u,this.oy(u,r),r[7*u+2]===-1&&(r[7*o]=u),this.vp(-1,u,o,r),u},w.prototype.zu=function(u,o,r,s){var l=-1;l==-1&&(this.Qe==-1&&(this.Qe=this.Pr(-1)),l=this.Qe);var h=this.ob.o;if(l==-1||h[7*l]==-1)return r=this.ob.Ll([-1,-1,-1,r,this.gl(),-1,-1]),(h=this.ob.o)[7*l]=r,this.vp(-1,r,l,h),r;if(s){s=o!=-1?this.Zn.compare(this,r,o):-1;var f=u!=-1?this.Zn.compare(this,r,u):1}else s=-1,f=1;if(s==0||f==0)return h[7*l+3]=s==0?o:u,-1;for((o!=-1&&u!=-1?this.Tm>c.O.bB(this.Tm)>>1:o!=-1)?u=o:s=f,o=!0;;){if(0>s){if((f=h[7*u])==-1){s=u,r=this.ob.Ll([-1,-1,u,r,this.gl(),-1,-1]),(h=this.ob.o)[7*u]=r;break}u=f}else{if((f=h[7*u+1])==-1){s=h[7*u+6],r=this.ob.Ll([-1,-1,u,r,this.gl(),-1,-1]),(h=this.ob.o)[7*u+1]=r;break}u=f}o&&(s*=-1,o=!1)}return this.oy(r,h),h[7*r+2]===-1&&(h[7*l]=r),this.vp(s,r,l,h),r},w.prototype.FF=function(){return this.iR(this.Qe)},w.prototype.vd=function(u,o){o=o==-1?this.Qe:o,this.Rv?this.LP(u,o):this.iY(u,o)},w.prototype.search=function(u,o){for(o=this.sv(o);o!=-1;){var r=this.Zn.compare(this,u,o);if(r==0)return o;o=0>r?this.ll(o):this.Xp(o)}return-1},w.prototype.IW=function(u){for(var o=this.sv(-1),r=-1;o!=-1;){var s=u.compare(this,o);if(s==0)return o;0>s?o=this.ll(o):(r=o,o=this.Xp(o))}return r},w.prototype.uJ=function(u){for(var o=this.sv(-1),r=-1;o!=-1;){var s=u.compare(this,o);if(s==0)return o;0>s?(r=o,o=this.ll(o)):o=this.Xp(o)}return r},w.prototype.ja=function(u){return this.ob.T(u,3)},w.prototype.ll=function(u){return this.ob.T(u,0)},w.prototype.Xp=function(u){return this.ob.T(u,1)},w.prototype.getParent=function(u){return this.ob.T(u,2)},w.prototype.lb=function(u){return this.ob.T(u,6)},w.prototype.we=function(u){return this.ob.T(u,5)},w.prototype.rc=function(u){return u==-1?this.kl(this.Qe):this.kl(u)},w.prototype.Fc=function(u){return u==-1?this.Zr(this.Qe):this.Zr(u)},w.prototype.ZR=function(u){return u==-1?this.bG(this.Qe):this.bG(u)},w.prototype.Sj=function(u,o){this.NB(u,o)},w.prototype.sv=function(u){return u==-1?this.YF(this.Qe):this.YF(u)},w.prototype.clear=function(){this.ob.mj(!1),this.Qe=-1},w.prototype.size=function(u){return u==-1?this.$F(this.Qe):this.$F(u)},w.prototype.KN=function(u,o){for(var r=o[7*u],s=o[7*u+1],l=o[7*u+4];r!=-1||s!=-1;){var h=r!=-1?o[7*r+4]:2147483647;if(s=s!=-1?o[7*s+4]:2147483647,l<=Math.min(h,s))break;h<=s?this.sJ(r,o):this.rJ(u,o),r=o[7*u],s=o[7*u+1]}},w.prototype.oy=function(u,o){if(this.Rv)for(var r=o[7*u+4],s=o[7*u+2];s!=-1&&o[7*s+4]>r;)o[7*s]==u?this.sJ(u,o):this.rJ(s,o),s=o[7*u+2]},w.prototype.rJ=function(u,o){var r=o[7*u+1];o[7*r+2]=o[7*u+2],o[7*u+2]=r;var s=o[7*r];o[7*u+1]=s,s!=-1&&(o[7*s+2]=u),o[7*r]=u,(s=o[7*r+2])!=-1&&(o[7*s]==u?o[7*s]=r:o[7*s+1]=r)},w.prototype.sJ=function(u,o){var r=o[7*u+2];o[7*u+2]=o[7*r+2],o[7*r+2]=u;var s=o[7*u+1];o[7*r]=s,s!=-1&&(o[7*s+2]=r),o[7*u+1]=r,(s=o[7*u+2])!=-1&&(o[7*s]===r?o[7*s]=u:o[7*s+1]=u)},w.prototype.Pk=function(u,o){this.ob.S(u,2,o)},w.prototype.TB=function(u,o){this.ob.S(u,0,o)},w.prototype.XB=function(u,o){this.ob.S(u,1,o)},w.prototype.WB=function(u,o){this.ob.S(u,5,o)},w.prototype.ex=function(u,o){this.ob.S(u,6,o)},w.prototype.XJ=function(u,o){this.ob.S(o,0,u)},w.prototype.rX=function(u){this.ob.S(u,4,0)},w.prototype.uX=function(u,o){this.ob.S(o,5,u)},w.prototype.YF=function(u){return u==-1?-1:this.ob.T(u,0)},w.prototype.kl=function(u){return u==-1?-1:this.ob.T(u,1)},w.prototype.Zr=function(u){return u==-1?-1:this.ob.T(u,2)},w.prototype.iR=function(u){return u==-1?-1:this.ob.T(u,3)},w.prototype.$F=function(u){return u==-1?0:this.ob.T(u,4)},w.prototype.bG=function(u){return this.ob.T(u,5)},w.prototype.Pw=function(){return this.ob.Ll([-1,-1,-1,void 0,this.gl(),-1,-1])},w.prototype.fl=function(u){u!=-1&&this.ob.jd(u)},w.prototype.gl=function(){return this.Tm=c.O.bB(this.Tm),1073741823&this.Tm},w.prototype.FD=function(u,o,r){var s=this.ob.o;if(r==-1||s[7*r]==-1)return u=this.ob.Ll([-1,-1,-1,u,this.gl(),-1,-1]),(s=this.ob.o)[7*r]=u,this.vp(-1,u,r,s),u;for(var l=r==-1?-1:s[7*r];;){var h=o==-1?1:this.Zn.compare(this,u,l);if(0>h){if((h=this.ll(l))==-1){o=l,u=this.ob.Ll([-1,-1,l,u,this.gl(),-1,-1]),(s=this.ob.o)[7*l]=u;break}l=h}else{if(o==1&&h==0)return s[7*r+3]=l,-1;if((h=s[7*l+1])==-1){o=s[7*l+6],u=this.ob.Ll([-1,-1,l,u,this.gl(),-1,-1]),(s=this.ob.o)[7*l+1]=u;break}l=h}}return this.oy(u,s),s[7*u+2]===-1&&(s[7*r]=u),this.vp(o,u,r,s),u},w.prototype.vp=function(u,o,r,s){if(u!=-1){var l=s[7*u+5];s[7*u+5]=o}else l=r==-1?-1:s[7*r+2];s[7*o+5]=l,l!=-1&&(s[7*l+6]=o),s[7*o+6]=u,u==(r==-1?-1:s[7*r+1])&&(s[7*r+1]=o),u==-1&&(s[7*r+2]=o),s[7*r+4]=(r==-1?0:s[7*r+4])+1},w.prototype.AB=function(u,o){var r=this.ob.o,s=r[7*u+5];u=r[7*u+6],s!=-1?r[7*s+6]=u:r[7*o+1]=u,u!=-1?r[7*u+5]=s:r[7*o+2]=s,r[7*o+4]=o===-1?-1:r[7*o+4]-1},w.prototype.iY=function(u,o){this.AB(u,o);var r=this.ll(u),s=this.Xp(u),l=this.getParent(u),h=u;if(r!=-1&&s!=-1){this.Tm=c.O.bB(this.Tm);var f=1073741823<this.Tm?this.lb(u):this.we(u),p=this.getParent(f)==u;this.ob.gC(u,f,0),this.ob.gC(u,f,1),this.ob.gC(u,f,2),l!=-1?this.ll(l)==u?this.TB(l,f):this.XB(l,f):this.XJ(f,o),p?(r==f?(this.TB(f,u),this.Pk(s,f)):s==f&&(this.XB(f,u),this.Pk(r,f)),this.Pk(u,f),l=f):(this.Pk(r,f),this.Pk(s,f),l=this.getParent(u),h=f),r=this.ll(u),s=this.Xp(u),r!=-1&&this.Pk(r,u),s!=-1&&this.Pk(s,u)}r=r!=-1?r:s,l==-1?this.XJ(r,o):this.ll(l)==h?this.TB(l,r):this.XB(l,r),r!=-1&&this.Pk(r,l),this.fl(u)},w.prototype.LP=function(u,o){var r=this.ob.o;r[7*u+4]=2147483647;var s=-1,l=-1,h=o===-1?-1:r[7*o],f=h==u;if(f&&(s=r[7*h],l=r[7*h+1],s==-1&&l==-1))return this.AB(h,o),this.fl(h),void(r[7*o]=-1);this.KN(u,r),(h=r[7*u+2])!=-1&&(r[7*h]==u?r[7*h]=-1:r[7*h+1]=-1),this.AB(u,o),this.fl(u),f&&(r[7*o]=s==-1||r[7*s+2]!=-1?l:s)},w.prototype.NB=function(u,o){this.ob.S(u,3,o)},w})();c.Yj=I})(Q||(Q={})),(function(c){var I=(function(){function w(u,o){u!==void 0&&this.K(u,o)}return w.prototype.K=function(u,o){this.oa=u,this.va=o,this.normalize()},w.prototype.isIntersecting=function(u){return this.oa<=u.oa?this.va>=u.oa:u.va>=this.oa},w.prototype.move=function(u){this.B()||(this.oa+=u,this.va+=u)},w.prototype.normalize=function(){if(!isNaN(this.oa)){if(this.oa>this.va){var u=this.oa;this.oa=this.va,this.va=u}isNaN(this.va)&&this.Oa()}},w.prototype.Oa=function(){this.va=this.oa=NaN},w.prototype.B=function(){return isNaN(this.oa)},w.prototype.Zb=function(u){typeof u=="number"?this.B()?this.va=this.oa=u:this.Lk(u):u.B()||(this.B()?(this.oa=u.oa,this.va=u.va):(this.oa>u.oa&&(this.oa=u.oa),this.va<u.va&&(this.va=u.va),this.oa>this.va&&this.Oa()))},w.prototype.Lk=function(u){u<this.oa?this.oa=u:u>this.va&&(this.va=u)},w.prototype.contains=function(u){return typeof u=="number"?u>=this.oa&&u<=this.va:u.oa>=this.oa&&u.va<=this.va},w.prototype.Ea=function(u){this.B()||u.B()?this.Oa():(this.oa<u.oa&&(this.oa=u.oa),this.va>u.va&&(this.va=u.va),this.oa>this.va&&this.Oa())},w.prototype.W=function(u){this.B()||(this.oa-=u,this.va+=u,this.va<this.oa&&this.Oa())},w.prototype.xr=function(){return this.B()?2220446049250313e-29:2220446049250313e-29*(Math.abs(this.oa)+Math.abs(this.va)+1)},w.prototype.KB=function(u,o){u>o?(this.oa=o,this.va=u):(this.oa=u,this.va=o)},w.prototype.It=function(u){return c.O.Rk(u,this.oa,this.va)},w.prototype.R=function(){return this.va-this.oa},w.prototype.sf=function(){return .5*(this.oa+this.va)},w.prototype.Nb=function(u){return u==this||u instanceof w&&(!(!this.B()||!u.B())||this.oa==u.oa&&this.va==u.va)},w.prototype.cc=function(){return c.O.uj(c.O.uj())},w})();c.Nc=I})(Q||(Q={})),(function(c){var I=new c.Nc,w=new c.Nc,u=function(){this.ne=null,this.pb=-1,this.sb=new c.yb,this.qA=55555555,this.Tv=this.Vv=!1,this.Uf=new c.Nc,this.Uf.KB(0,0)};c.IY=u;var o=(function(){function r(s,l,h){this.g=s,this.Hk=NaN,this.NH=this.Kq=0,this.OH=NaN,this.qa=l,this.Nq=10*l,this.PH=this.QH=NaN,this.rg=!1,this.Dm=this.gt=this.Lo=this.Xs=this.Ws=-1,this.gA=h,this.TA=new u,this.YH=new u,c.O.truncate(3*s.fd/2)}return r.prototype.mG=function(s,l,h,f){s.ne=f===null?null:f[h[5*l]],s.Tv=s.ne!=null,s.Tv||((f=h[5*l+2])!==-1&&this.g.mW(h[5*l],h[5*f],s.sb),s.ne=s.sb,s.Uf.KB(s.sb.sa,s.sb.pa),s.Uf.va+=this.qa,s.sb.rI(),s.Vv=s.sb.la==s.sb.na,s.Vv||(s.qA=(s.sb.pa-s.sb.sa)/(s.sb.la-s.sb.na)))},r.prototype.OO=function(s,l){var h=s.zr(l,this.qa,!0);return h!=0?h==2?this.Qy():this.xi():(s.Yp(Hr),s.Tr(Tr),l.Yp(Tn),l.Tr(Pn),Ve.ma(this.Kq,this.Hk),Hr.qb(Tn)&&this.Hk==Hr.y?0>Tr.compare(Pn)?Ve.L(Tr):Ve.L(Pn):Hr.qb(Pn)&&this.Hk==Hr.y?0>Tr.compare(Tn)?Ve.L(Tr):Ve.L(Tn):Tn.qb(Tr)&&this.Hk==Tn.y?0>Hr.compare(Pn)?Ve.L(Hr):Ve.L(Pn):Tr.qb(Pn)&&this.Hk==Tr.y&&(0>Hr.compare(Tn)?Ve.L(Hr):Ve.L(Tn)),s.Pe(Ve.y,Ve.x)<l.Pe(Ve.y,Ve.x)?-1:1)},r.prototype.MO=function(s,l){if(s.sb.na==l.sb.na&&s.sb.sa==l.sb.sa)return s.sb.la==l.sb.la&&s.sb.pa==l.sb.pa?this.gA?this.Qy():0:this.PE(s,l);if(s.sb.la==l.sb.la&&s.sb.pa==l.sb.pa)return this.OE(s,l);var h=this.OE(s,l);return s=this.PE(s,l),0>h&&0>s?-1:0<h&&0<s?1:this.xi()},r.prototype.IO=function(s,l){if(s.pa>l.pa){if(l.pa>l.sa&&l.la-l.na<2*this.qa&&s.vi(l.pa,l.la,this.qa))return this.xi()}else if((l.la-l.na)/(l.pa-l.sa)*(s.pa-s.sa)<this.Nq&&l.vi(s.pa,s.la,this.qa))return this.xi();return 1},r.prototype.JO=function(s,l){if(s.sa<l.sa){if(l.pa>l.sa&&l.la-l.na<2*this.qa&&s.vi(l.pa,l.la,this.qa))return this.xi()}else if((l.la-l.na)/(l.pa-l.sa)*(s.sa-s.pa)<this.Nq&&l.vi(s.sa,s.na,this.qa))return this.xi();return-1},r.prototype.KO=function(s,l){var h=new c.h;h.uc(l.wc(),l.ac()),h.ar(),h.normalize();var f=new c.h;f.uc(s.ac(),l.ac());var p=new c.h;p.uc(s.wc(),l.ac()),f=f.Qh(h),h=p.Qh(h),p=Math.abs(f);var g=Math.abs(h);if(p<g){if(p<this.Nq&&l.vi(s.sa,s.na,this.qa))return this.xi()}else if(g<this.Nq&&l.vi(s.pa,s.la,this.qa))return this.xi();return 0>f&&0>h?-1:0<f&&0<h?1:this.xi()},r.prototype.NE=function(s,l){return s.na==l.na&&s.sa==l.sa?this.IO(s,l):s.la==l.la&&s.pa==l.pa?this.JO(s,l):this.KO(s,l)},r.prototype.LO=function(s,l){return s.la==l.la&&s.pa==l.pa&&s.na==l.na&&s.sa==l.sa?this.gA?this.Qy():0:this.xi()},r.prototype.OE=function(s,l){var h=1;if(s.sb.na<l.sb.na){h=-1;var f=s;s=l,l=f}s=s.sb,f=l.sb;var p=s.sa-f.sa;l=l.qA*(s.na-f.na);var g=this.Nq;return p<l-g?-h:p>l+g?h:f.vi(s.sa,s.na,this.qa)?this.xi():p<l?-h:h},r.prototype.PE=function(s,l){var h=1;if(l.sb.la<s.sb.la){h=-1;var f=s;s=l,l=f}s=s.sb,f=l.sb;var p=s.pa-f.sa;l=l.qA*(s.la-f.na);var g=this.Nq;return p<l-g?-h:p>l+g?h:f.vi(s.pa,s.la,this.qa)?this.xi():p<l?-h:h},r.prototype.Qy=function(){return this.rg=!0,this.Ni=new c.Md(5,this.Lo,this.gt),-1},r.prototype.xi=function(){return this.rg=!0,this.gA?this.Ni=new c.Md(4,this.Lo,this.gt):this.gt=this.Lo=this.Xs=this.Ws=-1,-1},r.prototype.NO=function(s,l,h,f){if(this.rg)return-1;var p=this.OH==this.Hk&&this.NH==this.Kq;if(p&&s==this.Ws)var g=this.PH;else g=NaN,this.Ws=-1;return p&&l==this.Xs?p=this.QH:(p=NaN,this.Xs=-1),h.ne.ZI(I),f.ne.ZI(w),I.va<w.oa?-1:w.va<I.oa?1:(this.OH=this.Hk,this.NH=this.Kq,isNaN(g)&&(this.Ws=s,this.PH=g=s=h.ne.Pe(this.Hk,this.Kq)),isNaN(p)&&(this.Xs=l,this.QH=p=s=f.ne.Pe(this.Hk,this.Kq)),Math.abs(g-p)<=this.qa?this.OO(h.ne,f.ne):g<p?-1:g>p?1:0)},r.prototype.Kr=function(){this.rg=!1},r.prototype.rm=function(){return this.Ni},r.prototype.$J=function(s,l){this.Hk=s,this.Kq=l,this.gt=this.Lo=this.Xs=this.Ws=-1},r.prototype.compare=function(s,l,h){return this.rg?-1:(s=s.ja(h),this.Dm=h,this.RE(l,l,s,s))},r.prototype.RE=function(s,l,h,f){if(this.Lo==l)var p=this.TA;else this.Lo=l,p=this.TA,this.TA.pb=s,this.mG(p,l,this.g.td.o,this.g.We);if(g==null){this.gt=f;var g=this.YH;this.YH.pb=h,this.mG(g,f,this.g.td.o,this.g.We)}return p.Tv||g.Tv?this.NO(l,f,p,g):p.Uf.va<g.Uf.oa?-1:g.Uf.va<p.Uf.oa?1:(s=p.Vv?1:0,(s|=g.Vv?2:0)==0?this.MO(p,g):s==1?this.NE(p.sb,g.sb):s==2?-1*this.NE(g.sb,p.sb):this.LO(p.sb,g.sb))},r})();c.UC=o})(Q||(Q={})),(function(c){var I=(function(){function w(u,o){this.g=u,this.qa=o,this.rg=!1,this.Lo=-1,this.Uf=new c.Nc,this.Gq=new c.h,this.Gq.Rc(),this.ie=new c.yb,this.Dm=-1,this.BA=17976931348623157e292}return w.prototype.Kr=function(){this.rg=!1,this.BA=17976931348623157e292},w.prototype.Dh=function(u){this.Gq.L(u)},w.prototype.compare=function(u,o){return this.SE(o,u.ja(o))},w.prototype.SE=function(u,o){var r=this.g.bc(o)!=null;if(r||(this.g.ed(o,this.ie),this.Uf.KB(this.ie.sa,this.ie.pa)),r)throw c.i.fa("not implemented");if(this.Gq.x+this.qa<this.Uf.oa)return-1;if(this.Gq.x-this.qa>this.Uf.va)return 1;if(this.ie.na==this.ie.la)return this.Dm=u,this.rg=!0,0;this.ie.rI(),r=this.ie.ac(),(o=new c.h).uc(this.ie.wc(),r),o.ar();var s=new c.h;return s.uc(this.Gq,r),r=o.Qh(s),(r/=o.length())<10*-this.qa?-1:r>10*this.qa?1:this.ie.qs(this.Gq,this.qa)&&((o=Math.abs(r))<this.BA&&(this.Dm=u,this.BA=o),this.rg=!0,o<.25*this.qa)?0:0>r?-1:1},w})();c.aM=I})(Q||(Q={})),(function(c){function I(u,o,r,s){r=new Float64Array(u.subarray(r,s)),u.set(r,o)}var w=(function(){function u(o){this.Pb=this.pk=!1,this.o=null;var r=o;2>r&&(r=2),this.o=new Float64Array(r),this.size=o}return u.prototype.rotate=function(o,r,s){if(this.Pb)throw c.i.fa("invalid_call");if(r<o||r>s||o>s)throw c.i.N();o!=r&&s!=r&&(this.ni(o,r-o,1),this.ni(r,s-r,1),this.ni(o,s-o,1))},u.qf=function(o,r){var s=new u(o),l=s.o;if(2>o&&(o=2),r!==0)for(var h=0;h<o;h++)l[h]=r;return s},u.Bn=function(o){var r=new u(0);return r.o=new Float64Array(o.o),r.size=o.size,r},u.Lr=function(o,r){var s=new u(0);return s.size=o.size,s.size>r&&(s.size=r),2>(r=s.size)&&(r=2),s.o=new Float64Array(r),s.o.set(o.o.length<=r?o.o:o.o.subarray(0,r),0),s},u.prototype.Jb=function(o){0>=o||(this.o==null?this.o=new Float64Array(o):o<=this.o.length||(0<this.o.length?((o=new Float64Array(o)).set(this.o),this.o=o):this.o=new Float64Array(o)))},u.prototype.read=function(o){return this.o[o]},u.prototype.tc=function(o,r){r.x=this.o[o],r.y=this.o[o+1]},u.prototype.get=function(o){return this.o[o]},u.prototype.write=function(o,r){if(this.Pb)throw c.i.Hb();this.o[o]=r},u.prototype.set=function(o,r){if(this.Pb)throw c.i.Hb();this.o[o]=r},u.prototype.Tt=function(o,r){if(this.Pb)throw c.i.Hb();this.o[o]=r.x,this.o[o+1]=r.y},u.prototype.add=function(o){this.resize(this.size+1),this.o[this.size-1]=o},u.prototype.GB=function(o){return u.Lr(this,o)},u.prototype.eg=function(o){return this.read(o)},u.prototype.resize=function(o,r){if(r===void 0&&(r=0),this.pk)throw c.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");if(o<=this.size){if(30<this.o.length&&5*o/4<this.o.length){var s=new Float64Array(this.o,0,o);this.o=s}}else{o>this.o.length&&(s=c.O.truncate(64>o?Math.max(2*o,4):5*o/4),(s=new Float64Array(s)).set(this.o),this.o=s),s=this.o;for(var l=this.size;l<o;l++)s[l]=r}this.size=o},u.prototype.Bh=function(o){if((this.o==null||o>this.o.length)&&this.resize(o),this.pk)throw c.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");this.size=o},u.prototype.pr=function(o,r){this.write(o,r)},u.prototype.An=function(o,r,s){for(var l=this.size;r<l&&r<s;r++)o=c.O.uj(this.read(r));return o},u.prototype.Nb=function(o,r,s){if(o==null||!(o instanceof u))return!1;var l=this.size,h=o.size;if(s>l||s>h&&l!=h)return!1;for(s>l&&(s=l);r<s;r++)if(this.read(r)!=o.read(r))return!1;return!0},u.prototype.addRange=function(o,r,s,l,h){if(this.Pb)throw c.i.Hb();if(!l&&(1>h||s%h!=0))throw c.i.N();var f=this.size;if(this.resize(f+s),l)this.o.set(o.o.subarray(r,r+s),f);else{l=s;for(var p=0;p<s;p+=h){l-=h;for(var g=0;g<h;g++)this.o[f+p+g]=o.o[r+l+g]}}},u.prototype.Mn=function(o,r,s,l,h,f,p){if(this.Pb)throw c.i.Hb();if(!h&&(1>f||l%f!=0))throw c.i.N();var g=this.size-p;if(g<l&&this.resize(this.size+l-g),I(this.o,o+l,o,o+(p-o)),this.o==r.o&&o<s&&(s+=l),h)this.o.set(r.o.subarray(s,s+l),o);else for(h=l,p=0;p<l;p+=f)for(h-=f,g=0;g<f;g++)this.o[o+p+g]=r.o[s+h+g]},u.prototype.Iz=function(o,r,s,l,h,f){if(this.Pb)throw c.i.Hb();if(0>f&&(f=this.size),this.size+2*l>this.o.length?this.resize(this.size+2*l):this.size+=2*l,I(this.o,o+2*l,o,o+(f-o)),h)for(h=0;h<l;h++)f=r[s++],this.o[o++]=f.x,this.o[o++]=f.y;else{h=0;for(var p=l-1;h<l;++h)f=r[s+p],this.o[o++]=f.x,this.o[o++]=f.y,p--}},u.prototype.Ln=function(o,r,s,l){if(this.Pb)throw c.i.Hb();for(l-=o,I(this.o,o+l,o,o+l),l=0;l<s;l++)this.o[o+l]=r},u.prototype.vj=function(o,r,s){if(this.Pb)throw c.i.Hb();I(this.o,o+2,o,o+(s-o)),this.o[o]=r.x,this.o[o+1]=r.y},u.prototype.Ut=function(o,r,s,l,h,f){if(0>o||0>r||0>l||!h&&(0>=f||r%f!=0)||s.size<l+r)throw c.i.N();if(r!=0)if(this.size<r+o&&this.resize(r+o),s==this)this.Ar(o,r,l,h,f);else if(h)for(h=0;h<r;h++)this.o[o]=s.o[l],o++,l++;else if(l=l+r-f,f==1)for(h=0;h<r;h++)this.o[o]=s.o[l],o++,l--;else for(h=0,r=c.O.truncate(r/f);h<r;h++){for(var p=0;p<f;p++)this.o[o+p]=s.o[l+p];o+=f,l-=f}},u.prototype.En=function(o,r,s){if(this.Pb||o+r>this.size)throw c.i.Hb();0<s-(o+r)&&I(this.o,o,o+r,o+(s-(o+r))+r),this.size-=r},u.prototype.ni=function(o,r,s){if(this.Pb||1>s||r%s!=0)throw c.i.Hb();for(var l=r>>1,h=0;h<l;h+=s){r-=s;for(var f=0;f<s;f++){var p=this.o[o+h+f];this.o[o+h+f]=this.o[o+r+f],this.o[o+r+f]=p}}},u.prototype.Wj=function(o,r,s){if(0>r||0>s||0>r||s+r>this.size)throw c.i.N();for(var l=r;l<r+s;l++)this.o[l]=o},u.prototype.Ar=function(o,r,s,l,h){if(!(l&&o==s||(this.o.set(this.o.subarray(s,s+r),o),l)))for(s=o,o=o+r-h,l=0,r=c.O.truncate(r/2);l<r;l++){for(var f=0;f<h;f++){var p=this.o[s+f];this.o[s+f]=this.o[o+f],this.o[o+f]=p}s+=h,o-=h}},u.prototype.vC=function(o,r,s,l,h){if(0>o||0>r||0>l)throw c.i.N();if(r!=0)for(this.size<(r<<1)+o&&this.resize((r<<1)+o),h||(o+=r-1<<1),h=h?2:-2,r+=l;l<r;l++)this.o[o]=s[l].x,this.o[o+1]=s[l].y,o+=h},u.prototype.uC=function(o,r,s){if(0>o||0>r)throw c.i.N();if(r!=0){this.size<(r<<1)+o&&this.resize((r<<1)+o),r+=0;for(var l=0;l<r;l++)this.o[o]=s[l][0],this.o[o+1]=s[l][1],o+=2}},u.prototype.Vw=function(o,r,s,l,h){if(0>o||0>r||0>l||this.size<r+o)throw c.i.N();if(h)for(h=0;h<r;h++)s[l+h]=this.o[o+h];else for(l=l+r-1;o<r;o++)s[l]=this.o[o],l--},u.prototype.uB=function(o,r,s){if(0>o||0>r||this.size<(r>>1)+o)throw c.i.N();if(r!=0){r=0+r;for(var l=0;l<r;l++)s[l][0]=this.o[o],s[l][1]=this.o[o+1],o+=2}},u.prototype.clear=function(o){o?this.resize(0):this.Bh(0)},u.prototype.ix=function(){this.pk=this.Pb=!0},u.prototype.Vd=function(o,r,s){Array.prototype.sort.call(this.o.subarray(o,r),s)},u.prototype.Tp=function(){return 1},u})();c.be=w})(Q||(Q={})),(function(c){function I(u,o,r,s){r=new Int32Array(u.subarray(r,s)),u.set(r,o)}c.rY=function(){this.random=1973};var w=(function(){function u(o){this.Pb=this.pk=!1,this.o=null;var r=o;2>r&&(r=2),this.o=new Int32Array(r),this.size=o}return u.prototype.rotate=function(o,r,s){if(this.Pb)throw c.i.fa("invalid_call");if(r<o||r>s||o>s)throw c.i.N();o!=r&&s!=r&&(this.ni(o,r-o,1),this.ni(r,s-r,1),this.ni(o,s-o,1))},u.qf=function(o,r){var s=new u(o),l=s.o;if(2>o&&(o=2),r!==0)for(var h=0;h<o;h++)l[h]=r;return s},u.Bn=function(o){var r=new u(0);return r.o=new Int32Array(o.o),r.size=o.size,r},u.Lr=function(o,r){var s=new u(0);return s.size=o.size,s.size>r&&(s.size=r),2>(r=s.size)&&(r=2),s.o=new Int32Array(r),s.o.set(o.o.length<=r?o.o:o.o.subarray(0,r),0),s},u.prototype.Jb=function(o){0>=o||(this.o==null?this.o=new Int32Array(o):o<=this.o.length||(0<this.o.length?((o=new Int32Array(o)).set(this.o),this.o=o):this.o=new Int32Array(o)))},u.prototype.read=function(o){return this.o[o]},u.prototype.tc=function(o,r){r.x=this.o[o],r.y=this.o[o+1]},u.prototype.get=function(o){return this.o[o]},u.prototype.write=function(o,r){if(this.Pb)throw c.i.Hb();this.o[o]=r},u.prototype.set=function(o,r){if(this.Pb)throw c.i.Hb();this.o[o]=r},u.prototype.Tt=function(o,r){if(this.Pb)throw c.i.Hb();this.o[o]=r.x,this.o[o+1]=r.y},u.prototype.add=function(o){this.resize(this.size+1),this.o[this.size-1]=o},u.prototype.GB=function(o){return u.Lr(this,o)},u.prototype.eg=function(o){return this.read(o)},u.prototype.resize=function(o,r){if(r===void 0&&(r=0),this.pk)throw c.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");if(o<=this.size){if(30<this.o.length&&5*o/4<this.o.length){var s=new Int32Array(this.o,0,o);this.o=s}}else{o>this.o.length&&(s=c.O.truncate(64>o?Math.max(2*o,4):5*o/4),(s=new Int32Array(s)).set(this.o),this.o=s),s=this.o;for(var l=this.size;l<o;l++)s[l]=r}this.size=o},u.prototype.Bh=function(o){if((this.o==null||o>this.o.length)&&this.resize(o),this.pk)throw c.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");this.size=o},u.prototype.pr=function(o,r){this.write(o,r)},u.prototype.An=function(o,r,s){for(var l=this.size;r<l&&r<s;r++)o=c.O.Th(this.read(r),o);return o},u.prototype.Nb=function(o,r,s){if(o==null||!(o instanceof u))return!1;var l=this.size,h=o.size;if(s>l||s>h&&l!=h)return!1;for(s>l&&(s=l);r<s;r++)if(this.read(r)!=o.read(r))return!1;return!0},u.prototype.addRange=function(o,r,s,l,h){if(this.Pb)throw c.i.Hb();if(!l&&(1>h||s%h!=0))throw c.i.N();var f=this.size;if(this.resize(f+s),l)this.o.set(o.o.subarray(r,r+s),f);else{l=s;for(var p=0;p<s;p+=h){l-=h;for(var g=0;g<h;g++)this.o[f+p+g]=o.o[r+l+g]}}},u.prototype.Mn=function(o,r,s,l,h,f,p){if(this.Pb)throw c.i.Hb();if(!h&&(1>f||l%f!=0))throw c.i.N();if(I(this.o,o+l,o,o+(p-o)),this.o==r.o&&o<s&&(s+=l),h)this.o.set(r.o.subarray(s,s+l),o);else for(h=l,p=0;p<l;p+=f){h-=f;for(var g=0;g<f;g++)this.o[o+p+g]=r.o[s+h+g]}},u.prototype.Iz=function(o,r,s,l,h,f){if(this.Pb)throw c.i.Hb();if(0>f&&(f=this.size),this.size+2*l>this.o.length?this.resize(this.size+2*l):this.size+=2*l,I(this.o,o+2*l,o,o+(f-o)),h)for(h=0;h<l;h++)f=r[s++],this.o[o++]=f.x,this.o[o++]=f.y;else{h=0;for(var p=l-1;h<l;++h)f=r[s+p],this.o[o++]=f.x,this.o[o++]=f.y,p--}},u.prototype.Ln=function(o,r,s,l){if(this.Pb)throw c.i.Hb();for(l-=o,I(this.o,o+l,o,o+l),l=0;l<s;l++)this.o[o+l]=r},u.prototype.vj=function(o,r,s){if(this.Pb)throw c.i.Hb();I(this.o,o+2,o,o+(s-o)),this.o[o]=r.x,this.o[o+1]=r.y},u.prototype.Ut=function(o,r,s,l,h,f){if(0>o||0>r||0>l||!h&&(0>=f||r%f!=0)||s.size<l+r)throw c.i.N();if(r!=0)if(this.size<r+o&&this.resize(r+o),s==this)this.Ar(o,r,l,h,f);else if(h)for(h=0;h<r;h++)this.o[o]=s.o[l],o++,l++;else if(l=l+r-f,f==1)for(h=0;h<r;h++)this.o[o]=s.o[l],o++,l--;else for(h=0,r=c.O.truncate(r/f);h<r;h++){for(var p=0;p<f;p++)this.o[o+p]=s.o[l+p];o+=f,l-=f}},u.prototype.En=function(o,r,s){if(this.Pb||o+r>this.size)throw c.i.Hb();0<s-(o+r)&&I(this.o,o,o+r,o+(s-(o+r))+r),this.size-=r},u.prototype.ni=function(o,r,s){if(this.Pb||1>s||r%s!=0)throw c.i.Hb();for(var l=r>>1,h=0;h<l;h+=s){r-=s;for(var f=0;f<s;f++){var p=this.o[o+h+f];this.o[o+h+f]=this.o[o+r+f],this.o[o+r+f]=p}}},u.prototype.Wj=function(o,r,s){if(0>r||0>s||0>r||s+r>this.size)throw c.i.N();for(var l=r;l<r+s;l++)this.o[l]=o},u.prototype.Ar=function(o,r,s,l,h){if(!(l&&o==s||(this.o.set(this.o.subarray(s,s+r),o),l)))for(s=o,o=o+r-h,l=0,r=c.O.truncate(r/2);l<r;l++){for(var f=0;f<h;f++){var p=this.o[s+f];this.o[s+f]=this.o[o+f],this.o[o+f]=p}s+=h,o-=h}},u.prototype.vC=function(o,r,s,l,h){if(0>o||0>r||0>l)throw c.i.N();if(r!=0)for(this.size<(r<<1)+o&&this.resize((r<<1)+o),h||(o+=r-1<<1),h=h?2:-2,r+=l;l<r;l++)this.o[o]=s[l].x,this.o[o+1]=s[l].y,o+=h},u.prototype.Vw=function(o,r,s,l,h){if(0>o||0>r||0>l||this.size<r+o)throw c.i.N();if(h)for(h=0;h<r;h++)s[l+h]=this.o[o+h];else for(l=l+r-1;o<r;o++)s[l]=this.o[o],l--},u.prototype.clear=function(o){o?this.resize(0):this.Bh(0)},u.prototype.ix=function(){this.pk=this.Pb=!0},u.prototype.Vd=function(o,r,s){10>r-o?u.rG(this.o,o,r,s):u.qB(this.o,o,r-1,s)},u.prototype.Tp=function(){return 2},u.prototype.Fc=function(){return this.o[this.size-1]},u.prototype.If=function(){this.resize(this.size-1)},u.prototype.bX=function(o){this.o[this.size-1]=o},u.prototype.SV=function(o){o<this.size-1&&(this.o[o]=this.o[this.size-1]),this.resize(this.size-1)},u.prototype.lF=function(o){for(var r=0,s=this.size;r<s;r++)if(this.o[r]==o)return r;return-1},u.prototype.hG=function(o){return 0<=this.lF(o)},u.rG=function(o,r,s,l){for(var h=r;h<s;h++){for(var f=o[h],p=h-1;p>=r&&0<l(o[p],f);)o[p+1]=o[p],p--;o[p+1]=f}},u.tx=function(o,r,s){var l=o[s];o[s]=o[r],o[r]=l},u.qB=function(o,r,s,l){if(!(r>=s))for(;;){if(9>s-r){u.rG(o,r,s+1,l);break}var h=o[r];u.tx(o,r,s);for(var f=r,p=r;p<s;p++)0>=l(o[p],h)&&(u.tx(o,f,p),f+=1);u.tx(o,f,s),f-r<s-f?(u.qB(o,r,f-1,l),r=f+1):(u.qB(o,f+1,s,l),s=f-1)}},u})();c.ia=w})(Q||(Q={})),(function(c){function I(u,o,r,s){r=new Int8Array(u.subarray(r,s)),u.set(r,o)}var w=(function(){function u(o){this.o=null;var r=o;2>r&&(r=2),this.o=new Int8Array(r),this.size=o}return u.prototype.rotate=function(o,r,s){if(this.Pb)throw c.i.fa("invalid_call");if(r<o||r>s||o>s)throw c.i.N();o!=r&&s!=r&&(this.ni(o,r-o,1),this.ni(r,s-r,1),this.ni(o,s-o,1))},u.qf=function(o,r){var s=new u(o),l=s.o;if(2>o&&(o=2),r!==0)for(var h=0;h<o;h++)l[h]=r;return s},u.Bn=function(o){var r=new u(0);return r.o=new Int8Array(o.o),r.size=o.size,r},u.Lr=function(o,r){var s=new u(0);return s.size=o.size,s.size>r&&(s.size=r),2>(r=s.size)&&(r=2),s.o=new Int8Array(r),s.o.set(o.o.length<=r?o.o:o.o.subarray(0,r),0),s},u.prototype.Jb=function(o){0>=o||(this.o==null?this.o=new Int8Array(o):o<=this.o.length||(0<this.o.length?((o=new Int8Array(o)).set(this.o),this.o=o):this.o=new Int8Array(o)))},u.prototype.read=function(o){return this.o[o]},u.prototype.tc=function(o,r){r.x=this.o[o],r.y=this.o[o+1]},u.prototype.get=function(o){return this.o[o]},u.prototype.write=function(o,r){if(this.Pb)throw c.i.Hb();this.o[o]=r},u.prototype.set=function(o,r){if(this.Pb)throw c.i.Hb();this.o[o]=r},u.prototype.Tt=function(o,r){if(this.Pb)throw c.i.Hb();this.o[o]=r.x,this.o[o+1]=r.y},u.prototype.add=function(o){this.resize(this.size+1),this.o[this.size-1]=o},u.prototype.GB=function(o){return u.Lr(this,o)},u.prototype.eg=function(o){return this.read(o)},u.prototype.resize=function(o,r){if(r===void 0&&(r=0),this.pk)throw c.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");if(o<=this.size){if(30<this.o.length&&5*o/4<this.o.length){var s=new Int8Array(this.o,0,o);this.o=s}}else{o>this.o.length&&(s=c.O.truncate(64>o?Math.max(2*o,4):5*o/4),(s=new Int8Array(s)).set(this.o),this.o=s),s=this.o;for(var l=this.size;l<o;l++)s[l]=r}this.size=o},u.prototype.Bh=function(o){if((this.o==null||o>this.o.length)&&this.resize(o),this.pk)throw c.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");this.size=o},u.prototype.pr=function(o,r){this.write(o,r)},u.prototype.An=function(o,r,s){for(var l=this.size;r<l&&r<s;r++)o=c.O.Th(this.read(r),o);return o},u.prototype.Nb=function(o,r,s){if(o==null||!(o instanceof u))return!1;var l=this.size,h=o.size;if(s>l||s>h&&l!=h)return!1;for(s>l&&(s=l);r<s;r++)if(this.read(r)!=o.read(r))return!1;return!0},u.prototype.addRange=function(o,r,s,l,h){if(this.Pb)throw c.i.Hb();if(!l&&(1>h||s%h!=0))throw c.i.N();var f=this.size;if(this.resize(f+s),l)this.o.set(o.o.subarray(r,r+s),f);else{l=s;for(var p=0;p<s;p+=h){l-=h;for(var g=0;g<h;g++)this.o[f+p+g]=o.o[r+l+g]}}},u.prototype.Mn=function(o,r,s,l,h,f,p){if(this.Pb)throw c.i.Hb();if(!h&&(1>f||l%f!=0))throw c.i.N();if(I(this.o,o+l,o,o+(p-o)),this.o==r.o&&o<s&&(s+=l),h)this.o.set(r.o.subarray(s,s+l),o);else for(h=l,p=0;p<l;p+=f){h-=f;for(var g=0;g<f;g++)this.o[o+p+g]=r.o[s+h+g]}},u.prototype.Ln=function(o,r,s,l){if(this.Pb)throw c.i.Hb();for(l-=o,I(this.o,o+l,o,o+l),l=0;l<s;l++)this.o[o+l]=r},u.prototype.Iz=function(o,r,s,l,h,f){if(this.Pb)throw c.i.Hb();if(0>f&&(f=this.size),this.size+2*l>this.o.length?this.resize(this.size+2*l):this.size+=2*l,I(this.o,o+2*l,o,o+(f-o)),h)for(h=0;h<l;h++)f=r[s++],this.o[o++]=f.x,this.o[o++]=f.y;else{h=0;for(var p=l-1;h<l;++h)f=r[s+p],this.o[o++]=f.x,this.o[o++]=f.y,p--}},u.prototype.vj=function(o,r,s){if(this.Pb)throw c.i.Hb();I(this.o,o+2,o,o+(s-o)),this.o[o]=r.x,this.o[o+1]=r.y},u.prototype.Ut=function(o,r,s,l,h,f){if(0>o||0>r||0>l||!h&&(0>=f||r%f!=0)||s.size<l+r)throw c.i.N();if(r!=0)if(this.size<r+o&&this.resize(r+o),s==this)this.Ar(o,r,l,h,f);else if(h)for(h=0;h<r;h++)this.o[o]=s.o[l],o++,l++;else if(l=l+r-f,f==1)for(h=0;h<r;h++)this.o[o]=s.o[l],o++,l--;else for(h=0,r=c.O.truncate(r/f);h<r;h++){for(var p=0;p<f;p++)this.o[o+p]=s.o[l+p];o+=f,l-=f}},u.prototype.En=function(o,r,s){if(this.Pb||o+r>this.size)throw c.i.Hb();0<s-(o+r)&&I(this.o,o,o+r,o+(s-(o+r))+r),this.size-=r},u.prototype.ni=function(o,r,s){if(this.Pb||1>s||r%s!=0)throw c.i.Hb();for(var l=r>>1,h=0;h<l;h+=s){r-=s;for(var f=0;f<s;f++){var p=this.o[o+h+f];this.o[o+h+f]=this.o[o+r+f],this.o[o+r+f]=p}}},u.prototype.Wj=function(o,r,s){if(0>r||0>s||0>r||s+r>this.size)throw c.i.N();for(var l=r;l<r+s;l++)this.o[l]=o},u.prototype.Ar=function(o,r,s,l,h){if(!(l&&o==s||(this.o.set(this.o.subarray(s,s+r),o),l)))for(s=o,o=o+r-h,l=0,r=c.O.truncate(r/2);l<r;l++){for(var f=0;f<h;f++){var p=this.o[s+f];this.o[s+f]=this.o[o+f],this.o[o+f]=p}s+=h,o-=h}},u.prototype.vC=function(o,r,s,l,h){if(0>o||0>r||0>l)throw c.i.N();if(r!=0)for(this.size<(r<<1)+o&&this.resize((r<<1)+o),h||(o+=r-1<<1),h=h?2:-2,r+=l;l<r;l++)this.o[o]=s[l].x,this.o[o+1]=s[l].y,o+=h},u.prototype.Vw=function(o,r,s,l,h){if(0>o||0>r||0>l||this.size<r+o)throw c.i.N();if(h)for(h=0;h<r;h++)s[l+h]=this.o[o+h];else for(l=l+r-1;o<r;o++)s[l]=this.o[o],l--},u.prototype.clear=function(o){o?this.resize(0):this.Bh(0)},u.prototype.ix=function(){this.pk=this.Pb=!0},u.prototype.Vd=function(o,r,s){r=this.o.subarray(o,r),Array.prototype.sort.call(r,s),this.o.set(r,o)},u.prototype.zJ=function(o,r){if(this.Pb)throw c.i.fa("invalid call. Attribute Stream is read only.");this.o[o]|=r},u.prototype.KE=function(o,r){if(this.Pb)throw c.i.fa("invalid call. Attribute Stream is read only.");this.o[o]&=~r},u.prototype.Tp=function(){return 1},u})();c.pn=w})(Q||(Q={})),(function(c){c.Yc=(function(){function I(){}return I.Mr=function(w,u){return c.pn.qf(w,u)},I.Dn=function(w,u){return c.be.qf(w,u)},I.pP=function(w,u,o){switch(w){case 1:w=c.be.qf(u,o);break;case 2:w=c.ia.qf(u,o);break;case 4:w=c.pn.qf(u,o);break;default:throw c.i.Qa()}return w},I.YE=function(w,u){return I.pP(c.ra.Tp(w),u*c.ra.Va(w),c.ra.se(w))},I.Oh=function(w,u){return c.ia.qf(w,u)},I.qI=function(w){var u,o=[];for(u=0;u<w;u++)o.push(null);return o},I})()})(Q||(Q={})),(function(c){c.ga=function(I){I===void 0&&(I=0),this.u=I}})(Q||(Q={})),(function(c){c.NL=(function(){function I(){}return I.bind=function(w){c.Sc=w.PeDefs,c.pf=w.PeFactory,c.NC=w.PeVertcs,c.ej=w.PeCSTransformations,c.MC=w.PeGTTransformations,c.LL=w.PeGeogtran,c.KL=w.PeFactoryCodechange,c.LC=w.PeGCSExtent,c.Cg=w.PePCSInfo,c.ML=w.PeHorizon,c.JL=w.PeCoordsys,c.lp=w.PeGTlistExtended,c.lp.PE_GTLIST_OPTS_USE_DEFAULT=128,c.pf.initialize(null),c.Mx=w.PeGTlistExtendedEntry,c.pf.fromString(c.Sc.PE_TYPE_UNIT,'UNIT["Meter",1.0]')},I})(),c.pf=null,c.NC=null,c.JL=null,c.ML=null,c.Cg=null,c.lp=null,c.Mx=null,c.LC=null,c.KL=null,c.LL=null,c.Sc=null,c.MC=null,c.ej=null})(Q||(Q={})),(function(c){var I=(function(){function w(){}return w.Mb=function(u,o){return 0<=o?w.P(u):-w.P(u)},w.P=function(u){return 0>u?-u:u},w.ti=function(u){return 3552713678800501e-30>u},w.KC=function(u,o,r){return w.P(u-o)<=r*(1+(w.P(u)+w.P(o))/2)},w.Y=function(u,o){return w.KC(u,o,3552713678800501e-30)},w.FL=function(u){return 3552713678800501e-30>=w.P(u)},w.Cd=function(u){return w.FL(u)},w})();c.s=I,c.F=(function(){function w(){}return w.gp=function(u,o){var r=0;return(u=I.P(u))+(o=I.P(o))!=0&&(u>o?(r=o/u,r=u*Math.sqrt(1+r*r)):(r=u/o,r=o*Math.sqrt(1+r*r))),r},w.Wq=function(u,o,r,s,l){for(var h=[0,0,0],f=[0,0,0],p=0;2>=p;p++)o[p]-=u[p],r[p]-=o[p];r=h[1]*f[2]-h[2]*f[1],o=h[2]*f[0]-h[0]*f[2],h=h[0]*f[1]-h[1]*f[0],u=-1*(r*u[0]+o*u[1]+h*u[2]),s[0]=r,s[1]=o,s[2]=h,s[3]=u,f=w.on(s),s[0]/=f,s[1]/=f,s[2]/=f,s[3]/=f,l!=0&&(f=I.Cd(h)?I.Cd(u)?I.Mb(1,o):-I.Mb(1,u):I.Mb(1,h),f*=I.Mb(1,l),s[0]*=f,s[1]*=f,s[2]*=f,s[3]*=f)},w.zx=function(u,o,r){r[0]=u[1]*o[2]-o[1]*u[2],r[1]=u[2]*o[0]-o[2]*u[0],r[2]=u[0]*o[1]-o[0]*u[1]},w.St=function(u,o){return u[0]*o[0]+u[1]*o[1]+u[2]*o[2]},w.on=function(u){return w.gp(w.gp(u[0],u[1]),u[2])},w.cl=function(u,o,r,s,l,h,f,p){u=w.n(u,o,r);var g=Math.cos(r);h.u=(u+l)*g*Math.cos(s),f.u=(u+l)*g*Math.sin(s),p.u=(u*(1-o)+l)*Math.sin(r)},w.jO=function(u,o,r,s,l,h,f){var p=w.gp(o,r),g=1*Math.sqrt(1-u),_=g/1;if(I.Y(p,0))h.u=0,l.u=I.Mb(1.570796326794897,s),f.u=I.P(s)-g;else{h.u=Math.atan2(r,o),r=Math.atan2(1*s,g*p),h=Math.cos(r);var M=Math.sin(r);o=g*u/(1-u),u*=1,r=Math.atan2(s+o*M*M*M,p-u*h*h*h),3.141592653589793<I.P(r)&&(r=I.Mb(3.141592653589793,r)-r),r=Math.atan(_*Math.tan(r)),M=Math.sin(r),h=Math.cos(r),l.u=Math.atan2(s+o*M*M*M,p-u*h*h*h),1.570796326794897<I.P(l.u)&&(l.u=I.Mb(3.141592653589793,l.u)-l.u),r=Math.atan(_*Math.tan(l.u)),M=Math.sin(r),h=Math.cos(r),f.u=(s-g*M)*Math.sin(l.u)+(p-1*h)*Math.cos(l.u)}},w.n=function(u,o,r){return r=Math.sin(r),u/Math.sqrt(1-o*r*r)},w.ot=function(u,o){return Math.atan2(Math.sin(o)*(1-u),Math.cos(o))},w.Qj=function(u,o){return Math.atan2(Math.sin(o),Math.cos(o)*(1-u))},w.Rq=function(u,o){if(I.ti(u)||o==0||I.Y(I.P(o),1.570796326794897))return o;if(.006884661117170036>u){var r=Math.sqrt(1-u),s=(1-r)/(1+r),l=s*s,h=s*l,f=s*h,p=s*f,g=s*p,_=s*g,M=1.572916666666667*h-3.2578125*p+4.295068359375*_;u=2.142578125*f-6.071484375*g,r=3.129296875*p-11.249837239583334*_;var R=4.775276692708333*g,$=7.958636765252976*_,P=Math.cos(2*o);return o+Math.sin(2*o)*(1.5*s-.84375*h+.525390625*p-.2688395182291667*_-M+r-$+P*(2*(1.3125*l-1.71875*f+1.650146484375*g)-4*u+6*R+P*(4*M-12*r+24*$+P*(8*u-32*R+P*(16*r-80*$+P*(32*R+64*P*$))))))}for(r=1-u,s=u/2,h=(l=I.P(o))*w.Zu(u)/(1.570796326794897*r),f=9999,g=l,l=0;1e-16<f&&50>l;l++)_=w.w(u,g),p=g-(M=(p=(w.kG(g,u)-s*Math.sin(2*g)/_)/r-h)/(_=1/(_*_*_))),f=I.P(M),g=p;return 0<=o?g:-g},w.qW=function(u,o){return I.ti(o)?u:u*w.Zu(o)/1.570796326794897},w.ba=function(u){return 0>(u=w.pF(u,6.283185307179586))?u+6.283185307179586:3.141592653589793>I.P(u)||I.Y(I.P(u),3.141592653589793)?u:u-6.283185307179586},w.pF=function(u,o){return u-Math.floor(u/o)*o},w.Ah=function(u,o){if(.006884661117170036>o){var r=(o=(1-(o=Math.sqrt(1-o)))/(1+o))*o,s=r*r;return u/(1+o)*(1+.25*r+.015625*s+.00390625*r*s)*1.570796326794897}return u*w.Zu(o)},w.Vq=function(u,o){var r=I.Mb(1,Math.sin(o));return o=1.570796326794897>=(o=I.P(w.pF(o,3.141592653589793)))?o:3.141592653589793-o,(I.Y(o,1.570796326794897)?o:Math.atan(Math.sqrt(1-u)*Math.tan(o)))*r},w.q=function(u,o,r){if(.006884661117170036>o){var s=(o=(1-(o=Math.sqrt(1-o)))/(1+o))*o,l=o*s,h=o*l,f=o*h,p=o*f,g=o*p,_=-.7291666666666666*l+.2278645833333333*f+.03987630208333334*g,M=.615234375*h-.21533203125*p,R=-.54140625*f+.20302734375*g,$=.48876953125*p,P=-.4488699776785715*g,j=Math.cos(2*r);return u/(1+o)*((1+.25*s+.015625*h+.00390625*p)*r+Math.sin(2*r)*(-1.5*o+.1875*l+.0234375*f+.00732421875*g-_+R-P+j*(2*(.9375*s-.234375*h-.03662109375*p)-4*M+6*$+j*(4*_-12*R+24*P+j*(8*M-32*$+j*(16*R-80*P+j*(32*$+64*j*P)))))))}return u*(w.kG(r,o)-.5*o*Math.sin(2*r)/w.w(o,r))},w.w=function(u,o){return o=Math.sin(o),Math.sqrt(1-u*o*o)},w.Zu=function(u){return I.KC(u,1,2220446049250313e-31)?1:1>u?w.Xw(0,1-u)-u/3*w.Uw(0,1-u):NaN},w.kG=function(u,o){var r=I.Mb(1,u);u=I.P(u);var s=Math.floor(u/1.570796326794897);if(1<o)o=u==0?0:NaN;else if(I.Cd(s))o=(u=w.sin(u))*w.Xw(1-u*u,1-o*u*u)-o/3*u*u*u*w.Uw(1-u*u,1-o*u*u);else{var l=c.O.truncate(s%2),h=w.Zu(o);0<l?(u=1.570796326794897*(s+1)-u,o=h*(s+1)-(o=(u=Math.sin(u))*w.Xw(1-u*u,1-o*u*u)-o/3*u*u*u*w.Uw(1-u*u,1-o*u*u))):(u-=1.570796326794897*s,o=h*s+(o=(u=Math.sin(u))*w.Xw(1-u*u,1-o*u*u)-o/3*u*u*u*w.Uw(1-u*u,1-o*u*u)))}return o*r},w.sin=function(u){u=w.ba(u);var o=I.Mb(1,u);return u=I.P(u),I.Y(u,3.141592653589793)?0:I.Y(u,1.570796326794897)?1*o:Math.sin(u)*o},w.Uw=function(u,o){var r,s,l,h,f=u,p=o,g=1;for(o=0,u=1;s=((r=.2*(f+p+3*g))-f)/r,l=(r-p)/r,h=(r-g)/r,!(1e-4>I.P(s)&&1e-4>I.P(l)&&1e-4>I.P(h));)h=Math.sqrt(p),o+=u/((r=Math.sqrt(g))*(g+(h=Math.sqrt(f)*(h+r)+h*r))),u*=.25,f=.25*(f+h),p=.25*(p+h),g=.25*(g+h);return p=(f=s*l)-(g=h*h),3*o+u*(1+(g=f-6*g)*(.10227272727272728*g-.2142857142857143-.1730769230769231*h*(s=g+p+p))+h*(.1666666666666667*s+h*(-.4090909090909091*p+.1153846153846154*h*f)))/(r*Math.sqrt(r))},w.Xw=function(u,o){for(var r,s,l,h,f=1;s=2-((r=(u+o+f)/3)+u)/r,l=2-(r+o)/r,h=2-(r+f)/r,!(1e-4>I.P(s)&&1e-4>I.P(l)&&1e-4>I.P(h));f=.25*(f+r))r=Math.sqrt(o),s=Math.sqrt(f),u=.25*(u+(r=Math.sqrt(u)*(r+s)+r*s)),o=.25*(o+r);return(1+(.04166666666666666*(u=s*l-h*h)-.1-.06818181818181818*(o=s*l*h))*u+.07142857142857142*o)/Math.sqrt(r)},w.Qw=function(u,o){if(I.ti(u)||o==0||I.Y(I.P(o),1.570796326794897))return o;if(.006884661117170036>u){var r=u*u,s=u*r,l=u*s,h=u*l,f=u*h,p=u*f,g=-(.02708333333333333*s+.03430059523809524*l+.03149181547619048*h+.02634359154541446*f+.02156896735835538*p),_=.007669890873015873*l+.01299603174603175*h+.0148051353064374*f+.01454454953803912*p,M=-(.002275545634920635*h+.004830845032667949*f+.006558395368616723*p),R=.0006957236677288761*f+.001775193002406544*p,$=-.000217324089394402*p,P=Math.cos(2*o);return o+Math.sin(2*o)*(-(.5*u+.2083333333333333*r+.09375*s+.04878472222222222*l+.02916666666666667*h+.01938905423280423*f+.01388255931712963*p)-g+M-$+P*(2*(.1041666666666667*r+.0875*s+.06050347222222222*l+.04151785714285714*h+.02958958540013228*f+.02203667534722222*p)-4*_+6*R+P*(4*g-12*M+24*$+P*(8*_-32*R+P*(16*M-80*$+P*(32*R+64*P*$))))))}return o==0||I.Y(I.P(o),1.570796326794897)?r=o:(l=(s=Math.sqrt(u))*Math.sin(o),r=Math.tan(.7853981633974483+o/2)*Math.pow((1-l)/(1+l),s/2),r=2*Math.atan(r)-1.570796326794897),r},w.yO=function(u,o){if(I.ti(u)||o==0||I.Y(I.P(o),1.570796326794897))return o;if(.006884661117170036>u){var r=u*(R=u*(M=u*(P=u*u))),s=u*($=u*r),l=.05833333333333333*M+.07232142857142858*R+.05634300595238095*r+.0355325796406526*$+.020235546186067*s,h=.02653149801587302*R+.04379960317460317*r+.0429211791776896*$+.03255384637546096*s,f=.01294022817460318*r+.02668104344536636*$+.03155651254609588*s,p=.00659454790965208*$+.0163075268674227*s,g=.003463473736911237*s,_=Math.cos(2*o);return o+Math.sin(2*o)*(.5*u+.2083333333333333*P+.08333333333333333*M+.03611111111111111*R+.01875*r+.01195601851851852*$+.008863673941798942*s-l+f-g+_*(2*(.1458333333333333*P+.1208333333333333*M+.07039930555555556*R+.03616071428571429*r+.01839451058201058*$+.01017113095238095*s)-4*h+6*p+_*(4*l-12*f+24*g+_*(8*h-32*p+_*(16*f-80*g+_*(32*p+64*_*g))))))}var M=Math.sqrt(u),R=M/2,$=Math.tan(.7853981633974483+o/2);u=0,l=1;for(var P=o;l!=0;P=s)r=M*Math.sin(P),s=$*Math.pow((1+r)/(1-r),R),s=2*Math.atan(s)-1.570796326794897,u++,(I.Y(s,P)||3e4<u)&&(l=0);return P},w})()})(Q||(Q={})),(function(c){var I=(function(){function w(u){this.ul=this.Us=null,this.Iv=!1,this.GA=this.HA=0,this.HH=new c.h,this.XH=new c.h,this.KA=!1,this.vq=new c.l,this.wH=this.sw=0,this.tw=null,this.zl=!1,this.Eo=null,this.bA=0,this.Ue=u,this.As=c.zb.xv(this.Ue,0,!0),this.HH.Rc(),this.XH.Rc(),this.RH=NaN;var o=u.getCode();0<o?(this.Kk=o,c.pf.getCode(u)):this.Kk=c.pf.getCode(u),0>this.Kk&&(this.Kk=0);var r=this.Ue.getType();if(this.jH=r==c.Sc.PE_TYPE_PROJCS?2:1,r==c.Sc.PE_TYPE_PROJCS&&!u.loadConstants())throw c.i.N("PeProjcs.loadConstants failed");o=r==c.Sc.PE_TYPE_GEOGCS?this.Ue:this.Ue.getGeogcs(),r!=c.Sc.PE_TYPE_GEOGCS&&c.pf.getCode(o),this.Eo=u.getUnit(),this.RH=o.getPrimem().getLongitude(),this.wH=u=o.getUnit().getUnitFactor(),u=Math.PI/(180*u),1e-10>Math.abs(u-1)&&(u=1),this.GA=u,(r&c.Sc.PE_TYPE_PROJCS)!=0?(o=this.Ue,this.HA=1/o.getUnit().getUnitFactor(),this.sw=.001/this.Ue.getUnit().getUnitFactor(),this.tw=c.Cg.generate(o,c.Cg.PE_PCSINFO_OPTION_NONE),this.zl=this.tw.isPannableRectangle(),this.bA=c.zb.qN(this.tw.getCentralMeridian(),this.GA)):(this.KA=this.zl=!0,this.HA=0,r=1/o.getUnit().getUnitFactor(),this.sw=.001/o.getDatum().getSpheroid().getAxis()*r,this.bA=0),this.zl&&(this.xx(),this.DK(),this.nY(),this.CK(),this.lY(),this.mY())}return w.prototype.$r=function(){return this.Kk},w.prototype.kk=function(){return this.tw},w.Py=function(u,o){return u==o||u!=null&&o!=null&&u.Kk==0&&o.Kk==0&&u.As===o.As},w.prototype.Wc=function(){return this.zl},w.prototype.gh=function(u){u.K(this.so)},w.prototype.pv=function(){return this.so.v},w.prototype.ov=function(){return this.so.C},w.prototype.GR=function(u){u.K(this.uw)},w.prototype.lY=function(){var u=this.Ue.getType();if(u==c.Sc.PE_TYPE_PROJCS){u=this.Ue;var o=this.kk().getCentralMeridian(),r=u.getGeogcs();if(r==null)throw c.i.fa("internal error");o=[[o+(r=1/r.getUnit().getUnitFactor()*Math.PI),0]],c.ej.geogToProj(u,1,o),o=o[0][0],r=u.getParameters()[c.Sc.PE_PARM_X0].getValue();var s=this.ml();u=new c.l,s.A(u),o=(s=Math.abs(o-r))+r,r=-1*s+r,s=u.H,u=u.G;var l=new c.l;l.K(r,u,o,s),this.so==null&&(this.so=l)}else{if(u!=c.Sc.PE_TYPE_GEOGCS)throw c.i.fa("internal error");r=1/this.Ue.getUnit().getUnitFactor()*Math.PI,(u=new c.l).K(-r,-r/2,r,r/2),this.so==null&&(this.so=u)}},w.prototype.mY=function(){var u=this.Ue.getType();if(u==c.Sc.PE_TYPE_PROJCS){var o=this.Ue;if(u=this.kk().getCentralMeridian(),(o=o.getGeogcs())==null)throw c.i.fa("internal error");o=1/o.getUnit().getUnitFactor()*Math.PI;var r=this.Vr(),s=new c.l;r.A(s),(r=new c.l).K(u-o,s.G,u+o,s.H),this.uw==null&&(this.uw=r)}else{if(u!=c.Sc.PE_TYPE_GEOGCS)throw c.i.fa("internal error");o=1/this.Ue.getUnit().getUnitFactor()*Math.PI,(u=new c.l).K(-o,-o/2,o,o/2),this.uw==null&&(this.uw=u)}},w.prototype.bf=function(){return this.GA},w.prototype.pm=function(){return this.HA},w.prototype.Vr=function(){if(this.zl)return this.ul;var u=this.ul;return u??(this.xx(),this.ul)},w.prototype.Wr=function(){return this.zl?null:(this.ul!=null||this.xx(),this.YG)},w.prototype.xx=function(){if(this.Ue.getType()==c.Sc.PE_TYPE_PROJCS){var u=this.Ue,o=u.getGeogcs(),r=u.horizonGcsGenerate();if(r!=null){var s=r[0].getNump(),l=r[0].getKind();u=0<r[0].getInclusive();var h=this.bf(),f=90*h,p=360*h,g=370*h,_=180*h*c.Sc.PE_HORIZON_DELTA/Math.PI,M=new c.l,R=null;if(1<s){for(var $=1;$<s;$++)if(r[$].getKind()==c.Sc.PE_HORIZON_LINE){R==null&&(R=new c.Ta);var P=r[$].getCoord();R.sx(P[0][0],P[0][1]),R.yj(P[1][0],P[1][1])}}if(l==c.Sc.PE_HORIZON_RECT)r=r[0].getCoord(),M.K(r[0][0],r[0][1]),M.Zb(r[1][0],r[1][1]),Math.abs(M.H-f)<1e-7*_&&(M.H=f),Math.abs(M.G+f)<1e-7*_&&(M.G=-f),M.R()>g&&(r=-400*h,M.K(r,M.G,r+5*p,M.H)),r=new c.Fh(M),this.ul==null&&(this.ul=r,this.Iv=u);else{if(g=new c.Da,p=this.kk().isGcsHorizonMultiOverlap(),M=c.gu.bF(o,c.hu.Integer64),p){for(g=new c.gL,_=c.Gh.local().V(g,M,null),$=0;$<s;$++)if(r[$].getKind()==c.Sc.PE_HORIZON_POLY){for(o=r[$].getSize(),h=r[$].getCoord(),l=[],f=0;f<o;f++)l[f]=c.h.construct(h[f][0],h[f][1]);r[$].getInclusive(),p&&((h=new c.Da).Yk(l,o-1),g.ZX(h),_.qe())}g=_.next()}else for($=0;$<s;$++)if(r[$].getKind()==c.Sc.PE_HORIZON_POLY){for(o=r[$].getSize(),h=r[$].getCoord(),p=[],f=0;f<o;f++)p[f]=c.h.construct(h[f][0],h[f][1]);r[$].getInclusive(),g.Yk(p,o-1)}u?c.Xj.local().wn(g,M,1):c.kp.local().wn(g,M,1),c.dj.local().wn(g,M,1),this.ul==null&&(this.ul=g,this.Iv=u,this.YG=R)}}}},w.prototype.hv=function(){return this.zl||this.ul==null&&this.xx(),this.Iv},w.prototype.DK=function(){if(this.jH==2){var u=this.Ue.horizonPcsGenerate();if(u!=null){var o=u[0].getKind();u[0].getInclusive();var r=u[0].getNump(),s=!1;if(o==c.Sc.PE_HORIZON_RECT)u=u[0].getCoord(),(r=new c.l).K(u[0][0],u[0][1]),r.Zb(u[1][0],u[1][1]),u=new c.Fh(r);else{for(o=-1,s=0;s<r;s++)u[s].getKind()==c.Sc.PE_HORIZON_POLY&&(o=s);for(s=u[o].getSize()-1,u=u[o].getCoord(),r=[],o=0;o<s;o++)r[o]=c.h.construct(u[o][0],u[o][1]);u=o=new c.Da,o.Yk(r,s),s=!0}this.kk().isDensificationNeeded()&&(r=1e5*this.pm(),u=c.Xl.local().V(u,r,null)),s&&(s=new c.Fh,u.bn(s),u.Ke(),u.Qb(),u.qR(),c.Xj.local().wn(u,null,1)),this.Us==null&&(this.Us=u)}}},w.prototype.ml=function(){if(this.zl)return this.Us;var u=this.Us;return u??(this.DK(),this.Us)},w.prototype.nY=function(){if(this.Ue.getType()==c.Sc.PE_TYPE_PROJCS){var u=90*this.bf();u=[[0,u],[0,-u]],c.ej.geogToProj(this.Ue,2,u);var o=this.kk(),r=o.getNorthPoleLocation()!=c.Cg.PE_POLE_OUTSIDE_BOUNDARY;o=o.getSouthPoleLocation()!=c.Cg.PE_POLE_OUTSIDE_BOUNDARY,this.KA||(r&&this.HH.ma(u[0][0],u[0][1]),o&&this.XH.ma(u[1][0],u[1][1]))}this.KA=!0},w.prototype.CK=function(){if(this.jH==1){var u=400*this.bf();this.vq.K(-u,-u,u,u)}else u=c.Cg.generate(this.Ue,c.Cg.PE_PCSINFO_OPTION_DOMAIN),u=c.l.construct(u.getDomainMinx(),u.getDomainMiny(),u.getDomainMaxx(),u.getDomainMaxy()),this.vq.B()&&this.vq.K(u)},w.prototype.hR=function(u){this.zl&&u.K(this.vq),this.vq.B()&&this.CK(),u.K(this.vq)},w.prototype.Up=function(){return this.RH},w.prototype.zi=function(){return this.bA},w.prototype.Hd=function(){return this.Eo},w.prototype.Xr=function(){return this.wH},w})();c.OC=I})(Q||(Q={})),(function(c){var I=(function(){function w(u){this.KT=u,this.As=c.zb.xv(u,0,!0);var o=u.getCode();this.ss=0<o?o:c.pf.getCode(u),0>this.ss&&(this.ss=0),this.Eo=o=this.KT.getUnit(),this.IH=1/o.getUnitFactor(),c.pf.getCode(u)}return w.Py=function(u,o){return u==o||u!=null&&o!=null&&u.ss==0&&o.ss==0&&u.As===o.As},w.prototype.$r=function(){return this.ss},w})();c.PL=I})(Q||(Q={})),(function(c){c.Yg=(function(){function I(){}return I.tb=function(w,u,o,r,s,l,h,f){if(l!=null||h!=null||f!=null){r=c.F.ba(r),u=c.F.ba(u),o=c.F.ba(o),s=c.F.ba(s),1.570796326794897<c.s.P(o)&&(o=c.s.Mb(3.141592653589793,o)-o,u=c.F.ba(u+3.141592653589793)),1.570796326794897<c.s.P(s)&&(s=c.s.Mb(3.141592653589793,s)-s,r=c.F.ba(r+3.141592653589793));var p=c.F.ba(r-u);if(c.s.Y(o,s)&&(c.s.Y(u,r)||c.s.Y(c.s.P(o),1.570796326794897)))l!=null&&(l.u=0),h!=null&&(h.u=0),f!=null&&(f.u=0);else{if(c.s.Y(o,-s)){if(c.s.Y(c.s.P(o),1.570796326794897))return l!=null&&(l.u=3.141592653589793*w),h!=null&&(h.u=0<o?c.F.ba(3.141592653589793-c.F.ba(r)):c.F.ba(r)),void(f!=null&&(f.u=0<o?c.F.ba(r):c.F.ba(3.141592653589793-c.F.ba(r))));if(c.s.Y(c.s.P(p),3.141592653589793))return l!=null&&(l.u=3.141592653589793*w),h!=null&&(h.u=0),void(f!=null&&(f.u=0))}var g=c.s.P(o)==1.570796326794897?0:Math.cos(o),_=Math.sin(o),M=c.s.P(s)==1.570796326794897?0:Math.cos(s),R=Math.sin(s),$=c.s.P(p)==1.570796326794897?0:Math.cos(p),P=c.s.P(p)==3.141592653589793?0:Math.sin(p);if(l!=null){var j=Math.sin((s-o)/2);p=Math.sin(p/2),l.u=2*Math.asin(Math.sqrt(j*j+g*M*p*p))*w}h!=null&&(h.u=c.s.Y(c.s.P(o),1.570796326794897)?0>o?r:c.F.ba(3.141592653589793-r):Math.atan2(M*P,g*R-_*M*$)),f!=null&&(c.s.Y(c.s.P(s),1.570796326794897)?f.u=0>s?u:c.F.ba(3.141592653589793-u):(f.u=Math.atan2(g*P,R*g*$-M*_),f.u=c.F.ba(f.u+3.141592653589793)))}}},I.rf=function(w,u,o,r,s,l,h){if(l!=null||h!=null){u=c.F.ba(u),o=c.F.ba(o),1.570796326794897<c.s.P(o)&&(o=c.s.Mb(3.141592653589793,o)-o,u=c.F.ba(u+3.141592653589793)),c.s.Y(c.s.P(o),1.570796326794897)&&(u=0),s=c.F.ba(s);var f=c.s.Y(c.s.P(s),1.570796326794897)?0:Math.cos(s),p=c.s.Y(c.s.P(s),3.141592653589793)?0:Math.sin(s),g=c.s.Y(c.s.P(o),1.570796326794897)?0:Math.cos(o),_=Math.sin(o);w=r/w,r=c.s.Y(c.s.P(w),1.570796326794897)?0:Math.cos(w);var M=c.s.Y(c.s.P(w),3.141592653589793)?0:Math.sin(w),R=Math.asin(_*r+g*M*f);h!=null&&(h.u=R),l!=null&&(l.u=c.s.Y(c.s.P(R),1.570796326794897)?c.s.Y(o,-R)?0>R?s:c.F.ba(3.141592653589793-s):u:c.s.Y(c.s.P(o),1.570796326794897)&&c.s.Y(w,3.141592653589793)?0>o?s:c.F.ba(3.141592653589793-s):c.F.ba(u+Math.atan2(M*p,g*r-_*M*f)))}},I})()})(Q||(Q={})),(function(c){c.Wk=(function(){function I(){}return I.tb=function(w,u,o,r,s,l,h,f,p){var g=new c.ga(0),_=new c.ga(0),M=[0,0,0],R=[0,0,0],$=[0,0,0],P=new c.ga(0),j=new c.ga(0),F=new c.ga(0),V=new c.ga(0),W=new c.ga(0);if(h!=null||f!=null||p!=null)if(c.s.ti(u))c.Yg.tb(w,o,r,s,l,h,f,p);else{s=c.F.ba(s),o=c.F.ba(o);var q=c.F.ba(s-o);if(c.s.Y(r,l)&&(c.s.Y(o,s)||c.s.Y(c.s.P(r),1.570796326794897)))h!=null&&(h.u=0),f!=null&&(f.u=0),p!=null&&(p.u=0);else{if(c.s.Y(r,-l)){if(c.s.Y(c.s.P(r),1.570796326794897))return h!=null&&(h.u=2*c.F.Ah(w,u)),f!=null&&(f.u=0<r?c.F.ba(3.141592653589793-c.F.ba(s)):c.F.ba(s)),void(p!=null&&(p.u=0<r?c.F.ba(s):c.F.ba(3.141592653589793-c.F.ba(s))));c.s.Y(c.s.P(q),3.141592653589793)&&(h!=null&&(h.u=2*c.F.Ah(w,u)),f!=null&&(f.u=0),p!=null&&(p.u=0))}else(c.s.Y(c.s.P(r),1.570796326794897)||c.s.Y(c.s.P(l),1.570796326794897))&&(c.s.Y(c.s.P(r),1.570796326794897)?o=s:s=o);var J=0;if(0>q){J=1;var nt=o;o=s,s=nt,nt=r,r=l,l=nt}q=c.F.ot(u,r);var st=c.F.ot(u,l);f==null&&p==null||(c.Yg.tb(w,o,q,s,st,null,g,_),g=Math.atan2(Math.sin(g.u)*Math.cos(r-q),Math.cos(g.u)),_=Math.atan2(Math.sin(_.u)*Math.cos(l-st),Math.cos(_.u)),J!=0&&(nt=g,g=_,_=nt),f!=null&&(f.u=g),p!=null&&(p.u=_)),h!=null&&(c.F.cl(1,u,r,o,0,F,V,W),M[0]=F.u,M[1]=V.u,M[2]=W.u,c.F.cl(1,u,l,s,0,F,V,W),R[0]=F.u,R[1]=V.u,R[2]=W.u,$[0]=M[1]*R[2]-R[1]*M[2],$[1]=-(M[0]*R[2]-R[0]*M[2]),$[2]=M[0]*R[1]-R[0]*M[1],u=1-c.F.w(u,c.F.Vq(u,c.F.Qj(u,Math.acos($[2]/Math.sqrt($[0]*$[0]+$[1]*$[1]+$[2]*$[2]))))),u*=2-u,f=Math.atan2(-$[1],-$[0]),$=c.F.ba(f-1.570796326794897),f=c.F.ba(f+1.570796326794897),$=c.s.P(c.F.ba(o-$))<=c.s.P(c.F.ba(o-f))?$:f,c.Yg.tb(1,$,0,o,q,P,null,null),c.Yg.tb(1,$,0,s,st,j,null,null),3.141592653589793<P.u+j.u&&($=c.F.ba($+3.141592653589793),c.Yg.tb(1,$,0,o,q,P,null,null),c.Yg.tb(1,$,0,s,st,j,null,null)),P.u*=c.s.Mb(1,r),j.u*=c.s.Mb(1,l),P.u=c.F.Qj(u,P.u),j.u=c.F.Qj(u,j.u),o=c.F.q(w,u,P.u),w=c.F.q(w,u,j.u),h.u=c.s.P(w-o))}}},I.rf=function(w,u,o,r,s,l,h,f){var p=0,g=new c.ga(0),_=new c.ga(0),M=[0,0,0],R=[0,0,0],$=new c.ga(0),P=new c.ga(0),j=new c.ga(0);if(h!=null||f!=null)if(c.s.ti(u))c.Yg.rf(w,o,r,s,l,h,f);else if(c.s.Cd(s))h!=null&&(h.u=o),f!=null&&(f.u=r);else if(l=c.F.ba(l),0>s&&(s=c.s.P(s),l=c.F.ba(l+3.141592653589793)),o=c.F.ba(o),r=c.F.ba(r),1.570796326794897<c.s.P(r)&&(o=c.F.ba(o+3.141592653589793),r=c.s.Mb(3.141592653589793,r)-r),c.s.Y(c.s.P(r),1.570796326794897)&&(o=0),c.s.Cd(r)){var F=c.s.P(1.570796326794897-c.s.P(l));F=c.F.Qj(u,F),F=1-c.F.w(u,c.F.Vq(u,F)),F*=2-F,w=s/c.F.Ah(w,F)*1.570796326794897,w=c.F.Rq(F,w),w=c.F.ot(F,w),c.Yg.rf(1,o,r,w,l,h,g),f!=null&&(p=g.u),f!=null&&(f.u=c.F.Qj(u,p))}else if(c.s.Y(c.s.P(r),1.570796326794897))g=2*(p=c.F.Ah(w,u)),l=0<(w=c.s.Mb(1.570796326794897,r))?c.F.ba(3.141592653589793-l):l,r=p-s,c.s.P(r)<=p?h!=null&&(h.u=l):(r=Math.floor(s/g),c.O.truncate(r%2)==0?(h!=null&&(h.u=l),s-=r*g):(h!=null&&(h.u=c.F.ba(l+3.141592653589793)),s=(r+1)*g-s),r=p-s),f!=null&&(f.u=c.F.Rq(u,r/p*w));else{F=c.F.ot(u,r),l=Math.atan2(Math.sin(l),Math.cos(l)*Math.cos(r-F));var V=c.O.truncate(c.s.Mb(1,F))*(1.570796326794897>=c.s.P(l)?1:-1);l=c.F.ba(o+Math.atan(Math.tan(l)*-Math.sin(F))),c.Yg.tb(w,l,0,o,F,null,_,null),F=c.s.P(1.570796326794897-c.s.P(_.u)),F=c.F.Qj(u,F),F=1-c.F.w(u,c.F.Vq(u,F)),F*=2-F,c.F.cl(1,u,0,l,0,$,P,j),M[0]=$.u,M[1]=P.u,M[2]=j.u,c.F.cl(1,u,r,o,0,$,P,j),R[0]=$.u,R[1]=P.u,R[2]=j.u,r=Math.acos((M[0]*R[0]+M[1]*R[1]+M[2]*R[2])/Math.sqrt(R[0]*R[0]+R[1]*R[1]+R[2]*R[2])),r=c.F.Qj(F,r),s=0<(r=c.F.q(w,F,r)+s*V)?_.u:c.F.ba(_.u+3.141592653589793),w=c.s.P(r)/c.F.Ah(w,F)*1.570796326794897,w=c.F.Rq(F,w),w=c.F.ot(F,w),c.Yg.rf(1,l,0,w,s,h,g),f!=null&&(p=g.u),f!=null&&(f.u=c.F.Qj(u,p))}},I})()})(Q||(Q={})),(function(c){c.cu=(function(){function I(){}return I.tb=function(w,u,o,r,s,l,h,f,p){var g=0,_=0,M=0;if(h!=null||f!=null||p!=null)if(c.s.ti(u))c.Yg.tb(w,o,r,s,l,h,f,p);else{var R=c.F.ba(s-o);if(c.s.Y(r,l)&&(c.s.Cd(R)||c.s.Y(c.s.P(r),1.570796326794897)))h!=null&&(h.u=0),f!=null&&(f.u=0),p!=null&&(p.u=0);else{if(c.s.Y(r,-l)){if(c.s.Y(c.s.P(r),1.570796326794897))return h!=null&&(h.u=2*c.F.Ah(w,u)),f!=null&&(f.u=0<r?c.F.ba(3.141592653589793-c.F.ba(s)):c.F.ba(s)),void(p!=null&&(p.u=0<r?c.F.ba(s):c.F.ba(3.141592653589793-c.F.ba(s))));c.s.Y(c.s.P(R),3.141592653589793)&&(h!=null&&(h.u=2*c.F.Ah(w,u)),f!=null&&(f.u=0),p!=null&&(p.u=0))}else if(c.s.Y(c.s.P(r),1.570796326794897)||c.s.Y(c.s.P(l),1.570796326794897)||c.s.Cd(R)||c.s.Y(c.s.P(R),3.141592653589793))return void c.Wk.tb(w,u,o,r,s,l,h,f,p);var $=1-Math.sqrt(1-u),P=u/(1-u),j=w*(1-$);w=c.F.Vq(u,r);var F=c.F.Vq(u,l);u=c.s.P(w)==1.570796326794897?0:Math.cos(w);var V=Math.sin(w),W=c.s.P(F)==1.570796326794897?0:Math.cos(F),q=Math.sin(F),J=R,nt=Math.cos(J),st=Math.sin(J),ct=1,bt=0;do{var Tt=J,Ut=Math.sqrt(Math.pow(W*st,2)+Math.pow(u*q-V*W*nt,2)),Pt=V*q+u*W*nt,ee=Math.atan2(Ut,Pt);if(Ut==0){ct=0;break}var Nt=u*W*st/Ut;if(g=Math.cos(Math.asin(Nt)),_=Pt-2*V*q/(g*=g),1<c.s.P(_)&&(_=c.s.Mb(1,_)),J=R+(1-(J=$/16*g*(4+$*(4-3*g))))*$*Nt*(ee+J*Ut*(_+J*Pt*(2*(M=_*_)-1))),nt=Math.cos(J),st=Math.sin(J),bt++,3.141592653589793<c.s.P(J)&&30<bt){ct=0;break}}while(5e3>=bt&&!c.s.Y(Tt,J));if(ct!=0)$=(P*=g)*(256+P*(P*(74-47*P)-128))/1024,h!=null&&(h.u=j*(1+P*(4096+P*(P*(320-175*P)-768))/16384)*(ee-$*Ut*(_+$/4*(Pt*(2*M-1)-$/6*_*(4*Ut*Ut-3)*(4*M-3))))),f!=null&&(f.u=c.s.Y(c.s.P(r),1.570796326794897)?0>r?s:c.F.ba(3.141592653589793-s):Math.atan2(W*st,u*q-V*W*nt)),p!=null&&(c.s.Y(c.s.P(l),1.570796326794897)?p.u=0>l?o:c.F.ba(3.141592653589793-o):(p.u=Math.atan2(u*st,u*q*nt-V*W),p.u=c.F.ba(p.u+3.141592653589793)));else{J=c.s.Mb(3.141592653589793,R),Pt=V*q-u*W,ee=Math.acos(Pt),Ut=Math.sin(ee),g=1,bt=Nt=0;do M=Nt,nt=1-.25*(Nt=$*(g*=g)*(1+$+$*$))+.1875*(_=$*$*(nt=g*g)*(1+2.25*$))-.1953125*(ct=$*$*$*nt*g),Nt=.25*Nt-.25*_+.29296875*ct,st=.03125*_-.05859375*ct,ct*=.00651041666666667,_=Pt-2*V*q/g,1<c.s.P(_)&&(_=c.s.Mb(1,_)),g=Math.acos(_),Pt=Math.cos(2*g),Tt=Math.cos(3*g),st=(Nt=c.s.Y(r,-l)?c.F.ba(3.141592653589793-R)/(3.141592653589793*$*nt):c.F.ba(J-R)/($*(nt*ee+Nt*Ut*_+st*Math.sin(2*ee)*Pt+ct*Math.sin(3*ee)*Tt)))*Ut/(u*W),J=1.570796326794897<c.s.P(R)?c.s.Mb(3.141592653589793,st)-Math.asin(st):Math.asin(st),nt=Math.cos(J),Ut=Math.sqrt(Math.pow(W*st,2)+Math.pow(u*q-V*W*nt,2)),ee=3.141592653589793-Math.asin(c.s.P(Ut)),Pt=Math.cos(ee),g=Math.cos(Math.asin(Nt)),bt++;while(70>=bt&&!c.s.Y(M,Nt));h!=null&&(nt=1+(P*=g*=g)*(4096+P*(P*(320-175*P)-768))/16384,c.s.Y(r,-l)?h.u=3.141592653589793*j*nt:(_=Pt-2*V*q/g,g=Math.acos(_),Pt=Math.cos(2*g),Tt=Math.cos(3*g),h.u=j*(nt*ee+P*(P*(128+P*(35*P-60))-512)/2048*Ut*_+P*(5*P-4)/6144*P*P*Math.sin(2*ee)*Pt+ct*Math.sin(3*ee)*Tt+-762939453125e-16*P*P*P*P*Math.sin(4*ee)*Math.cos(4*g)))),f!=null&&(c.s.Cd(r)&&c.s.Cd(l)?(g=Math.sqrt(1-Nt*Nt),f.u=Math.acos(g),0>R&&(f.u*=-1)):c.s.Y(c.s.P(r),1.570796326794897)?f.u=0>r?s:c.F.ba(3.141592653589793-s):(h=Nt/u,j=Math.sqrt(1-h*h),0>u*q-V*W*Math.cos(J)&&(j*=-1),f.u=Math.atan2(h,j),c.s.Y(r,-l)&&c.s.P(c.F.ba(o-s))>3.141592653589793*(1-$*Math.cos(r))&&(0<r&&1.570796326794897>c.s.P(f.u)||0>r&&1.570796326794897<c.s.P(f.u))&&(f.u=c.s.Mb(3.141592653589793,f.u)-f.u))),p!=null&&(c.s.Cd(r)&&c.s.Cd(l)?(g=Math.sqrt(1-Nt*Nt),p.u=Math.acos(g),0<=R&&(p.u*=-1)):c.s.Y(c.s.P(l),1.570796326794897)?p.u=0>l?o:c.F.ba(3.141592653589793-o):(R=Nt/W,h=Math.sqrt(1-R*R),j=Math.sin(J/2),0>Math.sin(F-w)-2*u*q*j*j&&(h*=-1),p.u=Math.atan2(R,h),p.u=c.F.ba(p.u+3.141592653589793),c.s.Y(r,-l)&&!c.s.Cd(r)&&!c.s.Y(c.s.P(r),1.570796326794897)&&c.s.P(c.F.ba(o-s))>3.141592653589793*(1-$*Math.cos(r))&&(f!=null?j=f.u:(h=Nt/u,j=Math.sqrt(1-h*h),0>u*q-V*W*Math.cos(J)&&(j*=-1),j=Math.atan2(h,j),c.s.Y(r,-l)&&c.s.P(c.F.ba(o-s))>3.141592653589793*(1-$*Math.cos(r))&&(0<r&&1.570796326794897>c.s.P(j)||0>r&&1.570796326794897<c.s.P(j))&&(j=c.s.Mb(3.141592653589793,j)-j)),1.570796326794897>=c.s.P(j)&&1.570796326794897<c.s.P(p.u)||1.570796326794897<=c.s.P(j)&&1.570796326794897>c.s.P(p.u))&&(p.u=-1*c.F.ba(p.u+3.141592653589793))))}}}},I.rf=function(w,u,o,r,s,l,h,f){if(h!=null||f!=null)if(c.s.ti(u))c.Yg.rf(w,o,r,s,l,h,f);else if(l=c.F.ba(l),c.s.Y(c.s.P(r),1.570796326794897)||c.s.Cd(l)||c.s.Y(c.s.P(l),3.141592653589793))c.Wk.rf(w,u,o,r,s,l,h,f);else{var p=c.s.P(l)==1.570796326794897?0:Math.cos(l),g=c.s.P(l)==3.141592653589793?0:Math.sin(l);c.s.Y(c.s.P(r),1.570796326794897)&&(o=0),l=1-Math.sqrt(1-u);var _=c.F.Vq(u,r);r=c.s.P(_)==1.570796326794897?0:Math.cos(_);var M=Math.sin(_);_=Math.atan2(Math.tan(_),p);var R=r*g,$=R*R,P=1-$,j=u/(1-u)*P,F=(u=j*(256+j*(j*(74-47*j)-128))/1024)/4,V=u/6,W=s/(w*(1-l)*(1+j*(4096+j*(j*(320-175*j)-768))/16384)),q=W;do{var J=q;s=c.s.P(q)==1.570796326794897?0:Math.cos(q);var nt=(j=c.s.P(q)==3.141592653589793?0:Math.sin(q))*j;q=u*j*((w=Math.cos(2*_+q))+F*(s*(2*(q=w*w)-1)-V*w*(4*nt-3)*(4*q-3)))+W}while(!c.s.Y(J,q));s=c.s.P(q)==1.570796326794897?0:Math.cos(q),j=c.s.P(q)==3.141592653589793?0:Math.sin(q),h!=null&&(g=Math.atan2(j*g,r*s-M*j*p),P=l/16*P*(4+l*(4-3*P)),w=Math.cos(2*_+q),h.u=c.F.ba(o+(g-(1-P)*l*R*(q+P*j*(w+P*s*(2*w*w-1)))))),f!=null&&(P=M*j-r*s*p,P=(1-l)*Math.sqrt($+P*P),f.u=Math.atan2(M*s+r*j*p,P))}},I})()})(Q||(Q={})),(function(c){c.PC=(function(){function I(){}return I.tb=function(w,u,o,r,s,l,h,f,p){var g=c.F.ba(s-o),_=c.s.Y(c.s.P(r),1.570796326794897),M=c.s.Y(c.s.P(l),1.570796326794897);if(c.s.Y(r,l)&&(c.s.Cd(g)||_))h!=null&&(h.u=0),f!=null&&(f.u=0),p!=null&&(p.u=0);else{if(c.s.ti(u)){var R=Math.sin(r),$=Math.sin(l);R=Math.sqrt((1+R)/(1-R)),$=Math.sqrt((1+$)/(1-$)),R=Math.log($)-Math.log(R),R=Math.atan2(g,R),h!=null&&(h.u=c.s.Y(r,l)?c.s.P(w*Math.cos(r)*g):c.s.P((w*l-w*r)/Math.cos(R)))}else $=c.F.Qw(u,l),R=Math.sin(c.F.Qw(u,r)),$=Math.sin($),R=Math.sqrt((1+R)/(1-R)),$=Math.sqrt((1+$)/(1-$)),R=Math.log($)-Math.log(R),R=Math.atan2(g,R),h!=null&&(c.s.Y(r,l)?h.u=c.s.P(w*g*Math.cos(r)/c.F.w(u,r)):(g=c.F.q(w,u,r),w=c.F.q(w,u,l),h.u=c.s.P((w-g)/Math.cos(R))));f==null&&p==null||(h=c.F.ba(R+3.141592653589793),_&&M||!_&&!M||(_?R=0>r?s:c.F.ba(3.141592653589793-s):M&&(h=0>l?o:c.F.ba(3.141592653589793-o))),f!=null&&(f.u=R),p!=null&&(p.u=h))}},I.rf=function(w,u,o,r,s,l,h,f){l=c.F.ba(l),0>s&&(s=c.s.P(s),l=c.F.ba(l+3.141592653589793)),c.s.ti(u)?c.s.Y(c.s.P(r),1.570796326794897)?(o=0>r?l:c.F.ba(3.141592653589793-l),3.141592653589793>=(l=s/w%6.283185307179586)?w=r-c.s.Mb(l,r):(o=c.F.ba(o+3.141592653589793),w=-r+c.s.Mb(l-3.141592653589793,r))):c.s.Y(c.s.P(l),1.570796326794897)?(o=c.F.ba(o+c.s.Mb(s,l)/(w*Math.cos(r))),w=r):(w=r+s*Math.cos(l)/w,1.570796326794897<c.s.P(w)&&(w=1.570796326794897),c.s.Y(c.s.P(w),1.570796326794897)&&(c.s.Cd(l)||c.s.Y(c.s.P(l),3.141592653589793))||(1.570796316258184<c.s.P(w)&&(w=c.s.Mb(1.570796316258184,w)),u=Math.sin(r),r=Math.sin(w),u=Math.sqrt((1+u)/(1-u)),r=Math.sqrt((1+r)/(1-r)),u=Math.log(r)-Math.log(u),o=c.F.ba(o+Math.tan(l)*u))):c.s.Y(c.s.P(r),1.570796326794897)?(o=0>r?l:c.F.ba(3.141592653589793-l),l=s/c.F.qW(w,u),3.141592653589793>=(l%=6.283185307179586)?w=r-c.s.Mb(l,r):(o=c.F.ba(o+3.141592653589793),w=-r+c.s.Mb(l-3.141592653589793,r)),w=c.F.Rq(u,w)):c.s.Y(c.s.P(l),1.570796326794897)?(o=c.F.ba(o+c.s.Mb(s,l)*c.F.w(u,r)/(w*Math.cos(r))),w=r):(w=1.570796326794897*(s*Math.cos(l)+c.F.q(w,u,r))/c.F.Ah(w,u),1.570796326794897<c.s.P(w)&&(w=c.s.Mb(1.570796326794897,w)),w=c.F.Rq(u,w),c.s.Y(c.s.P(w),1.570796326794897)&&(c.s.Cd(l)||c.s.Y(c.s.P(l),3.141592653589793))||(s=c.F.Qw(u,r),r=c.F.Qw(u,w),1.570796316258184<c.s.P(r)&&(r=c.s.Mb(1.570796316258184,w),w=c.F.yO(u,r)),u=Math.sin(s),r=Math.sin(r),u=Math.sqrt((1+u)/(1-u)),r=Math.sqrt((1+r)/(1-r)),u=Math.log(r)-Math.log(u),o=c.F.ba(o+Math.tan(l)*u))),h!=null&&(h.u=o),f!=null&&(f.u=w)},I})()})(Q||(Q={})),(function(c){c.kb=(function(){function I(){}return I.Xy=function(w,u,o,r,s,l,h){c.cu.tb(w,u,o,r,s,l,null,h,null)},I.yi=function(w,u,o,r,s,l,h,f){c.cu.rf(w,u,o,r,s,l,h,f)},I.wd=function(w,u,o,r,s,l,h,f,p,g){switch(g){case 2:c.Wk.tb(w,u,o,r,s,l,h,f,p);break;case 3:c.QC.tb(w,u,o,r,s,l,h,f,p);break;case 1:c.PC.tb(w,u,o,r,s,l,h,f,p);break;default:c.cu.tb(w,u,o,r,s,l,h,f,p)}},I.oj=function(w,u,o,r,s,l,h,f,p){switch(p){case 2:c.Wk.rf(w,u,o,r,s,l,h,f);break;case 3:c.QC.rf(w,u,o,r,s,l,h,f);break;case 1:c.PC.rf(w,u,o,r,s,l,h,f);break;default:c.cu.rf(w,u,o,r,s,l,h,f)}},I})()})(Q||(Q={})),(function(c){var I=(function(){function u(){this.y=this.x=null}return u.construct=function(o){var r=new u;return r.x=new c.Wb,r.x.set(o.x),r.y=new c.Wb,r.y.set(o.y),r},u.VE=function(o,r){var s=new u;return s.x=new c.Wb,s.x.set(o),s.y=new c.Wb,s.y.set(r),s},u.prototype.qg=function(){return this.x.qg()&&this.y.qg()},u.prototype.value=function(){return c.h.construct(this.x.value(),this.y.value())},u})();c.vY=I;var w=(function(){function u(){this.z=this.y=this.x=null}return u.construct=function(o){var r=new u;return r.x=new c.Wb,r.x.set(o.x),r.y=new c.Wb,r.y.set(o.y),r.z=new c.Wb,r.z.set(o.z),r},u.VE=function(o,r,s){var l=new u;return l.x=new c.Wb,l.x.set(o),l.y=new c.Wb,l.y.set(r),l.z=new c.Wb,l.z.set(s),l},u.prototype.qg=function(){return this.x.qg()&&this.y.qg()&&this.z.qg()},u.prototype.value=function(){return new c.Nd(this.x.value(),this.y.value(),this.z.value())},u.prototype.Qh=function(o){var r=new c.Wb,s=new c.Wb,l=new c.Wb;return r.Kl(this.x,o.x),s.Kl(this.y,o.y),l.Kl(this.z,o.z),(o=new c.Wb).dN(r,s),o.add(l),o},u.prototype.cF=function(o){var r=new u;r.x.Kl(this.y,o.z),r.y.Kl(this.z,o.x),r.z.Kl(this.x,o.y);var s=new c.Wb,l=new c.Wb,h=new c.Wb;return s.Kl(this.z,o.y),l.Kl(this.x,o.z),h.Kl(this.y,o.x),r.x.sub(s),r.y.sub(l),r.z.sub(h),r},u})();c.wY=w,c.Ox=(function(){function u(){}return u.EP=function(o,r,s){var l=r.x;r=r.y,u.cl(1,o,Math.cos(l),Math.sin(l),Math.cos(r),Math.sin(r),s)},u.DP=function(o,r){var s=new c.Nd;return u.EP(o,r,s),s},u.cl=function(o,r,s,l,h,f,p){o/=Math.sqrt(1-r*f*f),p.K(o*h*s,o*h*l,o*(1-r)*f)},u.Yu=function(o,r){var s=new c.Wb,l=new c.Wb,h=new c.Wb,f=new c.Wb;s.cos(r.x),l.sin(r.x),h.cos(r.y),f.sin(r.y);var p=new c.Wb;return p.set(f),p.Ag(f),p.No(o),p.No(-1),p.kN(),p.sqrt(),(r=new c.Wb).set(1),r.jm(p),(p=new c.Wb).set(r),p.Ag(h),p.Ag(s),(s=new c.Wb).set(r),s.Ag(h),s.Ag(l),(l=new c.Wb).set(r),l.No(1-o),l.Ag(f),w.VE(p,s,l)},u.SS=function(o,r,s,l){if(Math.abs(r.x-s.x)>Math.PI||Math.abs(r.y)>.5*Math.PI||Math.abs(s.y)>.5*Math.PI||(Math.abs(r.y)==.5*Math.PI||Math.abs(s.y)==.5*Math.PI)&&r.x!=s.x)return NaN;if(l=u.cB(l,Math.min(r.x,s.x),Math.max(r.x,s.x)),!new c.Nc(r.x,s.x).contains(l))return NaN;var h=I.construct(r);if(s=I.construct(s),h=u.Yu(o,h),s=u.Yu(o,s),(s=h.cF(s)).z.qg())return r.y;var f=new c.Wb;f.set(s.x),f.jm(s.z),f.No(-1);var p=new c.Wb;p.set(s.y),p.jm(s.z),p.No(-1);var g=new c.Wb;return g.set(p),g.Ag(p),(h=new c.Wb).set(f),h.Ag(f),h.add(g),h.sqrt(),h.qg()||f.qg()&&p.qg()?r.y:(r=Math.atan2(p.value(),f.value()),r=Math.atan2(h.value()*Math.cos(r-l),1-o),l=u.DP(o,c.h.construct(l,r)),o=new c.Nd(l.x,l.y,-l.z),l=s.value().Qh(l),o=s.value().Qh(o),Math.abs(o)<Math.abs(l)&&(r=-r),r)},u.Oz=function(o,r,s,l,h){if(h[0]=NaN,h[1]=NaN,Math.abs(r.x-s.x)>Math.PI||Math.abs(r.y)>.5*Math.PI||Math.abs(s.y)>.5*Math.PI||(Math.abs(r.y)==.5*Math.PI||Math.abs(s.y)==.5*Math.PI)&&r.x!=s.x||Math.abs(l)>=.5*Math.PI||0<r.y&&0<s.y&&r.y>l&&s.y>l||0>r.y&&0>s.y&&r.y<l&&s.y<l)return 0;var f=I.construct(r),p=I.construct(s);f=u.Yu(o,f),p=u.Yu(o,p);var g=f.cF(p);if(g.z.qg())return new c.Nc(r.y,s.y).contains(l)?(h[0]=r.x,1):0;(p=new c.Wb).set(g.x),p.jm(g.z),p.No(-1),(f=new c.Wb).set(g.y),f.jm(g.z),f.No(-1),(g=new c.Wb).set(f),g.Ag(f);var _=new c.Wb;return _.set(p),_.Ag(p),_.add(g),_.sqrt(),_.qg()||p.qg()&&f.qg()?l==0?(h[0]=r.x,h[1]=s.x,2):0:(o=(1-o)*Math.tan(l)/_.value(),1<Math.abs(o)?0:(o=Math.acos(o),g=Math.atan2(f.value(),p.value()),p=Math.min(r.x,s.x),f=Math.max(r.x,s.x),s=u.cB(g-o,p,f),o=l!=0?u.cB(g+o,p,f):s,l=0,p<=s&&s<=f&&(h[l]=s,l++),o!=s&&p<=o&&o<=f&&(h[l]=o,++l==2&&Math.abs(h[0]-r.x)>Math.abs(h[1]-r.x)&&(r=h[0],h[0]=h[1],h[1]=r)),l))},u.cB=function(o,r,s){return o>s?o-=2*(r=Math.ceil((o-s)/(2*Math.PI)))*Math.PI:o<r&&(o+=2*(r=Math.ceil((r-o)/(2*Math.PI)))*Math.PI),o},u})()})(Q||(Q={})),(function(c){c.XK=(function(){function I(){}return I.$X=function(w,u){var o=8,r=[0,0,0,0],s=new c.h;s.L(u),s.scale(c.cb.sc(w).Hd().Ec()==9102?1:c.cb.sc(w).Hd().ai/3.141592653589793*180),-180>s.x?(s.x-=s.x%360,-180>s.x&&(s.x+=360)):180<s.x&&(s.x-=s.x%360,180<s.x&&(s.x-=360)),90<s.y&&(s.y=90),-90>s.y&&(s.y=-90);for(var l=-180,h=180,f=(w=5*o)-1,p=(u=(w+31)/32)-1;0<=p;p--)for(var g=f-32*p,_=Math.min(32,w-32*p),M=1;M<_;M+=2){var R=.5*(h+l);s.x>=R?(r[p]|=1<<g,l=R):h=R,g-=2,f-=2}for(l=-90,h=90,f=w-2,p=u-1;0<=p;p--)for(g=f-32*p,_=Math.min(32,w-32*p),M=0;M<_;M+=2)R=.5*(h+l),s.y>=R?(r[p]|=1<<g,l=R):h=R,g-=2,f-=2;return I.$P(r,o,o)},I.$P=function(w,u,o){for(var r=[],s=0;s<u;s++)r[s]="";for(var l=s=0,h=0;h<u;h++){var f=w[s]>>l&31;if(31<(l+=5)){var p=37-l;f&=(1<<p)-1,l-=32,f|=(w[++s]&(1<<l)-1)<<p}r[u-1-h]="0123456789bcdefghjkmnpqrstuvwxyz".split("")[f]}if(o>u)for(h=0;h<o-u;h++)r.push("0");else o<u&&(r.length=o);return r.join("")},I})()})(Q||(Q={})),(function(c){var I={gcstol:[0,2e-9,1,2241706620489156e-24,2,2313672246530541e-24,3,898240164660333e-23,4,8982433838020134e-24,5,8982439417325895e-24,6,8982466029667677e-24,7,8982476760268133e-24,8,8982492642167149e-24,9,898251968292634e-23,10,898253685210448e-23,11,8982546725256576e-24,12,8982557456049832e-24,13,898257333682596e-23,14,8982575482995276e-24,15,8982578488197342e-24,16,8982579775336987e-24,17,89825840676828e-22,18,8982599090925448e-24,19,8982605529473397e-24,20,8982609220517402e-24,21,8982611968030573e-24,22,8982616260407152e-24,23,8982620552787834e-24,24,8982633429954492e-24,25,8982637722351582e-24,26,898264416095491e-23,27,8982646307158072e-24,28,8982654891980968e-24,29,8982667769246082e-24,30,8982674207892485e-24,31,8982680646548117e-24,32,8982682792768713e-24,33,8982685798042582e-24,34,8982689231436652e-24,35,898269137766135e-23,36,898269266624163e-23,37,8982705114087017e-24,38,8982706830791106e-24,39,8982711958374661e-24,40,8982712839964735e-24,41,8982717991496125e-24,42,8982721424914803e-24,43,8982723571154887e-24,44,8982727863638127e-24,45,8982730868942154e-24,46,8982734302370678e-24,47,8982745033612112e-24,48,8982751472369276e-24,49,8982755764879183e-24,50,8982762203651733e-24,51,8982764776628385e-24,52,8982766496171896e-24,53,898277722749025e-23,54,898278152002477e-23,55,898279933943848e-23,56,89829143024805e-22,57,8982922161948598e-24,58,898292327314211e-23,59,8982925667349601e-24,60,8982932222965576e-24,61,8982961298941316e-24,62,8982965524049989e-24,63,8982994818246099e-24,64,8982994895706967e-24,65,898299489597736e-23,66,8983000733443498e-24,67,8983055097289157e-24,68,8983064111047368e-24,69,8983111996941178e-24,70,8983120447446023e-24,71,898312748954554e-23,72,8983134531656096e-24,73,8983141573777694e-24,74,8983148615910332e-24,75,8983152841195215e-24,76,8983153545409748e-24,77,8983153827095593e-24,78,898315396793852e-23,79,8983154249624393e-24,80,8983155658054012e-24,81,8983960794340072e-24,82,8984061344391998e-24,83,8984072829255685e-24,84,8984194981201908e-24,85,8984275233099427e-24,86,8984326127007554e-24,87,8984330099816539e-24,88,898433275258421e-23,89,8984333047023206e-24,90,8984333885258723e-24,91,8984337959508212e-24,92,8984365176209457e-24,93,8984727360418079e-24,94,8984901041679577e-24,95,898542662091587e-23,96,898610024130669e-23,97,8992894229037531e-24,98,8993203677616635e-24,99,8993206178094346e-24,100,8993216059187305e-24,101,899322029394808e-23,102,8994627867045891e-24,103,9467559984315793e-24,104,946881168618118e-23,105,9980888154931644e-24,106,9981105353606775e-24,107,9983807356573187e-24,108,1687060485811522e-23,109,1688447560354875e-23,110,2176606011487185e-23,111,2225078816042032e-23,112,2348476432064694e-23,113,2348765250187846e-23,114,2378108974103778e-23,115,314559636297708e-22,116,3297788621680806e-23,117,3667892343788279e-23,118,4235973644320739e-23,119,4794625900676345e-23,120,7262742998235812e-23,121,7499447580246377e-23,122,7525056410964318e-23,123,7979913581209237e-23,124,9662020153976783e-23,125,9799175562353741e-23,126,9897353517547472e-23,127,102313891987647e-21,128,1081460541960784e-22,129,121905913857622e-21,130,2246893314238523e-22,131,2297344808062643e-22,132,242984645941825e-21,133,2754604784282804e-22,134,2884548130346993e-22,135,3370339971357784e-22,136,4307953346848296e-22,137,5208707228462029e-22,138,5509209568565608e-22,139,6452227422644406e-22,140,6740679942715567e-22,141,6861770001566745e-22,142,7252630318111686e-22,143,7441010326374328e-22,144,7742672907173287e-22,145,9629542775307953e-22,146,1061032953945969e-21,147,1143628333594458e-21,148,1162186197019925e-21,149,136418522650196e-20,150,1367441038498385e-21,151,1432394487827058e-21,152,1736235742820677e-21,153,1848250952034914e-21,154,1909859317102744e-21,155,1975716534933873e-21,156,2122065907891938e-21,157,272837045300392e-20,158,3183098861837907e-21,159,3580986219567645e-21,160,3819718634205488e-21,161,409255567950588e-20,162,4407367654852486e-21,163,4774648292756861e-21,164,5161781938115525e-21,165,520870722846203e-20,166,5729577951308232e-21,167,6031134685587613e-21,168,6987290184522236e-21,169,9241254760174569e-21,170,1145915590261646e-20],pcstol:[0,6666666666666667e-24,1,2e-8,2,4970973863636364e-20,3,4970978156565657e-20,4,4970980410559237e-20,5,.001,6,.001093615055555556,7,.001093615194444445,8,.001093619003239988,9,.001093623110088878,10,.003280833333333333,11,.003280839895013123,12,.003280843014596366,13,.003280845583333334,14,.003280869330266636,15,.00497101413676763],newtoold:[2154,102110,2195,102200,2204,32036,2205,26979,2225,102641,2226,102642,2227,102643,2228,102644,2229,102645,2230,102646,2231,102653,2232,102654,2233,102655,2234,102656,2235,102657,2236,102658,2237,102659,2238,102660,2239,102666,2240,102667,2241,102668,2242,102669,2243,102670,2246,102679,2247,102680,2248,102685,2249,102686,2250,102687,2254,102694,2255,102695,2257,102712,2258,102713,2259,102714,2260,102715,2261,102716,2262,102717,2263,102718,2264,102719,2267,102724,2268,102725,2271,102728,2272,102729,2274,102736,2275,102737,2276,102738,2277,102739,2278,102740,2279,102741,2283,102746,2284,102747,2285,102748,2286,102749,2287,102752,2288,102753,2289,102754,2312,23433,2326,102140,2395,2091,2396,2092,2397,2166,2398,2167,2399,2168,2759,102229,2760,102230,2761,102248,2762,102249,2763,102250,2764,102251,2765,102252,2766,102241,2767,102242,2768,102243,2769,102244,2770,102245,2771,102246,2772,102253,2773,102254,2774,102255,2775,102256,2776,102257,2777,102258,2778,102259,2779,102260,2780,102266,2781,102267,2782,102261,2783,102262,2784,102263,2785,102264,2786,102265,2787,102268,2788,102269,2789,102270,2790,102271,2791,102272,2792,102273,2793,102274,2794,102275,2795,102276,2796,102277,2797,102278,2798,102279,2799,102280,2800,102281,2801,102282,2802,102283,2803,102284,2804,102285,2805,102286,2806,102287,2807,102288,2808,102289,2809,102290,2810,102291,2811,102292,2812,102293,2813,102294,2814,102295,2815,102296,2816,102297,2817,102298,2818,102300,2819,102304,2820,102307,2821,102308,2822,102309,2823,102310,2824,102311,2825,102312,2826,102313,2827,102314,2828,102315,2829,102316,2830,102317,2831,102318,2832,102320,2833,102321,2834,102322,2835,102323,2836,102324,2837,102325,2838,102326,2839,102327,2840,102330,2841,102334,2842,102335,2843,102336,2844,102337,2845,102338,2846,102339,2847,102340,2848,102341,2849,102342,2850,102343,2851,102344,2852,102345,2853,102346,2854,102347,2855,102348,2856,102349,2857,102350,2858,102351,2859,102352,2860,102353,2861,102354,2862,102355,2863,102356,2864,102357,2865,102358,2866,102361,2942,102167,2943,102169,2944,2139,2945,2140,2946,2141,2947,2142,2948,2143,2949,2144,2950,2145,2951,2146,2952,2147,2953,2036,2954,2291,2955,2153,2956,2152,2957,2151,2958,2150,2959,2149,2960,2037,2961,2038,2962,2148,2965,2244,2966,2245,3003,102091,3004,102092,3005,102190,3060,2982,3067,102139,3072,102606,3074,102608,3075,102208,3077,102210,3078,102123,3080,102119,3081,102603,3082,102602,3083,102601,3088,65163,3089,102763,3090,102363,3092,102151,3093,102152,3094,102153,3095,102154,3096,102155,3097,102145,3098,102146,3099,102147,3100,102148,3101,102149,3102,2155,3107,102172,3110,102170,3111,102171,3119,2214,3158,102234,3159,102235,3160,102236,3336,2979,3338,102006,3346,2600,3370,102126,3371,102127,3372,102130,3373,102131,3389,2577,3390,2694,3400,102184,3401,102185,3404,3359,3407,3366,3417,102675,3418,102676,3419,102677,3420,102678,3421,102707,3422,102708,3423,102709,3424,102711,3433,102651,3434,102652,3435,102671,3436,102672,3437,102710,3438,102730,3448,102095,3451,102681,3452,102682,3455,102735,3461,2063,3462,2064,3463,3073,3464,3076,3560,102742,3566,102743,3567,102744,3734,102722,3735,102723,3736,102755,3737,102756,3738,102757,3739,102758,3741,102205,3742,102206,3743,102207,3748,102211,3750,102202,3751,102203,3759,102663,3760,102463,3764,102112,3770,102090,3771,102180,3772,102181,3773,102182,3775,102186,3776,102187,3777,102188,3800,102183,3801,102189,3812,102199,3814,102609,3815,102469,3819,104990,3821,104136,3824,104137,3825,102444,3826,102443,3827,102442,3828,102441,3857,102100,3889,104991,3906,104992,4048,103201,4049,103202,4050,103203,4051,103204,4056,103205,4057,103206,4058,103207,4059,103208,4060,103209,4061,103210,4062,103211,4063,103212,4071,103213,4082,103214,4083,103215,4093,103216,4094,103217,4095,103218,4096,103219,4167,104108,4169,37252,4171,104107,4189,104110,4197,4234,4223,37223,4304,104304,4414,102201,4415,102762,4417,102764,4434,102765,4437,102647,4455,32029,4456,32018,4457,3454,4462,102439,4463,4466,4470,4469,4484,103794,4485,103795,4486,103796,4487,103797,4488,103798,4489,103799,4611,104104,4612,104111,4613,37255,4615,37247,4616,37250,4617,4140,4618,4291,4620,37211,4626,37235,4647,102362,4658,37204,4668,37201,4669,4126,4672,37217,4673,104125,4675,37220,4684,37232,4698,4631,4707,37213,4708,37231,4709,37212,4710,37238,4711,37214,4712,37237,4713,37208,4714,37215,4715,37253,4716,37216,4717,37239,4719,37219,4722,37242,4724,37233,4725,37222,4727,37224,4728,37246,4729,37226,4730,37227,4731,37228,4732,37229,4733,37230,4734,37251,4735,37259,4736,37254,4739,37205,4758,104133,4760,37001,4762,104114,4826,102214,5013,104142,5014,102331,5015,102332,5016,102333,5173,102085,5174,102086,5175,102087,5176,102088,5177,102089,5178,102040,5179,102080,5185,102081,5186,102082,5187,102083,5188,102084,5221,102066,5246,104100,5247,102490,5324,104144,5325,102420,5329,2934,5365,104143,5367,102305,5451,104132,5513,102065,5514,102067,5519,102111,5520,31461,5646,102745,5839,5388,5858,5532,5879,4474,6207,104256,6244,102769,6245,102790,6246,102770,6247,102771,6248,102793,6249,102796,6250,102772,6251,102788,6252,102775,6253,102795,6254,102781,6255,102767,6256,102774,6257,102768,6258,102797,6259,102789,6260,102780,6261,102783,6262,102787,6263,102791,6264,102777,6265,102798,6266,102779,6267,102784,6268,102792,6269,102782,6270,102785,6271,102794,6272,102773,6273,102778,6274,102786,6275,102776,6311,104141,6318,104145,6322,104287,6325,104286,6328,102046,6329,102047,6330,102048,6331,102049,6332,102050,6333,102051,6334,102052,6335,102053,6336,102054,6337,102055,6338,102056,6339,102057,6340,102058,6341,102059,6342,102382,6343,102383,6344,102384,6345,102385,6346,102386,6347,102387,6348,102388,6350,102965,6355,102975,6356,102976,6391,6141,6393,102966,6394,102977,6395,102978,6396,102979,6397,102980,6398,102981,6399,102982,6400,102983,6401,102984,6402,102985,6403,102986,6404,102988,6405,102991,6406,102987,6407,102990,6408,102989,6409,102992,6410,102993,6411,102995,6412,102994,6413,102996,6414,102962,6415,102997,6416,103003,6417,102998,6418,103004,6419,102999,6420,103005,6421,103e3,6422,103006,6423,103001,6424,103007,6425,103002,6426,103008,6427,103010,6428,103013,6429,103009,6430,103012,6431,103011,6432,103014,6433,103015,6434,103016,6435,103017,6436,103018,6437,103019,6438,103022,6439,102967,6440,103021,6441,103024,6442,103020,6443,103023,6444,103025,6445,103027,6446,103026,6447,103028,6448,103030,6449,103033,6450,103029,6451,103032,6452,103031,6453,103034,6454,103035,6455,103037,6456,103036,6457,103038,6458,103039,6459,103041,6460,103040,6461,103042,6462,103043,6463,103045,6464,103044,6465,103046,6466,103047,6467,103049,6468,103048,6469,103050,6470,103051,6471,103052,6472,103053,6473,103054,6474,103055,6475,103056,6476,103057,6477,103059,6478,103058,6479,103060,6480,103066,6481,103065,6482,103067,6483,103061,6484,103063,6485,103062,6486,103064,6487,103068,6488,103069,6489,103071,6490,103073,6491,103070,6492,103072,6493,103075,6494,103078,6495,103074,6496,103077,6497,102968,6498,103076,6499,103079,6500,103081,6501,103084,6502,103080,6503,103083,6504,103082,6505,103085,6506,103086,6507,103088,6508,102963,6509,103087,6510,103089,6511,103091,6512,103090,6513,103092,6514,103093,6515,103094,6516,103095,6518,103098,6519,103101,6520,103097,6521,103100,6522,103099,6523,103102,6524,103103,6525,103104,6526,103105,6527,103106,6528,103108,6529,103111,6530,103107,6531,103110,6532,103109,6533,103112,6534,103114,6535,103118,6536,103113,6537,103117,6538,103116,6539,103120,6540,103115,6541,103119,6542,103121,6543,103122,6544,103123,6545,103125,6546,103124,6547,103126,6548,103127,6549,103129,6550,103128,6551,103130,6552,103131,6553,103133,6554,103132,6555,103134,6556,102969,6557,102970,6558,103135,6559,103137,6560,103136,6561,103138,6562,103139,6563,103140,6564,103141,6565,103142,6566,103200,6567,103143,6568,103144,6569,103145,6570,103146,6571,103147,6572,103149,6573,103148,6574,103150,6575,103151,6576,103152,6577,103155,6578,103160,6579,102971,6580,102972,6581,103153,6582,103158,6583,103154,6584,103159,6585,103157,6586,103162,6587,103156,6588,103161,6589,103172,6590,103173,6592,103174,6593,103176,6594,103175,6595,103177,6596,103178,6597,103180,6598,103179,6599,103181,6600,103182,6601,103184,6602,103183,6603,103185,6605,103190,6606,103186,6607,103189,6608,103188,6609,103191,6610,102973,6611,103192,6612,103196,6613,103193,6614,103197,6615,103195,6616,103199,6617,103194,6618,103198,6619,103164,6620,103163,6621,103165,6625,103170,6626,103169,6627,103171,6628,102520,6629,102521,6630,102522,6631,102523,6632,102524,6633,102527,6634,102493,6635,102494,6636,102496,6637,102495,6668,104020,6669,102610,6670,102611,6671,102612,6672,102613,6673,102614,6674,102615,6675,102616,6676,102617,6677,102618,6678,102619,6679,102620,6680,102621,6681,102622,6682,102623,6683,102624,6684,102625,6685,102626,6686,102627,6687,102628,6688,102593,6689,102594,6690,102595,6691,102596,6692,102597,6783,104223,6784,102530,6785,102500,6788,102532,6789,102502,6792,102533,6793,102503,6796,102531,6797,102501,6800,102534,6801,102504,6804,102535,6805,102505,6808,102536,6809,102506,6812,102537,6813,102507,6816,102538,6817,102508,6820,102539,6821,102509,6824,102540,6825,102510,6828,102541,6829,102511,6832,102542,6833,102512,6836,102543,6837,102513,6840,102544,6841,102514,6844,102546,6845,102516,6848,102545,6849,102515,6852,102547,6853,102517,6856,102548,6857,102518,6860,102549,6861,102519,6867,102380,6868,102381,6879,103187,6880,103096,6884,102376,6885,102378,6886,102377,6887,102379,7136,6980,7139,6987,7142,102706,7692,102557,7693,102558,7694,102559,7695,102560,7696,102561,8090,103318,8091,103418,8092,103317,8093,103417,8095,103371,8096,103471,8097,103369,8098,103469,8099,103368,8100,103468,8101,103367,8102,103467,8103,103366,8104,103466,8105,103365,8106,103465,8107,103364,8108,103464,8109,103363,8110,103463,8111,103362,8112,103462,8113,103361,8114,103461,8115,103360,8116,103460,8117,103359,8118,103459,8119,103357,8120,103457,8121,103356,8122,103456,8123,103355,8124,103455,8125,103354,8126,103454,8127,103353,8128,103453,8129,103352,8130,103452,8131,103350,8132,103450,8133,103349,8134,103449,8135,103348,8136,103448,8139,103343,8140,103443,8141,103342,8142,103442,8143,103341,8144,103441,8145,103339,8146,103439,8147,103337,8148,103437,8149,103336,8150,103436,8151,103334,8152,103434,8153,103333,8154,103433,8155,103331,8156,103431,8161,103326,8162,103426,8163,103325,8164,103425,8165,103324,8166,103424,8171,103321,8172,103421,8173,103320,8177,103420,8179,103316,8180,103416,8181,103315,8182,103415,8184,103314,8185,103414,8191,103312,8193,103412,8196,103311,8197,103411,8198,103310,8200,103410,8201,103309,8202,103409,8203,103308,8204,103408,8207,103306,8208,103406,8209,103305,8210,103405,8212,103304,8213,103404,8214,103303,8216,103403,8218,103302,8220,103402,8222,103301,8224,103401,8431,104248,8441,102590,8693,102449,8826,102605,8857,54035,8858,54036,8859,54037,8860,8449,8988,104115,8989,104116,8990,104117,8991,104118,8992,104119,8993,104120,8994,104121,8995,104122,8996,104123,8997,104124,8998,104896,8999,104257,9e3,104019,9014,104010,9019,104021,9053,104011,9054,104012,9055,104013,9056,104014,9057,104015,9059,104258,9060,104179,9061,104180,9062,104181,9063,104182,9064,104183,9065,104184,9066,104185,9067,104186,21896,21891,21897,21892,21898,21893,21899,21894,26701,102124,26702,102125,26799,26747,26847,102683,26848,102684,26849,102691,26850,102692,26851,102693,26852,102704,26853,102750,26854,102751,26857,102466,26858,102467,26859,102468,26901,102128,26902,102129,27493,27492,29101,29100,29168,29118,29169,29119,29170,29120,29171,29121,29172,29122,29187,29177,29188,29178,29189,29179,29190,29180,29191,29181,29192,29182,29193,29183,29194,29184,29195,29185,29902,29900,31279,31278,31281,31291,31282,31292,31283,31293,31284,31294,31285,31295,31286,31296,31287,31297,31466,31462,31467,31463,31468,31464,31469,31465,31986,31917,31987,31918,31988,31919,31989,31920,31990,31921,31991,31922,32064,32074,32065,32075,32066,32076,32067,32077,102550,2181,102551,2182,102552,2183,102553,2184,102554,2185,102555,2186,102556,2187],pcsid:[2066,15,2136,12,2155,10,2157,5,2158,5,2159,12,2160,12,2219,5,2220,5,2244,10,2245,10,2256,11,2265,11,2266,11,2269,11,2270,11,2273,11,2290,5,2291,5,2294,5,2295,5,2313,5,2314,14,2899,10,2900,10,2901,11,2909,11,2910,11,2911,10,2912,10,2913,11,2914,11,2964,10,2967,10,2968,10,2991,5,2992,11,2993,5,2994,11,3073,5,3076,5,3079,5,3091,10,3106,5,3108,5,3109,5,3141,5,3142,5,3167,4,3337,5,3347,5,3348,5,3359,10,3360,5,3361,11,3362,5,3363,10,3364,5,3365,10,3366,14,3402,5,3403,5,3405,5,3406,5,3439,5,3440,5,3447,5,3449,5,3450,5,3453,10,3454,10,3460,5,3479,11,3480,5,3481,11,3482,5,3483,11,3484,5,3485,10,3486,5,3487,10,3488,5,3489,5,3490,10,3491,5,3492,10,3493,5,3494,10,3495,5,3496,10,3497,5,3498,10,3499,5,3500,10,3501,5,3502,10,3503,5,3504,10,3505,5,3506,10,3507,5,3508,10,3509,5,3510,10,3511,5,3512,10,3513,5,3514,5,3515,10,3516,5,3517,10,3518,5,3519,10,3520,5,3521,10,3522,5,3523,10,3524,5,3525,10,3526,5,3527,10,3528,5,3529,10,3530,5,3531,10,3532,5,3533,10,3534,5,3535,10,3536,5,3537,10,3538,5,3539,10,3540,5,3541,10,3542,5,3543,10,3544,5,3545,10,3546,5,3547,10,3548,5,3549,10,3550,5,3551,10,3552,5,3553,10,3582,10,3583,5,3584,10,3585,5,3586,10,3587,5,3588,11,3589,5,3590,11,3591,5,3592,5,3593,11,3598,10,3599,5,3600,10,3605,11,3606,5,3607,5,3608,10,3609,5,3610,10,3611,5,3612,10,3613,5,3614,10,3615,5,3616,10,3617,5,3618,10,3619,5,3620,10,3621,5,3622,10,3623,5,3624,10,3625,5,3626,10,3627,5,3628,10,3629,5,3630,10,3631,5,3632,10,3633,5,3634,11,3635,5,3636,11,3640,10,3641,5,3642,10,3643,5,3644,11,3645,5,3646,11,3647,5,3648,11,3649,5,3650,10,3651,5,3652,10,3653,5,3654,10,3655,5,3656,11,3657,5,3658,10,3659,5,3660,10,3661,5,3662,10,3663,5,3664,10,3668,10,3669,5,3670,10,3671,5,3672,10,3673,5,3674,10,3675,5,3676,11,3677,10,3678,5,3679,11,3680,10,3681,5,3682,11,3683,10,3684,5,3685,5,3686,10,3687,5,3688,10,3689,5,3690,10,3691,5,3692,10,3696,10,3697,5,3698,10,3699,5,3700,10,3740,5,3749,5,3783,5,3784,5,3793,5,3794,5,3802,5,3816,5,3829,5,3854,5,3911,5,3912,5,3920,5,3978,5,3979,5,3991,10,3992,10,4026,5,4037,5,4038,5,4087,5,4088,5,4217,10,4438,10,4439,10,4467,5,4471,5,4474,5,4559,5,4822,5,4839,5,5018,5,5048,5,5167,5,5168,5,5223,5,5234,5,5235,5,5243,5,5266,5,5316,5,5320,5,5321,5,5330,5,5331,5,5337,5,5361,5,5362,5,5382,5,5383,5,5396,5,5456,5,5457,5,5469,5,5472,9,5490,5,5518,5,5523,5,5559,5,5588,11,5589,14,5596,5,5627,5,5629,5,5641,5,5643,5,5644,5,5654,10,5655,10,5659,5,5700,5,5825,5,5836,5,5837,5,5842,5,5844,5,5880,5,5887,5,5890,5,6128,11,6129,11,6141,11,6204,5,6210,5,6211,5,6307,5,6312,5,6316,5,6362,5,6591,5,6646,5,6703,5,6786,5,6787,11,6790,5,6791,11,6794,5,6795,11,6798,5,6799,11,6802,5,6803,11,6806,5,6807,11,6810,5,6811,11,6814,5,6815,11,6818,5,6819,11,6822,5,6823,11,6826,5,6827,11,6830,5,6831,11,6834,5,6835,11,6838,5,6839,11,6842,5,6843,11,6846,5,6847,11,6850,5,6851,11,6854,5,6855,11,6858,5,6859,11,6862,5,6863,11,6870,5,6875,5,6876,5,6915,5,6922,5,6923,10,6924,5,6925,10,6962,5,6984,5,6991,5,7128,10,7131,5,7132,10,7257,5,7258,10,7259,5,7260,10,7261,5,7262,10,7263,5,7264,10,7265,5,7266,10,7267,5,7268,10,7269,5,7270,10,7271,5,7272,10,7273,5,7274,10,7275,5,7276,10,7277,5,7278,10,7279,5,7280,10,7281,5,7282,10,7283,5,7284,10,7285,5,7286,10,7287,5,7288,10,7289,5,7290,10,7291,5,7292,10,7293,5,7294,10,7295,5,7296,10,7297,5,7298,10,7299,5,7300,10,7301,5,7302,10,7303,5,7304,10,7305,5,7306,10,7307,5,7308,10,7309,5,7310,10,7311,5,7312,10,7313,5,7314,10,7315,5,7316,10,7317,5,7318,10,7319,5,7320,10,7321,5,7322,10,7323,5,7324,10,7325,5,7326,10,7327,5,7328,10,7329,5,7330,10,7331,5,7332,10,7333,5,7334,10,7335,5,7336,10,7337,5,7338,10,7339,5,7340,10,7341,5,7342,10,7343,5,7344,10,7345,5,7346,10,7347,5,7348,10,7349,5,7350,10,7351,5,7352,10,7353,5,7354,10,7355,5,7356,10,7357,5,7358,10,7359,5,7360,10,7361,5,7362,10,7363,5,7364,10,7365,5,7366,10,7367,5,7368,10,7369,5,7370,10,7877,5,7878,5,7882,5,7883,5,7887,5,7899,5,7991,5,7992,5,8035,10,8036,10,8058,5,8059,5,8082,5,8083,5,8088,5,8137,5,8138,10,8157,5,8158,10,8159,5,8160,10,8167,5,8168,10,8169,5,8170,10,8187,5,8189,10,8205,5,8206,10,8225,5,8226,10,8311,5,8312,11,8313,5,8314,11,8315,5,8316,11,8317,5,8318,11,8319,5,8320,11,8321,5,8322,11,8323,5,8324,11,8325,5,8326,11,8327,5,8328,11,8329,5,8330,11,8331,5,8332,11,8333,5,8334,11,8335,5,8336,11,8337,5,8338,11,8339,5,8340,11,8341,5,8342,11,8343,5,8344,11,8345,5,8346,11,8347,5,8348,11,8352,5,8353,5,8379,5,8380,10,8381,5,8382,10,8383,5,8384,10,8385,5,8387,10,8391,5,8395,5,8433,5,8455,5,8456,5,8531,10,8682,5,8687,5,8692,5,8903,5,8950,5,8951,5,9039,5,9040,5,9141,5,9149,5,9150,5,9191,5,9221,5,9222,5,20499,5,20538,5,20539,5,20790,5,20791,5,21291,5,21292,5,21500,5,21817,5,21818,5,22032,5,22033,5,22091,5,22092,5,22332,5,22391,5,22392,5,22700,5,22770,5,22780,5,22832,5,23090,5,23095,5,23239,5,23240,5,23433,5,23700,5,24047,5,24048,5,24100,14,24200,5,24305,5,24306,5,24382,6,24383,5,24500,5,24547,5,24548,5,24571,2,24600,5,25e3,5,25231,5,25884,5,25932,5,26237,5,26331,5,26332,5,26591,5,26592,5,26632,5,26692,5,26855,10,26856,10,27120,5,27200,5,27291,7,27292,7,27429,5,27492,5,27500,5,27700,5,28232,5,28600,5,28991,5,28992,5,29100,5,29220,5,29221,5,29333,5,29635,5,29636,5,29701,5,29738,5,29739,5,29849,5,29850,5,29871,3,29872,13,29873,5,29900,5,29901,5,29903,5,30200,15,30339,5,30340,5,30791,5,30792,5,31028,5,31121,5,31154,5,31170,5,31171,5,31370,5,31528,5,31529,5,31600,5,31700,5,31838,5,31839,5,31901,5,32061,5,32062,5,32098,5,32099,10,32100,5,32104,5,32161,5,32766,5,53048,5,53049,5,54090,5,54091,5,65061,10,65062,10,65161,5,65163,5,102041,10,102064,8,102068,1,102069,0,102118,10,102119,11,102120,10,102121,10,102217,10,102218,5,102219,10,102220,10,102378,11,102379,11,102380,5,102381,11,102498,5,102499,5,102589,10,102590,5,102599,10,102600,10,102604,10,102605,5,102606,5,102647,5,102704,10,102705,10,102706,5,102733,10,102761,10,102762,5,102763,10,102764,5,102765,5,102766,10,102962,5,102963,5,102970,11,102974,10,102993,5,102994,5,102995,10,102996,10,103015,5,103016,10,103017,5,103018,10,103025,5,103026,5,103027,10,103028,10,103035,5,103036,5,103037,10,103038,10,103039,5,103040,5,103041,10,103042,10,103043,5,103044,5,103045,10,103046,10,103047,5,103048,5,103049,10,103050,10,103051,5,103052,10,103053,5,103054,10,103055,5,103056,10,103057,5,103058,5,103059,10,103060,10,103061,5,103062,5,103063,10,103064,10,103069,10,103070,5,103071,5,103072,10,103073,10,103086,5,103087,5,103088,10,103089,10,103094,11,103095,5,103096,10,103103,5,103104,10,103105,5,103106,10,103121,5,103122,10,103123,5,103124,5,103125,11,103126,11,103127,5,103128,5,103129,10,103130,10,103131,5,103132,5,103133,10,103134,10,103135,5,103136,5,103137,11,103138,11,103139,5,103140,10,103141,5,103142,10,103143,5,103144,10,103145,5,103146,11,103147,5,103148,5,103149,10,103150,10,103151,5,103152,10,103172,5,103173,10,103174,5,103175,5,103176,10,103177,10,103178,5,103179,5,103180,10,103181,10,103182,5,103183,5,103184,10,103185,10,103228,5,103229,5,103230,10,103231,10,103250,5,103251,10,103252,5,103253,10,103260,5,103261,5,103262,10,103263,10,103270,5,103271,5,103272,10,103273,10,103274,5,103275,5,103276,10,103277,10,103278,5,103279,5,103280,10,103281,10,103282,5,103283,5,103284,10,103285,10,103286,5,103287,10,103288,5,103289,10,103290,5,103291,10,103292,5,103293,5,103294,10,103295,10,103296,5,103297,5,103298,10,103299,10,103376,10,103377,5,103378,5,103379,10,103380,10,103393,5,103394,5,103395,10,103396,10,103472,5,103473,11,103474,5,103475,10,103482,5,103483,10,103484,5,103485,10,103500,5,103501,10,103502,5,103503,5,103504,11,103505,11,103506,5,103507,5,103508,10,103509,10,103510,5,103511,5,103512,10,103513,10,103514,5,103515,10,103516,5,103517,10,103518,5,103519,10,103520,5,103521,11,103522,5,103523,5,103524,10,103525,10,103526,5,103527,10,103561,10,103562,10,103563,5,103564,5,103565,10,103566,10,103567,5,103568,5,103569,10,103570,10,103585,10,103586,5,103587,10,103588,11,103589,5,103590,10,103591,11,103592,5,103593,10,103594,11,103695,10,103846,5,103946,10],pcsidc:[[2e3,2045,5],[2056,2065,5],[2067,2135,5],[2137,2153,5],[2161,2170,5],[2172,2193,5],[2196,2198,5],[2200,2203,5],[2206,2217,5],[2222,2224,11],[2251,2253,11],[2280,2282,11],[2308,2311,5],[2315,2325,5],[2327,2394,5],[2400,2491,5],[2494,2758,5],[2867,2869,11],[2870,2888,10],[2891,2895,10],[2896,2898,11],[2902,2908,10],[2915,2920,10],[2921,2923,11],[2924,2930,10],[2931,2941,5],[2969,2973,5],[2975,2982,5],[2984,2988,5],[2995,3002,5],[3006,3051,5],[3054,3059,5],[3061,3066,5],[3068,3071,5],[3084,3087,5],[3112,3118,5],[3120,3138,5],[3146,3151,5],[3153,3157,5],[3161,3166,5],[3168,3172,5],[3174,3203,5],[3294,3313,5],[3315,3335,5],[3339,3345,5],[3350,3358,5],[3367,3369,5],[3374,3388,5],[3391,3399,5],[3408,3416,5],[3425,3432,10],[3441,3446,10],[3456,3459,10],[3465,3478,5],[3554,3559,5],[3561,3565,10],[3568,3570,10],[3571,3581,5],[3594,3597,5],[3601,3604,5],[3637,3639,5],[3665,3667,5],[3693,3695,5],[3701,3727,5],[3728,3733,10],[3744,3747,5],[3753,3758,10],[3761,3763,5],[3765,3769,5],[3779,3781,5],[3788,3791,5],[3797,3799,5],[3832,3841,5],[3844,3852,5],[3873,3885,5],[3890,3893,5],[3942,3950,5],[3968,3970,5],[3973,3976,5],[3986,3989,5],[3994,3997,5],[4390,4398,5],[4399,4413,10],[4418,4433,10],[4491,4554,5],[4568,4589,5],[4652,4656,5],[4766,4800,5],[5069,5072,5],[5105,5130,5],[5180,5184,5],[5253,5259,5],[5269,5275,5],[5292,5311,5],[5343,5349,5],[5355,5357,5],[5387,5389,5],[5459,5463,5],[5479,5482,5],[5530,5539,5],[5550,5552,5],[5562,5583,5],[5623,5625,10],[5631,5639,5],[5649,5653,5],[5663,5680,5],[5682,5685,5],[5875,5877,5],[5896,5899,5],[5921,5940,5],[6050,6125,5],[6351,6354,5],[6366,6372,5],[6381,6387,5],[6622,6624,5],[6707,6709,5],[6720,6723,5],[6732,6738,5],[6931,6933,5],[7005,7007,5],[7057,7070,10],[7074,7082,5],[7109,7118,5],[7119,7127,11],[7374,7376,5],[7528,7586,5],[7587,7645,10],[7755,7787,5],[7791,7795,5],[7799,7801,5],[7803,7805,5],[7825,7831,5],[7845,7859,5],[8013,8032,5],[8065,8068,11],[8518,8529,10],[8533,8536,10],[8538,8540,10],[8677,8679,5],[8836,8840,5],[8908,8910,5],[9154,9159,5],[9205,9218,5],[20002,20032,5],[20062,20092,5],[20135,20138,5],[20248,20258,5],[20348,20358,5],[20436,20440,5],[20822,20824,5],[20934,20936,5],[21035,21037,5],[21095,21097,5],[21148,21150,5],[21413,21423,5],[21473,21483,5],[21780,21782,5],[21891,21894,5],[22171,22177,5],[22181,22187,5],[22191,22197,5],[22234,22236,5],[22521,22525,5],[22991,22994,5],[23028,23038,5],[23830,23853,5],[23866,23872,5],[23877,23884,5],[23886,23894,5],[23946,23948,5],[24311,24313,5],[24342,24347,5],[24370,24374,6],[24375,24381,5],[24718,24721,5],[24817,24821,5],[24877,24882,5],[24891,24893,5],[25391,25395,5],[25828,25838,5],[26191,26195,5],[26391,26393,5],[26703,26722,5],[26729,26760,10],[26766,26798,10],[26860,26870,10],[26891,26899,5],[26903,26923,5],[26929,26946,5],[26948,26998,5],[27037,27040,5],[27205,27232,5],[27258,27260,5],[27391,27398,5],[27561,27564,5],[27571,27574,5],[27581,27584,5],[27591,27594,5],[28191,28193,5],[28348,28358,5],[28402,28432,5],[28462,28492,5],[29118,29122,5],[29177,29185,5],[30161,30179,5],[30491,30494,5],[30729,30732,5],[31251,31259,5],[31265,31268,5],[31275,31278,5],[31288,31297,5],[31461,31465,5],[31491,31495,5],[31917,31922,5],[31965,31985,5],[31992,32e3,5],[32001,32003,10],[32005,32031,10],[32033,32060,10],[32074,32077,10],[32081,32086,5],[32107,32130,5],[32133,32158,5],[32164,32167,10],[32180,32199,5],[32201,32260,5],[32301,32360,5],[32601,32662,5],[32664,32667,10],[32701,32761,5],[53001,53004,5],[53008,53019,5],[53021,53032,5],[53034,53037,5],[53042,53046,5],[53074,53080,5],[54001,54004,5],[54008,54019,5],[54021,54032,5],[54034,54037,5],[54042,54046,5],[54048,54053,5],[54074,54080,5],[54098,54101,5],[102001,102040,5],[102042,102063,5],[102065,102067,5],[102070,102112,5],[102114,102117,5],[102122,102208,5],[102210,102216,5],[102221,102300,5],[102304,102377,5],[102382,102388,5],[102389,102398,10],[102399,102444,5],[102445,102447,10],[102448,102458,5],[102459,102468,10],[102469,102496,5],[102500,102519,11],[102520,102524,5],[102525,102529,10],[102530,102549,5],[102557,102588,5],[102593,102598,5],[102601,102603,5],[102608,102628,5],[102629,102646,10],[102648,102672,10],[102675,102700,10],[102701,102703,5],[102707,102730,10],[102735,102758,10],[102767,102900,5],[102965,102969,5],[102971,102973,5],[102975,102989,5],[102990,102992,11],[102997,103002,5],[103003,103008,10],[103009,103011,5],[103012,103014,10],[103019,103021,5],[103022,103024,10],[103029,103031,5],[103032,103034,10],[103065,103068,5],[103074,103076,5],[103077,103079,11],[103080,103082,5],[103083,103085,10],[103090,103093,5],[103097,103099,5],[103100,103102,10],[103107,103109,5],[103110,103112,10],[103113,103116,5],[103117,103120,10],[103153,103157,5],[103158,103162,10],[103163,103165,5],[103166,103168,11],[103169,103171,10],[103186,103188,5],[103189,103191,10],[103192,103195,5],[103196,103199,10],[103200,103224,5],[103225,103227,11],[103232,103237,5],[103238,103243,10],[103244,103246,5],[103247,103249,10],[103254,103256,5],[103257,103259,10],[103264,103266,5],[103267,103269,10],[103300,103375,5],[103381,103383,5],[103384,103386,11],[103387,103389,5],[103390,103392,10],[103397,103399,5],[103400,103471,10],[103476,103478,5],[103479,103481,10],[103486,103488,5],[103489,103491,10],[103492,103495,5],[103496,103499,10],[103539,103543,5],[103544,103548,10],[103549,103551,5],[103552,103554,11],[103555,103557,10],[103558,103560,5],[103571,103573,5],[103574,103576,10],[103577,103580,5],[103581,103583,10],[103595,103597,5],[103600,103694,5],[103696,103698,5],[103700,103793,10],[103794,103799,5]],gcsid:[4001,81,4002,85,4003,70,4004,84,4005,82,4006,83,4007,60,4008,67,4009,39,4010,57,4011,63,4012,64,4013,64,4014,63,4015,92,4016,90,4018,86,4019,75,4020,68,4021,70,4022,55,4023,75,4024,66,4025,73,4027,95,4028,59,4029,58,4031,75,4032,78,4033,77,4034,65,4035,100,4036,70,4042,88,4044,87,4045,89,4046,75,4047,99,4052,101,4053,97,4054,61,4075,75,4081,75,4120,84,4121,75,4122,80,4123,55,4124,84,4126,75,4130,75,4131,92,4132,64,4133,75,4134,64,4140,75,4141,75,4142,64,4143,64,4144,92,4145,87,4146,89,4147,66,4148,75,4149,84,4150,84,4151,75,4152,75,4153,55,4154,55,4155,63,4156,84,4157,60,4162,84,4163,75,4164,66,4165,55,4166,75,4168,58,4170,75,4172,75,4173,75,4174,58,4175,64,4176,75,4178,66,4179,66,4180,75,4188,81,4190,75,4191,66,4192,55,4193,63,4198,64,4199,55,4200,66,4201,64,4202,70,4203,70,4204,55,4205,66,4206,63,4207,55,4208,55,4209,64,4210,64,4211,84,4212,64,4213,63,4214,66,4215,55,4216,67,4218,55,4219,84,4220,64,4221,55,4222,64,4224,55,4225,55,4229,68,4230,55,4231,55,4232,64,4234,64,4235,55,4236,55,4237,70,4238,70,4239,92,4240,92,4241,65,4242,67,4243,88,4244,92,4245,86,4246,64,4250,64,4251,64,4252,63,4253,67,4254,55,4255,55,4256,64,4257,84,4258,75,4259,55,4260,64,4261,106,4262,84,4263,64,4265,55,4266,63,4267,67,4269,75,4270,64,4271,55,4272,55,4273,82,4274,55,4275,63,4276,73,4280,84,4281,57,4282,63,4283,75,4284,66,4285,55,4286,68,4288,55,4289,84,4291,70,4292,55,4293,83,4294,84,4295,84,4296,63,4297,55,4298,90,4299,85,4300,85,4301,84,4302,60,4303,68,4306,84,4307,64,4308,84,4309,55,4310,63,4311,55,4312,84,4313,55,4314,84,4315,63,4316,55,4317,66,4318,75,4319,75,4322,80,4324,80,4326,75,4466,75,4469,75,4475,55,4483,75,4490,75,4555,66,4558,75,4608,67,4609,67,4610,74,4614,55,4619,75,4624,75,4625,55,4627,75,4636,55,4637,55,4638,67,4639,55,4657,93,4659,75,4660,55,4661,75,4666,84,4667,75,4670,75,4671,63,4674,75,4679,64,4680,64,4682,92,4683,67,4686,75,4687,75,4693,75,4694,75,4695,67,4696,64,4697,64,4702,75,4703,64,4704,55,4705,55,4706,68,4718,55,4720,80,4721,55,4723,67,4726,67,4737,75,4738,60,4740,79,4741,55,4742,75,4743,64,4744,64,4745,84,4746,84,4747,75,4748,56,4749,75,4750,75,4751,91,4752,56,4753,55,4754,55,4759,75,4761,75,4801,84,4802,55,4803,55,4804,84,4805,84,4806,55,4807,106,4808,84,4809,55,4810,105,4811,106,4816,106,4817,82,4818,84,4820,84,4821,106,4823,55,4824,55,4901,107,4902,107,4903,59,4904,84,5228,84,5229,84,5233,92,5252,75,5264,75,5340,75,5354,75,5360,75,5371,75,5373,75,5381,75,5393,75,5464,60,5467,67,5489,75,5524,55,5527,70,5546,75,5561,66,5593,75,5681,84,5886,75,6135,75,6365,75,6706,75,6881,64,6882,64,6883,55,6892,64,6894,64,6980,75,6983,75,6987,75,6990,75,7035,75,7037,75,7039,75,7041,75,7073,75,7084,75,7086,75,7133,75,7373,75,7683,76,7798,75,7844,75,7881,75,7886,75,8042,96,8043,96,8086,75,8232,75,8237,75,8240,75,8246,75,8249,75,8252,75,8255,75,8351,84,8427,75,8428,55,8449,75,8545,75,8685,75,8694,64,8699,75,8818,75,8888,75,8900,75,8902,75,8907,75,8949,75,9003,75,9006,75,9009,75,9012,75,9017,75,9068,75,9069,75,9140,75,9148,75,9153,75,37001,73,37002,69,37003,72,37004,71,37005,62,37006,91,37007,94,37008,101,37201,55,37202,92,37203,87,37204,55,37205,55,37206,64,37207,71,37208,64,37211,64,37220,67,37221,55,37222,55,37223,63,37224,55,37225,106,37226,55,37227,55,37228,64,37229,62,37230,55,37231,70,37232,55,37233,55,37235,55,37237,55,37238,55,37239,67,37240,64,37241,55,37242,55,37243,67,37252,67,37253,55,37254,64,37255,84,37257,66,37259,55,37260,67,104017,79,104018,79,104024,75,104027,75,104047,98,104050,75,104100,75,104101,84,104102,84,104103,64,104104,55,104105,84,104106,55,104107,75,104108,75,104109,67,104110,75,104111,75,104112,67,104113,67,104128,102,104129,75,104130,55,104131,84,104132,67,104133,75,104134,75,104135,66,104136,70,104137,75,104138,55,104139,106,104140,106,104223,75,104248,55,104256,92,104261,63,104286,75,104287,75,104304,63,104700,49,104701,9,104702,24,104703,15,104704,28,104705,32,104706,53,104707,46,104708,37,104709,54,104710,11,104711,14,104712,30,104713,52,104714,4,104715,4,104716,23,104717,14,104718,48,104719,29,104720,22,104721,21,104722,35,104723,21,104724,46,104725,22,104726,49,104727,45,104728,52,104729,10,104730,10,104731,21,104732,31,104733,26,104734,40,104735,19,104736,30,104737,34,104738,27,104739,46,104740,5,104741,12,104742,50,104743,9,104744,43,104745,21,104746,26,104747,25,104748,21,104749,7,104750,53,104751,6,104752,33,104753,29,104754,19,104755,41,104756,31,104757,3,104758,41,104759,25,104760,49,104761,41,104762,44,104763,50,104764,46,104765,6,104766,40,104767,16,104768,8,104769,17,104770,48,104771,42,104772,50,104773,25,104774,29,104775,25,104776,32,104777,13,104778,36,104779,47,104780,14,104781,29,104782,23,104783,38,104784,42,104785,18,104786,20,104808,51,104896,75,104900,112,104901,104,104902,103,104903,116,104904,109,104905,108,104906,169,104907,164,104908,0,104909,168,104910,141,104911,166,104912,114,104913,160,104914,151,104915,117,104916,110,104917,140,104918,115,104919,170,104920,163,104921,154,104922,158,104923,161,104924,148,104925,0,104926,159,104927,167,104928,127,104929,131,104930,145,104931,159,104932,136,104933,123,104934,139,104935,134,104936,166,104937,150,104938,137,104939,147,104940,121,104941,165,104942,128,104943,111,104944,1,104945,126,104946,152,104947,157,104948,162,104949,153,104950,156,104951,149,104952,132,104953,122,104954,160,104955,146,104956,143,104957,156,104958,120,104959,125,104960,2,104961,144,104962,142,104963,138,104964,155,104965,135,104966,133,104967,151,104968,118,104969,119,104970,124,104971,108,104972,129,104973,130,104974,113,104975,0,104990,84,104991,75,104992,84],gcsidc:[[4127,4129,67],[4135,4139,67],[4158,4161,55],[4181,4185,55],[4194,4196,55],[4226,4228,63],[4247,4249,55],[4277,4279,81],[4600,4607,64],[4621,4623,55],[4628,4633,55],[4641,4646,55],[4662,4665,55],[4676,4678,66],[4688,4692,55],[4699,4701,64],[4755,4757,75],[4763,4765,75],[4813,4815,84],[8972,8987,75],[37212,37219,55],[37245,37247,55],[37249,37251,55],[104009,104015,75],[104019,104022,75],[104114,104124,75],[104125,104127,55],[104141,104145,75],[104179,104186,75],[104257,104260,75]]},w={c:[[2e3,2035,9001],[2039,2045,9001],[2056,2062,9001],[2067,2090,9001],[2093,2135,9001],[2161,2165,9001],[2172,2180,9001],[2188,2193,9001],[2195,2198,9001],[2200,2203,9001],[2205,2213,9001],[2215,2217,9001],[2222,2224,9002],[2225,2243,9003],[2246,2250,9003],[2251,2253,9002],[2257,2264,9003],[2274,2279,9003],[2280,2282,9002],[2283,2289,9003],[2308,2313,9001],[2315,2491,9001],[2494,2576,9001],[2578,2599,9001],[2601,2693,9001],[2695,2866,9001],[2867,2869,9002],[2870,2888,9003],[2891,2895,9003],[2896,2898,9002],[2902,2908,9003],[2915,2920,9003],[2921,2923,9002],[2924,2930,9003],[2931,2933,9001],[2935,2962,9001],[2964,2968,9003],[2969,2973,9001],[2975,2978,9001],[2984,2988,9001],[2995,3051,9001],[3054,3072,9001],[3077,3079,9001],[3081,3088,9001],[3092,3101,9001],[3106,3138,9001],[3146,3151,9001],[3153,3166,9001],[3168,3172,9001],[3174,3203,9001],[3294,3313,9001],[3315,3348,9001],[3350,3358,9001],[3367,3403,9001],[3408,3416,9001],[3417,3438,9003],[3441,3446,9003],[3447,3450,9001],[3451,3453,9003],[3455,3459,9003],[3460,3478,9001],[3554,3559,9001],[3560,3570,9003],[3571,3581,9001],[3594,3597,9001],[3601,3604,9001],[3637,3639,9001],[3665,3667,9001],[3693,3695,9001],[3701,3727,9001],[3728,3739,9003],[3740,3751,9001],[3753,3760,9003],[3761,3773,9001],[3775,3777,9001],[3779,3781,9001],[3788,3791,9001],[3797,3802,9001],[3814,3816,9001],[3825,3829,9001],[3832,3841,9001],[3844,3852,9001],[3873,3885,9001],[3890,3893,9001],[3942,3950,9001],[3968,3970,9001],[3973,3976,9001],[3986,3989,9001],[3994,3997,9001],[4001,4016,9102],[4018,4025,9102],[4027,4029,9102],[4031,4036,9102],[4044,4047,9102],[4048,4051,9001],[4052,4054,9102],[4056,4063,9001],[4093,4096,9001],[4120,4124,9102],[4127,4139,9102],[4141,4176,9102],[4178,4185,9102],[4188,4216,9102],[4218,4232,9102],[4235,4260,9102],[4265,4267,9102],[4269,4286,9102],[4292,4304,9102],[4306,4319,9102],[4390,4398,9001],[4399,4413,9003],[4418,4433,9003],[4455,4457,9003],[4484,4489,9001],[4491,4554,9001],[4568,4589,9001],[4600,4630,9102],[4636,4639,9102],[4641,4646,9102],[4652,4656,9001],[4657,4680,9102],[4682,4684,9102],[4686,4765,9102],[4766,4800,9001],[4801,4806,9102],[4813,4815,9102],[5014,5016,9001],[5069,5072,9001],[5105,5130,9001],[5173,5188,9001],[5253,5259,9001],[5269,5275,9001],[5292,5311,9001],[5329,5331,9001],[5343,5349,9001],[5355,5357,9001],[5459,5463,9001],[5479,5482,9001],[5518,5520,9001],[5533,5539,9001],[5550,5552,9001],[5562,5583,9001],[5623,5625,9003],[5631,5639,9001],[5649,5653,9001],[5663,5680,9001],[5682,5685,9001],[5875,5877,9001],[5896,5899,9001],[5921,5940,9001],[6050,6125,9001],[6244,6275,9001],[6328,6348,9001],[6350,6356,9001],[6366,6372,9001],[6381,6387,9001],[6393,6404,9001],[6480,6483,9001],[6511,6514,9001],[6579,6581,9001],[6619,6624,9001],[6625,6627,9003],[6628,6632,9001],[6634,6637,9001],[6669,6692,9001],[6707,6709,9001],[6720,6723,9001],[6732,6738,9001],[6881,6883,9102],[6931,6933,9001],[7005,7007,9001],[7057,7070,9003],[7074,7082,9001],[7109,7118,9001],[7119,7127,9002],[7374,7376,9001],[7528,7586,9001],[7587,7645,9003],[7692,7696,9001],[7755,7787,9001],[7791,7795,9001],[7799,7801,9001],[7803,7805,9001],[7825,7831,9001],[7845,7859,9001],[8013,8032,9001],[8065,8068,9002],[8518,8529,9003],[8533,8536,9003],[8538,8540,9003],[8677,8679,9001],[8836,8840,9001],[8857,8859,9001],[8908,8910,9001],[8972,9e3,9102],[9053,9057,9102],[9059,9069,9102],[9154,9159,9001],[9205,9218,9001],[20002,20032,9001],[20062,20092,9001],[20135,20138,9001],[20248,20258,9001],[20348,20358,9001],[20436,20440,9001],[20822,20824,9001],[20934,20936,9001],[21035,21037,9001],[21095,21097,9001],[21148,21150,9001],[21413,21423,9001],[21473,21483,9001],[21780,21782,9001],[21896,21899,9001],[22171,22177,9001],[22181,22187,9001],[22191,22197,9001],[22234,22236,9001],[22521,22525,9001],[22991,22994,9001],[23028,23038,9001],[23830,23853,9001],[23866,23872,9001],[23877,23884,9001],[23886,23894,9001],[23946,23948,9001],[24311,24313,9001],[24342,24347,9001],[24370,24374,9084],[24375,24381,9001],[24718,24721,9001],[24817,24821,9001],[24877,24882,9001],[24891,24893,9001],[25391,25395,9001],[25828,25838,9001],[26191,26195,9001],[26391,26393,9001],[26701,26722,9001],[26729,26746,9003],[26748,26760,9003],[26766,26799,9003],[26847,26870,9003],[26891,26899,9001],[26901,26923,9001],[26929,26946,9001],[26948,26978,9001],[26980,26998,9001],[27037,27040,9001],[27205,27232,9001],[27258,27260,9001],[27391,27398,9001],[27561,27564,9001],[27571,27574,9001],[27581,27584,9001],[27591,27594,9001],[28191,28193,9001],[28348,28358,9001],[28402,28432,9001],[28462,28492,9001],[29168,29172,9001],[29187,29195,9001],[29901,29903,9001],[30161,30179,9001],[30491,30494,9001],[30729,30732,9001],[31251,31259,9001],[31265,31268,9001],[31275,31277,9001],[31281,31290,9001],[31466,31469,9001],[31491,31495,9001],[31965,32e3,9001],[32001,32003,9003],[32005,32017,9003],[32019,32028,9003],[32033,32035,9003],[32037,32060,9003],[32064,32067,9003],[32081,32086,9001],[32107,32130,9001],[32133,32158,9001],[32164,32167,9003],[32180,32199,9001],[32201,32260,9001],[32301,32360,9001],[32601,32662,9001],[32664,32667,9003],[32701,32761,9001],[37002,37008,9102],[53001,53004,9001],[53008,53019,9001],[53021,53032,9001],[53034,53037,9001],[53042,53046,9001],[53074,53080,9001],[54001,54004,9001],[54008,54019,9001],[54021,54032,9001],[54042,54046,9001],[54048,54053,9001],[54074,54080,9001],[54098,54101,9001],[102001,102005,9001],[102007,102039,9001],[102042,102045,9001],[102060,102063,9001],[102070,102079,9001],[102096,102099,9001],[102101,102109,9001],[102114,102117,9001],[102132,102138,9001],[102141,102144,9001],[102156,102166,9001],[102173,102179,9001],[102191,102198,9001],[102221,102228,9001],[102231,102233,9001],[102237,102240,9001],[102364,102375,9001],[102389,102398,9003],[102399,102419,9001],[102421,102438,9001],[102445,102447,9003],[102450,102458,9001],[102459,102462,9003],[102470,102489,9001],[102550,102556,9001],[102562,102588,9001],[102629,102640,9003],[102648,102650,9003],[102688,102690,9003],[102696,102700,9003],[102701,102703,9001],[102799,102900,9001],[103166,103168,9002],[103220,103224,9001],[103225,103227,9002],[103232,103237,9001],[103238,103243,9003],[103244,103246,9001],[103247,103249,9003],[103254,103256,9001],[103257,103259,9003],[103264,103266,9001],[103267,103269,9003],[103327,103330,9001],[103344,103347,9001],[103372,103375,9001],[103381,103383,9001],[103384,103386,9002],[103387,103389,9001],[103390,103392,9003],[103397,103399,9001],[103427,103430,9003],[103444,103447,9003],[103476,103478,9001],[103479,103481,9003],[103486,103488,9001],[103489,103491,9003],[103492,103495,9001],[103496,103499,9003],[103539,103543,9001],[103544,103548,9003],[103549,103551,9001],[103552,103554,9002],[103555,103557,9003],[103558,103560,9001],[103571,103573,9001],[103574,103576,9003],[103577,103580,9001],[103581,103583,9003],[103595,103597,9001],[103600,103694,9001],[103696,103698,9001],[103700,103793,9003],[104101,104103,9102],[104126,104131,9102],[104259,104261,9102],[104700,104786,9102],[104900,104975,9102]],nc:[2065,9001,2066,9039,2136,9094,2137,9001,2138,9001,2154,9001,2157,9001,2158,9001,2159,9094,2160,9094,2169,9001,2170,9001,2204,9003,2219,9001,2220,9001,2254,9003,2255,9003,2256,9002,2265,9002,2266,9002,2267,9003,2268,9003,2269,9002,2270,9002,2271,9003,2272,9003,2273,9002,2290,9001,2294,9001,2295,9001,2314,9005,2899,9003,2900,9003,2901,9002,2909,9002,2910,9002,2911,9003,2912,9003,2913,9002,2914,9002,2980,9001,2981,9001,2991,9001,2992,9002,2993,9001,2994,9002,3074,9001,3075,9001,3080,9002,3089,9003,3090,9001,3091,9003,3102,9003,3141,9001,3142,9001,3167,9301,3360,9001,3361,9002,3362,9001,3363,9003,3364,9001,3365,9003,3404,9003,3405,9001,3406,9001,3407,9005,3439,9001,3440,9001,3479,9002,3480,9001,3481,9002,3482,9001,3483,9002,3484,9001,3485,9003,3486,9001,3487,9003,3488,9001,3489,9001,3490,9003,3491,9001,3492,9003,3493,9001,3494,9003,3495,9001,3496,9003,3497,9001,3498,9003,3499,9001,3500,9003,3501,9001,3502,9003,3503,9001,3504,9003,3505,9001,3506,9003,3507,9001,3508,9003,3509,9001,3510,9003,3511,9001,3512,9003,3513,9001,3514,9001,3515,9003,3516,9001,3517,9003,3518,9001,3519,9003,3520,9001,3521,9003,3522,9001,3523,9003,3524,9001,3525,9003,3526,9001,3527,9003,3528,9001,3529,9003,3530,9001,3531,9003,3532,9001,3533,9003,3534,9001,3535,9003,3536,9001,3537,9003,3538,9001,3539,9003,3540,9001,3541,9003,3542,9001,3543,9003,3544,9001,3545,9003,3546,9001,3547,9003,3548,9001,3549,9003,3550,9001,3551,9003,3552,9001,3553,9003,3582,9003,3583,9001,3584,9003,3585,9001,3586,9003,3587,9001,3588,9002,3589,9001,3590,9002,3591,9001,3592,9001,3593,9002,3598,9003,3599,9001,3600,9003,3605,9002,3606,9001,3607,9001,3608,9003,3609,9001,3610,9003,3611,9001,3612,9003,3613,9001,3614,9003,3615,9001,3616,9003,3617,9001,3618,9003,3619,9001,3620,9003,3621,9001,3622,9003,3623,9001,3624,9003,3625,9001,3626,9003,3627,9001,3628,9003,3629,9001,3630,9003,3631,9001,3632,9003,3633,9001,3634,9002,3635,9001,3636,9002,3640,9003,3641,9001,3642,9003,3643,9001,3644,9002,3645,9001,3646,9002,3647,9001,3648,9002,3649,9001,3650,9003,3651,9001,3652,9003,3653,9001,3654,9003,3655,9001,3656,9002,3657,9001,3658,9003,3659,9001,3660,9003,3661,9001,3662,9003,3663,9001,3664,9003,3668,9003,3669,9001,3670,9003,3671,9001,3672,9003,3673,9001,3674,9003,3675,9001,3676,9002,3677,9003,3678,9001,3679,9002,3680,9003,3681,9001,3682,9002,3683,9003,3684,9001,3685,9001,3686,9003,3687,9001,3688,9003,3689,9001,3690,9003,3691,9001,3692,9003,3696,9003,3697,9001,3698,9003,3699,9001,3700,9003,3783,9001,3784,9001,3793,9001,3794,9001,3812,9001,3819,9102,3821,9102,3824,9102,3854,9001,3857,9001,3889,9102,3906,9102,3911,9001,3912,9001,3920,9001,3978,9001,3979,9001,3991,9003,3992,9003,4026,9001,4037,9001,4038,9001,4042,9102,4071,9001,4075,9102,4081,9102,4082,9001,4083,9001,4087,9001,4088,9001,4217,9003,4261,9105,4262,9102,4263,9102,4288,9102,4289,9102,4322,9102,4324,9102,4326,9102,4414,9001,4415,9001,4417,9001,4434,9001,4437,9001,4438,9003,4439,9003,4462,9001,4463,9102,4467,9001,4470,9102,4471,9001,4475,9102,4483,9102,4490,9102,4555,9102,4558,9102,4559,9001,4632,9102,4633,9102,4647,9001,4807,9105,4808,9102,4809,9102,4810,9105,4811,9105,4816,9105,4817,9102,4818,9102,4820,9102,4821,9105,4822,9001,4823,9102,4824,9102,4826,9001,4839,9001,4901,9105,4902,9105,4903,9102,4904,9102,5013,9102,5018,9001,5048,9001,5167,9001,5168,9001,5221,9001,5223,9001,5228,9102,5229,9102,5233,9102,5234,9001,5235,9001,5243,9001,5246,9102,5247,9001,5252,9102,5264,9102,5266,9001,5316,9001,5320,9001,5321,9001,5324,9102,5325,9001,5337,9001,5340,9102,5354,9102,5360,9102,5361,9001,5362,9001,5365,9102,5367,9001,5371,9102,5373,9102,5381,9102,5382,9001,5383,9001,5387,9001,5389,9001,5393,9102,5396,9001,5451,9102,5456,9001,5457,9001,5464,9102,5467,9102,5469,9001,5472,9037,5489,9102,5490,9001,5513,9001,5514,9001,5523,9001,5524,9102,5527,9102,5530,9001,5531,9001,5546,9102,5559,9001,5561,9102,5588,9002,5589,9005,5593,9102,5596,9001,5627,9001,5629,9001,5641,9001,5643,9001,5644,9001,5646,9003,5654,9003,5655,9003,5659,9001,5681,9102,5700,9001,5825,9001,5836,9001,5837,9001,5839,9001,5842,9001,5844,9001,5858,9001,5879,9001,5880,9001,5886,9102,5887,9001,5890,9001,6128,9002,6129,9002,6135,9102,6204,9001,6207,9102,6210,9001,6211,9001,6307,9001,6311,9102,6312,9001,6316,9001,6318,9102,6322,9102,6325,9102,6362,9001,6365,9102,6391,9002,6405,9002,6406,9001,6407,9002,6408,9001,6409,9002,6410,9001,6411,9003,6412,9001,6413,9003,6414,9001,6415,9001,6416,9003,6417,9001,6418,9003,6419,9001,6420,9003,6421,9001,6422,9003,6423,9001,6424,9003,6425,9001,6426,9003,6427,9001,6428,9003,6429,9001,6430,9003,6431,9001,6432,9003,6433,9001,6434,9003,6435,9001,6436,9003,6437,9001,6438,9003,6439,9001,6440,9001,6441,9003,6442,9001,6443,9003,6444,9001,6445,9003,6446,9001,6447,9003,6448,9001,6449,9003,6450,9001,6451,9003,6452,9001,6453,9003,6454,9001,6455,9003,6456,9001,6457,9003,6458,9001,6459,9003,6460,9001,6461,9003,6462,9001,6463,9003,6464,9001,6465,9003,6466,9001,6467,9003,6468,9001,6469,9003,6470,9001,6471,9003,6472,9001,6473,9003,6474,9001,6475,9003,6476,9001,6477,9003,6478,9001,6479,9003,6484,9003,6485,9001,6486,9003,6487,9001,6488,9003,6489,9001,6490,9003,6491,9001,6492,9003,6493,9001,6494,9002,6495,9001,6496,9002,6497,9001,6498,9001,6499,9002,6500,9001,6501,9003,6502,9001,6503,9003,6504,9001,6505,9003,6506,9001,6507,9003,6508,9001,6509,9001,6510,9003,6515,9002,6516,9001,6518,9001,6519,9003,6520,9001,6521,9003,6522,9001,6523,9003,6524,9001,6525,9003,6526,9001,6527,9003,6528,9001,6529,9003,6530,9001,6531,9003,6532,9001,6533,9003,6534,9001,6535,9003,6536,9001,6537,9003,6538,9001,6539,9003,6540,9001,6541,9003,6542,9001,6543,9003,6544,9001,6545,9002,6546,9001,6547,9002,6548,9001,6549,9003,6550,9001,6551,9003,6552,9001,6553,9003,6554,9001,6555,9003,6556,9001,6557,9002,6558,9001,6559,9002,6560,9001,6561,9002,6562,9001,6563,9003,6564,9001,6565,9003,6566,9001,6567,9001,6568,9003,6569,9001,6570,9002,6571,9001,6572,9003,6573,9001,6574,9003,6575,9001,6576,9003,6577,9001,6578,9003,6582,9003,6583,9001,6584,9003,6585,9001,6586,9003,6587,9001,6588,9003,6589,9001,6590,9003,6591,9001,6592,9001,6593,9003,6594,9001,6595,9003,6596,9001,6597,9003,6598,9001,6599,9003,6600,9001,6601,9003,6602,9001,6603,9003,6605,9003,6606,9001,6607,9003,6608,9001,6609,9003,6610,9001,6611,9001,6612,9003,6613,9001,6614,9003,6615,9001,6616,9003,6617,9001,6618,9003,6633,9003,6646,9001,6668,9102,6703,9001,6706,9102,6783,9102,6784,9001,6785,9002,6786,9001,6787,9002,6788,9001,6789,9002,6790,9001,6791,9002,6792,9001,6793,9002,6794,9001,6795,9002,6796,9001,6797,9002,6798,9001,6799,9002,6800,9001,6801,9002,6802,9001,6803,9002,6804,9001,6805,9002,6806,9001,6807,9002,6808,9001,6809,9002,6810,9001,6811,9002,6812,9001,6813,9002,6814,9001,6815,9002,6816,9001,6817,9002,6818,9001,6819,9002,6820,9001,6821,9002,6822,9001,6823,9002,6824,9001,6825,9002,6826,9001,6827,9002,6828,9001,6829,9002,6830,9001,6831,9002,6832,9001,6833,9002,6834,9001,6835,9002,6836,9001,6837,9002,6838,9001,6839,9002,6840,9001,6841,9002,6842,9001,6843,9002,6844,9001,6845,9002,6846,9001,6847,9002,6848,9001,6849,9002,6850,9001,6851,9002,6852,9001,6853,9002,6854,9001,6855,9002,6856,9001,6857,9002,6858,9001,6859,9002,6860,9001,6861,9002,6862,9001,6863,9002,6867,9001,6868,9002,6870,9001,6875,9001,6876,9001,6879,9001,6880,9003,6884,9001,6885,9002,6886,9001,6887,9002,6892,9102,6894,9102,6915,9001,6922,9001,6923,9003,6924,9001,6925,9003,6962,9001,6983,9102,6984,9001,6990,9102,6991,9001,7035,9102,7037,9102,7039,9102,7041,9102,7073,9102,7084,9102,7086,9102,7128,9003,7131,9001,7132,9003,7133,9102,7136,9102,7139,9102,7142,9001,7257,9001,7258,9003,7259,9001,7260,9003,7261,9001,7262,9003,7263,9001,7264,9003,7265,9001,7266,9003,7267,9001,7268,9003,7269,9001,7270,9003,7271,9001,7272,9003,7273,9001,7274,9003,7275,9001,7276,9003,7277,9001,7278,9003,7279,9001,7280,9003,7281,9001,7282,9003,7283,9001,7284,9003,7285,9001,7286,9003,7287,9001,7288,9003,7289,9001,7290,9003,7291,9001,7292,9003,7293,9001,7294,9003,7295,9001,7296,9003,7297,9001,7298,9003,7299,9001,7300,9003,7301,9001,7302,9003,7303,9001,7304,9003,7305,9001,7306,9003,7307,9001,7308,9003,7309,9001,7310,9003,7311,9001,7312,9003,7313,9001,7314,9003,7315,9001,7316,9003,7317,9001,7318,9003,7319,9001,7320,9003,7321,9001,7322,9003,7323,9001,7324,9003,7325,9001,7326,9003,7327,9001,7328,9003,7329,9001,7330,9003,7331,9001,7332,9003,7333,9001,7334,9003,7335,9001,7336,9003,7337,9001,7338,9003,7339,9001,7340,9003,7341,9001,7342,9003,7343,9001,7344,9003,7345,9001,7346,9003,7347,9001,7348,9003,7349,9001,7350,9003,7351,9001,7352,9003,7353,9001,7354,9003,7355,9001,7356,9003,7357,9001,7358,9003,7359,9001,7360,9003,7361,9001,7362,9003,7363,9001,7364,9003,7365,9001,7366,9003,7367,9001,7368,9003,7369,9001,7370,9003,7373,9102,7683,9102,7798,9102,7844,9102,7877,9001,7878,9001,7881,9102,7882,9001,7883,9001,7886,9102,7887,9001,7899,9001,7991,9001,7992,9001,8035,9003,8036,9003,8042,9102,8043,9102,8058,9001,8059,9001,8082,9001,8083,9001,8086,9102,8088,9001,8090,9001,8091,9003,8092,9001,8093,9003,8095,9001,8096,9003,8097,9001,8098,9003,8099,9001,8100,9003,8101,9001,8102,9003,8103,9001,8104,9003,8105,9001,8106,9003,8107,9001,8108,9003,8109,9001,8110,9003,8111,9001,8112,9003,8113,9001,8114,9003,8115,9001,8116,9003,8117,9001,8118,9003,8119,9001,8120,9003,8121,9001,8122,9003,8123,9001,8124,9003,8125,9001,8126,9003,8127,9001,8128,9003,8129,9001,8130,9003,8131,9001,8132,9003,8133,9001,8134,9003,8135,9001,8136,9003,8137,9001,8138,9003,8139,9001,8140,9003,8141,9001,8142,9003,8143,9001,8144,9003,8145,9001,8146,9003,8147,9001,8148,9003,8149,9001,8150,9003,8151,9001,8152,9003,8153,9001,8154,9003,8155,9001,8156,9003,8157,9001,8158,9003,8159,9001,8160,9003,8161,9001,8162,9003,8163,9001,8164,9003,8165,9001,8166,9003,8167,9001,8168,9003,8169,9001,8170,9003,8171,9001,8172,9003,8173,9001,8177,9003,8179,9001,8180,9003,8181,9001,8182,9003,8184,9001,8185,9003,8187,9001,8189,9003,8191,9001,8193,9003,8196,9001,8197,9003,8198,9001,8200,9003,8201,9001,8202,9003,8203,9001,8204,9003,8205,9001,8206,9003,8207,9001,8208,9003,8209,9001,8210,9003,8212,9001,8213,9003,8214,9001,8216,9003,8218,9001,8220,9003,8222,9001,8224,9003,8225,9001,8226,9003,8232,9102,8237,9102,8240,9102,8246,9102,8249,9102,8252,9102,8255,9102,8311,9001,8312,9002,8313,9001,8314,9002,8315,9001,8316,9002,8317,9001,8318,9002,8319,9001,8320,9002,8321,9001,8322,9002,8323,9001,8324,9002,8325,9001,8326,9002,8327,9001,8328,9002,8329,9001,8330,9002,8331,9001,8332,9002,8333,9001,8334,9002,8335,9001,8336,9002,8337,9001,8338,9002,8339,9001,8340,9002,8341,9001,8342,9002,8343,9001,8344,9002,8345,9001,8346,9002,8347,9001,8348,9002,8351,9102,8352,9001,8353,9001,8379,9001,8380,9003,8381,9001,8382,9003,8383,9001,8384,9003,8385,9001,8387,9003,8391,9001,8395,9001,8427,9102,8428,9102,8431,9102,8433,9001,8441,9001,8455,9001,8456,9001,8531,9003,8545,9102,8682,9001,8685,9102,8687,9001,8692,9001,8693,9001,8694,9102,8699,9102,8818,9102,8826,9001,8860,9102,8888,9102,8900,9102,8902,9102,8903,9001,8907,9102,8949,9102,8950,9001,8951,9001,9003,9102,9006,9102,9009,9102,9012,9102,9014,9102,9017,9102,9019,9102,9039,9001,9040,9001,9140,9102,9141,9001,9148,9102,9149,9001,9150,9001,9153,9102,9191,9001,9221,9001,9222,9001,20499,9001,20538,9001,20539,9001,20790,9001,20791,9001,21291,9001,21292,9001,21500,9001,21817,9001,21818,9001,22032,9001,22033,9001,22091,9001,22092,9001,22332,9001,22391,9001,22392,9001,22700,9001,22770,9001,22780,9001,22832,9001,23090,9001,23095,9001,23239,9001,23240,9001,23700,9001,24047,9001,24048,9001,24100,9005,24200,9001,24305,9001,24306,9001,24382,9084,24383,9001,24500,9001,24547,9001,24548,9001,24571,9062,24600,9001,25e3,9001,25231,9001,25884,9001,25932,9001,26237,9001,26331,9001,26332,9001,26591,9001,26592,9001,26632,9001,26692,9001,27120,9001,27200,9001,27291,9040,27292,9040,27429,9001,27493,9001,27500,9001,27700,9001,28232,9001,28600,9001,28991,9001,28992,9001,29101,9001,29220,9001,29221,9001,29333,9001,29635,9001,29636,9001,29701,9001,29738,9001,29739,9001,29849,9001,29850,9001,29871,9042,29872,9041,29873,9001,30200,9039,30339,9001,30340,9001,30791,9001,30792,9001,31028,9001,31121,9001,31154,9001,31170,9001,31171,9001,31279,9001,31370,9001,31528,9001,31529,9001,31600,9001,31700,9001,31838,9001,31839,9001,31901,9001,32030,9003,32031,9003,32061,9001,32062,9001,32098,9001,32099,9003,32100,9001,32104,9001,32161,9001,32766,9001,37202,9102,37203,9102,37206,9102,37207,9102,37218,9102,37221,9102,37225,9105,37240,9102,37241,9102,37243,9102,37245,9102,37249,9102,37257,9102,37260,9102,53048,9001,53049,9001,54034,9001,54090,9001,54091,9001,65061,9003,65062,9003,65161,9001,102041,9003,102064,9085,102068,109030,102069,109031,102093,9001,102094,9001,102118,9003,102120,9003,102121,9003,102122,9001,102150,9001,102168,9001,102204,9001,102212,9001,102213,9001,102215,9001,102216,9001,102217,9003,102218,9001,102219,9003,102220,9003,102247,9001,102299,9001,102306,9001,102319,9001,102328,9001,102329,9001,102359,9001,102360,9001,102440,9001,102448,9001,102464,9003,102465,9003,102491,9001,102492,9001,102498,9001,102499,9001,102525,9003,102526,9003,102528,9003,102529,9003,102589,9003,102598,9001,102599,9003,102600,9003,102604,9003,102661,9003,102662,9003,102664,9003,102665,9003,102705,9003,102720,9003,102721,9003,102726,9003,102727,9003,102733,9003,102761,9003,102766,9003,102974,9003,103228,9001,103229,9001,103230,9003,103231,9003,103250,9001,103251,9003,103252,9001,103253,9003,103260,9001,103261,9001,103262,9003,103263,9003,103270,9001,103271,9001,103272,9003,103273,9003,103274,9001,103275,9001,103276,9003,103277,9003,103278,9001,103279,9001,103280,9003,103281,9003,103282,9001,103283,9001,103284,9003,103285,9003,103286,9001,103287,9003,103288,9001,103289,9003,103290,9001,103291,9003,103292,9001,103293,9001,103294,9003,103295,9003,103296,9001,103297,9001,103298,9003,103299,9003,103300,9001,103307,9001,103313,9001,103319,9001,103322,9001,103323,9001,103332,9001,103335,9001,103338,9001,103340,9001,103351,9001,103358,9001,103370,9001,103376,9003,103377,9001,103378,9001,103379,9003,103380,9003,103393,9001,103394,9001,103395,9003,103396,9003,103400,9003,103407,9003,103413,9003,103419,9003,103422,9003,103423,9003,103432,9003,103435,9003,103438,9003,103440,9003,103451,9003,103458,9003,103470,9003,103472,9001,103473,9002,103474,9001,103475,9003,103482,9001,103483,9003,103484,9001,103485,9003,103500,9001,103501,9003,103502,9001,103503,9001,103504,9002,103505,9002,103506,9001,103507,9001,103508,9003,103509,9003,103510,9001,103511,9001,103512,9003,103513,9003,103514,9001,103515,9003,103516,9001,103517,9003,103518,9001,103519,9003,103520,9001,103521,9002,103522,9001,103523,9001,103524,9003,103525,9003,103526,9001,103527,9003,103561,9003,103562,9003,103563,9001,103564,9001,103565,9003,103566,9003,103567,9001,103568,9001,103569,9003,103570,9003,103585,9003,103586,9001,103587,9003,103588,9002,103589,9001,103590,9003,103591,9002,103592,9001,103593,9003,103594,9002,103695,9003,103846,9001,103946,9003,104009,9102,104017,9102,104018,9102,104022,9102,104024,9102,104027,9102,104047,9102,104050,9102,104105,9102,104106,9102,104109,9102,104112,9102,104113,9102,104134,9102,104135,9102,104138,9102,104139,9105,104140,9105,104808,9102]};c.wr=(function(){function u(){}return u.Sy=function(o){u.xp===!1&&u.yt();var r=u.FQ(o);if(r==-1){var s=u.Bx(o);s!=o&&(r=u.Sy(s))}return r==-1&&(s=u.FK(o))!=o&&(r=u.Sy(s)),r},u.FQ=function(o){return u.Fw[o]!==void 0?u.Fw[o]:-1},u.CQ=function(o){u.xp===!1&&u.yt();var r=u.nF(o);if(r==1e38){var s=u.Bx(o);if(s!=o&&(r=u.nF(s)),r==1e38)return 1e-10}return r},u.ZS=function(o){if(u.Is[o]!==void 0)return!0;var r=u.Bx(o);return r!=o&&u.Is[r]!==void 0},u.aT=function(o){if(u.xo[o]!==void 0)return!0;var r=u.Bx(o);return r!=o&&u.xo[r]!==void 0},u.nF=function(o){return u.xp===!1&&u.yt(),u.Is[o]!==void 0?u.Is[o]:u.xo[o]!==void 0?u.xo[o]:1e38},u.FK=function(o){return u.xp===!1&&u.yt(),u.WA[o]!==void 0?u.WA[o]:o},u.Bx=function(o){return u.xp===!1&&u.yt(),u.XA[o]!==void 0?u.XA[o]:o},u.yt=function(){for(var o,r=I,s=0;s<r.pcsid.length;s+=2)u.xo[r.pcsid[s]]=r.pcstol[2*r.pcsid[s+1]+1];for(s=0;s<r.pcsidc.length;s+=1)for(var l=(o=r.pcsidc[s])[0];l<=o[1];l++)u.xo[l]=r.pcstol[2*o[2]+1];for(s=0;s<r.gcsid.length;s+=2)u.Is[r.gcsid[s]]=r.gcstol[2*r.gcsid[s+1]+1];for(s=0;s<r.gcsidc.length;s+=1)for(l=(o=r.gcsidc[s])[0];l<=o[1];l++)u.xo[l]=r.gcstol[2*o[2]+1];for(s=0;s<w.c.length;s+=1)for(l=(o=w.c[s])[0];l<=o[1];l++)u.Fw[l]=o[2];for(s=0;s<w.nc.length;s+=2)u.Fw[w.nc[s]]=w.nc[s+1];for(w=null,s=0;s<r.newtoold.length;s+=2)u.WA[r.newtoold[s+1]]=r.newtoold[s],u.XA[r.newtoold[s]]=r.newtoold[s+1];I=null,u.xp=!0},u.xp=!1,u.Is=[],u.xo=[],u.WA=[],u.XA=[],u.Fw=[],u})()})(Q||(Q={})),(function(c){function I(u){return u.length===0?'""':u[0]=='"'||u[0]=="."||"0"<=u[0]&&"9">=u[0]?u:'"'+u.trim()+'"'}var w=[];c.XC=(function(){function u(){}return u.EQ=function(o){try{for(var r=0;r<w.length;r++)if(w[r].wkttext===o)return w[r].unit;for(var s,l=r="",h=!1,f=0;f<o.length;f++){var p=o[f];h===!0?p=='"'?o[f+1]=='"'?r+=p:h=h=!1:r+=p:/[\s]/.test(p)||(p==","?(l=r!==""?l+(I(r)+","):l+",",r=""):p==")"||p=="]"?(l=r!==""?l+(I(r)+"]}"):l+"]}",r=""):p=="("||p=="["?(l+='{ "entity": "'+r.toUpperCase().trim()+'", "values":[',r=""):p=='"'?(h=!0,r=""):r+=p)}s=JSON.parse(l);var g=u.mF(s);if(g===null)return null;for(s=null,p=0;p<g.values.length;p++)if(typeof g.values[p]=="object"&&(g.values[p].entity==="UNIT"||g.values[p].entity==="ANGLEUNIT"||g.values[p].entity==="LENGTHUNIT")){s=g.values[p];break}if(s===null)return null;var _=c.Tc.ZO(g.entity==="GEOGCS"||g.entity==="GEOGCRS"?1:0,s.values[1],s.values[2]);return w.push({wkttext:o,unit:_}),10<w.length&&w.shift(),_}catch{return null}},u.mF=function(o){if(o===null)return null;switch(o.entity){case"GEOGCRS":case"GEOGCS":case"PROJCRS":case"PROJCS":return o}for(var r=[],s=0;s<o.values.length;s++)if(typeof o.values[s]=="object"&&o.values[s].entity!==void 0)switch(o.values[s].entity){case"GEOGCRS":case"GEOGCS":case"PROJCRS":case"PROJCS":return o.values[s];default:r.push(o.values[s])}for(o=0;o<r.length;o++)if((s=u.mF(r[o]))!==null)return s;return null},u.DQ=function(o){var r=-1;if(o!=null&&0<o.length){var s=o.search(/PROJCR?S/);if(0<=s){var l=0;if(0<=(s=o.lastIndexOf("UNIT"))&&0<(s=o.indexOf(",",s+4))){s++;var h=o.indexOf("]",s+1);if(0<h)try{l=parseFloat(o.substring(s,h))}catch{l=0}}0<l&&(r=.001/l)}else if(0<=(s=o.search(/GEOGCR?S/))){var f=0;if(l=0,(s=o.indexOf("SPHEROID",s+6))===-1&&(s=o.indexOf("ELLIPSOID",s+7)),0<s&&0<(s=o.indexOf(",",s+8))){if(s++,0<(h=o.indexOf(",",s+1)))try{f=parseFloat(o.substring(s,h))}catch{f=0}if(0<f&&((s=o.lastIndexOf("ANGLEUNIT",h+1))===-1&&(s=o.lastIndexOf("UNIT",h+1)),0<=s&&0<(s=o.indexOf(",",s+4))&&(s++,0<(h=o.indexOf("]",s+1)))))try{l=parseFloat(o.substring(s,h))}catch{l=0}}0<f&&0<l&&(r=.001/(f*l))}}return r},u})()})(Q||(Q={})),(function(c){var I;(I=c.eL||(c.eL={}))[I.NONE=0]="NONE",I[I.LINEAR=1]="LINEAR",I[I.ANGULAR=2]="ANGULAR",(function(u){u[u.enumFloat=0]="enumFloat",u[u.enumDouble=1]="enumDouble",u[u.enumInt32=2]="enumInt32",u[u.enumInt64=3]="enumInt64",u[u.enumInt8=4]="enumInt8",u[u.enumInt16=5]="enumInt16"})(c.QL||(c.QL={})),(function(u){u[u.POSITION=0]="POSITION",u[u.Z=1]="Z",u[u.M=2]="M",u[u.ID=3]="ID",u[u.NORMAL=4]="NORMAL",u[u.TEXTURE1D=5]="TEXTURE1D",u[u.TEXTURE2D=6]="TEXTURE2D",u[u.TEXTURE3D=7]="TEXTURE3D",u[u.ID2=8]="ID2",u[u.MAXSEMANTICS=10]="MAXSEMANTICS"})(c.Ih||(c.Ih={}));var w=(function(){function u(o,r){if(this.Vs=this.Ae=null,this.Oq=this.Aa=0,this.uh=this.bg=null,this.wl=0,r!==void 0){for(this.Aa=r.Aa,this.Oq=r.Oq,this.bg=r.bg.slice(0),this.uh=r.uh.slice(0),this.wl=r.wl,this.Vs=[],o=r=0;o<this.Aa;o++)this.Vs[o]=r,r+=u.Va(this.bg[o]);for(this.Oq=r,this.Ae=[],o=0;o<this.Aa;o++){r=u.Va(this.kd(o));for(var s=u.se(this.kd(o)),l=0;l<r;l++)this.Ae[this.Vs[o]+l]=s}}else this.Oq=this.Aa=0}return u.prototype.kd=function(o){if(0>o||o>this.Aa)throw c.i.N();return this.bg[o]},u.prototype.Pf=function(o){return this.uh[o]},u.lz=function(o){return u.JM[o]},u.Tp=function(o){return u.SM[o]},u.Va=function(o){return u.rM[o]},u.prototype.hasAttribute=function(o){return 0<=this.uh[o]},u.prototype.iG=function(){return this.hasAttribute(1)},u.se=function(o){return u.eD[o]},u.prototype.LR=function(o){return this.Vs[o]},u.DG=function(o,r){return u.eD[o]===r},u.prototype.Nb=function(o){return this===o},u.prototype.An=function(){for(var o=c.O.Th(this.bg[0]),r=1;r<this.Aa;r++)o=c.O.Th(this.bg[r],o);return o},u.prototype.$j=function(o){return this.Vs[o]},u.prototype.cc=function(){return this.wl},u.prototype.Ed=function(o){return this.bg[o]},u.eD=[0,0,NaN,0,0,0,0,0,0],u.JM=[1,1,1,0,2,1,1,1,0],u.SM=[1,1,1,2,0,0,0,0,2],u.rM=[2,1,1,1,3,1,2,3,2],u})();c.ra=w})(Q||(Q={})),(function(c){function I(h,f,p){var g=f-(h=new l(h)).e,_=h.c;for(_.length>++f&&w(h,g,l.eu),_[0]?p?g=f:(_=h.c,g=h.e+g+1):++g;_.length<g;_.push(0));return g=h.e,p===1||p&&(f<=g||g<=o)?(0>h.Bd&&_[0]?"-":"")+(1<_.length?_[0]+"."+_.join("").slice(1):_[0])+(0>g?"e":"e+")+g:h.toString()}function w(h,f,p,g){var _=h.c,M=h.e+f+1;if(p===1?g=5<=_[M]:p===2?g=5<_[M]||_[M]==5&&(g||0>M||_[M+1]!==void 0||1&_[M-1]):p===3?g=g||_[M]!==void 0||0>M:(g=!1,p!==0&&u("!Big.RM!")),1>M||!_[0])g?(h.e=-f,h.c=[1]):h.c=[h.e=0];else{if(_.length=M--,g)for(;9<++_[M];)_[M]=0,M--||(++h.e,_.unshift(1));for(M=_.length;!_[--M];_.pop());}return h}function u(h){throw(h=Error(h)).name="BigError",h}var o=-7,r=21,s=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,l=(function(){function h(f){if(f instanceof h)this.Bd=f.Bd,this.e=f.e,this.c=f.c.slice();else{var p,g,_;for(f===0&&0>1/f?f="-0":s.test(f+="")||u(NaN),this.Bd=f.charAt(0)=="-"?(f=f.slice(1),-1):1,-1<(p=f.indexOf("."))&&(f=f.replace(".","")),0<(g=f.search(/e/i))?(0>p&&(p=g),p+=+f.slice(g+1),f=f.substring(0,g)):0>p&&(p=f.length),g=0;f.charAt(g)=="0";g++);if(g==(_=f.length))this.c=[this.e=0];else{for(;f.charAt(--_)=="0";);for(this.e=p-g-1,this.c=[],p=0;g<=_;this.c[p++]=+f.charAt(g++));}}}return h.prototype.abs=function(){var f=new h(this);return f.Bd=1,f},h.prototype.cmp=function(f){var p=this.c,g=(f=new h(f)).c,_=this.Bd,M=f.Bd,R=this.e,$=f.e;if(!p[0]||!g[0])return p[0]?_:g[0]?-M:0;if(_!=M)return _;if(f=0>_,R!=$)return R>($^f)?1:-1;for(_=-1,M=(R=p.length)<($=g.length)?R:$;++_<M;)if(p[_]!=g[_])return p[_]>(g[_]^f)?1:-1;return R==$?0:R>($^f)?1:-1},h.prototype.jm=function(f){var p=this.c,g=(f=new h(f)).c,_=this.Bd==f.Bd?1:-1,M=h.rr;if((M!==~~M||0>M||1e6<M)&&u("!Big.DP!"),!p[0]||!g[0])return p[0]==g[0]&&u(NaN),g[0]||u(_/0),new h(0*_);var R,$,P=g.slice(),j=R=g.length,F=p.length,V=p.slice(0,R),W=V.length,q=f,J=q.c=[],nt=0,st=M+(q.e=this.e-f.e)+1;for(q.Bd=_,_=0>st?0:st,P.unshift(0);W++<R;V.push(0));do{for($=0;10>$;$++){if(R!=(W=V.length))var ct=R>W?1:-1;else{var bt=-1;for(ct=0;++bt<R;)if(g[bt]!=V[bt]){ct=g[bt]>V[bt]?1:-1;break}}if(!(0>ct))break;for(f=W==R?g:P;W;){if(V[--W]<f[W]){for(bt=W;bt&&!V[--bt];V[bt]=9);--V[bt],V[W]+=10}V[W]-=f[W]}for(;!V[0];V.shift());}J[nt++]=ct?$:++$,V[0]&&ct?V[W]=p[j]||0:V=[p[j]]}while((j++<F||V[0]!==void 0)&&_--);return J[0]||nt==1||(J.shift(),q.e--),nt>st&&w(q,M,h.eu,V[0]!==void 0),q},h.prototype.fS=function(){return 0<this.cmp(0)},h.prototype.nT=function(){return 0>this.cmp(0)},h.prototype.jt=function(f){var p,g=this.Bd,_=(f=new h(f)).Bd;if(g!=_)return f.Bd=-_,this.tI(f);var M=this.c.slice(),R=this.e,$=f.c,P=f.e;if(!M[0]||!$[0])return $[0]?(f.Bd=-_,f):new h(M[0]?this:0);if(g=R-P){for((p=0>g)?(g=-g,R=M):(P=R,R=$),R.reverse(),_=g;_--;R.push(0));R.reverse()}else for(R=((p=M.length<$.length)?M:$).length,g=_=0;_<R;_++)if(M[_]!=$[_]){p=M[_]<$[_];break}if(p&&(R=M,M=$,$=R,f.Bd=-f.Bd),0<(_=(R=$.length)-(p=M.length)))for(;_--;M[p++]=0);for(_=p;R>g;){if(M[--R]<$[R]){for(p=R;p&&!M[--p];M[p]=9);--M[p],M[R]+=10}M[R]-=$[R]}for(;M[--_]==0;M.pop());for(;M[0]==0;)M.shift(),--P;return M[0]||(f.Bd=1,M=[P=0]),f.c=M,f.e=P,f},h.prototype.tI=function(f){var p=this.Bd,g=(f=new h(f)).Bd;if(p!=g)return f.Bd=-g,this.jt(f);g=this.e;var _=this.c,M=f.e,R=f.c;if(!_[0]||!R[0])return R[0]?f:new h(_[0]?this:0*p);if(_=_.slice(),p=g-M){for(0<p?(M=g,g=R):(p=-p,g=_),g.reverse();p--;g.push(0));g.reverse()}for(0>_.length-R.length&&(g=R,R=_,_=g),p=R.length,g=0;p;)g=(_[--p]=_[p]+R[p]+g)/10|0,_[p]%=10;for(g&&(_.unshift(g),++M),p=_.length;_[--p]==0;_.pop());return f.c=_,f.e=M,f},h.prototype.pow=function(f){var p=this,g=new h(1),_=g,M=0>f;for((f!==~~f||-1e6>f||1e6<f)&&u("!pow!"),f=M?-f:f;1&f&&(_=_.lr(p)),f>>=1;)p=p.lr(p);return M?g.jm(_):_},h.prototype.round=function(f,p){var g=this;return f==null?f=0:(f!==~~f||0>f||1e6<f)&&u("!round!"),w(g=new h(g),f,p??h.eu),g},h.prototype.sqrt=function(){var f=this.c,p=this.Bd,g=this.e,_=new h("0.5");if(!f[0])return new h(this);0>p&&u(NaN),(p=Math.sqrt(this.toString()))==0||p==1/0?((p=f.join("")).length+g&1||(p+="0"),(f=new h(Math.sqrt(p).toString())).e=((g+1)/2|0)-(0>g||1&g)):f=new h(p.toString()),p=f.e+(h.rr+=4);do g=f,f=_.lr(g.tI(this.jm(g)));while(g.c.slice(0,p).join("")!==f.c.slice(0,p).join(""));return w(f,h.rr-=4,h.eu),f},h.prototype.lr=function(f){var p=this.c,g=(f=new h(f)).c,_=p.length,M=g.length,R=this.e,$=f.e;if(f.Bd=this.Bd==f.Bd?1:-1,!p[0]||!g[0])return new h(0*f.Bd);if(f.e=R+$,_<M){var P=p;p=g,g=P,$=_,_=M,M=$}for(P=Array($=_+M);$--;P[$]=0);for(R=M;R--;){for(M=0,$=_+R;$>R;)M=P[$]+g[R]*p[$-R-1]+M,P[$--]=M%10,M=M/10|0;P[$]=(P[$]+M)%10}for(M&&++f.e,P[0]||P.shift(),R=P.length;!P[--R];P.pop());return f.c=P,f},h.prototype.toString=function(){var f=this.e,p=this.c.join(""),g=p.length;if(f<=o||f>=r)p=p.charAt(0)+(1<g?"."+p.slice(1):"")+(0>f?"e":"e+")+f;else if(0>f){for(;++f;p="0"+p);p="0."+p}else if(0<f)if(++f>g)for(f-=g;f--;p+="0");else f<g&&(p=p.slice(0,f)+"."+p.slice(f));else 1<g&&(p=p.charAt(0)+"."+p.slice(1));return 0>this.Bd&&this.c[0]?"-"+p:p},h.prototype.toExponential=function(f){return f==null?f=this.c.length-1:(f!==~~f||0>f||1e6<f)&&u("!toExp!"),I(this,f,1)},h.prototype.toFixed=function(f){var p=o,g=r;if(o=-(r=1/0),f==null)var _=this.toString();else f===~~f&&0<=f&&1e6>=f&&(_=I(this,this.e+f),0>this.Bd&&this.c[0]&&0>_.indexOf("-")&&(_="-"+_));return o=p,r=g,_||u("!toFix!"),_},h.prototype.toPrecision=function(f){return f==null?this.toString():((f!==~~f||1>f||1e6<f)&&u("!toPre!"),I(this,f-1,2))},h.rr=20,h.eu=1,h})();c.hp=l})(Q||(Q={})),(function(c){var I=(function(){function w(u){this.lf=u}return w.prototype.nr=function(u,o,r){var s=new c.h,l=new c.h,h=this.lf;r.Vd(u,o,(function(f,p){return h.tc(2*f,s),h.tc(2*p,l),s.compare(l)}))},w.prototype.$p=function(u){return this.lf.read(2*u+1)},w})();c.pi=(function(){function w(){}return w.aq=function(u){if(u.B())return!1;var o=u.getType();return o==1736?u.Ke()!=0:o==1607?(o=[!1],w.sE(u,!0,o),o[0]):!(o!=197&&(!c.aa.yd(o)||u.BG()))},w.gm=function(u){var o=u.getType();if(o==1736)return o=new c.Ta(u.description),u.B()||u.dD(o),o;if(o==1607)return w.sE(u,!1,null);if(o==197)return o=new c.Ta(u.description),u.B()||o.ad(u,!1),o;if(c.aa.yd(o)){if(o=new c.de(u.description),!u.B()&&!u.BG()){var r=new c.Sa;u.To(r),o.add(r),u.Po(r),o.add(r)}return o}if(c.aa.Rn(o))return null;throw c.i.N()},w.sE=function(u,o,r){r!=null&&(r[0]=!1);var s=null;if(o||(s=new c.de(u.description)),!u.B()){var l=new c.ia(0);l.Jb(2*u.da());for(var h=0,f=u.da();h<f;h++)if(0<u.Ja(h)&&!u.Nn(h)){var p=u.Ba(h);l.add(p),p=u.Vc(h)-1,l.add(p)}if(0<l.size){f=new c.Xt,h=u.ub(0),f.sort(l,0,l.size,new I(h)),f=new c.h,h.tc(2*l.get(0),f),p=0;for(var g=1,_=new c.Sa,M=new c.h,R=1,$=l.size;R<$;R++)if(h.tc(2*l.get(R),M),M.qb(f))l.get(p)>l.get(R)?(l.set(p,2147483647),p=R):l.set(R,2147483647),g++;else{if(1&g){if(o)return r!=null&&(r[0]=!0),null}else l.set(p,2147483647);f.L(M),p=R,g=1}if(1&g){if(o)return r!=null&&(r[0]=!0),null}else l.set(p,2147483647);if(!o)for(l.Vd(0,l.size,(function(P,j){return P-j})),R=0,$=l.size;R<$&&l.get(R)!=2147483647;R++)u.ve(l.get(R),_),s.add(_)}}return o?null:s},w})()})(Q||(Q={})),(function(c){var I=(function(){function w(){this.yf=new c.ia(0),this.ys=new c.ia(0),this.EH=1,this.Es=NaN}return w.prototype.sort=function(u,o,r,s){if(32>r-o)s.nr(o,r,u);else{var l=!0;try{for(var h=1/0,f=-1/0,p=o;p<r;p++){var g=s.$p(u.get(p));g<h&&(h=g),g>f&&(f=g)}if(this.reset(r-o,h,f,r-o)){for(p=o;p<r;p++){var _=u.get(p);g=s.$p(_);var M=this.zF(g);this.yf.set(M,this.yf.get(M)+1),this.ys.write(p-o,_)}var R=this.yf.get(0);this.yf.set(0,0),p=1;for(var $=this.yf.size;p<$;p++){var P=this.yf.get(p);this.yf.set(p,R),R+=P}for(p=o;p<r;p++){_=this.ys.read(p-o),g=s.$p(_),M=this.zF(g);var j=this.yf.get(M);u.set(j+o,_),this.yf.set(M,j+1)}l=!1}}catch{this.yf.resize(0),this.ys.resize(0)}if(l)s.nr(o,r,u);else{for(p=r=0,$=this.yf.size;p<$;p++)l=r,(r=this.yf.get(p))>l&&s.nr(o+l,o+r,u);100<this.yf.size&&(this.yf.resize(0),this.ys.resize(0))}}},w.prototype.reset=function(u,o,r,s){return!(2>u||r==o)&&(u=Math.min(w.hL,u),this.yf.Jb(u),this.yf.resize(u),this.yf.Wj(0,0,this.yf.size),this.EH=o,this.ys.resize(s),this.Es=(r-o)/(u-1),!0)},w.prototype.zF=function(u){return c.O.truncate((u-this.EH)/this.Es)},w.hL=65536,w})();c.Xt=I})(Q||(Q={})),(function(c){var I,w;(w=I||(I={}))[w.enum_line=1]="enum_line",w[w.enum_arc=2]="enum_arc",w[w.enum_dummy=4]="enum_dummy",w[w.enum_concave_dip=8]="enum_concave_dip",w[w.enum_connection=3]="enum_connection";var u=(function(){function h(){}return h.Qu=function(f,p,g,_,M,R){var $=new h;return $.Im=new c.h,$.Vm=new c.h,$.aw=new c.h,$.Im.L(f),$.Vm.L(p),$.aw.L(g),$.Co=_,$.qh=M,$.sh=R,$},h.construct=function(f,p,g,_){var M=new h;return M.Im=new c.h,M.Vm=new c.h,M.aw=new c.h,M.Im.L(f),M.Vm.L(p),M.aw.Rc(),M.Co=4,M.qh=g,M.sh=_,M},h})(),o=(function(){function h(f,p,g,_,M,R){this.Yv=null,this.ya=0,this.EA=f,this.bI=this.$H=0,this.Ka=p,this.Mj=g,this.vk=_,this.Dq=M,this.Ub=R}return h.prototype.next=function(){for(var f=new c.Sa;;){if(this.ya==this.EA.I())return null;if(this.EA.ve(this.ya,f),this.ya++,!f.B())break}var p=!1;if(this.Yv==null&&(this.$H=f.Lg(),this.bI=f.ih(),this.Yv=l.buffer(f,this.Ka,this.Mj,this.vk,this.Dq,this.Ub),p=!0),this.ya<this.EA.I()){var g=new c.Da;this.Yv.copyTo(g)}else g=this.Yv;if(!p){p=new c.Dd;var _=f.Lg()-this.$H;f=f.ih()-this.bI,p.gg(_,f),g.Oc(p)}return g},h.prototype.La=function(){return 0},h.prototype.qe=function(){},h})(),r=(function(){function h(f,p){this.Wa=f,this.ya=0,this.oq=p}return h.prototype.next=function(){var f=this.Wa.X;if(this.ya<f.da()){var p=this.ya;if(this.ya++,!f.Nn(p))for(var g=f.Na(f.Vc(p)-1);this.ya<f.da();){var _=f.Na(f.Ba(this.ya));if(f.Nn(this.ya)||_!=g)break;g=f.Na(f.Vc(this.ya)-1),this.ya++}if(this.ya-p==1)return this.Wa.kE(this.Wa.X,p,this.oq);for((g=new c.Ta(this.Wa.X.description)).addPath(this.Wa.X,p,!0),p+=1;p<this.ya;p++)g.Dr(this.Wa.X,p,0,f.rv(p),!1);return this.Wa.kE(g,0,this.oq)}return null},h.prototype.La=function(){return 0},h.prototype.qe=function(){},h})(),s=(function(){function h(f){this.Wa=f,this.ya=0}return h.prototype.next=function(){var f=this.Wa.X;if(this.ya<f.da()){var p=this.ya;for(f.Ir(this.ya),this.ya++;this.ya<f.da()&&!(0<f.Ir(this.ya));)this.ya++;return p==0&&this.ya==f.da()?this.Wa.py(f,0,f.da()):this.Wa.py(f,p,this.ya)}return null},h.prototype.La=function(){return 0},h.prototype.qe=function(){},h})(),l=(function(){function h(f){this.Ks=this.lw=this.Ls=this.Id=null,this.Zd=[],this.Ub=f,this.rb=this.Kv=this.JT=this.Ka=this.tA=this.ct=this.qa=0,this.oA=this.vk=-1,this.oq=!0}return h.buffer=function(f,p,g,_,M,R){if(f==null||0>_)throw c.i.N();if(f.B())return new c.Da(f.description);var $=new c.l;return f.xc($),0<p&&$.W(p,p),(R=new h(R)).Mj=g,R.X=f,R.qa=c.ta.Wd(g,$,!0),R.ct=c.ta.Wd(null,$,!0),R.Ka=p,R.JT=f.getType(),0>=M&&(M=96),R.rb=Math.abs(R.Ka),R.Kv=R.rb!=0?1/R.rb:0,isNaN(_)||_==0?_=1e-5*R.rb:_>.5*R.rb&&(_=.5*R.rb),12>M&&(M=12),(f=Math.abs(p)*(1-Math.cos(Math.PI/M)))>_?_=f:(f=Math.PI/Math.acos(1-_/Math.abs(p)))<M-1&&12>(M=c.O.truncate(f))&&(M=12,_=Math.abs(p)*(1-Math.cos(Math.PI/M))),R.vk=_,R.Dq=M,R.tA=Math.min(R.ct,.25*_),R.lE()},h.prototype.cv=function(){if(this.Id==null)this.Id=[];else if(this.Id.length!==0)return;var f=this.qE();f=c.O.truncate((f+3)/4);var p=.5*Math.PI/f;this.oA=p;for(var g=0;g<4*f;g++)this.Id.push(null);var _=Math.cos(p);p=Math.sin(p);var M=c.h.construct(0,1);for(g=0;g<f;g++)this.Id[g+0*f]=c.h.construct(M.y,-M.x),this.Id[g+1*f]=c.h.construct(-M.x,-M.y),this.Id[g+2*f]=c.h.construct(-M.y,M.x),this.Id[g+3*f]=M,(M=c.h.construct(M.x,M.y)).Bt(_,p)},h.prototype.lE=function(){var f=this.X.getType();if(c.aa.yd(f))return(f=new c.Ta(this.X.description)).oc(this.X,!0),this.X=f,this.lE();if(this.Ka<=this.qa){if(!c.aa.US(f))return new c.Da(this.X.description);if(0>=this.Ka&&(f=new c.l,this.X.A(f),f.R()<=2*-this.Ka||f.ca()<=2*this.Ka))return new c.Da(this.X.description)}switch(this.X.getType()){case 33:return this.PN();case 550:return this.ON();case 1607:return this.RN();case 1736:return this.QN();case 197:return this.LN();default:throw c.i.Qa()}},h.prototype.RN=function(){if(this.EG(this.X)){var f=new c.Sa;this.X.ve(0,f);var p=new c.l;return this.X.A(p),f.Cb(p.sf()),this.Gu(f)}return this.X=this.WV(this.X),f=new r(this,this.oq),c.Gh.local().V(f,this.Mj,this.Ub).next()},h.prototype.QN=function(){if(this.Ka==0)return this.X;var f=c.Yl.local();if(this.cv(),this.X=f.V(this.X,null,!1,this.Ub),0>this.Ka){var p=this.X;return p=this.py(p,0,p.da()),f.V(p,this.Mj,!1,this.Ub)}return this.EG(this.X)?(f=new c.Sa,this.X.ve(0,f),p=new c.l,this.X.A(p),f.Cb(p.sf()),this.Gu(f)):(f=new s(this),c.Gh.local().V(f,this.Mj,this.Ub).next())},h.prototype.py=function(f,p,g){for(var _=new c.Da(f.description);p<g;p++)if(!(1>f.Ja(p))){var M=f.Ir(p),R=new c.l;if(f.Rj(p,R),0<this.Ka){if(0<M)if(this.FG(f,p))M=new c.Sa,f.ve(f.Ba(p),M),M.Cb(R.sf()),this.yu(_,M);else{var $=M=new c.Ta(f.description);$=c.Zt.JG(this.X,p)||this.zn(this.X,p,$,!0,1)==2?this.jE(f,p):this.yn(M),_.add($,!1)}else if(!(R.R()+this.qa<=2*this.rb||R.ca()+this.qa<=2*this.rb||($=M=new c.Ta(f.description),this.zn(this.X,p,$,!0,1),M.B()))){var P=new c.l;for(P.K(R),P.W(this.rb,this.rb),$.tp(P),R=1,M=($=this.yn(M)).da();R<M;R++)_.addPath($,R,!0)}}else if(0<M){if(!(R.R()+this.qa<=2*this.rb||R.ca()+this.qa<=2*this.rb||($=M=new c.Ta(f.description),this.zn(this.X,p,$,!0,-1),M.B())))for(P=new c.l,$.xc(P),P.W(this.rb,this.rb),$.tp(P),R=1,M=($=this.yn(M)).da();R<M;R++)_.addPath($,R,!0)}else for($=M=new c.Ta(f.description),this.zn(this.X,p,$,!0,-1),R=0,M=($=this.yn(M)).da();R<M;R++)_.addPath($,R,!0)}if(0<this.Ka)return 1<_.da()?_=this.yn(_):h.kx(_);if(f=new c.l,_.xc(f),_.B())return h.kx(_);for(f.W(this.rb,this.rb),_.tp(f),_=this.yn(_),f=new c.Da(_.description),R=1,M=_.da();R<M;R++)f.addPath(_,R,!1);return h.kx(f)},h.prototype.PN=function(){return this.Gu(this.X)},h.prototype.Gu=function(f){var p=new c.Da(this.X.description);return this.yu(p,f),this.sX(p)},h.prototype.ON=function(){var f=new o(this.X,this.Ka,this.Mj,this.vk,this.Dq,this.Ub);return c.Gh.local().V(f,this.Mj,this.Ub).next()},h.prototype.LN=function(){var f=new c.Da(this.X.description);if(0>=this.Ka){if(this.Ka==0)f.ad(this.X,!1);else{var p=new c.Fh;this.X.bn(p),p.W(this.Ka,this.Ka),f.ad(p,!1)}return f}return f.ad(this.X,!1),this.X=f,this.jE(f,0)},h.prototype.jE=function(f,p){this.cv();var g=new c.Da(f.description),_=new c.h,M=new c.h,R=new c.h,$=new c.h,P=new c.h,j=new c.h,F=new c.h,V=new c.h,W=f.Ja(p),q=f.Ba(p),J=0;for(p=f.Ja(p);J<p;J++){if(f.D(q+J,M),f.D(q+(J+1)%W,$),f.D(q+(J+2)%W,j),F.uc($,M),F.length()==0||(F.Hv(),F.normalize(),F.scale(this.rb),_.add(F,M),R.add(F,$),J==0?g.Lt(_):g.Ci(_),g.Ci(R),V.uc(j,$),V.length()==0))throw c.i.Qa();V.Hv(),V.normalize(),V.scale(this.rb),P.add(V,$),this.GD(g,$,R,P,!1)}return h.kx(g)},h.prototype.kE=function(f,p,g){if(this.cv(),1>f.Ja(p))return null;if(this.FG(f,p)&&0<this.Ka){g=new c.Sa,f.ve(f.Ba(p),g);var _=new c.l;return f.Rj(p,_),g.Cb(_.sf()),this.Gu(g)}if(_=new c.Ta(f.description),f.Nn(p))this.zn(f,p,_,g,1),this.zn(f,p,_,g,-1);else{var M=new c.Ta(f.description);M.addPath(f,p,!1),M.Dr(f,p,0,f.rv(p),!1),this.zn(M,0,_,g,1)}return this.yn(_)},h.prototype.Xq=function(){if(this.Ys++,this.Ys%1024==0&&this.Ub!=null&&!this.Ub.progress(-1,-1))throw c.i.fu("user_canceled")},h.prototype.yn=function(f){return c.Fg.Mk(f,this.ct,!0,!0,this.Ub)},h.prototype.qE=function(){if(this.vk==0)return this.Dq;var f=1-this.vk*Math.abs(this.Kv);return 4>(f=-1>f?4:2*Math.PI/Math.acos(f)+.5)?f=4:f>this.Dq&&(f=this.Dq),c.O.truncate(f)},h.prototype.GD=function(f,p,g,_,M){this.cv();var R=new c.h;R.uc(g,p),R.scale(this.Kv);var $=new c.h;$.uc(_,p),$.scale(this.Kv),0>(R=Math.atan2(R.y,R.x)/this.oA)&&(R=this.Id.length+R),R=this.Id.length-R,0>($=Math.atan2($.y,$.x)/this.oA)&&($=this.Id.length+$),($=this.Id.length-$)<R&&($+=this.Id.length);var P=c.O.truncate($);$=c.O.truncate(Math.ceil(R)),(R=new c.h).L(this.Id[$%this.Id.length]),R.Ct(this.rb,p);var j=10*this.qa;for(R.sub(g),R.length()<j&&($+=1),R.L(this.Id[P%this.Id.length]),R.Ct(this.rb,p),R.sub(_),R.length()<j&&--P,g=P-$,g++,P=0,$%=this.Id.length;P<g;P++,$=($+1)%this.Id.length)R.L(this.Id[$]),R.Ct(this.rb,p),f.Ci(R),this.Xq();M&&f.Ci(_)},h.prototype.zn=function(f,p,g,_,M){var R=new c.gd,$=R.mN(f,p);if(R.Gp(this.tA,!1,!1),2>R.I($))return 0>M||(M=f,R=new c.Sa,M.ve(M.Ba(p),R),this.yu(g,R)),1;var P=R.Na(R.Xa(R.Ob($))),j=new c.Dd;if(j.gg(-P.x,-P.y),R.Oc(j),_&&(this.tQ(R,$,M),2>R.I($)))return 0>M||(M=f,R=new c.Sa,M.ve(M.Ba(p),R),this.yu(g,R)),1;this.Zd.length=0;var F=R.Ob($);p=R.Xa(F);var V=M==1?R.Ma(p):R.U(p);f=M==1?R.U(p):R.Ma(p);var W=!0;_=new c.h,$=new c.h;var q=new c.h,J=new c.h,nt=new c.h,st=new c.h,ct=new c.h,bt=new c.h,Tt=new c.h,Ut=new c.h,Pt=this.rb;F=R.Ja(F);for(var ee=0;ee<F;ee++)R.D(f,$),W&&(R.D(p,_),R.D(V,q),bt.uc(_,q),bt.normalize(),Ut.MG(bt),Ut.scale(Pt),J.add(Ut,_)),ct.uc($,_),ct.normalize(),Tt.MG(ct),Tt.scale(Pt),nt.add(_,Tt),V=bt.wi(ct),W=bt.Qh(ct),0>V||0>W&&V==0?this.Zd.push(u.Qu(J,nt,_,2,this.Zd.length+1,this.Zd.length-1)):J.qb(nt)||(this.Zd.push(u.construct(J,_,this.Zd.length+1,this.Zd.length-1,"dummy")),this.Zd.push(u.construct(_,nt,this.Zd.length+1,this.Zd.length-1,"dummy"))),st.add($,Tt),this.Zd.push(u.Qu(nt,st,_,1,this.Zd.length+1,this.Zd.length-1)),J.L(st),Ut.L(Tt),q.L(_),_.L($),bt.L(ct),V=p,p=f,W=!1,f=M==1?R.U(p):R.Ma(p);return this.Zd[this.Zd.length-1].qh=0,this.Zd[0].sh=this.Zd.length-1,this.YV(g),j.gg(P.x,P.y),g.YD(j,g.da()-1),1},h.prototype.YV=function(f){for(var p=this.zO(),g=!0,_=p+1,M=p;_!=p;M=_){var R=this.Zd[M];_=R.qh!=-1?R.qh:(M+1)%this.Zd.length,R.Co!=0&&(g&&f.Lt(R.Im),R.Co==2?this.GD(f,R.aw,R.Im,R.Vm,!0):f.Ci(R.Vm),g=!1)}},h.prototype.zO=function(){this.Ks==null&&(this.Ks=[null,null,null,null,null,null,null,null,null]);for(var f=0,p=0,g=this.Zd.length;p<g;){var _=this.Zd[p];if(3&_.Co){f=p;break}p=_.qh}for(g=f+1,p=f;g!=f;p=g){g=(_=this.Zd[p]).qh;for(var M=1,R=null;g!=p&&!(3&(R=this.Zd[g]).Co);)g=R.qh,M++;M!=1&&(_.Co&R.Co)==1&&(this.Ls==null&&(this.Ls=new c.yb,this.lw=new c.yb),this.Ls.Dc(_.Im),this.Ls.Qc(_.Vm),this.lw.Dc(R.Im),this.lw.Qc(R.Vm),this.Ls.Ea(this.lw,this.Ks,null,null,this.ct)==1&&(_.Vm.L(this.Ks[0]),R.Im.L(this.Ks[0]),_.qh=g,R.sh=p))}return f},h.prototype.Fv=function(f,p,g){var _=new c.h;if(_.uc(g,f),g=_.length(),0<(g=this.rb*this.rb-g*g*.25)){g=Math.sqrt(g),_.normalize(),_.ar();var M=new c.h;if(M.uc(p,f),M.Qh(_)+g>=this.rb)return!0}return!1},h.prototype.tQ=function(f,p,g){for(var _=0;1>_;_++){var M=!1,R=f.Ob(p),$=f.Ja(R);if($==0)break;var P=$;if(3>$)break;!f.dc(R)&&(P=$-1),R=f.Xa(R),$=0<g?f.Ma(R):f.U(R);for(var j=0<g?f.U(R):f.Ma(R),F=$,V=!0,W=new c.h,q=new c.h,J=new c.h,nt=new c.h,st=new c.h,ct=c.h.construct(0,0),bt=new c.h,Tt=new c.h,Ut=new c.h,Pt=new c.h,ee=this.rb,Nt=0,_e=0;_e<P&&(f.D(j,q),V&&(f.D(R,W),f.D($,J),F=$),Tt.uc(W,J),Tt.normalize(),bt.uc(q,W),bt.normalize(),F!=j);){var ne=Tt.wi(bt),Ye=Tt.Qh(bt),pi=!0;if(0>ne||0>Ye&&ne==0||!this.Fv(J,W,q)||(ct.L(q),pi=!1,++Nt,M=!0),pi){if(0<Nt)for(;(ne=0<g?f.Ma(F):f.U(F))!=R;){if(f.D(ne,nt),!this.Fv(nt,J,ct)){ne!=j&&this.Fv(nt,J,q)&&this.Fv(nt,W,q)&&(J.L(nt),F=ne,pi=!1,++Nt);break}J.L(nt),F=ne,pi=!1,++Nt}if(!pi)continue;if(0<Nt){for(F=0<g?f.Ma($):f.U($),V=1;V<Nt;V++)pi=0<g?f.Ma(F):f.U(F),f.pd(F,!0),F=pi;Ut.uc(W,J),Nt=ee*ee-(Nt=Ut.length())*Nt*.25,ee-(Nt=Math.sqrt(Nt))>.5*this.vk?(st.add(J,W),st.scale(.5),Ut.normalize(),Ut.ar(),Pt.L(Ut),Pt.scale(ee-Nt),st.add(Pt),f.mf($,st)):f.pd($,!0),Nt=0}J.L(W),F=R}W.L(q),$=R,R=j,j=0<g?f.U(R):f.Ma(R),_e++,V=!1}if(0<Nt){for(F=0<g?f.Ma($):f.U($),V=1;V<Nt;V++)pi=0<g?f.Ma(F):f.U(F),f.pd(F,!0),F=pi;st.add(J,W),st.scale(.5),Ut.uc(W,J),Nt=ee*ee-(Nt=Ut.length())*Nt*.25,Nt=Math.sqrt(Nt),Ut.normalize(),Ut.ar(),Pt.L(Ut),Pt.scale(ee-Nt),st.add(Pt),f.mf($,st)}if(f.Gp(this.tA,!1,!1),!M)break}},h.prototype.FG=function(f,p){if(f.Ja(p)==1)return!0;var g=new c.l;return f.Rj(p,g),Math.max(g.R(),g.ca())<.5*this.vk},h.prototype.EG=function(f){var p=new c.l;return f.A(p),Math.max(p.R(),p.ca())<.5*this.vk},h.prototype.WV=function(f){for(var p=0,g=0,_=(f=c.EC.local().V(f,.25*this.vk,!1,this.Ub)).da();g<_;g++)p=Math.max(f.Ja(g),p);return 32>p?(this.oq=!1,f):(this.oq=!0,c.Fg.Mk(f,this.ct,!1,!0,this.Ub))},h.prototype.yu=function(f,p){if(p=p.D(),this.Id!=null&&this.Id.length!==0){var g=new c.h;g.L(this.Id[0]),g.Ct(this.rb,p),f.Lt(g);for(var _=1,M=this.Id.length;_<M;_++)g.L(this.Id[_]),g.Ct(this.rb,p),f.Ci(g)}else{_=this.qE(),g=c.O.truncate((_+3)/4),_=.5*Math.PI/g,M=Math.cos(_);for(var R=Math.sin(_),$=new c.h,P=3;0<=P;P--){switch($.ma(0,this.rb),P){case 0:for(_=0;_<g;_++)f.yj($.x+p.x,$.y+p.y),$.Bt(M,R);break;case 1:for(_=0;_<g;_++)f.yj(-$.y+p.x,$.x+p.y),$.Bt(M,R);break;case 2:for(_=0;_<g;_++)f.yj(-$.x+p.x,-$.y+p.y),$.Bt(M,R);break;default:for(f.sx($.y+p.x,-$.x+p.y),_=1;_<g;_++)$.Bt(M,R),f.yj($.y+p.x,-$.x+p.y)}this.Xq()}}},h.kx=function(f){return f.Ch(1,0),f},h.prototype.sX=function(f){return f.Ch(2,this.qa),f.fm(),f},h})();c.HK=l})(Q||(Q={})),(function(c){var I=(function(){function w(u){this.Ca=u,this.g=new c.gd,this.dd=new c.ia(0)}return w.prototype.Lh=function(u,o,r){switch(o){case 0:if(u.v<r&&u.C<=r)break;return u.v>=r?1:-1;case 1:if(u.G<r&&u.H<=r)break;return u.G>=r?1:-1;case 2:if(u.v>=r&&u.C>r)break;return u.C<=r?1:-1;case 3:if(!(u.G>=r&&u.H>r))return u.H<=r?1:-1}return 0},w.prototype.Ay=function(u,o){return u.getType()==1736?this.Cy(u,o):this.Dy(u)},w.prototype.Cy=function(u,o){if(this.Ca.R()==0||this.Ca.ca()==0)return u.Ia();var r=new c.l;u.xc(r),this.X=this.g.Ib(u);var s=new c.l,l=new c.l,h=new c.h,f=new c.h,p=[0,0,0,0,0,0,0,0,0],g=[0,0,0,0,0,0,0,0,0];new c.ig;var _=new c.yb,M=new c.ia(0);M.Jb(Math.min(100,u.I()));for(var R=!1,$=0;!R&&4>$;$++){var P=!1,j=!!(1&$),F=0;switch($){case 0:F=this.Ca.v,P=r.v<=F&&r.C>=F;break;case 1:F=this.Ca.G,P=r.G<=F&&r.H>=F;break;case 2:F=this.Ca.C,P=r.v<=F&&r.C>=F;break;case 3:F=this.Ca.H,P=r.G<=F&&r.H>=F}if(P)for(R=!0,P=this.g.Ob(this.X);P!=-1;){var V=-1,W=-1,q=this.g.Xa(P),J=q;do{var nt=this.g.bc(J);nt==null&&(nt=_,this.g.D(J,h),nt.Dc(h),this.g.D(this.g.U(J),f),nt.Qc(f)),nt.A(s);var st=this.Lh(s,$,F),ct=0,bt=-1;if(st==-1){ct=0<(nt=nt.cq(j,F,p,g))?this.g.Ul(J,g,nt):0,ct+=1;var Tt=J,Ut=this.g.U(Tt);for(nt=0;nt<ct;nt++){if(this.g.D(Tt,h),this.g.D(Ut,f),(bt=this.g.bc(Tt))==null&&((bt=_).Dc(h),bt.Qc(f)),bt.A(l),(bt=this.Lh(l,$,F))==-1){if(j)(bt=Math.abs(h.y-F))<(Pt=Math.abs(f.y-F))?(h.y=F,this.g.mf(Tt,h)):(f.y=F,this.g.mf(Ut,f));else{bt=Math.abs(h.x-F);var Pt=Math.abs(f.x-F);bt<Pt?(h.x=F,this.g.mf(Tt,h)):(f.x=F,this.g.mf(Ut,f))}(bt=this.g.bc(Tt))==null&&((bt=_).Dc(h),bt.Qc(f)),bt.A(l),bt=this.Lh(l,$,F)}Pt=V,V=bt,W==-1&&(W=V),Pt==0&&V==1||Pt==1&&V==0||Pt!=0||V!=0||M.add(Tt),V==1&&(R=!1),bt=Tt=Ut,Ut=this.g.U(Ut)}}ct==0&&(Pt=V,V=st,W==-1&&(W=V),Pt==0&&V==1||Pt==1&&V==0||Pt!=0||V!=0||M.add(J),V==1&&(R=!1),bt=this.g.U(J)),J=bt}while(J!=q);for(W==0&&V==0&&M.add(q),nt=0,V=M.size;nt<V;nt++)W=M.get(nt),this.g.pd(W,!1);M.clear(!1),P=3>this.g.Ja(P)?this.g.Zq(P):this.g.Rb(P)}}return R?u.Ia():(this.FB(),0<o&&this.My(o),this.g.Ne(this.X))},w.prototype.Dy=function(u){var o=new c.l,r=new c.l,s=[0,0,0,0,0,0,0,0,0],l=[0,0,0,0,0,0,0,0,0],h=new c.ig,f=u,p=new c.l;u.xc(p);for(var g=0;4>g;g++){var _=!1,M=!!(1&g),R=0;switch(g){case 0:R=this.Ca.v,_=p.v<=R&&p.C>=R;break;case 1:R=this.Ca.G,_=p.G<=R&&p.H>=R;break;case 2:R=this.Ca.C,_=p.v<=R&&p.C>=R;break;case 3:R=this.Ca.H,_=p.G<=R&&p.H>=R}if(_){_=f,f=u.Ia(),(_=_.Ga()).Zi();for(var $,P=new c.h;_.$a();)for(var j,F=!0;_.Ha();){var V=_.ha();V.A(o);var W=this.Lh(o,g,R);if(W==-1){if(0<(W=V.cq(M,R,s,l))){var q=0;$=V.ac();for(var J=0;J<=W;J++)if(q!=(j=J<W?l[J]:1)){V.ah(q,j,h);var nt=h.get();nt.Dc($),J<W&&(M?(P.x=s[J],P.y=R):(P.x=R,P.y=s[J]),nt.Qc(P)),nt.A(r);var st=this.Lh(r,g,R);if(st==-1){if($=nt.ac(),q=nt.wc(),M)(st=Math.abs($.y-R))<(ct=Math.abs(q.y-R))?($.y=R,nt.Dc($)):(q.y=R,nt.Qc(q));else{st=Math.abs($.x-R);var ct=Math.abs(q.x-R);st<ct?($.x=R,nt.Dc($)):(q.x=R,nt.Qc(q))}nt.A(r),st=this.Lh(r,g,R)}$=nt.wc(),q=j,(j=st)==1?(f.oc(nt,F),F=!1):F=!0}}}else(j=W)==1?(f.oc(V,F),F=!1):F=!0}}}return f},w.prototype.FB=function(){this.ji=-1,this.Vl(!1,this.Ca.v),this.Vl(!1,this.Ca.C),this.Vl(!0,this.Ca.G),this.Vl(!0,this.Ca.H),this.dd.resize(0),this.dd.Jb(100),this.ji=this.g.Gd();for(var u=new c.h,o=this.g.Ob(this.X);o!=-1;o=this.g.Rb(o))for(var r=this.g.Xa(o),s=0,l=this.g.Ja(o);s<l;s++,r=this.g.U(r))this.g.D(r,u),(this.Ca.v==u.x||this.Ca.C==u.x||this.Ca.G==u.y||this.Ca.H==u.y)&&(this.g.Ra(r,this.ji,this.dd.size),this.dd.add(r));this.Nl(!1,this.Ca.v),this.Nl(!1,this.Ca.C),this.Nl(!0,this.Ca.G),this.Nl(!0,this.Ca.H),this.Ty()},w.prototype.My=function(u){for(var o=new c.h,r=new c.h,s=c.O.lg(2048,0),l=this.g.Ob(this.X);l!=-1;l=this.g.Rb(l)){var h=this.g.Xa(l),f=h;do{var p=this.g.U(f);this.g.D(f,o);var g=-1;if(o.x==this.Ca.v?(this.g.D(p,r),r.x==this.Ca.v&&(g=1)):o.x==this.Ca.C&&(this.g.D(p,r),r.x==this.Ca.C&&(g=1)),o.y==this.Ca.G?(this.g.D(p,r),r.y==this.Ca.G&&(g=0)):o.y==this.Ca.H&&(this.g.D(p,r),r.y==this.Ca.H&&(g=0)),g!=-1&&(g=c.h.tb(o,r),!(1>=(g=c.O.truncate(Math.min(Math.ceil(g/u),2048)))))){for(var _=1;_<g;_++)s[_-1]=1*_/g;this.g.Ul(f,s,g-1)}f=p}while(f!=h)}},w.prototype.Vl=function(u,o){var r=this.g.Gd(),s=new c.h,l=new c.ia(0);l.Jb(100);for(var h=this.g.Ob(this.X);h!=-1;h=this.g.Rb(h))for(var f=this.g.Xa(h),p=0,g=this.g.Ja(h);p<g;p++){var _=this.g.U(f);this.g.D(f,s),(u?s.y==o:s.x==o)&&(this.g.D(_,s),(u?s.y==o:s.x==o)&&(this.g.Pa(f,r)!=1&&(l.add(f),this.g.Ra(f,r,1)),this.g.Pa(_,r)!=1&&(l.add(_),this.g.Ra(_,r,1)))),f=_}if(this.g.Td(r),!(3>l.size)){var M=this;l.Vd(0,l.size,(function(st,ct){return M.Mh(st,ct)})),r=new c.h,h=new c.h,f=new c.h,h.Rc();var R=-1;p=new c.ia(0),g=new c.ia(0),_=this.g.Gd();for(var $=this.g.Gd(),P=0,j=l.size;P<j;P++){var F=l.get(P);if(this.g.D(F,s),!s.qb(h)){if(R!=-1){for(var V=R;V<P;V++){R=l.get(V);var W=this.g.U(R);F=this.g.Ma(R);var q=!1;0>this.Mh(R,W)&&(this.g.D(W,r),u?r.y==o:r.x==o)&&(p.add(R),q=!0,this.g.Ra(R,$,1)),0>this.Mh(R,F)&&(this.g.D(F,r),u?r.y==o:r.x==o)&&(q||p.add(R),this.g.Ra(R,_,1))}for(V=0,q=p.size;V<q;V++){if(R=p.get(V),F=this.g.Pa(R,_),W=this.g.Pa(R,$),F==1){F=this.g.Ma(R),this.g.D(F,f);var J=[0];if(J[0]=0,!f.qb(s)){var nt=c.h.tb(h,f);J[0]=c.h.tb(f,s)/nt,J[0]==0?J[0]=2220446049250313e-31:J[0]==1&&(J[0]=.9999999999999998),this.g.Ul(F,J,1),F=this.g.Ma(R),this.g.mf(F,s),g.add(F),this.g.Ra(F,_,1),this.g.Ra(F,$,-1)}}W==1&&(W=this.g.U(R),this.g.D(W,f),(J=[0])[0]=0,f.qb(s)||(nt=c.h.tb(h,f),J[0]=c.h.tb(h,s)/nt,J[0]==0?J[0]=2220446049250313e-31:J[0]==1&&(J[0]=.9999999999999998),this.g.Ul(R,J,1),F=this.g.U(R),this.g.mf(F,s),g.add(F),this.g.Ra(F,_,-1),this.g.Ra(F,$,1)))}R=p,p=g,(g=R).clear(!1)}R=P,h.L(s)}}this.g.Td(_),this.g.Td($)}},w.prototype.Nl=function(u,o){var r=new c.h,s=new c.ia(0);s.Jb(100);for(var l=this.g.Gd(),h=0,f=this.dd.size;h<f;h++){var p=this.dd.get(h);if(p!=-1){var g=this.g.U(p);this.g.D(p,r),(u?r.y==o:r.x==o)&&(this.g.D(g,r),(u?r.y==o:r.x==o)&&(this.g.Pa(p,l)!=-2&&(s.add(p),this.g.Ra(p,l,-2)),this.g.Pa(g,l)!=-2&&(s.add(g),this.g.Ra(g,l,-2))))}}if(s.size!=0){var _=this;for(s.Vd(0,s.size,(function(ct,bt){return _.Mh(ct,bt)})),h=0,f=s.size;h<f;h++){var M=s.get(h);this.g.Ra(M,l,h)}p=new c.h,(g=new c.h).Rc();var R=-1;for(h=0,f=s.size;h<f;h++)if((M=s.get(h))!=-1&&(this.g.D(M,r),!r.qb(g))){if(R!=-1)for(;;){M=!1;for(var $=1<h-R?h-1:h,P=R;P<$;P++){var j=s.get(P);if(j!=-1){var F=-1,V=this.g.U(j);0>this.Mh(j,V)&&(this.g.D(V,p),u?p.y==o:p.x==o)&&(F=V),V=-1;var W=this.g.Ma(j);if(0>this.Mh(j,W)&&(this.g.D(W,p),u?p.y==o:p.x==o)&&(V=W),F!=-1&&V!=-1)this.Kh(j,s,l),this.g.pd(j,!1),this.Kh(F,s,l),this.g.pd(F,!1),M=!0;else if(F!=-1||V!=-1){for(W=P+1;W<h;W++){var q=s.get(W);if(q!=-1){var J=this.g.U(q),nt=-1;0>this.Mh(q,J)&&(this.g.D(J,p),u?p.y==o:p.x==o)&&(nt=J),J=this.g.Ma(q);var st=-1;if(0>this.Mh(q,J)&&(this.g.D(J,p),u?p.y==o:p.x==o)&&(st=J),nt!=-1&&st!=-1){this.Kh(q,s,l),this.g.pd(q,!1),this.Kh(nt,s,l),this.g.pd(nt,!1),M=!0;break}if(F!=-1&&st!=-1){this.zt(s,j,F,q,st,l),M=!0;break}if(V!=-1&&nt!=-1){this.zt(s,q,nt,j,V,l),M=!0;break}}}if(M)break}}}if(!M)break}R=h,g.L(r)}}this.g.Td(l)},w.prototype.Kh=function(u,o,r){r=this.g.Pa(u,r),o.set(r,-1),r=this.g.Pa(u,this.ji),this.dd.set(r,-1),(o=this.g.bd(u))!=-1&&this.g.Xa(o)==u&&(this.g.Jf(o,-1),this.g.Wg(o,-1))},w.prototype.zt=function(u,o,r,s,l,h){this.g.Bc(o,s),this.g.Cc(s,o),this.g.Cc(r,l),this.g.Bc(l,r),this.Kh(s,u,h),this.g.mi(s,!1),this.Kh(l,u,h),this.g.mi(l,!0)},w.prototype.Ty=function(){for(var u=0,o=this.dd.size;u<o;u++){var r=this.dd.get(u);r!=-1&&this.g.aj(r,-1)}for(var s=0,l=0,h=this.g.Ob(this.X);h!=-1;){var f=this.g.Xa(h);if(f==-1||h!=this.g.bd(f)){var p=h;h=this.g.Rb(h),this.g.Jf(p,-1),this.g.$q(p)}else{r=f,p=0;do this.g.aj(r,h),p++,r=this.g.U(r);while(r!=f);2>=p?(r=this.g.Pa(f,this.ji),this.dd.set(r,-1),f=this.g.pd(f,!1),p==2&&(r=this.g.Pa(f,this.ji),this.dd.set(r,-1),this.g.pd(f,!1)),p=h,h=this.g.Rb(h),this.g.Jf(p,-1),this.g.$q(p)):(this.g.cp(h,!1),this.g.Wg(h,this.g.Ma(f)),this.g.Vj(h,p),l+=p,s++,h=this.g.Rb(h))}}for(u=0,o=this.dd.size;u<o;u++)if((r=this.dd.get(u))!=-1&&(h=this.g.bd(r))==-1){h=this.g.vf(this.X,-1),p=0,f=r;do this.g.aj(r,h),p++,r=this.g.U(r);while(r!=f);2>=p?(r=this.g.Pa(f,this.ji),this.dd.set(r,-1),f=this.g.pd(f,!1),p==2&&(0<=(r=this.g.Pa(f,this.ji))&&this.dd.set(r,-1),this.g.pd(f,!1)),p=h,this.g.Jf(p,-1),this.g.$q(p)):(this.g.kn(h,!0),this.g.Vj(h,p),this.g.Jf(h,f),this.g.Wg(h,this.g.Ma(f)),this.g.cp(h,!1),l+=p,s++)}for(this.g.Rl(this.X,s),this.g.Tj(this.X,l),u=0,o=this.g.ld;o!=-1;o=this.g.ue(o))u+=this.g.I(o);this.g.bC(u)},w.By=function(u,o,r){return new w(o).Ay(u,r)},w.clip=function(u,o,r,s){if(u.B())return u;if(o.B())return u.Ia();if((r=u.getType())==33)return s=u.D(),o.contains(s)?u:u.Ia();if(r==197)return s=new c.l,u.A(s),s.Ea(o)?(o=new c.Fh,u.copyTo(o),o.Xo(s),o):u.Ia();var l=new c.l;if(u.xc(l),o.contains(l))return u;if(!o.isIntersecting(l))return u.Ia();if((l=u.Bb)!=null&&(l=l.Fk)!=null){if((l=l.Ro(o))==1){if(r!=1736)throw c.i.Qa();return(u=new c.Da(u.description)).tp(o),u}if(l==0)return u.Ia()}switch(r){case 550:r=null,l=u.I();for(var h=u.ub(0),f=0,p=0;p<l;p++)s=new c.h,h.tc(2*p,s),o.contains(s)||(f==0&&(r=u.Ia()),f<p&&r.Fd(u,f,p),f=p+1);return 0<f&&r.Fd(u,f,l),f==0?u:r;case 1736:case 1607:return w.By(u,o,s);default:throw c.i.Qa()}},w.prototype.Mh=function(u,o){var r=new c.h;return this.g.D(u,r),u=new c.h,this.g.D(o,u),r.compare(u)},w})();c.Ud=I})(Q||(Q={})),(function(c){var I=(function(){function w(u,o){this.Ca=u,this.g=new c.gd,this.dd=new c.ia(0),this.nd=o}return w.prototype.Lh=function(u,o,r){switch(o){case 0:if(u.v<r&&u.C<=r)break;return u.v>=r?1:-1;case 1:if(u.G<r&&u.H<=r)break;return u.G>=r?1:-1;case 2:if(u.v>=r&&u.C>r)break;return u.C<=r?1:-1;case 3:if(!(u.G>=r&&u.H>r))return u.H<=r?1:-1}return 0},w.prototype.Ay=function(u,o){return u.getType()==1736?this.Cy(u,o):this.Dy(u)},w.prototype.Cy=function(u,o){if(this.Ca.R()==0||this.Ca.ca()==0)return u.Ia();var r=new c.l;u.xc(r),this.X=this.g.Ib(u);var s=new c.l,l=new c.l,h=new c.h,f=new c.h,p=[0,0,0,0,0,0,0,0,0],g=[0,0,0,0,0,0,0,0,0],_=new c.yb,M=new c.ia(0);M.Jb(256);for(var R=!1,$=0;!R&&4>$;$++){var P=!1,j=!!(1&$),F=0;switch($){case 0:F=this.Ca.v,P=r.v<=F&&r.C>=F;break;case 1:F=this.Ca.G,P=r.G<=F&&r.H>=F;break;case 2:F=this.Ca.C,P=r.v<=F&&r.C>=F;break;case 3:F=this.Ca.H,P=r.G<=F&&r.H>=F}if(P)for(R=!0,P=this.g.Ob(this.X);P!=-1;){var V=!0,W=-1,q=-1,J=this.g.Xa(P),nt=J;do{var st=this.g.bc(nt);st==null&&(st=_,this.g.D(nt,h),st.Dc(h),this.g.D(this.g.U(nt),f),st.Qc(f)),st.A(s);var ct=this.Lh(s,$,F),bt=0,Tt=-1;if(ct==-1){bt=0<(st=st.cq(j,F,p,g))?this.g.LX(nt,g,st):0,bt+=1;var Ut=nt,Pt=this.g.U(Ut);for(st=0;st<bt;st++){if(this.g.D(Ut,h),this.g.D(Pt,f),(Tt=this.g.bc(Ut))==null&&((Tt=_).Dc(h),Tt.Qc(f)),Tt.A(l),(Tt=this.Lh(l,$,F))==-1){if(j)(Tt=Math.abs(h.y-F))<(ee=Math.abs(f.y-F))?(h.y=F,this.g.mf(Ut,h)):(f.y=F,this.g.mf(Pt,f));else{Tt=Math.abs(h.x-F);var ee=Math.abs(f.x-F);Tt<ee?(h.x=F,this.g.mf(Ut,h)):(f.x=F,this.g.mf(Pt,f))}(Tt=this.g.bc(Ut))==null&&((Tt=_).Dc(h),Tt.Qc(f)),Tt.A(l),Tt=this.Lh(l,$,F)}ee=W,W=Tt,q==-1&&(q=W),ee==0&&W==1||ee==1&&W==0||ee!=0||W!=0||M.add(Ut),W==1&&(V=R=!1),Tt=Ut=Pt,Pt=this.g.U(Pt)}}if(bt==0&&(ee=W,W=ct,q==-1&&(q=W),ee==0&&W==1||ee==1&&W==0||ee!=0||W!=0||M.add(nt),W==1&&(V=R=!1),Tt=this.g.U(nt)),nt=Tt,256<=M.size){for(st=1,ct=M.size-1;st<ct;st++)bt=M.get(st),this.g.pd(bt,!1);M.set(1,M.Fc()),M.Bh(2)}}while(nt!=J);if(!V)for(q==0&&W==0&&M.add(J),st=0,ct=M.size;st<ct;st++)bt=M.get(st),this.g.pd(bt,!1);M.clear(!1),P=V||this.g.Ja(P)==0?this.g.Zq(P):this.g.Rb(P)}}return R?u.Ia():(this.FB(),0<o&&this.My(o),this.g.Ne(this.X))},w.prototype.Dy=function(u){var o=new c.l,r=new c.l,s=[0,0,0,0,0,0,0,0,0],l=[0,0,0,0,0,0,0,0,0],h=new c.ig,f=u,p=new c.l;u.xc(p);for(var g=new c.h,_=new c.h,M=null,R=null,$=0;4>$;$++){var P=!1,j=!!(1&$),F=0;switch($){case 0:F=this.Ca.v,P=p.v<=F&&p.C>=F;break;case 1:F=this.Ca.G,P=p.G<=F&&p.H>=F;break;case 2:F=this.Ca.C,P=p.v<=F&&p.C>=F;break;case 3:F=this.Ca.H,P=p.G<=F&&p.H>=F}if(P)for(P=f,f=u.Ia(),(P=P.Ga()).Zi();P.$a();)for(var V,W=!0;P.Ha();){var q=P.ha();q.A(o);var J=this.Lh(o,$,F);if(J==-1){if(0<(J=q.cq(j,F,s,l))){var nt=0;q.Yp(g);for(var st=0;st<=J;st++)if(nt!=(V=st<J?l[st]:1)){q.ah(nt,V,h);var ct=h.get();ct.Dc(g),st<J&&(j?(_.x=s[st],_.y=F):(_.x=F,_.y=s[st]),ct.Qc(_)),ct.A(r);var bt=this.Lh(r,$,F);bt==-1&&(M==null&&(M=new c.h),R==null&&(R=new c.h),ct.Yp(M),ct.Tr(R),j?(nt=Math.abs(M.y-F))<(bt=Math.abs(R.y-F))?(M.y=F,ct.Dc(M)):(R.y=F,ct.Qc(R)):(nt=Math.abs(M.x-F))<(bt=Math.abs(R.x-F))?(M.x=F,ct.Dc(M)):(R.x=F,ct.Qc(R)),ct.A(r),bt=this.Lh(r,$,F)),ct.Tr(g),nt=V,(V=bt)==1?(f.oc(ct,W),W=!1):W=!0}}}else(V=J)==1?(f.oc(q,W),W=!1):W=!0}}return f},w.prototype.FB=function(){this.ji=-1,this.Vl(!1,this.Ca.v),this.Vl(!1,this.Ca.C),this.Vl(!0,this.Ca.G),this.Vl(!0,this.Ca.H),this.dd.resize(0),this.dd.Jb(100),this.ji=this.g.Gd();for(var u=new c.h,o=this.g.Ob(this.X);o!=-1;o=this.g.Rb(o))for(var r=this.g.Xa(o),s=0,l=this.g.Ja(o);s<l;s++,r=this.g.U(r))this.g.D(r,u),(this.Ca.v==u.x||this.Ca.C==u.x||this.Ca.G==u.y||this.Ca.H==u.y)&&(this.g.Ra(r,this.ji,this.dd.size),this.dd.add(r));this.Nl(!1,this.Ca.v),this.Nl(!1,this.Ca.C),this.Nl(!0,this.Ca.G),this.Nl(!0,this.Ca.H),this.Ty()},w.prototype.My=function(u){for(var o=new c.h,r=new c.h,s=null,l=null,h=c.O.lg(2048,0),f=this.g.Ob(this.X);f!=-1;f=this.g.Rb(f)){var p=this.g.Xa(f),g=p;do{var _=this.g.U(g);this.g.D(g,o);var M=-1;if(o.x==this.Ca.v?(this.g.D(_,r),r.x==this.Ca.v&&(M=1)):o.x==this.Ca.C&&(this.g.D(_,r),r.x==this.Ca.C&&(M=1)),o.y==this.Ca.G?(this.g.D(_,r),r.y==this.Ca.G&&(M=0)):o.y==this.Ca.H&&(this.g.D(_,r),r.y==this.Ca.H&&(M=0)),M!=-1){if(s==null&&(s=new c.h),l==null&&(l=new c.h),s.L(o),l.ma(0,0),M==0){var R=o.x-this.Ca.v;l.x=c.lc.sign(r.x-o.x),s.x=u*c.lc.Cn(Math.floor(Math.abs(R/u)),R)+this.Ca.v,0>s.x&&(s.x+=u)}else R=o.y-this.Ca.G,l.y=c.lc.sign(r.y-o.y),s.y=u*c.lc.Cn(Math.floor(Math.abs(R/u)),R)+this.Ca.G,0>s.y&&(s.y+=u);R=M!=0?r.y-o.y:r.x-o.x;var $=Math.abs(R);if(65536<$/u)throw c.i.fa("internal error");if(0<$){$=c.O.truncate($/u)+2,h.length<$&&(h=c.O.lg($));for(var P=$=0;;P++){var j=new c.h;if(j.x=s.x+l.x*P*u,j.y=s.y+l.y*P*u,1<=(j=(M!=0?j.y-o.y:j.x-o.x)/R))break;0>=j||(h[$]=j,$++)}$!=0&&this.g.Ul(g,h,$)}}g=_}while(g!=p)}},w.prototype.Vl=function(u,o){for(var r=-1,s=new c.h,l=null,h=this.g.Ob(this.X);h!=-1;h=this.g.Rb(h))for(var f=this.g.Xa(h),p=0,g=this.g.Ja(h);p<g;p++){var _=this.g.U(f);this.g.D(f,s),(u?s.y==o:s.x==o)&&(this.g.D(_,s),(u?s.y==o:s.x==o)&&(r==-1&&(r=this.g.Gd()),l==null&&(l=new c.ia(0)).Jb(100),this.g.Pa(f,r)!=1&&(l.add(f),this.g.Ra(f,r,1)),this.g.Pa(_,r)!=1&&(l.add(_),this.g.Ra(_,r,1)))),f=_}if(r!=-1&&this.g.Td(r),!(l==null||3>l.size)){var M=this;l.Vd(0,l.size,(function(st,ct){return M.Mh(st,ct)})),r=new c.h,h=new c.h,f=new c.h,h.Rc();var R=-1;p=new c.ia(0),g=new c.ia(0),_=null;for(var $=this.g.Gd(),P=this.g.Gd(),j=0,F=l.size;j<F;j++){var V=l.get(j);if(this.g.D(V,s),!s.qb(h)){if(R!=-1){for(var W=R;W<j;W++){R=l.get(W);var q=this.g.U(R);V=this.g.Ma(R);var J=!1;this.g.D(q,r),0>h.compare(r)&&(u?r.y==o:r.x==o)&&(p.add(R),J=!0,this.g.Ra(R,P,1)),this.g.D(V,r),0>h.compare(r)&&(u?r.y==o:r.x==o)&&(J||p.add(R),this.g.Ra(R,$,1))}for(W=0,J=p.size;W<J;W++){if(R=p.get(W),V=this.g.Pa(R,$),q=this.g.Pa(R,P),V==1&&(V=this.g.Ma(R),this.g.D(V,f),!f.qb(s))){_==null&&(_=[]);var nt=c.h.tb(h,f);_[0]=c.h.tb(f,s)/nt,_[0]==0?_[0]=2220446049250313e-31:_[0]==1&&(_[0]=.9999999999999998),this.g.Ul(V,_,1),V=this.g.Ma(R),this.g.mf(V,s),g.add(V),this.g.Ra(V,$,1),this.g.Ra(V,P,-1)}q==1&&(q=this.g.U(R),this.g.D(q,f),f.qb(s)||(_==null&&(_=[]),nt=c.h.tb(h,f),_[0]=c.h.tb(h,s)/nt,_[0]==0?_[0]=2220446049250313e-31:_[0]==1&&(_[0]=.9999999999999998),this.g.Ul(R,_,1),V=this.g.U(R),this.g.mf(V,s),g.add(V),this.g.Ra(V,$,-1),this.g.Ra(V,P,1)))}R=p,p=g,(g=R).clear(!1)}R=j,h.L(s)}}this.g.Td($),this.g.Td(P)}},w.prototype.Nl=function(u,o){for(var r=new c.h,s=null,l=-1,h=0,f=this.dd.size;h<f;h++){var p=this.dd.get(h);if(p!=-1){var g=this.g.U(p);this.g.D(p,r),(u?r.y==o:r.x==o)&&(this.g.D(g,r),(u?r.y==o:r.x==o)&&(l==-1&&(l=this.g.Gd()),s==null&&(s=new c.ia(0)).Jb(100),this.g.Pa(p,l)!=-2&&(s.add(p),this.g.Ra(p,l,-2)),this.g.Pa(g,l)!=-2&&(s.add(g),this.g.Ra(g,l,-2))))}}if(s==null)l!=-1&&this.g.Td(l);else{var _=this;for(s.Vd(0,s.size,(function(ct,bt){return _.Mh(ct,bt)})),h=0,f=s.size;h<f;h++){var M=s.get(h);this.g.Ra(M,l,h)}p=new c.h,(g=new c.h).Rc();var R=-1;for(h=0,f=s.size;h<f;h++)if((M=s.get(h))!=-1&&(this.g.D(M,r),!r.qb(g))){if(R!=-1)for(;;){M=!1;for(var $=1<h-R?h-1:h,P=R;P<$;P++){var j=s.get(P);if(j!=-1){var F=-1,V=this.g.U(j);this.g.D(V,p),0>g.compare(p)&&(u?p.y==o:p.x==o)&&(F=V),V=-1;var W=this.g.Ma(j);if(this.g.D(W,p),0>g.compare(p)&&(u?p.y==o:p.x==o)&&(V=W),F!=-1&&V!=-1)this.Kh(j,s,l),this.g.pd(j,!1),this.Kh(F,s,l),this.g.pd(F,!1),M=!0;else if(F!=-1||V!=-1){for(W=P+1;W<h;W++){var q=s.get(W);if(q!=-1){var J=this.g.U(q),nt=-1;this.g.D(J,p),0>g.compare(p)&&(u?p.y==o:p.x==o)&&(nt=J),J=this.g.Ma(q);var st=-1;if(this.g.D(J,p),0>g.compare(p)&&(u?p.y==o:p.x==o)&&(st=J),nt!=-1&&st!=-1){this.Kh(q,s,l),this.g.pd(q,!1),this.Kh(nt,s,l),this.g.pd(nt,!1),M=!0;break}if(F!=-1&&st!=-1){this.zt(s,j,F,q,st,l),M=!0;break}if(V!=-1&&nt!=-1){this.zt(s,q,nt,j,V,l),M=!0;break}}}if(M)break}}}if(!M)break}R=h,g.L(r)}this.g.Td(l)}},w.prototype.Kh=function(u,o,r){r=this.g.Pa(u,r),o.set(r,-1),r=this.g.Pa(u,this.ji),this.dd.set(r,-1),(o=this.g.bd(u))!=-1&&this.g.Xa(o)==u&&(this.g.Jf(o,-1),this.g.Wg(o,-1))},w.prototype.zt=function(u,o,r,s,l,h){this.g.Bc(o,s),this.g.Cc(s,o),this.g.Cc(r,l),this.g.Bc(l,r),this.Kh(s,u,h),this.g.mi(s,!1),this.Kh(l,u,h),this.g.mi(l,!0)},w.prototype.Ty=function(){for(var u=0,o=this.dd.size;u<o;u++){var r=this.dd.get(u);r!=-1&&this.g.aj(r,-1)}for(var s=0,l=0,h=this.g.Ob(this.X);h!=-1;){var f=this.g.Xa(h);if(f==-1||h!=this.g.bd(f)){var p=h;h=this.g.Rb(h),this.g.Jf(p,-1),this.g.$q(p)}else{r=f,p=0;do this.g.aj(r,h),p++,r=this.g.U(r);while(r!=f);this.g.cp(h,!1),this.g.Wg(h,this.g.Ma(f)),this.g.Vj(h,p),l+=p,s++,h=this.g.Rb(h)}}for(u=0,o=this.dd.size;u<o;u++)if((r=this.dd.get(u))!=-1&&(h=this.g.bd(r))==-1){h=this.g.vf(this.X,-1),p=0,f=r;do this.g.aj(r,h),p++,r=this.g.U(r);while(r!=f);2>=p?(r=this.g.Pa(f,this.ji),this.dd.set(r,-1),f=this.g.pd(f,!1),p==2&&(0<=(r=this.g.Pa(f,this.ji))&&this.dd.set(r,-1),this.g.pd(f,!1)),p=h,this.g.Jf(p,-1),this.g.$q(p)):(this.g.kn(h,!0),this.g.Vj(h,p),this.g.Jf(h,f),this.g.Wg(h,this.g.Ma(f)),this.g.cp(h,!1),l+=p,s++)}for(this.g.Rl(this.X,s),this.g.Tj(this.X,l),u=0,o=this.g.ld;o!=-1;o=this.g.ue(o))u+=this.g.I(o);this.g.bC(u)},w.By=function(u,o,r,s){return new w(o,s).Ay(u,r)},w.clip=function(u,o,r,s,l){return w.Nu(u,o,null,r,s,l)},w.Nu=function(u,o,r,s,l,h){var f=u.getType();if(f==33)return l=u.D(),o.contains(l)?u:u.Ia();if(f==197)return l=new c.l,u.A(l),l.Ea(o)?(o=new c.Fh,u.copyTo(o),o.Xo(l),o):u.Ia();if(u.B())return u;if(o.B())return u.Ia();var p=new c.l;if(u.xc(p),o.contains(p))return u;if(!o.isIntersecting(p))return u.Ia();if((r!=null||isNaN(s))&&c.ta.ty(r,o,!1),!c.aa.xj(f))throw c.i.N();if((r=u.Bb)!=null&&(r=r.Fk)!=null){if((r=r.Ro(o))==1){if(f!=1736)throw c.i.fa("internal error");return(u=new c.Da(u.description)).tp(o),u}if(r==0)return u.Ia()}switch(f){case 550:for(h=null,f=u.I(),r=u.ub(0),s=0,l=new c.h,p=0;p<f;p++)r.tc(2*p,l),o.contains(l)||(s==0&&(h=u.Ia()),s<p&&h.Fd(u,s,p),s=p+1);return 0<s&&h.Fd(u,s,f),s==0?u:h;case 1736:case 1607:return w.By(u,o,l,h);default:throw c.i.fa("internal error")}},w.prototype.Mh=function(u,o){var r=new c.h;return this.g.D(u,r),u=new c.h,this.g.D(o,u),r.compare(u)},w})();c.ri=I})(Q||(Q={})),(function(c){var I=new c.h,w=(function(){function o(r,s,l,h,f){this.Pm=new c.h,this.Dk=new c.h,this.Pi=new c.h,this.g=r,this.Aw=l,this.no=h,this.Pm=s,this.yl=f,this.Dk.Rc(),this.Pi.Rc()}return o.prototype.xE=function(r){this.g.D(r,this.Dk),r=c.O.truncate((this.Dk.x-this.Pm.x)*this.no+.5);var s=c.O.truncate((this.Dk.y-this.Pm.y)*this.no+.5);return u.jG(r,s)},o.prototype.jz=function(r){return this.g.Pa(r,this.yl)},o.prototype.Py=function(r,s){return this.g.D(r,this.Dk),this.g.D(s,this.Pi),u.Cv(this.Dk.x,this.Dk.y,this.Pi.x,this.Pi.y,this.Aw)},o})();c.sY=function(){};var u=(function(){function o(){this.Pm=new c.h,this.pq=[0,0,0,0],this.xs=[0,0,0,0],this.qo=this.yl=-1}return o.iQ=function(r,s){var l=new o;return l.g=r,l.qa=s,l.Aw=s*s,l.$v=2*s,l.no=1/l.$v,l.BO()},o.Cv=function(r,s,l,h,f){return(r-=l)*r+(s-=h)*s<=f},o.jG=function(r,s){return c.O.Th(s,c.O.Th(r))},o.prototype.DO=function(r,s){this.g.Gc(r,I);for(var l=(I.y-this.Pm.y)*this.no,h=c.O.truncate((I.x-this.Pm.x)*this.no),f=c.O.truncate(l),p=l=0;1>=p;p+=1)for(var g=0;1>=g;g+=1){var _=o.jG(h+p,f+g),M=this.xl.rR(_);M!=-1&&(this.pq[l]=M,this.xs[l]=_,l++)}for(h=l-1;1<=h;h--)for(M=this.pq[h],f=h-1;0<=f;f--)if(M==this.pq[f]){this.xs[f]=-1,h!=--l&&(this.xs[h]=this.xs[l],this.pq[h]=this.pq[l]);break}for(f=0;f<l;f++)this.EO(r,this.xs[f],I,this.pq[f],s)},o.prototype.EO=function(r,s,l,h,f){for(var p=new c.h;h!=-1;h=this.xl.ER(h)){var g=this.xl.ja(h);r==g||s!=-1&&this.g.Pa(g,this.yl)!=s||(this.g.Gc(g,p),o.Cv(l.x,l.y,p.x,p.y,this.Aw)&&f.add(h))}},o.prototype.Xm=function(r,s,l){var h=this.g.Pa(r,this.qo),f=this.g.Pa(s,this.qo);return h==-1&&(h=this.zd.Ph(),this.zd.addElement(h,r),this.g.Ra(r,this.qo,h)),f==-1?this.zd.addElement(h,s):this.zd.Hy(h,f),this.g.Ra(s,this.qo,-2),s=this.YT(r,s),l&&(l=this.kw.xE(r),this.g.Ra(r,this.yl,l)),s},o.WT=function(r,s,l){r.Nb(s),l=r;var h=new c.h;o.XT(r.D(),s.D(),h),l.Cb(h)},o.XT=function(r,s,l){var h=r.x;r.x!=s.x&&(h=(1*r.x+1*s.x)/2);var f=r.y;r.y!=s.y&&(f=(1*r.y+1*s.y)/2),l.ma(h,f)},o.prototype.YT=function(r,s){var l=new c.h;this.g.D(r,l);var h=new c.h;this.g.D(s,h);var f=this.g.cG(r),p=f+(s=this.g.cG(s)),g=0,_=l.x;l.x!=h.x&&(_=(l.x*f+h.x*s)/p,g++);var M=l.y;return l.y!=h.y&&(M=(l.y*f+h.y*s)/p,g++),0<g&&this.g.Cb(r,_,M),this.g.vX(r,p),g!=0},o.prototype.BO=function(){var r=this.g.fd,s=this.g.IF();for(this.Pm=s.mz(),s=Math.max(s.ca(),s.R())/2147483646,this.$v<s&&(this.$v=s,this.no=1/this.$v),this.zd=new c.au,this.zd.At(c.O.truncate(this.g.fd/3+1)),this.zd.fn(c.O.truncate(this.g.fd/3+1)),this.yl=this.g.Gd(),this.qo=this.g.Gd(),this.kw=new w(this.g,this.Pm,this.Aw,this.no,this.yl),this.xl=new c.dL(c.O.truncate(4*r/3),this.kw),this.xl.AW(this.g.fd),r=!1,s=this.g.ld;s!=-1;s=this.g.ue(s))for(var l=this.g.Ob(s);l!=-1;l=this.g.Rb(l))for(var h=this.g.Xa(l),f=0,p=this.g.Ja(l);f<p;f++){var g=this.kw.xE(h);this.g.Ra(h,this.yl,g),this.xl.addElement(h,g),h=this.g.U(h)}var _=new c.ia(0);for(_.Jb(10),s=this.g.ld;s!=-1;s=this.g.ue(s))for(l=this.g.Ob(s);l!=-1;l=this.g.Rb(l))for(h=this.g.Xa(l),f=0,p=this.g.Ja(l);f<p;f++){if(this.g.Pa(h,this.qo)!=-2)for(g=this.g.Pa(h,this.yl),this.xl.jd(h,g);this.DO(h,_),_.size!=0;){g=!1;for(var M=0,R=_.size;M<R;M++){var $=_.get(M),P=this.xl.ja($);this.xl.vd($),g=this.Xm(h,P,M+1==R)||g}if(r=r||g,_.clear(!1),!g)break}h=this.g.U(h)}return r&&this.vN(),this.kw=this.xl=null,this.g.Td(this.yl),this.g.Td(this.qo),r},o.prototype.vN=function(){for(var r=new c.h,s=this.zd.je;s!=-1;s=this.zd.qz(s)){var l=this.zd.rc(s);for(this.g.D(this.zd.ja(l),r),l=this.zd.lb(l);l!=-1;l=this.zd.lb(l))this.g.mf(this.zd.ja(l),r)}},o})();c.Yt=u})(Q||(Q={})),(function(c){var I=(function(){function w(u){u===void 0&&(u=null),this.yg=null,this.Pb=!1,this.yg=u===null?[]:u}return w.prototype.copyTo=function(u){if(u.Pb)throw c.i.fa("CompositeGeographicTransformation is read-only");for(var o=0;o<this.yg.length;o++)u.yg.push(this.yg[o].Of())},w.prototype.count=function(){return this.yg.length},w.prototype.add=function(u){if(this.Pb)throw c.i.fa("CompositeGeographicTransformation is read-only");this.yg.push(u.Of())},w.prototype.clear=function(){if(this.Pb)throw c.i.fa("CompositeGeographicTransformation is read-only");this.yg.length=0},w.prototype.remove=function(u){if(this.Pb)throw c.i.fa("CompositeGeographicTransformation is read-only");this.yg.splice(u,1)},w.prototype.jg=function(){var u=new w;return this.copyTo(u),u},w.prototype.Of=function(){return this.jg()},w.prototype.transform=function(u,o,r,s){if(u.length<o)throw c.i.fa("invalid Argument");var l=r;for(r=0;r<this.yg.length;r++){var h=this.yg[r];if(h.qm()!=null){var f=h.Un,p=f?1:0,g=f?h.qm().getGeogcs2():h.qm().getGeogcs1();if(g=l/(g=g.getUnit().getUnitFactor()),3552713678800501e-30<Math.abs(g-1))for(l=0;l<o;l++)u[l][0]*=g,u[l][1]*=g;c.MC.geogToGeog(h.qm(),o,u,null,p),l=(f?h.qm().getGeogcs1():h.qm().getGeogcs2()).getUnit().getUnitFactor()}}if(g=l/s,3552713678800501e-30<Math.abs(g-1))for(l=0;l<o;l++)u[l][0]*=g,u[l][1]*=g;return o},w.prototype.Nb=function(u){if(u==this)return!0;if(!(u instanceof w)||this.yg.length!=u.yg.length)return!1;for(var o=0;o<this.yg.length;o++)if(!this.yg[o].Nb(u.yg[o]))return!1;return!0},w.prototype.ix=function(){this.Pb=!0},w.prototype.toString=function(){for(var u="CGT ("+this.count()+") ",o=0,r=this.count();o<r;++o)u+=this.yg[o].toString()+", ";return 200<u.length?u.substring(0,197)+"... ("+u.length.toString()+" characters)":u},w.create=function(){return new w},w})();c.wC=I})(Q||(Q={})),(function(c){var I,w=Math.PI,u=2*Math.PI,o=Math.PI/2,r=(function(){function h(){}return h.TO=function(f,p){var g=new h;return g.x=f,g.y=p,g.type=0,g.Uh=0,g},h.al=function(f){var p=new h;return p.x=f.x,p.y=f.y,p.type=0,p.Uh=0,p},h.SO=function(f){var p=new h;return p.x=f.x,p.y=f.y,p.type=f.type,p.Uh=f.Uh,p},h.Pd=function(f,p,g){var _=new h;return _.x=f.x+p*Math.cos(g),_.y=f.y+p*Math.sin(g),_.type=f.type,_.Uh=f.Uh,_},h.Pu=function(f,p){var g=new h;return g.x=.5*(f.x+p.x),g.y=.5*(f.y+p.y),g.type=f.type,g.Uh=f.Uh,g},h.TE=function(f,p){var g=new h;return g.x=f.x+.001*(p.x-f.x),g.y=f.y+.001*(p.y-f.y),g.type=f.type,g.Uh=f.Uh,g},h})(),s=function(){};(I=c.fL||(c.fL={}))[I.Round=0]="Round",I[I.Bevel=1]="Bevel",I[I.Miter=2]="Miter",I[I.Square=3]="Square";var l=(function(){function h(f){this.NA=this.Yb=this.wg=null,this.nd=f}return h.V=function(f,p,g,_,M,R){if(f==null||1>f.Db())throw c.i.N();return p==0||f.B()?f:((R=new h(R)).ko=f,R.Ka=p,R.qa=M,R.Ki=g,R.CA=_,R.Rx())},h.prototype.eM=function(){var f=this.ko,p=f.ac(),g=f.wc(),_=new c.h;return _.uc(g,p),_.normalize(),_.Hv(),_.scale(this.Ka),p.add(_),g.add(_),_=f.Ia(),f.Dc(p),f.Qc(g),_},h.prototype.dM=function(){var f=this.ko;if(0<this.Ka&&this.Ki!=2){var p=new c.Da;return p.ad(f,!1),this.ko=p,this.Rx()}return(f=new c.Fh(f.$)).W(this.Ka,this.Ka),f},h.prototype.tJ=function(f,p,g,_){return(p.x-f.x)*(_.x-g.x)+(p.y-f.y)*(_.y-g.y)},h.prototype.fc=function(f,p){if(p===void 0)this.Yb.push(f),this.gf++;else if(this.gf==0)this.fc(f);else{var g=this.Bw,_=this.wg[p==0?g-1:p-1],M=this.wg[p],R=this.tJ(_,M,this.Yb[this.gf-1],f);0<R?this.fc(f):0>R&&(0<this.tJ(_,M,M,this.Yb[this.gf-1])?(M=this.wg[p==0?g-2:p==1?g-1:p-2],g=r.Pd(_,this.Ka,Math.atan2(_.y-M.y,_.x-M.x)-o),this.Yb[this.gf-1]=g,this.Ki==1||this.Ki==2?(g=r.Pu(g,_),this.fc(g),g=r.Pd(_,this.Ka,this.Jv+o),(_=r.Pu(g,_)).type|=256,this.fc(_)):(g=r.Pd(_,this.Ka,this.Jv+o)).type|=256,this.fc(g),this.fc(f,p)):(g=r.Pd(M,this.Ka,this.Jv+o),this.fc(g),this.Ki==1||this.Ki==2?(g=r.Pu(g,M),this.fc(g),g=r.Pd(M,this.Ka,this.aA-o),(_=r.Pu(g,M)).type|=256,this.fc(_)):(g=r.Pd(M,this.Ka,this.aA-o)).type|=256,this.fc(g)))}},h.prototype.mE=function(){var f,p=this.Bw;this.gf=0;var g=.5*this.qa,_=0,M=0;for(f=0;f<p;f++){var R=this.wg[f],$=f==0?this.wg[p-1]:this.wg[f-1],P=f==p-1?this.wg[0]:this.wg[f+1],j=$.x-R.x,F=$.y-R.y,V=P.x-R.x,W=P.y-R.y,q=Math.atan2(F,j),J=Math.atan2(W,V);if(this.Jv=q,this.aA=J,f==0&&(_=q,M=J),j=j*W-V*F,F=J,J<q&&(J+=u),0<j*this.Ka)this.Ki==1||this.Ki==2?(q=r.Pd(R,this.Ka,q+o),this.fc(q),q=r.TE(R,q),this.fc(q),q=r.Pd(R,this.Ka,J-o),(R=r.TE(R,q)).type|=256,this.fc(R),this.fc(q)):(j=.5*(J-q),j=this.Ka/Math.abs(Math.sin(j)),q=r.Pd(R,j,.5*(q+J)),this.fc(q,f));else if(512&R.type){for(j=1-g/Math.abs(this.Ka),$=1,P=0>this.Ka?-w:w,-1<j&&1>j&&(.017453292519943295>(F=2*Math.acos(j))&&(F=.017453292519943295),1<($=c.O.truncate(w/F+1.5))&&(P/=$)),F=q+o,q=r.Pd(R,this.Ka,F),f==0&&(q.type|=1024),this.fc(q,f),j=this.Ka/Math.cos(P/2),F+=P/2,(q=r.Pd(R,j,F)).type|=1024,this.fc(q);0<--$;)F+=P,(q=r.Pd(R,j,F)).type|=1024,this.fc(q);(q=r.Pd(R,this.Ka,J-o)).type|=1024,this.fc(q)}else if(this.Ki==1)q=r.Pd(R,this.Ka,q+o),this.fc(q,f),q=r.Pd(R,this.Ka,J-o),this.fc(q);else if(this.Ki==0)for(j=1-g/Math.abs(this.Ka),$=1,P=J-o-(q+o),-1<j&&1>j&&(.017453292519943295>(F=2*Math.acos(j))&&(F=.017453292519943295),1<($=c.O.truncate(Math.abs(P)/F+1.5))&&(P/=$)),j=this.Ka/Math.cos(.5*P),F=q+o+.5*P,q=r.Pd(R,j,F),this.fc(q,f);0<--$;)F+=P,q=r.Pd(R,j,F),this.fc(q);else this.Ki==2?(j=$.x-R.x,F=$.y-R.y,.99999999<($=(j*(V=P.x-R.x)+F*(W=P.y-R.y))/Math.sqrt(j*j+F*F)/Math.sqrt(V*V+W*W))?(q=r.Pd(R,1.4142135623730951*this.Ka,J-.25*w),this.fc(q,f),q=r.Pd(R,1.4142135623730951*this.Ka,J+.25*w),this.fc(q)):($=Math.abs(this.Ka/Math.sin(.5*Math.acos($))))>(P=Math.abs(this.CA*this.Ka))?(j=.5*(J-q),j=this.Ka/Math.abs(Math.sin(j)),q=r.Pd(R,j,.5*(q+J)),J=c.h.construct(q.x,q.y),q=c.h.construct(R.x,R.y),(R=new c.h).uc(J,q),(J=new c.h).HW(P/R.length(),R,q),q=($-P)*Math.abs(this.Ka)/Math.sqrt($*$-this.Ka*this.Ka),0<this.Ka?R.Hv():R.ar(),R.scale(q/R.length()),(q=new c.h).add(J,R),($=new c.h).uc(J,R),q=r.al(q),this.fc(q,f),q=r.al($),this.fc(q)):(j=.5*(J-q),j=this.Ka/Math.abs(Math.sin(j)),q=r.Pd(R,j,.5*(q+J)),this.fc(q,f))):(J=F,0<this.Ka?(J>q&&(J-=u),$=q-J<o):(J<q&&(J+=u),$=J-q<o),$?(F=0>(j=1.4142135623730951*this.Ka)?q+.25*w:q+.75*w,q=r.Pd(R,j,F),this.fc(q,f),F=0>j?J-.25*w:J-.75*w,q=r.Pd(R,j,F),this.fc(q)):(j=.5*(J-q),j=this.Ka/Math.abs(Math.sin(j)),J<q&&(J+=u),q=r.Pd(R,j,(q+J)/2),this.fc(q,f)))}return this.Jv=_,this.aA=M,this.fc(this.Yb[0],0),R=r.SO(this.Yb[this.gf-1]),this.Yb[0]=R,this.wW()},h.prototype.Au=function(f,p){if(!(2>p))for(var g=0;g<p;g++){var _=this.Yb[f+g];g!=0?this.NA.Ci(c.h.construct(_.x,_.y)):this.NA.Lt(c.h.construct(_.x,_.y))}},h.prototype.fM=function(f,p,g){var _=f.Ba(p),M=f.Vc(p);if(this.Yb=[],this.NA=g,f.dc(p)){for(p=f.Na(_);f.Na(M-1).qb(p);)M--;if(2<=M-_){for(this.Bw=M-_,this.wg=[],p=_;p<M;p++)this.wg.push(r.al(f.Na(p)));this.mE()&&this.Au(0,this.gf-1)}}else{for(p=f.Na(_);_<M&&f.Na(_+1).qb(p);)_++;for(p=f.Na(M-1);_<M&&f.Na(M-2).qb(p);)M--;if(2<=M-_){for(this.Bw=2*(M-_)-2,this.wg=[],(g=r.al(f.Na(_))).type|=1536,this.wg.push(g),p=_+1;p<M-1;p++)g=r.al(f.Na(p)),this.wg.push(g);for((g=r.al(f.Na(M-1))).type|=512,this.wg.push(g),p=M-2;p>=_+1;p--)(g=r.al(f.Na(p))).type|=1024,this.wg.push(g);if(this.mE())if(2<=this.Yb.length){for(f=-1,(M=!!(1024&this.Yb[this.gf-1].type))||(f=0),p=1;p<this.gf;p++)(_=!!(1024&this.Yb[p].type))?M||1<(M=p-1)-f+1&&this.Au(f,M-f+1):M&&(f=p-1),M=_;M||1<(M=this.gf-1)-f+1&&this.Au(f,M-f+1)}else f=0,M=this.gf-1,0<=f&&1<=M-f&&this.Au(f,M-f+1)}}this.wg=null,this.Bw=0,this.Yb=null,this.gf=0},h.prototype.wW=function(){for(var f=!1,p=0;p<this.gf;p++){var g=this.Yb[p];g.qh=p+1,g.sh=p-1,this.Yb[p]=g}for((g=this.Yb[0]).sh=this.gf-2,this.Yb[0]=g,(g=this.Yb[this.gf-2]).qh=0,this.Yb[this.gf-2]=g,p=g=0;p<this.gf;p++)if(256&this.Yb[g].type){var _=this.GP(g);if(_==-1){f=!0;break}g=_}else g=this.Yb[g].qh;return!f&&(this.QO(g),!0)},h.prototype.GP=function(f){for(var p,g,_=this.gf-1,M=f,R=1;R<=_-2;R++){p=M=this.Yb[M].qh,g=f;for(var $=1;$<=R;$++){if(g=this.Yb[g].sh,!(256&this.Yb[g].type||256&this.Yb[p].type)){var P=this.gS(g,p);if(P!=-1)return P}p=this.Yb[p].sh}}return-1},h.prototype.gS=function(f,p){var g=this.Yb[this.Yb[f].sh],_=this.Yb[f],M=this.Yb[this.Yb[p].sh],R=this.Yb[p];if(!this.JW(g,_,M,R))return-1;var $=new s;return this.xQ(g,_,M,R,$)&&!$.bE&&c.O.bK((_.x-g.x)*(R.y-M.y)-(_.y-g.y)*(R.x-M.x))!=c.O.bK(this.Ka)?(g=this.Yb[f].sh,$.an.type=_.type,$.an.qh=p,$.an.sh=g,this.Yb[f]=$.an,$.an=this.Yb[p],$.an.sh=f,this.Yb[p]=$.an,p):-1},h.prototype.JW=function(f,p,g,_){return Math.max(f.x,p.x)>=Math.min(g.x,_.x)&&Math.max(g.x,_.x)>=Math.min(f.x,p.x)&&Math.max(f.y,p.y)>=Math.min(g.y,_.y)&&Math.max(g.y,_.y)>=Math.min(f.y,p.y)},h.prototype.xQ=function(f,p,g,_,M){M.bE=!1;var R=(p.y-f.y)*(_.x-g.x)-(p.x-f.x)*(_.y-g.y),$=(g.y-f.y)*(p.x-f.x)-(g.x-f.x)*(p.y-f.y);if(0<=(R=R==0?2:$/R)&&1>=R){var P=R;if(R=(_.y-g.y)*(p.x-f.x)-(_.x-g.x)*(p.y-f.y),$=(f.y-g.y)*(_.x-g.x)-(f.x-g.x)*(_.y-g.y),0<=(R=R==0?2:$/R)&&1>=R)return M.an=r.TO(f.x+R*(p.x-f.x),f.y+R*(p.y-f.y)),M.an.Uh=g.Uh+P*(_.Uh-g.Uh),P!=0&&P!=1||R!=0&&R!=1||(M.bE=!0),M.VY=R,M.WY=P,!((P==0||P==1)&&0<R&&1>R||(R==0||R==1)&&0<P&&1>P)}return!1},h.prototype.QO=function(f){for(;this.Yb[f].sh<f;)f=this.Yb[f].sh;var p=0,g=f;do g=this.Yb[g],this.Yb[p]=g,g=g.qh,p++;while(g!=f);this.Yb[p]=this.Yb[0],this.gf=p+1},h.prototype.$C=function(f){var p=this.ko,g=p.Ga();if(g!=null){g.Zi();for(var _=-1;g.$a();)_++,this.fM(p,_,f)}},h.prototype.Rx=function(){var f=this.ko.getType();return f==322?this.eM():f==197?this.dM():c.aa.yd(f)?((f=new c.Ta).oc(this.ko,!0),this.ko=f,this.Rx()):f==1607?(f=new c.Ta,this.$C(f),f):f==1736?(f=new c.Da,this.$C(f),f):null},h})();c.IK=l})(Q||(Q={})),(function(c){var I=(function(){function r(s){this.qk=s}return r.prototype.D=function(s,l){this.qk.g.D(s,l)},r.prototype.vd=function(s){var l=this.qk.Fa.ja(s);this.qk.Fa.vd(s,-1),this.qk.g.pd(l,!1)},r})(),w=(function(){function r(s){this.qk=s}return r.prototype.D=function(s,l){this.qk.IT.D(s,l)},r.prototype.vd=function(s){this.qk.Fa.vd(s,-1)},r})(),u=(function(){function r(s){this.qk=s}return r.prototype.D=function(s,l){l.L(this.qk.LT[s])},r.prototype.vd=function(s){this.qk.Fa.vd(s,-1)},r})(),o=(function(){function r(s){s===void 0?(this.Fa=new c.Yj,this.Fa.De(20),this.g=new c.gd,this.xT=this.g.Ig(550),this.Ss=this.g.vf(this.xT,-1),this.Xh=new I(this)):s instanceof Array?(this.Fa=new c.Yj,this.Fa.De(20),this.LT=s,this.Xh=new u(this)):(this.Fa=new c.Yj,this.Fa.De(20),this.IT=s,this.Xh=new w(this))}return r.prototype.Ib=function(s){var l=s.getType();if(c.Gx.xj(l))this.jN(s);else if(c.Vk.yd(l))this.oN(s);else if(l==197)this.gN(s);else{if(l!=33)throw c.i.N("invalid shape type");this.nN(s)}},r.prototype.cR=function(){var s=new c.Sa,l=this.Fa.rc(-1),h=new c.Da(this.g.ht);for(this.g.Vi(this.Fa.ja(l),s),h.nf(s),l=this.Fa.lb(l);l!=-1;l=this.Fa.lb(l))this.g.Vi(this.Fa.ja(l),s),h.lineTo(s);return h},r.RO=function(s){var l=new r(s),h=s.I(),f=1,p=new c.h,g=new c.h,_=new c.h;for(s.D(0,p);s.D(f,g),g.Rz(p)&&f<h-1;)f++;for(l.Fa.addElement(0,-1),l.Fa.xn(f),h=f+1;h<s.I();h++)s.D(h,_),(f=l.pC(_))!=-1&&l.Fa.Sj(f,h);for(_=new c.Sa,f=l.Fa.rc(-1),h=new c.Da(s.description),s.ve(l.Fa.ja(f),_),h.nf(_),f=l.Fa.lb(f);f!=-1;f=l.Fa.lb(f))s.ve(l.Fa.ja(f),_),h.lineTo(_);return h},r.construct=function(s,l,h){for(var f=new r(s),p=1,g=s[0];s[p].Rz(g)&&p<l-1;)p++;for(f.Fa.addElement(0,-1),f.Fa.xn(p),p+=1;p<l;p++)(g=f.pC(s[p]))!=-1&&f.Fa.Sj(g,p);for(s=0,l=f.Fa.rc(-1);l!=-1;l=f.Fa.lb(l))h[s++]=f.Fa.ja(l);return s},r.JG=function(s,l){var h=s.Ba(l),f=s.Vc(l);if(l=!s.dc(l)&&s.Nn(l),s=s.ub(0),f*=2,l&&(f-=2),6>f-(h*=2))return!0;l=new c.h;var p=new c.h,g=new c.h;s.tc(h,l),s.tc(h+2,p),s.tc(h+4,g);var _=r.Wu(p,g,l);if(_.ps()||!r.um(_.value()))return!1;var M=c.h.construct(p.x,p.y),R=new c.h;for(h+=6;h<f;h+=2)if(R.L(p),p.L(g),s.tc(h,g),(_=r.Wu(p,g,l)).ps()||!r.um(_.value())||(_=r.Wu(M,g,l)).ps()||!r.um(_.value())||(_=r.Wu(p,g,R)).ps()||!r.um(_.value()))return!1;return!0},r.prototype.jN=function(s){for(var l=new c.Sa,h=new c.h,f=0;f<s.I();f++){s.D(f,h);var p=this.Cr(h);if(p!=-1){s.ve(f,l);var g=this.g.fc(this.Ss,l);this.Fa.Sj(p,g)}}},r.prototype.gN=function(s){for(var l=new c.Sa,h=new c.h,f=0;4>f;f++){s.mB(f,h);var p=this.Cr(h);if(p!=-1){s.Hf(f,l);var g=this.g.fc(this.Ss,l);this.Fa.Sj(p,g)}}},r.prototype.oN=function(s){var l=new c.Sa,h=s.ac();if((h=this.Cr(h))!=-1){s.To(l);var f=this.g.fc(this.Ss,l);this.Fa.Sj(h,f)}h=s.wc(),(h=this.Cr(h))!=-1&&(s.Po(l),s=this.g.fc(this.Ss,l),this.Fa.Sj(h,s))},r.prototype.nN=function(s){var l=s.D();(l=this.Cr(l))!=-1&&(s=this.g.fc(this.Ss,s),this.Fa.Sj(l,s))},r.prototype.Cr=function(s){var l=-1;if(this.Fa.size(-1)==0)return this.Fa.addElement(-4,-1);if(this.Fa.size(-1)==1){var h=this.g.Na(this.Fa.ja(this.Fa.rc(-1)));return s.Rz(h)||(l=this.Fa.xn(-5)),l}return this.pC(s)},r.prototype.pC=function(s){var l=-1;do{var h=this.Fa.rc(-1),f=this.Fa.Fc(-1),p=this.Fa.ja(h),g=this.Fa.ja(f),_=new c.h,M=new c.h;if(this.Xh.D(p,_),this.Xh.D(g,M),p=c.h.Uq(M,s,_),r.um(p))l=this.Fa.xn(-1),(_=this.nC(s,f,h))!=h&&this.oC(s,h,this.Fa.we(_));else if(r.CG(p)){M=this.Fa.sv(-1);var R=this.Fa.rc(-1),$=this.Fa.Fc(-1);for(p=new c.h,g=new c.h;R!=this.Fa.we($);){var P=this.Fa.ja(M);this.Xh.D(P,p),P=c.h.Uq(p,s,_),r.CG(P)?($=M,M=this.Fa.ll(M)):(R=M,M=this.Fa.Xp(M))}if(M=$,_=R,P=this.Fa.ja(M),R=this.Fa.ja(_),this.Xh.D(P,p),this.Xh.D(R,g),_!=h&&(p=c.h.Uq(g,s,p),!r.um(p)))continue;l=this.Fa.zu(_,M,-2,!1),this.oC(s,M,f),this.nC(s,_,h)}else this.sb==null&&(this.sb=new c.yb),this.sb.Dc(M),this.sb.Qc(_),0>(_=this.sb.fe(s,!0))?(_=this.Fa.we(f),this.Fa.vd(f,-1),l=this.Fa.xn(-3),this.nC(s,_,h)):1<_&&(_=this.Fa.lb(h),this.Fa.vd(h,-1),l=this.Fa.zu(-1,_,-3,!1),this.oC(s,_,f))}while(!1);return l},r.prototype.oC=function(s,l,h){if(l!=h){var f=this.Fa.ja(l),p=this.Fa.lb(l),g=new c.h,_=new c.h;for(this.Xh.D(f,g);l!=h&&2<this.Fa.size(-1)&&(this.Xh.D(this.Fa.ja(p),_),f=c.h.Uq(_,s,g),!r.um(f));)f=l,l=p,g.L(_),p=this.Fa.lb(l),this.Xh.vd(f)}},r.prototype.nC=function(s,l,h){if(l==h)return h;var f=this.Fa.ja(l),p=this.Fa.we(l),g=new c.h,_=new c.h;for(this.Xh.D(f,g);l!=h&&2<this.Fa.size(-1)&&(this.Xh.D(this.Fa.ja(p),_),f=c.h.Uq(g,s,_),!r.um(f));)f=l,l=p,g.L(_),p=this.Fa.we(l),this.Xh.vd(f);return l},r.Wu=function(s,l,h){var f=new c.Wb;f.set(l.x),f.sub(s.x);var p=new c.Wb;p.set(h.y),p.sub(s.y);var g=new c.Wb;return g.set(l.y),g.sub(s.y),(l=new c.Wb).set(h.x),l.sub(s.x),f.Ag(p),g.Ag(l),f.sub(g),f},r.um=function(s){return 0>s},r.CG=function(s){return 0<s},r})();c.Zt=o})(Q||(Q={})),(function(c){var I=(function(){function w(u){this.g=null,this.tH=!0,this.nd=u}return w.zU=function(u,o,r){return u=c.ta.Er(u),c.Yt.Cv(o.Lg(),o.ih(),r.Lg(),r.ih(),c.lc.ox(u))},w.CO=function(u,o){var r=new c.Sa;return c.Yt.WT(u,o,r),r},w.V=function(u,o,r,s){return(r=new w(r)).g=u,r.qa=o,r.tH=s,r.EM()},w.prototype.nM=function(u){return c.Yt.iQ(this.g,u)},w.prototype.sM=function(u){return c.$t.V(this.g,u,this.nd)},w.prototype.EM=function(){var u=this.qa,o=c.ta.Er(u),r=1.00001*(u=c.ta.rN(u));u*=1.000001;for(var s=!1,l=30<this.g.fd+10?1e3:(this.g.fd+10)*(this.g.fd+10),h=0,f=this.g.jS();;h++){if(h>l)throw c.i.fa("Internal Error: max number of iterations exceeded");var p=this.nM(o);if(s=s||p,this.tH&&(p=this.g.Gp(o,!0,!1)!=0,s=s||p),p=!1,(h==0||f||c.$t.kI(!0,this.g,u,null,this.nd))&&(p=this.sM(r),s=s||p),!p)break;c.mp.zp(this.nd)}return s},w})();c.Tk=I})(Q||(Q={})),(function(c){var I=(function(){function u(o){this.$d=this.Mc=null,this.Ys=0,this.Ub=o,this.cA=!0}return u.prototype.uv=function(o,r){var s=this.g.bc(o);if(s==null){if(!this.g.ed(o,r))return null;s=r}return s},u.prototype.Xq=function(){var o;o===void 0&&(o=!1),this.Ys++,!o&&4095&this.Ys||(this.Ys=0,c.mp.zp(this.Ub))},u.prototype.nP=function(){var o=this.g.Yq(!1),r=!1,s=new c.yb,l=new c.yb,h=new c.l;h.Oa();var f=new c.l;f.Oa();for(var p=new c.Sa,g=new c.TC,_=o.next();_!=-1;_=o.next()){c.mp.zp(this.Ub);var M=null,R=!1;if(!c.aa.Rn(this.g.ic(o.ck))){if((M=this.uv(_,s))==null)continue;if(M.A(h),h.W(this.qa,this.qa),M.Bi(this.qa)){if(!M.Bi(0))continue;R=!0,M=null}}var $=this.g.Yq(o),P=$.next();for(P!=-1&&(P=$.next());P!=-1;P=$.next()){var j=null,F=!1;if(!c.aa.Rn(this.g.ic($.ck))){if((j=this.uv(P,l))==null)continue;if(j.A(f),j.Bi(this.qa)){if(!j.Bi(0))continue;F=!0,j=null}}var V=0,W=0;if(M!=null&&j!=null)h.HG(f)&&(g.Oo(M),g.Oo(j),g.Ea(this.qa,!1),0<(V=g.ol(0))+(W=g.ol(1))&&(this.g.jr(_,g,0,!0),this.g.jr(P,g,1,!0)),g.clear());else if(M!=null){var q=new c.h;if(this.g.D(P,q),h.contains(q)){if(g.Oo(M),this.g.Vi(P,p),g.Kz(this.qa,p,!1),0<(V=g.ol(0)))if(this.g.jr(_,g,0,!0),F){for(F=-1,q=this.g.U(P);q!=-1&&q!=P&&(F=q,(j=this.uv(q,l))!=null&&j.Bi(0));q=this.g.U(q));for(q=P;q!=-1&&(this.g.Dh(q,g.Bf),q!=F);q=this.g.U(q));}else this.g.Dh(P,g.Bf);g.clear()}}else{if(j==null)continue;if(q=new c.h,this.g.D(_,q),f.W(this.qa,this.qa),f.contains(q)){if(g.Oo(j),this.g.Vi(_,p),g.Kz(this.qa,p,!1),0<(W=g.ol(0)))if(this.g.jr(P,g,0,!0),R){for(F=-1,q=this.g.U(_);q!=-1&&q!=_&&(F=q,(j=this.uv(q,l))!=null&&j.Bi(0));q=this.g.U(q));for(q=_;q!=-1&&(this.g.Dh(q,g.Bf),q!=F);q=this.g.U(q));}else this.g.Dh(_,g.Bf);g.clear()}}if(V+W!=0){if(V!=0){if((M=this.g.bc(_))==null){if(!this.g.ed(_,s))continue;M=s,s.A(h)}else M.A(h);if(M.Bi(this.qa))break}r=!0}}}return r},u.prototype.oP=function(){return this.QU()},u.prototype.QU=function(){return new c.RC().PX(this.g,this.qa)},u.prototype.lI=function(){var o=!1;this.Mc==null&&(this.Mc=new c.Yj);var r=new c.ia(0);r.Jb(this.g.fd+1);for(var s=this.g.Yq(),l=s.next();l!=-1;l=s.next())r.add(l);this.g.nx(r,r.size),r.add(-1),s=this.g.Gd(),l=this.g.Gd(),this.$d=new c.UC(this.g,this.qa,!this.cA),this.Mc.Vo(this.$d);var h=new c.ia(0),f=new c.ia(0),p=0;new c.h;var g=this.g.td;this.g.vb.mc();for(var _,M,R=this.g.vb.za[0].o,$=r.get(p++);$!=-1;){var P=_=R[2*(M=g.T($,0))],j=M=R[2*M+1];do{var F=g.T($,2),V=g.T($,1);if(F!=-1){var W=g.T(F,0),q=R[2*W];0>(j<(W=R[2*W+1])?-1:j>W?1:P<q?-1:P>q?1:0)&&(f.add($),f.add(F))}V!=-1&&(q=R[2*(W=g.T(V,0))],0>(j<(W=R[2*W+1])?-1:j>W?1:P<q?-1:P>q?1:0)&&(f.add(V),f.add(V))),(q=this.g.Pa($,s))!=-1&&(h.add(q),this.g.Ra($,s,-1)),(q=this.g.Pa($,l))!=-1&&(h.add(q),this.g.Ra($,l,-1)),($=r.get(p++))!==-1&&(P=R[2*(j=g.T($,0))],j=R[2*j+1])}while($!=-1&&P===_&&j===M);for(P=h.size==1&&f.size==2,q=j=-1,F=0,V=h.size;F<V;F++){W=h.get(F);var J=this.Mc.we(W);if(J==-1||h.hG(J)||(j=J),(W=this.Mc.lb(W))==-1||h.hG(W)||(q=W),j!=-1&&q!=-1)break}for(this.$d.$J(M,_),F=0,V=h.size;F<V;F++)W=h.get(F),this.Mc.vd(W,-1);if(h.clear(!1),!P&&j!=-1&&q!=-1&&this.qO(j,q)){o=!0,this.Ni=this.$d.rm();break}for(F=0,V=f.size;F<V;F+=2){if(M=f.get(F),_=f.get(F+1),P?(M=this.Mc.zu(j,q,M,!0),P=!1):M=this.Mc.addElement(M,-1),this.$d.rg){this.Ni=this.$d.rm(),o=!0;break}this.g.Pa(_,s)==-1?this.g.Ra(_,s,M):this.g.Ra(_,l,M)}if(o)break;f.Bh(0)}return this.g.Td(s),this.g.Td(l),o},u.prototype.qO=function(o,r){return this.$d.compare(this.Mc,this.Mc.ja(o),r),o=this.$d.rg,this.$d.Kr(),o},u.yE=function(o){for(var r=o.ld;r!=-1;r=o.ue(r))if(c.aa.Hc(o.ic(r)))return!0;return!1},u.fQ=function(o,r,s,l){return!!u.yE(o)&&((r=new u(l)).g=o,r.qa=s,15>o.fd?o=r.nP():r.oP())},u.V=function(o,r,s){return u.fQ(o,o.IF(),r,s)},u.kI=function(o,r,s,l,h){if(!u.yE(r))return!1;var f=new u(h);if(f.g=r,f.qa=s,f.cA=o,f.lI())return l?.Wt(f.Ni),!0;var p=new c.Dd;return p.$B(),r.Oc(p),(f=new u(h)).g=r,f.qa=s,f.cA=o,o=f.lI(),p.$B(),r.Oc(p),!!o&&(l?.Wt(f.Ni),!0)},u.Ml=function(o,r){return!(16>(o=o.I()))&&2*o+Math.log(o)*Math.LOG10E/Math.log(2)*r<1*o*r},u.lP=function(o,r,s,l){var h=r.getType();if(c.aa.Hc(h))return new u(l).mP(o,r,s);throw c.i.fa("crack_A_with_B")},u.prototype.mP=function(o,r,s){var l=new c.l;o.xc(l);var h=new c.l;if(r.xc(h),h.W(s,s),!h.isIntersecting(l))return o;var f=o.Bb,p=null;f!=null&&(p=f.Fb),u.Ml(o,o.I())&&(p=c.ta.jj(o,h));var g=p!=null?p.getIterator():null,_=r.Ga();r=o.Ga();var M=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(h=[];_.$a();)for(;_.Ha();){var R=_.ha();if(p!=null){for(g.Uo(R,s),f=g.next();f!=-1;f=g.next())if(this.Xq(),r.Vb(p.ja(f),-1),r.Ha()){var $=(f=r.ha()).Ea(R,null,M,null,s);for(f=0;f<$;++f){var P=M[f];if(P!=0&&P!=1){var j=r.wb(),F=new w;F.t=P,F.index=j,h.push(F)}}}}else{var V=new c.l;if(R.xc(V),V.W(s,s),l.isIntersecting(V)){for(r.Zi();r.$a();)for(;r.Ha();)if(this.Xq(),f=r.ha(),P=new c.l,f.xc(P),P.isIntersecting(V))for($=f.Ea(R,null,M,null,s),f=0;f<$;++f)(P=M[f])!=0&&P!=1&&(j=r.wb(),(F=new w).t=P,F.index=j,h.push(F))}}}if(h.length==0)return o;for(h=h.sort(w.Ey),o=o.Ia(),r.Zi();r.$a()&&!r.Ha(););for(s=r.ha(),l=new c.ig,p=-1,f=0,g=h.length;f<g;){for(M=h[f].index,_=f+1;_<g&&h[_].index==M;)++_;for(;r.wb()<M;){if(this.Xq(),R=r.Ha(),P=r.gb,(V=R||!r.On()||r.Pn())&&o.oc(s,p!=P),p=P,!R)for(;r.$a()&&!r.Ha(););s=r.ha()}for(M=0;f<_;f++)(P=h[f].t)!=M&&(s.ah(M,P,l),M=P,P=r.gb,o.oc(l.get(),p!=P),p=P);if((V=(R=r.Ha())||!r.On()||r.Pn())&&(s.ah(M,1,l),o.oc(l.get(),!1)),R)s=r.ha();else{for(;r.$a()&&!r.Ha(););s=r.Ha()?r.ha():null}f=_}for(s!=null&&(P=r.gb,(V=(R=r.Ha())||!r.On()||r.Pn())&&o.oc(s,p!=P),p=P),R=r.Ha();;){if(!R){for(;r.$a()&&!(R=r.Ha()););if(!R)break}s=r.ha(),P=r.gb,(V=(R=r.Ha())||!r.On()||r.Pn())&&o.oc(s,p!=P),p=P}return o},u})();c.$t=I;var w=(function(){function u(){}return u.Ey=function(o,r){return o.index==r.index?o.t>r.t?1:o.t<r.t?-1:0:o.index>r.index?1:-1},u})()})(Q||(Q={})),(function(c){var I;(I=c.KK||(c.KK={}))[I.Left=0]="Left",I[I.Right=1]="Right",I[I.Coincident=2]="Coincident",I[I.Undefined=3]="Undefined",I[I.Uncut=4]="Uncut";var w=function(r,s,l,h,f,p,g,_,M,R,$){this.X=r,this.bt=s,this.Ns=l,this.tg=h,this.Lm=R,this.Al=$};c.uY=w;var u=(function(){function r(s,l){this.JH=s,this.Hi=l}return r.prototype.qM=function(s,l){var h=new c.h;this.Hi.D(s,h);var f=new c.h;return this.Hi.D(l,f),(h=h.compare(f))!=0?h:(s=this.Hi.Pa(s,this.JH))<(l=this.Hi.Pa(l,this.JH))?-1:s==l?0:1},r})(),o=function(r,s,l,h,f,p,g,_,M){this.tg=r,this.Ns=s,this.OA=l,this.UH=h,this.Ei=f,this.Al=p,this.Lm=g,this.VH=_,this.OT=M};c.tY=o,c.LK=(function(){function r(){}return r.JK=function(s,l,h,f,p,g){if(l.B())s=new w(l,4,-1,-1,NaN,4,-1,-1,NaN,-1,-1),p.push(s);else if(h.B())s=new w(l,4,-1,-1,NaN,4,-1,-1,NaN,-1,-1),p.push(s);else{var _=new c.gd;if(_.Ib(l),_.Ib(h),c.Tk.V(_,f,g,!0),_.fd==0)s=new w(l.Ia(),4,-1,-1,NaN,4,-1,-1,NaN,-1,-1),p.push(s);else{for(l=0,h=_.Gd(),f=_.ld;f!=-1;f=_.ue(f))for(g=_.Ob(f);g!=-1;g=_.Rb(g))for(var M=_.Xa(g),R=0,$=_.Ja(g);R<$;M=_.U(M),R++)_.Ra(M,h,l++);l=r.HM(h,_),r.cM(s,l,_,p)}}},r.HM=function(s,l){for(var h=l.fd,f=new c.ia(0),p=l.ld;p!=-1;p=l.ue(p))for(var g=l.Ob(p);g!=-1;g=l.Rb(g))for(var _=l.Xa(g),M=0,R=l.Ja(g);M<R;_=l.U(_),M++)f.add(_);var $=new u(s,l);f.Vd(0,h,(function(Ut,Pt){return $.qM(Ut,Pt)})),s=[];var P=[],j=l.Gd(),F=l.Gd();p=l.ld,g=l.ue(p),R=new c.h;var V=new c.h,W=f.get(0),q=l.bd(W),J=l.Qf(q);l.D(W,R);var nt=1;for(_=0;nt<h-1;){var st=!1;for(M=nt;M<h;M++)if(M!=_){var ct=f.get(M),bt=l.bd(ct),Tt=l.Qf(bt);if(l.D(ct,V),!R.qb(V))break;J==p&&Tt==g&&(st=r.uM(j,F,l,s,P,q,W,bt,ct))}if(st||_==nt-1){if(st&&_==nt-1&&nt--,++_==h)break;W=f.get(_),q=l.bd(W),J=l.Qf(q),l.D(W,R)}st||(nt=_+1)}for(h=[],p=l.ld;p!=-1;p=l.ue(p))for(g=l.Ob(p);g!=-1;g=l.Rb(g))for(f=l.Xa(g),M=0,R=l.Ja(g);M<R;f=l.U(f),M++){if(0<=(_=l.Pa(f,F)))for(;_<P.length&&P[_].tg==f;)h.push(P[_++]);if(0<=(_=l.Pa(f,j)))for(;_<s.length&&s[_].tg==f;)h.push(s[_++])}return l.Td(j),l.Td(F),h},r.uM=function(s,l,h,f,p,g,_,M,R){var $=h.rj(g),P=h.rj(M),j=h.Xa(g),F=h.Xa(M),V=h.Ma(_),W=h.Ma(R),q=!1,J=!1,nt=!1,st=!1;return _!=j&&(R!=F&&(q=r.vM(s,h,f,g,V,M,W)),R!=P&&(J=r.wM(s,h,f,g,V,M,R))),_!=$&&(R!=F&&(nt=r.xM(l,h,p,g,_,M,W,j)),R!=P&&(st=r.yM(l,h,p,g,_,M,R,j))),q&&J&&nt?(s=f.length-1,p[st?p.length-2:p.length-1].Ei==2&&(f[s-1]=f[s],--f.length)):q&&J&&st&&p[p.length-1].Ei==2&&(p=f[f.length-1],--f.length,h.Pa(p.tg,s)==f.length&&h.Ra(p.tg,s,-1)),q||J||nt||st},r.vM=function(s,l,h,f,p,g,_){var M=new c.yb,R=new c.yb,$=[0,0],P=[0,0],j=l.bc(p);return j==null&&(l.ed(p,M),j=M),(M=l.bc(_))==null&&(l.ed(_,R),M=R),2>(j=j.Ea(M,null,$,P,0))&&(f=new o(p,f,$[0],NaN,j,_,g,P[0],NaN),h.push(f),0>(f=l.Pa(p,s))&&l.Ra(p,s,h.length-1)),!0},r.wM=function(s,l,h,f,p,g,_){var M=new c.yb,R=new c.yb,$=[0,0],P=[0,0],j=l.bc(p);return j==null&&(l.ed(p,M),j=M),(M=l.bc(_))==null&&(l.ed(_,R),M=R),2>(j=j.Ea(M,null,$,P,0))&&(f=new o(p,f,$[0],NaN,j,_,g,P[0],NaN),h.push(f),0>(f=l.Pa(p,s))&&l.Ra(p,s,h.length-1),!0)},r.xM=function(s,l,h,f,p,g,_,M){var R=new c.yb,$=new c.yb,P=[0,0],j=[0,0],F=l.bc(p);return F==null&&(l.ed(p,R),F=R),(R=l.bc(_))==null&&(l.ed(_,$),R=$),(F=F.Ea(R,null,P,j,0))==2?(f=new o(p,f,P[0],P[1],F,_,g,j[0],j[1]),h.push(f),0>(f=l.Pa(p,s))&&l.Ra(p,s,h.length-1),!0):($=!1,p==M&&(f=new o(p,f,P[0],NaN,F,_,g,j[0],NaN),h.push(f),0>(f=l.Pa(p,s))&&l.Ra(p,s,h.length-1),$=!0),$)},r.yM=function(s,l,h,f,p,g,_,M){var R=new c.yb,$=new c.yb,P=[0,0],j=[0,0],F=l.bc(p);return F==null&&(l.ed(p,R),F=R),(R=l.bc(_))==null&&(l.ed(_,$),R=$),(F=F.Ea(R,null,P,j,0))==2?(f=new o(p,f,P[0],P[1],F,_,g,j[0],j[1]),h.push(f),0>(f=l.Pa(p,s))&&l.Ra(p,s,h.length-1),!0):($=!1,p==M&&(f=new o(p,f,P[0],NaN,F,_,g,j[0],NaN),h.push(f),0>(f=l.Pa(p,s))&&l.Ra(p,s,h.length-1),$=!0),$)},r.cM=function(s,l,h,f){var p=[];p[0]=new c.h,p[1]=new c.h,p[2]=new c.h,p[3]=new c.h;var g=new c.h,_=new c.h,M=new c.h,R=new c.h,$=null;f!=null&&($=new c.ig).Or();var P=0,j=null,F=new c.yb;new c.yb;for(var V=h.Ob(h.ld);V!=-1;V=h.Rb(V)){for(var W=4,q=-1,J=-1,nt=-1,st=-1,ct=NaN,bt=!0,Tt=!1,Ut=!0,Pt=!0,ee=!0,Nt=0,_e=V,ne=0,Ye=h.Xa(V),pi=h.Ja(V),xi=0;xi<pi;Ye=h.U(Ye),xi++){var ai=h.bc(Ye);if(ai==null){if(!h.ed(Ye,F))continue;ai=F}J==-1&&(J=Ye);for(var Qe=0;P<l.length&&Ye==l[P].tg;){q=l[P].Ns;var Ae=l[P].tg,Ue=l[P].OA,Li=l[P].Lm,yi=l[P].Al,un=l[P].VH;if(l[P].Ei==2){if(Tt||(_e=q,J=Ae,ne=Ue,nt=Li,st=yi,ct=un,W=2,f!=null?j=new c.Ta:Nt=0,ee=!1,Pt=!0),Ue=l[P].UH,un=l[P].OT,f!=null?(ai.ah(Qe,l[P].UH,$),j.oc($.get(),Pt)):Nt++,Qe=Ue,Tt=!0,Pt=bt=!1,P+1==l.length||l[P+1].Ei!=2||l[P+1].tg==Ae&&l[P+1].OA!=Qe){if(f!=null){var Ie=new w(j,2,q,Ae,Ue,W,_e,J,ne,Li,yi);f.push(Ie)}else null.add(Nt);_e=q,J=Ae,ne=Ue,nt=Li,st=yi,ct=un,W=2,Tt=bt=!1,Pt=ee=!0}}else{var Ir=h.U(Ae);if(P<l.length-1&&l[P+1].tg==Ir&&l[P+1].Al==yi&&l[P+1].Ei==2)Ue!=Qe&&(ee&&(f!=null?j=new c.Ta:Nt=0),bt=0<P&&l[P-1].Ns==q?W==1?0:W==0?1:3:3,f!=null?(ai.ah(Qe,Ue,$),j.oc($.get(),Pt),Ie=new w(j,bt,q,Ae,Ue,W,_e,J,ne,Li,yi),f.push(Ie)):(Nt++,null.add(Nt)),Qe=Ue,_e=q,J=Ae,ne=Ue,nt=Li,st=yi,ct=un,W=bt,bt=Ut=!1,Pt=ee=!0);else if(!r.CM(s,h,l,P,g,_)){r.zM(h,l,P,V,Ye,M,R);var li=!1;if(Ir=!1,Ie=!0,!(g.qb(M)||_.qb(M)||g.qb(R)||_.qb(R))){p[0].L(g),p[1].L(_),p[2].L(M),p[3].L(R),p.sort(c.h.nu);var lr=p[0],Ca=p[1],Oa=p[2],yl=p[3];lr.qb(g)?Ca.qb(_)?s?(Ir=li=!0,Ie=!1):li=!1:yl.qb(_)?s?Ie=Ir=li=!0:li=!1:(li=!0,Ie=Ca.qb(M)):Ca.qb(g)?Oa.qb(_)?s?(Ir=li=!0,Ie=!1):li=!1:lr.qb(_)?s?Ie=Ir=li=!0:li=!1:(li=!0,Ie=Oa.qb(M)):Oa.qb(g)?yl.qb(_)?s?(Ir=li=!0,Ie=!1):li=!1:Ca.qb(_)?s?Ie=Ir=li=!0:li=!1:(li=!0,Ie=yl.qb(M)):lr.qb(_)?s?(Ir=li=!0,Ie=!1):li=!1:Oa.qb(_)?s?Ie=Ir=li=!0:li=!1:(li=!0,Ie=lr.qb(M))}li&&(li=Ye==Ae,(Ue!=Qe||li&&Qe==0)&&(ee&&(f!=null?j=new c.Ta:Nt=0),f!=null?(ai.ah(Qe,Ue,$),j.oc($.get(),Pt)):Nt++),Ie?W!=1?((Ue!=Qe||li&&Qe==0)&&(f!=null?(Ie=new w(j,1,q,Ae,Ue,W,_e,J,ne,Li,yi),f.push(Ie)):null.add(Nt)),Ir?(P>=l.length-2||l[P+2].Ns!=q)&&(W=0):W=1):((Ue!=Qe||li&&Qe==0)&&(f!=null?(Ie=new w(j,3,q,Ae,Ue,W,_e,J,ne,Li,yi),f.push(Ie)):null.add(Nt)),W=1):W!=0?((Ue!=Qe||li&&Qe==0)&&(f!=null?(Ie=new w(j,0,q,Ae,Ue,W,_e,J,ne,Li,yi),f.push(Ie)):null.add(Nt)),Ir?(P>=l.length-2||l[P+2].Ns!=q)&&(W=1):W=0):((Ue!=Qe||li&&Qe==0)&&(f!=null?(Ie=new w(j,3,q,Ae,Ue,W,_e,J,ne,Li,yi),f.push(Ie)):null.add(Nt)),W=0),(Ue!=Qe||li&&Qe==0)&&(Qe=Ue,_e=q,J=Ae,ne=Ue,nt=Li,st=yi,ct=un,bt=Ut=!1,Pt=ee=!0))}}P++}Qe!=1&&(ee&&(f!=null?j=new c.Ta:Nt=0),f!=null?(ai.ah(Qe,1,$),j.oc($.get(),Pt)):Nt++,Pt=ee=!1,Ut=!0)}Ut&&(Ue=1,Ae=h.rj(V),Ae=h.Ma(Ae),yi=Li=-1,un=NaN,bt?f!=null?(Ie=new w(j,4,q,Ae,Ue,W,_e,J,ne,Li,yi),f.push(Ie)):null.add(Nt):(bt=W==1?0:W==0?1:3,f!=null?(Ie=new w(j,bt,q,Ae,Ue,W,_e,J,ne,Li,yi),f.push(Ie)):null.add(Nt)))}},r.CM=function(s,l,h,f,p,g){var _=h[f].VH;if(_==1)return r.AM(s,l,h,f,p,g);if(_==0)return r.BM(s,l,h,f,p,g);throw c.i.Qa()},r.AM=function(s,l,h,f,p,g){var _=new c.yb,M=h[f].tg,R=h[f].Lm,$=h[f].Al,P=-1,j=-1,F=-1,V=-1;if(!s&&0<f){var W=h[f-1];P=W.tg,j=W.Lm,F=W.Al,V=W.Ei}var q=-1,J=-1,nt=-1,st=-1;f<h.length-1&&(q=(W=h[f+1]).tg,J=W.Lm,nt=W.Al,st=W.Ei);var ct=l.U(M);return W=l.U($),s?f==h.length-1||q!=M||J!=R||nt!=W||st==2?((s=l.bc($))==null&&(l.ed($,_),s=_),g.L(s.kg()),p.mt(g),g.normalize(),p.normalize(),!1):((s=l.bc($))==null&&(l.ed($,_),s=_),p.L(s.kg()),(s=l.bc(W))==null&&(l.ed(W,_),s=_),g.L(s.kg()),p.Sq(),g.normalize(),p.normalize(),!1):0<f&&P==M&&j==R&&F==W&&V==2||f<h.length-1&&q==ct&&J==R&&nt==W&&st==2?((s=l.bc($))==null&&(l.ed($,_),s=_),g.L(s.kg()),p.mt(g),g.normalize(),p.normalize(),!1):!(f<h.length-1&&q==M&&J==R&&nt==W)||((s=l.bc($))==null&&(l.ed($,_),s=_),p.L(s.kg()),(s=l.bc(W))==null&&(l.ed(W,_),s=_),g.L(s.kg()),p.Sq(),g.normalize(),p.normalize(),!1)},r.BM=function(s,l,h,f,p,g){var _=new c.yb,M=h[f].tg,R=h[f].Lm,$=h[f].Al,P=-1,j=-1,F=-1,V=-1;if(!s&&f<h.length-1){var W=h[f+1];P=W.tg,j=W.Lm,F=W.Al,V=W.Ei}var q=-1,J=-1,nt=-1;W=-1,0<f&&(q=(W=h[f-1]).tg,J=W.Lm,nt=W.Al,W=W.Ei);var st=l.U(M),ct=l.Ma($);return s?f!=0&&q==M&&J==R&&nt==ct&&W!=2||((s=l.bc($))==null&&(l.ed($,_),s=_),g.L(s.kg()),p.mt(g),g.normalize(),p.normalize(),!1):!(0<f&&q==M&&J==R&&nt==ct&&W==2||f<h.length-1&&P==st&&j==R&&F==ct&&V==2)||((s=l.bc($))==null&&(l.ed($,_),s=_),g.L(s.kg()),p.mt(g),g.normalize(),p.normalize(),!1)},r.zM=function(s,l,h,f,p,g,_){var M=new c.yb,R=s.bc(p);if(R==null&&(s.ed(p,M),R=M),l=(h=l[h]).tg,h=h.OA,p=s.U(l),h==1)g.L(R.kg()),p!=-1&&p!=s.rj(f)?((R=s.bc(p))==null&&(s.ed(p,M),R=M),_.L(R.kg()),(R=s.bc(l))==null&&s.ed(l,M)):_.L(g),g.Sq(),_.normalize(),g.normalize();else{if(h!=0)throw c.i.Qa();_.L(R.kg()),g.mt(_),_.normalize(),g.normalize()}},r})()})(Q||(Q={})),(function(c){var I;(I=c.bM||(c.bM={}))[I.Linear=0]="Linear",I[I.Angular=1]="Angular",I[I.Area=2]="Area";var w=(function(){function f(p,g,_){this.od=g,this.ai=_,this.vA=p}return f.prototype.Nb=function(p){return p instanceof f&&this.ai===p.ai},f.aG=function(p){return p.od!==0?null:p.vA===-1?new f(-1,2,p.ai*p.ai):f.Zg(l[p.vA])},f.Zg=function(p){return(p=s[p])===void 0?null:p},f.ZO=function(p,g,_){var M=null;if(_!=null)try{_.values[0]==="EPSG"&&(M=f.Zg(parseInt(_.values[1])))}catch{}return M===null&&(M=new f(-1,p,g)),M},f.prototype.Ec=function(){return this.vA},f.prototype.CF=function(p){if(p.od!=this.od)throw c.i.Hb();return this.ai/p.ai},f.Nh=function(p,g,_){return g.CF(_)*p},f.XE=function(p,g,_,M,R){for(_=_.CF(M),M=0;M<g;M++)R[M]=p[M]*_},f})();c.Tc=w;for(var u=[109401,1e4,109402,4046.8564224,109403,4046.87260987425,109404,1,109405,.09290304,109406,.09290341161327487,109407,.09290137299531805,109408,3.34450944,109409,3429904,109410,1.000027193184865,109411,404.6872609874253,109412,.04046872609874253,109413,2.5899984703195216e6,109414,1e6,109415,.8361123569578626,109416,404.67838076760535,109417,.04046783807676053,109418,.8361244606523066,109419,.09290271785025629,109420,404.68423895571647,109421,.04046842389557164,109422,.83612589696064,109423,.0929028774400711,109424,404.6849341289498,109425,.04046849341289498,109426,.836125904805842,109427,.09290287831176021,109428,404.68493792602754,109429,.04046849379260275,109430,.09290354800069446,109431,.09290274144751023,109432,.09290207073852812,109433,.09290279616016,109434,.09290273520025,109435,.836124673027592,109436,.836118636646753,109437,.8361251654414399,109438,.83612461680225,109439,2589988110336e-6,109440,.09290286332673177,109441,.09290349665192114,109442,.83612736,109443,.8361307045194736,109444,404.68564224000005,109445,.04046856422400001,109446,.8361237024040001,109447,.0929026336004445,109448,404.683871963536,109449,.0404683871963536,109450,.01,109451,1e-4,109452,1e-6,109453,64516e-8,109454,.0006451625806477421,109455,25.292852640000003,109456,25.29295381171408,109457,3.4345281495040003e6,109458,3434290937856e-6,109459,2.89612324,109460,25e8,109461,225e8,109462,.7168473118308245,109463,100,109464,1244521604938272e-22,109465,1e-12,109466,1e-18],o=[1031,484813681109536e-23,9101,1,9102,.0174532925199433,9103,.0002908882086657216,9104,484813681109536e-20,9105,.01570796326794897,9106,.01570796326794897,9109,1e-6,9112,.0001570796326794897,9113,1570796326794897e-21,9114,.0009817477042468104],r=[1025,.001,109452,1033,.01,109451,9001,1,109404,9002,.3048,109405,9003,.3048006096012192,109406,9005,.3047972654,109407,9014,1.8288,109408,9030,1852,109409,9031,1.0000135965,109410,9033,20.11684023368047,109411,9034,.2011684023368047,109412,9035,1609.3472186944375,109413,9036,1e3,109414,9037,.9143917962000001,109415,9038,20.1166195164,109416,9039,.201166195164,109417,9040,.9143984146160287,109418,9041,.304799471538676,109419,9042,20.116765121552632,109420,9043,.2011676512155263,109421,9050,.9143992,109422,9051,.3047997333333333,109423,9052,20.1167824,109424,9053,.201167824,109425,9060,.9143992042898124,109426,9061,.3047997347632708,109427,9062,20.116782494375872,109428,9063,.2011678249437587,109429,9070,.3048008333333334,109430,9080,.3047995102481469,109431,9081,.30479841,109432,9082,.3047996,109433,9083,.3047995,109434,9084,.9143985307444408,109435,9085,.91439523,109436,9086,.9143988,109437,9087,.9143985,109438,9093,1609.344,109439,9094,.3047997101815088,109440,9095,.3048007491,109441,9096,.9144,109442,9097,20.1168,109444,9098,.201168,109445,9099,.914398,109446,9300,.3047993333333334,109447,9301,20.116756,109448,9302,.20116756,109449,109001,.9144,109442,109002,.9144018288036576,109443,109003,20.1168,109444,109004,.201168,109445,109005,.1,109450,109006,.01,109451,109007,.001,109452,109008,.0254,109453,109009,.0254000508001016,109454,109010,5.0292,109455,109011,5.029210058420118,109456,109012,1853.248,109457,109013,1853.184,109458,109014,1.7018,109459,109015,.8466683600033867,109462,109016,.0003527777777777778,109464,109017,1e-6,109465,109018,1e-9,109466,109030,5e4,109460,109031,15e4,109461],s=[],l=[],h=0;h<u.length;h+=2)s[u[h]]=new w(u[h],2,u[h+1]);for(u=null,h=0;h<o.length;h+=2)s[o[h]]=new w(o[h],1,o[h+1]);for(o=null,h=0;h<r.length;h+=3)s[r[h]]=new w(r[h],0,r[h+1]),l[r[h]]=r[h+2];r=null})(Q||(Q={})),(function(c){var I=(function(){function w(){this.xb=this.pb=0}return w.prototype.set=function(u,o){o!==void 0?(this.pb=u,this.xb=o):typeof u=="number"?(this.pb=u,this.xb=0):(this.pb=u.pb,this.xb=u.xb)},w.prototype.value=function(){return this.pb},w.prototype.add=function(u){var o=this.pb+u.pb;u=this.xb+u.xb+2220446049250313e-31*Math.abs(o),this.pb=o,this.xb=u},w.prototype.kN=function(){var u=this.pb+1,o=this.xb+2220446049250313e-31*Math.abs(u);this.pb=u,this.xb=o},w.prototype.dN=function(u,o){this.pb=u.pb+o.pb,this.xb=u.xb+o.xb+2220446049250313e-31*Math.abs(this.pb)},w.prototype.sub=function(u){if(typeof u=="number"){var o=this.pb-u;u=this.xb+2220446049250313e-31*Math.abs(o)}else o=this.pb-u.pb,u=this.xb+u.xb+2220446049250313e-31*Math.abs(o);this.pb=o,this.xb=u},w.prototype.Ag=function(u){var o=this.pb*u.pb;this.xb=this.xb*Math.abs(u.pb)+u.xb*Math.abs(this.pb)+this.xb*u.xb+2220446049250313e-31*Math.abs(o),this.pb=o},w.prototype.No=function(u){var o=this.pb*u;this.xb=this.xb*Math.abs(u)+2220446049250313e-31*Math.abs(o),this.pb=o},w.prototype.Kl=function(u,o){var r=Math.abs(u.pb)*Math.abs(o.pb);this.xb=u.xb*Math.abs(o.pb)+o.xb*Math.abs(u.pb)+u.xb*o.xb+2220446049250313e-31*Math.abs(r),this.pb=r},w.prototype.jm=function(u){var o=Math.abs(u.pb),r=this.pb/u.pb,s=(this.xb+Math.abs(r)*u.xb)/o;u.xb>.01*o&&(s*=1+(1+(u=u.xb/o))*u),this.pb=r,this.xb=s+2220446049250313e-31*Math.abs(r)},w.prototype.sqrt=function(){if(0<=this.pb){var u=Math.sqrt(this.pb),o=this.pb>10*this.xb?.5*this.xb/u:this.pb>this.xb?u-Math.sqrt(this.pb-this.xb):Math.max(u,Math.sqrt(this.pb+this.xb)-u);o+=2220446049250313e-31*Math.abs(u)}else this.pb<-1*this.xb?o=u=NaN:(u=0,o=Math.sqrt(this.xb));this.pb=u,this.xb=o},w.prototype.sin=function(u){var o=Math.sin(u.pb),r=Math.cos(u.pb);this.pb=o,o=Math.abs(o),this.xb=(Math.abs(r)+.5*o*u.xb)*u.xb+2220446049250313e-31*o},w.prototype.cos=function(u){var o=Math.sin(u.pb),r=Math.cos(u.pb);this.pb=r,r=Math.abs(r),this.xb=(Math.abs(o)+.5*r*u.xb)*u.xb+2220446049250313e-31*r},w.prototype.qg=function(){return Math.abs(this.pb)<=this.xb},w.prototype.ps=function(){return this.qg()&&this.xb!=0},w})();c.Wb=I})(Q||(Q={}));var Ve=new Q.h,Hr=new Q.h,Tr=new Q.h,Tn=new Q.h,Pn=new Q.h;(function(c){var I,w;(w=I||(I={}))[w.closedPath=1]="closedPath",w[w.exteriorPath=2]="exteriorPath",w[w.ringAreaValid=4]="ringAreaValid";var u=(function(){function o(r,s,l,h,f,p,g){s!==void 0?(this.ib=r,this.ck=s,this.bl=l,this.ii=h,this.ya=p,this.hA=g,this.ew=f):(this.ib=r.ib,this.ck=r.ck,this.bl=r.bl,this.ii=r.ii,this.ya=r.ya,this.hA=r.hA,this.ew=r.ew),this.bH=!0}return o.prototype.next=function(){return this.bH?(this.bH=!1,this.ii):this.ii!=-1?(this.ii=this.ib.U(this.ii),this.ya++,this.ii!=-1&&this.ii!=this.ew?this.ii:this.$T()):-1},o.prototype.$T=function(){for(this.bl=this.ib.Rb(this.bl),this.ya=0;this.ck!=-1;){for(;this.bl!=-1;this.bl=this.ib.Rb(this.bl))if(this.ew=this.ii=this.ib.Xa(this.bl),this.ii!=-1)return this.ii;if(this.ck=this.ib.ue(this.ck),this.ck==-1)break;this.hA&&!c.aa.Hc(this.ib.ic(this.ck))||(this.bl=this.ib.Ob(this.ck))}return-1},o.AP=function(r,s,l,h,f,p,g){return new o(r,s,l,h,f,p,g)},o})();c.zY=u,I=(function(){function o(){this.jo=this.Am=this.wk=this.cd=this.Ck=this.vo=this.Oi=this.md=this.bi=this.Sg=this.We=this.Il=null,this.qw=this.ld=-1,this.fd=0,this.fA=!1,this.ht=this.it=this.vb=null}return o.prototype.Sh=function(r){return this.We!=null?this.We[r]:null},o.prototype.Xg=function(r,s){if(this.We==null){if(s==null)return;this.We=[];for(var l=0,h=this.vb.I();l<h;l++)this.We.push(null)}this.We[r]=s},o.prototype.bp=function(r,s){this.md.S(r,1,s)},o.prototype.ap=function(r,s){this.md.S(r,2,s)},o.prototype.VB=function(r,s){this.md.S(r,6,s)},o.prototype.Sp=function(r){return this.md.T(r,6)},o.prototype.gx=function(r,s){this.md.S(r,7,s)},o.prototype.qv=function(r){return this.md.T(r,0)},o.prototype.OJ=function(r,s){this.cd.S(r,1,s)},o.prototype.SJ=function(r,s){this.cd.S(r,0,s)},o.prototype.JF=function(r){return this.cd.T(r,7)},o.prototype.Zo=function(r,s){this.cd.S(r,3,s)},o.prototype.$o=function(r,s){this.cd.S(r,4,s)},o.prototype.uU=function(r){this.cd==null&&(this.cd=new c.$c(8));var s=this.cd.Ce();return this.cd.S(s,2,r),this.cd.S(s,5,0),this.cd.S(s,6,0),this.cd.S(s,7,s),s},o.prototype.OQ=function(r){this.cd.jd(r)},o.prototype.wU=function(r){this.md==null&&(this.md=new c.$c(8),this.td=new c.$c(5),this.Oi=new c.be(0),this.vo=new c.be(0));var s=this.md.Ce();return this.md.S(s,0,s),this.md.S(s,3,0),this.md.S(s,6,0),this.gx(s,r),s>=this.Oi.size&&(r=16>s?16:c.O.truncate(3*s/2),this.Oi.resize(r),this.vo.resize(r)),this.Oi.set(s,0),this.vo.set(s,0),s},o.prototype.sF=function(r){this.md.jd(r)},o.prototype.Vy=function(r){this.td.jd(r),this.fd--},o.prototype.oI=function(r){this.md==null&&(this.md=new c.$c(8),this.td=new c.$c(5),this.Oi=new c.be(0),this.vo=new c.be(0));var s=this.td.Ce(),l=0<=r?r:s;if(this.td.S(s,0,l),0>r){if(l>=this.vb.I()){if(r=16>l?16:c.O.truncate(3*l/2),this.vb.resize(r),this.We!=null)for(var h=0;h<r;h++)this.We.push(null);this.Sg!=null&&this.Sg.resize(r),this.it=this.vb.ub(0)}this.vb.Cb(l,-1e38,-1e38),this.We!=null&&(this.We[l]=null),this.Sg!=null&&this.Sg.write(l,1)}return this.td.S(s,4,2*l),this.fd++,s},o.prototype.wj=function(r,s,l){var h=s!=-1?this.Ma(s):this.rj(r),f=h!=-1?this.U(h):-1,p=this.oI(l==null?this.fd:-1),g=this.Ua(p);return l!=null&&this.vb.Ht(g,l),this.aj(p,r),this.Bc(p,f),this.Cc(p,h),f!=-1&&this.Cc(f,p),h!=-1&&this.Bc(h,p),l=this.dc(r),h=this.Xa(r),s==-1&&this.Wg(r,p),s==h&&this.Jf(r,p),l&&f==-1&&(this.Bc(p,p),this.Cc(p,p)),this.Vj(r,this.Ja(r)+1),r=this.Qf(r),this.Tj(r,this.I(r)+1),p},o.prototype.nm=function(){return this.jo==null&&(this.jo=new c.Sa(this.vb.description)),this.jo},o.prototype.Yo=function(r,s){this.cd.S(r,2,-134217729&this.cd.T(r,2)||(s==1?134217728:0))},o.prototype.In=function(r){return 134217728&this.cd.T(r,2)?1:0},o.prototype.hN=function(r){var s=this.Ig(r.getType(),r.description);return r.getType()==1736&&this.Yo(s,r.In()),this.UD(s,r),s},o.prototype.iN=function(r){var s=this.Ig(r.getType(),r.description);return this.VD(s,r),s},o.prototype.XV=function(r,s){this.md==null&&(this.md=new c.$c(8),this.td=new c.$c(5),this.Oi=new c.be(0),this.vo=new c.be(0)),this.md.De(this.md.Hg+r),this.td.De(this.td.Hg+s),this.Oi.Jb(this.Oi.size+r),this.vo.Jb(this.vo.size+r)},o.prototype.UD=function(r,s){this.XV(s.da(),s.I()),this.Il.Fd(s,0,s.I()),this.it=this.vb.ub(0);for(var l=this.We!=null&&s.Ve!=null,h=0,f=s.da();h<f;h++)if(!(2>s.Ja(h))){var p=this.vf(r,-1);this.kn(p,s.dc(h));for(var g=s.Ba(h),_=s.Vc(h);g<_;g++){var M=this.wj(p,-1,null);if(l)if(M=this.Ua(M),1&s.ZF(g))this.Xg(M,null);else{var R=new c.ig;s.bc(g,R,!0),this.Xg(M,R.get())}}}},o.prototype.VD=function(r,s){this.Il.Fd(s,0,s.I()),this.it=this.vb.ub(0),r=this.vf(r,-1);var l=0;for(s=s.I();l<s;l++)this.wj(r,-1,null)},o.prototype.NX=function(r,s,l){var h=this.U(r);if(h==-1)throw c.i.Qa();for(var f=this.nm(),p=this.bd(r),g=0,_=s.ol(l);g<_;g++){var M=this.Ua(r),R=this.U(r),$=s.Vp(l,g);g==0&&($.To(f),this.Dh(r,f)),$.getType()==322?this.Xg(M,null):this.Xg(M,c.aa.jg($)),$.Po(f),g<_-1?r=this.wj(p,R,f):this.Dh(h,f)}},o.prototype.MX=function(r,s,l){var h=this.U(r);if(h==-1)throw c.i.Qa();for(var f=this.nm(),p=this.bd(r),g=0,_=s.ol(l);g<_;g++){var M=this.Ua(r),R=this.U(r),$=s.Vp(l,_-g-1);g==0&&($.Po(f),this.Dh(r,f)),$.getType()==322?this.Xg(M,null):this.Xg(M,c.aa.jg($)),$.To(f),g<_-1?r=this.wj(p,R,f):this.Dh(h,f)}},o.prototype.IF=function(){var r=new c.l;r.Oa();for(var s=this.Yq(),l=new c.h,h=!0,f=s.next();f!=-1;f=s.next())this.D(f,l),h?r.Zb(l.x,l.y):r.Lk(l.x,l.y),h=!1;return r},o.prototype.Ib=function(r){var s=r.getType();if(c.aa.Hc(s))return this.hN(r);if(s==550)return this.iN(r);throw c.i.Qa()},o.prototype.uN=function(r,s){var l=s.getType();if(c.aa.Hc(l))this.UD(r,s);else{if(l!=550)throw c.i.Qa();this.VD(r,s)}},o.prototype.mN=function(r,s){var l=this.Ig(1736,r.description);if(2>r.Ja(s))return l;this.Il.Fd(r,r.Ba(s),r.Vc(s)),this.it=this.vb.ub(0);var h=this.vf(l,-1);this.kn(h,r.dc(s)||!0);var f=this.We!=null&&r.Ve!=null,p=r.Ba(s);for(s=r.Vc(s);p<s;p++){var g=this.wj(h,-1,null);if(f)if(g=this.Ua(g),1&r.ZF(p))this.Xg(g,null);else{var _=new c.ig;r.bc(p,_,!0),this.Xg(g,_.get())}}return l},o.prototype.Ne=function(r){var s=this.ic(r),l=c.ZK.Ig(s,this.Il.description),h=this.I(r);if(h==0)return l;if(c.aa.Hc(s)){s=this.da(r);for(var f=c.Yc.Oh(s+1),p=c.Yc.Mr(s+1,0),g=l.description,_=0,M=g.Aa;_<M;_++){for(var R=g.kd(_),$=c.ra.Va(R),P=c.Yc.YE(R,h),j=this.vb.ub(R),F=0,V=0,W=0,q=this.Ob(r);q!=-1;q=this.Rb(q)){var J=0;this.dc(q)&&(J|=1),this.YS(q)&&(J|=4),J!=0&&p.zJ(V,J);var nt=this.Ja(q);if(f.write(V++,W),W+=nt,R==0){nt=j;var st=P,ct=new c.h;for(J=this.Xa(q);F<W;J=this.U(J),F++){var bt=this.Ua(J);nt.tc(2*bt,ct),st.Tt(2*F,ct)}}else for(J=this.Xa(q);F<W;J=this.U(J),F++)for(bt=this.Ua(J),st=0;st<$;st++)ct=j.eg(bt*$+st),P.pr(F*$+st,ct)}l.hn(R,P),f.write(s,h)}l.PJ(p),l.QJ(f),l.Pc(16777215)}else if(s==550){for(g=l.description,l.resize(h),_=0,M=g.Aa;_<M;_++){for(R=g.kd(_),$=c.ra.Va(R),P=l.ub(R),j=this.vb.ub(R),F=0,q=this.Ob(r),nt=this.Ja(q),J=this.Xa(q);F<nt;J=this.U(J),F++)for(bt=this.Ua(J),st=0;st<$;st++)ct=j.eg(bt*$+st),P.pr(F*$+st,ct);l.hn(R,P)}l.Pc(16777215)}return l},o.prototype.BB=function(r){for(var s=this.Ob(r);s!=-1;s=this.Zq(s));s=this.PR(r);var l=this.ue(r);s!=-1?this.OJ(s,l):this.ld=l,l!=-1?this.SJ(l,s):this.qw=s,this.OQ(r)},o.prototype.Ig=function(r,s){return s===void 0?this.$E(r,c.ee.og()):this.$E(r,s)},o.prototype.$E=function(r,s){return r=this.uU(r),this.vb==null?this.vb=this.Il=new c.de(s):this.Il.Jl(s),this.ht=this.Il.description,this.fA=1<this.ht.Aa,this.ld==-1?this.ld=r:(this.SJ(r,this.qw),this.OJ(this.qw,r)),this.qw=r},o.prototype.ue=function(r){return this.cd.T(r,1)},o.prototype.PR=function(r){return this.cd.T(r,0)},o.prototype.ic=function(r){return 2147483647&this.cd.T(r,2)},o.prototype.HJ=function(r,s,l){s=this.wk[s],(r=this.JF(r))>=s.size&&s.resize(Math.max(c.O.truncate(1.25*r),16),-1),s.write(r,l)},o.prototype.KF=function(r,s){return(r=this.JF(r))<(s=this.wk[s]).size?s.read(r):-1},o.prototype.aF=function(){this.wk==null&&(this.wk=[]);for(var r=0;r<this.wk.length;r++)if(this.wk[r]==null)return this.wk[r]=c.Yc.Oh(0),r;return this.wk.push(c.Yc.Oh(0)),this.wk.length-1},o.prototype.xW=function(r){this.wk[r]=null},o.prototype.Ob=function(r){return this.cd.T(r,3)},o.prototype.kv=function(r){return this.cd.T(r,4)},o.prototype.I=function(r){return this.cd.T(r,5)},o.prototype.da=function(r){return this.cd.T(r,6)},o.prototype.Gp=function(r,s,l){for(var h=0,f=this.ld;f!=-1;f=this.ue(f)){var p=this.ic(f);if(c.aa.Hc(p)&&(!l||p==1736)){p=this.ic(f)==1736;for(var g=this.Ob(f);g!=-1;){for(var _=0,M=this.Xa(g);_<c.O.truncate(this.Ja(g)/2);){var R=this.U(M);if(R==-1)break;var $=this.Ua(M),P=this.Sh($);P!=null?$=P.Qb():(P=this.Ua(R),$=this.vb.yr($,P)),$<=r?($==0?h==0&&(h=-1):h=1,R!=this.rj(g)&&(this.lC(R,M),this.pd(R,!0))):M=this.U(M),_++}for(_=this.Xa(g),M=this.dc(g)?_:this.rj(g);0<this.Ja(g);){if((R=this.Ma(M))==-1){this.pd(M,!0),h==0&&(h=-1);break}var j=this.Ua(R);if((P=this.Sh(j))!=null?$=P.Qb():($=this.Ua(M),$=this.vb.yr($,j)),$<=r)$==0?h==0&&(h=-1):h=1,this.lC(R,M),this.pd(R,!1),_==R&&(_=this.Xa(g));else if((M=this.Ma(M))==_)break}M=this.Ja(g),s&&(p?3>M:2>M)?(g=this.Zq(g),h=0<M?1:h==0?-1:h):g=this.Rb(g)}}}return h},o.prototype.lC=function(r,s){var l=this.Ua(r),h=this.Ua(s);if(this.Sg!=null&&(l=this.Sg.read(l),this.Sg.write(h,l)),this.bi!=null){for(h=0,l=this.bi.length;h<l;h++)if(this.bi[h]!=null){var f=this.Pa(r,h);f!=-1&&this.Ra(s,h,f)}}},o.prototype.Ul=function(r,s,l){var h=0,f=this.U(r);if(f==-1)throw c.i.Qa();for(var p=this.Ua(r),g=this.Ua(f),_=this.Sh(p),M=_==null?this.vb.yr(p,g):_.Qb(),R=0;R<l;R++){var $=s[R];if(0<$&&1>$){var P=$;_!=null&&(P=0<M?_.Ux($)/M:0),this.vb.kD(p,g,P,this.nm());var j=this.wj(this.bd(r),f,this.nm());if(h++,_!=null){var F=_.dl(0,$);P=this.Ua(this.Ma(j)),this.Xg(P,F),this.mf(j,F.wc()),R!=l-1&&s[R+1]!=1||($=_.dl($,1),this.Xg(P,$))}}}return h},o.prototype.LX=function(r,s,l){var h=0,f=this.U(r);if(f==-1)throw c.i.fa("internal error");var p=this.Ua(r),g=this.Ua(f),_=this.Sh(p),M=_==null?this.vb.yr(p,g):_.Qb(),R=0;r=this.bd(r);for(var $=0;$<l;$++){var P=s[$];if(R<P&&1>P){var j=P;if(_!=null&&(j=0<M?_.Ux(P)/M:0),this.vb.kD(p,g,j,this.nm()),j=this.yS(r,f,this.nm()),h++,_!=null){R=_.dl(R,P);var F=this.Ua(this.Ma(j));this.Xg(F,R),this.Cb(j,R.pa,R.la),$!=l-1&&s[$+1]!=1||(R=_.dl(P,1),j=this.Ua(j),this.Xg(j,R))}}R=P}return h},o.prototype.yS=function(r,s,l){var h=s!=-1?this.Ma(s):this.rj(r),f=h!=-1?this.U(h):-1,p=this.oI(l==null?this.fd:-1),g=this.Ua(p);return l!=null&&this.vb.Ht(g,l),this.aj(p,r),this.Bc(p,f),this.Cc(p,h),f!=-1&&this.Cc(f,p),h!=-1&&this.Bc(h,p),l=this.dc(r),h=this.Xa(r),s==-1&&this.Wg(r,p),s==h&&(l&&h!=-1||this.Jf(r,p)),l&&f==-1&&(this.Bc(p,p),this.Cc(p,p)),this.Vj(r,this.Ja(r)+1),r=this.Qf(r),this.Tj(r,this.I(r)+1),p},o.prototype.uE=function(r,s,l){var h=this.Ua(s),f=this.Ua(l);if(0>h||f>this.fd-1)throw c.i.N("invalid call");if(h>f&&!this.dc(r))throw c.i.N("cannot iterate across an open path");for(r=0;s!=l;s=this.U(s))h=this.Ua(s),(f=this.Sh(h))!=null?r+=f.Qb():(f=this.Ua(this.U(s)),r+=this.vb.yr(h,f));return r},o.prototype.Dh=function(r,s){var l=this.Ua(r);this.vb.Ht(l,s),(l=this.Sh(l))!=null&&l.setStart(s),(r=this.Ma(r))!=-1&&(r=this.Ua(r),this.Sh(r)!=null&&l.setEnd(s))},o.prototype.Vi=function(r,s){r=this.Ua(r),this.vb.ve(r,s)},o.prototype.mf=function(r,s){this.Cb(r,s.x,s.y)},o.prototype.Cb=function(r,s,l){var h=this.Ua(r);this.vb.Cb(h,s,l),(h=this.Sh(h))!=null&&h.ZB(s,l),(r=this.Ma(r))!=-1&&(r=this.Ua(r),this.Sh(r)!=null&&h.Ql(s,l))},o.prototype.D=function(r,s){this.vb.D(this.td.T(r,0),s)},o.prototype.Gc=function(r,s){this.vb.za[0].tc(2*this.td.T(r,0),s)},o.prototype.Na=function(r){var s=new c.h;return this.vb.D(this.td.T(r,0),s),s},o.prototype.dG=function(r,s){this.it.tc(2*r,s)},o.prototype.Uc=function(r,s,l){return this.vb.Uc(r,this.Ua(s),l)},o.prototype.setAttribute=function(r,s,l,h){this.vb.setAttribute(r,this.Ua(s),l,h)},o.prototype.Ua=function(r){return this.td.T(r,0)},o.prototype.ih=function(){var r=new c.h;return this.D(void 0,r),r.y},o.prototype.fq=function(r,s){r=this.Ua(r),s=this.Ua(s);var l=this.vb.za[0].o;return l[2*r]===l[2*s]&&l[2*r+1]===l[2*s+1]},o.prototype.Dv=function(r,s){r=this.Ua(r);var l=this.vb.za[0].o;return l[2*r]===s.x&&l[2*r+1]===s.y},o.prototype.vX=function(r,s){if(1>s&&(s=1),this.Sg==null){if(s==1)return;this.Sg=c.Yc.Dn(this.vb.I(),1)}(r=this.Ua(r))>=this.Sg.size&&this.Sg.resize(r+1,1),this.Sg.write(r,s)},o.prototype.cG=function(r){return r=this.Ua(r),this.Sg==null||r>=this.Sg.size?1:this.Sg.read(r)},o.prototype.Ra=function(r,s,l){s=this.bi[s],r=this.Ua(r),s.size<this.vb.I()&&s.resize(this.vb.I(),-1),s.write(r,l)},o.prototype.Pa=function(r,s){return(r=this.Ua(r))<(s=this.bi[s]).size?s.read(r):-1},o.prototype.Gd=function(){this.bi==null&&(this.bi=[]);for(var r=0;r<this.bi.length;r++)if(this.bi[r]==null)return this.bi[r]=c.Yc.Oh(0,-1),r;return this.bi.push(c.Yc.Oh(0,-1)),this.bi.length-1},o.prototype.Td=function(r){this.bi[r]=null},o.prototype.bc=function(r){return this.We!=null?(r=this.Ua(r),this.We[r]):null},o.prototype.ed=function(r,s){var l=this.td.T(r,2);if(l==-1)return!1;if(this.fA){var h=new c.Sa;this.Vi(r,h),s.setStart(h),this.Vi(l,h),s.setEnd(h)}else this.vb.Gc(this.td.T(r,0),Ve),s.em(0,Ve),this.vb.Gc(this.td.T(l,0),Ve),s.em(1,Ve);return!0},o.prototype.mW=function(r,s,l){if(this.fA){var h=new c.Sa;this.Vi(r,h),l.setStart(h),this.Vi(s,h),l.setEnd(h)}else this.vb.Gc(r,Ve),l.em(0,Ve),this.vb.Gc(s,Ve),l.em(1,Ve)},o.prototype.vf=function(r,s){if(s!=-1){if(r!=this.Qf(s))throw c.i.Qa();var l=this.cs(s)}else l=this.kv(r);var h=this.wU(r);return s!=-1&&this.bp(s,h),this.ap(h,s),this.bp(h,l),l!=-1?this.ap(l,h):this.Zo(r,h),s==-1&&this.$o(r,h),this.Rl(r,this.da(r)+1),h},o.prototype.nG=function(r,s,l,h){r=this.vf(r,-1);for(var f=0,p=s,g=!1;p==l&&(g=!0),this.aj(p,r),f++,(p=this.U(p))!=s;);return this.kn(r,!0),this.Vj(r,f),g&&(s=l),this.Jf(r,s),this.Wg(r,this.Ma(s)),this.cp(r,!1),h!=null&&(h[0]=g),r},o.prototype.Zq=function(r){var s=this.cs(r),l=this.Rb(r),h=this.Qf(r);return s!=-1?this.ap(s,l):this.Zo(h,l),l!=-1?this.bp(l,s):this.$o(h,s),this.AO(r),this.Rl(h,this.da(h)-1),this.sF(r),l},o.prototype.AO=function(r){var s=this.Xa(r);if(s!=-1){for(var l=0,h=this.Ja(r);l<h;l++){var f=s;s=this.U(s),this.Vy(f)}s=this.Qf(r),this.Tj(s,this.I(s)-this.Ja(r))}this.Vj(r,0)},o.prototype.Rb=function(r){return this.md.T(r,2)},o.prototype.cs=function(r){return this.md.T(r,1)},o.prototype.Ja=function(r){return this.md.T(r,3)},o.prototype.dc=function(r){return!!(1&this.Sp(r))},o.prototype.kn=function(r,s){if(this.dc(r)!=s){if(0<this.Ja(r)){var l=this.Xa(r),h=this.rj(r);s?(this.Bc(h,l),this.Cc(l,h),l=this.Ua(h)):(this.Bc(h,-1),this.Cc(l,-1),l=this.Ua(h)),this.Xg(l,null)}this.VB(r,(1|this.Sp(r))-1|(s?1:0))}},o.prototype.Qf=function(r){return this.md.T(r,7)},o.prototype.YS=function(r){return!!(2&this.Sp(r))},o.prototype.PB=function(r,s){this.VB(r,(2|this.Sp(r))-2|(s?2:0))},o.prototype.wz=function(r){if(this.cT(r))return this.Oi.get(this.qv(r));var s=new c.yb,l=this.Xa(r);if(l==-1)return 0;var h=new c.h;this.D(l,h);for(var f=0,p=0,g=this.Ja(r);p<g;p++,l=this.U(l)){var _=this.bc(l);if(_==null){if(!this.ed(l,s))continue;_=s}f+=_.Tx(h.x,h.y)}return this.cp(r,!0),this.Oi.set(this.qv(r),f),f},o.prototype.gr=function(r,s,l){s=this.Ck[s],r=this.qv(r),s.size<this.Oi.size&&s.resize(this.Oi.size,-1),s.write(r,l)},o.prototype.sj=function(r,s){return(r=this.qv(r))<(s=this.Ck[s]).size?s.read(r):-1},o.prototype.Ky=function(){this.Ck==null&&(this.Ck=[]);for(var r=0;r<this.Ck.length;r++)if(this.Ck[r]==null)return this.Ck[r]=c.Yc.Oh(0),r;return this.Ck.push(c.Yc.Oh(0)),this.Ck.length-1},o.prototype.CB=function(r){this.Ck[r]=null},o.prototype.ZT=function(r,s,l){if(l==-1)throw c.i.N();if(s!=l){var h=this.Rb(l),f=this.cs(l),p=this.Qf(l);f==-1?this.Zo(p,h):this.ap(f,h),h==-1?this.$o(p,f):this.bp(h,f),this.Tj(p,this.I(p)-this.Ja(l)),this.Rl(p,this.da(p)-1),f=s==-1?this.kv(r):this.cs(s),this.bp(l,f),this.ap(l,s),s==-1?this.$o(r,l):this.bp(s,l),f==-1?this.Zo(r,l):this.ap(f,l),this.Tj(r,this.I(r)+this.Ja(l)),this.Rl(r,this.da(r)+1),this.gx(l,r)}},o.prototype.ij=function(r,s){this.vb.ve(this.Ua(s),this.nm()),this.wj(r,-1,this.nm())},o.prototype.pd=function(r,s){var l=this.bd(r),h=this.Ma(r),f=this.U(r);h!=-1&&this.Bc(h,f);var p=this.Ja(l);if(r==this.Xa(l)&&this.Jf(l,1<p?f:-1),f!=-1&&this.Cc(f,h),r==this.rj(l)&&this.Wg(l,1<p?h:-1),h!=-1&&f!=-1){h=this.Ua(h);var g=this.Ua(f);s?(s=this.Sh(h))!=null&&(h=new c.h,this.vb.D(g,h),s.Qc(h)):(g=this.Ua(r),s=this.Sh(g),this.Xg(h,s),s!=null&&(h=this.vb.Na(h),s.Dc(h)))}return this.Vj(l,p-1),l=this.Qf(l),this.Tj(l,this.I(l)-1),this.Vy(r),f},o.prototype.Xa=function(r){return this.md.T(r,4)},o.prototype.rj=function(r){return this.md.T(r,5)},o.prototype.U=function(r){return this.td.T(r,2)},o.prototype.Ma=function(r){return this.td.T(r,1)},o.prototype.bd=function(r){return this.td.T(r,3)},o.prototype.fc=function(r,s){return this.wj(r,-1,s)},o.prototype.Yq=function(r){if(r===void 0)return this.Yq(!1);if(r instanceof u)return new u(r);var s,l=-1,h=-1,f=-1,p=0,g=!1;for(s=this.ld;s!=-1;s=this.ue(s))if(!r||c.aa.Hc(this.ic(s))){for(l=this.Ob(s);l!=-1;l=this.Rb(l))if(f=h=this.Xa(l),p=0,h!=-1){g=!0;break}if(g)break}return u.AP(this,s,l,h,f,p,r)},o.prototype.Oc=function(r){if(this.Il.Oc(r),this.We!=null)for(var s=0,l=this.We.length;s<l;s++)this.We[s]!=null&&this.We[s].Oc(r)},o.prototype.jr=function(r,s,l,h){h?this.NX(r,s,l):this.MX(r,s,l)},o.prototype.Cc=function(r,s){this.td.S(r,1,s)},o.prototype.Bc=function(r,s){this.td.S(r,2,s)},o.prototype.aj=function(r,s){this.td.S(r,3,s)},o.prototype.Vj=function(r,s){this.md.S(r,3,s)},o.prototype.Jf=function(r,s){this.md.S(r,4,s)},o.prototype.Wg=function(r,s){this.md.S(r,5,s)},o.prototype.Rl=function(r,s){this.cd.S(r,6,s)},o.prototype.Tj=function(r,s){this.cd.S(r,5,s)},o.prototype.pJ=function(r){var s=r;do{var l=this.U(s);this.Bc(s,this.Ma(s)),this.Cc(s,l),s=l}while(s!=r)},o.prototype.bC=function(r){this.fd=r},o.prototype.$q=function(r){var s=this.cs(r),l=this.Rb(r),h=this.Qf(r);s!=-1?this.ap(s,l):this.Zo(h,l),l!=-1?this.bp(l,s):this.$o(h,s),this.Jf(r,-1),this.Wg(r,-1),this.sF(r)},o.prototype.mi=function(r,s){var l=this.Ma(r),h=this.U(r);if(l!=-1&&this.Bc(l,h),h!=-1&&this.Cc(h,l),l!=-1&&h!=-1)if(l=this.Ua(l),h=this.Ua(h),s){if((s=this.Sh(l))!=null){var f=new c.h;this.vb.D(h,f),s.Qc(f)}}else s=this.Ua(r),s=this.Sh(s),this.Xg(l,s),s!=null&&(f=new c.h,this.vb.D(l,f),s.Dc(f));this.Vy(r)},o.prototype.cT=function(r){return!!(4&this.Sp(r))},o.prototype.cp=function(r,s){this.VB(r,(4|this.Sp(r))-4|(s?4:0))},o.prototype.nx=function(r,s){var l=this.td.o;this.vb.mc();var h=this.vb.za[0].o;r.Vd(0,s,(function(f,p){var g=l[5*f];f=l[5*p],p=h[2*g],g=h[2*g+1];var _=h[2*f];return g<(f=h[2*f+1])?-1:g>f?1:p<_?-1:p>_?1:0}))},o.prototype.jS=function(){for(var r=this.ld;r!=-1;r=this.ue(r))if(!c.aa.Hc(this.ic(r)))return!0;return!1},o.prototype.hC=function(r,s){for(var l=this.Ob(r),h=this.Ob(s),f=this.kv(r),p=this.kv(s),g=this.Ob(r);g!=-1;g=this.Rb(g))this.gx(g,s);for(g=this.Ob(s);g!=-1;g=this.Rb(g))this.gx(g,r);this.Zo(r,h),this.Zo(s,l),this.$o(r,p),this.$o(s,f),l=this.I(r),h=this.da(r),f=this.da(s),this.Tj(r,this.I(s)),this.Tj(s,l),this.Rl(r,f),this.Rl(s,h),l=this.cd.T(r,2),this.cd.S(r,2,this.cd.T(s,2)),this.cd.S(s,2,l)},o})(),c.gd=I})(Q||(Q={})),(function(c){var I=(function(w){function u(o,r,s,l){var h=w.call(this)||this;return h.$=new c.l,o===void 0?h.UE():typeof o=="number"?h.VO(o,r,s,l):o instanceof c.Sa?r!==void 0?h.Qu(o,r,s):h.WO(o):o instanceof c.ra?r!==void 0?h.YO(o,r):h.XO(o):o instanceof c.l?h.UO(o):h.UE(),h}return Me(u,w),u.prototype.Qu=function(o,r,s){this.description=c.ee.og(),this.$.Oa(),o.B()||this.tu(o,r,s)},u.prototype.UO=function(o){this.description=c.ee.og(),this.$.K(o),this.$.normalize()},u.prototype.XO=function(o){if(o==null)throw c.i.N();this.description=o,this.$.Oa()},u.prototype.YO=function(o,r){if(o==null)throw c.i.N();this.description=o,this.$.K(r),this.$.normalize()},u.prototype.UE=function(){this.description=c.ee.og(),this.$.Oa()},u.prototype.WO=function(o){this.description=c.ee.og(),this.$.Oa(),o.B()||this.tu(o)},u.prototype.VO=function(o,r,s,l){this.description=c.ee.og(),this.K(o,r,s,l)},u.prototype.K=function(o,r,s,l){if(this.vc(),typeof o=="number")this.$.K(o,r,s,l);else for(this.Oa(),r=0,s=o.length;r<s;r++)this.Zb(o[r])},u.prototype.Xo=function(o){if(this.vc(),!o.fT())throw c.i.N();this.$.K(o)},u.prototype.Oa=function(){this.vc(),this.$.Oa()},u.prototype.B=function(){return this.$.B()},u.prototype.R=function(){return this.$.R()},u.prototype.ca=function(){return this.$.ca()},u.prototype.gk=function(){return this.$.gk()},u.prototype.Jp=function(){return this.$.Jp()},u.prototype.Ip=function(){return this.$.sf()},u.prototype.Zb=function(o){if(o instanceof c.h)this.vc(),this.$.Zb(o);else if(o instanceof c.l)this.vc(),this.$.Zb(o);else if(o instanceof c.Sa){if(this.vc(),!o.Ac()){var r=o.description;if(this.description!=r&&this.Jl(r),this.B())this.tu(o);else{this.$.Zb(o.D());for(var s=1,l=r.Aa;s<l;s++)for(var h=r.Ed(s),f=c.ra.Va(h),p=0;p<f;p++){var g=o.Uc(h,p),_=this.Tg(h,p);_.Zb(g),this.setInterval(h,p,_)}}}}else if(o instanceof u&&!o.B())for((r=o.description)!=this.description&&this.Jl(r),this.$.Zb(o.$),s=1,l=r.Aa;s<l;s++)for(h=r.kd(s),f=c.ra.Va(h),p=0;p<f;p++)g=o.Tg(h,p),(_=this.Tg(h,p)).Zb(g),this.setInterval(h,p,_)},u.prototype.tu=function(o,r,s){if(r!==void 0){this.$.K(o.D(),r,s),s=1;for(var l=(r=o.description).Aa;s<l;s++)for(var h=r.Ed(s),f=c.ra.Va(h),p=0;p<f;p++){var g=o.Uc(h,p);this.setInterval(h,p,g,g)}}else for(this.$.K(o.ka[0],o.ka[1]),s=1,l=(r=o.description).Aa;s<l;s++)for(h=r.Ed(s),f=c.ra.Va(h),p=0;p<f;p++)g=o.Uc(h,p),this.setInterval(h,p,g,g)},u.prototype.setInterval=function(o,r,s,l){if(s=typeof s=="number"?new c.Nc(s,l):s,this.vc(),o==0)if(r==0)this.$.v=s.oa,this.$.C=s.va;else{if(r!=1)throw c.i.ce();this.$.G=s.oa,this.$.H=s.va}else this.vD(0,o,r,s.oa),this.vD(1,o,r,s.va)},u.prototype.W=function(o,r){this.vc(),this.$.W(o,r)},u.prototype.Oc=function(o){if(o instanceof c.Dd)this.vc(),o.mC(this.$);else if(this.vc(),!this.$.B()){var r=new c.OK;this.Qo(r),r.XS()?r.Oa():o.mC(r)}},u.prototype.copyTo=function(o){if(o.getType()!=this.getType())throw c.i.N();if(o.vc(),o.description=this.description,o.$.K(this.$),o.ka=null,this.ka!=null){o.ou();for(var r=0;r<2*(this.description.Ae.length-2);r++)o.ka[r]=this.ka[r]}},u.prototype.Ia=function(){return new u(this.description)},u.prototype.Ke=function(){return this.$.wF()},u.prototype.Qb=function(){return this.$.yR()},u.prototype.getType=function(){return 197},u.prototype.Db=function(){return 2},u.prototype.bn=function(o){this.copyTo(o)},u.prototype.A=function(o){o.v=this.$.v,o.G=this.$.G,o.C=this.$.C,o.H=this.$.H},u.prototype.Qo=function(o){o.v=this.$.v,o.G=this.$.G,o.C=this.$.C,o.H=this.$.H,o.K(this.$.v,this.$.G,this.Od(0,1,0),this.$.C,this.$.H,this.Od(1,1,0))},u.prototype.Tg=function(o,r){var s=new c.Nc;return s.K(this.Od(0,o,r),this.Od(1,o,r)),s},u.prototype.Hf=function(o,r){r.Nf(this.description);var s=this.description.Aa-1;switch(o){case 0:for(o=0;o<s;o++)for(var l=this.description.kd(o),h=c.ra.Va(l),f=0;f<h;f++)r.setAttribute(l,f,this.Od(0,l,f));r.Cb(this.$.v,this.$.G);break;case 1:for(o=0;o<s;o++)for(l=this.description.kd(o),h=c.ra.Va(l),f=0;f<h;f++)r.setAttribute(l,f,this.Od(1,l,f));r.Cb(this.$.v,this.$.H);break;case 2:for(o=0;o<s;o++)for(l=this.description.kd(o),h=c.ra.Va(l),f=0;f<h;f++)r.setAttribute(l,f,this.Od(0,l,f));r.Cb(this.$.C,this.$.H);break;case 3:for(o=0;o<s;o++)for(l=this.description.kd(o),h=c.ra.Va(l),f=0;f<h;f++)r.setAttribute(l,f,this.Od(1,l,f));r.Cb(this.$.C,this.$.G);break;default:throw c.i.ce()}},u.prototype.mB=function(o,r){o=this.$.mB(o),r.ma(o.x,o.y)},u.prototype.kR=function(o,r){return r*(o.Oq-2)},u.prototype.xF=function(o,r,s){if(this.$.B())throw c.i.fa("empty geometry");if(r==0)return o!=0?s!=0?this.$.H:this.$.C:s!=0?this.$.G:this.$.v;if(s>=c.ra.Va(r))throw c.i.N();var l=this.description.Pf(r);return this.ou(),0<=l?this.ka[this.kR(this.description,o)+this.description.LR(l)-2+s]:c.ra.se(r)},u.prototype.ou=function(){if(this.vc(),this.ka==null&&2<this.description.Ae.length){this.ka=[];for(var o=u.Gg(this.description,0),r=u.Gg(this.description,1),s=0,l=1,h=this.description.Aa;l<h;l++){var f=this.description.kd(l),p=c.ra.Va(f);f=c.ra.se(f);for(var g=0;g<p;g++)this.ka[o+s]=f,this.ka[r+s]=f,s++}}},u.prototype.sn=function(o){if(this.ka!=null)if(2<o.Ae.length){for(var r=c.ee.Iw(o,this.description),s=[],l=u.Gg(this.description,0),h=u.Gg(this.description,1),f=u.Gg(o,0),p=u.Gg(o,1),g=0,_=1,M=o.Aa;_<M;_++){var R=o.kd(_),$=c.ra.Va(R);if(r[_]==-1){var P=c.ra.se(R);for(R=0;R<$;R++)s[f+g]=P,s[p+g]=P,g++}else for(P=this.description.$j(r[_])-2,R=0;R<$;R++)s[f+g]=this.ka[l+P],s[p+g]=this.ka[h+P],g++,P++}this.ka=s}else this.ka=null;this.description=o},u.prototype.Od=function(o,r,s){if(this.$.B())throw c.i.fa("This operation was performed on an Empty Geometry.");if(r==0)return o!=0?s!=0?this.$.H:this.$.C:s!=0?this.$.G:this.$.v;if(s>=c.ra.Va(r))throw c.i.ce();var l=this.description.Pf(r);return 0<=l?(this.ou(),this.ka[u.Gg(this.description,o)+this.description.$j(l)-2+s]):c.ra.se(r)},u.prototype.vD=function(o,r,s,l){if(this.vc(),r==0)o!=0?s!=0?this.$.H=l:this.$.C=l:s!=0?this.$.G=l:this.$.v=l;else{if(s>=c.ra.Va(r))throw c.i.ce();if(!this.hasAttribute(r)){if(c.ra.DG(r,l))return;this.re(r)}r=this.description.Pf(r),this.ou(),this.ka[u.Gg(this.description,o)+this.description.$j(r)-2+s]=l}},u.Gg=function(o,r){return r*(o.Ae.length-2)},u.prototype.Ea=function(o){this.vc();var r=new c.l;return o.A(r),this.$.Ea(r)},u.prototype.isIntersecting=function(o){return o instanceof c.l?this.$.isIntersecting(o):this.$.isIntersecting(o.$)},u.prototype.Ju=function(o,r){this.vc(),o.B()?this.Oa():r!==void 0?this.tu(o,r):this.$.Ju(o.Lg(),o.ih())},u.prototype.offset=function(o,r){this.vc(),this.$.offset(o,r)},u.prototype.normalize=function(){this.vc(),this.$.normalize()},u.prototype.sf=function(o){if(o===void 0){if(o=new c.Sa(this.description),this.B())return o;for(r=this.description.Aa,s=1;s<r;s++)for(l=this.description.Ed(s),h=c.ra.Va(l),f=0;f<h;f++)p=.5*(this.Od(0,l,f)+this.Od(1,l,f)),o.setAttribute(l,f,p);return o.Cb(this.$.gk(),this.$.Jp()),o}if(o.Nf(this.description),this.B())o.Oa();else{for(var r=this.description.Aa,s=1;s<r;s++)for(var l=this.description.kd(s),h=c.ra.Va(l),f=0;f<h;f++){var p=.5*(this.xF(0,l,f)+this.xF(1,l,f));o.setAttribute(l,f,p)}o.Cb(this.$.sf())}},u.prototype.mz=function(){return new c.Sa(this.$.mz())},u.prototype.contains=function(o){return o instanceof c.Sa?!o.B()&&this.$.contains(o.Lg(),o.ih()):this.$.contains(o.$)},u.prototype.dP=function(o){return this.$.contains(o)},u.prototype.Nb=function(o){if(o==this)return!0;if(!(o instanceof u)||this.description!=o.description)return!1;if(this.B())return!!o.B();if(!this.$.Nb(o.$))return!1;for(var r=0,s=2*(this.description.Ae.length-2);r<s;r++)if(this.ka[r]!=o.ka[r])return!1;return!0},u.prototype.cc=function(){var o=this.description.cc();if(o=c.O.Th(o,this.$.cc()),!this.B()&&this.ka!=null)for(var r=0,s=2*(this.description.Ae.length-2);r<s;r++)o=c.O.Th(o,this.ka[r]);return o},u.prototype.es=function(){return this.$.v},u.prototype.gs=function(){return this.$.G},u.prototype.ds=function(){return this.$.C},u.prototype.fs=function(){return this.$.H},u.prototype.mg=function(){return c.pi.gm(this,null)},u.prototype.toString=function(){return this.B()?"Envelope: []":"Envelope: ["+this.$.v+", "+this.$.G+", "+this.$.C+", "+this.$.H+"]"},u})(c.aa);c.Fh=I})(Q||(Q={})),(function(c){var I=(function(){function w(u,o,r,s){u===void 0?this.Oa():(this.v=u,this.G=o,this.C=r,this.H=s)}return w.construct=function(u,o,r,s){var l=new w;return l.v=u,l.G=o,l.C=r,l.H=s,l},w.prototype.K=function(u,o,r,s){typeof u=="number"?r!==void 0?(this.v=u,this.G=o,this.C=r,this.H=s,this.normalize()):(this.v=u,this.G=o,this.C=u,this.H=o):u instanceof c.h?o!==void 0?(this.v=u.x-.5*o,this.C=this.v+o,this.G=u.y-.5*r,this.H=this.G+r,this.normalize()):(this.v=u.x,this.G=u.y,this.C=u.x,this.H=u.y):u instanceof w?this.K(u.v,u.G,u.C,u.H):u instanceof c.Nc&&(u.B()||o.B()?this.Oa():(this.v=u.oa,this.C=u.va,this.G=o.oa,this.H=o.va))},w.prototype.Zw=function(u,o){if(o!==void 0)if(o==0)this.Oa();else{this.v=u[0].x,this.G=u[0].y,this.C=this.v,this.H=this.G;for(var r=1;r<o;r++){var s=u[r];s.x<this.v?this.v=s.x:s.x>this.C&&(this.C=s.x),s.y<this.G?this.G=s.y:s.y>this.H&&(this.H=s.y)}}else if(u==null||u.length==0)this.Oa();else for(s=u[0],this.K(s.x,s.y),r=1;r<u.length;r++)o=u[r],this.Lk(o.x,o.y)},w.prototype.Oa=function(){this.H=this.C=this.G=this.v=NaN},w.prototype.B=function(){return isNaN(this.v)},w.prototype.Zb=function(u,o){typeof u=="number"?this.B()?(this.v=u,this.G=o,this.C=u,this.H=o):(this.v>u?this.v=u:this.C<u&&(this.C=u),this.G>o?this.G=o:this.H<o&&(this.H=o)):u instanceof c.h||u instanceof c.Nd?this.Zb(u.x,u.y):u instanceof w&&!u.B()&&(this.Zb(u.v,u.G),this.Zb(u.C,u.H))},w.prototype.Lk=function(u,o){this.v>u?this.v=u:this.C<u&&(this.C=u),this.G>o?this.G=o:this.H<o&&(this.H=o)},w.prototype.W=function(u,o){this.B()||(this.v-=u,this.C+=u,this.G-=o,this.H+=o,(this.v>this.C||this.G>this.H)&&this.Oa())},w.prototype.scale=function(u){0>u&&this.Oa(),this.B()||(this.v*=u,this.C*=u,this.G*=u,this.H*=u)},w.prototype.zoom=function(u,o){this.B()||this.K(this.sf(),u*this.R(),o*this.ca())},w.prototype.isIntersecting=function(u){return!this.B()&&!u.B()&&(this.v<=u.v?this.C>=u.v:u.C>=this.v)&&(this.G<=u.G?this.H>=u.G:u.H>=this.G)},w.prototype.HG=function(u){return(this.v<=u.v?this.C>=u.v:u.C>=this.v)&&(this.G<=u.G?this.H>=u.G:u.H>=this.G)},w.prototype.Ea=function(u){return!this.B()&&!u.B()&&(u.v>this.v&&(this.v=u.v),u.C<this.C&&(this.C=u.C),u.G>this.G&&(this.G=u.G),u.H<this.H&&(this.H=u.H),(u=this.v<=this.C&&this.G<=this.H)||this.Oa(),u)},w.prototype.mB=function(u){switch(u){case 0:return c.h.construct(this.v,this.G);case 1:return c.h.construct(this.v,this.H);case 2:return c.h.construct(this.C,this.H);case 3:return c.h.construct(this.C,this.G);default:throw c.i.ce()}},w.prototype.nB=function(u){if(u==null||4>u.length)throw c.i.N();u[0]!=null?u[0].ma(this.v,this.G):u[0]=c.h.construct(this.v,this.G),u[1]!=null?u[1].ma(this.v,this.H):u[1]=c.h.construct(this.v,this.H),u[2]!=null?u[2].ma(this.C,this.H):u[2]=c.h.construct(this.C,this.H),u[3]!=null?u[3].ma(this.C,this.G):u[3]=c.h.construct(this.C,this.G)},w.prototype.wF=function(){return this.B()?0:this.R()*this.ca()},w.prototype.yR=function(){return this.B()?0:2*(this.R()+this.ca())},w.prototype.gk=function(){return(this.C+this.v)/2},w.prototype.Jp=function(){return(this.H+this.G)/2},w.prototype.R=function(){return this.C-this.v},w.prototype.ca=function(){return this.H-this.G},w.prototype.move=function(u,o){this.B()||(this.v+=u,this.G+=o,this.C+=u,this.H+=o)},w.prototype.Ju=function(u,o){if(o!==void 0)this.move(u-this.gk(),o-this.Jp());else if(u instanceof c.h)this.Ju(u.x,u.y);else{if(!(u instanceof c.Sa))throw c.i.N();o=(this.C-this.v)/2;var r=(this.H-this.G)/2;this.v=u.Lg()-o,this.C=u.Lg()+o,this.G=u.ih()-r,this.H=u.ih()+r}},w.prototype.offset=function(u,o){this.v+=u,this.C+=u,this.G+=o,this.H+=o},w.prototype.normalize=function(){if(!this.B()){var u=Math.min(this.v,this.C),o=Math.max(this.v,this.C);this.v=u,this.C=o,u=Math.min(this.G,this.H),o=Math.max(this.G,this.H),this.G=u,this.H=o}},w.prototype.dn=function(u){u.ma(this.v,this.G)},w.prototype.$I=function(u){u.ma(this.C,this.G)},w.prototype.cJ=function(u){u.ma(this.v,this.H)},w.prototype.en=function(u){u.ma(this.C,this.H)},w.prototype.fT=function(){return this.B()||this.v<=this.C&&this.G<=this.H},w.prototype.sf=function(){return c.h.construct((this.C+this.v)/2,(this.H+this.G)/2)},w.prototype.mz=function(){return c.h.construct(this.v,this.G)},w.prototype.contains=function(u,o){if(o!==void 0)return u>=this.v&&u<=this.C&&o>=this.G&&o<=this.H;if(u instanceof c.Sa)return this.contains(u.Lg(),u.ih());if(u instanceof c.h)return this.contains(u.x,u.y);if(u instanceof w)return u.v>=this.v&&u.C<=this.C&&u.G>=this.G&&u.H<=this.H;throw c.i.N()},w.prototype.hm=function(u,o){if(o!==void 0)return u>this.v&&u<this.C&&o>this.G&&o<this.H;if(u instanceof c.h)return this.hm(u.x,u.y);if(u instanceof w)return u.v>this.v&&u.C<this.C&&u.G>this.G&&u.H<this.H;throw c.i.N()},w.prototype.Nb=function(u){return u==this||u instanceof w&&(!(!this.B()||!u.B())||this.v==u.v&&this.G==u.G&&this.C==u.C&&this.H==u.H)},w.prototype.cc=function(){var u=this.v;u=c.O.truncate(u^u>>>32);var o=c.O.Th(u);return u=this.C,u=c.O.truncate(u^u>>>32),o=c.O.Th(u,o),u=this.G,u=c.O.truncate(u^u>>>32),o=c.O.Th(u,o),u=this.H,u=c.O.truncate(u^u>>>32),c.O.Th(u,o)},w.prototype.xr=function(){return this.B()?2220446049250313e-29:2220446049250313e-29*(Math.abs(this.v)+Math.abs(this.C)+Math.abs(this.G)+Math.abs(this.H)+1)},w.prototype.zy=function(u,o){var r=this.Zj(u),s=this.Zj(o);if((r&s)!=0)return 0;if((r|s)==0)return 4;var l=(r!=0?1:0)|(s!=0?2:0);do{var h=o.x-u.x,f=o.y-u.y;if(h>f?(r&w.YC)!=0?((r&w.ju)!=0?(u.y+=f*(this.v-u.x)/h,u.x=this.v):(u.y+=f*(this.C-u.x)/h,u.x=this.C),r=this.Zj(u)):(s&w.YC)!=0?((s&w.ju)!=0?(o.y+=f*(this.v-o.x)/h,o.x=this.v):(o.y+=f*(this.C-o.x)/h,o.x=this.C),s=this.Zj(o)):r!=0?((r&w.ku)!=0?(u.x+=h*(this.G-u.y)/f,u.y=this.G):(u.x+=h*(this.H-u.y)/f,u.y=this.H),r=this.Zj(u)):((s&w.ku)!=0?(o.x+=h*(this.G-o.y)/f,o.y=this.G):(o.x+=h*(this.H-o.y)/f,o.y=this.H),s=this.Zj(o)):(r&w.ZC)!=0?((r&w.ku)!=0?(u.x+=h*(this.G-u.y)/f,u.y=this.G):(u.x+=h*(this.H-u.y)/f,u.y=this.H),r=this.Zj(u)):(s&w.ZC)!=0?((s&w.ku)!=0?(o.x+=h*(this.G-o.y)/f,o.y=this.G):(o.x+=h*(this.H-o.y)/f,o.y=this.H),s=this.Zj(o)):r!=0?((r&w.ju)!=0?(u.y+=f*(this.v-u.x)/h,u.x=this.v):(u.y+=f*(this.C-u.x)/h,u.x=this.C),r=this.Zj(u)):((s&w.ju)!=0?(o.y+=f*(this.v-o.x)/h,o.x=this.v):(o.y+=f*(this.C-o.x)/h,o.x=this.C),s=this.Zj(o)),(r&s)!=0)return 0}while((r|s)!=0);return l},w.prototype.Zj=function(u){return(u.x<this.v?1:0)|(u.x>this.C?1:0)<<1|(u.y<this.G?1:0)<<2|(u.y>this.H?1:0)<<3},w.prototype.Bi=function(u){return!this.B()&&(this.R()<=u||this.ca()<=u)},w.prototype.tb=function(u){return u instanceof c.h?Math.sqrt(this.iK(u)):Math.sqrt(this.px(u))},w.prototype.px=function(u){var o=0,r=0,s=this.v-u.C;return s>o&&(o=s),(s=this.G-u.H)>r&&(r=s),(s=u.v-this.C)>o&&(o=s),(s=u.G-this.H)>r&&(r=s),o*o+r*r},w.prototype.iK=function(u){var o=0,r=0,s=this.v-u.x;return s>o&&(o=s),(s=this.G-u.y)>r&&(r=s),(s=u.x-this.C)>o&&(o=s),(s=u.y-this.H)>r&&(r=s),o*o+r*r},w.prototype.cn=function(u){this.B()?u.Oa():u.K(this.v,this.C)},w.ju=1,w.ku=4,w.YC=3,w.ZC=12,w})();c.l=I})(Q||(Q={})),(function(c){var I,w;(w=I||(I={}))[w.initialize=0]="initialize",w[w.initializeRed=1]="initializeRed",w[w.initializeBlue=2]="initializeBlue",w[w.initializeRedBlue=3]="initializeRedBlue",w[w.sweep=4]="sweep",w[w.sweepBruteForce=5]="sweepBruteForce",w[w.sweepRedBlueBruteForce=6]="sweepRedBlueBruteForce",w[w.sweepRedBlue=7]="sweepRedBlue",w[w.sweepRed=8]="sweepRed",w[w.sweepBlue=9]="sweepBlue",w[w.iterate=10]="iterate",w[w.iterateRed=11]="iterateRed",w[w.iterateBlue=12]="iterateBlue",w[w.iterateBruteForce=13]="iterateBruteForce",w[w.iterateRedBlueBruteForce=14]="iterateRedBlueBruteForce",w[w.resetRed=15]="resetRed",w[w.resetBlue=16]="resetBlue";var u=(function(){function o(r,s){this.ci=r,this.dH=s}return o.prototype.nr=function(r,s,l){this.ci.JX(l,r,s,this.dH)},o.prototype.$p=function(r){return this.ci.Rr(r,this.dH)},o})();I=(function(){function o(){this.ow=this.oo=this.ff=this.rd=null,this.wq=new c.l,this.Am=this.Hj=this.Ij=this.Ad=this.Ef=this.Ld=this.cw=this.fo=this.qd=this.Eb=null,this.Xb=-1,this.qa=0,this.Nk()}return o.prototype.kr=function(){this.Nk(),this.Pv=!0,this.Eb==null?(this.fo=new c.ia(0),this.Eb=[]):(this.fo.Bh(0),this.Eb.length=0)},o.prototype.ad=function(r,s){if(!this.Pv)throw c.i.Hb();var l=new c.l;l.K(s),this.fo.add(r),this.Eb.push(l)},o.prototype.Fp=function(){if(!this.Pv)throw c.i.Hb();this.Pv=!1,this.Eb!=null&&0<this.Eb.length&&(this.Xb=0,this.Ic=!1)},o.prototype.pK=function(){this.Nk(),this.Ov=!0,this.Eb==null?(this.fo=new c.ia(0),this.Eb=[]):(this.fo.Bh(0),this.Eb.length=0)},o.prototype.JD=function(r,s){if(!this.Ov)throw c.i.Hb();var l=new c.l;l.K(s),this.fo.add(r),this.Eb.push(l)},o.prototype.iF=function(){if(!this.Ov)throw c.i.Hb();this.Ov=!1,this.Eb!=null&&0<this.Eb.length&&this.qd!=null&&0<this.qd.length&&(this.Xb==-1||this.Xb==2?this.Xb=3:this.Xb!=3&&(this.Xb=1),this.Ic=!1)},o.prototype.oK=function(){this.Nk(),this.Nv=!0,this.qd==null?(this.cw=new c.ia(0),this.qd=[]):(this.cw.Bh(0),this.qd.length=0)},o.prototype.ED=function(r,s){if(!this.Nv)throw c.i.Hb();var l=new c.l;l.K(s),this.cw.add(r),this.qd.push(l)},o.prototype.hF=function(){if(!this.Nv)throw c.i.Hb();this.Nv=!1,this.Eb!=null&&0<this.Eb.length&&this.qd!=null&&0<this.qd.length&&(this.Xb==-1||this.Xb==1?this.Xb=3:this.Xb!=3&&(this.Xb=2),this.Ic=!1)},o.prototype.next=function(){if(this.Ic)return!1;for(var r=!0;r;)switch(this.Xb){case 0:r=this.Gz();break;case 1:r=this.rS();break;case 2:r=this.oS();break;case 3:r=this.qS();break;case 4:r=this.UX();break;case 5:r=this.QX();break;case 6:r=this.RX();break;case 7:r=this.SX();break;case 8:r=this.ux();break;case 9:r=this.iC();break;case 10:r=this.Uz();break;case 11:r=this.jT();break;case 12:r=this.gT();break;case 13:r=this.hT();break;case 14:r=this.iT();break;case 15:r=this.kJ();break;case 16:r=this.jJ();break;default:throw c.i.Qa()}return!this.Ic},o.prototype.aC=function(r){this.qa=r},o.prototype.uz=function(r){return this.Eb[r]},o.prototype.az=function(r){return this.qd[r]},o.prototype.nl=function(r){return this.fo.read(r)},o.prototype.hl=function(r){return this.cw.read(r)},o.Tz=function(r){return!(1&~r)},o.eq=function(r){return!(1&r)},o.prototype.Nk=function(){this.Pv=this.Nv=this.Ov=!1,this.Cf=this.Df=this.Rg=this.pe=-1,this.Ic=!0},o.prototype.Gz=function(){if(this.Af=this.Vf=-1,10>this.Eb.length)return this.pe=this.Eb.length,this.Xb=5,!0;this.rd==null&&(this.rd=new c.sr(!0),this.oo=this.rd.getIterator(),this.Ld=new c.ia(0)),this.rd.kr();for(var r=0;r<this.Eb.length;r++){var s=this.Eb[r];this.rd.Br(s.v,s.C)}for(this.rd.Fp(),this.Ld.Jb(2*this.Eb.length),this.Ld.resize(0),r=0;r<2*this.Eb.length;r++)this.Ld.add(r);return this.Kt(this.Ld,2*this.Eb.length,!0),this.pe=2*this.Eb.length,this.Xb=4,!0},o.prototype.rS=function(){if(this.Af=this.Vf=-1,10>this.Eb.length||10>this.qd.length)return this.pe=this.Eb.length,this.Xb=6,!0;this.rd==null&&(this.rd=new c.sr(!0),this.oo=this.rd.getIterator(),this.Ld=new c.ia(0)),this.rd.kr();for(var r=0;r<this.Eb.length;r++){var s=this.Eb[r];this.rd.Br(s.v,s.C)}for(this.rd.Fp(),this.Ld.Jb(2*this.Eb.length),this.Ld.resize(0),r=0;r<2*this.Eb.length;r++)this.Ld.add(r);return this.Kt(this.Ld,this.Ld.size,!0),this.pe=this.Ld.size,this.Df!=-1&&(this.Ad.bh(this.Df),this.Ij.resize(0),this.Df=-1),this.Xb=7,this.jJ()},o.prototype.oS=function(){if(this.Af=this.Vf=-1,10>this.Eb.length||10>this.qd.length)return this.pe=this.Eb.length,this.Xb=6,!0;this.ff==null&&(this.ff=new c.sr(!0),this.ow=this.ff.getIterator(),this.Ef=new c.ia(0)),this.ff.kr();for(var r=0;r<this.qd.length;r++){var s=this.qd[r];this.ff.Br(s.v,s.C)}for(this.ff.Fp(),this.Ef.Jb(2*this.qd.length),this.Ef.resize(0),r=0;r<2*this.qd.length;r++)this.Ef.add(r);return this.Kt(this.Ef,this.Ef.size,!1),this.Rg=this.Ef.size,this.Cf!=-1&&(this.Ad.bh(this.Cf),this.Hj.resize(0),this.Cf=-1),this.Xb=7,this.kJ()},o.prototype.qS=function(){if(this.Af=this.Vf=-1,10>this.Eb.length||10>this.qd.length)return this.pe=this.Eb.length,this.Xb=6,!0;this.rd==null&&(this.rd=new c.sr(!0),this.oo=this.rd.getIterator(),this.Ld=new c.ia(0)),this.ff==null&&(this.ff=new c.sr(!0),this.ow=this.ff.getIterator(),this.Ef=new c.ia(0)),this.rd.kr();for(var r=0;r<this.Eb.length;r++){var s=this.Eb[r];this.rd.Br(s.v,s.C)}for(this.rd.Fp(),this.ff.kr(),r=0;r<this.qd.length;r++)s=this.qd[r],this.ff.Br(s.v,s.C);for(this.ff.Fp(),this.Ld.Jb(2*this.Eb.length),this.Ef.Jb(2*this.qd.length),this.Ld.resize(0),this.Ef.resize(0),r=0;r<2*this.Eb.length;r++)this.Ld.add(r);for(r=0;r<2*this.qd.length;r++)this.Ef.add(r);return this.Kt(this.Ld,this.Ld.size,!0),this.Kt(this.Ef,this.Ef.size,!1),this.pe=this.Ld.size,this.Rg=this.Ef.size,this.Df!=-1&&(this.Ad.bh(this.Df),this.Ij.resize(0),this.Df=-1),this.Cf!=-1&&(this.Ad.bh(this.Cf),this.Hj.resize(0),this.Cf=-1),this.Xb=7,!0},o.prototype.UX=function(){var r=this.Ld.get(--this.pe),s=r>>1;return o.eq(r)?(this.rd.remove(s),this.pe!=0||(this.Af=this.Vf=-1,this.Ic=!0,!1)):(this.oo.EB(this.Eb[s].v,this.Eb[s].C,this.qa),this.Vf=s,this.Xb=10,!0)},o.prototype.QX=function(){return--this.pe==-1?(this.Af=this.Vf=-1,this.Ic=!0,!1):(this.Rg=this.Vf=this.pe,this.Xb=13,!0)},o.prototype.RX=function(){return--this.pe==-1?(this.Af=this.Vf=-1,this.Ic=!0,!1):(this.Vf=this.pe,this.Rg=this.qd.length,this.Xb=14,!0)},o.prototype.SX=function(){var r=this.Ld.get(this.pe-1),s=this.Ef.get(this.Rg-1),l=this.Rr(r,!0),h=this.Rr(s,!1);return l>h?this.ux():l<h?this.iC():o.Tz(r)?this.ux():o.Tz(s)?this.iC():this.ux()},o.prototype.ux=function(){var r=this.Ld.get(--this.pe),s=r>>1;if(o.eq(r))return this.Df!=-1&&this.Ij.get(s)!=-1?(this.Ad.jd(this.Df,this.Ij.get(s)),this.Ij.set(s,-1)):this.rd.remove(s),this.pe!=0||(this.Af=this.Vf=-1,this.Ic=!0,!1);if(this.Cf!=-1&&0<this.Ad.bs(this.Cf))for(r=this.Ad.rc(this.Cf);r!=-1;){var l=this.Ad.getData(r);this.ff.vj(l),this.Hj.set(l,-1),l=this.Ad.lb(r),this.Ad.jd(this.Cf,r),r=l}return 0<this.ff.size()?(this.ow.EB(this.Eb[s].v,this.Eb[s].C,this.qa),this.Vf=s,this.Xb=12):(this.Df==-1&&(this.Ad==null&&(this.Ad=new c.jp),this.Ij=new c.ia(0),this.Ij.resize(this.Eb.length,-1),this.Ij.Wj(-1,0,this.Eb.length),this.Df=this.Ad.Ph(1)),this.Ij.set(s,this.Ad.addElement(this.Df,s)),this.Xb=7),!0},o.prototype.iC=function(){var r=this.Ef.get(--this.Rg),s=r>>1;if(o.eq(r))return this.Cf!=-1&&this.Hj.get(s)!=-1?(this.Ad.jd(this.Cf,this.Hj.get(s)),this.Hj.set(s,-1)):this.ff.remove(s),this.Rg!=0||(this.Af=this.Vf=-1,this.Ic=!0,!1);if(this.Df!=-1&&0<this.Ad.bs(this.Df))for(r=this.Ad.rc(this.Df);r!=-1;){var l=this.Ad.getData(r);this.rd.vj(l),this.Ij.set(l,-1),l=this.Ad.lb(r),this.Ad.jd(this.Df,r),r=l}return 0<this.rd.size()?(this.oo.EB(this.qd[s].v,this.qd[s].C,this.qa),this.Af=s,this.Xb=11):(this.Cf==-1&&(this.Ad==null&&(this.Ad=new c.jp),this.Hj=new c.ia(0),this.Hj.resize(this.qd.length,-1),this.Hj.Wj(-1,0,this.qd.length),this.Cf=this.Ad.Ph(0)),this.Hj.set(s,this.Ad.addElement(this.Cf,s)),this.Xb=7),!0},o.prototype.Uz=function(){if(this.Af=this.oo.next(),this.Af!=-1)return!1;var r=this.Ld.get(this.pe)>>1;return this.rd.vj(r),this.Xb=4,!0},o.prototype.jT=function(){if(this.Vf=this.oo.next(),this.Vf!=-1)return!1;this.Af=this.Vf=-1;var r=this.Ef.get(this.Rg)>>1;return this.ff.vj(r),this.Xb=7,!0},o.prototype.gT=function(){if(this.Af=this.ow.next(),this.Af!=-1)return!1;var r=this.Ld.get(this.pe)>>1;return this.rd.vj(r),this.Xb=7,!0},o.prototype.hT=function(){if(--this.Rg==-1)return this.Xb=5,!0;this.wq.K(this.Eb[this.pe]);var r=this.Eb[this.Rg];return this.wq.W(this.qa,this.qa),!this.wq.isIntersecting(r)||(this.Af=this.Rg,!1)},o.prototype.iT=function(){if(--this.Rg==-1)return this.Xb=6,!0;this.wq.K(this.Eb[this.pe]);var r=this.qd[this.Rg];return this.wq.W(this.qa,this.qa),!this.wq.isIntersecting(r)||(this.Af=this.Rg,!1)},o.prototype.kJ=function(){return this.rd==null?(this.Ic=!0,!1):(this.pe=this.Ld.size,0<this.rd.size()&&this.rd.reset(),this.Df!=-1&&(this.Ad.bh(this.Df),this.Ij.resize(0),this.Df=-1),this.Ic=!1,!0)},o.prototype.jJ=function(){return this.ff==null?(this.Ic=!0,!1):(this.Rg=this.Ef.size,0<this.ff.size()&&this.ff.reset(),this.Cf!=-1&&(this.Ad.bh(this.Cf),this.Hj.resize(0),this.Cf=-1),this.Ic=!1,!0)},o.prototype.Kt=function(r,s,l){this.Am==null&&(this.Am=new c.Xt),l=new u(this,l),this.Am.sort(r,0,s,l)},o.prototype.JX=function(r,s,l,h){var f=this;r.Vd(s,l,(function(p,g){var _=f.Rr(p,h),M=f.Rr(g,h);return _<M||_==M&&o.eq(p)&&o.Tz(g)?-1:1}))},o.prototype.Rr=function(r,s){var l=.5*this.qa;return s?(s=this.Eb[r>>1],o.eq(r)?s.G-l:s.H+l):(s=this.qd[r>>1],o.eq(r)?s.G-l:s.H+l)},o})(),c.xC=I})(Q||(Q={})),(function(c){var I=(function(){function w(){}return w.construct=function(u,o,r,s,l,h){var f=new w;return f.v=u,f.G=o,f.Ye=r,f.C=s,f.H=l,f.Bg=h,f},w.prototype.Oa=function(){this.Ye=this.v=NaN},w.prototype.B=function(){return isNaN(this.v)},w.prototype.XS=function(){return isNaN(this.Ye)},w.prototype.K=function(u,o,r,s,l,h){s!==void 0?typeof u=="number"?(this.v=u,this.G=o,this.Ye=r,this.C=s,this.H=l,this.Bg=h):(this.v=u.x-.5*o,this.C=this.v+o,this.G=u.y-.5*r,this.H=this.G+r,this.Ye=u.z-.5*s,this.Bg=this.Ye+s):(this.v=u,this.G=o,this.Ye=r,this.C=u,this.H=o,this.Bg=r)},w.prototype.move=function(u){this.v+=u.x,this.G+=u.y,this.Ye+=u.z,this.C+=u.x,this.H+=u.y,this.Bg+=u.z},w.prototype.copyTo=function(u){u.v=this.v,u.G=this.G,u.C=this.C,u.H=this.H},w.prototype.Lk=function(u,o,r){this.v>u?this.v=u:this.C<u&&(this.C=u),this.G>o?this.G=o:this.H<o&&(this.H=o),isNaN(this.Ye)==0?this.Ye>r?this.Ye=r:this.Bg<r&&(this.Bg=r):this.Bg=this.Ye=r},w.prototype.Zb=function(u,o,r){if(typeof u=="number")this.B()?(this.v=u,this.G=o,this.Ye=r,this.C=u,this.H=o,this.Bg=r):this.Lk(u,o,r);else if(u instanceof c.Nd)this.Zb(u.x,u.y,u.z);else{if(!(u instanceof w))throw c.i.N();u.B()||(this.Zb(u.v,u.G,u.Ye),this.Zb(u.C,u.H,u.Bg))}},w.prototype.construct=function(u,o,r){u.B()||o.B()?this.Oa():(this.v=u.oa,this.C=u.va,this.G=o.oa,this.H=o.va,this.Ye=r.oa,this.Bg=r.va)},w.prototype.nB=function(u){if(u==null||8>u.length)throw c.i.N();u[0]=new c.Nd(this.v,this.G,this.Ye),u[1]=new c.Nd(this.v,this.H,this.Ye),u[2]=new c.Nd(this.C,this.H,this.Ye),u[3]=new c.Nd(this.C,this.G,this.Ye),u[4]=new c.Nd(this.v,this.G,this.Bg),u[5]=new c.Nd(this.v,this.H,this.Bg),u[6]=new c.Nd(this.C,this.H,this.Bg),u[7]=new c.Nd(this.C,this.G,this.Bg)},w.prototype.Zw=function(u){if(u==null||u.length==0)this.Oa();else{var o=u[0];for(this.K(o.x,o.y,o.z),o=1;o<u.length;o++){var r=u[o];this.Lk(r.x,r.y,r.z)}}},w})();c.OK=I})(Q||(Q={})),(function(c){(function(I){I.Qa=function(){var w=Error();return w.message="Internal Error",w},I.Ie=function(){var w=Error();return w.message="Not Implemented",w},I.Xk=function(){var w=Error();return w.message="The input unit and the spatial reference unit are not of the same unit type.ie Linear vs.Angular",w},I.Hb=function(){var w=Error();return w.message="Invalid Call",w},I.N=function(w){var u=Error();return u.message="Illegal Argument Exception",w!==void 0&&(u.message+=": "+w),u},I.fu=function(w){var u=Error();return u.message=w!==void 0?"Runtime Exception: "+w:"Runtime Exception.",u},I.fa=function(w){var u=Error();return u.message="Geometry Exception: "+w,u},I.GK=function(){var w=Error();return w.message="Assert Failed Exception",w},I.ce=function(){var w=Error();return w.message="IndexOutOfBoundsException",w},I.WC=function(){var w=Error();return w.message="UserCancelException",w}})(c.i||(c.i={}))})(Q||(Q={})),(function(c){(c=c.bm||(c.bm={}))[c.forward=0]="forward",c[c.reverse=1]="reverse"})(Q||(Q={})),(function(c){var I=(function(){function o(r,s){this.Wa=r,this.FH=s,this.LH=-1,this.sl=!1}return o.prototype.qe=function(){},o.prototype.next=function(){if(++this.LH==this.FH.I())return null;var r=this.FH.Na(this.LH);r.scale(this.Wa.ec);var s=new c.Da;return this.Wa.sy(r,this.sl,s),s},o.prototype.La=function(){return 0},o})(),w=(function(){function o(r,s,l){this.Wa=r,this.rw=s,this.Xn=!1,this.co=l,this.bw=[0],this.sk=[0],this.Nj=[0],this.Gs=[0],this.sl=!1,this.qq=new c.Da,this.uk=[]}return o.prototype.qe=function(){},o.prototype.next=function(){if(this.Xn){this.Xn=!1,this.sd.ha();var r=c.aa.jg(this.qq);return c.Fg.Mk(r,this.Wa.Aq,!0,!0,this.Wa.Ub)}if(this.sd==null&&(this.sd=this.rw.Ga(),this.sd.$a(),this.co!=null&&this.co.Yk(null,0)),!this.sd.Ha()){if(!this.sd.$a())return null;this.co!=null&&this.co.Yk(null,0)}r=null,this.sk[0]=0,this.FA=this.bw[0]=0,this.di=NaN,this.Xn=!1;for(var s=this.uk.length=0,l=new c.h,h=new c.h,f=[0];this.sd.Ha()&&8>this.FA;){var p=this.sd.ha();if(l.L(p.ac()),h.L(p.wc()),l.scale(this.Wa.ec),h.scale(this.Wa.ec),c.cj.Mu(l,h)?l.x=h.x:c.cj.Ku(l,h)&&(h.x=l.x),this.uk.length=0,c.cj.tF(this.Wa.Tb,this.Wa.kc,this.Wa.ze,l,h,this.Wa.QA,this.Wa.Zs,f,this.Nj,this.Gs,this.uk,this.bw),this.co!=null&&(p=this.uk.slice(0),this.co.qG(this.co.da()-1,p,p.length-1)),c.cj.Lu(l,h)?(this.qq.Oa(),this.Wa.sy(l,this.sl,this.qq),this.Xn=!0):(this.qq.Oa(),this.Xn=this.xy(f[0],this.qq)),this.Xn){if(this.sd.li(),this.sd.Ez()){this.sd.li(),this.sd.ha();break}this.sd.DW();break}r==null&&(r=new c.Da).Yk(null,0),this.OD(r),s++}if(this.bw[0]=0,0<s){for(f=this.sd.wb();0<s;)this.sd.li(),l.L(this.rw.Na(this.sd.wb())),h.L(this.rw.Na(this.sd.ik())),l.scale(this.Wa.ec),h.scale(this.Wa.ec),this.sl&&(c.cj.Mu(l,h)?l.x=h.x:c.cj.Ku(l,h)&&(h.x=l.x)),this.uk.length=0,c.cj.tF(this.Wa.Tb,this.Wa.kc,this.Wa.ze,h,l,this.Wa.QA,this.Wa.Zs,null,this.Nj,this.Gs,this.uk,this.bw),this.OD(r),s--;return l.L(this.rw.Na(this.sd.wb())),l.scale(this.Wa.ec),u.Hr(this.Wa.Tb,this.Wa.kc,this.Wa.ec,this.Wa.rb,l,this.di+1.570796326794897,this.di+4.71238898038469,this.Wa.ao,this.sl,this.sk,r,NaN,NaN),this.sd.Vb(f),this.sd.ha(),s=c.ta.kj(null,r,!0),c.Fg.Mk(r,s,!0,!0,this.Wa.Ub)}return this.Xn=!1,this.sd.ha(),r=c.aa.jg(this.qq),c.Fg.Mk(r,this.Wa.Aq,!0,!0,this.Wa.Ub)},o.prototype.OD=function(r){var s=this.uk[0],l=this.Nj[0]-1.570796326794897,h=this.Gs[0]+1.570796326794897;if(!isNaN(this.di)){if(this.di>=this.Nj[0]){var f=this.di+1.570796326794897;l=f+3.141592653589793-(this.di-this.Nj[0])}else l=(f=this.di+1.570796326794897)+3.141592653589793-(6.283185307179586-(this.Nj[0]-this.di));var p=!(this.di>=this.Nj[0]&&3.141592653589793>=this.di-this.Nj[0])&&!(this.di<this.Nj[0]&&3.141592653589793<=this.Nj[0]-this.di),g=!1;if(Math.abs(l-f)<=.5*this.Wa.ao)if(p){var _=r.Na(r.I()-2);_.scale(this.Wa.ec);var M=new c.ga(0);for(c.kb.Xy(this.Wa.Tb,this.Wa.kc,s.x,s.y,_.x,_.y,M),_=M.u;_<=f;)_+=6.283185307179586;for(;_>f;)_-=6.283185307179586;_<l&&(g=!0)}else g=!0;g?(r.DB(0,r.I()-1),this.sl||((s=new c.h).L(r.Na(r.I()-1)),s.scale(this.Wa.ec),-3.141592653589793>s.x-this.sk[0]?this.sk[0]-=6.283185307179586:3.141592653589793<s.x-this.sk[0]&&(this.sk[0]+=6.283185307179586)),p||(l=.5*(l+f))):(p?((f=new c.h).L(s),f.scale(1/this.Wa.ec),r.wf(0,-1,f)):u.Hr(this.Wa.Tb,this.Wa.kc,this.Wa.ec,this.Wa.rb,this.uk[0],f,l,this.Wa.ao,this.sl,this.sk,r,NaN,NaN),this.FA+=1)}u.qy(this.Wa.Tb,this.Wa.kc,this.Wa.ec,this.Wa.rb,this.Wa.ze,this.uk,l,h,this.sl,this.sk,r),this.di=this.Gs[0]},o.prototype.xy=function(r,s){return this.Wa.xy(this.uk,r,this.Nj[0],this.Gs[0],this.sl,s)},o.prototype.La=function(){return 0},o})(),u=(function(){function o(){}return o.buffer=function(r,s,l,h,f,p){if(r==null)throw c.i.N("Geometry::Geodesic_bufferer::buffer");if(r.B())return new c.Da(r.description);var g=new o;g.Qg=s,g.Jc=c.cb.sc(s);var _=c.cb.vv(g.Jc);if(g.Ub=p,g.Tb=c.cb.ev(g.Jc),g.kc=_*(2-_),g.ec=g.Jc.Hd().ai,g.qa=g.Qg.Kn(),g.Aq=g.Jc.Kn(),g.Zs=g.Aq*g.ec,g.zq=1.570796326794897/g.ec,g.OY=3.141592653589793/g.ec,g.Js=6.283185307179586/g.ec,g.PY=g.Js/6,g.LA=0,g.NY=1.5707963267948966*g.Tb/g.LA,l==4?(g.ze=2,g.Wv=!0):(g.ze=l,g.Wv=!1),g.Ka=h,g.rb=Math.abs(h),isNaN(f)||.001>f?g.xX():g.$n=f,l=r.getType(),c.aa.yd(l)?((l=new c.Ta(r.description)).oc(r,!0),r=l,l=1607):l==197&&(l=new c.l,r.A(l),l.R()<=g.qa||l.ca()<=g.qa?((l=new c.Ta(r.description)).ad(r,!1),r=l,l=1607):((l=new c.Da(r.description)).ad(r,!1),r=l,l=1736)),g.yX(),c.aa.Rn(l)||g.zX(),g.rb<=.5*g.$n)return l!=1736?new c.Da(r.description):g.Wv?r:c.cj.Qr(r,g.Qg,g.ze,g.QA,-1,p);if(0>g.Ka&&l!=1736)return new c.Da(r.description);if(g.Wv&&c.aa.Hc(l)?(s=c.cj.Qr(r,s,4,NaN,g.$n,p),r=c.cb.zh(s,g.Qg,g.Jc)):r=c.cb.zh(r,g.Qg,g.Jc),(r=c.Hh.lj(r,g.Jc)).B())return new c.Da(r.description);switch(!g.Wv&&c.aa.Hc(l)&&(r=c.cj.pI(g.ec,r)),r=o.KX(r,g.Jc),l){case 1736:s=g.UN(r);break;case 1607:s=g.VN(r);break;case 550:s=g.SN(r);break;case 33:s=g.TN(r);break;default:throw c.i.fa("corrupted_geometry")}return(g=c.cb.zh(s,g.Jc,g.Qg)).Jl(r.description),g},o.prototype.UN=function(r){var s=new c.Da;r=new w(this,r,s),r=c.Gh.local().V(r,this.Jc,this.Ub).next(),r=c.ip.nj(r,this.Jc,2);var l=new c.Dd;return l.scale(1/this.ec,1/this.ec),s.Oc(l),s=c.ip.nj(s,this.Jc,2),0<=this.Ka?c.Gh.local().V(s,r,this.Jc,this.Ub):c.kp.local().V(s,r,this.Jc,this.Ub)},o.prototype.VN=function(r){return r=new w(this,r,null),r=c.Gh.local().V(r,this.Jc,this.Ub).next(),c.ip.nj(r,this.Jc,2)},o.prototype.SN=function(r){return r=new I(this,r),r=c.Gh.local().V(r,this.Jc,this.Ub).next(),c.ip.nj(r,this.Jc,2)},o.prototype.TN=function(r){(r=r.D()).scale(this.ec);var s=new c.Da;return this.sy(r,!1,s),c.ip.nj(s,this.Jc,2)},o.prototype.xy=function(r,s,l,h,f,p){var g=r[0],_=r[r.length-1],M=g.y>_.y?g.y:_.y,R=c.F.q(this.Tb,this.kc,g.y<_.y?g.y:_.y);if(M=c.F.q(this.Tb,this.kc,M),.001<this.LA-(R+s+this.rb)&&.001<this.LA+(M-s-this.rb))return!1;R=(s=l-1.570796326794897)-3.141592653589793,M=s+3.141592653589793;var $=(l=h+1.570796326794897)+3.141592653589793,P=[NaN],j=[NaN],F=[NaN],V=[NaN];if(h=!1,o.dJ(this.Tb,this.kc,this.rb,g,s,R,_,l,P,j),o.dJ(this.Tb,this.kc,this.rb,_,$,l,g,R,F,V),(l<P[0]&&P[0]<$||l<j[0]&&j[0]<$)&&(h=!0),h||(R<F[0]&&F[0]<s||R<V[0]&&V[0]<s)&&(h=!0),!h&&f)return!1;for(var W=[],q=r.length-1;0<=q;q--)W.push(r[q]);return p.Oa(),p.Yk(null,0),q=[0],o.qy(this.Tb,this.kc,this.ec,this.rb,this.ze,r,s,l,f,q,p),o.Hr(this.Tb,this.kc,this.ec,this.rb,_,l,$,this.ao,f,q,p,P[0],j[0]),o.qy(this.Tb,this.kc,this.ec,this.rb,this.ze,W,$,M,f,q,p),o.Hr(this.Tb,this.kc,this.ec,this.rb,g,R,s,this.ao,f,q,p,F[0],V[0]),r=!1,f||(r=this.IE(this.ec,p)),h||r},o.prototype.sy=function(r,s,l){l.Oa(),l.Yk(null,0),o.Hr(this.Tb,this.kc,this.ec,this.rb,r,-this.ao,6.283185307179586,this.ao,s,[0],l,NaN,NaN),s||this.IE(this.ec,l)},o.prototype.IE=function(r,s){var l=this.vO(r,s);return r=this.wO(r,s),l||r},o.prototype.vO=function(r,s){var l=s.I(),h=!1,f=new c.l;if(s.A(f),!c.s.Y(f.H*r,1.570796326794897)&&!c.s.Y(f.G*r,-1.570796326794897))return!1;var p=new c.h;for(--l;0<=l;l--)s.D(l,p),(p.y==f.H&&c.s.Y(p.y*r,1.570796326794897)||p.y==f.G&&c.s.Y(p.y*r,-1.570796326794897))&&(h=!0,this.OI(p,l,s));return h},o.prototype.wO=function(r,s){var l=s.Na(0),h=s.Na(s.I()-1);return 3.141592653589793<Math.abs(l.x-h.x)*r?(this.VV(s),!0):this.uO(s)},o.prototype.uO=function(r){return 0>r.Ke()&&(this.UV(r),!0)},o.prototype.OI=function(r,s,l){var h=l.I(),f=0<s?s-1:h-1;if(h=l.Na(s<h-1?s+1:0),f=l.Na(f),!c.s.Y(h.y,r.y)&&!c.s.Y(h.x,r.x)){var p=new c.h;p.ma(h.x,r.y),l.Cb(s,p)}c.s.Y(f.y,r.y)||c.s.Y(f.x,r.x)||((h=new c.h).ma(f.x,r.y),l.wf(0,s,h))},o.prototype.VV=function(r){var s=new c.Da,l=new c.Da,h=new c.Dd,f=r.Na(0),p=r.Na(r.I()-1),g=new c.h;f.x>p.x?(p=this.zq,h.gg(-this.Js,0)):(p=-this.zq,h.gg(this.Js,0)),s.add(r,!1),r.Oa(),l.add(s,!1),l.Oc(h),f=new c.l,l.A(f),f.W((this.Js-f.R())/2,0),f.G=-this.zq,f.H=this.zq;for(var _=0;_<l.I();_++)l.D(_,g),s.wf(0,-1,g);for(l.Oc(h),_=0;_<l.I();_++)l.D(_,g),s.wf(0,-1,g);l=s.Na(0),h=s.Na(s.I()-1),g.ma(h.x,p),s.wf(0,-1,g),g.ma(.5*(h.x+l.x),p),s.wf(0,-1,g),g.ma(l.x,p),s.wf(0,-1,g),s=c.Hh.ks(s,this.Jc,2,!0,f.v),s=c.Hh.ks(s,this.Jc,2,!0,f.C),s=c.Ud.clip(s,f,this.Aq,NaN),r.add(s,!1)},o.prototype.UV=function(r){var s=new c.l;r.A(s),s.W((this.Js-s.R())/2,0),s.G=-this.zq,s.H=this.zq,r.Yk(null,0);var l=new c.h;l.ma(s.v,s.G),r.wf(1,-1,l),l.ma(s.v,s.H),r.wf(1,-1,l),l.ma(.5*(s.v+s.C),s.H),r.wf(1,-1,l),l.ma(s.C,s.H),r.wf(1,-1,l),l.ma(s.C,s.G),r.wf(1,-1,l),l.ma(.5*(s.v+s.C),s.G),r.wf(1,-1,l)},o.qy=function(r,s,l,h,f,p,g,_,M,R,$){var P=null;M||((P=new c.h).Rc(),0<$.I()&&(P.L($.Na($.I()-1)),P.scale(l)));var j=new c.ga(0),F=new c.ga(0),V=new c.ga(0),W=new c.h,q=new c.h,J=p[p.length-1];l=1/l;for(var nt=0;nt<p.length;nt++){var st=p[nt];if(nt==0)var ct=g;else nt==p.length-1?ct=_:(c.kb.wd(r,s,J.x,J.y,st.x,st.y,null,null,j,f),ct=j.u-1.570796326794897);c.kb.yi(r,s,st.x,st.y,h,ct,F,V),M?q.ma(F.u,V.u):(W.ma(F.u,V.u),o.gJ(st.x,W.x,P.x,R),q.ma(R[0]+W.x,W.y),P.L(q)),q.scale(l),$.wf(0,-1,q)}},o.Hr=function(r,s,l,h,f,p,g,_,M,R,$,P,j){if(!(g-p<_)){var F=new c.ga(0),V=new c.ga(0),W=new c.h,q=new c.h,J=null;M||((J=new c.h).Rc(),0<$.I()&&(J.L($.Na($.I()-1)),J.scale(l)));var nt=c.O.truncate(Math.ceil(p/_)),st=nt++*_;for(st==p&&(st=nt++*_),l=1/l;st<g+_&&(p<P&&P<st?(st=P,nt--):p<j&&j<st&&(st=j,nt--),!(st>=g));)c.kb.yi(r,s,f.x,f.y,h,st,F,V),M?q.ma(F.u,V.u):(W.ma(F.u,V.u),o.gJ(f.x,W.x,J.x,R),q.ma(R[0]+W.x,W.y),J.L(q)),q.scale(l),$.wf(0,-1,q),p=st,st=nt++*_}},o.dJ=function(r,s,l,h,f,p,g,_,M,R){var $=new c.h,P=new c.h,j=new c.ga(0),F=new c.ga(0);for(c.kb.yi(r,s,h.x,h.y,l,f,j,F),$.ma(j.u,F.u),c.kb.yi(r,s,h.x,h.y,l,p,j,F),P.ma(j.u,F.u),l=new c.ga(0),c.kb.Xy(r,s,g.x,g.y,$.x,$.y,l),M[0]=l.u,c.kb.Xy(r,s,g.x,g.y,P.x,P.y,l),R[0]=l.u;M[0]<=R[0];)M[0]+=6.283185307179586;for(;M[0]>R[0];)M[0]-=6.283185307179586;for(;M[0]>=_;)M[0]-=6.283185307179586,R[0]-=6.283185307179586;for(;M[0]<_;)M[0]+=6.283185307179586,R[0]+=6.283185307179586},o.gJ=function(r,s,l,h){if(isNaN(l)){for(;3.141592653589793<h[0]+s-r;)h[0]-=6.283185307179586;for(;3.141592653589793<r-(h[0]+s);)h[0]+=6.283185307179586}else 3.141592653589793<h[0]+s-l?h[0]-=6.283185307179586:3.141592653589793<l-(h[0]+s)&&(h[0]+=6.283185307179586)},o.KX=function(r,s){var l=r.getType(),h=c.aa.Hc(l)?r.da():l==550?r.I():1;if(h==1)return r;var f=new c.ia(0);f.resize(h);for(var p=[],g=new c.l,_=0;_<h;_++){if(f.write(_,_),c.aa.Hc(l)){r.Rj(_,g);var M=g.sf()}else M=r.Na(_);M=c.XK.$X(s,M),p[_]=M}for(f.Vd(0,f.size,(function(R,$){return p[R]<p[$]?-1:p[R]>p[$]?1:0})),s=r.Ia(),_=0;_<h;_++)g=f.read(_),c.aa.Hc(l)?s.addPath(r,g,!0):s.Fd(r,g,g+1);return s},o.prototype.yX=function(){var r=Math.min(3.141592653589793*this.Tb-this.rb,this.rb);r=Math.min(r,.39269908169872414*this.Tb);var s=new c.h;s.ma(0,10*this.ec);var l=45*this.ec,h=new c.ga(0),f=new c.ga(0),p=new c.ga(0),g=new c.ga(0),_=new c.ga(0),M=new c.ga(0),R=new c.ga(0),$=new c.ga(0),P=new c.h,j=new c.h,F=new c.h,V=new c.h;c.kb.yi(this.Tb,this.kc,s.x,s.y,r,0,h,f),P.ma(h.u,f.u),c.kb.yi(this.Tb,this.kc,s.x,s.y,r,l,p,g),j.ma(p.u,g.u),h=new c.ga(0),f=new c.ga(0);for(var W=new c.ga(0);c.kb.yi(this.Tb,this.kc,s.x,s.y,r,.5*(0+l),_,M),F.ma(_.u,M.u),c.kb.wd(this.Tb,this.kc,P.x,P.y,j.x,j.y,h,f,null,2),c.kb.oj(this.Tb,this.kc,P.x,P.y,.5*h.u,f.u,R,$,2),V.ma(R.u,$.u),c.kb.wd(this.Tb,this.kc,F.x,F.y,V.x,V.y,W,null,null,2),!(W.u<=this.$n);)l*=.9,c.kb.yi(this.Tb,this.kc,s.x,s.y,r,l,p,g),j.ma(p.u,g.u);this.ao=6.283185307179586/Math.ceil(6.283185307179586/(l-0))},o.prototype.zX=function(){var r=Math.min(3.141592653589793*this.Tb-this.rb,this.rb);r=Math.min(r,.39269908169872414*this.Tb);var s=new c.h,l=new c.h;s.ma(0,10*this.ec),l.ma(10*this.ec,10*this.ec);var h=new c.ga(0),f=new c.ga(0),p=new c.ga(0);c.kb.wd(this.Tb,this.kc,s.x,s.y,l.x,l.y,p,h,f,this.ze);var g=new c.ga(0),_=new c.ga(0),M=new c.ga(0),R=new c.ga(0),$=new c.h,P=new c.ga(0),j=new c.ga(0),F=new c.ga(0),V=new c.ga(0),W=new c.ga(0),q=new c.ga(0),J=new c.ga(0),nt=new c.ga(0),st=new c.ga(0),ct=new c.h,bt=new c.h,Tt=new c.h,Ut=new c.h,Pt=1;h=h.u,f=f.u+1.570796326794897,p=p.u,c.kb.yi(this.Tb,this.kc,s.x,s.y,r,h-1.570796326794897,j,F),ct.ma(j.u,F.u),c.kb.yi(this.Tb,this.kc,l.x,l.y,r,f,V,W),bt.ma(V.u,W.u),j=new c.ga(0),F=new c.ga(0),f=new c.ga(0);for(var ee=new c.ga(0);c.kb.oj(this.Tb,this.kc,s.x,s.y,.5*(0+Pt)*p,h,g,_,this.ze),$.ma(g.u,_.u),c.kb.wd(this.Tb,this.kc,s.x,s.y,$.x,$.y,null,null,P,this.ze),c.kb.yi(this.Tb,this.kc,$.x,$.y,r,P.u+1.570796326794897,q,J),Tt.ma(q.u,J.u),c.kb.wd(this.Tb,this.kc,ct.x,ct.y,bt.x,bt.y,j,F,null,2),c.kb.oj(this.Tb,this.kc,ct.x,ct.y,.5*j.u,F.u,nt,st,2),Ut.ma(nt.u,st.u),c.kb.wd(this.Tb,this.kc,Tt.x,Tt.y,Ut.x,Ut.y,f,null,null,2),!(f.u<=this.$n);)Pt*=.9,c.kb.oj(this.Tb,this.kc,s.x,s.y,Pt*p,h,M,R,this.ze),l.ma(M.u,R.u),c.kb.wd(this.Tb,this.kc,s.x,s.y,l.x,l.y,null,null,ee,this.ze),c.kb.yi(this.Tb,this.kc,l.x,l.y,r,ee.u+1.570796326794897,V,W),bt.ma(V.u,W.u);1e5<(r=Pt*p)&&(r=1e5),this.QA=r},o.prototype.xX=function(){var r=5e4<this.rb?100:1e4<this.rb?10:1;500>this.rb/r&&(r=this.rb/500),.01>r&&(r=.01),this.$n=r},o})();c.VK=u})(Q||(Q={})),(function(c){var I=(function(){function w(){}return w.Mf=function(u,o){var r=new c.h;r.L(o),u.push(r)},w.up=function(u,o){u.add(o.x),u.add(o.y)},w.hB=function(u){u.Bh(u.size-2)},w.oB=function(u,o){o.ma(u.get(u.size-2),u.get(u.size-1))},w.Qr=function(u,o,r,s,l,h){if(u==null)throw c.i.N();var f=u.getType();if(u.B()||c.aa.Rn(f))return u;var p=new w;p.Qg=o,p.Jc=c.cb.sc(o);var g=c.cb.vv(p.Jc);if(p.Ub=h,p.Tb=c.cb.ev(p.Jc),p.kc=g*(2-g),p.ec=p.Jc.Hd().ai,p.Aq=p.Jc.Kn(),p.Zs=p.Aq*p.ec,p.AA=s,p.zA=l,p.ze=r,f==197?(r=new c.Da(u.description)).ad(u,!1):c.aa.yd(f)?(r=new c.Ta(u.description)).oc(u,!0):r=u,p.ze!=4){if((o=p.Qg.Nb(p.Jc)==0?c.cb.zh(r,p.Qg,p.Jc):c.Hh.lj(r,p.Jc)).B())return o;o=w.pI(p.ec,o),o=p.Zy(o),o=c.ip.nj(o,p.Jc,p.ze),p=c.cb.zh(o,p.Jc,p.Qg)}else{if(c.Eg.Sb(o)==2?(u=c.cb.ml(),(o=c.Xj.local().V(r,u,o,h))==u&&(o=new c.Da,u.copyTo(o))):o=c.Hh.lj(r,p.Jc),o.B())return o;p=p.CX(o)}return p},w.pI=function(u,o){var r=new c.l;if(o.xc(r),3.141592653589793>r.R()*u)return o;var s=!1;r=o.Ga();for(var l=new c.h,h=new c.h;r.$a();)for(;r.Ha();){var f=r.ha();if(l.L(f.ac()),h.L(f.wc()),l.scale(u),h.scale(u),3.141592653589793<Math.abs(l.x-h.x)){var p=w.Lu(l,h);if(!p){s=!0;break}if(6.283185307179586<Math.abs(l.x-h.x)){s=!0;break}}}if(!s)return o;s=o.Ia();var g=1<o.description.Aa,_=new c.h,M=new c.h,R=new c.h,$=new c.h,P=new c.Sa;for(r.Zi();r.$a();)for(var j=NaN,F=[0];r.Ha();){if(f=r.ha(),l.L(f.ac()),h.L(f.wc()),l.scale(u),h.scale(u),isNaN(j)?(w.Wi(l.x,NaN,F),M.L(l)):M.L(R),j=M.x,p=w.Lu(l,h)){if(6.283185307179586<h.x-l.x)for(;6.283185307179586<h.x-l.x;)h.x-=6.283185307179586;if(-6.283185307179586>h.x-l.x)for(;-6.283185307179586>h.x-l.x;)h.x+=6.283185307179586;w.Wi(h.x,NaN,F),R.L(h)}else _.L(h),w.AU(_),w.Wi(_.x,j,F),R.ma(F[0]+_.x,_.y);.5>Math.abs(R.x-h.x)&&R.L(h),g?(f.Tw(0,P),$.L(M),$.scale(1/u),P.Cb($),(p=r.vm())?s.nf(P):s.lineTo(P),r.Qn()&&!o.dc(r.gb)&&(f.Tw(1,P),$.L(R),$.scale(1/u),P.Cb($),s.lineTo(P))):((p=r.vm())&&s.Hz(null,0),f=s.da()-1,$.L(M),$.scale(1/u),s.wf(f,-1,$),r.Qn()&&!o.dc(r.gb)&&($.L(R),$.scale(1/u),s.wf(f,-1,$)))}return s},w.tF=function(u,o,r,s,l,h,f,p,g,_,M,R){var $=new c.h,P=new c.h,j=0<s.compare(l);w.fJ(j,s,l,$,P),w.uF(u,o,r,$,P,h,NaN,f,p,g,_,null,M,R),j&&w.fC(g,_,null,M)},w.prototype.Zy=function(u){var o=u.Ia(),r=u.Ga(),s=[],l=null,h=null,f=1<u.description.Aa;f&&(l=new c.be(0),h=new c.ig);for(var p=[0],g=new c.h,_=new c.h,M=new c.h,R=new c.h;r.$a();)for(p[0]=0;r.Ha();){var $=r.ha();g.L($.ac()),_.L($.wc()),g.scale(this.ec),_.scale(this.ec);var P=0<g.compare(_);w.fJ(P,g,_,M,R),s.length=0,l?.Bh(0),0<this.AA?w.uF(this.Tb,this.kc,this.ze,M,R,this.AA,this.zA,this.Zs,null,null,null,f?l:null,s,p):w.aR(this.Tb,this.kc,this.ze,M,R,this.zA,this.Zs,f?l:null,s,p),P&&w.fC(null,null,f?l:null,s),s[0].L($.ac()),s[s.length-1].L($.wc());for(var j=1;j<s.length-1;j++)s[j].scale(1/this.ec);f?(P=w.eJ(P,$,h),w.TD(r.vm(),r.Qn()&&!u.dc(r.gb),$,P,l,s,o)):w.SD(r.vm(),r.Qn()&&!u.dc(r.gb),s,o)}return o},w.prototype.CX=function(u){var o=u.Ia(),r=u.Ga(),s=[],l=null,h=new c.ig,f=1<u.description.Aa;for(f&&(l=new c.be(0));r.$a();)for(;r.Ha();){var p=r.ha(),g=p.ac(),_=p.wc();g=0<g.compare(_),_=w.eJ(g,p,h),s.length=0,l?.Bh(0),w.BX(this.Tb,this.kc,this.ec,_,this.Qg,this.AA,this.zA,f?l:null,s),g&&w.fC(null,null,f?l:null,s),f?w.TD(r.vm(),r.Qn()&&!u.dc(r.gb),p,_,l,s,o):w.SD(r.vm(),r.Qn()&&!u.dc(r.gb),s,o)}return o},w.SD=function(u,o,r,s){u&&s.Hz(null,0),u=s.da()-1;var l=r.slice(0);s.qG(u,l,l.length-1),o&&s.wf(u,-1,r[r.length-1])},w.TD=function(u,o,r,s,l,h,f){var p=new c.Sa;if(r.To(p),u?f.nf(p):f.lineTo(p),2<h.length){u=s.Qb();for(var g=1;g<h.length-1;g++){var _=s.NG(l.get(g)*u);s.Tw(_,p),p.Cb(h[g]),f.lineTo(p)}}o&&(r.Po(p),f.lineTo(p))},w.uF=function(u,o,r,s,l,h,f,p,g,_,M,R,$,P){var j=new c.ga(0),F=new c.ga(0),V=new c.ga(0);c.kb.wd(u,o,s.x,s.y,l.x,l.y,V,j,F,r),V=V.u;var W=j=j.u;0>W&&(W+=6.283185307179586),0>(F=F.u)&&(F+=6.283185307179586),g!=null&&(g[0]=V),_!=null&&(_[0]=W),M!=null&&(M[0]=F),_=g=NaN,R!=null&&(g=((_=c.F.Ah(u,o))-(M=c.F.q(u,o,s.y)))/V,_=(_+M)/V),M=w.Mu(s,l),F=w.Ku(s,l),W=M||F;var q=w.FE(s,l,p),J=new c.ga(0),nt=new c.ga(0),st=new c.h,ct=new c.h,bt=new c.h;w.Wi(s.x,NaN,P);var Tt=[P[0]];if(V<=h)w.Mf($,s),w.Wi(l.x,NaN,P),R?.add(0),W?(M&&w.kB(s,l,R,$),F&&w.iB(s,l,R,$)):q?w.jB(s,l,j,g,_,R,$):0<f&&(ct.ma(s.x-Tt[0],s.y),st.ma(l.x-P[0],l.y),w.Yy(u,o,r,s,V,j,ct,st,0,1,f,R,$,Tt)),w.Mf($,l);else{var Ut=V/((h=1+c.O.truncate(Math.ceil(V/h)))-1),Pt=new c.h,ee=0;w.Mf($,s),Pt.L(s),ct.ma(s.x-P[0],s.y),R?.add(0);for(var Nt=1;Nt<h;Nt++){if(Nt<h-1){c.kb.oj(u,o,s.x,s.y,Nt*Ut,j,J,nt,r),st.ma(J.u,nt.u),w.Wi(st.x,Pt.x,P),bt.ma(P[0]+st.x,st.y);var _e=Nt/(h-1)}else w.Wi(l.x,NaN,P),st.ma(l.x-P[0],l.y),bt.L(l),_e=1;W?(Nt==1&&M&&w.kB(s,bt,R,$),Nt==h-1&&F&&w.iB(Pt,l,R,$)):q?w.EE(Pt,bt,p)&&(s.x<l.x?Pt.x>bt.x&&(P[0]+=6.283185307179586,bt.ma(P[0]+st.x,st.y)):Pt.x<bt.x&&(P[0]-=6.283185307179586,bt.ma(P[0]+st.x,st.y)),w.jB(Pt,bt,j,g,_,R,$)):0<f&&w.Yy(u,o,r,s,V,j,ct,st,ee,_e,f,R,$,Tt),w.Mf($,bt),R?.add(_e),Pt.L(bt),ct.L(st),Tt[0]=P[0],ee=_e}}},w.aR=function(u,o,r,s,l,h,f,p,g,_){var M=new c.ga(0),R=new c.ga(0),$=new c.ga(0);c.kb.wd(u,o,s.x,s.y,l.x,l.y,$,M,R,r),R=$.u,M=M.u;var P=$=NaN;if(p!=null){P=c.F.Ah(u,o);var j=c.F.q(u,o,s.y);$=(P-j)/R,P=(P+j)/R}j=w.Mu(s,l);var F=w.Ku(s,l),V=j||F;f=w.FE(s,l,f);var W=w.Lu(s,l);W=V||f||W,w.Wi(s.x,NaN,_);var q=new c.h;w.Mf(g,s),q.L(s),p?.add(0),W?(V?(j&&w.kB(s,l,p,g),F&&w.iB(s,l,p,g)):f&&w.jB(s,l,M,$,P,p,g),w.Wi(l.x,NaN,_),w.Mf(g,l)):R<=h?(w.Wi(l.x,NaN,_),w.Mf(g,l)):($=new c.h,f=new c.h,$.L(s),f.L(l),$.x-=_[0],f.x-=_[0],-3.141592653589793>f.x?f.x+=6.283185307179586:3.141592653589793<f.x&&(f.x-=6.283185307179586),w.Yy(u,o,r,s,R,M,$,f,0,1,h,p,g,_),w.Mf(g,l),w.Wi(l.x,NaN,_)),p?.add(1)},w.Yy=function(u,o,r,s,l,h,f,p,g,_,M,R,$,P){var j=new c.h,F=new c.h;j.ma(f.x+P[0],f.y),new c.ga(0),new c.ga(0),new c.ga(0),new c.ga(0);var V=new c.ga(0),W=new c.ga(0),q=new c.ga(0),J=new c.h,nt=new c.h,st=new c.h,ct=new c.h;J.L(f),nt.L(p),f=new c.be(0),p=new c.be(0),w.up(f,nt),p.add(_);var bt=new c.h,Tt=new c.yb,Ut=[];for(w.YJ(4,Ut);0<f.size;){for(var Pt,ee=!1,Nt=NaN,_e=0;3>_e;_e++)if(Pt=Ut[_e]*_+(1-Ut[_e])*g,c.kb.oj(u,o,s.x,s.y,Pt*l,h,V,W,r),st.ma(V.u,W.u),_e==0&&(Nt=Pt,ct.L(st)),w.WW(J,st,nt,Tt),Tt.hc(Tt.fe(st,!0),bt),c.kb.wd(u,o,st.x,st.y,bt.x,bt.y,q,null,null,2),q.u>M){ee=!0;break}ee?(nt.L(ct),_=Nt,w.up(f,nt),p.add(_)):(w.hB(f),p.En(p.size-1,1,p.size-1),0<f.size&&(w.Wi(nt.x,j.x,P),F.ma(P[0]+nt.x,nt.y),w.Mf($,F),j.L(F),R?.add(_),J.L(nt),g=_,w.oB(f,nt),_=p.get(p.size-1)))}},w.BX=function(u,o,r,s,l,h,f,p,g){var _=new c.h,M=new c.h,R=new c.h,$=new c.h,P=new c.h,j=new c.h,F=new c.h,V=new c.h,W=new c.h,q=new c.h,J=new c.ga(0),nt=new c.ga(0),st=new c.h,ct=[[],[]],bt=c.Eg.Sb(l)==1;l=l.Xd(0);var Tt=s.ac(),Ut=s.wc();bt?(j.ma(Tt.x*r,Tt.y*r),F.ma(Ut.x*r,Ut.y*r)):(ct[0][0]=Tt.x,ct[0][1]=Tt.y,ct[1][0]=Ut.x,ct[1][1]=Ut.y,c.cb.vt(),j.x=ct[0][0]*r,j.y=ct[0][1]*r,F.x=ct[1][0]*r,F.y=ct[1][1]*r);var Pt=0,ee=0,Nt=1,_e=s.Pn();_.L(Tt),M.L(Ut),Ut=new c.be(0);var ne=new c.be(0),Ye=new c.be(0);w.up(Ut,M),w.up(ne,F),Ye.add(Nt),w.Mf(g,_),p?.add(ee);var pi=[],xi=0<f?_e?5:3:_e?5:1;w.YJ(xi,pi);for(var ai=new c.ga(0),Qe=new c.ga(0),Ae=new c.ga(0),Ue=new c.ga(0),Li=new c.ga(0),yi=new c.ga(0),un=new c.ga(0);0<ne.size;){var Ie=!1,Ir=NaN;for(c.kb.wd(u,o,j.x,j.y,F.x,F.y,ai,Qe,null,2),Tt=0;Tt<xi&&!(Tt==0&&(!_e&&0>=f&&ai.u<=h&&3.141592653589793>Math.abs(j.x-F.x)||s.Ux(ee,Nt)<=l));Tt++){var li=pi[Tt]*Nt+(1-pi[Tt])*ee;if(s.hc(li,R),bt?V.ma(R.x*r,R.y*r):(ct[0][0]=R.x,ct[0][1]=R.y,c.cb.vt(),V.x=ct[0][0]*r,V.y=ct[0][1]*r),Tt==0&&(Ir=li,P.L(R),q.L(V),0<h&&(ai.u>h||3.141592653589793<=Math.abs(j.x-F.x)))){Ie=!0;break}if(_e&&0<h){if(c.kb.wd(u,o,j.x,j.y,V.x,V.y,Ae,null,null,2),Ae.u>h||3.141592653589793<=Math.abs(j.x-V.x)){Ie=!0;break}}else if(0<f){if(_e?($.NS(_,M,pi[Tt]),bt?W.ma($.x*r,$.y*r):(ct[0][0]=$.x,ct[0][1]=$.y,c.cb.vt(),W.x=ct[0][0]*r,W.y=ct[0][1]*r)):($.L(R),W.L(V)),c.kb.wd(u,o,j.x,j.y,W.x,W.y,Ue,null,null,2),!(Ue.u<=ai.u)){Ie=!0;break}if(c.kb.oj(u,o,j.x,j.y,Ue.u,Qe.u,J,nt,2),st.ma(J.u,nt.u),c.kb.wd(u,o,st.x,st.y,V.x,V.y,Li,null,null,2),Li.u>f){Ie=!0;break}if(_e){if(c.kb.wd(u,o,st.x,st.y,W.x,W.y,yi,null,null,2),yi.u>f){Ie=!0;break}if(c.kb.wd(u,o,W.x,W.y,V.x,V.y,un,null,null,2),un.u>f){Ie=!0;break}}}}Ie?(M.L(P),F.L(q),Nt=Ir,w.up(Ut,M),w.up(ne,F),Ye.add(Nt)):(w.hB(Ut),w.hB(ne),Ye.En(Ye.size-1,1,Ye.size-1),w.Mf(g,M),Pt+=ai.u,p?.add(Pt),0<ne.size&&(_.L(M),j.L(F),ee=Nt,w.oB(Ut,M),w.oB(ne,F),Nt=Ye.get(Ye.size-1)))}if(p!=null)for(u=1/Pt,Tt=0;Tt<p.size;Tt++)p.write(Tt,p.read(Tt)*u)},w.fC=function(u,o,r,s){s.reverse(),r?.ni(0,r.size,1),r=u!=null?u[0]:NaN,s=o!=null?o[0]:NaN,u!=null&&(u[0]=s),o!=null&&(o[0]=r)},w.fJ=function(u,o,r,s,l){u?(s.L(r),l.L(o)):(s.L(o),l.L(r))},w.eJ=function(u,o,r){return u?(r.create(o.getType()),o.copyTo(r.get()),r.get().reverse(),r.get()):o},w.Wi=function(u,o,r){if(isNaN(o)){for(;3.141592653589793<r[0]-u;)r[0]-=6.283185307179586;for(;3.141592653589793<u-r[0];)r[0]+=6.283185307179586}else 3.141592653589793<r[0]+u-o?r[0]-=6.283185307179586:3.141592653589793<o-(r[0]+u)&&(r[0]+=6.283185307179586)},w.WW=function(u,o,r,s){3.141592653589793>Math.abs(o.x-u.x)?(s.Dc(u),3.141592653589793<=r.x-u.x?s.Ql(r.x-6.283185307179586,r.y):3.141592653589793<=u.x-r.x?s.Ql(r.x+6.283185307179586,r.y):s.Ql(r.x,r.y)):(s.Dc(r),3.141592653589793<=u.x-r.x?s.Ql(u.x-6.283185307179586,u.y):3.141592653589793<=r.x-u.x?s.Ql(u.x+6.283185307179586,u.y):s.Ql(u.x,u.y))},w.YJ=function(u,o){for(var r=0;r<u;r++){var s=Math.ceil(r/2)/(u+1);r%2!=0&&(s=-s),o[r]=.5+s}},w.Mu=function(u,o){return!!(c.s.Y(u.y,1.570796326794897)&&!c.s.Y(o.y,1.570796326794897)||c.s.Y(u.y,-1.570796326794897)&&!c.s.Y(o.y,-1.570796326794897))},w.Ku=function(u,o){return!!(c.s.Y(o.y,1.570796326794897)&&!c.s.Y(u.y,1.570796326794897)||c.s.Y(o.y,-1.570796326794897)&&!c.s.Y(u.y,-1.570796326794897))},w.FE=function(u,o,r){return!(!w.EE(u,o,r)||c.s.Y(u.y,1.570796326794897)||c.s.Y(u.y,-1.570796326794897)||c.s.Y(o.y,1.570796326794897)||c.s.Y(o.y,-1.570796326794897))},w.EE=function(u,o,r){return Math.abs(Math.abs(u.x-o.x)-3.141592653589793)<=r},w.Lu=function(u,o){return!!(c.s.Y(u.y,1.570796326794897)&&c.s.Y(o.y,1.570796326794897)||c.s.Y(u.y,-1.570796326794897)&&c.s.Y(o.y,-1.570796326794897))},w.kB=function(u,o,r,s){if(0<u.y){var l=new c.h;l.ma(o.x,1.570796326794897)}else(l=new c.h).ma(o.x,-1.570796326794897);c.s.Y(u.x,l.x)||c.s.Y(o.y,l.y)||(w.Mf(s,l),r?.add(0))},w.iB=function(u,o,r,s){if(0<o.y){var l=new c.h;l.ma(u.x,1.570796326794897)}else(l=new c.h).ma(u.x,-1.570796326794897);c.s.Y(o.x,l.x)||c.s.Y(u.y,l.y)||(w.Mf(s,l),r?.add(1))},w.jB=function(u,o,r,s,l,h,f){c.s.Cd(r)?(0<1.570796326794897-u.y&&((r=new c.h).ma(u.x,1.570796326794897),w.Mf(f,r),h?.add(s)),0<1.570796326794897-o.y&&((r=new c.h).ma(o.x,1.570796326794897),w.Mf(f,r),h?.add(s))):(0<1.570796326794897+u.y&&((r=new c.h).ma(u.x,-1.570796326794897),w.Mf(f,r),h?.add(l)),0<1.570796326794897+o.y&&((r=new c.h).ma(o.x,-1.570796326794897),w.Mf(f,r),h?.add(l)))},w.AU=function(u){if(-3.141592653589793>u.x)for(;-3.141592653589793>u.x;)u.x+=6.283185307179586;if(3.141592653589793<u.x)for(;3.141592653589793<u.x;)u.x-=6.283185307179586},w})();c.cj=I})(Q||(Q={})),(function(c){c.ip=(function(){function I(){}return I.nj=function(w,u,o){if(w==null||u==null||!c.cb.Wc(u))throw c.i.N();if(w.B())return w;var r=w,s=r.getType();if(c.aa.Hc(s)){r=c.Hh.lj(w,u),w=new c.l,r.A(w),s=c.ta.Wd(u,w,!1);for(var l=c.cb.gh(u),h=Math.floor((w.v-l.v)/l.R())*l.R()+l.v;h<w.C;)h>w.v+s&&h<w.C-s&&(r=c.Hh.ks(r,u,o,!0,h)),h+=l.R()}else{if(s==197)return(w=new c.Da(r.description)).ad(r,!1),I.nj(w,u,o);if(c.aa.yd(s))return(w=new c.Ta(r.description)).oc(r,!0),I.nj(w,u,o)}return I.Uy(r,u)},I.Uy=function(w,u){if(w==null||u==null||!c.cb.Wc(u))throw c.i.N();if(w.B())return w;var o=w.getType();return o==197?(o=new c.Da(w.description)).ad(w,!1):c.aa.yd(o)?(o=new c.Ta(w.description)).oc(w,!0):o=w,(o=c.Hh.lj(o,u)).B()?o:c.Eg.Sb(u)==1?c.Hh.Fn(o,u,0,o!=w,0):I.NQ(o,u,o!=w)},I.NQ=function(w,u,o){if(!c.cb.Wc(u))throw c.i.N();if(w.B())return w;var r=c.cb.bf(u),s=-180*r;return r*=360,c.Eg.Sb(u)==2&&(r=(s=c.cb.gh(u)).C,r-=s=s.v),c.Hh.Hp(w,s,r,u,o,0,!0)},I})()})(Q||(Q={})),(function(c){c.BY=(function(){function I(){}return I.P=function(w){return 0>w?-w:w},I.Mb=function(w,u){return 0<=u?I.P(w):-I.P(w)},I.Y=function(w,u){return w==u||I.P(w-u)<=I.JC*(1+(I.P(w)+I.P(u))/2)},I.Cd=function(w){return w==0||I.P(w)<=I.JC},I.Ah=function(w,u){var o=(u=(1-(u=Math.sqrt(1-u)))/(1+u))*u;return w/(1+u)*(1+o*(.25+o*(.015625+1/256*o)))*I.EL},I.EL=1.5707963267948966,I.JC=3552713678800501e-30,I})()})(Q||(Q={})),(function(c){var I=function(u){this.Wf=u,this.Kk=this.Wf.getCode(),0>this.Kk&&(this.Kk=0)};c.DY=I;var w=(function(){function u(o){o===void 0&&(o=null),this.Cj=null,this.Un=!1,o!==null&&(this.Cj=new I(o))}return u.prototype.Ec=function(){return this.Cj!=null?this.Cj.Kk:0},u.prototype.Of=function(){var o=new u;return this.copyTo(o),o},u.prototype.copyTo=function(o){o.Cj=this.Cj,o.Un=this.Un},u.prototype.Qz=function(){this.Un=!this.Un},u.prototype.qm=function(){return this.Cj!=null?this.Cj.Wf:null},u.prototype.LJ=function(o){if(0>=o)throw c.i.N();if(o!=this.Ec()){if((o=c.pf.geogtran(o))==null)throw c.i.N("Geogtran not found.");this.Cj=new I(o)}},u.prototype.Bz=function(){return this.Cj==null?null:this.Cj.Wf.toString()},u.prototype.tX=function(o){if(o==null)throw c.i.N();var r=null;try{r=c.pf.fromString(c.Sc.PE_TYPE_GEOGTRAN,o)}catch{throw c.i.N()}this.Cj=new I(r)},u.prototype.Nb=function(o){return o==this||!(!(o instanceof u)||(0>=this.Ec()||this.Ec()!=o.Ec())&&!this.qm().isEqual(o.qm()))&&this.Un==o.Un},u.prototype.toString=function(){var o="GeographicTransformation: "+this.Bz();return 200<o.length?o.substring(0,197)+"... ("+o.length.toString()+" characters)":o},u.create=function(o,r){var s=new u;return s.LJ(o),r&&s.Qz(),s},u.uP=function(o,r){var s=new u;return s.tX(o),r&&s.Qz(),s},u})();c.Dx=w})(Q||(Q={})),(function(c){var I=(function(){function u(){}return u.construct=function(o,r,s,l){var h=new u;return h.hw=o,h.iw=r,h.QY=s,h.RY=l,h},u.Ey=function(o,r){return o.hw==r.hw?o.iw==r.iw?0:o.iw<r.iw?-1:1:o.hw<r.hw?-1:1},u})(),w=(function(){function u(){this.yT=[],this.zT=[],this.qp()}return u.kz=function(){return u.jK==null&&(u.jK=new u),u.jK},u.prototype.qp=function(){this.iD(this.yT),this.iD(this.zT)},u.prototype.iD=function(o){try{var r=[];r=r.sort(I.Ey);for(var s=0;s<r.length;s++)o.push(r[s])}catch{}},u})();c.CY=w})(Q||(Q={})),(function(c){var I=(function(){function w(){}return w.prototype.yD=function(u){this.Fk=u},w.prototype.WM=function(u){this.Fb=u},w.prototype.xD=function(u){this.zo=u},w.CE=function(u){return!(u.B()||u.getType()!=1607&&u.getType()!=1736)},w.AE=function(u){return!(u.B()||u.getType()!=1607&&u.getType()!=1736||20>u.I())},w.BE=function(u){return!(u.B()||u.getType()!=1607&&u.getType()!=1736||20>u.I())},w})();c.Uk=I})(Q||(Q={})),(function(c){c.$b=(function(){function I(){}return I.TT=function(w){var u=new c.Da;return u.sx(w.es(),w.gs()),u.yj(w.es(),w.fs()),u.yj(w.ds(),w.fs()),u.yj(w.ds(),w.gs()),u},I.zh=function(w,u){return w===null?null:c.Hx.local().V(w,u,null)},I.jY=function(w,u){var o=c.Gh.local();return w=new c.Zc(w),o.V(w,u,null).next()},I.im=function(w,u,o){return c.kp.local().V(w,u,o,null)},I.ep=function(w,u,o){return c.Kx.local().V(w,u,o,null)},I.VX=function(w,u,o){var r=c.Kx.local();for(w=new c.Zc(w),u=new c.Zc(u),o=r.V(w,u,o,null),r=[];(u=o.next())!=null;)r.push(u);return r},I.Nb=function(w,u,o){return c.dj.local().V(3,w,u,o,null)},I.TP=function(w,u,o){return c.dj.local().V(4,w,u,o,null)},I.RS=function(w,u,o){var r=c.Xj.local();for(w=new c.Zc(w),u=new c.Zc(u),o=r.V(w,u,o,null),r=[];(u=o.next())!=null;)r.push(u);return r},I.QP=function(w,u,o){var r=c.kp.local();for(w=new c.Zc(w),u=new c.Zc(u),o=r.V(w,u,o,null),r=[];(u=o.next())!=null;)r.push(u);return r},I.Ea=function(w,u,o){return c.Xj.local().V(w,u,o,null)},I.QS=function(w,u,o){if((w=c.Xj.local().V(w,u,o,null,1))===null)return[];if(w.getType()===550){for(u=[],o=0;o<w.wa;o++)u.push(w.KR(o));return u}return w.getType()===33?[w]:[]},I.qY=function(w,u,o){return c.dj.local().V(2,w,u,o,null)},I.contains=function(w,u,o){return c.dj.local().V(1,w,u,o,null)},I.BP=function(w,u,o){return c.dj.local().V(16,w,u,o,null)},I.touches=function(w,u,o){return c.dj.local().V(8,w,u,o,null)},I.DU=function(w,u,o){return c.dj.local().V(32,w,u,o,null)},I.TS=function(w,u,o){return c.dj.local().V(1073741824,w,u,o,null)},I.yB=function(w,u,o,r){return c.zL.local().V(w,u,o,r,null)},I.tb=function(w,u,o,r){var s=null;if(o!=null){if(s=o.Hd(),r!=null&&s.Ec()!=r.Ec()&&s.od!=r.od)throw c.i.Xk()}else if(r!=null)throw c.i.N();return w=c.rL.local().V(w,u,null),s!==null&&r!==null&&(w=c.Tc.Nh(w,s,r)),w},I.clip=function(w,u,o){return c.kL.local().V(w,c.l.construct(u.es(),u.gs(),u.ds(),u.fs()),o,null)},I.dl=function(w,u,o){if(w==null||u==null)return null;for(w=c.mL.local().V(!0,w,u,o,null),u=[];(o=w.next())!=null;)o.B()||u.push(o);return u.slice(0)},I.MN=function(w,u,o,r,s,l,h,f){if(s===!0)return I.NN(w,u,o,r,l,h,f);if(s=o,u!=null){if(h=u.Hd(),r!=null&&h.Ec()!=r.Ec()){if(h.od!=r.od)throw c.i.Xk();s=[],c.Tc.XE(o,o.length,r,h,s)}}else if(r!=null)throw c.i.N();if(o=c.AC.local(),l){for(w=new c.Zc(w),u=o.V(w,u,s,l,null),w=[];(l=u.next())!=null;)w.push(l);l=w.slice(0)}else for(l=[],r=0;r<w.length;r++)l[r]=o.V(w[r],u,s[r],null);return l},I.NN=function(w,u,o,r,s,l,h){if(u===null||(r==null&&(r=u.Ec()!==4326?u.Hd():c.Tc.Zg(9001)),r.od!==0))throw c.i.N();if(c.Tc.XE(o,o.length,r,c.Tc.Zg(9001),o),r=c.FC.local(),s){for(w=new c.Zc(w),u=r.V(w,u,l,o,h,!1,s,null),o=[];(l=u.next())!=null;)o.push(l);s=o.slice(0)}else{s=[];for(var f=0;f<w.length;f++)s[f]=r.V(w[f],u,l,o[f],h,!1,null)}return s},I.buffer=function(w,u,o,r,s,l,h){var f=o;if(s===!1){if(u!=null){if(s=u.Hd(),r!=null&&s.Ec()!=r.Ec()){if(s.od!=r.od)throw c.i.Xk();f=c.Tc.Nh(o,r,s)}}else if(r!=null)throw c.i.N();w=c.AC.local().V(w,u,f,null)}else{if(u===null||(r==null&&(r=u.Ec()!==4326?u.Hd():c.Tc.Zg(9001)),r.od!==0))throw c.i.N();f=c.Tc.Nh(o,r,c.Tc.Zg(9001)),w=c.FC.local().V(w,u,l,f,h,!1,null)}return w},I.BU=function(w,u,o,r,s,l,h){if(u!=null){var f=u.Hd();if(h!=null&&f.Ec()!=h.Ec()){if(f.od!=h.od)throw c.i.Xk();o=c.Tc.Nh(o,h,f)}}else if(h!=null)throw c.i.N();for(w=new c.Zc(w),u=c.IC.local().V(w,u,o,r,s,l,null),o=[];(r=u.next())!=null;)o.push(r);return o.slice(0)},I.offset=function(w,u,o,r,s,l,h){if(u!=null){var f=u.Hd();if(h!=null&&f.Ec()!=h.Ec()){if(f.od!=h.od)throw c.i.Xk();o=c.Tc.Nh(o,h,f)}}else if(h!=null)throw c.i.N();return c.IC.local().V(w,u,o,r,s,l,null)},I.iP=function(w){return c.CC.local().V(w,null)},I.jP=function(w,u){var o=c.CC.local();for(w=new c.Zc(w),u=o.V(w,u,null),o=[];(w=u.next())!=null;)o.push(w);return o},I.nz=function(w,u,o){return c.Ix.local().nz(w,u,o)},I.oz=function(w,u){return c.Ix.local().oz(w,u)},I.pz=function(w,u,o,r){return c.Ix.local().pz(w,u,o,r)},I.eC=function(w,u){return c.Yl.local().V(w,u,!1,null)},I.dT=function(w,u){return c.Yl.local().rs(w,u,null)},I.QQ=function(w,u,o,r,s){var l=c.EC.local();if(u!=null){if(u=u.Hd(),s!=null&&u.Ec()!=s.Ec()){if(u.od!=s.od)throw c.i.Xk();o=c.Tc.Nh(o,s,u)}}else if(s!=null)throw c.i.N();return l.V(w,o,r,null)},I.Qr=function(w,u,o,r){var s=c.Xl.local();if(u!=null){if(u=u.Hd(),r!=null&&u.Ec()!=r.Ec()){if(u.od!=r.od)throw c.i.Xk();o=c.Tc.Nh(o,r,u)}}else if(r!=null)throw c.i.N();return s.V(w,o,null)},I.Wy=function(w,u,o,r,s){s===void 0&&(s=0);var l=c.tL.local();if(s==4||s!==0)throw c.i.Ie();if(r!==null){if(r.od!==0)throw c.i.N("Unit must be a linear unit type");o=c.Tc.Nh(o,r,c.Tc.Zg(9001))}return l.V(w,o,u,s,null)},I.WQ=function(w,u,o,r){if(w===null)return 0;if(r==4||r!==0)throw c.i.Ie();if(w.getType()==197)w=I.TT(w);else if(w.getType()!=1736)return 0;if(r=c.cb.sc(u),w=c.cb.zh(w,u,r),w=c.UK.XQ([w])[0],o!==null){if(o.od!==2)throw c.i.N("Unit must be a area unit type");w=c.Tc.Nh(w,c.Tc.Zg(109404),o)}return w},I.ZQ=function(w,u,o,r){if(w=c.vL.local().V(w,u,r,null),o!==null){if(o.od!==0)throw c.i.N("Unit must be a linear unit type");w=c.Tc.Nh(w,c.Tc.Zg(9001),o)}return w},I.JU=function(w,u,o){if(w===null)return 0;var r=null;if(u!=null){if((r=u.Hd()).od==0&&(r=c.Tc.aG(r))==null&&o!==null)throw c.i.N();if(o!=null&&r.Ec()!=o.Ec()&&r.od!=o.od)throw c.i.Xk()}else if(o!=null)throw c.i.N();return w.getType()==1736||w.getType()==197?(w=w.Ke(),o!==null?c.Tc.Nh(w,r,o):w):0},I.KU=function(w,u,o){if(w===null||w.B()||1>w.Db())return 0;var r=null;if(u!=null){if(r=u.Hd(),o!=null&&r.Ec()!=o.Ec()&&r.od!=o.od)throw c.i.Xk()}else if(o!=null)throw c.i.N();w.getType()==1736||w.getType()==197?u=w.mg():c.aa.yd(w.getType())?(u=new c.Ta(w.description)).oc(w,!0):u=w,w=0,u=u.Ga();for(var s=new c.h,l=new c.h;u.$a();)for(;u.Ha();){var h=u.ha();h.Yp(s),h.Tr(l),w+=c.h.tb(s,l)}return r!==null&&o!==null&&(w=c.Tc.Nh(w,r,o)),w},I.fP=function(w){return w.points!==void 0?I.mS(w,w.hasZ!==void 0&&w.hasZ,w.hasM!==void 0&&w.hasM):w.rings!==void 0?I.lG(w.rings,w.hasZ!==void 0&&w.hasZ,w.hasM!==void 0&&w.hasM,"P"):w.paths!==void 0?I.lG(w.paths,w.hasZ!==void 0&&w.hasZ,w.hasM!==void 0&&w.hasM,"L"):w.x!==void 0?I.nS(w):w.xmin!==void 0?I.lS(w):null},I.nS=function(w){if(w.x==null||w.x=="NaN")return new c.Sa;var u=new c.Sa(w.x,w.y);return w.z!==void 0&&w.z!==null&&u.wX(w.z),w.m!==void 0&&w.m!==null&&u.hX(w.m),u},I.lS=function(w){if(w.xmin==null||w.xmin=="NaN")return new c.Fh;var u=new c.Fh(w.xmin,w.ymin,w.xmax,w.ymax);return w.zmin!==void 0&&w.zmin!==null&&u.setInterval(1,0,w.zmin,w.zmax),w.mmin!==void 0&&w.mmin!==null&&u.setInterval(2,0,w.mmin,w.mmax),u},I.mS=function(w,u,o){var r=0,s=new c.de,l=3*w.points.length;l%2!=0&&l++,2>l&&(l=2);var h=c.O.truncate(3*w.points.length/2);4>h?h=4:16>h&&(h=16),l=c.Yc.Dn(l,0);var f=c.Yc.Dn(h);h=c.Yc.Dn(h);for(var p=0;p<w.points.length;p++)l.write(2*p,w.points[p][0]),l.write(2*p+1,w.points[p][1]),f.write(p,u||o?w.points[p][2]:NaN),h.write(p,o&&u?w.points[p][3]:NaN),r++;return r!=0&&(s.resize(r),s.hn(0,l)),u&&(s.re(1),s.hn(1,f)),o&&(s.re(2),s.hn(2,u==0?f:h)),s.Pc(16777215),s},I.lG=function(w,u,o,r){var s=0,l=2;if(r=="P"){var h=new c.Da;s=1,l=3}else h=new c.Ta;for(var f=c.Yc.Oh(0),p=c.Yc.Mr(0),g=0,_=0,M=[],R=[],$=0;$<w.length;$++){var P=w[$].length;if(M[$]=!1,r==="P"&&w[$][0][0]===w[$][w[$].length-1][0]&&w[$][0][1]===w[$][w[$].length-1][1]){var j=o==0||w[$][0][3]===w[$][w[$].length-1][3]||w[$][0][3]===void 0&&w[$][w[$].length-1][3]===void 0;(u==0||w[$][0][2]===w[$][w[$].length-1][2]||w[$][0][2]===void 0&&w[$][w[$].length-1][2]===void 0)&&j&&(M[$]=!0,--P)}P>=l?(R[$]=!1,_+=1,f.add(g),p.add(s),g+=P):R[$]=!0}for((r=3*g)%2!=0&&r++,2>r&&(r=2),4>($=c.O.truncate(3*g/2))?$=4:16>$&&($=16),r=c.Yc.Dn(r,0),s=c.Yc.Dn($),l=c.Yc.Dn($),$=P=0;$<w.length;$++)if(R[$]===!1)for(j=0;j<w[$].length;j++){var F=!1;j===w[$].length-1&&M[$]===!0&&(F=!0),F||(r.write(2*P,w[$][j][0]),r.write(2*P+1,w[$][j][1]),s.write(P,u||o?w[$][j][2]:NaN),l.write(P,o&&u?w[$][j][3]:NaN),P++)}return g!=0&&(w=h,f.resize(_),p.resize(_),0<g&&(f.add(g),p.add(0)),w.hn(0,r),w.PJ(p),w.QJ(f)),u&&(h.re(1),h.hn(1,s)),o&&(h.re(2),h.hn(2,u==0?s:l)),h.Pc(16777215),h},I})()})(Q||(Q={})),(function(c){c.Ex=(function(){function I(){}return I.br=function(w){var u,o=0,r=w.length,s=w[0];for(u=0;u<r-1;u++){var l=w[u+1];o+=(l[0]-s[0])*(l[1]+s[1]),s=l}return 0<=o},I.rotate=function(w,u,o){u=u*Math.PI/180;var r=Math.cos(u),s=Math.sin(u);if(w.paths!==void 0){u={paths:[]};for(var l=0;l<w.paths.length;l++){for(var h=w.paths[l],f=[],p=0;p<h.length;p++){var g=h[p].slice(0);f.push(g);var _=r*(h[p][0]-o.x)-s*(h[p][1]-o.y)+o.x,M=s*(h[p][0]-o.x)+r*(h[p][1]-o.y)+o.y;g[0]=_,g[1]=M}u.paths.push(f),w.hasZ!==void 0&&(u.hasZ=w.hasZ),w.hasM!==void 0&&(u.hasM=w.hasM)}return u}if(w.rings!==void 0){for(u={rings:[]},l=0;l<w.rings.length;l++){h=w.rings[l],f=[];var R=I.br(h);for(p=0;p<h.length;p++)g=h[p].slice(0),f.push(g),_=r*(h[p][0]-o.x)-s*(h[p][1]-o.y)+o.x,M=s*(h[p][0]-o.x)+r*(h[p][1]-o.y)+o.y,g[0]=_,g[1]=M;I.br(f)!==R&&f.reverse(),u.rings.push(f),w.hasZ!==void 0&&(u.hasZ=w.hasZ),w.hasM!==void 0&&(u.hasM=w.hasM)}return u}if(w.x!==void 0)return u={x:r*(w.x-o.x)-s*(w.y-o.y)+o.x,y:s*(w.x-o.x)+r*(w.y-o.y)+o.y},w.z!==void 0&&(u.z=w.z),w.m!==void 0&&(u.m=w.m),w.hasZ!==void 0&&(u.hasZ=w.hasZ),w.hasM!==void 0&&(u.hasM=w.hasM),u;if(w.points!==void 0){for(u={points:[]},l=w.points,p=0;p<l.length;p++)(h=l[p].slice(0))[0]=r*(l[p][0]-o.x)-s*(l[p][1]-o.y)+o.x,h[1]=s*(l[p][0]-o.x)+r*(l[p][1]-o.y)+o.y,u.points.push(h);return w.hasZ!==void 0&&(u.hasZ=w.hasZ),w.hasM!==void 0&&(u.hasM=w.hasM),u}return null},I.JQ=function(w,u){if(w.paths!==void 0){for(var o={paths:[]},r=0;r<w.paths.length;r++){for(var s=w.paths[r],l=[],h=0;h<s.length;h++){var f=s[h].slice(0);l.push(f);var p=u.x-s[h][0];f[0]=s[h][0]+2*p}o.paths.push(l)}return w.hasZ!==void 0&&(o.hasZ=w.hasZ),w.hasM!==void 0&&(o.hasM=w.hasM),o}if(w.rings!==void 0){for(o={rings:[]},r=0;r<w.rings.length;r++){s=w.rings[r];var g=I.br(s);for(l=[],h=0;h<s.length;h++)f=s[h].slice(0),l.push(f),p=u.x-s[h][0],f[0]=s[h][0]+2*p;I.br(l)!==g&&l.reverse(),o.rings.push(l)}return w.hasZ!==void 0&&(o.hasZ=w.hasZ),w.hasM!==void 0&&(o.hasM=w.hasM),o}if(w.x!==void 0)return p=u.x-w.x,o={x:w.x+2*p,y:w.y},w.z!==void 0&&(o.z=w.z),w.m!==void 0&&(o.m=w.m),w.hasZ!==void 0&&(o.hasZ=w.hasZ),w.hasM!==void 0&&(o.hasM=w.hasM),o;if(w.points!==void 0){for(o={points:[]},r=w.points,h=0;h<r.length;h++)s=r[h].slice(0),p=u.x-s[0],s[0]+=2*p,o.points.push(s);return w.hasZ!==void 0&&(o.hasZ=w.hasZ),w.hasM!==void 0&&(o.hasM=w.hasM),o}return w.xmin!==void 0?(o={v:w.xmin,G:w.ymin,C:w.xmax,H:w.ymax},w.zmin!==void 0&&(o.zmin=w.zmin,o.zmax=w.zmax),w.mmin!==void 0&&(o.mmin=w.mmin,o.mmax=w.mmax),p=u.x-w.xmin,o.xmax=w.xmin+2*p,p=u.x-w.xmax,o.xmin=w.xmax+2*p,w.zmin!==void 0&&(o.zmin=w.zmin),w.zmax!==void 0&&(o.zmax=w.zmax),w.mmin!==void 0&&(o.mmin=w.mmin),w.mmax!==void 0&&(o.mmax=w.mmax),w.hasZ!==void 0&&(o.hasZ=w.hasZ),w.hasM!==void 0&&(o.hasM=w.hasM),o):null},I.KQ=function(w,u){if(w.paths!==void 0){for(var o={paths:[]},r=0;r<w.paths.length;r++){for(var s=w.paths[r],l=[],h=0;h<s.length;h++){var f=s[h].slice(0);l.push(f);var p=u.y-s[h][1];f[1]=s[h][1]+2*p}o.paths.push(l)}return w.hasZ!==void 0&&(o.hasZ=w.hasZ),w.hasM!==void 0&&(o.hasM=w.hasM),o}if(w.rings!==void 0){for(o={rings:[]},r=0;r<w.rings.length;r++){s=w.rings[r];var g=I.br(s);for(l=[],h=0;h<s.length;h++)f=s[h].slice(0),l.push(f),p=u.y-s[h][1],f[1]=s[h][1]+2*p;I.br(l)!==g&&l.reverse(),o.rings.push(l)}return w.hasZ!==void 0&&(o.hasZ=w.hasZ),w.hasM!==void 0&&(o.hasM=w.hasM),o}if(w.x!==void 0)return p=u.y-w.y,o={y:w.y+2*p,x:w.x},w.z!==void 0&&(o.z=w.z),w.m!==void 0&&(o.m=w.m),w.hasZ!==void 0&&(o.hasZ=w.hasZ),w.hasM!==void 0&&(o.hasM=w.hasM),o;if(w.points!==void 0){for(o={points:[]},r=w.points,h=0;h<r.length;h++)s=r[h].slice(0),p=u.y-s[1],s[1]+=2*p,o.points.push(s);return w.hasZ!==void 0&&(o.hasZ=w.hasZ),w.hasM!==void 0&&(o.hasM=w.hasM),o}return w.xmin!==void 0?(o={v:w.xmin,G:w.ymin,C:w.xmax,H:w.ymax},w.zmin!==void 0&&(o.zmin=w.zmin,o.zmax=w.zmax),w.mmin!==void 0&&(o.mmin=w.mmin,o.mmax=w.mmax),p=u.y-w.ymin,o.ymax=w.ymin+2*p,p=u.y-w.ymax,o.ymin=w.ymax+2*p,w.zmin!==void 0&&(o.zmin=w.zmin),w.zmax!==void 0&&(o.zmax=w.zmax),w.mmin!==void 0&&(o.mmin=w.mmin),w.mmax!==void 0&&(o.mmax=w.mmax),w.hasZ!==void 0&&(o.hasZ=w.hasZ),w.hasM!==void 0&&(o.hasM=w.hasM),o):null},I})()})(Q||(Q={})),(function(c){c.ZK=(function(){function I(){}return I.Ig=function(w,u){switch(u==null&&(u=c.ee.og()),w){case 33:return new c.Sa(u);case 322:return new c.yb(u);case 197:return new c.Fh(u);case 550:return new c.de(u);case 1607:return new c.Ta(u);case 1736:return new c.Da(u);default:throw c.i.fa("invalid argument.")}},I})()})(Q||(Q={})),(function(c){var I=(function(){function w(u,o){this.Te=c.ia.qf(u,-1),this.ua=new c.au,this.wl=o}return w.prototype.AW=function(u){this.ua.At(Math.min(this.Te.size,u)),this.ua.fn(u)},w.prototype.addElement=function(u,o){if(o===void 0)return this.eN(u);o=c.O.truncate(o%this.Te.size);var r=this.Te.get(o);return r==-1&&(r=this.ua.Ph(),this.Te.set(o,r)),this.ua.addElement(r,u)},w.prototype.eN=function(u){var o=this.wl.jz(u);o=c.O.truncate(o%this.Te.size);var r=this.Te.get(o);return r==-1&&(r=this.ua.Ph(),this.Te.set(o,r)),this.ua.addElement(r,u)},w.prototype.jd=function(u,o){if(o===void 0)this.KP(u);else{o=c.O.truncate(o%this.Te.size);var r=this.Te.get(o);if(r==-1)throw c.i.N();for(var s=this.ua.rc(r),l=-1;s!=-1;){var h=this.ua.lb(s);this.ua.ja(s)==u?(this.ua.jd(r,l,s),this.ua.rc(r)==-1&&(this.ua.bh(r),this.Te.set(o,-1))):l=s,s=h}}},w.prototype.KP=function(u){var o=this.wl.jz(u);o=c.O.truncate(o%this.Te.size);var r=this.Te.get(o);if(r==-1)throw c.i.N();for(var s=this.ua.rc(r),l=-1;s!=-1;){var h=this.ua.lb(s);this.ua.ja(s)==u?(this.ua.jd(r,l,s),this.ua.rc(r)==-1&&(this.ua.bh(r),this.Te.set(o,-1))):l=s,s=h}},w.prototype.rR=function(u){return u=c.O.truncate(u%this.Te.size),(u=this.Te.get(u))==-1?-1:this.ua.rc(u)},w.prototype.ER=function(u){return this.ua.lb(u)},w.prototype.vd=function(u){var o=this.wl.jz(this.ja(u));o=c.O.truncate(o%this.Te.size);var r=this.Te.get(o);if(r==-1)throw c.i.N();for(var s=this.ua.rc(r),l=-1;s!=-1;){if(s==u)return this.ua.jd(r,l,s),void(this.ua.rc(r)==-1&&(this.ua.bh(r),this.Te.set(o,-1)));l=s,s=this.ua.lb(s)}throw c.i.N()},w.prototype.ja=function(u){return this.ua.ja(u)},w.prototype.clear=function(){this.Te=c.ia.qf(this.Te.size,-1),this.ua.clear()},w.prototype.size=function(){return this.ua.TF()},w})();c.dL=I})(Q||(Q={})),(function(c){var I=(function(){function w(){this.Li=new c.$c(3),this.ua=new c.$c(6),this.sT=!1,this.je=-1}return w.prototype.fl=function(u){this.Li.jd(u)},w.prototype.Pw=function(){return this.Li.Ce()},w.prototype.bv=function(u){this.ua.jd(u)},w.prototype.$A=function(){return this.ua.Ce()},w.prototype.WB=function(u,o){this.Li.S(u,1,o)},w.prototype.ex=function(u,o){this.Li.S(u,2,o)},w.prototype.gX=function(u,o){this.Li.S(u,3,o)},w.prototype.UB=function(u,o){this.ua.S(u,4,o)},w.prototype.jX=function(u,o){this.ua.S(u,3,o)},w.prototype.TJ=function(u,o){this.ua.S(u,2,o)},w.prototype.Ph=function(u){var o=this.$A();return this.ua.S(o,3,this.je),this.ua.S(o,4,0),this.ua.S(o,5,u),this.je!=-1&&this.TJ(this.je,o),this.je=o},w.prototype.bh=function(u){this.LE(u);var o=this.ua.T(u,2),r=this.ua.T(u,3);return o!=-1?this.jX(o,r):this.je=r,r!=-1&&this.TJ(r,o),this.bv(u),r},w.prototype.At=function(u){this.ua.De(u)},w.prototype.PF=function(u){return this.ua.T(u,5)},w.prototype.fX=function(u,o){this.ua.S(u,5,o)},w.prototype.addElement=function(u,o){return this.tS(u,o)},w.prototype.tS=function(u,o){var r=this.Pw();this.ex(r,-1),this.ua.T(u,0)==-1&&this.ua.S(u,0,r);var s=this.ua.T(u,1);return this.WB(r,s),s!=-1&&this.ex(s,r),this.ua.S(u,1,r),this.setData(r,o),this.UB(u,this.bs(u)+1),this.sT&&this.gX(r,u),r},w.prototype.jd=function(u,o){var r=this.we(o),s=this.lb(o);return r!=-1?this.ex(r,s):this.ua.S(u,0,s),s!=-1?this.WB(s,r):this.ua.S(u,1,r),this.fl(o),this.UB(u,this.bs(u)-1),s},w.prototype.fn=function(u){this.Li.De(u)},w.prototype.getData=function(u){return this.Li.T(u,0)},w.prototype.setData=function(u,o){this.Li.S(u,0,o)},w.prototype.lb=function(u){return this.Li.T(u,2)},w.prototype.we=function(u){return this.Li.T(u,1)},w.prototype.rc=function(u){return this.ua.T(u,0)},w.prototype.Fc=function(u){return this.ua.T(u,1)},w.prototype.clear=function(){for(var u=this.je;u!=-1;)u=this.bh(u)},w.prototype.LE=function(u){for(var o=this.Fc(u);o!=-1;){var r=o;o=this.we(r),this.fl(r)}this.ua.S(u,0,-1),this.ua.S(u,1,-1),this.UB(u,0)},w.prototype.B=function(){return this.Li.size==0},w.prototype.TF=function(){return this.Li.size},w.prototype.bs=function(u){return this.ua.T(u,4)},w.prototype.qz=function(u){return this.ua.T(u,3)},w})();c.jp=I})(Q||(Q={})),(function(c){var I=(function(){function w(u){u===void 0?(this.ug=new c.$c(2),this.ua=new c.$c(4),this.je=-1,this.Qv=!0):(this.ug=new c.$c(2),this.ua=new c.$c(u?4:2),this.je=-1,this.Qv=u)}return w.prototype.fl=function(u){this.ug.jd(u)},w.prototype.Pw=function(){return this.ug.Ce()},w.prototype.bv=function(u){this.ua.jd(u)},w.prototype.$A=function(){return this.ua.Ce()},w.prototype.Ph=function(){var u=this.$A();return this.Qv&&(this.ua.S(u,3,this.je),this.je!=-1&&this.ua.S(this.je,2,u),this.je=u),u},w.prototype.bh=function(u){for(var o=this.rc(u);o!=-1;){var r=o;o=this.lb(o),this.fl(r)}this.Qv&&(o=this.ua.T(u,2),r=this.ua.T(u,3),o!=-1?this.ua.S(o,3,r):this.je=r,r!=-1&&this.ua.S(r,2,o)),this.bv(u)},w.prototype.At=function(u){this.ua.De(u)},w.prototype.addElement=function(u,o){var r=this.ua.T(u,1),s=this.Pw();return r!=-1?this.ug.S(r,1,s):this.ua.S(u,0,s),this.ua.S(u,1,s),this.ug.S(s,0,o),s},w.prototype.fn=function(u){this.ug.De(u)},w.prototype.jd=function(u,o,r){o!=-1?(this.ug.S(o,1,this.ug.T(r,1)),this.ua.T(u,1)==r&&this.ua.S(u,1,o)):(this.ua.S(u,0,this.ug.T(r,1)),this.ua.T(u,1)==r&&this.ua.S(u,1,-1)),this.fl(r)},w.prototype.Hy=function(u,o){var r=this.ua.T(u,1),s=this.ua.T(o,0);s!=-1&&(r!=-1?this.ug.S(r,1,s):this.ua.S(u,0,s),this.ua.S(u,1,this.ua.T(o,1))),this.Qv&&(u=this.ua.T(o,2),r=this.ua.T(o,3),u!=-1?this.ua.S(u,3,r):this.je=r,r!=-1&&this.ua.S(r,2,u)),this.bv(o)},w.prototype.ja=function(u){return this.ug.T(u,0)},w.prototype.Sj=function(u,o){this.ug.S(u,0,o)},w.prototype.lb=function(u){return this.ug.T(u,1)},w.prototype.rc=function(u){return this.ua.T(u,0)},w.prototype.Jn=function(u){return this.ja(this.rc(u))},w.prototype.clear=function(){this.ug.mj(!0),this.ua.mj(!0),this.je=-1},w.prototype.B=function(){return this.ug.size==0},w.prototype.TF=function(){return this.ug.size},w.prototype.qz=function(u){return this.ua.T(u,3)},w})();c.au=I})(Q||(Q={})),(function(c){c.ta=(function(){function I(){}return I.Wd=function(w,u,o){return u=u.xr(),w=w!=null&&w.Xd!==void 0?w.Xd(0):0,o&&(u*=4,w*=1.1),Math.max(w,u)},I.Er=function(w){return 2*Math.sqrt(2)*w},I.rN=function(w){return Math.sqrt(2)*w},I.kj=function(w,u,o){var r=new c.l;return u.A(r),I.Wd(w,r,o)},I.wE=function(w,u,o){return u=u.Tg(1,0).xr(),w=w!=null?w.Xd(1):0,o&&(u*=4,w*=1.1),Math.max(w,u)},I.mv=function(w,u){var o=new c.l;return w.xc(o),w=new c.l,u.xc(w),o.Zb(w),o},I.YN=function(w){var u=new c.l;if(w.xc(u),u.B())return null;var o=new c.du(u,8),r=-1,s=new c.l,l=!1;do for(var h=0,f=w.da();h<f;h++){if(w.Rj(h,s),(r=o.Jz(h,s,r))==-1){if(l)throw c.i.fa("internal error");w.yp(u,!1),l=!0,o.reset(u,8);break}l=!1}while(l);return o},I.nE=function(w){var u=new c.l;w.xc(u);for(var o=new c.du(u,8),r=-1,s=w.Ga(),l=new c.l,h=!1;s.$a();)for(;s.Ha();){var f=s.ha(),p=s.wb();if(f.A(l),(r=o.Jz(p,l,r))==-1){if(h)throw c.i.Qa();w.yp(u,!1),h=!0,o.reset(u,8),s.Zi();break}}return o},I.jj=function(w,u){var o=new c.l;w.xc(o);for(var r=new c.du(o,8),s=-1,l=new c.l,h=w.Ga(),f=!1;h.$a();)for(;h.Ha();){var p=h.ha(),g=h.wb();if(p.A(l),l.isIntersecting(u)&&(s=r.Jz(g,l,s))==-1){if(f)throw c.i.fa("internal error.");w.yp(o,!1),f=!0,r.reset(o,8),h.Zi();break}}return r},I.oE=function(w,u){for(var o=new c.du(u,8),r=new c.h,s=!1,l=new c.l,h=0;h<w.I();h++)if(w.D(h,r),u.contains(r)&&(l.K(r),o.vj(h,l)==-1)){if(s)throw c.i.Qa();s=!0,h=new c.l,w.yp(h,!1),o.reset(h,8),h=-1}return o},I.lR=function(w,u,o){var r=new c.l,s=new c.l;w.xc(r),u.xc(s),r.W(o,o),s.W(o,o);var l=new c.l;l.K(r),l.Ea(s),w=w.Ga(),u=u.Ga();var h=new c.xC;h.aC(o);var f=!1;for(h.pK();w.$a();)for(;w.Ha();)w.ha().A(r),r.isIntersecting(l)&&(f=!0,(o=new c.l).K(r),h.JD(w.wb(),o));if(h.iF(),!f)return null;for(r=!1,h.oK();u.$a();)for(;u.Ha();)u.ha().A(s),s.isIntersecting(l)&&(r=!0,(o=new c.l).K(s),h.ED(u.wb(),o));return h.hF(),r?h:null},I.mR=function(w,u,o,r,s){var l=w.getType(),h=u.getType(),f=new c.l,p=new c.l;w.xc(f),u.xc(p),f.W(o,o),p.W(o,o);var g=new c.l;g.K(f),g.Ea(p);var _=new c.xC;_.aC(o);var M=!1;_.pK();var R=0;for(o=w.da();R<o;R++)r&&l==1736&&!w.Ev(R)||(w.Rj(R,f),f.isIntersecting(g)&&(M=!0,_.JD(R,f)));if(_.iF(),!M)return null;for(w=!1,_.oK(),r=0,o=u.da();r<o;r++)s&&h==1736&&!u.Ev(r)||(u.Rj(r,p),p.isIntersecting(g)&&(w=!0,_.ED(r,p)));return _.hF(),w?_:null},I.Ru=function(w,u,o){if(w!=u)for(var r=0;r<o;r++)w[r]==null?w[r]=c.h.al(u[r]):w[r].L(u[r])},I.Jy=function(w,u,o,r){var s=0;for(r+=0;s<r;o++,s++)w[s]==null&&(w[s]=[0,0]),w[s][0]=u[o].x,w[s][1]=u[o].y},I.Iy=function(w,u,o,r){var s=u,l=0;for(u=r+u;s<u;l++,s++)w[s]==null?w[s]=c.h.construct(o[l][0],o[l][1]):w[s].ma(o[l][0],o[l][1])},I.kP=function(w,u,o){if(w!=u)for(var r=0;r<o;r++)w[r]==null?w[r]=new c.Sa(u[r]):u[r].copyTo(w[r])},I.vE=function(w,u,o,r){var s=0;return w!=null&&(s=w.Xd(0),r&&!o||w==null||(s+=1.01*w.vz(0))),o&&(u*=4,s*=1.01),Math.max(s,u)},I.ty=function(w,u,o){return I.vE(w,u.xr(),o,!1)},I.gO=function(w,u){var o=new c.l;return u.A(o),I.ty(w,o,!0)},I.uy=function(w,u){return I.vE(w,u.xr(),!1,!0)},I.Hu=function(w,u){var o=new c.l;return u.A(o),I.uy(w,o)},I.AG=function(w,u,o,r){r*=r;var s=new c.h;if(s.uc(w,u),(w=new c.h).uc(o,u),u=s.Sk(),o=w.Sk(),u<=r&&o<=r)return!0;var l=c.lc.ox(s.wi(w));return(l<=r*u||l<=r*o)&&0<=s.Qh(w)},I.dK=function(w,u,o,r){for(var s=0;s<u;s++){var l=w[s].y,h=c.O.Rk(l,o,r);h!=l&&(w[s].y=h)}},I})()})(Q||(Q={})),(function(c){var I,w,u=(function(){function l(h){this.Ya=h}return l.prototype.compare=function(h,f,p){h=h.ja(p),p=this.Ya.nk(f);var g=this.Ya.nk(h);return p<g?-1:p==g?s.gq(f)&&s.Gv(h)?-1:s.gq(h)&&s.Gv(f)?1:0:1},l})(),o=(function(){function l(h){this.Ya=h}return l.prototype.nr=function(h,f,p){this.Ya.GX(p,h,f)},l.prototype.$p=function(h){return this.Ya.nk(h)},l})();(w=I||(I={}))[w.initialize=0]="initialize",w[w.pIn=1]="pIn",w[w.pL=2]="pL",w[w.pR=3]="pR",w[w.pT=4]="pT",w[w.right=5]="right",w[w.left=6]="left",w[w.all=7]="all";var r=(function(){function l(){this.Ya=null,this.Qi=new c.Nc,this.hi=new c.ia(0),this.sg=[0,0]}return l.prototype.Xi=function(h,f){this.Qi.oa=h.oa-f,this.Qi.va=h.va+f,this.hi.resize(0),this.he=0,this.sg[0]=0},l.prototype.EB=function(h,f,p){if(h>f)throw c.i.N();this.Qi.oa=h-p,this.Qi.va=f+p,this.hi.resize(0),this.he=0,this.sg[0]=0},l.prototype.Uo=function(h,f){this.Qi.oa=h-f,this.Qi.va=h+f,this.hi.resize(0),this.he=0,this.sg[0]=0},l.prototype.next=function(){if(!this.Ya.lq)throw c.i.Hb();if(0>this.he)return-1;for(var h=!0;h;)switch(this.sg[this.he]){case 1:h=this.FU();break;case 2:h=this.GU();break;case 3:h=this.HU();break;case 4:h=this.IU();break;case 5:h=this.GW();break;case 6:h=this.kT();break;case 7:h=this.tN();break;case 0:h=this.Gz();break;default:throw c.i.Qa()}return this.Og!=-1?this.Mp()>>1:-1},l.construct=function(h){var f=new l;return f.Ya=h,f.hi.Jb(20),f.he=-1,f},l.prototype.Gz=function(){return this.Og=this.vH=this.Mi=this.Lc=-1,this.Ya.me!=null&&0<this.Ya.me.size?(this.sg[0]=1,this.Mi=this.Ya.kf,!0):(this.he=-1,!1)},l.prototype.FU=function(){if(this.Lc=this.Mi,this.Lc==-1)return this.Og=this.he=-1,!1;var h=this.Ya.Np(this.Lc);return this.Qi.va<h?(h=this.Ya.mk(this.Lc),this.Mi=this.Ya.qj(this.Lc),h!=-1&&(this.ei=this.Ya.kl(h),this.sg[++this.he]=6),!0):h<this.Qi.oa?(h=this.Ya.mk(this.Lc),this.Mi=this.Ya.lk(this.Lc),h!=-1&&(this.ei=this.Ya.Zr(h),this.sg[++this.he]=5),!0):(this.sg[this.he]=2,this.vH=this.Lc,h=this.Ya.mk(this.Lc),this.Mi=this.Ya.qj(this.Lc),h!=-1&&(this.ei=this.Ya.kl(h),this.sg[++this.he]=7),!0)},l.prototype.GU=function(){if(this.Lc=this.Mi,this.Lc==-1)return this.sg[this.he]=3,this.Mi=this.Ya.lk(this.vH),!0;if(this.Ya.Np(this.Lc)<this.Qi.oa){var h=this.Ya.mk(this.Lc);return this.Mi=this.Ya.lk(this.Lc),h!=-1&&(this.ei=this.Ya.Zr(h),this.sg[++this.he]=5),!0}return h=this.Ya.mk(this.Lc),this.Mi=this.Ya.qj(this.Lc),h!=-1&&(this.ei=this.Ya.kl(h),this.sg[++this.he]=7),(h=this.Ya.lk(this.Lc))!=-1&&this.hi.add(h),!0},l.prototype.HU=function(){if(this.Lc=this.Mi,this.Lc==-1)return this.sg[this.he]=4,!0;if(this.Qi.va<this.Ya.Np(this.Lc)){var h=this.Ya.mk(this.Lc);return this.Mi=this.Ya.qj(this.Lc),h!=-1&&(this.ei=this.Ya.kl(h),this.sg[++this.he]=6),!0}return h=this.Ya.mk(this.Lc),this.Mi=this.Ya.lk(this.Lc),h!=-1&&(this.ei=this.Ya.kl(h),this.sg[++this.he]=7),(h=this.Ya.qj(this.Lc))!=-1&&this.hi.add(h),!0},l.prototype.IU=function(){if(this.hi.size==0)return this.Og=this.he=-1,!1;this.Lc=this.hi.get(this.hi.size-1),this.hi.resize(this.hi.size-1);var h=this.Ya.mk(this.Lc);return h!=-1&&(this.ei=this.Ya.kl(h),this.sg[++this.he]=7),this.Ya.qj(this.Lc)!=-1&&this.hi.add(this.Ya.qj(this.Lc)),this.Ya.lk(this.Lc)!=-1&&this.hi.add(this.Ya.lk(this.Lc)),!0},l.prototype.kT=function(){return this.Og=this.ei,this.Og!=-1&&s.gq(this.Mp())&&this.Ya.nk(this.Mp())<=this.Qi.va?(this.ei=this.SF(),!1):(this.he--,!0)},l.prototype.GW=function(){return this.Og=this.ei,this.Og!=-1&&s.Gv(this.Mp())&&this.Ya.nk(this.Mp())>=this.Qi.oa?(this.ei=this.QR(),!1):(this.he--,!0)},l.prototype.tN=function(){return this.Og=this.ei,this.Og!=-1&&s.gq(this.Mp())?(this.ei=this.SF(),!1):(this.he--,!0)},l.prototype.SF=function(){return this.Ya.Sf?this.Ya.$f.lb(this.Og):this.Ya.Ti.lb(this.Og)},l.prototype.QR=function(){return this.Ya.Sf?this.Ya.$f.we(this.Og):this.Ya.Ti.we(this.Og)},l.prototype.Mp=function(){return this.Ya.Sf?this.Ya.$f.ja(this.Og):this.Ya.Ti.getData(this.Og)},l})();c.EY=r;var s=(function(){function l(h){this.Am=this.$h=this.$f=this.Ti=this.Km=this.Ej=this.me=this.Fj=null,this.Sf=h,this.lq=this.Sv=!1}return l.prototype.kr=function(){this.Nk(!0)},l.prototype.Br=function(h,f){if(!this.Sv)throw c.i.Hb();this.Fj.push(new c.Nc(h,f))},l.prototype.Fp=function(){if(!this.Sv)throw c.i.fa("invalid call");this.Sv=!1,this.lq=!0,this.Sf||(this.vS(),this.Zv=this.Fj.length)},l.prototype.vj=function(h){if(!this.Sf||!this.lq)throw c.i.N("invalid call");if(this.kf==-1){var f=this.Fj.length;if(this.iA){var p=new c.ia(0);p.Jb(2*f),this.bJ(p),this.$h.Jb(2*f),this.$h.resize(0),this.aJ(p),this.Km.resize(f,-1),this.Km.Wj(-1,0,f),this.iA=!1}else this.Km.Wj(-1,0,f);this.kf=this.Tu()}f=this.pG(h<<1,this.kf),p=this.$f.addElement(1+(h<<1),this.xz(f)),this.VJ(f,p),this.Km.set(h,f),this.Zv++},l.prototype.remove=function(h){if(!this.Sf||!this.lq)throw c.i.fa("invalid call");var f=this.Km.get(h);if(f==-1)throw c.i.N("the interval does not exist in the interval tree");this.Km.set(h,-1),this.Zv--;var p=this.xz(f),g=this.$f.ZR(p);this.$f.vd(this.wR(f),p),this.$f.vd(this.TR(f),p),(h=this.$f.size(p))==0&&(this.$f.MP(p),this.ZJ(g,-1)),this.Ej.jd(f),p=this.UF(g);var _=this.qj(g),M=this.lk(g);for(f=0;!(0<h||g==this.kf||_!=-1&&M!=-1);)g==this.qj(p)?_!=-1?(this.Ok(p,_),this.Uj(_,p),this.Ok(g,-1)):M!=-1?(this.Ok(p,M),this.Uj(M,p),this.Qk(g,-1)):this.Ok(p,-1):_!=-1?(this.Qk(p,_),this.Uj(_,p),this.Ok(g,-1)):M!=-1?(this.Qk(p,M),this.Uj(M,p),this.Qk(g,-1)):this.Qk(p,-1),this.Uj(g,-1),f++,g=p,h=(p=this.mk(g))!=-1?this.$f.size(p):0,_=this.qj(g),M=this.lk(g),p=this.UF(g)},l.prototype.reset=function(){if(!this.Sf||!this.lq)throw c.i.N("invalid call");this.Nk(!1)},l.prototype.size=function(){return this.Zv},l.prototype.getIterator=function(){return r.construct(this)},l.prototype.bJ=function(h){for(var f=this.Fj.length,p=0;p<2*f;p++)h.add(p);this.HX(h,2*f)},l.prototype.aJ=function(h){for(var f=NaN,p=0;p<h.size;p++){var g=h.get(p),_=this.nk(g);_!=f&&(this.$h.add(g),f=_)}},l.prototype.vS=function(){var h=this.Fj.length,f=new c.ia(0);f.Jb(2*h),this.bJ(f),this.$h.Jb(2*h),this.$h.resize(0),this.aJ(f),this.Ej.De(h),this.Ti.fn(2*h);var p=c.Yc.Oh(h);for(p.Wj(-1,0,h),this.kf=this.Tu(),h=0;h<f.size;h++){var g=f.get(h),_=p.get(g>>1);_!=-1?this.VJ(_,this.Ti.addElement(this.xz(_),g)):(_=this.pG(g,this.kf),p.set(g>>1,_))}},l.prototype.pG=function(h,f){var p=f,g=f,_=-1,M=0,R=this.$h.size-1,$=0,P=h>>1,j=NaN,F=NaN,V=!0,W=this.DR(P);for(P=this.AR(P);V;){M<R?($=M+c.O.truncate((R-M)/2),this.gz(p)==-1&&this.FJ(p,this.$h.get($),this.$h.get($+1))):this.gz(p)==-1&&this.FJ(p,this.$h.get(M),this.$h.get(M));var q=this.Np(p);if(P<q)f!=-1&&(f==p?(g=p,j=q,F=(f=this.qj(p))!=-1?this.Np(f):NaN):F>q&&(q<j?this.Ok(g,p):this.Qk(g,p),this.Qk(p,f),this.Sf&&(this.Uj(p,g),this.Uj(f,p)),g=p,j=q,f=-1,F=NaN)),(R=this.xR(p))==-1&&(R=this.Tu(),this.dX(p,R)),p=R,R=$;else if(W>q)f!=-1&&(f==p?(g=p,j=q,F=(f=this.lk(p))!=-1?this.Np(f):NaN):F<q&&(q<j?this.Ok(g,p):this.Qk(g,p),this.Ok(p,f),this.Sf&&(this.Uj(p,g),this.Uj(f,p)),g=p,j=q,f=-1,F=NaN)),(M=this.UR(p))==-1&&(M=this.Tu(),this.oX(p,M)),p=M,M=$+1;else{(V=this.mk(p))==-1&&(V=this.zP(p),this.ZJ(p,V));var J=this.fN(V,h);_=this.xP(),this.qX(_,V),this.cX(_,J),p!=f&&(q<j?this.Ok(g,p):this.Qk(g,p),this.Sf&&this.Uj(p,g),f!=-1&&(F<q?this.Ok(p,f):this.Qk(p,f),this.Sf&&this.Uj(f,p))),V=!1}}return _},l.prototype.Tu=function(){return this.me.Ce()},l.prototype.zP=function(h){return this.Sf?this.$f.Pr(h):this.Ti.Ph(h)},l.prototype.xP=function(){return this.Ej.Ce()},l.prototype.Nk=function(h){h?(this.Sv=this.iA=!0,this.lq=!1,this.$h==null?this.$h=c.Yc.Oh(0):this.$h.resize(0),this.Fj==null?this.Fj=[]:this.Fj.length=0):this.iA=!1,this.Sf?this.Km==null?(this.Km=c.Yc.Oh(0),this.$f=new c.Yj,this.$f.Vo(new u(this))):this.$f.clear():this.Ti==null?this.Ti=new c.jp:this.Ti.clear(),this.me==null?(this.Ej=new c.$c(3),this.me=new c.$c(this.Sf?8:7)):(this.Ej.mj(!1),this.me.mj(!1)),this.kf=-1,this.Zv=0},l.prototype.FJ=function(h,f,p){this.XW(h,f),this.YW(h,p)},l.prototype.Np=function(h){var f=this.gz(h);return f==-1?NaN:(f=this.nk(f))==(h=this.nk(this.gR(h)))?f:.5*(f+h)},l.prototype.XW=function(h,f){this.me.S(h,0,f)},l.prototype.YW=function(h,f){this.me.S(h,1,f)},l.prototype.dX=function(h,f){this.me.S(h,3,f)},l.prototype.oX=function(h,f){this.me.S(h,4,f)},l.prototype.ZJ=function(h,f){this.me.S(h,2,f)},l.prototype.Ok=function(h,f){this.me.S(h,5,f)},l.prototype.Qk=function(h,f){this.me.S(h,6,f)},l.prototype.Uj=function(h,f){this.me.S(h,7,f)},l.prototype.qX=function(h,f){this.Ej.S(h,0,f)},l.prototype.fN=function(h,f){return this.Sf?this.$f.addElement(f,h):this.Ti.addElement(h,f)},l.prototype.cX=function(h,f){this.Ej.S(h,1,f)},l.prototype.VJ=function(h,f){this.Ej.S(h,2,f)},l.prototype.kl=function(h){return this.Sf?this.$f.rc(h):this.Ti.rc(h)},l.prototype.Zr=function(h){return this.Sf?this.$f.Fc(h):this.Ti.Fc(h)},l.gq=function(h){return!(1&h)},l.Gv=function(h){return!(1&~h)},l.prototype.gz=function(h){return this.me.T(h,0)},l.prototype.gR=function(h){return this.me.T(h,1)},l.prototype.mk=function(h){return this.me.T(h,2)},l.prototype.xR=function(h){return this.me.T(h,3)},l.prototype.UR=function(h){return this.me.T(h,4)},l.prototype.qj=function(h){return this.me.T(h,5)},l.prototype.lk=function(h){return this.me.T(h,6)},l.prototype.UF=function(h){return this.me.T(h,7)},l.prototype.xz=function(h){return this.Ej.T(h,0)},l.prototype.wR=function(h){return this.Ej.T(h,1)},l.prototype.TR=function(h){return this.Ej.T(h,2)},l.prototype.DR=function(h){return this.Fj[h].oa},l.prototype.AR=function(h){return this.Fj[h].va},l.prototype.HX=function(h,f){this.Am==null&&(this.Am=new c.Xt);var p=new o(this);this.Am.sort(h,0,f,p)},l.prototype.GX=function(h,f,p){var g=this;h.Vd(f,p,(function(_,M){var R=g.nk(_),$=g.nk(M);return R<$||R==$&&l.gq(_)&&l.Gv(M)?-1:1}))},l.prototype.nk=function(h){var f=this.Fj[h>>1];return l.gq(h)?f.oa:f.va},l})();c.sr=s})(Q||(Q={})),(function(c){var I=(function(){function w(u){if(u==null)throw c.i.fa("Invalid arguement");this.hf=u;var o=u.nR();o.hS()?u.ef.IG()?this.lo=c.si.PannableFold:this.lo=c.si.Clip:this.lo=c.si.DontClip,o.iS()?u.Yf.IG()?this.Qm=c.si.PannableFold:this.Qm=c.si.Clip:this.Qm=c.si.DontClip,this.Bm=o.Jr,this.mH=o.Vu,u=this.hf.sH,this.aH=u.hs(2147483648),this.Uv=u.hs(1073741824)}return w.zh=function(u,o,r){return o.ww.zh(u,r)},w.Rt=function(u,o,r,s){return u.ww.Rt(o,r,s)},w.Qt=function(u,o,r,s){if(r=0>r?o.length:r,(u=u.ww.Rt(o,r,s))==r)return u;for(var l=o=0;l<r;l++){var h=s[l];h.isNaN()||(o<l&&s[o].L(h),o++)}for(;o<r;o++)s[o].Rc();return u},w.transform=function(u,o,r,s,l){if(u.isIdentity())return c.ta.kP(s,o,r),r;for(var h=[],f=0,p=0;p<r;){for(var g=Math.min(h.length,r-p),_=p,M=0;_<g;_++,M++)h[M]==null?h[M]=o[_].D():o[_].D(h[M]);var R=l?w.Qt(u,h,g,h):w.Rt(u,h,g,h);for(M=_=0;_<R;_++,M++)s[p]==null&&(s[p]=new c.Sa(o[p])),s[p].Cb(h[M]);p+=g,f+=R}return f},w.prototype.Rt=function(u,o,r){if(this.hf.isIdentity())return u!=r&&c.ta.Ru(r,u,o),o;var s=this.hf.ef,l=this.hf.Yf,h=s.Sb(),f=l.Sb();if(h==0&&h===f){var p=s.Qp();return l=p/(l=l.Qp()),(p=new c.Dd).setScale(l,l),p.eY(u,o,r),o}if(p=c.O.Fu(Math.min(o,64)),h==3){var g=s.Ji;h=(s=g.fk()).Sb(),r!=u&&c.ta.Ru(r,u,o),c.zb.$k(g,r,o,!0),g.Qt(c.bm.forward,r,o),c.zb.Zk(g,r,o,!0)}if(h==3||f===3)throw c.i.fa("image: transform_in_place_");if(h==2)this.lo==c.si.Clip?(r!=u&&c.ta.Ru(r,u,o),u=s.ml(),c.zb.OS(u,s,r,o)):(r!=u&&c.ta.Ru(r,u,o),s.Wc()&&(h=s.Xd(0),g=s.Oe(),c.zb.EX(r,o,g,h),c.zb.qF(r,o,s,0))),c.zb.IL(s,r,o,p);else for(h=s.Xd(0),g=s.Oe(),s=0;s<o;s++)c.zb.FX(u[s],g,h,r[s]);for(c.zb.GL(this.hf,r,o,p),u=0,(f=f==2)?u=l.zi():isNaN(this.Bm)||(u=this.Bm),f&&this.Qm!=c.si.Clip||c.zb.qF(r,o,l.sc(),u),f&&(c.zb.yG(r,o,l,this.Qm),c.zb.HL(l,r,o,p)),u=o,s=0;s<o;++s)r[s].isNaN()&&u--;return u},w.prototype.zh=function(u,o){if(this.hf.isIdentity()||u.B())return u;if(u.getType()==33)return this.XI(u);var r=this.hf.ef,s=this.hf.Yf,l=r.Sb(),h=s.Sb();if(l==0&&l==h)return o=r.Qp(),o/=s=s.Qp(),(s=new c.Dd).setScale(o,o),(u=c.aa.jg(u)).Oc(s),u;switch(u.getType()){case 1607:case 1736:u=this.VI(u,o);break;case 550:u=this.fW(u,o);break;case 197:u=this.eW(u,o);break;default:throw c.i.fa("")}return u},w.prototype.XI=function(u){var o=u.D(),r=[];return r[0]=o,this.Rt(r,1,r),(u=new c.Sa(u)).Cb(r[0]),u},w.prototype.VI=function(u,o){if(u.tm())throw c.i.fa("curves not supported");var r=u.getType();if(r==1736)return this.gW(u,o);if(r==1607)return this.hW(u,o);throw c.i.fa("projectMultiPath")},w.prototype.gW=function(u,o){var r=this.hf.ef,s=this.hf.Yf,l=r.Sb(),h=s.Sb(),f=c.O.Fu(Math.min(u.I(),64)),p=c.Da.jg(u);l==3&&(l=(r=(u=r.Ji).fk()).Sb(),p=u.$k(p,!0),this.wp(u,c.bm.forward,p),p=u.Zk(p,!0)),u=null,h==3&&(h=(s=(u=s.Ji).fk()).Sb());var g=l==2,_=h==2,M=_?s.sc():s,R=!_&&!this.Uv;h=!1;var $=p;if(g){if(($=c.zb.UI($,r,this.lo,o)).B())return $}else{if(p=new c.l,$.xc(p),l=r.Oe(),p.G<l.G||p.H>l.H){var P=c.l.construct(p.v-1,l.G,p.C+1,l.H);if(($=c.ri.Nu($,P,r,NaN,0,o)).B())return $}p.R()>2*l.R()&&($=c.zb.Hp($,-2*l.R(),2*l.R(),r,!0,0,!0,o))}p=this.mH,(l=!isNaN(p))&&($=c.Xl.local().V($,p,o)),P=_?s.kk():null;var j=NaN;g&&(j=r.zi());var F=s.Wr()!=null;if(this.aH)g&&(c.zb.ur(r,j,$,f),l&&(g=r.hh(),p*=(j=r.sc().hh())/g)),c.zb.tr(this.hf,$,R,f),l&&(g=r.sc().hh(),p*=(j=s.sc().hh())/g),r=$;else{var V=new c.Ta($.description);V.DD($),g&&(c.zb.ur(r,j,V,f),l&&(g=r.hh(),p*=(j=r.sc().hh())/g)),c.zb.tr(this.hf,V,R,f),l&&(g=r.sc().pm(),p*=(j=s.sc().pm())/g),R=NaN,_?(P=s.kk(),R=s.zi()):isNaN(this.Bm)||(R=this.Bm),g=w.tv(r)|w.tv(s),j=10*M.Xd(0),this.Uv&&(g=3,j=0),r=c.zb.UQ($,r,V,M,R,o,g,j)}return F&&(r=c.zb.XD(r,s,o)),_&&(h||(_=M.Oe().R(),r.Tg(0,0).R()>=_-M.Xd(0)&&(M=P.getNorthPoleLocation(),_=P.getSouthPoleLocation(),$=P.getNorthPoleGeometry(),P=P.getSouthPoleGeometry(),R=0,$==c.Cg.PE_POLE_POINT&&M!=c.Cg.PE_POLE_OUTSIDE_BOUNDARY&&(R=1),P==c.Cg.PE_POLE_POINT&&_!=c.Cg.PE_POLE_OUTSIDE_BOUNDARY&&(R|=2),R!==0&&(h=!0))),r=c.zb.Mz(r,s,this.Qm,o),l&&(r=c.Xl.local().V(r,p,o)),c.zb.Lx(s,r,f)),r.B()||(h&&(r=c.Yl.local().V(r,s,!1,o)),u!=null&&(r=u.Zk(r,!1),this.wp(u,c.bm.reverse,r),r=u.$k(r,!1))),r},w.tv=function(u){if(u.Sb()!=2)return 0;var o=0,r=u.kk();u=r.getNorthPoleLocation();var s=r.getSouthPoleLocation(),l=r.getNorthPoleGeometry();return r=r.getSouthPoleGeometry(),l==c.Cg.PE_POLE_POINT&&u!=c.Cg.PE_POLE_OUTSIDE_BOUNDARY&&(o=1),r==c.Cg.PE_POLE_POINT&&s!=c.Cg.PE_POLE_OUTSIDE_BOUNDARY&&(o|=2),o},w.prototype.hW=function(u,o){var r=this.hf.ef,s=this.hf.Yf,l=r.Sb(),h=s.Sb(),f=c.O.Fu(Math.min(u.I(),64)),p=c.Ta.jg(u);l==3&&(l=(r=(u=r.Ji).fk()).Sb(),p=u.$k(p,!0),this.wp(u,c.bm.forward,p),p=u.Zk(p,!0)),u=null,h==3&&(h=(s=(u=s.Ji).fk()).Sb());var g=l==2;l=(h=h==2)?s.sc():s;var _=!h&&!this.Uv;if(g){if((p=c.zb.UI(p,r,this.lo,o)).B())return p}else{var M=new c.l;p.xc(M);var R=r.Oe();if((M.G<R.G||M.H>R.H)&&(M=c.l.construct(M.v-1,R.G,M.C+1,R.H),(p=c.ri.Nu(p,M,r,NaN,0,o)).B()))return p}var $=NaN;g&&($=r.zi()),M=s.Wr()!=null,R=this.mH;var P=!isNaN(R);if(P&&(p=c.Xl.local().V(p,R,o)),this.aH)g&&c.zb.ur(r,$,p,f),P&&(g=r.hh(),R*=($=r.sc().hh())/g),c.zb.tr(this.hf,p,_,f),P&&(g=r.sc().hh(),R*=($=s.sc().hh())/g),r=p;else{var j=new c.Ta(p.description);j.DD(p),g&&(c.zb.ur(r,$,j,f),P&&(g=r.hh(),R*=($=r.sc().hh())/g)),c.zb.tr(this.hf,j,_,f),P&&(g=r.sc().hh(),R*=($=s.sc().hh())/g),_=NaN,h?_=s.zi():isNaN(this.Bm)||(_=this.Bm),g=w.tv(r)|w.tv(s),$=10*l.Xd(0),this.Uv&&(g=3,$=0),r=c.zb.VQ(p,r,j,l,_,o,g,$)}return M&&(r=c.zb.XD(r,s,o)),h&&(r=c.zb.Mz(r,s,this.Qm,o),P&&(r=c.Xl.local().V(r,R,o)),c.zb.Lx(s,r,f)),r.B()||u!=null&&(r=u.Zk(r,!1),this.wp(u,c.bm.reverse,r),r=u.$k(r,!1)),r},w.prototype.eW=function(u,o){var r=(u.ca()+u.R())/400;return r!=0?(r=c.Xl.local().V(u,r,o),r=this.VI(r,o),o=u.Ia(),r.bn(o)):(o=new c.Sa(u.Ip()),r=this.XI(o),o=u.Ia(),r.B()?o.Oa():(u.copyTo(o),u=r.D(),o.K(u.x,u.y,u.x,u.y))),o},w.prototype.fW=function(u,o){u=c.aa.jg(u);var r=this.hf.ef,s=this.hf.Yf,l=r.Sb(),h=s.Sb(),f=c.O.Fu(Math.min(u.I(),64));if(l==3){var p=r.Ji;l=(r=p.fk()).Sb(),u=p.Zk(u,!0),this.wp(p,c.bm.forward,u),u=p.$k(u,!0)}if(l==2){if(this.lo==c.si.Clip?u=c.Xj.local().V(u,r.ml(),r,o):r.Wc()&&(l=new c.l,u.xc(l),r.Oe().contains(l)||(this.lo==c.si.PannableFold&&(u=c.zb.lj(u,r)),c.zb.Jt(u,r.Oe(),r.Xd(0),!0),u=c.zb.Fn(u,r,0,!0,0,o))),u.B())return u;c.zb.ur(r,0,u,f)}else c.zb.Jt(u,r.Oe(),r.Xd(0),!0);return c.zb.tr(this.hf,u,!1,f),r=0,l=!1,p=null,h==3&&(l=!0,h=(s=(p=s.Ji).fk()).Sb()),(h=h==2)?r=s.zi():isNaN(this.Bm)||(r=this.Bm),h&&this.Qm!=c.si.Clip||(u=c.zb.Fn(u,s.sc(),r,!1,0,o)),h&&(u=c.zb.Mz(u,s,this.Qm,o),c.zb.Lx(s,u,f),u.B())||l&&(u=p.Zk(u,!0),this.wp(p,c.bm.reverse,u),u=p.$k(u,!0)),u},w.prototype.wp=function(u,o,r){var s=r.I();if(s!=0){for(var l=r.ub(0),h=c.O.lg(200,0),f=[],p=0;p<s;){var g=Math.min(100,s-p);l.Vw(2*p,2*g,h,2,!0);for(var _=0;_<g;++_)f[_]=c.h.construct(h[2*p],h[2*p+1]);u.Qt(o,f,g),p+=g}r.Pc(1993)}},w.Uy=function(u,o,r){if(u==null||o==null||!o.Wc())throw c.i.fa("Invalid Arguement");if(u.B())return u;var s=u.getType();return s==197?(s=new c.Da(u.description)).ad(u,!1):c.aa.yd(s)?(s=new c.Ta(u.description)).oc(u,!0):s=u,(s=c.zb.lj(s,o)).B()?s:c.zb.Fn(s,o,0,s!=u,0,r)},w.nj=function(u,o,r,s){if(u==null||o==null||!o.Wc())throw c.i.fa("Invalid Arguement");if(u.B())return u;var l=u.getType();if(c.aa.Hc(l)){u=c.zb.lj(u,o),l=new c.l,u.A(l);for(var h=c.ta.ty(o,l,!1),f=o.gh(),p=Math.floor((l.v-f.v)/f.R())*f.R()+f.v;p<l.C;)p>l.v+h&&p<l.C-h&&(u=c.zb.uS(u,o,r,p)),p+=f.R()}else{if(l==197)return(l=new c.Da(u.description)).ad(u,!1),w.nj(l,o,r,s);if(c.aa.yd(l))return(l=new c.Ta(u.description)).oc(u,!0),w.nj(l,o,r,s)}return w.Uy(u,o,s)},w})();c.bu=I})(Q||(Q={})),(function(c){var I=(function(w){function u(o,r,s,l){var h=w.call(this)||this;return o===void 0?h.description=c.ee.og():s===void 0?h.description=o:(h.description=c.ee.og(),h.ZB(o,r),h.Ql(s,l)),h}return Me(u,w),u.prototype.getType=function(){return 322},u.prototype.Qb=function(){var o=this.sa-this.pa,r=this.na-this.la;return Math.sqrt(o*o+r*r)},u.prototype.Bi=function(o){var r=this.sa-this.pa,s=this.na-this.la;return Math.sqrt(r*r+s*s)<=o},u.prototype.Pn=function(){return!1},u.prototype.kg=function(){var o=new c.h;return o.uc(this.wc(),this.ac()),o},u.cP=function(o,r){return new u(o.x,o.y,r.x,r.y)},u.prototype.bn=function(o){o.Oa(),o.Nf(this.description);var r=new c.l;this.A(r),o.Xo(r),r=1;for(var s=this.description.Aa;r<s;r++)for(var l=this.description.kd(r),h=c.ra.Va(l);r<h;r++){var f=this.Tg(l,0);o.setInterval(l,0,f)}},u.prototype.A=function(o){o.K(this.sa,this.na,this.pa,this.la),o.normalize()},u.prototype.Qo=function(o){o.Oa(),o.Zb(this.sa,this.na,this.Od(0,1,0)),o.Zb(this.pa,this.la,this.Od(1,1,0))},u.prototype.Oc=function(o){if(o instanceof c.Dd){this.vc();var r=new c.h;r.x=this.sa,r.y=this.na,o.Eh(r,r),this.sa=r.x,this.na=r.y,r.x=this.pa,r.y=this.la,o.Eh(r,r),this.pa=r.x,this.la=r.y}else this.vc(),(r=new c.Nd).x=this.sa,r.y=this.na,r.z=this.Od(0,1,0),r=o.fp(r),this.sa=r.x,this.na=r.y,this.tn(0,1,0,r.z),r.x=this.pa,r.y=this.la,r.z=this.Od(1,1,0),r=o.fp(r),this.pa=r.x,this.la=r.y,this.tn(1,1,0,r.z)},u.prototype.Ia=function(){return new u(this.description)},u.prototype.Tx=function(o,r){return(this.pa-o-(this.sa-o))*(this.la-r+(this.na-r))*.5},u.prototype.vx=function(o){return o*this.Qb()},u.prototype.NG=function(o){return o/this.Qb()},u.prototype.DF=function(o){return c.lc.hq(this.sa,this.pa,o)},u.prototype.fR=function(o){return c.lc.hq(this.na,this.la,o)},u.prototype.dl=function(o,r){var s=new c.ig;return this.ah(o,r,s),s.get()},u.prototype.ah=function(o,r,s){if(s==null)throw c.i.N();s.Or(),(s=s.get()).Nf(this.description);var l=new c.h;this.hc(o,l),s.ZB(l.x,l.y),this.hc(r,l),s.Ql(l.x,l.y),l=1;for(var h=this.description.Aa;l<h;l++)for(var f=this.description.Ed(l),p=c.ra.Va(f),g=0;g<p;g++){var _=this.Uc(o,f,g);s.YB(f,g,_),_=this.Uc(r,f,g),s.OB(f,g,_)}},u.prototype.Uc=function(o,r,s){if(r==0)return s==0?this.hc(o).x:this.hc(o).y;switch(c.ra.lz(r)){case 0:return .5>o?this.wv(r,s):this.gv(r,s);case 1:var l=this.wv(r,s);return r=this.gv(r,s),c.lc.hq(l,r,o);case 2:throw c.i.fa("not implemented")}throw c.i.Qa()},u.prototype.fe=function(o,r){var s=this.pa-this.sa,l=this.la-this.na,h=s*s+l*l;return h==0?.5:(o=((o.x-this.sa)*s+(o.y-this.na)*l)/h,r||(0>o?o=0:1<o&&(o=1)),o)},u.prototype.cq=function(o,r,s,l){if(o){if((o=this.la-this.na)==0)return r==this.la?-1:0;if(0>(r=(r-this.na)/o)||1<r)return 0;s!=null&&(s[0]=this.DF(r))}else{if((o=this.pa-this.sa)==0)return r==this.pa?-1:0;if(0>(r=(r-this.sa)/o)||1<r)return 0;s!=null&&(s[0]=this.fR(r))}return l!=null&&(l[0]=r),1},u.prototype.Pe=function(o,r){var s=this.la-this.na;return s==0?o==this.la?r:NaN:(o=(o-this.na)/s,r=this.DF(o),o==1&&(r=this.pa),r)},u.prototype.ru=function(o,r,s){return 0<=this.rp(o.x,o.y,r,s)},u.prototype.vi=function(o,r,s){return 0<=this.rp(o,r,s,!0)},u.prototype.qs=function(o,r){return this.ru(o,r,!1)},u.prototype.rI=function(){if(this.la<this.na||this.la==this.na&&this.pa<this.sa){var o=this.sa;this.sa=this.pa,this.pa=o,o=this.na,this.na=this.la,this.la=o,o=0;for(var r=this.description.Oq-2;o<r;o++){var s=this.ka[o];this.ka[o]=this.ka[o+r],this.ka[o+r]=s}}},u.prototype.uu=function(o,r){(r=c.h.construct(o,r)).sub(this.ac());var s=new c.h;return s.uc(this.wc(),this.ac()),(o=s.wi(r))>(r=8881784197001252e-31*(Math.abs(s.x*r.y)+Math.abs(s.y*r.x)))?-1:o<-r?1:0},u.prototype.rp=function(o,r,s,l){var h=this.sa,f=this.na,p=o-h,g=r-f;if((p=Math.sqrt(p*p+g*g))<=Math.max(s,6661338147750939e-31*p))return l&&p==0?NaN:0;if(p=o-this.pa,g=r-this.la,(p=Math.sqrt(p*p+g*g))<=Math.max(s,6661338147750939e-31*p))return l&&p==0?NaN:1;if(p=this.pa-this.sa,g=this.la-this.na,0<(l=Math.sqrt(p*p+g*g))){var _=1/l,M=o-h,R=r-f,$=M*(p*=_)+R*(g*=_),P=17763568394002505e-31*(Math.abs(M*p)+Math.abs(R*g)),j=p;if(p=-g,g=j,$<-(P=Math.max(s,P))||$>l+P)return NaN;if(Math.abs(M*p+R*g)<=Math.max(s,17763568394002505e-31*(Math.abs(M*p)+Math.abs(R*g)))&&(.5>=(p=c.O.Rk($*_,0,1))?(g=this.sa+(this.pa-this.sa)*p,l=this.na+(this.la-this.na)*p):(g=this.pa-(this.pa-this.sa)*(1-p),l=this.la-(this.la-this.na)*(1-p)),c.h.Oy(g,l,o,r)<=s)){if(.5>p){if(c.h.Oy(g,l,h,f)<=s)return 0}else if(c.h.Oy(g,l,this.pa,this.la)<=s)return 1;return p}}return NaN},u.prototype.Nb=function(o){return o!=null&&(o==this||o.constructor===this.constructor&&this.FM(o))},u.prototype.rD=function(o,r,s){var l=s?this.sa:this.pa;s=s?this.na:this.la;var h=new c.h;return h.x=o.pa-l,h.y=o.la-s,!(r.Qh(h)>6661338147750939e-31*r.fD(h))||(h.x=o.sa-l,h.y=o.na-s,r.Qh(h)<=6661338147750939e-31*r.fD(h))},u.prototype.qD=function(o){var r=new c.h;return r.x=this.pa-this.sa,r.y=this.la-this.na,!!this.rD(o,r,!1)&&(r.Sq(),!!this.rD(o,r,!0))},u.NM=function(o,r){var s=o.uu(r.sa,r.na),l=o.uu(r.pa,r.la);return!(0>s&&0>l||0<s&&0<l)&&(s=r.uu(o.sa,o.na),l=r.uu(o.pa,o.la),!(0>s&&0>l||0<s&&0<l)&&((s=o.Qb())>(l=r.Qb())?o.qD(r):r.qD(o)))},u.LM=function(o,r,s){var l=c.h.construct(NaN,NaN),h=o.pa-o.sa,f=o.la-o.na,p=r.pa-r.sa,g=r.la-r.na,_=p*f-h*g;if(_==0)return l;var M=8881784197001252e-31*(Math.abs(p*f)+Math.abs(h*g)),R=r.sa-o.sa,$=r.na-o.na,P=p*$-R*g,j=P/_,F=Math.abs(_);return j<-(p=(8881784197001252e-31*(Math.abs(p*$)+Math.abs(R*g))*F+M*Math.abs(P))/(_*_)+2220446049250313e-31*Math.abs(j))||j>1+p||(p=(g=h*$-R*f)/_)<-(h=(8881784197001252e-31*(Math.abs(h*$)+Math.abs(R*f))*F+M*Math.abs(g))/(_*_)+2220446049250313e-31*Math.abs(p))||p>1+h||(j=c.O.Rk(j,0,1),h=c.O.Rk(p,0,1),f=o.hc(j),_=r.hc(h),(M=new c.h).uc(f,_),M.length()>s&&(M.add(f,_),M.scale(.5),j=o.fe(M,!1),h=r.fe(M,!1),o=o.hc(j),r=r.hc(h),o.sub(r),o.length()>s)||l.ma(j,h)),l},u.OM=function(o,r,s,l){var h=0;if((o.sa==r.sa&&o.na==r.na||o.sa==r.pa&&o.na==r.la)&&(h++,!l))return 1;if(o.pa==r.sa&&o.la==r.na||o.pa==r.pa&&o.la==r.la){if(++h==2)return 2;if(!l)return 1}return r.vi(o.sa,o.na,s)||r.vi(o.pa,o.la,s)||o.vi(r.sa,r.na,s)||o.vi(r.pa,r.la,s)?1:l&&h!=0||u.NM(o,r)==0?0:1},u.Zx=function(o,r,s,l,h,f){var p=0,g=o.rp(r.sa,r.na,f,!1),_=o.rp(r.pa,r.la,f,!1),M=r.rp(o.sa,o.na,f,!1),R=r.rp(o.pa,o.la,f,!1);return isNaN(g)||(l!=null&&(l[p]=g),h!=null&&(h[p]=0),s!=null&&(s[p]=c.h.construct(r.sa,r.na)),p++),isNaN(_)||(l!=null&&(l[p]=_),h!=null&&(h[p]=1),s!=null&&(s[p]=c.h.construct(r.pa,r.la)),p++),p==2||isNaN(M)||g==0&&M==0||_==0&&M==1||(l!=null&&(l[p]=0),h!=null&&(h[p]=M),s!=null&&(s[p]=c.h.construct(o.sa,o.na)),p++),p==2||isNaN(R)||g==1&&R==0||_==1&&R==1||(l!=null&&(l[p]=1),h!=null&&(h[p]=R),s!=null&&(s[p]=c.h.construct(r.pa,r.la)),p++),0<p?(p==2&&l!=null&&l[0]>l[1]&&(o=l[0],l[0]=l[1],l[1]=o,h!=null&&(l=h[0],h[0]=h[1],h[1]=l),s!=null&&(h=c.h.construct(s[0].x,s[0].y),s[0]=s[1],s[1]=h)),p):(p=u.LM(o,r,f),isNaN(p.x)?0:(s!=null&&(s[0]=o.hc(p.x)),l!=null&&(l[0]=p.x),h!=null&&(h[0]=p.y),1))},u.prototype.eG=function(){return 0},u.prototype.op=function(){},u.prototype.toString=function(){return"Line: ["+this.sa.toString()+", "+this.na.toString()+", "+this.pa.toString()+", "+this.la.toString()+"]"},u})(c.SC);c.yb=I})(Q||(Q={})),(function(c){var I=(function(){function w(){this.Jm=[],this.ya=-1}return w.prototype.La=function(){return this.ya},w.prototype.next=function(){if(this.Jm!=null&&this.Jm.length!=0){this.ya++;var u=this.Jm[0];return this.Jm=1>=this.Jm.length?[]:this.Jm.slice(1),u}return this.Jm=null},w.prototype.ZX=function(u){this.Jm.push(u)},w.prototype.qe=function(){},w})();c.gL=I})(Q||(Q={})),(function(c){var I;(I=c.SL||(c.SL={}))[I.enumFillRuleOddEven=0]="enumFillRuleOddEven",I[I.enumFillRuleWinding=1]="enumFillRuleWinding";var w=(function(u){function o(r,s){var l=u.call(this)||this;if(l.xf=!1,l.Eq=null,l.sq=0,l.rq=0,l.Aj=null,l.Mg=!1,l.nb=null,l.mb=null,l.Ve=null,l.Lj=null,l.Sd=null,l.tq=0,l.gb=0,l.xq=0,s===void 0)l.xf=r,l.Mg=!1,l.tq=0,l.sq=0,l.rq=0,l.wa=0,l.description=c.ee.og();else{if(s==null)throw c.i.N();l.xf=r,l.Mg=!1,l.tq=0,l.sq=0,l.rq=0,l.wa=0,l.description=s}return l.Aj=null,l.gb=0,l}return Me(o,u),o.prototype.tm=function(){return 0<this.tq},o.prototype.Yx=function(){this.vc(),this.Eq==null?this.Eq=new c.Sa(this.description):this.Eq.Nf(this.description)},o.prototype.sx=function(r,s){var l=new c.h;l.x=r,l.y=s,this.Lt(l)},o.prototype.Lt=function(r){this.Yx(),this.Eq.Cb(r),this.Mg=!0},o.prototype.nf=function(r){if(r.B())throw c.i.N();this.Jl(r.description),this.Yx(),r.copyTo(this.Eq),this.Mg=!0},o.prototype.Sx=function(){var r=1;this.Mg&&(this.Yx(),this.nb==null?(this.nb=c.Yc.Oh(2),this.nb.write(0,0),this.mb=c.Yc.Mr(2,0)):(this.nb.resize(this.nb.size+1,0),this.mb.resize(this.mb.size+1,0)),this.xf&&this.mb.write(this.mb.size-2,1),r++);var s=this.wa;this.nb.write(this.nb.size-1,this.wa+r),this.dm(s+r),this.mb.write(this.nb.size-1,0),this.Mg&&(this.Ht(s,this.Eq),this.Mg=!1)},o.prototype.yj=function(r,s){this.Sx(),this.Cb(this.wa-1,r,s)},o.prototype.Ci=function(r){this.Sx(),this.Cb(this.wa-1,r)},o.prototype.lineTo=function(r){this.Sx(),this.Ht(this.wa-1,r)},o.prototype.CU=function(r){if(this.vc(),this.xf)throw c.i.Qa();var s=this.da();if(r>s)throw c.i.Qa();if(this.dc(r)){if(this.mb==null)throw c.i.Qa();var l=this.wa,h=this.Ba(r),f=this.Vc(r);this.dm(this.wa+1),this.mc();for(var p=0,g=this.description.Aa;p<g;p++)if(this.za[p]!=null){var _=c.ra.Va(this.description.Ed(p));this.za[p].Mn(_*f,this.za[p],_*h,_,!0,1,_*l)}for(;s>r;s--)l=this.nb.read(s),this.nb.write(s,l+1);this.mb.KE(r,1)}},o.prototype.Ap=function(){if(this.wx(),r===void 0){this.Mg=!1;var r=this.da()-1}var s=this.mb.read(r);this.mb.write(r,1|s),this.Ve!=null&&(r=this.Vc(r)-1,this.Ve.write(r,1),this.Lj.write(r,-1))},o.prototype.dc=function(r){return!!(1&this.mb.read(r))},o.prototype.Nn=function(r){if(this.dc(r))return!0;var s=this.Ba(r);return!(s>(r=this.Vc(r)-1))&&(s=this.Na(s),r=this.Na(r),s.qb(r))},o.prototype.yv=function(r){return!!(2&this.mb.read(r))},o.prototype.oc=function(r,s){if(this.Jl(r.description),r.getType()!=322)throw c.i.Qa();var l=new c.Sa;(s||this.B())&&(r.To(l),this.nf(l)),r.Po(l),this.lineTo(l)},o.prototype.tp=function(r){var s=this.wa==0;this.sx(r.v,r.G),this.yj(r.v,r.H),this.yj(r.C,r.H),this.yj(r.C,r.G),this.Ap(),this.Mg=!1,s&&this.Lf(256,!1)},o.prototype.ad=function(r,s){if(!r.B()){for(var l=this.wa==0,h=new c.Sa(this.description),f=0;4>f;f++)r.Hf(s?4-f-1:f,h),f==0?this.nf(h):this.lineTo(h);this.Ap(),this.Mg=!1,l&&!s&&this.Lf(256,!1)}},o.prototype.add=function(r,s){for(var l=0;l<r.da();l++)this.addPath(r,l,!s)},o.prototype.addPath=function(r,s,l){this.vf(-1,r,s,l)},o.prototype.Yk=function(r,s){this.Hz(r,s)},o.prototype.Dr=function(r,s,l,h,f){if(f||this.da()!=0||(f=!0),0>s&&(s=r.da()-1),s>=r.da()||0>l||0>h||h>r.rv(s))throw c.i.fa("index out of bounds");if(h!=0){var p=r.dc(s)&&l+h==r.rv(s);if(!p||h!=1){if(this.Mg=!1,this.Jl(r.description),l=r.Ba(s)+l+1,f&&(h++,l--),p&&h--,p=this.wa,this.dm(this.wa+h),this.mc(),f){if(h==0)return;this.nb.add(this.wa),f=r.mb.read(s),f&=-5,this.xf&&(f|=1),this.mb.write(this.mb.size-1,f),this.mb.add(0)}else this.nb.write(this.mb.size-1,this.wa);f=0;for(var g=this.description.Aa;f<g;f++){var _=this.description.kd(f),M=c.ra.Va(_),R=r.description.Pf(_);0>R||r.za[R]==null?this.za[f].Ln(M*p,c.ra.se(_),h*M,M*p):this.za[f].Mn(M*p,r.za[R],M*l,h*M,!0,M,M*p)}if(this.tm()||r.yv(s))throw c.i.Qa();this.Pc(1993)}}},o.prototype.oJ=function(){for(var r=0,s=this.da();r<s;r++)this.FW(r)},o.prototype.FW=function(r){if(this.mc(),r>=this.da())throw c.i.N();var s=this.Ba(r),l=this.Ja(r);r=this.dc(r)?1:0;for(var h=0,f=this.description.Aa;h<f;h++)if(this.za[h]!=null){var p=c.ra.Va(this.description.Ed(h));this.za[h].ni(p*(s+r),p*(l-r),p)}this.Pc(1993)},o.prototype.Zq=function(r){this.mc();var s=this.da();if(0>r&&(r=s-1),r>=s)throw c.i.N();for(var l=this.Ba(r),h=this.Ja(r),f=0,p=this.description.Aa;f<p;f++)if(this.za[f]!=null){var g=c.ra.Va(this.description.Ed(f));this.za[f].En(g*l,g*h,g*this.wa)}for(l=r+1;l<=s;l++)f=this.nb.read(l),this.nb.write(l-1,f-h);if(this.mb==null)for(l=r+1;l<=s;l++)r=this.mb.read(l),this.mb.write(l-1,r);this.nb.resize(s),this.mb.resize(s),this.wa-=h,this.Pg-=h,this.Pc(1993)},o.prototype.vf=function(r,s,l,h){if(s==this||l>=s.da())throw c.i.N();var f=this.da();if(r>f)throw c.i.N();0>r&&(r=f),0>l&&(l=s.da()-1),this.Mg=!1,this.Jl(s.description),s.mc();var p=s.Ba(l),g=s.Ja(l),_=this.wa,M=s.dc(l)&&!h?1:0;this.dm(this.wa+g),this.mc();for(var R=r<f?this.Ba(r):_,$=0,P=this.description.Aa;$<P;$++){var j=this.description.Ed($),F=s.description.Pf(j),V=c.ra.Va(j);0<=F&&s.za[F]!=null?(M!=0&&this.za[$].Mn(R*V,s.za[F],V*p,V,!0,V,V*_),this.za[$].Mn((R+M)*V,s.za[F],V*(p+M),V*(g-M),h,V,V*(_+M))):this.za[$].Ln(R*V,c.ra.se(j),V*g,V*_)}for(this.nb.add(_+g),h=f;h>=r+1;h--)p=this.nb.read(h-1),this.nb.write(h,p+g);for(s.yv(l),this.mb.add(0),h=f-1;h>=r+1;h--)f=this.mb.read(h),f&=-5,this.mb.write(h+1,f);f=s.JR().read(l),f&=-5,this.xf&&(f|=1),this.mb.write(r,f)},o.prototype.Hz=function(r,s){var l=-1,h=this.da();if(l>h)throw c.i.N();0>l&&(l=h),this.Mg=!1;var f=this.wa;this.dm(this.wa+s),this.mc();var p=l<h?this.Ba(l):f;if(r!=null)this.za[0].Iz(2*p,r,0,s,!0,2*f);else{var g=c.ra.se(0);this.za[0].Ln(2*p,g,2*s,2*f)}r=1;for(var _=this.description.Aa;r<_;r++){g=this.description.kd(r);var M=c.ra.Va(g);g=c.ra.se(g),this.za[r].Ln(p*M,g,M*s,M*f)}for(this.nb.add(this.wa),f=h;f>=l+1;f--)p=this.nb.read(f-1),this.nb.write(f,p+s);for(this.mb.add(0),f=h-1;f>=l+1;f--)s=this.mb.read(f),s&=-5,this.mb.write(f+1,s);this.xf&&this.mb.write(l,1)},o.prototype.qG=function(r,s,l){var h=-1;if(0>r&&(r=this.da()),r>this.da()||h>this.Ja(r)||l>s.length)throw c.i.fa("index out of bounds");if(l!=0){r==this.da()&&(this.nb.add(this.wa),this.xf?this.mb.add(1):this.mb.add(0)),0>h&&(h=this.Ja(r)),this.mc();var f=this.wa;this.dm(this.wa+l),this.mc();for(var p=0,g=this.description.Aa;p<g;p++){var _=this.description.Ed(p),M=c.ra.Va(_);this.za[p].Ut(M*(this.Ba(r)+h+l),(f-this.Ba(r)-h)*M,this.za[p],M*(this.Ba(r)+h),!0,M),p==0?this.za[p].vC(M*(this.Ba(r)+h),l,s,0,!0):this.za[p].Wj(c.ra.se(_),(this.Ba(r)+h)*M,l*M)}for(this.tm()&&(this.Ve.Ut(this.Ba(r)+h+l,f-this.Ba(r)-h,this.Ve,this.Ba(r)+h,!0,1),this.Lj.Ut(this.Ba(r)+h+l,f-this.Ba(r)-h,this.Lj,this.Ba(r)+h,!0,1),this.Ve.Wj(1,this.Ba(r)+h,l),this.Lj.Wj(-1,this.Ba(r)+h,l)),r+=1,s=this.da();r<=s;r++)this.nb.write(r,this.nb.read(r)+l)}},o.prototype.wf=function(r,s,l){var h=this.da();if(0>r&&(r=this.da()),r>=h||s>this.Ja(r))throw c.i.fa("index out of bounds");r==this.da()&&(this.nb.add(this.wa),this.xf?this.mb.add(1):this.mb.add(0)),0>s&&(s=this.Ja(r));var f=this.wa;this.dm(this.wa+1),this.mc();var p=this.Ba(r);this.za[0].vj(2*(p+s),l,2*f),l=1;for(var g=this.description.Aa;l<g;l++){var _=this.description.Ed(l),M=c.ra.Va(_);this.za[l].Ln(M*(p+s),c.ra.se(_),M,M*f)}for(r+=1;r<=h;r++)this.nb.write(r,this.nb.read(r)+1)},o.prototype.DB=function(r,s){var l=this.da();if(0>r&&(r=l-1),r>=l||s>=this.Ja(r))throw c.i.fa("index out of bounds");this.mc();var h=this.Ba(r);0>s&&(s=this.Ja(r)-1),s=h+s,h=0;for(var f=this.description.Aa;h<f;h++)if(this.za[h]!=null){var p=c.ra.Va(this.description.Ed(h));this.za[h].En(p*s,p,p*this.wa)}for(;l>=r+1;l--)s=this.nb.read(l),this.nb.write(l,s-1);this.wa--,this.Pg--,this.Pc(1993)},o.prototype.uE=function(r,s,l){var h=this.Ba(r)+s;if((l=this.Ba(l)+void 0)<h||0>h||l>this.I()-1)throw c.i.N();s=0,(r=this.Ga()).Vb(h);do{for(;r.Ha()&&(h=r.ha(),r.wb()!=l);)s+=h=h.Qb();if(r.wb()==l)break}while(r.$a());return s},o.prototype.fO=function(r,s,l){if(s=this.Ba(r)+s,l=this.Ba(r)+l,0>s||l>this.I()-1)throw c.i.N();var h=this.Ga();if(s>l){if(!this.dc(r))throw c.i.N("cannot iterate across an open path");h.JB()}var f=r=0;h.Vb(s);do f+=r,r=h.ha().Qb();while(h.wb()!=l);return f},o.prototype.mg=function(){return c.pi.gm(this,null)},o.prototype.KS=function(r,s,l){for(var h=r;h<l-1;h++)if(this.dc(h))throw c.i.N("cannot interpolate across closed paths");if((h=this.description.Aa)!=1){var f=this.uE(r,s,l);if(f!=0)for(var p=1;p<h;p++){var g=this.description.kd(p);if(c.ra.lz(g)!=2)for(var _=c.ra.Va(g),M=0;M<_;M++)this.MS(g,r,s,l,f,M)}}},o.prototype.JS=function(r,s,l){var h=this.description.Aa;if(h!=1){var f=this.fO(r,s,l);if(f!=0)for(var p=1;p<h;p++){var g=this.description.kd(p);if(c.ra.lz(g)!=2)for(var _=c.ra.Va(g),M=0;M<_;M++)this.LS(g,r,s,l,f,M)}}},o.prototype.MS=function(r,s,l,h,f,p){var g=this.Ga(),_=this.Ba(s)+l;h=this.Ba(h)+void 0,s=this.Uc(r,_,p),l=this.Uc(r,h,p);var M=s,R=0;g.Vb(_);do if(g.Ha()){if(g.ha(),g.wb()==h)break;this.setAttribute(r,g.wb(),p,M),g.li();do{if(_=g.ha(),g.ik()==h)return;R+=_=_.Qb(),M=c.lc.hq(s,l,R/f),g.On()||this.setAttribute(r,g.ik(),p,M)}while(g.Ha())}while(g.$a())},o.prototype.LS=function(r,s,l,h,f,p){var g=this.Ga(),_=this.Ba(s)+l;if((s=this.Ba(s)+h)!=_){h=this.Uc(r,_,p),l=this.Uc(r,s,p);var M=0;g.Vb(_),g.JB(),_=h;do{var R=g.ha();this.setAttribute(r,g.wb(),p,_),M+=_=R.Qb(),_=c.lc.hq(h,l,M/f)}while(g.ik()!=s)}},o.prototype.Oa=function(){this.tq=0,this.Mg=!1,this.Sd=this.Ve=this.Lj=this.mb=this.nb=null,this.wD()},o.prototype.Oc=function(r){r instanceof c.Dd?this.YD(r,-1):this.wN(r)},o.prototype.YD=function(r,s){if(!this.B()&&!r.isIdentity()){this.mc();var l=this.za[0],h=new c.h,f=new c.h;if(0>s){var p=this.tm(),g=0;s=this.wa}else p=this.yv(s),g=this.Ba(s),s=this.Vc(s);for(;g<s;g++){if(h.x=l.read(2*g),h.y=l.read(2*g+1),p){var _=this.Lj.read(g);if(0<=_)switch(7&this.Ve.read(g)){case 2:f.x=this.Sd.read(_),f.y=this.Sd.read(_+1),r.Eh(f,f),this.Sd.write(_,f.x),this.Sd.write(_+1,f.y),f.x=this.Sd.read(_+3),f.y=this.Sd.read(_+4),r.Eh(f,f),this.Sd.write(_+3,f.x),this.Sd.write(_+4,f.y);break;case 4:throw c.i.Qa()}}r.Eh(h,h),l.write(2*g,h.x),l.write(2*g+1,h.y)}this.Pc(1993)}},o.prototype.wN=function(r){if(!this.B()){this.re(1),this.mc();for(var s=this.za[0],l=this.za[1],h=new c.Nd,f=new c.Nd,p=this.tm(),g=0;g<this.wa;g++){if(h.x=s.read(2*g),h.y=s.read(2*g+1),h.z=l.read(g),p){var _=this.Lj.read(g);if(0<=_)switch(7&this.Ve.read(g)){case 2:f.x=this.Sd.read(_),f.y=this.Sd.read(_+1),f.z=this.Sd.read(_+2),f=r.fp(f),this.Sd.write(_,f.x),this.Sd.write(_+1,f.y),this.Sd.write(_+1,f.z),f.x=this.Sd.read(_+3),f.y=this.Sd.read(_+4),f.z=this.Sd.read(_+5),f=r.fp(f),this.Sd.write(_+3,f.x),this.Sd.write(_+4,f.y),this.Sd.write(_+5,f.z);break;case 4:throw c.i.Qa()}}h=r.fp(h),s.write(2*g,h.x),s.write(2*g+1,h.y),l.write(g,h.z)}this.Pc(1993)}},o.prototype.iy=function(){this.nb==null&&(this.nb=c.Yc.Oh(1,0),this.mb=c.Yc.Mr(1,0)),this.Ve!=null&&(this.Ve.resize(this.Pg,1),this.Lj.resize(this.Pg,-1))},o.prototype.op=function(r){r.Mg=!1,r.tq=this.tq,r.xq=this.xq,r.nb=this.nb!=null?c.ia.Bn(this.nb):null,r.mb=this.mb!=null?c.pn.Bn(this.mb):null,r.Lj=this.Lj!=null?c.ia.Bn(this.Lj):null,r.Ve=this.Ve!=null?c.pn.Bn(this.Ve):null,r.Sd=this.Sd!=null?c.be.Bn(this.Sd):null,r.sq=this.sq,r.rq=this.rq,r.Aj=this.ak(1024)?null:this.Aj},o.prototype.Qb=function(){if(!this.ak(512))return this.sq;for(var r=this.Ga(),s=new c.Fx(0);r.$a();)for(;r.Ha();)s.add(r.ha().Qb());return this.sq=s.rm(),this.Lf(512,!1),s.rm()},o.prototype.Nb=function(r){if(r==this)return!0;if(!(r instanceof o&&u.prototype.Nb.call(this,r)))return!1;var s=this.da();return!(s!=r.da()||this.nb!=null&&!this.nb.Nb(r.nb,0,s+1)||this.xq!=r.xq||this.mb!=null&&!this.mb.Nb(r.mb,0,s))&&u.prototype.Nb.call(this,r)},o.prototype.Ga=function(){return new c.YL(this)},o.prototype.hy=function(r){if(u.prototype.hy.call(this,r),this.tm())for(r=this.Ga();r.$a();)r.Ha()},o.prototype.yp=function(r,s){if(u.prototype.yp.call(this,r,s),this.tm())for(r=this.Ga();r.$a();)r.Ha()},o.prototype.$x=function(){this.wa=this.nb==null||this.nb.size==0?0:this.nb.read(this.nb.size-1)},o.prototype.Ke=function(){return this.xf?(this.xu(),this.rq):0},o.prototype.Ev=function(r){return!!this.xf&&(this.ak(8)?(this.xu(),0<this.Aj.read(r)):!!(4&this.mb.read(r)))},o.prototype.Ir=function(r){return this.xf?(this.xu(),this.Aj.read(r)):0},o.prototype.xu=function(){if(this.ak(1024)){var r=this.da();this.Aj==null?this.Aj=new c.be(r):this.Aj.size!=r&&this.Aj.resize(r),r=new c.Fx(0);for(var s=new c.Fx(0),l=new c.h,h=0,f=this.Ga();f.$a();){for(s.reset(),this.D(this.Ba(f.gb),l);f.Ha();)s.add(f.ha().Tx(l.x,l.y));r.add(s.rm());var p=h++;this.Aj.write(p,s.rm())}this.rq=r.rm(),this.Lf(1024,!1)}},o.prototype.FR=function(){if(this.xf){this.fm();for(var r=this.da(),s=0;s<r;s++)4&this.mb.read(s)}},o.prototype.fm=function(){if(this.ak(8)){this.xu();var r=this.da();(this.mb==null||this.mb.size<r)&&(this.mb=c.Yc.Mr(r+1));for(var s=1,l=0;l<r;l++){var h=this.Aj.read(l);l==0&&(s=0<h?1:-1),0<h*s?this.mb.zJ(l,4):this.mb.KE(l,4)}this.Lf(8,!1)}},o.prototype.sz=function(r){var s=this.gb,l=this.da();if(0<=s&&s<l){if(r<this.Vc(s)){if(r>=this.Ba(s))return s;s--}else s++;if(0<=s&&s<l&&r>=this.Ba(s)&&r<this.Vc(s))return this.gb=s}if(5>l){for(s=0;s<l;s++)if(r<this.Vc(s))return this.gb=s;throw c.i.fa("corrupted geometry")}for(s=0,--l;l>s;){var h=s+(l-s>>1);if(r<this.Ba(h))l=h-1;else{if(!(r>=(s=this.Vc(h))))return this.gb=h;s=h+1}}return this.gb=s},o.prototype.yz=function(){var r=this.I();if(!this.xf){r-=this.da();for(var s=0,l=this.da();s<l;s++)this.dc(s)&&r++}return r},o.prototype.rv=function(r){var s=this.Ja(r);return this.dc(r)||s--,s},o.prototype.Ia=function(){return new o(this.xf,this.description)},o.prototype.Db=function(){return this.xf?2:1},o.prototype.getType=function(){return this.xf?1736:1607},o.prototype.QJ=function(r){this.nb=r,this.Pc(16777215)},o.prototype.VR=function(){return this.wx(),this.Ve},o.prototype.JR=function(){return this.wx(),this.mb},o.prototype.PJ=function(r){this.mb=r,this.Pc(16777215)},o.prototype.da=function(){return this.nb!=null?this.nb.size-1:0},o.prototype.Vc=function(r){return this.nb.read(r+1)},o.prototype.Ja=function(r){return this.nb.read(r+1)-this.nb.read(r)},o.prototype.Ba=function(r){return this.nb.read(r)},o.prototype.lu=function(r,s){this.Bb==null&&(this.Bb=new c.Uk),s=c.Nx.pW(s);var l=this.Bb.Fk;if(l!=null){if(!(l.Ik<r||s>l.RR()))return!0;this.Bb.yD(null)}return l=c.Nx.create(this,r,s),this.Bb.yD(l),!0},o.prototype.cc=function(){var r=u.prototype.cc.call(this);if(!this.Ac()){var s=this.da();this.nb!=null&&this.nb.An(r,0,s+1),this.mb!=null&&this.mb.An(r,0,s)}return r},o.prototype.ZF=function(r){return this.Ve!=null?this.Ve.read(r):1},o.prototype.bc=function(r,s,l){var h=this.sz(r);if(r==this.Vc(h)-1&&!this.dc(h))throw c.i.fa("index out of bounds");this.mc();var f=this.Ve,p=1;if(f!=null&&(p=7&f.read(r)),p!==1)throw c.i.Qa();if(s.Or(),s=s.get(),l?s.Nf(c.ee.og()):s.Nf(this.description),h=r==this.Vc(h)-1&&this.dc(h)?this.Ba(h):r+1,f=new c.h,this.D(r,f),s.Dc(f),this.D(h,f),s.Qc(f),!l)for(l=1,f=this.description.Aa;l<f;l++){p=this.description.Ed(l);for(var g=c.ra.Va(p),_=0;_<g;_++){var M=this.Uc(p,r,_);s.YB(p,_,M),M=this.Uc(p,h,_),s.OB(p,_,M)}}},o.prototype.Rj=function(r,s){if(r>=this.da())throw c.i.N();if(this.B())s.Oa();else{if(this.yv(r))throw c.i.fa("not implemented");var l=this.ub(0),h=new c.h,f=new c.l;f.Oa();var p=this.Ba(r);for(r=this.Vc(r);p<r;p++)l.tc(2*p,h),f.Zb(h);s.K(f)}},o.prototype.fj=function(r){return this.Bb==null&&(this.Bb=new c.Uk),!(r==0||16>this.I())&&(r=c.ta.nE(this),this.Bb.WM(r),!0)},o.prototype.hM=function(){if(this.Bb==null&&(this.Bb=new c.Uk),this.Bb.zo==null){this.Bb.xD(null);var r=c.ta.YN(this);this.Bb.xD(r)}},o.prototype.Yo=function(r){this.xq=r},o.prototype.In=function(){return this.xq},o.prototype.DD=function(r){if(this==r)throw c.i.fa("MultiPathImpl.add");for(var s=this.da(),l=0;l<r.da();l++)this.addPath(r,l,!0),this.CU(s),s++},o.prototype.kO=function(r){var s=this.sz(r),l=this.Ba(s);if(l!=r){if(r>=(s=this.Vc(s))||r<l)throw c.i.fa("change_ring_start_point");for(var h=0,f=this.description.Aa;h<f;h++){var p=this.description.kd(h);p=c.ra.Va(p),this.za[h].rotate(l*p,r*p,s*p)}}},o})(c.Gx);c.Vk=w})(Q||(Q={})),(function(c){var I=(function(w){function u(o){var r=w.call(this)||this;if(o!==void 0){if(o==null)throw c.i.N();r.description=o}else r.description=c.ee.og();return r.wa=0,r}return Me(u,w),u.prototype.Ia=function(){return new u(this.description)},u.prototype.add=function(o){this.resize(this.wa+1),this.Dh(this.wa-1,o)},u.prototype.Bu=function(o,r){this.resize(this.wa+1);var s=new c.h;s.ma(o,r),this.Cb(this.wa-1,s)},u.prototype.Fd=function(o,r,s){if(s=0>s?o.I():s,0>r||r>o.I()||s<r)throw c.i.N();if(r!=s){this.Jl(o.description),s-=r;var l=this.wa;this.resize(this.wa+s),this.mc();for(var h=0,f=o.description.Aa;h<f;h++){var p=o.description.Ed(h),g=c.ra.Va(p),_=this.ub(p);p=o.ub(p),_.Mn(l*g,p,r*g,s*g,!0,1,l*g)}}},u.prototype.HD=function(o,r){var s=o.length;if(r=0>r?s:r,0>s||0>r)throw c.i.N();if(r!=0){s=r-0,r=this.wa,this.resize(this.wa+s);for(var l=0;l<s;l++)this.Cb(r+l,o[0+l])}},u.prototype.DB=function(o){if(0>o||o>=this.I())throw c.i.fa("index out of bounds");this.mc();for(var r=0,s=this.description.Aa;r<s;r++)if(this.za[r]!=null){var l=c.ra.Va(this.description.Ed(r));this.za[r].En(l*o,l,l*this.wa)}this.wa--,this.Pg--,this.Pc(1993)},u.prototype.resize=function(o){this.dm(o)},u.prototype.op=function(){},u.prototype.Oa=function(){w.prototype.wD.call(this)},u.prototype.Oc=function(o){if(o instanceof c.Dd){if(this.B())return;this.mc();for(var r=this.za[0],s=new c.h,l=0;l<this.wa;l++)s.x=r.read(2*l),s.y=r.read(2*l+1),o.Eh(s,s),r.write(2*l,s.x),r.write(2*l+1,s.y)}else{if(this.B())return;this.mc(),this.re(1),this.mc(),r=this.za[0],s=this.za[1];var h=new c.Nd;for(l=0;l<this.wa;l++){h.x=r.read(2*l),h.y=r.read(2*l+1),h.z=s.read(l);var f=o.fp(h);r.write(2*l,f.x),r.write(2*l+1,f.y),s.write(l,f.z)}}this.Pc(1993)},u.prototype.Db=function(){return 0},u.prototype.getType=function(){return 550},u.prototype.Ke=function(){return 0},u.prototype.Qb=function(){return 0},u.prototype.Nb=function(o){return o==this||o instanceof u&&w.prototype.Nb.call(this,o)},u.prototype.lW=function(o,r){var s=this.wa;if(s=Math.min(s,r+1e3),0>r||r>=this.wa||s<r||o.length!=1e3)throw c.i.N();var l=s-r,h=[];for(this.ub(0).Vw(2*r,2*l,h,0,!0),r=0;r<l;r++)o[r]=c.h.construct(h[2*r],h[2*r+1]);return s},u.prototype.$x=function(){},u.prototype.iy=function(){},u.prototype.lu=function(){return!1},u.prototype.fj=function(){return!1},u.prototype.mg=function(){return null},u})(c.Gx);c.de=I})(Q||(Q={})),(function(c){var I;(I=c.iL||(c.iL={}))[I.NotDetermined=0]="NotDetermined",I[I.Structure=1]="Structure",I[I.DegenerateSegments=2]="DegenerateSegments",I[I.Clustering=3]="Clustering",I[I.Cracking=4]="Cracking",I[I.CrossOver=5]="CrossOver",I[I.RingOrientation=6]="RingOrientation",I[I.RingOrder=7]="RingOrder",I[I.OGCPolylineSelfTangency=8]="OGCPolylineSelfTangency",I[I.OGCPolygonSelfTangency=9]="OGCPolygonSelfTangency",I[I.OGCDisconnectedInterior=10]="OGCDisconnectedInterior";var w=(function(){function u(o,r,s){o===void 0?(this.Jj=0,this.Ko=this.Jo=-1):(this.Jj=o,this.Jo=r,this.Ko=s)}return u.prototype.Wt=function(o){this.Jj=o.Jj,this.Jo=o.Jo,this.Ko=o.Ko},u})();c.Md=w})(Q||(Q={})),(function(c){c.O=(function(){function I(){}return I.assert=function(w){if(w===!1)throw c.i.GK()},I.bK=function(w){return isNaN(w)?NaN:w===0?w:0<w?1:-1},I.Fu=function(w){var u;u===void 0&&(u=0);for(var o=[],r=0;r<w;r++)o[r]=I.lg(2,u);return o},I.lg=function(w,u){u===void 0&&(u=0);for(var o=[],r=0;r<w;r++)o[r]=u;return o},I.$u=function(w,u){var o,r;for(o===void 0&&(o=0),r===void 0&&(r=w.length-1);o<=r;o++)w[o]=u},I.Rk=function(w,u,o){return w<u?u:w>o?o:w},I.Th=function(w,u){var o=5381;return((o=((o=((o=u!==void 0?(u<<5)+u+(255&w):(o<<5)+o+(255&w))<<5)+o+(w>>8&255))<<5)+o+(w>>16&255))<<5)+o+(w>>24&255)&2147483647},I.uj=function(){throw Error("Not Implemented")},I.bB=function(w){return I.aU(w)+12345&2147483647},I.XG=function(w){var u=32,o=w%I.Qx|0,r=w/I.Qx|0;return(u&=63)==0?w:(32>u?(w=o>>>u|r<<32-u,u=r>>u):(w=r>>u-32,u=0<=r?0:-1),u*I.Qx+(w>>>0))},I.aU=function(w){var u=1103515245,o=65535&u;return((u-o)*(w|=0)|0)+(o*w|0)|0},I.truncate=function(w){return 0>w?-1*Math.floor(Math.abs(w)):Math.floor(w)},I.MAX_SAFE_INTEGER=Math.pow(2,53)-1,I.MIN_SAFE_INTEGER=-I.MAX_SAFE_INTEGER,I.VC=65536,I.Qx=I.VC*I.VC,I})()})(Q||(Q={})),(function(c){var I;(I=c.CL||(c.CL={}))[I.Project=0]="Project",I[I.Union=1]="Union",I[I.Difference=2]="Difference",I[I.Proximity2D=3]="Proximity2D",I[I.Relate=4]="Relate",I[I.Equals=5]="Equals",I[I.Disjoint=6]="Disjoint",I[I.Intersects=7]="Intersects",I[I.Within=8]="Within",I[I.Contains=9]="Contains",I[I.Crosses=10]="Crosses",I[I.Touches=11]="Touches",I[I.Overlaps=12]="Overlaps",I[I.Buffer=13]="Buffer",I[I.Distance=14]="Distance",I[I.Intersection=15]="Intersection",I[I.Clip=16]="Clip",I[I.Cut=17]="Cut",I[I.DensifyByLength=18]="DensifyByLength",I[I.DensifyByAngle=19]="DensifyByAngle",I[I.LabelPoint=20]="LabelPoint",I[I.GeodesicBuffer=21]="GeodesicBuffer",I[I.GeodeticDensifyByLength=22]="GeodeticDensifyByLength",I[I.ShapePreservingDensify=23]="ShapePreservingDensify",I[I.GeodeticLength=24]="GeodeticLength",I[I.GeodeticArea=25]="GeodeticArea",I[I.Simplify=26]="Simplify",I[I.SimplifyOGC=27]="SimplifyOGC",I[I.Offset=28]="Offset",I[I.Generalize=29]="Generalize",I[I.SymmetricDifference=30]="SymmetricDifference",I[I.ConvexHull=31]="ConvexHull",I[I.Boundary=32]="Boundary",I[I.SimpleRelation=33]="SimpleRelation";var w=(function(){function u(){}return u.prototype.getType=function(){return null},u.prototype.wn=function(){},u.prototype.Iu=function(){return!1},u})();c.Je=w})(Q||(Q={})),(function(c){var I=(function(w){function u(){return w!==null&&w.apply(this,arguments)||this}return Me(u,w),u.prototype.getType=function(){return 13},u.local=function(){return u.instance===null&&(u.instance=new u),u.instance},u.prototype.V=function(o,r,s,l,h){return o instanceof c.aa?(h=new c.Zc(o),this.V(h,r,[s],!1,l).next()):l===!0?(s=new c.BC(o,r,s,!1,h),c.Gh.local().V(s,r,h)):new c.BC(o,r,s,!1,h)},u.instance=null,u})(c.Je);c.AC=I})(Q||(Q={})),(function(c){var I=(function(){function w(u,o,r,s,l){this.ya=-1,this.Rd=u,this.$z=o,this.Cs=r,this.tT=new c.l,this.tT.Oa(),this.eo=-1,this.Ub=l}return w.prototype.next=function(){for(var u;(u=this.Rd.next())!=null;)return this.ya=this.Rd.La(),this.eo+1<this.Cs.length&&this.eo++,this.buffer(u,this.Cs[this.eo]);return null},w.prototype.La=function(){return this.ya},w.prototype.buffer=function(u,o){return c.HK.buffer(u,o,this.$z,NaN,96,this.Ub)},w.prototype.qe=function(){},w})();c.BC=I})(Q||(Q={})),(function(c){var I=(function(w){function u(){return w!==null&&w.apply(this,arguments)||this}return Me(u,w),u.prototype.getType=function(){return 16},u.local=function(){return u.instance===null&&(u.instance=new u),u.instance},u.prototype.V=function(o,r,s,l){return o instanceof c.aa?(o=new c.Zc(o),this.V(o,r,s,l).next()):new c.lL(o,r,s,l)},u.instance=null,u})(c.Je);c.kL=I})(Q||(Q={})),(function(c){var I=(function(){function w(u,o,r){if(this.ya=-1,u==null)throw c.i.N();this.$=o,this.yk=u,this.qa=c.ta.Wd(r,o,!1)}return w.prototype.next=function(){var u;return(u=this.yk.next())!=null?(this.ya=this.yk.La(),c.Ud.clip(u,this.$,this.qa,0)):null},w.prototype.La=function(){return this.ya},w.prototype.qe=function(){},w})();c.lL=I})(Q||(Q={})),(function(c){var I=(function(w){function u(){return w!==null&&w.apply(this,arguments)||this}return Me(u,w),u.prototype.getType=function(){return 31},u.local=function(){return u.instance===null&&(u.instance=new u),u.instance},u.prototype.V=function(o,r,s){return o instanceof c.aa?c.DC.rE(o):new c.DC(r,o,s)},u.instance=null,u})(c.Je);c.CC=I})(Q||(Q={})),(function(c){var I=(function(){function w(u,o,r){if(this.uA=new c.Zt,this.ya=-1,o==null)throw c.i.N();this.cH=u,this.Ic=!1,this.yk=o,this.Ub=r}return w.prototype.next=function(){if(this.cH){if(!this.Ic){var u=this.dO(this.yk);return this.Ic=!0,u}return null}if(!this.Ic){if((u=this.yk.next())!=null)return this.ya=this.yk.La(),w.rE(u);this.Ic=!0}return null},w.prototype.La=function(){return this.ya},w.prototype.dO=function(u){for(var o;(o=u.next())!=null;)this.uA.Ib(o);return this.uA.cR()},w.prototype.qe=function(){if(!this.Ic){if(!this.cH)throw c.i.fa("Invalid call for non merging convex hull.");var u=this.yk.next();if(u==null)throw c.i.fa("Expects a non-null geometry.");this.uA.Ib(u)}},w.rE=function(u){if(w.VS(u))return u;var o=u.getType();if(c.Vk.yd(o))return(o=new c.Ta(u.description)).oc(u,!0),o;if(o==550&&u.I()==2){var r=new c.Sa;return o=new c.Ta(u.description),u.ve(0,r),o.nf(r),u.ve(1,r),o.lineTo(r),o}return c.Zt.RO(u)},w.VS=function(u){if(u.B())return!0;var o=u.getType();return o==33||o==197||!c.Vk.yd(o)&&(o==550?u.I()==1:o==1607?u.da()==1&&2>=u.I():u.da()==1&&(2>=u.I()||c.Zt.JG(u,0)))},w})();c.DC=I})(Q||(Q={})),(function(c){var I=(function(w){function u(){return w!==null&&w.apply(this,arguments)||this}return Me(u,w),u.prototype.getType=function(){return 17},u.local=function(){return u.instance===null&&(u.instance=new u),u.instance},u.prototype.V=function(o,r,s,l,h){return new c.nL(o,r,s,l,h)},u.instance=null,u})(c.Je);c.mL=I})(Q||(Q={})),(function(c){var I=(function(){function w(u,o,r,s,l){if(this.Tf=null,o==null||r==null)throw c.i.fa("invalid argument");this.qT=u,this.nA=o,this.lH=r,u=c.ta.mv(o,r),this.qa=c.ta.Wd(s,u,!0),this.kH=-1,this.nd=l}return w.prototype.La=function(){return 0},w.prototype.next=function(){return this.RQ(),++this.kH<this.Tf.length?this.Tf[this.kH]:null},w.prototype.RQ=function(){if(this.Tf==null)switch(this.Tf=[],this.nA.getType()){case 1607:this.TQ();break;case 1736:this.SQ()}},w.prototype.TQ=function(){var u=new c.Ta,o=new c.Ta,r=new c.Ta;this.Tf.push(u),this.Tf.push(o);var s=[];c.LK.JK(this.qT,this.nA,this.lH,this.qa,s,this.nd);for(var l=0;l<s.length;l++){var h=s[l];if(h.bt==0)u.add(h.X,!1);else if(h.bt==1||h.bt==2)o.add(h.X,!1);else if(h.bt==3)this.Tf.push(h.X);else{if(h.bt!=4)throw c.i.fa("internal");r.add(h.X,!1)}}r.B()||u.B()&&o.B()&&!(3<=this.Tf.length)||this.Tf.push(r),u.B()&&o.B()&&3>this.Tf.length&&(this.Tf.length=0)},w.prototype.SQ=function(){var u=new c.ia(0),o=new c.gd,r=o.aF(),s=o.Ib(this.nA),l=o.Ib(this.lH),h=new c.Fg;try{h.Ft(o,this.qa,this.nd),h.dl(r,s,l,u);var f=o.Ne(s),p=new c.Da,g=new c.Da;for(this.Tf.length=0,this.Tf.push(p),this.Tf.push(g),s=0;s<u.size;s++){var _=new c.gd,M=_.Ib(f),R=_.Ib(o.Ne(u.get(s)));h.dr(_,this.nd);var $=h.Av(M,R),P=_.Ne($);if(!P.B()){var j=o.KF(u.get(s),r);j==2?p.add(P,!1):j==1?g.add(P,!1):this.Tf.push(P);var F=new c.gd;M=F.Ib(f),R=F.Ib(o.Ne(u.get(s))),h.dr(F,this.nd),f=F.Ne(h.im(M,R))}}!f.B()&&0<u.size&&this.Tf.push(f),p.B()&&g.B()&&(this.Tf.length=0)}finally{h.Ug()}},w.prototype.qe=function(){},w})();c.nL=I})(Q||(Q={})),(function(c){var I=(function(w){function u(){return w!==null&&w.apply(this,arguments)||this}return Me(u,w),u.prototype.getType=function(){return 18},u.local=function(){return u.instance===null&&(u.instance=new u),u.instance},u.prototype.V=function(o,r,s){if(o instanceof c.aa)return o=new c.Zc(o),this.V(o,r,s).next();if(0>=r)throw c.i.N();return new c.oL(o,r,s)},u.instance=null,u})(c.Je);c.Xl=I})(Q||(Q={})),(function(c){var I=(function(){function w(u,o){this.ya=-1,this.Rd=u,this.Ps=o}return w.prototype.La=function(){return this.ya},w.prototype.next=function(){var u;return(u=this.Rd.next())!=null?(this.ya=this.Rd.La(),this.NP(u)):null},w.prototype.NP=function(u){if(u.B()||1>u.Db())return u;var o=u.getType();if(o==1736||o==1607)return this.Ny(u);if(c.aa.yd(o))return this.PP(u);if(o==197)return this.OP(u);throw c.i.Qa()},w.prototype.PP=function(u){if(u.Qb()<=this.Ps)return u;var o=new c.Ta(u.description);return o.oc(u,!0),this.Ny(o)},w.prototype.OP=function(u){var o=new c.Da(u.description);o.ad(u,!1);var r=new c.l;return u.A(r),u=r.ca(),r.R()<=this.Ps&&u<=this.Ps?o:this.Ny(o)},w.prototype.Ny=function(u){for(var o=u.Ia(),r=u.Ga();r.$a();)for(var s=!0;r.Ha();){var l=r.ha();if(l.getType()!=322)throw c.i.fa("not implemented");var h=r.On(),f=l.Qb();if(f>this.Ps){var p=Math.ceil(f/this.Ps);f=new c.Sa(u.description),s&&(l.To(f),o.nf(f));var g=s=1/p,_=0;for(--p;_<p;_++)l.Tw(g,f),o.lineTo(f),g+=s;h?o.Ap():(l.Po(f),o.lineTo(f))}else h?o.Ap():o.oc(l,s);s=!1}return o},w.prototype.qe=function(){},w})();c.oL=I})(Q||(Q={})),(function(c){var I=(function(w){function u(){return w!==null&&w.apply(this,arguments)||this}return Me(u,w),u.local=function(){return u.instance===null&&(u.instance=new u),u.instance},u.prototype.getType=function(){return 2},u.prototype.V=function(o,r,s,l){return o instanceof c.aa?(o=new c.Zc(o),r=new c.Zc(r),this.V(o,r,s,l).next()):new c.qL(o,r,s,l)},u.im=function(o,r,s,l){if(o.B()||r.B())return o;var h=o.Db(),f=r.Db();if(h>f)return o;var p=o.getType(),g=r.getType(),_=new c.l,M=new c.l,R=new c.l;o.A(_),r.A(M),R.K(_),R.Zb(M);var $=(R=c.ta.Wd(s,R,!0))*Math.sqrt(2)*1.00001,P=new c.l;if(P.K(_),P.W($,$),!P.isIntersecting(M))return o;if(h==1&&f==2)return u.KV(o,r,g,s,l);if(p==33)switch(c.Vk.yd(g)?(s=new c.Ta(r.description),s.oc(r,!0)):s=r,g){case 1736:return u.XU(o,s,R);case 1607:return u.YU(o,s,R);case 550:return u.VU(o,s,R);case 197:return u.UU(o,s,R);case 33:return u.WU(o,s,R);default:throw c.i.N()}else if(p==550)switch(g){case 1736:return u.nU(o,r,R);case 197:return u.lU(o,r,R);case 33:return u.mU(o,r,R)}return c.Fg.im(o,r,s,l)},u.XU=function(o,r,s){return c.hd.KG(r,o,s)==0?o:o.Ia()},u.YU=function(o,r,s){var l=o.D();r=r.Ga();for(var h=s*Math.sqrt(2)*1.00001,f=h*h,p=new c.l;r.$a();)for(;r.Ha();){var g=r.ha();if(g.A(p),p.W(h,h),p.contains(l)){if(g.qs(l,s))return o.Ia();var _=g.ac();if(c.h.yc(l,_)<=f||(_=g.wc(),c.h.yc(l,_)<=f))return o.Ia()}}return o},u.VU=function(o,r,s){var l=r.ub(0);r=r.I();var h=o.D(),f=new c.h;s=s*Math.sqrt(2)*1.00001,s*=s;for(var p=0;p<r;p++)if(l.tc(2*p,f),c.h.yc(f,h)<=s)return o.Ia();return o},u.UU=function(o,r,s){var l=new c.l;return r.A(l),l.W(s,s),r=o.D(),l.contains(r)?o.Ia():o},u.WU=function(o,r,s){s=s*Math.sqrt(2)*1.00001,s*=s;var l=o.D();return r=r.D(),c.h.yc(l,r)<=s?o.Ia():o},u.nU=function(o,r,s){var l=new c.l;r.A(l),l.W(s,s);for(var h=o.I(),f=!1,p=[],g=0;g<h;g++)p[g]=!1;var _=new c.h;for(g=0;g<h;g++)o.D(g,_),l.contains(_)&&c.hd.Yd(r,_,s)!=0&&(f=!0,p[g]=!0);if(!f)return o;for(r=o.Ia(),g=0;g<h;g++)p[g]||r.Fd(o,g,g+1);return r},u.lU=function(o,r,s){var l=new c.l;r.A(l),l.W(s,s),r=o.I();var h=!1;s=[];for(var f=0;f<r;f++)s[f]=!1;var p=new c.h;for(f=0;f<r;f++)o.D(f,p),l.contains(p)&&(h=!0,s[f]=!0);if(!h)return o;for(l=o.Ia(),f=0;f<r;f++)s[f]||l.Fd(o,f,f+1);return l},u.mU=function(o,r,s){var l=o.ub(0),h=o.I(),f=r.D(),p=new c.h,g=!1;r=[];for(var _=0;_<h;_++)r[_]=!1;for(s=(_=s*Math.sqrt(2)*1.00001)*_,_=0;_<h;_++)l.tc(2*_,p),c.h.yc(p,f)<=s&&(g=!0,r[_]=!0);if(!g)return o;for(l=o.Ia(),_=0;_<h;_++)r[_]||l.Fd(o,_,_+1);return l},u.KV=function(o,r,s,l,h){var f=new c.Fh;o.bn(f);var p=new c.l;return r.A(p),f.Zb(p),f.W(.1*f.R(),.1*f.ca()),(p=new c.Da).ad(f,!1),s==1736?p.add(r,!0):p.ad(r,!0),c.Xj.local().V(o,p,l,h)},u.instance=null,u})(c.Je);c.kp=I})(Q||(Q={})),(function(c){var I=(function(){function w(u,o,r,s){this.ts=o==null,this.ya=-1,this.Rd=u,this.$z=r,this.wT=o.next(),this.Ub=s}return w.prototype.next=function(){return this.ts?null:(u=this.Rd.next())!=null?(this.ya=this.Rd.La(),c.kp.im(u,this.wT,this.$z,this.Ub)):null;var u},w.prototype.La=function(){return this.ya},w.prototype.qe=function(){},w})();c.qL=I})(Q||(Q={})),(function(c){var I=(function(){function u(o){this.nd=o,this.Bj=new c.l,this.Bj.Oa(),this.oh=new c.l,this.oh.Oa()}return u.prototype.Nt=function(){var o=this.Bj.v;this.Bj.v=this.oh.v,this.oh.v=o,o=this.Bj.C,this.Bj.C=this.oh.C,this.oh.C=o,o=this.Bj.G,this.Bj.G=this.oh.G,this.oh.G=o,o=this.Bj.H,this.Bj.H=this.oh.H,this.oh.H=o},u.prototype.eQ=function(o,r){if(this.nd!=null&&!this.nd.progress(-1,-1))throw c.i.fu("user_canceled");var s=!this.Bj.isIntersecting(this.oh);return c.aa.Hc(o.getType())&&c.aa.Hc(r.getType())?o.I()>r.I()?this.gE(o,r,s):(this.Nt(),o=this.gE(r,o,s),this.Nt(),o):o.getType()==550&&c.aa.Hc(r.getType())?(o=this.hE(r,o,s),this.Nt(),o):r.getType()==550&&c.aa.Hc(o.getType())?this.hE(o,r,s):o.getType()==550&&r.getType()==550?o.I()>r.I()?this.iE(o,r):(this.Nt(),o=this.iE(r,o),this.Nt(),o):0},u.prototype.gE=function(o,r,s){var l=o.Ga(),h=r.Ga(),f=new c.l,p=new c.l,g=17976931348623157e292;if(!s&&this.pY(o,r,l,h))return 0;for(;l.$a();)for(;l.Ha();)if((o=l.ha()).A(f),!(f.px(this.oh)>g)){for(;h.$a();)for(;h.Ha();)if((r=h.ha()).A(p),f.px(p)<g&&(r=o.tb(r,s),(r*=r)<g)){if(r==0)return 0;g=r}h.Zi()}return Math.sqrt(g)},u.prototype.hE=function(o,r,s){var l=o.Ga(),h=new c.l,f=17976931348623157e292,p=new c.h,g=r.I();for(s=!s&&o.getType()==1736;l.$a();)for(;l.Ha();){var _=l.ha();if(_.A(h),!(1<g&&h.px(this.oh)>f)){for(var M=0;M<g;M++){if(r.D(M,p),s&&c.hd.Yd(o,p,0)!=0)return 0;var R=_.fe(p,!1);if(p.sub(_.hc(R)),(R=p.Sk())<f){if(R==0)return 0;f=R}}s=!1}}return Math.sqrt(f)},u.prototype.iE=function(o,r){for(var s,l=17976931348623157e292,h=new c.h,f=new c.h,p=o.I(),g=r.I(),_=0;_<p;_++)if(o.D(_,h),!(1<g&&this.oh.iK(h)>l)){for(var M=0;M<g;M++)if(r.D(M,f),(s=c.h.yc(h,f))<l){if(s==0)return 0;l=s}}return Math.sqrt(l)},u.prototype.pY=function(o,r,s,l){if(o.getType()==1736){for(;l.$a();)if(l.Ha()){var h=l.ha();if(c.hd.Yd(o,h.wc(),0)!=0)return!0}l.Zi()}if(r.getType()==1736){for(;s.$a();)if(s.Ha()&&(o=s.ha(),c.hd.Yd(r,o.wc(),0)!=0))return!0;s.Zi()}return!1},u.prototype.gm=function(o,r){return o.B()||r.B()?NaN:(o.A(this.Bj),r.A(this.oh),this.eQ(o,r))},u})(),w=(function(u){function o(){return u!==null&&u.apply(this,arguments)||this}return Me(o,u),o.prototype.V=function(r,s,l){if(r==null||s==null)throw c.i.N();if(r.B()||s.B())return NaN;var h=r.getType(),f=s.getType();if(h==33){if(f==33)return c.h.tb(r.D(),s.D());if(f==197)return l=new c.l,s.A(l),l.tb(r.D());(h=new c.de).add(r),r=h}else if(h==197){if(f==197)return f=new c.l,r.A(f),l=new c.l,s.A(l),l.tb(f);(h=new c.Da).ad(r,!1),r=h}return f==33?((f=new c.de).add(s),s=f):f==197&&((f=new c.Da).ad(s,!1),s=f),new I(l).gm(r,s)},o.local=function(){return o.instance===null&&(o.instance=new o),o.instance},o.prototype.getType=function(){return 14},o.instance=null,o})(c.Je);c.rL=w})(Q||(Q={})),(function(c){var I=(function(){function w(u,o,r,s){this.zH=u,this.DH=o,this.nd=s,this.$G=r}return w.prototype.next=function(){var u=this.zH.next();return u==null?null:this.zC(u)},w.prototype.La=function(){return this.zH.La()},w.prototype.zC=function(u){var o=u.getType();if(c.aa.Rn(o))return u;if(o==197)return(o=new c.Da(u.description)).ad(u,!1),this.zC(o);if(u.B())return u;if(u==null)throw c.i.Qa();o=u.Ia();for(var r=new c.yb,s=0,l=u.da();s<l;s++)this.TK(u,s,o,r);return o},w.prototype.TK=function(u,o,r,s){if(!(2>u.Ja(o))){var l=u.Ba(o),h=u.Vc(o)-1,f=u.ub(0),p=u.dc(o),g=new c.ia(0);g.Jb(u.Ja(o)+1);var _=new c.ia(0);for(_.Jb(u.Ja(o)+1),g.add(p?l:h),g.add(l),l=new c.h;1<g.size;){var M=g.Fc();g.If();var R=g.Fc();u.D(M,l),s.Dc(l),u.D(R,l),s.Qc(l),0<=(R=this.SK(s,l,f,M,R,h))?(g.add(R),g.add(M)):_.add(M)}if(p||_.add(g.get(0)),_.size==g.size)r.addPath(u,o,!0);else if(2<=_.size&&(!this.$G||_.size!=2||!(p||c.h.tb(u.Na(_.get(0)),u.Na(_.get(1)))<=this.DH))){for(o=new c.Sa,s=0,h=_.size;s<h;s++)u.ve(_.get(s),o),s==0?r.nf(o):r.lineTo(o);p&&(this.$G||_.size!=2||r.lineTo(o),r.Ap())}}},w.prototype.SK=function(u,o,r,s,l,h){var f=l-1;for(l<=s&&(f=h),h=l=-1,s+=1;s<=f;s++){r.tc(2*s,o);var p=o.x,g=o.y;u.hc(u.fe(o,!1),o),o.x-=p,o.y-=g,(p=o.length())>this.DH&&p>h&&(l=s,h=p)}return l},w.prototype.qe=function(){},w})();c.sL=I})(Q||(Q={})),(function(c){var I=(function(w){function u(){return w!==null&&w.apply(this,arguments)||this}return Me(u,w),u.prototype.getType=function(){return 29},u.prototype.V=function(o,r,s,l){return o instanceof c.aa?(o=new c.Zc(o),this.V(o,r,s,l).next()):new c.sL(o,r,s,l)},u.local=function(){return u.instance===null&&(u.instance=new u),u.instance},u.instance=null,u})(c.Je);c.EC=I})(Q||(Q={})),(function(c){var I=(function(w){function u(){return w!==null&&w.apply(this,arguments)||this}return Me(u,w),u.prototype.getType=function(){return 21},u.local=function(){return u.instance===null&&(u.instance=new u),u.instance},u.prototype.V=function(o,r,s,l,h,f,p,g){return o instanceof c.aa?(g=new c.Zc(o),this.V(g,r,s,[l],h,f,!1,p).next()):p===!0?(s=new c.GC(o,r,s,l,h,!1,!1,g),c.Gh.local().V(s,r,g)):new c.GC(o,r,s,l,h,!1,!1,g)},u.instance=null,u})(c.Je);c.FC=I})(Q||(Q={})),(function(c){var I=(function(){function w(u,o,r,s,l,h,f,p){if(h)throw c.i.Ie();if(o==null)throw c.i.N();this.ya=-1,this.Ms=u,this.vg=o,this.ze=r,this.Cs=s,this.$n=l,this.eo=-1,this.Ub=p,this.uT=new c.l,this.uT.Oa()}return w.prototype.next=function(){for(var u;(u=this.Ms.next())!=null;)return this.ya=this.Ms.La(),this.eo+1<this.Cs.length&&this.eo++,this.$Q(u,this.Cs[this.eo]);return null},w.prototype.La=function(){return this.ya},w.prototype.$Q=function(u,o){return c.VK.buffer(u,this.vg,this.ze,o,this.$n,this.Ub)},w.prototype.qe=function(){},w})();c.GC=I})(Q||(Q={})),(function(c){var I=(function(w){function u(){return w!==null&&w.apply(this,arguments)||this}return Me(u,w),u.prototype.getType=function(){return 24},u.local=function(){return u.instance===null&&(u.instance=new u),u.instance},u.prototype.V=function(o,r,s){if(r==null)throw c.i.N();if(o.B()||1>o.Db())return 0;if(s==4)throw c.i.Ie();var l=c.cb.sc(r),h=c.cb.vv(l),f=c.cb.ev(l);h*=2-h;var p=l.Hd().ai,g=o.getType();if(g==1736||g==197)var _=o.mg();else c.aa.yd(g)?(_=new c.Ta(o.description)).oc(o,!0):_=o;if(l.Nb(r)==0){if(c.cb.Wc(r)){_=c.Hh.lj(_,r),g==1607&&_==o&&(_=c.aa.jg(o)),o=new c.Nc,c.cb.gh(r).cn(o),g=0;for(var M=_.I();g<M;g++){var R=_.Na(g);R.x=c.Hh.Zm(R.x,o),_.Cb(g,R)}}o=_.Ia(),_=c.Hh.WI(r,l,_,o)?o:c.cb.zh(_,r,l)}return this.hQ(_,s,f,h,p)},u.prototype.hQ=function(o,r,s,l,h){var f=new c.ga(0),p=0;for(o=o.Ga();o.$a();)for(;o.Ha();){var g=o.ha(),_=g.ac();g=g.wc(),_.scale(h),g.scale(h),c.kb.wd(s,l,_.x,_.y,g.x,g.y,f,null,null,r),p+=f.u}return p},u.instance=null,u})(c.Je);c.vL=I})(Q||(Q={})),(function(c){var I=(function(w){function u(){return w!==null&&w.apply(this,arguments)||this}return Me(u,w),u.prototype.getType=function(){return 18},u.local=function(){return u.instance===null&&(u.instance=new u),u.instance},u.prototype.V=function(o,r,s,l,h){return o instanceof c.aa?(o=new c.Zc(o),this.V(o,r,s,l,h).next()):new c.uL(o,s,l,r,-1,-1,h)},u.instance=null,u})(c.Je);c.tL=I})(Q||(Q={})),(function(c){var I=(function(){function w(u,o,r,s,l,h){if(0<h||r!=4&&0<l)throw c.i.Ie();if(o==null)throw c.i.N();this.ya=-1,this.Ms=u,this.vg=o,this.ze=r,this.DT=s,this.CT=l}return w.prototype.next=function(){for(var u;(u=this.Ms.next())!=null;)return this.ya=this.Ms.La(),this.Zy(u);return null},w.prototype.La=function(){return this.ya},w.prototype.Zy=function(u){return c.cj.Qr(u,this.vg,this.ze,this.DT,this.CT,this.Ub)},w.prototype.qe=function(){},w})();c.uL=I})(Q||(Q={})),(function(c){(function(I){I[I.Unknown=0]="Unknown",I[I.Contains=1]="Contains",I[I.Within=2]="Within",I[I.Equals=3]="Equals",I[I.Disjoint=4]="Disjoint",I[I.Touches=8]="Touches",I[I.Crosses=16]="Crosses",I[I.Overlaps=32]="Overlaps",I[I.NoThisRelation=64]="NoThisRelation",I[I.Intersects=1073741824]="Intersects",I[I.IntersectsOrDisjoint=1073741828]="IntersectsOrDisjoint"})(c.cL||(c.cL={})),c.wL=(function(){function I(){}return I.nW=function(w,u){var o=w.getType(),r=u.getType();if(c.aa.xj(o)){var s=w.Bb;if(s!=null&&(s=s.Fk)!=null){if(r==33){var l=u.D();s=s.So(l.x,l.y)}else l=new c.l,u.A(l),s=s.Ro(l);if(s==1)return 1;if(s==0)return 4}}if(c.aa.xj(r)&&(s=u.Bb)!=null&&(s=s.Fk)!=null){if(o==33?(w=w.D(),s=s.So(w.x,w.y)):(u=new c.l,w.A(u),s=s.Ro(u)),s==1)return 2;if(s==0)return 4}return 0},I})()})(Q||(Q={})),(function(c){var I=(function(w){function u(){return w!==null&&w.apply(this,arguments)||this}return Me(u,w),u.local=function(){return u.instance===null&&(u.instance=new u),u.instance},u.prototype.getType=function(){return 15},u.prototype.V=function(o,r,s,l,h){return o instanceof c.aa?(o=new c.Zc(o),r=new c.Zc(r),this.V(o,r,s,l,h===void 0?-1:h).next()):h===void 0?new c.HC(o,r,s,l,-1):new c.HC(o,r,s,l,h)},u.prototype.wn=function(o,r,s){this.Iu(o)&&(r=c.ta.kj(r,o,!1),o.fj(s)||o.lu(r,s))},u.prototype.Iu=function(o){return c.Nx.zE(o)},u.instance=null,u})(c.Je);c.Xj=I})(Q||(Q={})),(function(c){var I=(function(){function w(u,o,r,s,l){if(this.ts=o==null,this.ya=-1,this.Rd=u,this.vg=r,this.Se=o.next(),this.Dj=this.Se.getType(),this.Ub=s,this.Fi=l,this.Fi!=-1&&(0>=this.Fi||7<this.Fi))throw c.i.N("bad dimension mask")}return w.prototype.next=function(){if(this.ts)return null;if(this.zw!=null){var u=this.zw.next();if(u!=null)return u;this.zw=null}for(;(u=this.Rd.next())!=null;)return this.ya=this.Rd.La(),this.Fi==-1?u=this.Ea(u):(this.zw=this.PS(u),u=this.zw.next()),u;return null},w.prototype.La=function(){return this.ya},w.prototype.Ea=function(u){var o=this.zK(u);if(o!=null)return o;o=c.ta.mv(this.Se,u);var r=c.ta.Wd(this.vg,o,!0);o=new c.l,this.Se.A(o);var s=new c.l;return u.A(s),o.W(2*r,2*r),o.Ea(s),o.W(100*r,100*r),r=c.Ud.clip(this.Se,o,0,0),u=c.Ud.clip(u,o,0,0),c.Fg.Av(u,r,this.vg,this.Ub)},w.prototype.QI=function(u,o,r){var s=0;if(1&o)r[0]==null&&(r[0]=new c.de(u)),s++;else for(var l=0;l<r.length-1;l++)r[l]=r[l+1];if(2&o)r[s]==null&&(r[s]=new c.Ta(u)),s++;else for(l=s;l<r.length-1;l++)r[l]=r[l+1];if(4&o)r[s]==null&&(r[s]=new c.Da(u)),s++;else for(l=s;l<r.length-1;l++)r[l]=r[l+1];if(s!=3){for(u=[],l=0;l<s;l++)u[l]=r[l];return new c.Zc(u)}return new c.Zc(r)},w.prototype.PS=function(u){var o=this.zK(u);if(o!=null){var r=[null,null,null];return r[o.Db()]=o,this.QI(u.description,this.Fi,r)}o=c.ta.mv(this.Se,u),r=c.ta.Wd(this.vg,o,!0),o=new c.l,this.Se.A(o),o.W(2*r,2*r);var s=new c.l;return u.A(s),o.Ea(s),o.W(100*r,100*r),r=c.Ud.clip(this.Se,o,0,0),o=c.Ud.clip(u,o,0,0),r=c.Fg.Pz(o,r,this.vg,this.Ub),this.QI(u.description,this.Fi,r)},w.prototype.zK=function(u){var o=c.ta.mv(u,this.Se),r=c.ta.Wd(this.vg,o,!0);o=u.getType();var s=u.B(),l=this.Se.B();if(!(l=s||l)){l=new c.l,u.A(l);var h=new c.l;this.Se.A(h),h.W(2*r,2*r),l=!l.isIntersecting(h)}if(!l)if((h=c.wL.nW(this.Se,u))==4)l=!0;else{if(2&h)return this.Se;if(1&h)return u}if(l)return(r=c.aa.tf(o))<(l=c.aa.tf(this.Dj))?w.HB(u,s):r>l||r==0&&o==550&&this.Dj==33?this.nJ():w.HB(u,s);if((this.Fi==-1||this.Fi==4)&&o==197&&this.Dj==197)return r=this.Se,o=new c.l,u.A(o),s=new c.l,r.A(s),o.Ea(s),r=new c.Fh,u.copyTo(r),r.Xo(o),r;if(o==197&&c.aa.tf(this.Dj)==0||this.Dj==197&&c.aa.tf(o)==0)return s=o==197?u:this.Se,u=o==197?this.Se:u,o=new c.l,s.A(o),c.Ud.clip(u,o,r,0);if(c.aa.tf(o)==0&&0<c.aa.tf(this.Dj)||0<c.aa.tf(o)&&c.aa.tf(this.Dj)==0){if(r=c.ta.kj(this.vg,u,!1),o==550||o==33)return c.Fg.zG(u,this.Se,r);if(this.Dj==550||this.Dj==33)return c.Fg.zG(this.Se,u,r);throw c.i.Qa()}return this.Fi!=-1&&this.Fi!=2||o!=1607||this.Dj!=1736?this.Fi!=-1&&this.Fi!=2||o!=1736||this.Dj!=1607?null:this.wK(this.Se,u):this.wK(u,this.Se)},w.prototype.wK=function(u,o){var r=u,s=o,l=c.ta.kj(this.vg,o,!1),h=new c.l;s.A(h);var f=new c.l;r.A(f),f.W(2*l,2*l),h.Ea(f),h.W(10*l,10*l),r=u=c.Ud.clip(u,h,0,0),f=new c.ia(0);var p=-1,g=s.Bb;if(g!=null){var _=g.Fk;if(_!=null){p=0,f.Jb(r.I()+r.da());for(var M=new c.l,R=r.Ga();R.$a();)for(;R.Ha();){R.ha().A(M);var $=_.Ro(M);$==1?f.add(1):$==0?f.add(0):(f.add(-1),p++)}}}if(5<o.I()&&(g=(s=o=c.Ud.clip(o,h,0,0)).Bb),0>p&&(p=r.yz()),h=r.I()+s.I(),p*s.I()>Math.log(h)*h*4)return null;h=null,p=s.Ga(),g!=null&&g.Fb!=null&&(h=g.Fb),h==null&&20<s.I()&&(h=c.ta.nE(s)),u=u.Ia(),s=null,g=r.Ga(),_=[0,0,0,0,0,0,0,0,0],M=new c.be(0),R=new c.ig,$=-1;for(var P=0,j=0,F=0<f.size,V=-1;g.$a();){V=g.gb;var W=0;for($=-1,P=0;g.Ha();){var q=F?c.O.truncate(f.get(j)):-1;j++;var J=g.ha();if(0>q){if(h!=null)for(s==null?s=h.vR(J,l):s.Uo(J,l),q=s.next();q!=-1;q=s.next()){p.Vb(h.ja(q)),q=p.ha();var nt=J.Ea(q,null,_,null,l);for(q=0;q<nt;q++)M.add(_[q])}else for(p.Zi();p.$a();)for(;p.Ha();)for(q=p.ha(),nt=J.Ea(q,null,_,null,l),q=0;q<nt;q++)M.add(_[q]);if(0<M.size){M.Vd(0,M.size,(function(Ut,Pt){return Ut-Pt}));var st=0;M.add(1),nt=-1,q=0;for(var ct=M.size;q<ct;q++){var bt=M.get(q);if(bt!=st){var Tt=!1;if(st!=0||bt!=1?(J.ah(st,bt,R),st=R.get()):(st=J,Tt=!0),2<=W){if(u.Dr(r,V,$,P,W==3),this.QD(o,st.ac(),l)!=1&&this.RD(o,st,l)!=1)return null;u.oc(st,!1),W=1,P=0}else switch(nt=this.RD(o,st,l),nt){case 1:Tt?2>W?($=g.wb()-r.Ba(V),P=1,W=W==0?3:2):P++:(u.oc(st,W==0),W=1);break;case 0:W=0,$=-1,P=0;break;default:return null}st=bt}}}else{if(0>(q=this.QD(o,J.ac(),l)))return null;q==1?(2>W&&($=g.wb()-r.Ba(V),W=W==0?3:2),P++):($=-1,P=0)}M.clear(!1)}else q!=0&&q==1&&(W==0?(W=3,$=g.wb()-r.Ba(V)):W==1?(W=2,$=g.wb()-r.Ba(V)):P++)}2<=W&&(u.Dr(r,V,$,P,W==3),$=-1)}return u},w.prototype.QD=function(u,o,r){return c.Dg.wm(u,o,r)},w.prototype.RD=function(u,o,r){var s=o.ac();o=o.wc();var l=c.Dg.wm(u,s,r),h=c.Dg.wm(u,o,r);return l==1&&h==0||l==0&&h==1?-1:l==0||h==0?0:l==1||h==1?1:((l=new c.h).add(s,o),l.scale(.5),(u=c.Dg.wm(u,l,r))==0?0:u==1?1:-1)},w.HB=function(u,o){return o?u:u.Ia()},w.prototype.nJ=function(){return this.yH==null&&(this.yH=this.Se.Ia()),this.yH},w.prototype.qe=function(){},w})();c.HC=I})(Q||(Q={})),(function(c){var I=(function(w){function u(){return w!==null&&w.apply(this,arguments)||this}return Me(u,w),u.prototype.getType=function(){return 28},u.local=function(){return u.instance===null&&(u.instance=new u),u.instance},u.prototype.V=function(o,r,s,l,h,f,p){return o instanceof c.aa?(o=new c.Zc(o),this.V(o,r,s,l,h,f,p).next()):new c.xL(o,r,s,l,h,f,p)},u.instance=null,u})(c.Je);c.IC=I})(Q||(Q={})),(function(c){var I=(function(){function w(u,o,r,s,l,h,f){this.ya=-1,this.Rd=u,this.Mj=o,this.Ka=r,this.Ki=s,this.CA=l,this.uH=h,this.nd=f}return w.prototype.next=function(){var u=this.Rd.next();return u!=null?(this.ya=this.Rd.La(),this.jL(u)):null},w.prototype.La=function(){return this.ya},w.prototype.jL=function(u){var o=0>=this.uH?c.ta.kj(this.Mj,u,!1):this.uH;return c.IK.V(u,this.Ka,this.Ki,this.CA,o,this.nd)},w.prototype.qe=function(){},w})();c.xL=I})(Q||(Q={})),(function(c){var I;(I=c.NK||(c.NK={}))[I.clipToDomainOnly=1]="clipToDomainOnly",I[I.clipWithHorizon=2]="clipWithHorizon",I[I.foldAndClipWithHorizon=3]="foldAndClipWithHorizon";var w=(function(u){function o(){return u!==null&&u.apply(this,arguments)||this}return Me(o,u),o.prototype.getType=function(){return 0},o.local=function(){return o.instance===null&&(o.instance=new o),o.instance},o.prototype.V=function(r,s,l){return r instanceof c.aa?(r=new c.Zc(r),this.V(r,s,l).next()):new c.yL(r,s,l)},o.prototype.transform=function(r,s,l,h){return c.bu.transform(r,s,l,h,!0)},o.prototype.Qt=function(r,s,l,h){return c.bu.Qt(r,s,l,h)},o.instance=null,o})(c.Je);c.Hx=w})(Q||(Q={})),(function(c){var I=(function(){function w(u,o,r){this.ya=-1,this.Rd=u,this.MT=o,this.nd=r}return w.prototype.next=function(){var u=this.Rd.next();return u!=null?(this.ya=this.Rd.La(),c.bu.zh(u,this.MT,this.nd)):null},w.prototype.La=function(){return this.ya},w.prototype.qe=function(){},w})();c.yL=I})(Q||(Q={})),(function(c){var I=(function(){function u(){}return u.prototype.reset=function(){this.ph=this.xk=-1,this.us=this.kq=!1},u.prototype.AQ=function(o,r,s){for(o.Vb(r,s);o.Ha();){var l=o.ha();if((l=l.Qb())!=0)return o.wb()}for(o.Vb(r,s);o.Ez();)if((l=(l=o.li()).Qb())!=0)return o.wb();return-1},u.prototype.BQ=function(o,r){for(o.Vb(r,-1);o.Ez();)if(o.li().Qb()!=0)return o.wb();return-1},u.prototype.zQ=function(o,r){for(o.Vb(r,-1),o.ha();o.Ha();)if(o.ha().Qb()!=0)return o.wb();return-1},u.prototype.yQ=function(o,r,s,l){if(this.xk=this.AQ(r,s,l),this.xk!=-1){r.Vb(this.xk,-1);var h=r.ha(),f=h.hc(h.fe(o,!1));if(s=c.h.yc(f,o),(l=new c.h).L(f),l.sub(h.ac()),(f=new c.h).L(o),f.sub(h.ac()),this.kq=0>l.wi(f),this.ph=this.zQ(r,this.xk),this.ph!=-1){r.Vb(this.ph,-1);var p=(h=r.ha()).fe(o,!1);p=h.hc(p);var g=c.h.yc(p,o);g>s?this.ph=-1:(l.L(p),l.sub(h.ac()),f.L(o),f.sub(h.ac()),this.us=0>l.wi(f))}this.ph==-1&&(this.ph=this.BQ(r,this.xk),this.ph!=-1&&(r.Vb(this.ph,-1),p=(h=r.ha()).fe(o,!1),p=h.hc(p),(g=c.h.yc(p,o))>s?this.ph=-1:(l.L(p),l.sub(h.ac()),f.L(o),f.sub(h.ac()),this.us=0>l.wi(f),o=this.xk,this.xk=this.ph,this.ph=o,o=this.kq,this.kq=this.us,this.us=o)))}},u.prototype.cO=function(o,r,s,l,h){return s=s.Ga(),this.yQ(o,s,l,h),this.xk!=-1&&this.ph==-1?this.kq:this.xk!=-1&&this.ph!=-1?this.kq==this.us?this.kq:(s.Vb(this.xk,-1),o=s.ha().kg(),s.Vb(this.ph,-1),r=s.ha().kg(),0<=o.wi(r)):r},u})(),w=(function(u){function o(){return u!==null&&u.apply(this,arguments)||this}return Me(o,u),o.local=function(){return o.instance===null&&(o.instance=new o),o.instance},o.prototype.getType=function(){return 3},o.prototype.nz=function(r,s,l){var h;if(h===void 0&&(h=!1),r.B())return new c.$l;s=s.D();var f=r,p=r.getType();switch(p==197&&((f=new c.Da).ad(r,!1),p=1736),p){case 33:return this.xI(f,s);case 550:return this.jI(f,s);case 1607:case 1736:return this.bU(f,s,l,h);default:throw c.i.fa("not implemented")}},o.prototype.oz=function(r,s){if(r.B())return new c.$l;s=s.D();var l=r,h=r.getType();switch(h==197&&((l=new c.Da).ad(r,!1),h=1736),h){case 33:return this.xI(l,s);case 550:case 1607:case 1736:return this.jI(l,s);default:throw c.i.fa("not implemented")}},o.prototype.pz=function(r,s,l,h){if(0>h)throw c.i.N();if(r.B())return[];s=s.D();var f=r,p=r.getType();switch(p==197&&((f=new c.Da).ad(r,!1),p=1736),p){case 33:return this.TU(f,s,l,h);case 550:case 1607:case 1736:return this.tU(f,s,l,h);default:throw c.i.fa("not implemented")}},o.prototype.bU=function(r,s,l,h){if(r.getType()==1736&&l&&(l=new c.l,r.A(l),l=c.ta.Wd(null,l,!1),(h?c.hd.Yd(r,s,0):c.hd.Yd(r,s,l))!=0)){var f=new c.$l(s,0,0);return h&&f.WJ(!0),f}var p=r.Ga();f=new c.h;for(var g=l=-1,_=17976931348623157e292,M=0;p.$a();)for(;p.Ha();){var R=p.ha();R=R.hc(R.fe(s,!1));var $=c.h.yc(R,s);$<_?(M=1,f=R,l=p.wb(),g=p.gb,_=$):$==_&&M++}return f=new c.$l(f,l,Math.sqrt(_)),h&&(p.Vb(l,g),R=p.ha(),h=0>c.h.Uq(s,R.ac(),R.wc()),1<M&&((M=new I).reset(),h=M.cO(s,h,r,l,g)),f.WJ(h)),f},o.prototype.xI=function(r,s){return r=r.D(),s=c.h.tb(r,s),new c.$l(r,0,s)},o.prototype.jI=function(r,s){for(var l=r.ub(0),h=r.I(),f=r=0,p=0,g=17976931348623157e292,_=0;_<h;_++){var M=new c.h;l.tc(2*_,M);var R=c.h.yc(M,s);R<g&&(f=M.x,p=M.y,r=_,g=R)}return(s=new c.$l).ey(f,p,r,Math.sqrt(g)),s},o.prototype.TU=function(r,s,l,h){return h==0?[]:(l*=l,r=r.D(),(s=c.h.yc(r,s))<=l?(l=[],(h=new c.$l).ey(r.x,r.y,0,Math.sqrt(s)),l[0]=h):l=[],l)},o.prototype.tU=function(r,s,l,h){if(h==0)return[];var f=r.ub(0),p=r.I();r=[],l*=l;for(var g=0;g<p;g++){var _=f.read(2*g),M=f.read(2*g+1),R=s.x-_,$=s.y-M;(R=R*R+$*$)<=l&&(($=new c.$l).ey(_,M,g,Math.sqrt(R)),r.push($))}return s=r.length,r.sort((function(P,j){return P.Ka<j.Ka?-1:P.Ka==j.Ka?0:1})),h>=s||(r.length=h),r.slice(0)},o.instance=null,o})(c.Je);c.Ix=w})(Q||(Q={})),(function(c){var I=(function(w){function u(){return w!==null&&w.apply(this,arguments)||this}return Me(u,w),u.prototype.getType=function(){return 4},u.prototype.V=function(o,r,s,l,h){return c.am.yB(o,r,s,l,h)},u.local=function(){return u.instance===null&&(u.instance=new u),u.instance},u.prototype.Iu=function(o){return c.Vt.wy(o)},u.prototype.wn=function(o,r,s){c.Vt.CD(o,r,s)},u.instance=null,u})(c.Je);c.zL=I})(Q||(Q={})),(function(c){var I=(function(w){function u(){return w!==null&&w.apply(this,arguments)||this}return Me(u,w),u.prototype.getType=function(){return 33},u.prototype.V=function(o,r,s,l,h){return o===1073741824?!c.ud.zB(r,s,l,4,h):c.ud.zB(r,s,l,o,h)},u.local=function(){return u.instance===null&&(u.instance=new u),u.instance},u.prototype.Iu=function(o){return c.Vt.wy(o)},u.prototype.wn=function(o,r,s){c.Vt.CD(o,r,s)},u.instance=null,u})(c.Je);c.dj=I})(Q||(Q={})),(function(c){var I=(function(){function w(u,o,r,s){if(this.nd=s,this.rT=r,this.ya=-1,u==null)throw c.i.N();this.yk=u,this.Mj=o}return w.prototype.next=function(){var u;if((u=this.yk.next())!=null){if(this.ya=this.yk.La(),this.nd!=null&&!this.nd.progress(-1,-1))throw c.i.fu("user_canceled");return this.eC(u)}return null},w.prototype.La=function(){return this.ya},w.prototype.eC=function(u){if(u==null)throw c.i.N();return c.Jx.cK(u,this.Mj,this.rT,this.nd)},w.prototype.qe=function(){},w})();c.AL=I})(Q||(Q={})),(function(c){var I=(function(w){function u(){return w!==null&&w.apply(this,arguments)||this}return Me(u,w),u.prototype.getType=function(){return 26},u.prototype.V=function(o,r,s,l){return o instanceof c.aa?(o=new c.Zc(o),this.V(o,r,s,l).next()):new c.AL(o,r,s,l)},u.prototype.rs=function(o,r,s,l,h){return 0<(l!==void 0?c.Jx.rs(o,r,s,l,h):c.Jx.rs(o,r,!1,null,s))},u.local=function(){return u.instance===null&&(u.instance=new u),u.instance},u.instance=null,u})(c.Je);c.Yl=I})(Q||(Q={})),(function(c){var I=(function(){function h(){this.yq=0}return h.prototype.nX=function(f){this.yq&=-2,this.yq|=f?1:0},h.prototype.Wp=function(){return!!(1&this.yq)},h.prototype.XF=function(){return this.Wp()?0:1},h})();c.xY=I;var w=function(){},u=function(h,f,p,g){this.x=h,this.y=f,this.Ai=p,this.xm=g},o=(function(){function h(f){this.Be=f}return h.prototype.compare=function(f,p,g){return f=f.ja(g),p=this.Be.lf.read(2*p),0>(p-=f=this.Be.lf.read(2*f))?-1:0<p?1:0},h})(),r=(function(){function h(f){this.Be=f}return h.prototype.compare=function(f,p,g){p=this.Be.hb[p],f=this.Be.hb[f.ja(g)];var _=p.Wp(),M=f.Wp();g=p.ne.Pe(this.Be.Mo,0);var R=f.ne.Pe(this.Be.Mo,0);return g==R&&((_=.5*((g=Math.min(_?p.ne.na:p.ne.la,M?f.ne.na:f.ne.la))-this.Be.Mo)+this.Be.Mo)==this.Be.Mo&&(_=g),g=p.ne.Pe(_,0),R=f.ne.Pe(_,0)),g<R?-1:g>R?1:0},h})(),s=(function(){function h(f,p){this.YI=new c.h,this.parent=f,this.dS=p}return h.prototype.nr=function(f,p,g){var _=this.parent,M=this.dS;g.Vd(f,p,(function(R,$){return _.Mh(R,$,M)}))},h.prototype.$p=function(f){return f=this.parent.gi.get(f),this.parent.lf.tc(2*(f>>1),this.YI),this.YI.y+(1&f?this.parent.Oj:-this.parent.Oj)},h})(),l=(function(){function h(f,p,g,_,M){this.nH=f.description,this.X=f,this.Qg=p,this.Oj=c.ta.kj(this.Qg,f,!1),this.Bo=c.ta.kj(this.Qg,f,!0),this.xA=g,this.oT=this.nH.Aa,this.hb=[],this.po=[],this.mh=new c.jp,this.fb=new c.Yj,this.ke=new c.Md,this.ZG=this.ql=M}return h.prototype.eT=function(){return this.ZG=!0,(!c.aa.Hc(this.X.getType())||this.GE()&&this.DE(!1))&&this.mO()?c.aa.Hc(this.X.getType())?this.pO()?this.X.getType()==1607?this.rO()?2:0:this.sO()?this.tO():0:0:2:0},h.prototype.kC=function(f,p){var g=this.lf.read(2*f);f=this.lf.read(2*f+1);var _=this.lf.read(2*p);p=this.lf.read(2*p+1);var M=!c.Yt.Cv(g,f,_,p,this.Oj*this.Oj);return M||this.X.Db()!=0&&g==_&&f==p},h.prototype.GE=function(){for(var f=this.X,p=f.xf?3:2,g=0,_=f.da();g<_;g++)if(f.Ja(g)<p)return this.ke=new c.Md(1,g,0),!1;return!0},h.prototype.DE=function(f){var p=this.X,g=p.Ga(),_=p.hasAttribute(1);for(p=_?c.ta.wE(this.Qg,p,!1):0;g.$a();)for(;g.Ha();){var M=g.ha();if(!(M.Qb()>this.Oj)){if(f&&_){var R=M.wv(1,0);if(M=M.wv(1,0),Math.abs(M-R)>p)continue}return this.ke=new c.Md(2,g.wb(),-1),!1}}return!0},h.prototype.mO=function(){var f=this.X,p=null;c.aa.Hc(this.X.getType())&&(p=this.X);var g=(this.ZG||this.ql)&&p!=null,_=f.I();this.lf=f.ub(0),this.gi=new c.ia(0),this.gi.Jb(2*_),this.fi=new c.ia(0),this.fi.Jb(2*_),g&&(this.Fl==null&&(this.Fl=new c.ia(0)),this.Fl.Jb(_));for(var M=f=0;M<_;M++)if(this.gi.add(2*M),this.gi.add(2*M+1),this.fi.add(2*M),this.fi.add(2*M+1),g){for(;M>=p.Vc(f);)f++;this.Fl.add(f)}for(new c.Xt().sort(this.fi,0,2*_,new s(this,g)),this.fb.clear(),this.fb.Vo(new o(this)),this.fb.De(_),p=0,_*=2;p<_;p++)if(g=this.fi.get(p),g=(f=this.gi.get(g))>>1,1&f){if(f=this.fb.search(g,-1),M=this.fb.we(f),R=this.fb.lb(f),this.fb.vd(f,-1),M!=-1&&R!=-1&&!this.kC(this.fb.ja(M),this.fb.ja(R)))return this.ke=new c.Md(3,this.fb.ja(M),this.fb.ja(R)),!1}else{if(f=this.fb.addElement(g,-1),(M=this.fb.we(f))!=-1&&!this.kC(this.fb.ja(M),g))return this.ke=new c.Md(3,g,this.fb.ja(M)),!1;var R=this.fb.lb(f);if(R!=-1&&!this.kC(this.fb.ja(R),g))return this.ke=new c.Md(3,g,this.fb.ja(R)),!1}return!0},h.prototype.pO=function(){return 10>this.X.I()?this.nO():this.oO()},h.prototype.oO=function(){var f=new c.gd;f.Ib(this.X);var p=new c.Md;return!c.$t.kI(!1,f,this.Oj,p,this.nd)||(p.Jo=f.Ua(p.Jo),p.Ko=f.Ua(p.Ko),this.ke.Wt(p),!1)},h.prototype.nO=function(){var f=this.X,p=f.Ga();for(f=f.Ga();p.$a();)for(;p.Ha();){var g=p.ha();if(!p.Qn()||!p.$S()){f.BW(p);do for(;f.Ha();){var _=f.ha();if((_=g.zr(_,this.Oj,!0))!=0)return this.ke=new c.Md(_==2?5:4,p.wb(),f.wb()),!1}while(f.$a())}}return!0},h.prototype.sO=function(){var f=this.X;this.hb.length=0,this.po.length=0,this.Zf=f.Ga(),this.Zf.JB();var p=new c.ia(0);p.Jb(10);var g=NaN,_=0,M=0;for(f=2*f.I();M<f;M++){var R=this.fi.get(M);if(!(1&(R=this.gi.get(R)))){R>>=1;var $=this.lf.read(2*R),P=this.lf.read(2*R+1);if(p.size!=0&&($!=g||P!=_)){if(!this.RI(p))return!1;p?.clear(!1)}p.add(R),g=$,_=P}}return!!this.RI(p)},h.prototype.rO=function(){for(var f=this.X,p=Array(f.da()),g=0,_=f.da();g<_;g++)p[g]=f.Nn(g);_=new w;var M=new c.h;g=this.fi.get(0);var R=(g=this.gi.get(g))>>1;this.lf.tc(2*R,M);var $=p[g=this.Fl.get(R)],P=f.Ba(g),j=f.Vc(g)-1;_.el=R==P||R==j,_.ny=this.ql?!$&&_.el:_.el,_.Ai=g,_.x=M.x,_.y=M.y,_.xm=R;for(var F=new w,V=1,W=this.fi.size;V<W;V++)if(g=this.fi.get(V),!(1&(g=this.gi.get(g)))){R=g>>1,this.lf.tc(2*R,M),(g=this.Fl.get(R))!=_.Ai&&($=p[g],P=f.Ba(g),j=f.Vc(g)-1);var q=R==P||R==j,J=this.ql?!$&&_.el:_.el;if(F.x=M.x,F.y=M.y,F.Ai=g,F.xm=R,F.ny=J,F.el=q,F.x==_.x&&F.y==_.y){if(this.ql){if(!(F.ny&&_.ny||F.Ai==_.Ai&&(F.el||_.el)))return this.ke=new c.Md(8,F.xm,_.xm),!1}else if(!F.el||!_.el)return this.ke=new c.Md(5,F.xm,_.xm),!1}g=_,_=F,F=g}return!0},h.prototype.JE=function(){for(var f=this.X,p=[],g=-1,_=!1,M=0,R=f.da();M<R;M++)f.Ev(M)&&(_=!1,g++,M<R-1&&(f.Ev(M+1)||(_=!0))),p[M]=_?g:-1;_=new c.h,M=this.fi.get(0);var $=(M=this.gi.get(M))>>1;this.lf.tc(2*$,_),M=this.Fl.get($),g=new u(_.x,_.y,M,$,p[M]),f=[];var P=1;for(R=this.fi.size;P<R;P++)if(M=this.fi.get(P),!(1&(M=this.gi.get(M)))){if($=M>>1,this.lf.tc(2*$,_),M=this.Fl.get($),(M=new u(_.x,_.y,M,$,p[M])).x==g.x&&M.y==g.y){if(M.Ai==g.Ai)return this.ke=new c.Md(9,M.xm,g.xm),!1;0<=p[M.Ai]&&p[M.Ai]==p[g.Ai]&&(f.length!=0&&f[f.length-1]==g||f.push(g),f.push(M))}g=M}if(f.length==0)return!0;for(M=new c.jp(!0),c.O.$u(p,-1),_=-1,(P=new c.h).Rc(),g=0,R=f.length;g<R;g++){($=f[g]).x==P.x&&$.y==P.y||(_=M.Ph(0),P.x=$.x,P.y=$.y);var j=p[$.Ai];j==-1&&(j=M.Ph(2),p[$.Ai]=j),M.addElement(j,_),M.addElement(_,j)}for((R=new c.ia(0)).Jb(10),g=M.je;g!=-1;g=M.qz(g))if(!(1&(f=M.PF(g)))&&2&f){for(f=-1,R.add(g),R.add(-1);0<R.size;){if(_=R.Fc(),R.If(),P=R.Fc(),R.If(),1&($=M.PF(P))){f=2&$?P:_;break}for(M.fX(P,1|$),$=M.rc(P);$!=-1;$=M.lb($))(j=M.getData($))!=_&&(R.add(j),R.add(P))}if(f!=-1){for(M=-1,g=0,R=p.length;g<R;g++)if(p[g]==f){M=g;break}return this.ke=new c.Md(10,M,-1),!1}}return!0},h.prototype.tO=function(){var f=this.X;if(0>=f.Ke())return this.ke=new c.Md(6,f.da()==1?1:-1,-1),0;if(f.da()==1)return this.ql&&!this.JE()?0:2;this.to=c.ia.qf(f.da(),0),this.JA=c.ia.qf(f.da(),-1);for(var p=-1,g=0,_=0,M=f.da();_<M;_++){var R=f.Ir(_);if(this.to.write(_,0>R?0:256),0<R)p=_,g=R;else{if(R==0)return this.ke=new c.Md(6,_,-1),0;if((0>p||g<Math.abs(R))&&(this.ke=new c.Md(7,_,-1),this.ql))return 0;this.JA.write(_,p)}}for(this.dt=f.da(),this.Om=new c.ia(0),this.Om.Jb(10),M=f.I(),this.Mo=NaN,(f=new c.ia(0)).Jb(10),this.Qq=c.ia.qf(M,-1),this.Hw=c.ia.qf(M,-1),this.zj!=null?this.zj.clear(!1):this.zj=new c.ia(0),this.zj.Jb(10),this.fb.clear(),this.fb.Vo(new r(this)),p=0,M*=2;0<this.dt&&p<M;p++)if(g=this.fi.get(p),!(1&(g=this.gi.get(g)))){if(g>>=1,(_=this.lf.read(2*g+1))!=this.Mo&&f.size!=0){if(!this.ut(f))return 0;f?.clear(!1)}f.add(g),this.Mo=_}return 0<this.dt&&!this.ut(f)?0:this.ql?this.ke.Jj==0&&this.JE()?2:0:this.ke.Jj==0?2:1},h.prototype.RI=function(f){if(f.size==1)return!0;for(var p=0,g=f.size;p<g;p++){var _=f.get(p);this.Zf.Vb(_);var M=this.Zf.li();this.hb.push(this.Su(M,_,this.Zf.gb,!0)),this.Zf.ha(),M=this.Zf.ha(),this.hb.push(this.Su(M,_,this.Zf.gb,!1))}var R=this;for(this.hb.sort((function(j,F){return R.XP(j,F)})),(_=this.mh.je)==-1&&(_=this.mh.Ph(0)),this.mh.fn(this.hb.length),p=0,g=this.hb.length;p<g;p++)this.mh.addElement(_,p);p=!0;for(var $=g=-1;p&&(p=!1,(M=this.mh.rc(_))!=-1);)for(var P=this.mh.lb(M);P!=-1;)if(g=this.mh.getData(M),$=this.mh.getData(P),(g=this.hb[g].Io)!=($=this.hb[$].Io))M=P,P=this.mh.lb(M);else if(p=!0,this.mh.jd(_,M),M=this.mh.we(P),(P=this.mh.jd(_,P))==-1||M==-1)break;if(p=this.mh.bs(_),this.mh.LE(_),0<p)return this.ke=new c.Md(5,g,$),!1;for(p=0,g=f.size;p<g;p++)this.vB(this.hb[p]);return this.hb.length=0,!0},h.prototype.ut=function(f){for(var p=0,g=f.size;p<g;p++){var _=f.get(p),M=this.Qq.read(_);if(M!=-1){var R=this.fb.ja(M);this.zj.add(R),this.fb.vd(M,-1),this.vB(this.hb[R]),this.hb[R]=null,this.Qq.write(_,-1)}(M=this.Hw.read(_))!=-1&&(R=this.fb.ja(M),this.zj.add(R),this.fb.vd(M,-1),this.vB(this.hb[R]),this.hb[R]=null,this.Hw.write(_,-1))}for(p=0,g=f.size;p<g;p++){if(_=f.get(p),this.Zf.Vb(_),(M=this.Zf.li()).na>M.la){var $=this.Zf.wb(),P=this.Su(M,_,this.Zf.gb,!0);0<this.zj.size?(R=this.zj.Fc(),this.zj.If(),this.hb[R]=P):(R=this.hb.length,this.hb.push(P)),M=this.fb.addElement(R,-1),this.Qq.read($)==-1?this.Qq.write($,M):this.Hw.write($,M),!(3&this.to.read(this.Zf.gb))&&this.Om.add(M)}this.Zf.ha(),(M=this.Zf.ha()).na<M.la&&($=this.Zf.ik(),P=this.Su(M,_,this.Zf.gb,!1),0<this.zj.size?(R=this.zj.Fc(),this.zj.If(),this.hb[R]=P):(R=this.hb.length,this.hb.push(P)),M=this.fb.addElement(R,-1),this.Qq.read($)==-1?this.Qq.write($,M):this.Hw.write($,M),!(3&this.to.read(this.Zf.gb))&&this.Om.add(M))}for(p=0,g=this.Om.size;p<g&&0<this.dt;p++)if(M=this.Om.get(p),!(3&this.to.read(this.hb[this.fb.ja(M)].IA))){f=-1,_=this.fb.we(M);var j=M;P=null,R=-1;for(var F=0;_!=-1&&(R=this.fb.ja(_),R=(P=this.hb[R]).IA,!(3&(F=this.to.read(R))));)j=_,_=this.fb.we(_);_==-1?($=1,_=j):(f=(3&F)==1?R:this.JA.read(R),$=P.XF()!=0?0:1,_=this.fb.lb(_));do{if(R=this.fb.ja(_),R=(P=this.hb[R]).IA,!(3&(j=this.to.read(R)))){if($!=P.XF())return this.ke=new c.Md(6,R,-1),!1;if(j=252&j|(F=$==0||P.Wp()?2:1),this.to.write(R,F),F==2&&this.ke.Jj==0&&this.JA.read(R)!=f&&(this.ke=new c.Md(7,R,-1),this.ql))return!1;if(this.dt--,this.dt==0)return!0}(3&j)==1&&(f=R),j=_,_=this.fb.lb(_),$=$!=0?0:1}while(j!=M)}return this.Om!=null?this.Om.clear(!1):this.Om=new c.ia(0),!0},h.prototype.Su=function(f,p,g,_){if(f.getType()!=322)throw c.i.Qa();return(f=this.sP(f)).Io=p,f.IA=g,f.yq=0,f.nX(_),f},h.prototype.sP=function(f){if(0<this.po.length){var p=this.po[this.po.length-1];--this.po.length,f.copyTo(p.ne)}else(p=new I).ne=c.SC.jg(f);return p},h.prototype.vB=function(f){f.ne.getType()==322&&this.po.push(f)},h.prototype.kU=function(){for(var f=this.X.I(),p=new c.ia(0),g=0;g<f;g++)p.add(g);var _=this;for(p.Vd(0,f,(function(M,R){return _.Ou(M,R)})),g=1;g<f;g++)if(this.Ou(p.get(g-1),p.get(g))==0)return this.ke=new c.Md(3,p.get(g-1),p.get(g)),0;return 2},h.prototype.JV=function(){return this.GE()&&this.DE(!0)?2:0},h.prototype.oV=function(){return this.eT()},h.prototype.pU=function(){for(var f=this.X.I(),p=new c.ia(0),g=0;g<f;g++)p.add(g);var _=this;p.Vd(0,f,(function(j,F){return _.PO(j,F)}));var M=Array(f);for(c.O.$u(M,!1),M[p.get(0)]=!0,g=1;g<f;g++){var R=p.get(g-1),$=p.get(g);this.Ou(R,$)==0?M[$]=!1:M[$]=!0}p=this.X.Ia(),R=this.X,$=0;var P=1;for(g=0;g<f;g++)M[g]?P=g+1:($<P&&p.Fd(R,$,P),$=g+1);return $<P&&p.Fd(R,$,P),p.Ch(2,this.Bo),p},h.prototype.NV=function(){var f=this.X,p=f.Ga(),g=f.Ga(),_=this.X.Ia(),M=this.X,R=f.hasAttribute(1),$=R?c.ta.wE(this.Qg,f,!0):0,P=new c.ia(0),j=new c.ia(0);for(P.Jb(c.O.truncate(f.I()/2+1)),j.Jb(c.O.truncate(f.I()/2+1));p.$a();)if(g.$a(),!(2>f.Ja(p.gb))){g.EW();for(var F,V,W=!0;p.Ha();){var q=p.ha(),J=g.li();if(p.wb()>g.wb())break;W&&(P.add(p.wb()),j.add(g.ik()),W=!1),V=P.Fc();var nt=p.ik();if(1<nt-V){var st=new c.h;st.uc(f.Na(V),f.Na(nt)),F=st.length()}else F=q.Qb();V=j.Fc(),1<(nt=g.wb())-V?((st=new c.h).uc(f.Na(V),f.Na(nt)),V=st.length()):V=J.Qb(),F>this.Bo?P.add(p.ik()):R&&(F=f.Uc(1,P.Fc(),0),q=q.gv(1,0),Math.abs(q-F)>$&&P.add(p.ik())),V>this.Bo?j.add(g.wb()):R&&(F=f.Uc(1,j.Fc(),0),q=J.gv(1,0),Math.abs(q-F)>$&&j.add(g.wb()))}if(P.Fc()<j.Fc()?P.size>j.size?P.If():j.If():(P.Fc()!=j.Fc()&&j.If(),j.If()),2<=j.size+P.size){for(W=new c.Sa,J=0,q=P.size;J<q;J++)M.ve(P.get(J),W),J==0?_.nf(W):_.lineTo(W);for(J=j.size-1;0<J;J--)M.ve(j.get(J),W),_.lineTo(W);M.dc(p.gb)?_.Ap():0<j.size&&(M.ve(j.get(0),W),_.lineTo(W))}P?.clear(!1),j?.clear(!1)}return _.Ch(2,this.Bo),_},h.prototype.rV=function(){return this.DX()},h.prototype.DX=function(){return this.X.getType()==1736&&this.X.In()==1?c.Fg.Mk(this.X,this.Bo,!0,!1,this.nd):(this.Hi=new c.gd,this.Hi.Ib(this.X),this.Hi.fd!=0&&(this.xA!=1&&c.Tk.V(this.Hi,this.Bo,this.nd,!0),this.X.getType()==1736&&c.rn.V(this.Hi,this.Hi.ld,this.xA,!1,this.nd)),this.X=this.Hi.Ne(this.Hi.ld),this.X.getType()==1736&&(this.X.fm(),this.X.Yo(0)),this.X.Ch(2,this.Bo),this.X)},h.rs=function(f,p,g,_,M){if(_!=null&&(_.Jj=0,_.Jo=-1,_.Ko=-1),f.B())return 1;var R=f.getType();if(R==33)return 1;var $=c.ta.kj(p,f,!1);if(R==197)return p=new c.l,f.A(p),p.Bi($)?(_!=null&&(_.Jj=2,_.Jo=-1,_.Ko=-1),0):1;if(c.aa.yd(R))return($=new c.Ta(f.description)).oc(f,!0),h.rs($,p,g,_,M);var P=f.om($);if((g=g?-1:P)!=-1)return g;if(p=new h(f,p,g,M,!1),R==550)g=p.kU();else if(R==1607)g=p.JV();else{if(R!=1736)throw c.i.Qa();g=p.oV()}return f.Ch(g,$),_!=null&&g==0&&_.Wt(p.ke),g},h.cK=function(f,p,g,_){if(f.B())return f;var M=f.getType();if(M==33)return f;var R=c.ta.kj(p,f,!1);if(M==197)return p=new c.l,f.A(p),p.Bi(R)?f.Ia():f;if(c.aa.yd(M))return(M=new c.Ta(f.description)).oc(f,!0),h.cK(M,p,g,_);if(R=f.om(R),(g=g?-1:R)==2)return f;if(f=new h(f,p,g,_,!1),M==550)f=f.pU();else if(M==1607)f=f.NV();else{if(M!=1736)throw c.i.Qa();f=f.rV()}return f},h.prototype.Mh=function(f,p,g){if(f==p)return 0;f=this.gi.get(f);var _=this.gi.get(p);p=f>>1;var M=_>>1,R=new c.h,$=new c.h;return this.lf.tc(2*p,R),R.y+=1&f?this.Oj:-this.Oj,this.lf.tc(2*M,$),$.y+=1&_?this.Oj:-this.Oj,(f=R.compare($))==0&&g?0>(g=this.Fl.get(p)-this.Fl.get(M))?-1:0<g?1:0:f},h.prototype.Ou=function(f,p){if(f==p)return 0;var g=this.X,_=g.Na(f),M=g.Na(p);if(_.x<M.x)return-1;if(_.x>M.x)return 1;if(_.y<M.y)return-1;if(_.y>M.y)return 1;for(_=1;_<this.oT;_++){M=this.nH.kd(_);for(var R=c.ra.Va(M),$=0;$<R;$++){var P=g.Uc(M,f,$),j=g.Uc(M,p,$);if(P<j)return-1;if(P>j)return 1}}return 0},h.prototype.PO=function(f,p){var g=this.Ou(f,p);return g==0?f<p?-1:1:g},h.prototype.XP=function(f,p){if(f===p)return 0;var g=f.ne.kg();f.Wp()&&g.Sq(),f=p.ne.kg(),p.Wp()&&f.Sq(),p=g.qu();var _=f.qu();return _==p?(p=g.wi(f),Math.abs(p)<=8881784197001252e-31*(Math.abs(f.x*g.y)+Math.abs(f.y*g.x))&&(p--,p++),0>p?1:0<p?-1:0):p<_?-1:1},h})();c.Jx=l})(Q||(Q={})),(function(c){var I=(function(w){function u(){return w!==null&&w.apply(this,arguments)||this}return Me(u,w),u.prototype.getType=function(){return 30},u.local=function(){return u.instance===null&&(u.instance=new u),u.instance},u.prototype.V=function(o,r,s,l){return o instanceof c.aa?(o=new c.Zc(o),r=new c.Zc(r),this.V(o,r,s,l).next()):new c.BL(o,r,s,l)},u.ep=function(o,r,s,l){var h=o.Db(),f=r.Db();if(o.B()&&r.B())return h>f?o:r;if(o.B())return r;if(r.B())return o;var p=new c.l,g=new c.l,_=new c.l;return o.A(p),r.A(g),_.K(p),_.Zb(g),p=c.ta.Wd(s,_,!0),g=o.getType(),_=r.getType(),g==33&&_==33?u.aV(o,r,p):g!=_?0<h||0<f?h>f?o:r:g==550?u.iI(o,r,p):u.iI(r,o,p):c.Fg.ep(o,r,s,l)},u.aV=function(o,r,s){s=s*Math.sqrt(2)*1.00001,s*=s;var l=o.D(),h=r.D(),f=new c.de(o.description);return c.h.yc(l,h)>s&&(f.add(o),f.add(r)),f},u.iI=function(o,r,s){var l=o.ub(0),h=o.I(),f=r.D(),p=o.Ia();s=s*Math.sqrt(2)*1.00001;var g=new c.l;if(o.A(g),g.W(s,s),g.contains(f)){s*=s,g=!1;for(var _=[],M=0;M<h;M++)_[M]=!1;for(M=0;M<h;M++){var R=l.read(2*M),$=l.read(2*M+1);(R-=f.x)*R+($-=f.y)*$<=s&&(g=!0,_[M]=!0)}if(g)for(M=0;M<h;M++)_[M]||p.Fd(o,M,M+1);else p.Fd(o,0,h),p.add(r)}else p.Fd(o,0,h),p.add(r);return p},u.instance=null,u})(c.Je);c.Kx=I})(Q||(Q={})),(function(c){var I=(function(){function w(u,o,r,s){this.ts=o==null,this.ya=-1,this.Rd=u,this.vg=r,this.NT=o.next(),this.Ub=s}return w.prototype.next=function(){return this.ts?null:(u=this.Rd.next())!=null?(this.ya=this.Rd.La(),c.Kx.ep(u,this.NT,this.vg,this.Ub)):null;var u},w.prototype.La=function(){return this.ya},w.prototype.qe=function(){},w})();c.BL=I})(Q||(Q={})),(function(c){var I=(function(){function o(){}return o.prototype.Fz=function(){this.$y=null,this.Ax=-1,this.AK=!1},o})(),w=(function(){function o(){this.Gr=0,this.pj=[]}return o.prototype.pN=function(r){this.Gr+=r.Ax,this.pj.push(r)},o.prototype.TV=function(){this.Gr-=this.pj[this.pj.length-1].Ax,--this.pj.length},o.prototype.my=function(){return this.pj[this.pj.length-1]},o.prototype.Nb=function(r){return r===this},o})(),u=(function(){function o(r,s,l){this.ya=-1,this.Ic=!1,this.AH=[!1,!1,!1,!1],this.uq=[0,0,0,0],this.jA=!1,this.zk=-1,this.iq=0,this.bo=-1,this.Do=[],this.Rd=r,this.vg=s,this.Ub=l}return o.dE=function(r){var s=[],l=0;for(r=Object.keys(r);l<r.length;l++)s.push(Number(r[l]));return s.sort((function(h,f){return h-f})),s},o.prototype.fG=function(r){var s=this.Do[r],l=o.dE(s)[0],h=s[l],f=h.my().$y;return h=h.my().AK,delete s[l],h&&(f=c.Yl.local().V(f,this.vg,!1,this.Ub),r==0&&f.getType()==33&&(r=new c.de(f.description),f.B()||r.add(f),f=r)),f},o.prototype.next=function(){if(this.Ic&&this.bo==this.zk)return null;for(;!this.qK(););if(this.zk==-1)return null;if(this.jA){for(this.bo++;;){if(this.bo>this.zk||0>this.bo)throw c.i.Qa();if(this.AH[this.bo])break}return this.ya++,this.fG(this.bo)}return this.ya=0,this.bo=this.zk,this.fG(this.zk)},o.prototype.La=function(){return this.ya},o.prototype.qK=function(){if(this.Ic)return!0;var r=null;if(this.Rd!=null&&(r=this.Rd.next())==null&&(this.Ic=!0,this.Rd=null),c.mp.zp(this.Ub),r!=null){var s=r.Db();this.AH[s]=!0,s>=this.zk&&!this.jA&&(this.ND(s,!1,r),s>this.zk&&!this.jA&&this.zW(s))}if(0<this.iq)for(s=0;s<=this.zk;s++)for(;1<this.uq[s]&&(r=this.FO(s)).length!=0;)r=c.Fg.VP(r,this.vg,this.Ub),this.ND(s,!0,r);return this.Ic},o.prototype.FO=function(r){for(var s=[],l=[],h=this.Do[r],f=o.dE(h),p=0;p<f.length;p++){var g=f[p],_=h[g];if(this.Ic||1e4<_.Gr&&1<_.pj.length){for(this.uq[r]-=_.pj.length,this.iq-=_.pj.length;0<_.pj.length;)s.push(_.my().$y),_.TV();l.push(g)}}for(p=0;p<l.length;p++)delete h[l[p]];return s},o.prototype.zW=function(r){for(var s=0;s<r;s++)this.Do[s]=[],this.iq-=this.uq[s],this.uq[s]=0},o.prototype.ND=function(r,s,l){var h=new I;if(h.Fz(),h.$y=l,l=o.eS(l),h.Ax=l,l=o.cS(l),r+1>this.Do.length)for(var f=0,p=Math.max(2,r+1);f<p;f++)this.Do.push([]);(f=this.Do[r][l])===void 0&&(f=new w,this.Do[r][l]=f),h.AK=s,f.pN(h),this.uq[r]++,this.iq++,this.zk=Math.max(this.zk,r)},o.cS=function(r){return 0<r?c.O.truncate(Math.log(r)/Math.log(4)+.5):0},o.eS=function(r){var s=r.getType();if(c.aa.xj(s))return r.I();if(s==33)return 1;if(s==197)return 4;if(c.aa.yd(s))return 2;throw c.i.Qa()},o.prototype.qe=function(){this.qK()},o})();c.DL=u})(Q||(Q={})),(function(c){var I=(function(w){function u(){return w!==null&&w.apply(this,arguments)||this}return Me(u,w),u.prototype.getType=function(){return 1},u.prototype.V=function(o,r,s,l){return l===void 0?new c.DL(o,r,s):this.gQ(o,r,s,l)},u.prototype.gQ=function(o,r,s,l){return o=new c.Zc([o,r]),this.V(o,s,l).next()},u.local=function(){return u.instance===null&&(u.instance=new u),u.instance},u.instance=null,u})(c.Je);c.Gh=I})(Q||(Q={})),(function(c){var I,w;(w=I||(I={}))[w.nextPath=0]="nextPath",w[w.nextSegment=1]="nextSegment",w[w.iterate=2]="iterate",I=(function(){function u(o,r,s,l){this.Ts=new c.l,this.GT=o,this.HT=r,this.mq=l,this.uo=-1,this.rl=!1;var h=o.Bb;h!=null&&(h=l?h.zo:h.Fb)!=null&&(this.Ic=!1,this.qa=s,this.Fb=h,this.xw=this.Fb.getIterator(),this.nq=this.rl=!0,this.Xb=0,l?this.uo=r.da():this.sd=r.Ga()),this.rl||(h=r.Bb)!=null&&(h=l?h.zo:h.Fb)!=null&&(this.Ic=!1,this.qa=s,this.Fb=h,this.xw=this.Fb.getIterator(),this.rl=!0,this.nq=!1,this.Xb=0,l?this.uo=o.da():this.sd=o.Ga()),this.rl||(this.ci=l?c.ta.mR(o,r,s,1<=o.om(0),1<=r.om(0)):c.ta.lR(o,r,s))}return u.prototype.next=function(){if(this.rl){if(this.Ic)return!1;for(var o=!0;o;)switch(this.Xb){case 0:o=this.xU();break;case 1:o=this.yU();break;case 2:o=this.Uz();break;default:throw c.i.fa("internal error")}return!this.Ic}return this.ci!=null&&this.ci.next()},u.prototype.nl=function(){return this.rl?this.nq?this.Fb.ja(this.Fs):this.mq?this.uo:this.sd.wb():this.ci.nl(this.ci.Vf)},u.prototype.hl=function(){return this.rl?this.nq?this.mq?this.uo:this.sd.wb():this.Fb.ja(this.Fs):this.ci.hl(this.ci.Af)},u.prototype.uz=function(){if(!this.mq)throw c.i.fa("internal error");return this.rl?this.nq?this.Fb.GF(this.Fs):this.Ts:this.ci.uz(this.ci.Vf)},u.prototype.az=function(){if(!this.mq)throw c.i.fa("internal error");return this.rl?this.nq?this.Ts:this.Fb.GF(this.Fs):this.ci.az(this.ci.Af)},u.prototype.xU=function(){return this.mq?--this.uo==-1?(this.Ic=!0,!1):(this.nq?this.HT.Rj(this.uo,this.Ts):this.GT.Rj(this.uo,this.Ts),this.xw.Xi(this.Ts,this.qa),this.Xb=2,!0):this.sd.$a()?(this.Xb=1,!0):(this.Ic=!0,!1)},u.prototype.yU=function(){if(!this.sd.Ha())return this.Xb=0,!0;var o=this.sd.ha();return this.xw.Uo(o,this.qa),this.Xb=2,!0},u.prototype.Uz=function(){return this.Fs=this.xw.next(),this.Fs==-1&&(this.Xb=this.mq?0:1,!0)},u})(),c.Zl=I})(Q||(Q={})),(function(c){(c=c.OL||(c.OL={}))[c.enumClosed=1]="enumClosed",c[c.enumHasNonlinearSegments=2]="enumHasNonlinearSegments",c[c.enumOGCStartPolygon=4]="enumOGCStartPolygon",c[c.enumCalcMask=4]="enumCalcMask"})(Q||(Q={})),(function(c){c.QC=(function(){function I(){}return I.tb=function(w,u,o,r,s,l,h,f,p){var g=[0,0,0],_=[0,0,0],M=[0,0,0],R=[0,0,0,0],$=new c.ga(0),P=new c.ga(0),j=new c.ga(0);if(h!=null||f!=null||p!=null)if(c.s.ti(u))c.Yg.tb(w,o,r,s,l,h,f,p);else{s=c.F.ba(s),o=c.F.ba(o);var F=c.F.ba(s-o);if(c.s.Y(r,l)&&(c.s.Y(o,s)||c.s.Y(c.s.P(r),1.570796326794897)))h!=null&&(h.u=0),f!=null&&(f.u=0),p!=null&&(p.u=0);else{if(c.s.Y(r,-l)){if(c.s.Y(c.s.P(r),1.570796326794897))return h!=null&&(h.u=2*c.F.Ah(w,u)),f!=null&&(f.u=0<r?c.F.ba(3.141592653589793-c.F.ba(s)):c.F.ba(s)),void(p!=null&&(p.u=0<r?c.F.ba(s):c.F.ba(3.141592653589793-c.F.ba(s))));c.s.Y(c.s.P(F),3.141592653589793)&&(h!=null&&(h.u=2*c.F.Ah(w,u)),f!=null&&(f.u=0),p!=null&&(p.u=0))}else if(c.s.Y(c.s.P(r),1.570796326794897)||c.s.Y(c.s.P(l),1.570796326794897)||c.s.Y(o,s)||c.s.Y(c.s.P(F),3.141592653589793)||c.s.Cd(r))return void c.Wk.tb(w,u,o,r,s,l,h,f,p);var V=Math.sqrt(1-u);s=c.F.ba(s-o),o=0,c.F.cl(1,u,r,o,0,$,P,j),g[0]=$.u,g[1]=P.u,g[2]=j.u,c.F.cl(1,u,l,s,0,$,P,j),_[0]=$.u,_[1]=P.u,_[2]=j.u,M[0]=0,M[1]=0,M[2]=-1*u*c.F.n(1,u,r)*Math.sin(r),0>s?c.F.Wq(M,_,g,R,0):c.F.Wq(M,g,_,R,0),P=[0,0,0],j=[0,0,0];var W=[0,0,0];g=[0,0,0],$=[0,0,0];var q=Math.acos(R[2]/1),J=1-u,nt=Math.tan(q),st=1+nt*nt/J,ct=2*M[2]*nt/J;for(J=(-ct+(nt=Math.sqrt(ct*ct-4*st*(M[2]*M[2]/J-1))))/(st*=2),ct=(-ct-nt)/st,nt=Math.tan(q),q=(J+ct)/2,M=((st=nt*J+M[2])+(nt*ct+M[2]))/2,nt=c.F.gp(J-q,st-M),J=M/V*1.570796326794897,ct=0;100>ct&&(st=(st=c.F.w(u,J))*st/Math.cos(J)*(Math.sin(J)-M*st/(1-u)),!c.s.Cd(st));ct++)J-=st;M=c.F.n(1,u,J)*Math.cos(J),nt=1-nt/(M=Math.sqrt((M-q)*(M+q))),nt*=2-nt,st=c.F.on(P),q=c.F.on(j),J=c.F.on(W);var bt=c.F.St(W,P);ct=c.F.St(W,j),c.F.zx(W,P,g),c.F.zx(W,j,$),P=Math.acos(bt/(J*st)),j=Math.acos(ct/(J*q)),j*=c.s.Mb(1,c.F.St(g,$)),(1.570796326794897<=c.s.P(P)&&1.570796326794897<=c.s.P(j)||3.141592653589793<c.s.P(P-j))&&(P=(3.141592653589793-c.s.P(P))*c.s.Mb(1,P),j=(3.141592653589793-c.s.P(j))*c.s.Mb(1,j)),g=c.F.Qj(nt,j),$=c.F.q(M,nt,c.F.Qj(nt,P)),g=c.F.q(M,nt,g),g=c.s.P(g-$)*w,P=new c.ga(0),j=new c.ga(0),W=R[1]/1,W*=-c.s.Mb(1,F),$=Math.acos(W)*c.s.Mb(1,F),I.rf(w,u,o,r,g,$,P,j),c.s.Y(s,P.u)&&c.s.Y(l,j.u)||(nt=c.F.gp(c.F.ba(s-P.u),l-j.u),I.rf(w,u,o,r,g,c.F.ba($+3.141592653589793),P,j),(st=c.F.gp(c.F.ba(s-P.u),l-j.u))<nt&&($=c.F.ba($+3.141592653589793))),P=[0,0,0,0],j=[0,0,0,0],nt=[0,0,0],w=[0,0,0],o=[0,0,0],r=[0,0,0],W=[0,0,0],(M=[0,0,0])[0]=0,M[1]=0,M[2]=V,nt[0]=0,nt[1]=0,nt[2]=0,c.F.Wq(nt,M,_,P,0),c.s.Cd(l)?(w[0]=_[0],w[1]=_[1],w[2]=1,o[0]=1*Math.cos(s)-1*Math.sin(s),o[1]=1*Math.sin(s)+1*Math.cos(s)):(u=c.F.n(1,u,l)*Math.cos(l),w[0]=0,w[1]=0,_[2]+=Math.tan(1.570796326794897-c.s.P(l))*u*c.s.Mb(1,l),o[0]=u*Math.cos(s)-u*Math.sin(s),o[1]=u*Math.sin(s)+u*Math.cos(s)),o[2]=_[2],c.F.Wq(_,o,w,j,1),c.F.zx(j,P,r),c.F.zx(j,R,W),W=c.F.St(r,W)/(c.F.on(r)*c.F.on(W)),W*=c.s.Mb(1,F),s=Math.acos(W)*-c.s.Mb(1,F),(0<$&&0<s||0>$&&0>s)&&(s=c.F.ba(s+3.141592653589793)),h!=null&&(h.u=g),f!=null&&(f.u=$),p!=null&&(p.u=s)}}},I.rf=function(w,u,o,r,s,l,h,f){var p=[0,0,0],g=[0,0,0],_=[0,0,0],M=[0,0,0],R=[0,0,0],$=[0,0,0],P=[0,0,0],j=[0,0,0,0],F=new c.ga(0),V=new c.ga(0),W=new c.ga(0),q=new c.ga(0),J=new c.ga(0),nt=new c.ga(0);if(h!=null&&f!=null)if(c.s.ti(u))c.Yg.rf(w,o,r,s,l,h,f);else if(c.s.Cd(s))h!=null&&(h.u=o),f!=null&&(f.u=r);else if(l=c.F.ba(l),0>s&&(s=c.s.P(s),l=c.F.ba(l+3.141592653589793)),o=c.F.ba(o),r=c.F.ba(r),1.570796326794897<c.s.P(r)&&(o=c.F.ba(o+3.141592653589793),r=c.s.Mb(3.141592653589793,r)-r),c.s.Y(c.s.P(r),1.570796326794897)||c.s.Cd(r)||c.s.Cd(l)||c.s.Y(c.s.P(l),3.141592653589793))c.Wk.rf(w,u,o,r,s,l,h,f);else{var st=Math.sqrt(1-u);for(w=s/w,c.F.cl(1,u,r,0,0,q,J,nt),p[0]=q.u,p[1]=J.u,p[2]=J.u,P[0]=0,P[1]=0,P[2]=-1*u*c.F.n(1,u,r)*Math.sin(r),q=c.F.n(1,u,r),J=c.F.ba(1.570796326794897-l),nt=Math.sin(J),s=Math.cos(r),r=Math.sin(r),R[0]=q*s-r*nt,R[1]=Math.cos(J),R[2]=(1-u)*q*r+s*nt,0>l?c.F.Wq(P,R,p,j,0):c.F.Wq(P,p,R,j,0),p=Math.acos(j[2]/1),j=Math.atan2(-j[1],-j[0]),r=1-u,J=1+(R=Math.tan(p))*R/r,r=(-(q=2*P[2]*R/r)+(R=Math.sqrt(q*q-4*J*(P[2]*P[2]/r-1))))/(J*=2),q=(-q-R)/J,R=Math.tan(p),p=(r+q)/2,P=((J=R*r+P[2])+(R*q+P[2]))/2,R=c.F.gp(r-p,J-P),st=P/st*1.570796326794897,r=0;100>r&&(q=(q=c.F.w(u,st))*q/Math.cos(st)*(Math.sin(st)-P*q/(1-u)),!c.s.Cd(q));r++)st-=q;st=c.F.n(1,u,st)*Math.cos(st),P=1-R/(st=Math.sqrt((st-p)*(st+p))),P*=2-P,$=Math.acos(c.F.St($,g)/(c.F.on($)*c.F.on(g))),$*=c.s.Mb(1,g[0]),l=(c.F.q(st,P,c.F.Qj(P,$))+w*c.s.Mb(1,l))/c.F.Ah(st,P),l=c.F.ba(1.570796326794897*l),l=c.F.Rq(P,l),c.F.n(st,P,l),R=c.F.ba(j+o),o=Math.cos(R),l=Math.sin(R),_[0]=M[0]*o+M[1]*-l,_[1]=M[0]*l+M[1]*o,_[2]=M[2],c.F.jO(u,_[0],_[1],_[2],W,V,F),h!=null&&(h.u=V.u),f!=null&&(f.u=W.u)}},I})()})(Q||(Q={})),(function(c){var I=(function(){function s(l){this.Ya=null,this.wt=new c.h,this.xt=new c.h,this.g=l}return s.prototype.compare=function(l,h,f){return this.g.Gc(h,this.wt),this.g.Gc(l.ja(f),this.xt),this.wt.compare(this.xt)},s})(),w=(function(){function s(l){this.Bf=new c.h,this.Dk=new c.h,this.g=l}return s.prototype.Dh=function(l){this.Bf.L(l)},s.prototype.compare=function(l,h){return this.g.Gc(l.ja(h),this.Dk),this.Bf.compare(this.Dk)},s})(),u=(function(s){function l(h){var f=s.call(this,h.g,h.qa,!1)||this;return f.ib=h,f}return Me(l,s),l.prototype.compare=function(h,f,p){if(this.rg)return-1;var g=this.ib.Qd.Jn(this.ib.Rh(f));h=h.ja(p);var _=this.ib.Qd.Jn(this.ib.Rh(h));return this.Dm=p,this.RE(f,g,h,_)},l})(c.UC),o=(function(s){function l(h){var f=s.call(this,h.g,h.qa)||this;return f.ib=h,f}return Me(l,s),l.prototype.compare=function(h,f){return this.rg?-1:(h=this.ib.Qd.Jn(this.ib.Rh(h.ja(f))),this.Dm=f,this.SE(f,h))},l})(c.aM),r=(function(){function s(){this.Mc=this.df=this.jo=this.Qd=this.lh=this.zd=this.hb=this.g=null,this.Ng=!1,this.vh=this.Nm=this.ie=this.Gk=this.nh=this.Ak=this.Ff=this.$d=null,this.xh=this.Jq=this.UA=this.qa=0,this.Xv=this.Wn=!1,this.yo=new c.h,this.Pi=new c.h,this.hb=new c.$c(8),this.zd=new c.$c(5),this.lh=new c.au,this.Qd=new c.au,this.Ng=!1,this.vh=new c.h,this.vh.ma(0,0),this.qa=0,this.xh=-1,this.Wn=!1,this.g=null,this.df=new c.Yj,this.Mc=new c.Yj,this.nh=new c.ia(0),this.Gk=new c.TC,this.Ff=new c.ia(0),this.Ak=new c.ia(0),this.jo=new c.Sa}return s.prototype.PX=function(l,h){var f=new c.Dd;return f.$B(),l.Oc(f),this.er(l),this.Wn=!1,this.qa=h,this.UA=h*h,h=this.jC(),l.Oc(f),h||(this.qQ(),h||this.jC()),this.xh!=-1&&(this.g.Td(this.xh),this.xh=-1),this.g=null,this.Wn},s.prototype.TX=function(l,h){this.er(l),this.Wn=!1,this.qa=h,this.UA=h*h,this.Ng=!1,this.jC(),this.Ng||(this.Ng=l.Gp(h,!0,!1)==1),this.xh!=-1&&(this.g.Td(this.xh),this.xh=-1),this.g=null},s.prototype.pg=function(l,h){return this.hb.T(l,0+h)},s.prototype.LB=function(l,h,f){this.hb.S(l,0+h,f)},s.prototype.Rh=function(l){return this.hb.T(l,2)},s.prototype.ZW=function(l,h){this.hb.S(l,2,h)},s.prototype.RF=function(l,h){return this.hb.T(l,3+h)},s.prototype.Pp=function(l){return this.hb.T(l,7)},s.prototype.Pl=function(l,h){this.hb.S(l,7,h)},s.prototype.Rp=function(l,h){return this.hb.T(l,3+this.Op(l,h))},s.prototype.fr=function(l,h,f){this.hb.S(l,3+this.Op(l,h),f)},s.prototype.NR=function(l,h){return this.hb.T(l,5+this.Op(l,h))},s.prototype.hr=function(l,h,f){this.hb.S(l,5+this.Op(l,h),f)},s.prototype.Sr=function(l){return this.zd.T(l,0)},s.prototype.UW=function(l,h){this.zd.S(l,0,h)},s.prototype.ez=function(l){return this.zd.T(l,4)},s.prototype.cr=function(l,h){this.zd.S(l,4,h)},s.prototype.il=function(l){return this.zd.T(l,1)},s.prototype.ln=function(l,h){this.zd.S(l,1,h)},s.prototype.dz=function(l){return this.zd.T(l,3)},s.prototype.Et=function(l,h){this.zd.S(l,3,h)},s.prototype.Ym=function(l){var h=this.zd.Ce(),f=this.lh.Ph();return this.UW(h,f),l!=-1?(this.lh.addElement(f,l),this.g.Ra(l,this.xh,h),this.cr(h,this.g.Ua(l))):this.cr(h,-1),h},s.prototype.HP=function(l){this.zd.jd(l)},s.prototype.LD=function(l,h){this.lh.addElement(this.Sr(l),h),this.g.Ra(h,this.xh,l)},s.prototype.nt=function(l){var h=this.hb.Ce(),f=this.Qd.Ph();return this.ZW(h,f),l!=-1&&this.Qd.addElement(f,l),h},s.prototype.MD=function(l,h){this.Qd.addElement(this.Rh(l),h)},s.prototype.Uu=function(l){this.hb.jd(l),0<=(l=this.nh.lF(l))&&this.nh.SV(l)},s.prototype.hj=function(l,h){if(this.pg(l,0)==-1)this.LB(l,0,h);else{if(this.pg(l,1)!=-1)throw c.i.Qa();this.LB(l,1,h)}this.ky(l,h)},s.prototype.ky=function(l,h){var f=this.il(h);if(f!=-1){var p=this.Rp(f,h);this.hr(p,h,l),this.fr(l,h,p),this.fr(f,h,l),this.hr(l,h,f)}else this.hr(l,h,l),this.fr(l,h,l),this.ln(h,l)},s.prototype.Op=function(l,h){return this.pg(l,0)==h?0:1},s.prototype.Xm=function(l,h){var f,p=this.dz(h);if(p!=-1&&(this.df.vd(p,-1),this.Et(h,-1)),(p=this.il(h))!=-1){var g=f=p;do{var _=!1,M=this.Op(f,h),R=this.RF(f,M);if(this.pg(f,M+1&1)==l){if(this.Xu(f),this.Qd.bh(this.Rh(f)),this.Uu(f),f==R){p=-1;break}p==f&&(p=this.il(h),g=R,_=!0)}f=R}while(f!=g||_);if(p!=-1){do M=this.Op(f,h),R=this.RF(f,M),this.LB(f,M,l),f=R;while(f!=g);(f=this.il(l))!=-1?(g=this.Rp(f,l),_=this.Rp(p,l),g==f?(this.ln(l,p),this.ky(f,l),this.ln(l,f)):_==p&&this.ky(p,l),this.fr(p,l,g),this.hr(g,l,p),this.fr(f,l,_),this.hr(_,l,f)):this.ln(l,p)}}for(p=this.Sr(l),f=this.Sr(h),g=this.lh.rc(f);g!=-1;g=this.lh.lb(g))this.g.Ra(this.lh.ja(g),this.xh,l);this.lh.Hy(p,f),this.HP(h)},s.prototype.UT=function(l,h){var f=this.pg(l,0),p=this.pg(l,1),g=this.pg(h,0),_=this.pg(h,1);this.Qd.Hy(this.Rh(l),this.Rh(h)),h==this.il(f)&&this.ln(f,l),h==this.il(p)&&this.ln(p,l),this.Xu(h),this.Uu(h),f==g&&p==_||p==g&&f==_||(this.Hn(f,this.yo),this.Hn(g,this.Pi),this.yo.qb(this.Pi)?(f!=g&&this.Xm(f,g),p!=_&&this.Xm(p,_)):(p!=g&&this.Xm(p,g),f!=_&&this.Xm(f,_)))},s.prototype.Xu=function(l){var h=this.pg(l,1);this.dF(l,this.pg(l,0)),this.dF(l,h)},s.prototype.dF=function(l,h){var f=this.Rp(l,h),p=this.NR(l,h),g=this.il(h);f!=l?(this.fr(p,h,f),this.hr(f,h,p),g==l&&this.ln(h,f)):this.ln(h,-1)},s.prototype.WD=function(l,h,f){var p=this.Qd.rc(l),g=this.Qd.ja(p);l=this.Le(g);var _=this.Le(this.g.U(g));for(this.g.jr(g,h,f,!0),p=this.Qd.lb(p);p!=-1;p=this.Qd.lb(p)){g=this.Qd.ja(p);var M=this.Le(g)==l;this.g.jr(g,h,f,M)}p=h.Vp(f,0).ac(),h=h.Vp(f,h.ol(f)-1).wc(),this.BK(l,p),this.BK(_,h)},s.prototype.ZE=function(l,h,f){var p=this.Rh(l),g=this.pg(l,0),_=this.pg(l,1),M=this.nt(-1);for(this.nh.add(M),this.Pl(M,-3),this.Ff.add(M),this.hj(M,g),l=1,h=h.ol(f);l<h;l++)f=this.Ym(-1),this.Ak.add(f),this.Ff.add(f),this.hj(M,f),M=this.nt(-1),this.nh.add(M),this.Pl(M,-3),this.Ff.add(M),this.hj(M,f);for(this.hj(M,_),p=this.Qd.rc(p);p!=-1;p=this.Qd.lb(p))if(_=this.Qd.ja(p),this.Le(_)==g){l=0;do 0<l&&(M=this.Ff.get(l-1),this.LD(M,_),this.ez(M)==-1&&this.cr(M,this.g.Ua(_))),M=this.Ff.get(l),l+=2,this.MD(M,_),_=this.g.U(_);while(l<this.Ff.size)}else{l=this.Ff.size-1;do l<this.Ff.size-2&&(M=this.Ff.get(l+1),this.LD(M,_),0>this.ez(M)&&this.cr(M,this.g.Ua(_))),M=this.Ff.get(l),l-=2,this.MD(M,_),_=this.g.U(_);while(0<=l)}this.Ff.clear(!1)},s.prototype.Le=function(l){return this.g.Pa(l,this.xh)},s.prototype.TI=function(l,h,f){var p=this.pg(h,0),g=new c.h;this.Hn(p,g);var _=new c.h,M=this.pg(h,1);this.Hn(M,_);var R=f.ol(l),$=f.Vp(l,0),P=new c.h;if($.Yp(P),!g.qb(P)){if(!this.Ng){var j=g.compare(this.vh);0>j*(P=P.compare(this.vh))&&(this.Ng=!0)}this.vF(p,this.Ff),this.Ak.add(p)}for(!this.Ng&&1<R&&(j=g.compare(_),$=$.wc(),(g.compare($)!=j||$.compare(_)!=j||0>$.compare(this.vh))&&(this.Ng=!0)),l=($=f.Vp(l,R-1)).wc(),_.qb(l)||(this.Ng||0>(j=_.compare(this.vh))*(P=l.compare(this.vh))&&(this.Ng=!0),this.vF(M,this.Ff),this.Ak.add(M)),this.Ff.add(h),_=0,M=this.Ff.size;_<M;_++)l=this.Ff.get(_),f=this.Pp(l),c.$c.LG(f)&&(this.Mc.vd(f,-1),this.Pl(l,-1)),l!=h&&this.Pp(l)!=-3&&(this.nh.add(l),this.Pl(l,-3));this.Ff.clear(!1)},s.prototype.lO=function(l,h){this.$d.compare(this.Mc,this.Mc.ja(l),h),this.$d.rg&&(this.$d.Kr(),this.oF(l,h))},s.prototype.oF=function(l,h){this.Wn=!0,l=this.Mc.ja(l),h=this.Mc.ja(h);var f=this.Qd.Jn(this.Rh(l)),p=this.Qd.Jn(this.Rh(h)),g=this.g.bc(f);g==null&&(this.ie==null&&(this.ie=new c.yb),this.g.ed(f,this.ie),g=this.ie),(f=this.g.bc(p))==null&&(this.Nm==null&&(this.Nm=new c.yb),this.g.ed(p,this.Nm),f=this.Nm),this.Gk.Oo(g),this.Gk.Oo(f),this.Gk.Ea(this.qa,!0)&&(this.Ng=!0),this.hK(l,h,-1,this.Gk),this.Gk.clear()},s.prototype.GQ=function(l,h){this.Wn=!0,h=this.Mc.ja(h);var f=this.Qd.Jn(this.Rh(h)),p=this.g.bc(f);p==null&&(this.ie==null&&(this.ie=new c.yb),this.g.ed(f,this.ie),p=this.ie),f=this.BF(l),this.Gk.Oo(p),this.g.Vi(f,this.jo),this.Gk.Kz(this.qa,this.jo,!0),this.hK(h,-1,l,this.Gk),this.Gk.clear()},s.prototype.xS=function(){if(this.nh.size!=0)for(;this.nh.size!=0;){if(this.nh.size>Math.max(100,this.g.fd)){this.nh.clear(!1),this.Ng=!0;break}var l=this.nh.Fc();this.nh.If(),this.Pl(l,-1),this.WS(l)!=-1&&this.wS(l),this.Vn=!1}},s.prototype.wS=function(l){if(this.Vn){var h=this.Mc.zu(this.MH,this.GH,l,!0);this.Vn=!1}else h=this.Mc.KD(l);h==-1?this.UT(this.Mc.ja(this.Mc.FF()),l):(this.Pl(l,h),this.$d.rg&&(this.$d.Kr(),this.oF(this.$d.Dm,h)))},s.prototype.WS=function(l){var h=this.pg(l,0);if(l=this.pg(l,1),this.Hn(h,this.yo),this.Hn(l,this.Pi),c.h.yc(this.yo,this.Pi)<=this.UA)return this.Ng=!0,-1;var f=this.yo.compare(this.vh),p=this.Pi.compare(this.vh);return 0>=f&&0<p?l:0>=p&&0<f?h:-1},s.prototype.oQ=function(){var l=new c.ia(0);l.Jb(this.g.fd);for(var h=this.g.Yq(),f=h.next();f!=-1;f=h.next())this.g.Pa(f,this.xh)!=-1&&l.add(f);this.g.nx(l,l.size),this.pQ(l)},s.prototype.pQ=function(l){this.df.clear(),this.df.De(l.size),this.df.Vo(new I(this.g));var h=new c.h;h.Rc();for(var f=-1,p=new c.h,g=0,_=l.size;g<_;g++){var M=l.get(g);this.g.Gc(M,p),p.qb(h)?(M=this.g.Pa(M,this.xh),this.Xm(f,M)):(f=this.Le(M),this.g.Gc(M,h),M=this.df.xn(M),this.Et(f,M))}},s.prototype.qQ=function(){var l=new c.ia(0);l.Jb(this.g.fd);for(var h=this.df.rc(-1);h!=-1;h=this.df.lb(h))l.add(this.df.ja(h));this.df.clear(),this.g.nx(l,l.size),h=0;for(var f=l.size;h<f;h++){var p=l.get(h),g=this.Le(p);p=this.df.xn(p),this.Et(g,p)}},s.prototype.vF=function(l,h){var f=this.il(l);if(f!=-1){var p=f;do c.$c.LG(this.Pp(p))&&h.add(p),p=this.Rp(p,l);while(p!=f)}},s.prototype.BK=function(l,h){for(l=this.lh.rc(this.Sr(l));l!=-1;l=this.lh.lb(l))this.g.mf(this.lh.ja(l),h)},s.prototype.hK=function(l,h,f,p){this.Xu(l),h!=-1&&this.Xu(h),this.TI(0,l,p),h!=-1&&this.TI(1,h,p),f!=-1&&(p.Bf.D(this.yo),this.Hn(f,this.Pi),this.Pi.qb(this.yo)||this.Ak.add(f)),f=0;for(var g=this.Ak.size;f<g;f++){var _=this.Ak.get(f),M=this.dz(_);M!=-1&&(this.df.vd(M,-1),this.Et(_,-1))}for(f=this.Rh(l),g=h!=-1?this.Rh(h):-1,this.WD(f,p,0),h!=-1&&this.WD(g,p,1),this.ZE(l,p,0),h!=-1&&this.ZE(h,p,1),this.Qd.bh(f),this.Uu(l),h!=-1&&(this.Qd.bh(g),this.Uu(h)),f=0,g=this.Ak.size;f<g;f++)(_=this.Ak.get(f))==this.Jq&&(this.Xv=!0),(M=this.dz(_))==-1&&((M=this.df.KD(this.BF(_)))==-1?(l=this.Le(this.df.ja(this.df.FF())),this.Xm(l,_)):this.Et(_,M));this.Ak.clear(!1)},s.prototype.Hn=function(l,h){this.g.dG(this.ez(l),h)},s.prototype.BF=function(l){return this.lh.Jn(this.Sr(l))},s.prototype.jC=function(){this.Xv=!1,this.Jq=-1,this.$d==null&&(this.Mc.Rv=!1,this.$d=new u(this),this.Mc.Zn=this.$d);var l=new c.ia(0),h=null,f=null;this.GH=this.MH=-1,this.Vn=!1;for(var p=this.df.rc(-1);p!=-1;){this.Vn=!1;var g=this.df.ja(p);this.Jq=this.Le(g),this.g.Gc(g,this.vh),this.$d.$J(this.vh.y,this.vh.x);var _=this.il(this.Jq),M=_==-1;if(!M){g=_;do{var R=this.Pp(g);R==-1?(this.nh.add(g),this.Pl(g,-3)):R!=-3&&l.add(R),g=this.Rp(g,this.Jq)}while(g!=_)}if(0<l.size){for(this.Vn=l.size==1&&this.nh.size==1,M=0,_=l.size;M<_;M++)g=this.Mc.ja(l.get(M)),this.Pl(g,-2);var $=-2,P=-2;for(M=0,_=l.size;M<_;M++){if(R=l.get(M),$==-2){var j=this.Mc.we(R);j!=-1?(g=this.Mc.ja(j),(g=this.Pp(g))!=-2&&($=j)):$=-1}if(P==-2&&((R=this.Mc.lb(R))!=-1?(g=this.Mc.ja(R),(g=this.Pp(g))!=-2&&(P=R)):P=-1),$!=-2&&P!=-2)break}for(M=0,_=l.size;M<_;M++)R=l.get(M),g=this.Mc.ja(R),this.Mc.vd(R,-1),this.Pl(g,-1);l.clear(!1),this.MH=$!=-1?$:-1,this.GH=P!=-1?P:-1,$!=-1&&P!=-1?this.Vn||this.lO($,P):$==-1&&P==-1&&(this.Vn=!1)}else M&&(h==null&&(h=new o(this)),h.Dh(this.vh),this.Mc.uJ(h),h.rg&&(h.Kr(),this.GQ(this.Jq,h.Dm)));this.xS(),this.Xv?(this.Xv=!1,f==null&&(f=new w(this.g)),f.Dh(this.vh),p=this.df.uJ(f)):p=this.df.lb(p)}return this.Wn},s.prototype.er=function(l){for(this.g=l,this.xh=this.g.Gd(),this.hb.De(l.fd+32),this.zd.De(l.fd),this.lh.At(l.fd),this.lh.fn(l.fd),this.Qd.At(l.fd+32),this.Qd.fn(l.fd+32),l=this.g.ld;l!=-1;l=this.g.ue(l))if(c.aa.Hc(this.g.ic(l)))for(R=this.g.Ob(l);R!=-1;R=this.g.Rb(R)){var h=this.g.Ja(R),f=this.g.Xa(R),p=this.Ym(f),g=this.nt(f);for(this.hj(g,p),$=this.g.U(f),f=0,h-=2;f<h;f++){var _=this.g.U($),M=this.Ym($);this.hj(g,M),g=this.nt($),this.hj(g,M),$=_}this.g.dc(R)?(M=this.Ym($),this.hj(g,M),g=this.nt($),this.hj(g,M),this.hj(g,p)):(M=this.Ym($),this.hj(g,M))}else for(var R=this.g.Ob(l);R!=-1;R=this.g.Rb(R)){var $=this.g.Xa(R);for(p=0,h=this.g.Ja(R);p<h;p++)this.Ym($),$=this.g.U($)}this.oQ()},s})();c.RC=r})(Q||(Q={})),(function(c){var I=(function(w){function u(o,r,s){var l=w.call(this)||this;if(o!==void 0)if(s!==void 0){l.description=c.ee.og();var h=new c.Nd;h.K(o,r,s),l.dC(h)}else if(r!==void 0)l.description=c.ee.og(),l.Cb(o,r);else if(o instanceof c.ra)l.description=o;else if(o instanceof c.h)l.description=c.ee.og(),l.Cb(o);else{if(!(o instanceof u))throw c.i.N();l.description=o.description,l.Cb(o.Lg(),o.ih()),o.ka!==null&&(l.ka=o.ka.slice(0))}else l.description=c.ee.og();return l}return Me(u,w),u.prototype.D=function(o){if(o===void 0){if(this.Ac())throw c.i.fa("This operation should not be performed on an empty geometry.");return(o=new c.h).ma(this.ka[0],this.ka[1]),o}if(this.Ac())throw c.i.fa("This operation should not be performed on an empty geometry.");o.ma(this.ka[0],this.ka[1])},u.prototype.Cb=function(o,r){typeof o=="number"?(this.vc(),this.ka==null&&this.un(),this.ka[0]=o,this.ka[1]=r):(this.vc(),this.Cb(o.x,o.y))},u.prototype.Cz=function(){if(this.Ac())throw c.i.fa("This operation should not be performed on an empty geometry.");var o=new c.Nd;return o.x=this.ka[0],o.y=this.ka[1],o.z=this.description.iG()?this.ka[2]:c.ra.se(1),o},u.prototype.dC=function(o){this.vc();var r=this.hasAttribute(1);r||c.ra.DG(1,o.z)||(this.re(1),r=!0),this.ka==null&&this.un(),this.ka[0]=o.x,this.ka[1]=o.y,r&&(this.ka[2]=o.z)},u.prototype.Lg=function(){if(this.Ac())throw c.i.fa("This operation should not be performed on an empty geometry.");return this.ka[0]},u.prototype.cC=function(o){this.setAttribute(0,0,o)},u.prototype.ih=function(){if(this.Ac())throw c.i.fa("This operation should not be performed on an empty geometry.");return this.ka[1]},u.prototype.aK=function(o){this.setAttribute(0,1,o)},u.prototype.bS=function(){return this.Uc(1,0)},u.prototype.wX=function(o){this.setAttribute(1,0,o)},u.prototype.zR=function(){return this.Uc(2,0)},u.prototype.hX=function(o){this.setAttribute(2,0,o)},u.prototype.Ec=function(){return this.yF(3,0)},u.prototype.LJ=function(o){this.setAttribute(3,0,o)},u.prototype.Uc=function(o,r){var s=this.description.Pf(o);return 0<=s?this.ka[this.description.$j(s)+r]:c.ra.se(o)},u.prototype.yF=function(o,r){var s=this.description.Pf(o);return 0<=s?this.ka[this.description.$j(s)+r]:c.ra.se(o)},u.prototype.setAttribute=function(o,r,s){this.vc();var l=this.description.Pf(o);0>l&&(this.re(o),l=this.description.Pf(o)),this.ka==null&&this.un(),this.ka[this.description.$j(l)+r]=s},u.prototype.getType=function(){return 33},u.prototype.Db=function(){return 0},u.prototype.Oa=function(){this.vc(),this.ka!=null&&(this.ka[0]=NaN,this.ka[1]=NaN)},u.prototype.sn=function(o){if(this.ka!=null){for(var r=c.ee.Iw(o,this.description),s=[],l=0,h=0,f=o.Aa;h<f;h++){var p=o.kd(h),g=c.ra.Va(p);if(r[h]==-1){var _=c.ra.se(p);for(p=0;p<g;p++)s[l]=_,l++}else for(_=this.description.$j(r[h]),p=0;p<g;p++)s[l]=this.ka[_],l++,_++}this.ka=s}this.description=o},u.prototype.un=function(){this.lJ(this.description.Ae.length),u.cE(this.description.Ae,this.ka,this.description.Ae.length),this.ka[0]=NaN,this.ka[1]=NaN},u.prototype.Oc=function(o){if(o instanceof c.Dd){if(!this.Ac()){var r=this.D();o.Eh(r,r),this.Cb(r)}}else this.Ac()||(this.re(1),r=this.Cz(),this.dC(o.fp(r)))},u.prototype.copyTo=function(o){if(o.getType()!=33)throw c.i.N();o.vc(),this.ka==null?(o.Oa(),o.ka=null,o.Nf(this.description)):(o.Nf(this.description),o.lJ(this.description.Ae.length),u.cE(this.ka,o.ka,this.description.Ae.length))},u.prototype.Ia=function(){return new u(this.description)},u.prototype.B=function(){return this.Ac()},u.prototype.Ac=function(){return this.ka==null||isNaN(this.ka[0])||isNaN(this.ka[1])},u.prototype.bn=function(o){o.Oa(),this.description!=o.description&&o.Nf(this.description),o.Zb(this)},u.prototype.A=function(o){this.Ac()?o.Oa():(o.v=this.ka[0],o.G=this.ka[1],o.C=this.ka[0],o.H=this.ka[1])},u.prototype.Qo=function(o){if(this.Ac())o.Oa();else{var r=this.Cz();o.v=r.x,o.G=r.y,o.Ye=r.z,o.C=r.x,o.H=r.y,o.Bg=r.z}},u.prototype.Tg=function(o,r){var s=new c.Nc;return this.Ac()?(s.Oa(),s):(o=this.Uc(o,r),s.oa=o,s.va=o,s)},u.prototype.lJ=function(o){if(this.ka==null)this.ka=c.O.lg(o);else if(this.ka.length<o){for(var r=this.ka.slice(0),s=this.ka.length;s<o;s++)r[s]=0;this.ka=r}},u.cE=function(o,r,s){if(0<s)for(s=0;s<o.length;s++)r[s]=o[s]},u.prototype.Nb=function(o){if(o==this)return!0;if(!(o instanceof u)||this.description!=o.description)return!1;if(this.Ac())return!!o.Ac();for(var r=0,s=this.description.Ae.length;r<s;r++)if(this.ka[r]!=o.ka[r])return!1;return!0},u.prototype.cc=function(){var o=this.description.cc();if(!this.Ac())for(var r=0,s=this.description.Ae.length;r<s;r++){var l=this.ka[r];l=c.O.truncate(l^l>>>32),o=c.O.Th(l,o)}return o},u.prototype.mg=function(){return null},u})(c.aa);c.Sa=I})(Q||(Q={})),(function(c){var I=(function(){function w(u,o,r){u!==void 0&&(this.x=u,this.y=o,this.z=r)}return w.construct=function(u,o,r){var s=new w;return s.x=u,s.y=o,s.z=r,s},w.prototype.K=function(u,o,r){this.x=u,this.y=o,this.z=r},w.prototype.lx=function(){this.z=this.y=this.x=0},w.prototype.normalize=function(){var u=this.length();u==0&&(this.x/=u,this.y/=u,this.z/=u)},w.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},w.prototype.sub=function(u){return new w(this.x-u.x,this.y-u.y,this.z-u.z)},w.prototype.Ag=function(u){new w(this.x*u,this.y*u,this.z*u)},w.prototype.Qh=function(u){return this.x*u.x+this.y*u.y+this.z*u.z},w})();c.Nd=I})(Q||(Q={})),(function(c){var I=(function(){function w(u,o,r){this.Gw=this.DA=null,this.Xf=o,this.FT=o.y-r,this.ET=o.y+r,this.Ew=0,this.dA=u,this.qa=r,this.RT=r*r,this.eA=r!=0,this.Lv=!1}return w.prototype.result=function(){return this.Ew!=0?1:0},w.prototype.ZM=function(u){return u=u.hc(u.fe(this.Xf,!1)),c.h.yc(u,this.Xf)<=this.RT},w.prototype.fF=function(u){if(!this.eA&&(this.dA&&this.Xf.qb(u.ac())||this.Xf.qb(u.wc())))this.Lv=!0;else if(u.na==this.Xf.y&&u.na==u.la){if(this.dA&&!this.eA){var o=Math.max(u.sa,u.pa);this.Xf.x>Math.min(u.sa,u.pa)&&this.Xf.x<o&&(this.Lv=!0)}}else{var r=!1;if(o=Math.max(u.sa,u.pa),this.Xf.x>o?r=!0:this.Xf.x>=Math.min(u.sa,u.pa)&&(r=0<u.cq(!0,this.Xf.y,this.Gw,null)&&this.Gw[0]<=this.Xf.x),r){if(this.Xf.y==u.ac().y){if(this.Xf.y<u.wc().y)return}else if(this.Xf.y==u.wc().y&&this.Xf.y<u.ac().y)return;this.Ew=this.dA?1^this.Ew:this.Ew+(u.ac().y>u.wc().y?1:-1)}}},w.prototype.SI=function(u){var o=u.Tg(0,1);if(o.oa>this.ET||o.va<this.FT)return!1;if(this.eA&&this.ZM(u))return!0;if(o.oa>this.Xf.y||o.va<this.Xf.y)return!1;if(this.DA==null&&(this.DA=[null,null,null,null,null]),this.Gw==null&&(this.Gw=[0,0,0]),0<(o=u.eG()))for(u=0;u<o;u++){var r=this.DA[u].get();if(this.fF(r),this.Lv)return!0}else if(this.fF(u),this.Lv)return!0;return!1},w.PM=function(u,o,r){for(o=new w(u.In()==0,o,r),u=u.Ga();u.$a();)for(;u.Ha();)if(r=u.ha(),o.SI(r))return-1;return o.result()},w.QM=function(u,o,r,s){var l=new c.l;u.xc(l),l.W(s,s);var h=new w(u.In()==0,r,s);u=u.Ga();var f=new c.l;for(f.K(l),f.C=r.x+s,f.G=r.y-s,f.H=r.y+s,s=(r=o.MF(f,s)).next();s!=-1;s=r.next())if(u.Vb(o.ja(s)),u.Ha()&&(s=u.ha(),h.SI(s)))return-1;return h.result()},w.wm=function(u,o,r){if(u.B())return 0;var s=new c.l;if(u.xc(s),s.W(r,r),!s.contains(o))return 0;if((s=u.Bb)!=null){var l=s.Fk;if(l!=null){if((l=l.So(o.x,o.y))==1)return 1;if(l==0)return 0}if((s=s.Fb)!=null)return w.QM(u,s,o,r)}return w.PM(u,o,r)},w.bT=function(u,o,r){return o.B()?0:w.wm(u,o.D(),r)},w.Ml=function(u,o){return!(16>(u=u.I()))&&2*u+Math.log(u)/Math.log(2)*o<1*u*o},w})();c.Dg=I})(Q||(Q={})),(function(c){var I=(function(w){function u(o){return w.call(this,!0,o)||this}return Me(u,w),u.prototype.Ia=function(){return new u(this.description)},u.prototype.Db=function(){return 2},u.prototype.getType=function(){return 1736},u.prototype.xG=function(o,r,s){this.JS(o,r,s)},u.prototype.qR=function(){this.FR()},u})(c.Vk);c.Da=I})(Q||(Q={})),(function(c){(function(I){I[I.PiPOutside=0]="PiPOutside",I[I.PiPInside=1]="PiPInside",I[I.PiPBoundary=2]="PiPBoundary"})(c.RL||(c.RL={})),c.hd=(function(){function I(){}return I.KG=function(w,u,o){return(w=c.Dg.bT(w,u,o))==0?0:w==1?1:2},I.Yd=function(w,u,o){return(w=c.Dg.wm(w,u,o))==0?0:w==1?1:2},I.WX=function(w,u,o,r,s){if(u.length<o||s.length<o)throw c.i.N();for(var l=0;l<o;l++)s[l]=I.Yd(w,u[l],r)},I.sK=function(w,u,o,r,s){if(w.getType()==1736)I.WX(w,u,o,r,s);else{if(w.getType()!=197)throw c.i.fa("invalid_call");var l=new c.l;w.A(l),I.$M(l,u,o,r,s)}},I.$M=function(w,u,o,r,s){if(u.length<o||s.length<o)throw c.i.N();if(w.B())for(r=0;r<o;r++)s[r]=0;else for(w.W(.5*-r,.5*-r),w.W(.5*r,.5*r),r=0;r<o;r++)w.contains(u[r])?s[r]=1:w.contains(u[r])?s[r]=2:s[r]=0},I.YX=function(w,u,o,r,s){for(var l=0;l<o;l++)s[l]=w.qs(u[l],r)?2:0},I.XX=function(w,u,o,r,s){var l=w.Bb,h=null;l!=null&&(h=l.Fk),l=o;for(var f=0;f<o;f++)if(s[f]=1,h!=null){var p=u[f];h.So(p.x,p.y)==0&&(s[f]=0,l--)}if(l!=0)for(w=w.Ga();w.$a()&&l!=0;)for(;w.Ha()&&l!=0;)for(h=w.ha(),f=0;f<o&&l!=0;f++)s[f]==1&&h.qs(u[f],r)&&(s[f]=2,l--);for(f=0;f<o;f++)s[f]==1&&(s[f]=0)},I.tK=function(w,u,o,r,s){var l=w.getType();if(l==1607)I.XX(w,u,o,r,s);else{if(!c.aa.yd(l))throw c.i.fa("Invalid call.");I.YX(w,u,o,r,s)}},I})()})(Q||(Q={})),(function(c){var I=(function(w){function u(o,r){if(arguments.length==2){var s=w.call(this,!1,o.description)||this;s.nf(o),s.lineTo(r)}else s=w.call(this,!1,o)||this;return s}return Me(u,w),u.prototype.Ia=function(){return new u(this.description)},u.prototype.Db=function(){return 1},u.prototype.getType=function(){return 1607},u.prototype.xG=function(o,r,s){this.KS(o,r,s)},u})(c.Vk);c.Ta=I})(Q||(Q={})),(function(c){var I=(function(){function w(){}return w.prototype.progress=function(){return!0},w.zp=function(u){if(u!=null&&!u.progress(-1,-1))throw c.i.WC()},w})();c.mp=I})(Q||(Q={})),(function(c){var I;(I=c.PK||(c.PK={}))[I.clipWithInputHorizon=1]="clipWithInputHorizon",I[I.clipWithOutputHorizon=2]="clipWithOutputHorizon";var w=(function(){function r(){this.Kg=3,this.Vu=this.Jr=NaN}return r.prototype.PW=function(s){this.QB(1,s)},r.prototype.QW=function(s){this.QB(2,s)},r.prototype.hS=function(){return this.hs(1)},r.prototype.iS=function(){return this.hs(2)},r.prototype.QB=function(s,l){this.Kg=l?this.Kg|s:this.Kg&~s},r.prototype.hs=function(s){return(this.Kg&s)!=0},r.prototype.Of=function(){var s=new r;return s.Jr=this.Jr,s.Vu=this.Vu,s.Kg=this.Kg,s},r})();c.yC=w,(function(r){r[r.Dont_Geonomalize_Polygon=2147483648]="Dont_Geonomalize_Polygon",r[r.Dont_Adjust_At_Poles=1073741824]="Dont_Adjust_At_Poles"})(c.QK||(c.QK={}));var u=(function(){function r(){this.Kg=0}return r.prototype.QB=function(s,l){this.Kg=l?this.Kg|s:this.Kg&~s},r.prototype.hs=function(s){return(this.Kg&s)!=0},r.jg=function(s){var l=new r;return l.Kg=s.Kg,l},r.prototype.mM=function(s){this.Kg=s.Kg},r})();c.AY=u;var o=(function(){function r(s,l,h){this.ef=s,this.Yf=l,this.Uf=new c.l,this.Uf.K(h),this.AT=s.cc()+l.cc()+this.Uf.cc().toString()}return r.prototype.cc=function(){return this.AT},r.prototype.Nb=function(s){return this==s||this.ef.Nb(s.ef)&&this.Yf.Nb(s.Yf)&&this.Uf.Nb(s.Uf)},r})();c.FY=o,o=(function(){function r(){this.Yf=this.ef=null,this.rH=new w,this.sH=new u,this.ww=this.Wf=null,this.mw=this.Tn=!0}return r.Nr=function(s,l,h,f){var p;f===void 0&&(f=null),p===void 0&&(p=null);var g=new r;return g.qp(s,l,h,f,p),g},r.prototype.qp=function(s,l,h,f,p){if(s==null||l==null)throw c.i.fa("invalidArgument");if(this.ef=s,this.Yf=l,this.mw=this.Tn=!1,f!=null&&(this.rH=f.Of()),p!=null&&this.sH.mM(p),p=!1,l.Sb()==1&&f!=null&&(f=f.Jr,isNaN(f)||f==0||(p=!0)),s==l)this.Tn=!p,this.mw=!0;else{f=s.Sb();var g=l.Sb();if(f==0||g==0){if(h!=null)throw c.i.N();s.Hd()!=null&&l.Hd()!=null&&(this.Tn=s.Hd().Nb(l.Hd()))}else f==3||g==3?this.Tn=s.Nb(l):this.ef.kS(this.Yf)?this.Tn=!p:this.Tn=!1,this.Wf=h,this.Wf!=null&&this.Wf.ix(),this.mw=(this.Wf==null||this.Wf.count()==0)&&this.ef.sc().Nb(this.Yf.sc())}this.oY()},r.prototype.isIdentity=function(){return this.Tn},r.prototype.nR=function(){return this.rH.Of()},r.prototype.Nb=function(s){return s==this||!!(s instanceof r&&this.ef.Nb(s.ef)&&this.Yf.Nb(s.Yf))&&(this.Wf==s.Wf||!(this.Wf==null||s.Wf==null||!this.Wf.Nb(s.Wf)))},r.prototype.oY=function(){this.ww=new c.bu(this)},r})(),c.vr=o})(Q||(Q={})),(function(c){var I=(function(){function w(){}return w.Cp=function(u){return u*w.oW},w.mx=function(u,o){return w.gP(o-u)},w.hP=function(u){return-360<=u&&720>u?(0>u?u+=360:360<=u&&(u-=360),u):(0>(u=c.lc.RK(u))&&(u+=360),u)},w.gP=function(u){return 180<(u=w.hP(u))&&(u-=360),u},w.oW=57.29577951308232,w})();c.qr=I,c.Hh=(function(){function w(){}return w.lj=function(u,o){var r=new c.l;u.A(r);var s=c.cb.gh(o),l=new c.l;return l.K(s),l.v=r.v,l.C=r.C,l.W(.01*l.ca(),0),o=c.ta.Wd(o,r,!1),l.contains(r)?u:c.Ud.clip(u,l,o,0)},w.ks=function(u,o,r,s,l){if(!c.cb.Wc(o))throw c.i.N();var h=c.ta.kj(o,u,!1),f=c.cb.gh(o),p=c.cb.sc(o),g=p.Hd().ai,_=c.cb.vv(p);p=c.cb.ev(p),_*=2-_;var M=new c.Nc;f.cn(M);var R=[[0,0],[0,0]];if(c.Eg.Sb(o)==2?s?(R[0][0]=w.Zm(l,M),R[0][1]=f.Jp(),c.cb.vt(),f=R[0][0]*g):(R[0][0]=f.gk(),R[0][1]=l,c.cb.vt(),f=R[0][1]*g):f=l*g,!s&&f!=0)throw c.i.N();var $=new c.ga,P=new c.gd;u=P.Ib(u);for(var j=[0],F=new c.h,V=new c.h,W=new c.h,q=new c.h,J=new c.h,nt=new c.h,st=P.Ob(u);st!=-1;st=P.Rb(st)){var ct=P.Xa(st);P.D(ct,W);for(var bt=!1,Tt=ct=P.U(ct);Tt!=-1;Tt=P.U(Tt)){if(Tt==ct){if(bt)break;bt=!0}if(P.D(Tt,q),s&&h<l-W.x&&q.x-l>h||h<l-q.x&&W.x-l>h||!s&&h<-W.y&&q.y>h||h<-q.y&&W.y>h)do if(!(Math.abs(W.x-q.x)>=.5*M.R())){if(c.Eg.Sb(o)==2?(R[0][0]=w.Zm(W.x,M),R[0][1]=W.y,R[1][0]=w.Zm(q.x,M),R[1][1]=q.y,c.cb.dW(),J.x=R[0][0]*g,J.y=R[0][1]*g,nt.x=R[1][0]*g,nt.y=R[1][1]*g):(J.x=W.x*g,J.y=W.y*g,nt.x=q.x*g,nt.y=q.y*g),nt.x=6.283185307179586*(q.x-W.x)/M.R()+J.x,s){if(V.x=f,V.y=w.Nz(p,_,J,nt,f,r),isNaN(V.y))break}else{if(V.x=w.Lz(p,_,J,nt,r),isNaN(V.x))break;V.y=0}c.kb.wd(p,_,J.x,J.y,nt.x,nt.y,$,null,null,r);var Ut=$.u;c.kb.wd(p,_,J.x,J.y,V.x,V.y,$,null,null,r);var Pt=$.u;c.Eg.Sb(o)==2?(R[0][0]=V.x/g,R[0][1]=V.y/g,c.cb.bR(),s?(F.y=R[0][1],F.x=l):(F.x=w.os(R[0][0],W.x,q.x,M),F.y=l)):s?(F.x=l,F.y=V.y/g):(F.x=w.os(V.x/g,W.x,q.x,M),F.y=l),j[0]=0<Ut?c.O.Rk(Pt/Ut,0,1):.5,j[0]!=0&&j[0]!=1&&(Ut=P.Ma(Tt),P.Ul(Ut,j,1),P.Cb(P.U(Ut),F.x,F.y))}while(!1);W.L(q)}}return P.Ne(u)},w.Fn=function(u,o,r,s,l){if(u.B())return u;var h=c.cb.bf(o);return w.Hp(u,r-180*h,360*h,o,s,l,!0)},w.Nz=function(u,o,r,s,l,h){if(3.141592653589793<=Math.abs(r.x-s.x)||!w.Sn(r.x,s.x,l))return NaN;if(r.x>s.x)var f=s;else f=r,r=s;s=new c.ga(0);var p=new c.ga(0),g=new c.ga(0);c.kb.wd(u,o,f.x,f.y,r.x,r.y,p,s,null,h);var _=p.u,M=0,R=1,$=new c.h;for($.L(f);_*(R-M)>1e-12*u;){var P=.5*(M+R);if(c.kb.oj(u,o,f.x,f.y,_*P,s.u,p,g,h),$.x=p.u,$.y=g.u,$.x==l)break;if(w.Sn(f.x,$.x,l))R=P;else{if(!w.Sn(r.x,$.x,l))return NaN;M=P}}return $.y},w.Sn=function(u,o,r){return u=I.Cp(u),o=I.mx(u,I.Cp(o)),(r=I.mx(u,I.Cp(r)))==0||0<o&&0<r&&r<=o||0>o&&0>r&&r>=o},w.Zm=function(u,o){var r=o.va-o.oa;return o.It(u-Math.floor((u-o.oa)/r)*r)},w.os=function(u,o,r,s){var l=new c.Nc;for(l.K(o,r),r=s.R(),u=Math.floor((u-o)/r)*r+u,l=l.sf();Math.abs(u-l)>Math.abs(u+r-l);)u+=r;return u},w.Lz=function(u,o,r,s,l){if(r.y>s.y)var h=s;else h=r,r=s;if((s=new c.Nc).K(h.y,r.y),!s.contains(0)||3.141592653589793<=Math.abs(h.x-r.x))return NaN;if(h.x==r.x)return h.x;var f=new c.ga(0),p=new c.ga(0),g=new c.ga(0);c.kb.wd(u,o,h.x,h.y,r.x,r.y,p,f,null,l);var _=p.u,M=0,R=1,$=new c.h;for($.L(h);_*(R-M)>1e-12*u;){var P=.5*(M+R);if(c.kb.oj(u,o,h.x,h.y,_*P,f.u,p,g,l),$.x=p.u,$.y=g.u,s.K(h.y,$.y),$.y==0)break;if(s.contains(0))R=P;else{if(s.K(r.y,$.y),!s.contains(0))return NaN;M=P}}return $.x},w.Hp=function(u,o,r,s,l,h,f){var p=new c.l;if(u.A(p),p.B())return u;var g=new c.Nc;p.cn(g);var _=new c.Nc;if(_.K(o,o+r),_.contains(g)&&_.va!=g.va)return u;var M=new c.l;M.K(p);var R=u.getType();if(R==33)return((p=(M=l?u:u.Of()).Lg())<_.oa||p>=_.va||f&&p==_.va)&&(p+=Math.ceil((_.oa-p)/r)*r,p=_.It(p),M.cC(p)),M;if(R==550){for(s=(M=l?u:u.Of()).ub(0),R=2*M.I(),u=!1,l=0;l<R;l+=2)((p=s.read(l))<_.oa||p>=_.va||f&&p==_.va)&&(u=!0,p+=Math.ceil((_.oa-p)/r)*r,p=_.It(p),s.write(l,p));return u&&M.Pc(1993),M}if(_.contains(g))return u;if(R==197)return r=l?u:u.Of(),p.Ea(M),r.Xo(p),r;var $=.1*Math.max(p.ca(),p.R());for(M.W(0,$),f=u,_=s.Xd(0),u=c.Gh.local(),l=new c.Dd;;){var P=Math.floor((g.oa-o)/r),j=Math.ceil((g.va-o)/r);if(!(3<j-P))break;P=Math.floor(.5*(j+P)),M.v=p.v-$,M.C=o+r*P;var F=c.Ud.clip(f,M,_,h);M.v=M.C,M.C=p.C+$;var V=c.Ud.clip(f,M,_,h);l.gg((P-j)*r,0),V.Oc(l),R==1736?f=u.V(F,V,s,null):(f=F).add(V,!1),f.A(p),p.cn(g)}for(M.v=o,M.C=o+r,(o=new c.l).K(M),o.W(_,0),(o=Math.floor((p.v-M.v)/r)*r)!=0?(M.move(o,0),l.gg(-o,0)):l.RB(),o=R==1607?new c.Ta(f.description):new c.Da(f.description),h=new c.l,g=new c.l;p.C>M.v;)($=c.Ud.clip(f,M,_,0)).A(g),(R==1607?!$.B()&&(g.R()>_||g.ca()>_):!$.B()&&(R!=1736||g.R()>_))&&($.Oc(l),$.A(g),o.A(h),h.W(_,_),h.isIntersecting(g)&&R==1736?o=u.V(o,$,s,null):o.add($,!1)),M.move(r,0),l.shift(-r,0);return o},w.WI=function(u,o,r,s){var l=new c.de(r.description);l.Fd(r,0,-1),l=c.cb.zh(l,u,o);var h=r.I();if(s.Oa(),!c.cb.Wc(u)||h!=l.I())return!1;var f=new c.l;r.A(f);var p=new c.l;if(l.A(p),f=f.R(),p=p.R(),f!=0&&p!=0){if(p/=f,u=c.cb.gh(o).R()/c.cb.gh(u).R(),1e-10<Math.abs(p/u-1))return!1}else if(f!=0||p!=0)return!1;for(s.add(r,!1),r=0;r<h;r++)u=l.Na(r),s.Cb(r,u);return!0},w.Oz=function(){throw c.i.Ie()},w})()})(Q||(Q={})),(function(c){var I,w,u;(w=I=c.si||(c.si={}))[w.Clip=0]="Clip",w[w.DontClip=1]="DontClip",w[w.PannableFold=2]="PannableFold",(function(o){o[o.Geodesic=0]="Geodesic",o[o.Loxodrome=1]="Loxodrome",o[o.GreatElliptic=2]="GreatElliptic",o[o.NormalSection=3]="NormalSection",o[o.ShapePreserving=4]="ShapePreserving"})(u=c.WK||(c.WK={})),c.zb=(function(){function o(){}return o.xv=function(r,s,l){if(l||0<s){for(r=r.toString(c.Sc.PE_STR_NAME_CANON|c.Sc.PE_STR_AUTH_NONE),s=[],l=0;l<r.length;l++)s[l]="a"<=r[l]&&"z">=r[l]?s[l]=r[l].toUpperCase():r[l];return s.join()}return r.toString(c.Sc.PE_STR_AUTH_TOP)},o.ur=function(r,s,l,h){var f=h.length,p=l.I();if(p!=0){var g=l.ub(0),_=Math.min(p,f),M=0,R=r.eh();isNaN(s)&&(s=0);for(var $=r.Wc(),P=179*(r=$?r.sc().Oe().R():0)/360;0<p;){if(g.uB(M<<1,_,h),c.ej.projToGeogCenter(R,_,h,s),$)for(var j=0;j<_;j++){var F=h[j][0]-s,V=c.lc.sign(F),W=g.read(2*(M+j));0>V*c.lc.sign(W)&&Math.abs(F)>P&&(h[j][0]+=-V*r)}g.uC(M<<1,_,h),M+=_,p-=_,_=Math.min(p,f)}l.Pc(1993)}},o.IL=function(r,s,l,h){var f=0,p=r.eh();isNaN(f)&&(f=0);var g=r.Wc(),_=r.bf();r=360*_,_*=179;for(var M=h.length,R=0;R<l;){for(var $=R;$<l&&s[$].isNaN();++$)R++;var P=Math.min(M,l-R);if(0<P){$=1;for(var j=R+1;$<P;++$,++j)if(s[j].isNaN()){P=$;break}if(c.ta.Jy(h,s,R,P),c.ej.projToGeogCenter(p,P,h,f),g)for($=0,j=R;$<P;++$,++j){var F=s[j].x,V=h[$][0]-f,W=c.lc.sign(V);0>W*c.lc.sign(F)&&Math.abs(V)>_&&(h[$][0]-=W*r)}c.ta.Iy(s,R,h,P),R+=P}}},o.Lx=function(r,s,l){var h=l.length,f=s.I();if(!(1>f)){var p=s.ub(0),g=Math.min(f,h),_=0,M=r.eh(),R=r.Wc(),$=R?r.Oe().R():0,P=179*$/360,j=0;for(R&&(j=r.zi());0<f;){if(p.uB(_<<1,g,l),c.ej.geogToProj(M,g,l),R)for(r=0;r<g;r++){var F=l[r][0],V=c.lc.sign(F),W=p.read(2*(_+r))-j;0>V*c.lc.sign(W)&&Math.abs(F)>P&&(l[r][0]+=-V*$)}p.uC(_<<1,g,l),_+=g,f-=g,g=Math.min(f,h)}s.Pc(1993)}},o.HL=function(r,s,l,h){if(l!=0){var f=r.eh(),p=r.Wc(),g=p?r.Oe().R():0,_=179*g/360,M=0;for(p&&(M=r.zi()),r=0;r<l;){for(var R=r;R<l&&s[R].isNaN();++R)r++;var $=Math.min(h.length,l-r);if(0<$){R=1;for(var P=r+1;R<$;++R,++P)if(s[P].isNaN()){$=R;break}if(c.ta.Jy(h,s,r,$),c.ej.geogToProj(f,$,h),p)for(R=0,P=r;R<$;R++){var j=h[R][0],F=c.lc.sign(j);0>F*c.lc.sign(s[P].x-M)&&Math.abs(j)>_&&(h[R][0]-=F*g)}c.ta.Iy(s,r,h,$),r+=$}}}},o.tr=function(r,s,l,h){var f=s.I();if(f!=0){var p=s.ub(0),g=r.ef,_=r.Yf,M=g.sc().Qp(),R=_.sc().Qp(),$=g.bf(),P=_.bf();if((r=r.Wf)==null||r.count()==0){for(l=M/R,h=(g.Up()-_.Up())*P,R=-90*$,r=90*$,M=!1,P=1,g=2*f;P<g;)$=p.get(P),(_=c.O.Rk($,R,r))!=$&&(p.set(P,_),M=!0),P+=2;if(h!=0||l!=1)for(M=!0,R=new c.h,P=0;P<f;P++)p.tc(2*P,R),R.x*=l,R.x+=h,R.y*=l,p.Tt(2*P,R);M&&s.Pc(1993)}else{g=h.length,_=Math.min(f,g);var j=c.O.lg(_),F=null,V=0,W=NaN,q=NaN,J=360*P,nt=P/$;l&&(q=90*P,W=89.9*$,F=c.O.lg(_));for(var st=!0,ct=0;f!=0;){for($=!1,p.uB(V<<1,_,h),P=0;P<_;P++)j[P]=h[P][0];if(l)for(P=0;P<_;P++){var bt=Math.abs(h[P][1])-W;0<bt&&($=h[P][1],h[P][1]=c.lc.Cn(W,$),F[P]=c.lc.Cn(bt,$),$=!0)}for(P=h[0][0],r.transform(h,_,M,R),st&&(ct=h[0][0]-nt*P,st=!1),P=0;P<_;P++)bt=h[P][0]-j[P]*nt-ct,200<Math.abs(bt)&&(h[P][0]=0<bt?h[P][0]-J:h[P][0]+J);if($){for(P=0;P<_;P++)F[P]!=0&&(h[P][1]+=nt*F[P],h[P][1]>q?h[P][1]=q:h[P][1]<-q&&(h[P][1]=-q));for($=0;$<_;$++)F[$]=0}p.uC(V<<1,_,h),V+=_,f-=_,_=Math.min(f,g)}s.Pc(1993)}}},o.GL=function(r,s,l,h){if(r.mw)h=90*r.ef.bf(),c.ta.dK(s,l,-h,h);else{var f=r.Wf,p=r.ef,g=r.Yf;r=p.Xr();var _=g.Xr(),M=p.bf(),R=90*M,$=g.bf();if(f==null||f.count()==0){if(h=r/_,f=(p.Up()-g.Up())*$,c.ta.dK(s,l,-R,R),f!=0||h!=1)for($=0;$<l;$++)s[$].x*=h,s[$].x+=f,s[$].y*=h}else{p=Math.min(l,h.length),R=c.O.lg(p),g=360*$,M=$/M;for(var P=!0,j=0,F=0;l!=0;){for($=0;$<p;$++)R[$]=s[$+F].x;for($=s[0].x,c.ta.Jy(h,s,F,p),f.transform(h,p,r,_),c.ta.Iy(s,F,h,p),P&&(j=s[0].x-M*$,P=!1),$=0;$<p;$++){var V=s[F+$].x-R[$]*M-j;200<Math.abs(V)&&(s[F+$].x=0<V?s[F+$].x-g:s[F+$].x+g)}F+=p,l-=p,p=Math.min(l,h.length)}}}},o.dv=function(r,s){return r=r.gh(),isNaN(s)||r.Ju(s,0),r},o.UQ=function(r,s,l,h,f,p,g,_){for(var M=o.dv(h,f),R=M.R(),$=R/360,P=o.pE*$,j=r.ub(0),F=s.Wc(),V=F?R/s.Oe().R():0,W=!1,q=new c.Da(l.description),J=0,nt=l.da();J<nt;++J){var st=F,ct=new c.Ta(l.description);if(ct.addPath(l,J,!0),g!=0){var bt=o.PD(!0,ct,M.H-_,M.H,g);(W=W||bt)&&(st=!1)}var Tt=-1;st&&(Tt=r.Ba(J));var Ut=ct.ub(0),Pt=ct.I(),ee=0,Nt=Ut.read(0),_e=0;bt=3*h.Xd(0);var ne=!1,Ye=new c.h;Ye.Rc();var pi=new c.h;pi.Rc();for(var xi=!1,ai=1;ai<Pt;++ai){var Qe=c.h.construct(Ut.eg(2*ai),Ut.eg(2*ai+1)),Ae=Qe.x,Ue=Ae+ee,Li=Ue-Nt;if(Qe.x=Ue,Math.abs(Li)>P){if(st){var yi=Tt+(ai+1<Pt?ai:0),un=j.read(2*(Tt+ai-1));yi=(j.read(2*yi)-un)*V,Math.abs(Li-yi)>1*$&&(st=!1)}st||(Ue=Ae+(ee-=c.lc.Cn(R,Ue-Nt)),++_e,xi=ee!=0,Qe.x=Ue)}else ne||c.ta.AG(pi,Ye,Qe,bt)&&(ne=!0);xi&&Ut.write(2*ai,Ue),Nt=Ue,pi.L(Ye),Ye.L(Qe)}0<_e&&ct.Pc(1993),st=ct.Na(0),Pt=ct.Na(Pt-1),ct=c.h.tb(st,Pt)<bt?o.uQ(ct,h,f,p,ne):o.vQ(r,J,ct,h,f),q.add(ct,!1)}return f=h.Xd(0),l=M.R()/180,o.Jt(q,M,.1*f,!1),q=q!=(f=c.ri.clip(q,M,f,l,p)),r=r.Ke(),g=0,0<(_=f.Ke())&&0>r?g=1:0>=_&&0<r&&(_==0?(_=NaN,s.Sb()==2?_=s.ml().Ke():s.Sb()==1&&(_=s.Oe().wF()),r>.99*_&&(g=-1)):g=-1),g!=0&&((s=new c.Da(f.description)).tp(M),(s=c.Xl.local().V(s,l,p)).add(f,!1),q=!0,f=s),q&&(f=c.Yl.local().V(f,h,!1,p)),f},o.vQ=function(r,s,l,h,f){var p=l.I(),g=l.Na(0),_=l.Na(p-1);f=(h=o.dv(h,f)).R(),g=c.lc.sign(_.x-g.x);var M=new c.l;l.xc(M);var R=h.gk();if(_=R-f,R+=f,0<=g){var $=Math.ceil((_-M.v)/f);for($*=f;_>M.v+$;)$+=f;for(;_<M.C+$;)$-=f;var P=$;720<M.R()&&(R=_+360*Math.ceil(M.R()/360))}else{for($=Math.ceil((R-M.C)/f),$*=f;R<M.C+$;)$-=f;for(;R>M.v+$;)$+=f;P=$,720<M.R()&&(_=R-360*Math.ceil(M.R()/360))}$=g*f;var j=c.l.construct(M.v,M.G,M.C,M.H);j.move(P,0);var F=new c.Dd;F.gg(P,0),l.Oc(F),(M=new c.Ta(l.description)).add(l,!1),P=l.Na(p-1),f=0;for(var V=M.Na(0).x,W=0;0<g?j.C<R:j.v>_;)1024<=W&&(W=0),j.move($,0),F.Gb=$,l.Oc(F),V+=$,h.v<=V&&h.C>=V&&(f=M.I()-1),l.Cb(0,P),P=l.Na(p-1),M.Dr(l,0,0,p-1,!1);return l=new c.Da(M.description),p=0<r.Ir(s),l.add(M,!1),r=M.Na(0),_=M.Na(M.I()-1),s=l.da()-1,(0>g?p:!p)?(g=c.h.construct(_.x,h.H),l.Ci(g),g=c.h.construct(h.gk(),h.H),l.Ci(g),h=c.h.construct(r.x,h.H)):(g=c.h.construct(_.x,h.G),l.Ci(g),g=c.h.construct(h.gk(),h.G),l.Ci(g),h=c.h.construct(r.x,h.G)),l.Ci(h),l.xG(0,s,0),l.kO(f),l},o.uQ=function(r,s,l,h,f){var p=new c.Da(r.description);p.add(r,!1),p.DB(0,p.I()-1);var g=new c.l;p.xc(g);var _=(l=o.dv(s,l)).R(),M=Math.ceil((l.v-g.v)/_);for(M*=_;l.v>g.v+M;)M+=_;for(;l.v<g.C+M;)M-=_;if((M+=_)!=0){g.move(M,0);var R=new c.Dd;R.gg(M,0),p.Oc(R)}if(l.v<=g.v&&l.C>g.C)return f&&(f=p.Ke(),s=(p=c.Yl.local().V(p,s,!0,h)).Ke(),(s=c.lc.sign(f)!=c.lc.sign(s))&&p.oJ()),p;for((r=new c.Da(r.description)).add(p,!1),f=f||g.R()>_-s.Xd(0);g.v<l.C;)g.move(_,0),(R=new c.Dd).gg(_,0),p.Oc(R),r.add(p,!1);return f&&(f=r.Ke(),r.Yo(1),s=(r=c.Yl.local().V(r,s,!0,h)).Ke(),(s=c.lc.sign(f)!=c.lc.sign(s))&&r.oJ()),r},o.PD=function(r,s,l,h,f){for(var p=s.ub(0),g=s.I(),_=!1,M=0;M<g;M++){var R=c.h.construct(p.eg(2*M),p.eg(2*M+1));if(1&f&&R.y>=l){_=!0;break}if(2&f&&R.y<=-l){_=!0;break}}if(!_)return!1;p=!1,r&&(p=s.Nn(0)),g=(r=new c.gd).Ib(s),_=r.Ob(g);var $=-1,P=!0,j=new c.h;j.Rc(),M=new c.Sa;for(var F=-1,V=r.Xa(_);V!=-1;V=r.U(V)){R=r.Na(V);var W=1&f&&90<=R.y?1:0;if(W|=2&f&&R.y<=-l?2:0,0<$&&$!=W){if(j.x!=R.x){j.x=R.x,r.Vi(r.Ma(V),M);var q=r.wj(_,V,M);r.mf(q,j)}if(p)for(F=F!=-1?r.U(F):r.Xa(_),q=r.Ma(V);F!=q;)F=r.pd(F,!1);F=-1}0<W&&(R.y=c.lc.Cn(h,R.y),r.mf(V,R),P||$==W||(R.x!=j.x?(r.Vi(V,M),q=r.wj(_,V,M),r.Cb(q,j.x,R.y),F=q):F=V)),$=W,j=R,P=!1}if(p){if(F!=-1)for(F=r.U(F);F!=-1;)F=r.pd(F,!1);l=r.Xa(_),r.fq(l,r.rj(_))||(r.Vi(l,M),r.wj(_,-1,M))}return r.Ne(g).copyTo(s),!0},o.Mz=function(r,s,l,h){var f=r;if(f.B()||l==I.DontClip)return f;var p=f.getType();if(p==33)return f=[(h=f).D()],o.yG(f,1,s,l),f[0].isNaN()?h.Oa():h.Cb(f[0]),r;var g=(r=s.sc()).bf(),_=90*g,M=180*g,R=360*g,$=s.zi(),P=.5*g,j=new c.l;f.A(j);var F=s.Vr(),V=s.PQ(),W=F.getType()==197;if(s=new c.l,F.A(s),l==I.PannableFold&&(l=r.Oe().R(),s.v=$-.5*l,s.C=s.v+l),j.G<-_||j.H>_){if(new c.l().K(j.v-g,-_,j.C+g,_),(f=c.ri.Nu(f,s,r,NaN,0,h)).B())return f;f.A(j)}if(V&&(s.H<j.G||s.G>j.H))return f.Ia();if(j.R()>R&&(f=o.Hp(f,$-M,R,r,!0,0,!0,h)).A(j),(_=o.eO(j.v,j.C,s.v,s.C,R))!=0&&j.move(_,0),j.C>s.C||j.v<s.v){if(j.C>s.C)for(;j.v>=s.C;)j.move(-R,0),_-=R;for(;j.v<s.C-R;)j.move(R,0),_+=R}if(l=c.ta.Hu(r,F),_!=0&&((g=new c.Dd).gg(_,0),f.Oc(g)),V){if(W&&s.contains(j))return f;for(V=[null,null],_=0;2>_;_++){if(W?g=c.aa.Hc(p)?c.ri.clip(f,s,l,P,h):c.ri.clip(f,s,l,0,h):(g=c.Xj.local().V(f,F,r,h))==F&&(g=c.aa.jg(g)),s.v<=j.v&&s.C>=j.C||s.v>=j.v&&s.C<=j.C)return g;V[_]=g,_==0&&(j.move(-R,0),(g=new c.Dd).gg(-R,0),f.Oc(g))}if(p==550)V[0].Fd(V[1],0,-1);else if(c.aa.Hc(p))V[0].add(V[1],!1);else{if(p!=33)throw c.i.fa("intersect_with_GCS_horizon: unexpected geometry type");V[0].B()&&(V[0]=V[1])}return V[0]}if(s.H<j.G||s.G>j.H)return f;for(p=0;!f.B()&&j.C>s.v;)p!=0&&((g=new c.Dd).gg(p,0),f.Oc(g)),c.dj.local().V(4,f,F,r,h)||F==(f=c.kp.local().V(f,F,r,h))&&(f=c.aa.jg(f)),p!=0&&((P=new c.Dd).gg(-p,0),f.Oc(P)),p-=R,j.move(-R,0);return f},o.yG=function(r,s,l,h){if(s!=0&&h!=I.DontClip)if(h==I.PannableFold){h=l.HR();for(var f=s,p=0;p<s;p++)(r[p].y>h.H||r[p].y<h.G)&&(r[p].Rc(),f--);f!=0&&o.av(r,s,h.v,h.R())}else{var g=90*(h=l.bf()),_=180*h;for(h*=360,f=s,p=0;p<s;p++)(r[p].y>g||r[p].y<-g)&&(r[p].Rc(),f--);if(f!=0){(f=new c.l).Zw(r,s),g=l.Vr();var M=l.hv();p=g.getType()==197;var R=new c.l;if(g.A(R),!M||!(R.H<f.G||R.G>f.H))if(M)if(o.av(r,s,R.gk()-_,h),f=s,p)for(p=0;p<s;p++)R.contains(r[p])||(r[p].Rc(),f--);else for(l=c.ta.Hu(l.sc(),g),p=0;p<s;p++)(_=c.hd.Yd(g,r[p],l)!=0)||(r[p].Rc(),f--);else for(o.av(r,s,-_,h),f=s,l=c.ta.Hu(l.sc(),g),p=0;p<s;p++)(_=r[p]).isNaN()&&f--,M=o.tE(_.x,R.v,R.C,h),_.x+=M,(_=c.hd.Yd(g,_,l)!=0)&&(r[p].Rc(),f--)}}},o.Hp=function(r,s,l,h,f,p,g,_){var M=r.getType(),R=s+l;if(M===33){var $=(h=f?r:r.Of()).Lg();return($<s||$>=R||g&&$==R)&&($+=Math.ceil((s-$)/l)*l,$=c.O.Rk($,s,R),h.cC($)),h}if(r.B()||($=new c.l,r.A($),$.B()))return r;var P=new c.Nc;$.cn(P);var j=new c.Nc;if(j.K(s,R),j.contains(P))return r;if((R=new c.l).K($),M===550){for(_=(h=f?r:r.Of()).ub(0),M=2*h.I(),R=!1,s=0;s<M;s+=2)(($=_.read(s))<j.oa||$>=j.va||g&&$==j.va)&&(R=!0,$+=Math.ceil((j.oa-$)/l)*l,$=j.It($),_.write(s,$));return R&&h.Pc(1993),h}if(M==197)return l=f?r:r.Of(),$.Ea(R),l.Xo($),l;var F=.1*Math.max($.ca(),$.R());for(R.W(0,F),g=r,j=h.Xd(0),r=c.Gh.local(),f=new c.Dd;;){var V=Math.floor((P.oa-s)/l),W=Math.ceil((P.va-s)/l);if(!(3<W-V))break;V=Math.floor(.5*(W+V)),R.v=$.v-F,R.C=s+l*V;var q=c.ri.clip(g,R,j,p,_);R.v=R.C,R.C=$.C+F;var J=c.ri.clip(g,R,j,p,_);f.gg((V-W)*l,0),J.Oc(f),M==1736?g=r.V(q,J,h,null):(g=q).add(J,!1),g.A($),$.cn(P)}for(R.v=s,R.C=s+l,(s=new c.l).K(R),s.W(j,0),(s=Math.floor(($.v-R.v)/l)*l)!=0?(R.move(s,0),f.gg(-s,0)):f.RB(),s=M==1607?new c.Ta(g.description):new c.Da(g.description),p=new c.l,P=new c.l;$.C>R.v;)(F=c.ri.clip(g,R,j,0,_)).A(P),(M==1607?!F.B()&&(P.R()>j||P.ca()>j):!F.B()&&(M!=1736||P.R()>j))&&(F.Oc(f),F.A(P),s.A(p),p.W(j,j),p.isIntersecting(P)&&M==1736?s=r.V(s,F,h,null):s.add(F,!1)),R.move(l,0),f.shift(-l,0);return s},o.av=function(r,s,l,h){for(var f=l+h,p=0;p<s;p++){var g=r[p].x;l<=g&&g<f||!(g<l||g>f||g==f)||(g+=Math.ceil((l-g)/h)*h,g=c.O.Rk(g,l,f),r[p].x=g)}},o.Fn=function(r,s,l,h,f,p){if(!s.Wc())throw c.i.fa("fold_into_360_degree_range");if(r.B())return r;if(s.Sb()==2){l=s.pv();var g=s.ov()-l}else{var _=s.bf();g=360*_,l-=180*_}return o.Hp(r,l,g,s,h,f,!0,p)},o.qF=function(r,s,l,h){if(l.Sb()==2)h=l.pv(),l=l.ov()-h;else{var f=l.bf();l=360*f,h-=180*f}o.av(r,s,h,l)},o.lj=function(r,s){var l=s.Oe();if(r.getType()==33){var h=r.ih();return l.G<=h&&h<=l.H?r:r.Ia()}h=new c.l,r.A(h);var f=new c.l;return f.K(l),f.v=h.v,f.C=h.C,f.W(.01*f.ca(),0),l=c.ta.uy(s,h),f.contains(h)?r:c.ri.clip(r,f,l,0,null)},o.ir=function(r,s,l){return r>s.C&&r-s.C<l?s.C:r<s.v&&s.v-r<l?s.v:r},o.FX=function(r,s,l,h){h.x=o.ir(r.x,s,l),h.y=r.y},o.EX=function(r,s,l,h){for(var f=0;f<s;f++)r[f].y<l.G||r[f].y>l.H?r[f].Rc():r[f].x=o.ir(r[f].x,l,h)},o.Jt=function(r,s,l,h){if(!r.B()){var f=r.getType();if(!h||f!=1736)if(c.aa.xj(f)){h=r.ub(0),f=0;for(var p=r.I();f<p;f++){var g=h.read(2*f),_=o.ir(g,s,l);_!=g&&h.write(2*f,_)}r.Pc(1993)}else if(f==197)h=new c.l,r.A(h),h.v=o.ir(h.v,s,l),h.C=o.ir(h.C,s,l),r.Xo(h);else{if(f!=33)throw c.i.fa("internal error");r.cC(o.ir(r.Lg(),s,l))}}},o.uS=function(r,s,l,h){var f=new c.gd,p=f.Ib(r);return r=c.ta.Hu(s,r),o.ks(f,p,s,r,l,!0,h),f.Ne(p)},o.ks=function(r,s,l,h,f,p,g){if(!l.Wc())throw c.i.N("invalid call");var _=l.Oe(),M=l.sc(),R=M.eh().getDatum().getSpheroid();M=M.Hd().ai;var $=R.getFlattening();R=R.getAxis(),$*=2-$;var P=new c.Nc;_.cn(P);var j=null,F=[[0,0],[0,0]];if(l.Sb()==2?(j=l.eh(),p?(F[0][0]=o.Zm(g,P),F[0][1]=_.Jp(),c.ej.projToGeog(j,1,F),_=F[0][0]*M):(F[0][0]=_.gk(),F[0][1]=g,c.ej.projToGeog(j,1,F),_=F[0][1]*M)):_=g*M,!p&&_!=0&&f!=u.GreatElliptic)throw c.i.fa("invalid argument");var V=new c.ga,W=[0],q=new c.h,J=new c.h,nt=new c.h,st=[null,null],ct=new c.h,bt=new c.h,Tt=new c.h,Ut=new c.h;for(s=r.Ob(s);s!=-1;s=r.Rb(s)){var Pt=r.Xa(s);r.D(Pt,ct);for(var ee=!1,Nt=Pt=r.U(Pt);Nt!=-1;Nt=r.U(Nt)){if(Nt==Pt){if(ee)break;ee=!0}if(r.D(Nt,bt),p&&(h<g-ct.x&&bt.x-g>h||h<g-bt.x&&ct.x-g>h)||!p&&(g!=0||h<-ct.y&&bt.y>h||h<-bt.y&&ct.y>h))do if(!(Math.abs(ct.x-bt.x)>=.5*P.R())){if(l.Sb()==2?(F[0][0]=o.Zm(ct.x,P),F[0][1]=ct.y,F[1][0]=o.Zm(bt.x,P),F[1][1]=bt.y,c.ej.projToGeogCenter(j,2,F,0),Tt.x=F[0][0]*M,Tt.y=F[0][1]*M,Ut.y=F[1][1]*M):(Tt.x=ct.x*M,Tt.y=ct.y*M,Ut.y=bt.y*M),Ut.x=2*(bt.x-ct.x)*Math.PI/P.R()+Tt.x,p){if(J.x=_,J.y=o.Nz(R,$,Tt,Ut,_,f),isNaN(J.y))break;st[0]=J;var _e=1}else if(f==u.GreatElliptic){var ne=[0,0];if((_e=c.Ox.Oz($,Tt,Ut,_,ne))==0)break;J.x=ne[0],J.y=_,st[0]=J,_e==2&&(nt.x=ne[1],nt.y=_,st[1]=nt)}else{if(J.x=o.Lz(R,$,Tt,Ut,f),isNaN(J.x))break;J.y=0,st[0]=J,_e=1}var Ye=-1;for(ne=0;ne<_e;ne++){c.kb.wd(R,$,Tt.x,Tt.y,Ut.x,Ut.y,V,null,null,f);var pi=V.u;c.kb.wd(R,$,Tt.x,Tt.y,st[ne].x,st[ne].y,V,null,null,f);var xi=V.u;if(l.Sb()==2?(F[0][0]=st[ne].x/M,F[0][1]=st[ne].y/M,c.ej.geogToProj(j,1,F),p?(q.y=F[0][1],q.x=g):(q.x=o.os(F[0][0],ct.x,bt.x,P),q.y=g)):p?(q.x=g,q.y=st[ne].y/M):(q.x=o.os(st[ne].x/M,ct.x,bt.x,P),q.y=g),W[0]=0<pi?c.O.Rk(xi/pi,0,1):.5,W[0]==0||W[0]==1)break;Ye>W[0]||(Ye=r.Ma(Nt),r.Ul(Ye,W,1),r.Cb(r.U(Ye),q.x,q.y),Ye=W[0])}}while(!1);ct.L(bt)}}},o.Zm=function(r,s){var l=s.va-s.oa;return s.It(r-Math.floor((r-s.oa)/l)*l)},o.os=function(r,s,l,h){var f=new c.Nc;for(f.K(s,l),l=h.R(),r=Math.floor((r-s)/l)*l+r,f=f.sf();Math.abs(r-f)>Math.abs(r+l-f);)r+=l;return r},o.Sn=function(r,s,l){return r=c.qr.Cp(r),s=c.qr.mx(r,c.qr.Cp(s)),(l=c.qr.mx(r,c.qr.Cp(l)))==0||0<s&&0<l&&l<=s||0>s&&0>l&&l>=s},o.Nz=function(r,s,l,h,f,p){if(p==u.GreatElliptic)return c.Ox.SS(s,l,h,f);if(Math.abs(l.x-h.x)>=Math.PI||!o.Sn(l.x,h.x,f))return NaN;if(l.x>h.x)var g=h;else g=l,l=h;h=new c.ga;var _=new c.ga,M=new c.ga;c.kb.wd(r,s,g.x,g.y,l.x,l.y,_,h,null,p);var R=_.u,$=0,P=1,j=new c.h;for(j.L(g);R*(P-$)>1e-12*r;){var F=.5*($+P);if(c.kb.oj(r,s,g.x,g.y,R*F,h.u,_,M,p),j.x=_.u,j.y=M.u,j.x==f)break;if(o.Sn(g.x,j.x,f))P=F;else{if(!o.Sn(l.x,j.x,f))return NaN;$=F}}return j.y},o.Lz=function(r,s,l,h,f){if(f==u.GreatElliptic)return r=[0,0],c.Ox.Oz(s,l,h,0,r),r[0];if(l.y>h.y)var p=h;else p=l,l=h;if((h=new c.Nc).K(p.y,l.y),!h.contains(0)||Math.abs(p.x-l.x)>=Math.PI)return NaN;if(p.x==l.x)return p.x;var g=new c.ga,_=new c.ga,M=new c.ga;c.kb.wd(r,s,p.x,p.y,l.x,l.y,_,g,null,f);var R=_.u,$=0,P=1,j=new c.h;for(j.L(p);R*(P-$)>1e-12*r;){var F=.5*($+P);if(c.kb.oj(r,s,p.x,p.y,R*F,g.u,_,M,f),j.x=_.u,j.y=M.u,h.K(p.y,j.y),j.y==0)break;if(h.contains(0))P=F;else{if(h.K(l.y,j.y),!h.contains(0))return NaN;$=F}}return j.x},o.WI=function(r,s,l,h){if(!r.ef.Wc())return!1;var f=new c.de(s.description);if(f.Fd(s,0,-1),h=c.Hx.local().V(f,r,h),f=s.I(),l.Oa(),f!=h.I())return!1;var p=new c.l;s.A(p);var g=new c.l;if(h.A(g),p=p.R(),g=g.R(),p!=0&&g!=0){if(g/=p,r=r.Yf.gh().R()/r.ef.gh().R(),1e-10<Math.abs(g/r-1))return!1}else if(p!=0||g!=0)return!1;for(l.add(s,!1),s=new c.h,r=0;r<f;r++)h.D(r,s),l.Cb(r,s);return!0},o.qN=function(r,s){return(r%=360*s)>=180*s&&(r-=360*s),r},o.UI=function(r,s,l,h){if(l==I.Clip){var f=s.ml();f.getType()==197?(l=new c.l,f.A(l),f=c.ta.uy(s,l),r=c.ri.clip(r,l,f,5e4*s.pm(),h)):c.dj.local().V(1,f,r,s,h)||(r=c.Xj.local().V(r,f,s,h))==f&&(r=c.Vk.jg(r))}else s.Wc()&&(h=new c.l,r.xc(h),s.Oe().contains(h)||(o.Jt(r,s.Oe(),s.Xd(0),!0),l==I.PannableFold&&(r=o.lj(r,s)),r=o.Fn(r,s,0,!0,1e5*s.pm(),null)));return r},o.XD=function(r,s,l){var h=s.Wr();if(h==null)return r;var f=(s=s.sc()).Oe().R(),p=new c.l;r.xc(p);var g=new c.Nc;p.cn(g),p=h.Ga(),h=null;for(var _=new c.Dd;p.$a();)for(;p.Ha();){var M=p.ha(),R=M.Tg(0,0),$=new c.Nc;for($.K(R.oa,R.va),R=0;$.va>g.oa;)$.move(-f),--R;for(;$.oa<=g.va;){if($.isIntersecting(g)){h==null&&(h=new c.Ta);var P=c.yb.cP(M.ac(),M.wc());R!=0&&(_.gg(R*f,0),P.Oc(_)),h.oc(P,!0)}$.move(f),++R}}return h!=null?(s=c.ta.gO(s,h),s=c.ta.Er(s),c.$t.lP(r,h,s,l)):r},o.eO=function(r,s,l,h,f){return r>=l&&s<=h?0:o.tE(.5*(s+r),l,h,f)},o.tE=function(r,s,l,h){return c.lc.round((.5*(l+s)-r)/h)*h},o.VQ=function(r,s,l,h,f,p,g,_){var M=o.dv(h,f),R=M.R(),$=R/360,P=o.pE*$,j=r.ub(0),F=s.Wc(),V=F?R/s.Oe().R():0;s=r.Ia();for(var W=0,q=l.da();W<q;++W){var J=F,nt=new c.Ta(l.description);nt.addPath(l,W,!0);var st=l.dc(W);g!=0&&(st=o.PD(st,nt,M.H-_,M.H,g))&&(J=!1);var ct=-1;st=nt.I();var bt=!1;J&&(ct=r.Ba(W),bt=r.dc(W));var Tt=nt.ub(0),Ut=0,Pt=Tt.read(0),ee=0,Nt=3*h.Xd(0),_e=!1,ne=new c.h;ne.Rc();var Ye=new c.h;Ye.Rc();for(var pi=!1,xi=1;xi<st;++xi){var ai=c.h.construct(Tt.eg(2*xi),Tt.eg(2*xi+1)),Qe=ai.x,Ae=Qe+Ut,Ue=Ae-Pt;if(ai.x=Ae,Math.abs(Ue)>P){if(J){var Li=ct+xi-1,yi=ct;(!bt||xi+1<st)&&(yi+=xi),Li=j.read(2*Li),yi=(j.read(2*yi)-Li)*V,Math.abs(Ue-yi)>1*$&&(F=!1)}J||(Ae=Qe+(Ut-=c.lc.Cn(R,Ae-Pt)),++ee,pi=Ut!=0,ai.x=Ae)}else _e||c.ta.AG(ne,Ye,ai,Nt)&&(_e=!0);pi&&Tt.write(2*xi,Ae),Pt=Ae,ne.L(Ye),Ye.L(ai)}ee!=0&&nt.Pc(1993),J=nt.Na(0),st=nt.Na(st-1),c.h.tb(J,st),nt=o.wQ(nt,h,isNaN(f)?0:f,p),s.add(nt,!1)}return r=h.Xd(0),l=M.R()/180,o.Jt(s,M,.1*r,!1),c.ri.clip(s,M,r,l,p)},o.wQ=function(r,s,l,h){return o.Fn(r,s,l,!0,0,h)},o.OS=function(r,s,l,h){var f=r.getType();if(f==1736)for(s=s!=null?s.Xd(0):0,f=0;f<h;f++)c.hd.Yd(r,l[f],s)!=1&&l[f].Rc();else{if(f!=197)throw c.i.N();for(f=0;f<h;f++)r.dP(l[f])||l[f].Rc()}},o.$k=function(r,s,l,h){if(32>l)for(var f=new c.Sa,p=0;p<l;p++)f.Cb(s[p]),r.$k(f,h).D(s[p]);else{var g=new c.de;for(g.re(3),g.HD(s,l),f=g.ub(3),p=0;p<l;p++)f.write(p,p);for(p=r.$k(g,h),r=p.ub(0),f=p.ub(3),h=c.h.construct(NaN,NaN),g=0;g<l;g++)s[g]=h;for(l=p.I(),p=0;p<l;p++)h=f.read(p),r.tc(2*p,s[h])}},o.Zk=function(r,s,l,h){if(32>l)for(var f=new c.Sa,p=0;p<l;p++)f.Cb(s[p]),r.Zk(f,h).D(s[p]);else{var g=new c.de;for(g.re(3),g.HD(s,l),f=g.ub(3),p=0;p<l;p++)f.write(p,p);for(p=r.Zk(g,h),r=p.ub(0),f=p.ub(3),h=c.h.construct(NaN,NaN),g=0;g<l;g++)s[g]=h;for(l=p.I(),p=0;p<l;p++)h=f.read(p),r.tc(2*p,s[h])}},o.pE=210,o})()})(Q||(Q={})),(function(c){var I;(I=c.UL||(c.UL={}))[I.rightSide=1]="rightSide";var w=(function(){function u(o,r,s){this.Bs=new c.h,o===void 0?this.Io=-1:(this.Bs.L(o),this.Io=r,this.Ka=s,this.nw=0)}return u.prototype.WJ=function(o){this.nw=o?1|this.nw:-2&this.nw},u.prototype.B=function(){return 0>this.Io},u.prototype.fz=function(){if(this.B())throw c.i.fa("invalid call");return new c.Sa(this.Bs.x,this.Bs.y)},u.prototype.Ua=function(){if(this.B())throw c.i.fa("invalid call");return this.Io},u.prototype.hz=function(){if(this.B())throw c.i.fa("invalid call");return this.Ka},u.prototype.Sz=function(){return!!(1&this.nw)},u.prototype.ey=function(o,r,s,l){this.Bs.x=o,this.Bs.y=r,this.Io=s,this.Ka=l},u})();c.$l=w})(Q||(Q={})),(function(c){var I=(function(){function u(){}return u.prototype.Uo=function(o,r){if(this.th.resize(0),this.Ii.length=0,this.tk=-1,o.xc(this.Ek),this.Ek.W(r,r),this.Ek.isIntersecting(this.Fb.Ca)){var s=o.getType();(this.vs=c.aa.yd(s))?(this.TH=o.ac(),this.SH=o.wc(),this.qa=r):this.qa=NaN,this.th.add(this.Fb.kf),this.Ii.push(this.Fb.Ca),this.Qs=this.Fb.Ur(this.Fb.kf)}else this.Qs=-1},u.prototype.Xi=function(o,r){this.th.resize(0),this.Ii.length=0,this.tk=-1,this.Ek.K(o),this.Ek.W(r,r),this.qa=NaN,this.Ek.isIntersecting(this.Fb.Ca)?(this.th.add(this.Fb.kf),this.Ii.push(this.Fb.Ca),this.Qs=this.Fb.Ur(this.Fb.kf),this.vs=!1):this.Qs=-1},u.prototype.next=function(){if(this.th.size==0)return-1;this.tk=this.Qs;var o=null,r=null,s=null,l=null;this.vs&&(o=new c.h,r=new c.h,s=new c.l);for(var h=!1;!h;){for(;this.tk!=-1;){var f=this.Fb.bz(this.Fb.fv(this.tk));if(f.isIntersecting(this.Ek)){if(!this.vs){h=!0;break}if(o.L(this.TH),r.L(this.SH),s.K(f),s.W(this.qa,this.qa),0<s.zy(o,r)){h=!0;break}}this.tk=this.Fb.nv(this.tk)}if(this.tk==-1){f=this.th.Fc();var p=this.Ii[this.Ii.length-1];for(l==null&&((l=[])[0]=new c.l,l[1]=new c.l,l[2]=new c.l,l[3]=new c.l),w.EJ(p,l),this.th.If(),--this.Ii.length,p=0;4>p;p++){var g=this.Fb.Lp(f,p);if(g!=-1&&0<this.Fb.WR(g)&&l[p].isIntersecting(this.Ek))if(this.vs){if(o.L(this.TH),r.L(this.SH),s.K(l[p]),s.W(this.qa,this.qa),0<s.zy(o,r)){var _=new c.l;_.K(l[p]),this.th.add(g),this.Ii.push(_)}}else(_=new c.l).K(l[p]),this.th.add(g),this.Ii.push(_)}if(this.th.size==0)return-1;this.tk=this.Fb.Ur(this.th.get(this.th.size-1))}}return this.Qs=this.Fb.nv(this.tk),this.tk},u.bP=function(o,r,s){var l=new u;return l.Fb=o,l.Ek=new c.l,l.th=new c.ia(0),l.Ii=[],l.Uo(r,s),l},u.aP=function(o,r,s){var l=new u;return l.Fb=o,l.Ek=new c.l,l.th=new c.ia(0),l.Ii=[],l.Xi(r,s),l},u.$O=function(o){var r=new u;return r.Fb=o,r.Ek=new c.l,r.th=new c.ia(0),r.Ii=[],r},u})();c.GY=I;var w=(function(){function u(o,r){this.jf=new c.$c(11),this.Zh=new c.$c(5),this.ws=[],this.gw=new c.ia(0),this.Ca=new c.l,this.Nk(o,r)}return u.prototype.reset=function(o,r){this.jf.mj(!1),this.Zh.mj(!1),this.ws.length=0,this.gw.clear(!1),this.Nk(o,r)},u.prototype.vj=function(o,r){return this.zv(o,r,0,this.Ca,this.kf,!1,-1)},u.prototype.Jz=function(o,r,s){s=s==-1?this.kf:this.WF(s);var l=this.ca(s),h=this.oR(s);return this.zv(o,r,l,h,s,!1,-1)},u.prototype.ja=function(o){return this.jR(o)},u.prototype.GF=function(o){return this.bz(this.fv(o))},u.prototype.ca=function(o){return this.jv(o)},u.prototype.oR=function(o){var r=new c.l;r.K(this.Ca);var s=this.jv(o);o=this.QF(o);for(var l=0;l<2*s;l+=2){var h=c.O.truncate(3&o>>l);h==0?(r.v=.5*(r.v+r.C),r.G=.5*(r.G+r.H)):h==1?(r.C=.5*(r.v+r.C),r.G=.5*(r.G+r.H)):(h==2?r.C=.5*(r.v+r.C):r.v=.5*(r.v+r.C),r.H=.5*(r.G+r.H))}return r},u.prototype.WR=function(o){return this.Az(o)},u.prototype.vR=function(o,r){return I.bP(this,o,r)},u.prototype.MF=function(o,r){return I.aP(this,o,r)},u.prototype.getIterator=function(){return I.$O(this)},u.prototype.Nk=function(o,r){if(0>r||32<2*r)throw c.i.N("invalid height");this.BT=r,this.Ca.K(o),this.kf=this.jf.Ce(),this.jx(this.kf,0),this.ax(this.kf,0),this.NJ(this.kf,0),this.KJ(this.kf,0)},u.prototype.zv=function(o,r,s,l,h,f,p){if(!l.contains(r))return s==0?-1:this.zv(o,r,0,this.Ca,this.kf,f,p);if(!f)for(var g=h;g!=-1;g=this.IR(g))this.jx(g,this.Az(g)+1);(g=new c.l).K(l),l=h;var _=[];for(_[0]=new c.l,_[1]=new c.l,_[2]=new c.l,_[3]=new c.l;s<this.BT&&this.iO(l);s++){u.EJ(g,_);for(var M=!1,R=0;4>R;R++)if(_[R].contains(r)){M=!0;var $=this.Lp(l,R);$==-1&&($=this.rP(l,R)),this.jx($,this.Az($)+1),l=$,g.K(_[R]);break}if(!M)break}return this.sS(o,r,s,g,l,f,h,p)},u.prototype.sS=function(o,r,s,l,h,f,p,g){var _=this.NF(h);if(f){if(h==p)return g;this.SP(g),f=g}else f=this.tP(),this.NB(f,o),this.KW(this.fv(f),r);return this.mX(f,h),_!=-1?(this.hx(f,_),this.bx(_,f)):this.GJ(h,f),this.SB(h,f),this.ax(h,this.lv(h)+1),this.hO(h)&&this.MQ(s,l,h),f},u.prototype.SP=function(o){var r=this.WF(o),s=this.NF(r),l=this.OR(o),h=this.nv(o);this.Ur(r)==o?(h!=-1?this.hx(h,-1):this.SB(r,-1),this.GJ(r,h)):s==o?(this.bx(l,-1),this.SB(r,l)):(this.hx(h,l),this.bx(l,h)),this.hx(o,-1),this.bx(o,-1),this.ax(r,this.lv(r)-1)},u.EJ=function(o,r){var s=.5*(o.v+o.C),l=.5*(o.G+o.H);r[0].K(s,l,o.C,o.H),r[1].K(o.v,l,s,o.H),r[2].K(o.v,o.G,s,l),r[3].K(s,o.G,o.C,l)},u.prototype.hO=function(o){return this.lv(o)==8&&!this.gG(o)},u.prototype.MQ=function(o,r,s){var l=this.Ur(s);do{var h=this.fv(l),f=this.Zh.T(l,0);h=this.bz(h),this.zv(f,h,o,r,s,!0,l),l=f=this.nv(l)}while(l!=-1)},u.prototype.iO=function(o){return 8<=this.lv(o)||this.gG(o)},u.prototype.gG=function(o){return this.Lp(o,0)!=-1||this.Lp(o,1)!=-1||this.Lp(o,2)!=-1||this.Lp(o,3)!=-1},u.prototype.rP=function(o,r){var s=this.jf.Ce();return this.OW(o,r,s),this.jx(s,0),this.ax(s,0),this.Pk(s,o),this.KJ(s,this.jv(o)+1),this.NJ(s,r<<2*this.jv(o)|this.QF(o)),s},u.prototype.tP=function(){var o=this.Zh.Ce();if(0<this.gw.size){var r=this.gw.Fc();this.gw.If()}else r=this.ws.length,this.ws.push(new c.l);return this.LW(o,r),o},u.prototype.Lp=function(o,r){return this.jf.T(o,r)},u.prototype.OW=function(o,r,s){this.jf.S(o,r,s)},u.prototype.Ur=function(o){return this.jf.T(o,4)},u.prototype.GJ=function(o,r){this.jf.S(o,4,r)},u.prototype.NF=function(o){return this.jf.T(o,5)},u.prototype.SB=function(o,r){this.jf.S(o,5,r)},u.prototype.QF=function(o){return this.jf.T(o,6)},u.prototype.NJ=function(o,r){this.jf.S(o,6,r)},u.prototype.lv=function(o){return this.jf.T(o,7)},u.prototype.Az=function(o){return this.jf.T(o,8)},u.prototype.ax=function(o,r){this.jf.S(o,7,r)},u.prototype.jx=function(o,r){this.jf.S(o,8,r)},u.prototype.IR=function(o){return this.jf.T(o,9)},u.prototype.Pk=function(o,r){this.jf.S(o,9,r)},u.prototype.jv=function(o){return this.jf.T(o,10)},u.prototype.KJ=function(o,r){this.jf.S(o,10,r)},u.prototype.jR=function(o){return this.Zh.T(o,0)},u.prototype.NB=function(o,r){this.Zh.S(o,0,r)},u.prototype.OR=function(o){return this.Zh.T(o,1)},u.prototype.nv=function(o){return this.Zh.T(o,2)},u.prototype.hx=function(o,r){this.Zh.S(o,1,r)},u.prototype.bx=function(o,r){this.Zh.S(o,2,r)},u.prototype.WF=function(o){return this.Zh.T(o,3)},u.prototype.mX=function(o,r){this.Zh.S(o,3,r)},u.prototype.fv=function(o){return this.Zh.T(o,4)},u.prototype.LW=function(o,r){this.Zh.S(o,4,r)},u.prototype.bz=function(o){return this.ws[o]},u.prototype.KW=function(o,r){this.ws[o].K(r)},u})();c.du=w})(Q||(Q={})),(function(c){var I;(I=c.aL||(c.aL={}))[I.Outside=0]="Outside",I[I.Inside=1]="Inside",I[I.Border=2]="Border";var w=(function(){function o(r,s){this.PT=s,this.Vh=r}return o.prototype.setColor=function(r,s){this.iH!=s&&r.flush(),this.iH=s},o.prototype.gF=function(r,s){for(var l=0;l<s;)for(var h=r[l++],f=r[l++],p=r[l++]*this.PT;h<f;h++)this.Vh[p+(h>>4)]|=this.iH<<2*(15&h)},o})();c.HY=w;var u=(function(){function o(r,s,l){this.Vh=null,this.SA=this.Ik=this.cI=this.aI=this.Es=this.qH=this.Gf=this.Um=0,this.Ri=this.Jk=this.vl=null,this.Fz(r,s,l)}return o.create=function(r,s,l){if(!o.zE(r))throw c.i.N();return o.wP(r,s,l)},o.pW=function(r){switch(r){case 0:r=1024;break;case 1:r=16384;break;case 2:r=262144;break;default:throw c.i.fa("Internal Error")}return r},o.zE=function(r){return!(r.B()||r.getType()!=1607&&r.getType()!=1736)},o.prototype.rQ=function(r,s){s=s.Ga();for(var l=new c.h,h=new c.h;s.$a();)for(;s.Ha();){var f=s.ha();if(f.getType()!=322)throw c.i.fa("Internal Error");r.Eh(f.ac(),l),r.Eh(f.wc(),h),this.Ri.jy(l.x,l.y,h.x,h.y)}this.Ri.iJ(c.Px.Cx)},o.prototype.sQ=function(){throw c.i.fa("Internal Error")},o.prototype.Ry=function(r,s){for(var l=1;4>l;l++)r.jy(s[l-1].x,s[l-1].y,s[l].x,s[l].y);r.jy(s[3].x,s[3].y,s[0].x,s[0].y),this.Ri.iJ(c.Px.Cx)},o.prototype.rK=function(r,s,l){for(var h=[null,null,null,null],f=0;f<h.length;f++)h[f]=new c.h;s=s.Ga(),l=this.Jk.dY(l)+1.5,f=new c.h;for(var p=new c.h,g=new c.h,_=new c.h,M=new c.h,R=new c.l,$=new c.h;s.$a();){var P=!1,j=!0;for($.ma(0,0);s.Ha();){var F=s.ha();if(_.x=F.sa,_.y=F.na,M.x=F.pa,M.y=F.la,R.Oa(),R.Zb(_.x,_.y),R.Lk(M.x,M.y),this.vl.HG(R)){this.Jk.Eh(M,M),j?(this.Jk.Eh(_,_),$.L(_),j=!1):_.L($),f.uc(M,_);var V=.5>(F=f.length());F==0?f.ma(1,0):(V||$.L(M),f.scale(l/F),p.ma(-f.y,f.x),g.ma(f.y,-f.x),_.sub(f),M.add(f),h[0].add(_,p),h[1].add(_,g),h[2].add(M,g),h[3].add(M,p),V?P=!0:this.Ry(r,h))}else P&&(this.Ry(r,h),P=!1),j=!0}P&&this.Ry(r,h)}},o.prototype.sC=function(r){return c.O.truncate(r*this.qH+this.aI)},o.prototype.tC=function(r){return c.O.truncate(r*this.Es+this.cI)},o.wP=function(r,s,l){return new o(r,s,l)},o.prototype.Fz=function(r,s,l){this.Gf=Math.max(c.O.truncate(2*Math.sqrt(l)+.5),64),this.Um=c.O.truncate((2*this.Gf+31)/32),this.vl=new c.l,this.Ik=s,l=0;for(var h=this.Gf,f=this.Um;8<=h;)l+=h*f,h=c.O.truncate(h/2),f=c.O.truncate((2*h+31)/32);this.Vh=c.O.lg(l,0),this.Ri=new c.Px,l=new w(this.Vh,this.Um,this),this.Ri.AX(this.Gf,this.Gf,l),r.A(this.vl),this.vl.W(s,s),h=new c.l;var p=s*(f=c.l.construct(1,1,this.Gf-2,this.Gf-2)).R();switch(s*=f.ca(),h.K(this.vl.sf(),Math.max(p,this.vl.R()),Math.max(s,this.vl.ca())),this.SA=this.Ik,this.Jk=new c.Dd,this.Jk.pS(h,f),new c.Dd,r.getType()){case 550:l.setColor(this.Ri,2),this.sQ();break;case 1607:l.setColor(this.Ri,2),this.rK(this.Ri,r,this.SA);break;case 1736:l.setColor(this.Ri,1),this.rQ(this.Jk,r),l.setColor(this.Ri,2),this.rK(this.Ri,r,this.SA)}this.qH=this.Jk.bb,this.Es=this.Jk.ab,this.aI=this.Jk.Gb,this.cI=this.Jk.Lb,this.XN()},o.prototype.XN=function(){this.Ri.flush();for(var r=0,s=this.Gf*this.Um,l=this.Gf,h=c.O.truncate(this.Gf/2),f=this.Um,p=c.O.truncate((2*h+31)/32);8<l;){for(l=0;l<h;l++)for(var g=2*l,_=2*l+1,M=0;M<h;M++){var R=2*M,$=2*M+1,P=R>>4;R=2*(15&R);var j=$>>4;$=2*(15&$);var F=this.Vh[r+f*g+P]>>R&3;F|=this.Vh[r+f*g+j]>>$&3,F|=this.Vh[r+f*_+P]>>R&3,F|=this.Vh[r+f*_+j]>>$&3,this.Vh[s+p*l+(M>>4)]|=F<<2*(15&M)}l=h,f=p,r=s,h=c.O.truncate(l/2),p=c.O.truncate((2*h+31)/32),s=r+f*l}},o.prototype.So=function(r,s){return this.vl.contains(r,s)?(r=this.sC(r),s=this.tC(s),0>r||r>=this.Gf||0>s||s>=this.Gf||(s=this.Vh[this.Um*s+(r>>4)]>>2*(15&r)&3)==0?0:s==1?1:2):0},o.prototype.Ro=function(r){if(!r.Ea(this.vl))return 0;var s=this.sC(r.v),l=this.sC(r.C),h=this.tC(r.G);if(r=this.tC(r.H),0>s&&(s=0),0>h&&(h=0),l>=this.Gf&&(l=this.Gf-1),r>=this.Gf&&(r=this.Gf-1),s>l||h>r)return 0;for(var f=Math.max(l-s,1)*Math.max(r-h,1),p=0,g=this.Um,_=this.Gf,M=0;;){if(32>f||16>_){for(f=h;f<=r;f++)for(var R=s;R<=l;R++)if(1<(M=this.Vh[p+g*f+(R>>4)]>>2*(15&R)&3))return 2;if(M==0)return 0;if(M==1)return 1}p+=g*_,_=c.O.truncate(_/2),g=c.O.truncate((2*_+31)/32),s=c.O.truncate(s/2),h=c.O.truncate(h/2),l=c.O.truncate(l/2),r=c.O.truncate(r/2),f=Math.max(l-s,1)*Math.max(r-h,1)}},o.prototype.RR=function(){return this.Gf*this.Um},o})();c.Nx=u})(Q||(Q={})),(function(c){var I;(I=c.VL||(c.VL={}))[I.contains=1]="contains",I[I.within=2]="within",I[I.equals=3]="equals",I[I.disjoint=4]="disjoint",I[I.touches=8]="touches",I[I.crosses=16]="crosses",I[I.overlaps=32]="overlaps",I[I.unknown=0]="unknown",I[I.intersects=1073741824]="intersects";var w=(function(){function o(){}return o.construct=function(r,s,l,h,f,p,g,_){var M=new o;return M.pw=r,M.Mm=s,M.Kj=l,M.Si=h,M.BH=f,M.SY=p,M.TY=g,M.UY=_,M},o})();c.Vt=(function(){function o(){}return o.CD=function(r,s,l){if(o.wy(r)){var h=c.ta.kj(s,r,!1);s=!1,c.Uk.CE(r)&&(s=s||r.lu(h,l)),(h=r.getType())!=1736&&h!=1607||!c.Uk.AE(r)||l==0||(s=s||r.fj(l)),h!=1736&&h!=1607||!c.Uk.BE(r)||l==0||s||r.hM()}},o.wy=function(r){return c.Uk.CE(r)||c.Uk.AE(r)||c.Uk.BE(r)},o})();var u=(function(){function o(){this.rh=[]}return o.zB=function(r,s,l,h,f){var p=r.getType(),g=s.getType();if(p==197){if(g==197)return o.tW(r,s,l,h);if(g==33)return h==2?h=1:h==1&&(h=2),o.hJ(s,r,l,h)}else if(p==33){if(g==197)return o.hJ(r,s,l,h);if(g==33)return o.vW(r,s,l,h)}if(r.B()||s.B())return h==4;var _=new c.l;r.A(_);var M=new c.l;s.A(M);var R=new c.l;if(R.K(_),R.Zb(M),l=c.ta.Wd(l,R,!1),o.dk(_,M,l))return h==4;switch(_=!1,c.Vk.yd(p)&&((p=new c.Ta(r.description)).oc(r,!0),r=p,p=1607),c.Vk.yd(g)&&((g=new c.Ta(s.description)).oc(s,!0),s=g,g=1607),p!=197&&g!=197?(r.Db()<s.Db()||p==33&&g==550)&&(h==2?h=1:h==1&&(h=2)):p!=1736&&g!=197&&(h==2?h=1:h==1&&(h=2)),p){case 1736:switch(g){case 1736:_=o.rt(r,s,l,h,f);break;case 1607:_=o.$m(r,s,l,h,f);break;case 33:_=o.qt(r,s,l,h);break;case 550:_=o.pt(r,s,l,h,f);break;case 197:_=o.GI(r,s,l,h,f)}break;case 1607:switch(g){case 1736:_=o.$m(s,r,l,h,f);break;case 1607:_=o.gB(r,s,l,h,f);break;case 33:_=o.tt(r,s,l,h,f);break;case 550:_=o.st(r,s,l,h,f);break;case 197:_=o.MI(r,s,l,h)}break;case 33:switch(g){case 1736:_=o.qt(s,r,l,h);break;case 1607:_=o.tt(s,r,l,h,f);break;case 550:_=o.lt(s,r,l,h)}break;case 550:switch(g){case 1736:_=o.pt(s,r,l,h,f);break;case 1607:_=o.st(s,r,l,h,f);break;case 550:_=o.ZA(r,s,l,h,f);break;case 33:_=o.lt(r,s,l,h);break;case 197:_=o.hI(r,s,l,h)}break;case 197:switch(g){case 1736:_=o.GI(s,r,l,h,f);break;case 1607:_=o.MI(s,r,l,h);break;case 550:_=o.hI(s,r,l,h)}}return _},o.tW=function(r,s,l,h){if(r.B()||s.B())return h==4;var f=new c.l,p=new c.l,g=new c.l;switch(r.A(f),s.A(p),g.K(f),g.Zb(p),r=c.ta.Wd(l,g,!1),h){case 4:return o.dk(f,p,r);case 2:return o.jF(p,f,r);case 1:return o.jF(f,p,r);case 3:return o.ek(f,p,r);case 8:return o.cQ(f,p,r);case 32:return o.bQ(f,p,r);case 16:return o.aQ(f,p,r)}return!1},o.hJ=function(r,s,l,h){if(r.B()||s.B())return h==4;r=r.D();var f=new c.l,p=new c.l;switch(s.A(f),p.K(r),p.Zb(f),s=c.ta.Wd(l,p,!1),h){case 4:return o.Rw(r,f,s);case 2:return o.eB(r,f,s);case 1:return o.RU(r,f,s);case 3:return o.vI(r,f,s);case 8:return o.dB(r,f,s)}return!1},o.vW=function(r,s,l,h){if(r.B()||s.B())return h==4;r=r.D(),s=s.D();var f=new c.l;switch(f.K(r),f.Zb(s),l=c.ta.Wd(l,f,!1),h){case 4:return o.SU(r,s,l);case 2:return o.uI(s,r,l);case 1:return o.uI(r,s,l);case 3:return o.wI(r,s,l)}return!1},o.rt=function(r,s,l,h,f){switch(h){case 4:return o.kV(r,s,l);case 2:return o.Sw(s,r,l,f);case 1:return o.Sw(r,s,l,f);case 3:return o.nV(r,s,l);case 8:return o.vV(r,s,l);case 32:return o.qV(r,s,l,f)}return!1},o.$m=function(r,s,l,h,f){switch(h){case 4:return o.lV(r,s,l);case 1:return o.fB(r,s,l,f);case 8:return o.wV(r,s,l,f);case 16:return o.gV(r,s,l)}return!1},o.qt=function(r,s,l,h){switch(h){case 4:return o.jV(r,s,l);case 1:return o.dV(r,s,l);case 8:return o.uV(r,s,l)}return!1},o.pt=function(r,s,l,h){switch(h){case 4:return o.iV(r,s,l);case 1:return o.cV(r,s,l);case 8:return o.tV(r,s,l);case 16:return o.fV(r,s,l)}return!1},o.GI=function(r,s,l,h,f){if(o.hV(r,s,l))return h==4;if(h==4)return!1;switch(h){case 2:return o.xV(r,s,l);case 1:return o.bV(r,s,l);case 3:return o.mV(r,s,l);case 8:return o.sV(r,s,l,f);case 32:return o.pV(r,s,l,f);case 16:return o.eV(r,s,l,f)}return!1},o.gB=function(r,s,l,h){switch(h){case 4:return o.GV(r,s,l);case 2:return o.KI(s,r,l);case 1:return o.KI(r,s,l);case 3:return o.IV(r,s,l);case 8:return o.NI(r,s,l);case 32:return o.MV(r,s,l);case 16:return o.LI(r,s,l)}return!1},o.tt=function(r,s,l,h){switch(h){case 4:return o.FV(r,s,l);case 1:return o.AV(r,s,l);case 8:return o.QV(r,s,l)}return!1},o.st=function(r,s,l,h){switch(h){case 4:return o.EV(r,s,l);case 1:return o.zV(r,s,l);case 8:return o.PV(r,s,l);case 16:return o.CV(r,s,l)}return!1},o.MI=function(r,s,l,h){if(o.DV(r,s,l))return h==4;if(h==4)return!1;switch(h){case 2:return o.RV(r,s,l);case 1:return o.yV(r,s,l);case 3:return o.HV(r,s,l);case 8:return o.OV(r,s,l);case 32:return o.LV(r,s,l);case 16:return o.BV(r,s,l)}return!1},o.ZA=function(r,s,l,h){switch(h){case 4:return o.gU(r,s,l);case 2:return o.eI(s,r,l);case 1:return o.eI(r,s,l);case 3:return o.iU(r,s,l);case 32:return o.oU(r,s,l)}return!1},o.lt=function(r,s,l,h){switch(h){case 4:return o.fI(r,s,l);case 2:return o.sU(r,s,l);case 1:return o.dU(r,s,l);case 3:return o.Nw(r,s,l)}return!1},o.hI=function(r,s,l,h){switch(h){case 4:return o.fU(r,s,l);case 2:return o.rU(r,s,l);case 1:return o.cU(r,s,l);case 3:return o.hU(r,s,l);case 8:return o.qU(r,s,l);case 16:return o.eU(r,s,l)}return!1},o.nV=function(r,s,l){var h=new c.l,f=new c.l;return r.A(h),s.A(f),!!o.ek(h,f,l)&&(h=o.qc(r,s,!1))!=4&&h!=1&&h!=2&&(!!o.dI(r,s,l)||(h=r.Qb(),f=s.Qb(),!(Math.abs(h-f)>4*Math.max(r.I(),s.I())*l)&&o.Wz(r,s,l,!0)))},o.kV=function(r,s,l){var h=o.qc(r,s,!0);return h==4||h!=1&&h!=2&&h!=1073741824&&o.EI(r,s,l)},o.vV=function(r,s,l){var h=o.qc(r,s,!1);return h!=4&&h!=1&&h!=2&&o.II(r,s,l,null)},o.qV=function(r,s,l,h){var f=o.qc(r,s,!1);return f!=4&&f!=1&&f!=2&&o.FI(r,s,l,h)},o.Sw=function(r,s,l,h){var f=new c.l,p=new c.l;return r.A(f),s.A(p),!!o.zc(f,p,l)&&(f=o.qc(r,s,!1))!=4&&f!=2&&(f==1||o.BI(r,s,l,h))},o.lV=function(r,s,l){var h=o.qc(r,s,!0);return h==4||h!=1&&h!=1073741824&&o.EI(r,s,l)},o.wV=function(r,s,l,h){var f=o.qc(r,s,!1);return f!=4&&f!=1&&o.JI(r,s,l,h)},o.gV=function(r,s,l){var h=o.qc(r,s,!1);return h!=4&&h!=1&&o.DI(r,s,l,null)},o.fB=function(r,s,l,h){var f=new c.l,p=new c.l;return r.A(f),s.A(p),!!o.zc(f,p,l)&&(f=o.qc(r,s,!1))!=4&&(f==1||o.CI(r,s,l,h))},o.jV=function(r,s,l){return c.hd.KG(r,s,l)==0},o.uV=function(r,s,l){return s=s.D(),o.HI(r,s,l)},o.dV=function(r,s,l){return s=s.D(),o.AI(r,s,l)},o.iV=function(r,s,l){var h=o.qc(r,s,!1);if(h==4)return!0;if(h==1)return!1;h=new c.l,r.A(h),h.W(l,l);for(var f=new c.h,p=0;p<s.I();p++)if(s.D(p,f),h.contains(f)){var g=c.hd.Yd(r,f,l);if(g==1||g==2)return!1}return!0},o.tV=function(r,s,l){var h=this.qc(r,s,!1);if(h==4||h==1)return!1;h=new c.l,r.A(h),h.W(l,l);for(var f=!1,p=r,g=!1,_=0;_<s.I();_++){var M=s.Na(_);if(h.contains(M)){if((M=c.hd.Yd(p,M,l))==2)f=!0;else if(M==1)return!1}g||(!c.Dg.Ml(r,s.I()-1)||r.Bb!=null&&r.Bb.Fb!=null?p=r:(p=new c.Da,r.copyTo(p),p.fj(1)),g=!0)}return!!f},o.fV=function(r,s,l){var h=this.qc(r,s,!1);if(h==4||h==1)return!1;var f=new c.l;h=new c.l;var p=new c.l;r.A(f),s.A(p),h.K(f),h.W(l,l),p=f=!1;for(var g=r,_=!1,M=0;M<s.I();M++){var R=s.Na(M);if(h.contains(R)?(R=c.hd.Yd(g,R,l))==0?p=!0:R==1&&(f=!0):p=!0,f&&p)return!0;_||(!c.Dg.Ml(r,s.I()-1)||r.Bb!=null&&r.Bb.Fb!=null?g=r:(g=new c.Da,r.copyTo(g),g.fj(1)),_=!0)}return!1},o.cV=function(r,s,l){var h=new c.l,f=new c.l;if(r.A(h),s.A(f),!this.zc(h,f,l)||(f=this.qc(r,s,!1))==4)return!1;if(f==1)return!0;f=!1;for(var p=r,g=!1,_=0;_<s.I();_++){var M=s.Na(_);if(!h.contains(M))return!1;if((M=c.hd.Yd(p,M,l))==1)f=!0;else if(M==0)return!1;g||(!c.Dg.Ml(r,s.I()-1)||r.Bb!=null&&r.Bb.Fb!=null?p=r:(p=new c.Da,r.copyTo(p),p.fj(1)),g=!0)}return f},o.mV=function(r,s,l){var h=new c.l,f=new c.l;return r.A(h),s.A(f),!!o.ek(h,f,l)&&((h=new c.Da).ad(s,!1),o.Wz(r,h,l,!0))},o.hV=function(r,s,l){var h=o.qc(r,s,!1);if(h==4)return!0;if(h==1||h==2)return!1;var f=new c.l;if(h=new c.l,r.A(f),s.A(h),o.zc(h,f,l)||(f=new c.h,h.dn(f),(s=c.hd.Yd(r,f,l))!=0)||(h.$I(f),(s=c.hd.Yd(r,f,l))!=0)||(h.en(f),(s=c.hd.Yd(r,f,l))!=0)||(h.cJ(f),(s=c.hd.Yd(r,f,l))!=0))return!1;s=r.ub(0),(f=new c.l).K(h),f.W(l,l);for(var p=0,g=r.I();p<g;p++){var _=s.read(2*p),M=s.read(2*p+1);if(f.contains(_,M))return!1}return!o.TG(r,h,l)},o.sV=function(r,s,l,h){var f=o.qc(r,s,!1);if(f==4||f==1||f==2)return!1;f=new c.l;var p=new c.l;return r.A(f),s.A(p),!o.zc(p,f,l)&&(p.R()<=l&&p.ca()<=l?(s=s.Ip(),o.HI(r,s,l)):p.R()<=l||p.ca()<=l?(f=new c.Ta,p=new c.Sa,s.Hf(0,p),f.nf(p),s.Hf(2,p),f.lineTo(p),o.JI(r,f,l,h)):((f=new c.Da).ad(s,!1),o.II(r,f,l,h)))},o.pV=function(r,s,l,h){var f=o.qc(r,s,!1);if(f==4||f==1||f==2)return!1;f=new c.l;var p=new c.l;return r.A(f),s.A(p),!(o.zc(p,f,l)||p.R()<=l||p.ca()<=l)&&((f=new c.Da).ad(s,!1),o.FI(r,f,l,h))},o.xV=function(r,s,l){var h=new c.l,f=new c.l;return r.A(h),s.A(f),o.zc(f,h,l)},o.bV=function(r,s,l){var h=new c.l,f=new c.l;return r.A(h),s.A(f),!!o.zc(h,f,l)&&(h=o.qc(r,s,!1))!=4&&h!=2&&(h==1||(f.R()<=l&&f.ca()<=l?(s=s.Ip(),o.AI(r,s,l)):f.R()<=l||f.ca()<=l?(f=new c.Ta,h=new c.Sa,s.Hf(0,h),f.nf(h),s.Hf(2,h),f.lineTo(h),o.CI(r,f,l,null)):((f=new c.Da).ad(s,!1),o.BI(r,f,l,null))))},o.eV=function(r,s,l,h){var f=new c.l,p=new c.l;return r.A(f),s.A(p),!(o.zc(p,f,l)||p.ca()>l&&p.R()>l||p.ca()<=l&&p.R()<=l)&&(f=new c.Ta,p=new c.Sa,s.Hf(0,p),f.nf(p),s.Hf(2,p),f.lineTo(p),o.DI(r,f,l,h))},o.IV=function(r,s,l){var h=new c.l,f=new c.l;return r.A(h),s.A(f),!(!o.ek(h,f,l)||o.qc(r,s,!1)==4)&&(!!o.dI(r,s,l)||o.Wz(r,s,l,!1))},o.GV=function(r,s,l){return this.qc(r,s,!1)==4||!!new c.Zl(r,s,l,!0).next()&&!this.UG(r,s,l)},o.NI=function(r,s,l){if(o.qc(r,s,!1)==4)return!1;var h=new c.be(0);if(o.Xz(r,s,l,h)!=0)return!1;for(var f=new c.de,p=0;p<h.size;p+=2){var g=h.read(p),_=h.read(p+1);f.Bu(g,_)}return r=r.mg(),s=s.mg(),r.Fd(s,0,s.I()),o.Mw(r,f,l)},o.LI=function(r,s,l){if(o.qc(r,s,!1)==4)return!1;var h=new c.be(0);if(o.Xz(r,s,l,h)!=0)return!1;for(var f=new c.de,p=0;p<h.size;p+=2){var g=h.read(p),_=h.read(p+1);f.Bu(g,_)}return r=r.mg(),s=s.mg(),r.Fd(s,0,s.I()),!o.Mw(r,f,l)},o.MV=function(r,s,l){return o.qc(r,s,!1)!=4&&o.WG(r,s,l)},o.KI=function(r,s,l){var h=new c.l,f=new c.l;return r.A(h),s.A(f),!(!o.zc(h,f,l)||o.qc(r,s,!1)==4)&&o.ym(s,r,l,!1)},o.FV=function(r,s,l){return o.qc(r,s,!1)==4||(s=s.D(),!o.Yz(r,s,l))},o.QV=function(r,s,l){return o.qc(r,s,!1)!=4&&(s=s.D(),o.Zz(r,s,l))},o.AV=function(r,s,l){return o.qc(r,s,!1)!=4&&(s=s.D(),o.SG(r,s,l))},o.EV=function(r,s,l){return o.qc(r,s,!1)==4||!o.VG(r,s,l,!1)},o.PV=function(r,s,l){if(this.qc(r,s,!1)==4)return!1;var h=r.Ga(),f=new c.l,p=new c.l,g=new c.l;r.A(f),s.A(p),f.W(l,l),p.W(l,l),g.K(f),g.Ea(p),f=null;var _=r.Bb;if(_!=null){var M=_.Fb;f=_.zo,M==null&&(M=_=c.ta.jj(r,g))}else M=_=c.ta.jj(r,g);var R=M.getIterator(),$=null;f!=null&&($=f.getIterator());var P=new c.h,j=new c.h,F=!1,V=l*l;for(f=new c.pn(s.I()),_=0;_<s.I();_++)f.write(_,0);for(_=0;_<s.I();_++)if(s.D(_,P),g.contains(P)){if(p.K(P.x,P.y,P.x,P.y),$!=null&&($.Xi(p,l),$.next()==-1))continue;R.Xi(p,l);for(var W=R.next();W!=-1;W=R.next())if(h.Vb(M.ja(W)),(W=h.ha()).hc(W.fe(P,!1),j),c.h.yc(P,j)<=V){f.write(_,1),F=!0;break}}if(!F)return!1;for(r=r.mg(),h=new c.de,p=new c.h,_=0;_<s.I();_++)f.read(_)!=0&&(s.D(_,p),h.Bu(p.x,p.y));return this.Mw(r,h,l)},o.CV=function(r,s,l){if(this.qc(r,s,!1)==4)return!1;var h=r.Ga(),f=new c.l,p=new c.l,g=new c.l;r.A(f),s.A(p),f.W(l,l),p.W(l,l),g.K(f),g.Ea(p),f=null;var _=r.Bb;if(_!=null){var M=_.Fb;f=_.zo,M==null&&(M=_=c.ta.jj(r,g))}else M=_=c.ta.jj(r,g);var R=M.getIterator(),$=null;f!=null&&($=f.getIterator());var P=new c.h,j=new c.h,F=!1,V=!1,W=l*l;for(f=new c.pn(s.I()),_=0;_<s.I();_++)f.write(_,0);for(_=0;_<s.I();_++)if(s.D(_,P),g.contains(P)){if(p.K(P.x,P.y,P.x,P.y),$!=null&&($.Xi(p,l),$.next()==-1)){V=!0;continue}R.Xi(p,l);for(var q=!1,J=R.next();J!=-1;J=R.next())if(h.Vb(M.ja(J)),(J=h.ha()).hc(J.fe(P,!1),j),c.h.yc(P,j)<=W){f.write(_,1),q=F=!0;break}q||(V=!0)}else V=!0;if(!F||!V)return!1;for(r=r.mg(),h=new c.de,p=new c.h,_=0;_<s.I();_++)f.read(_)!=0&&(s.D(_,p),h.Bu(p.x,p.y));return!this.Mw(r,h,l)},o.zV=function(r,s,l){var h=new c.l,f=new c.l;return r.A(h),s.A(f),!(!o.zc(h,f,l)||o.qc(r,s,!1)==4||!o.VG(r,s,l,!0))&&(r=r.mg(),!o.gI(r,s,l))},o.HV=function(r,s,l){var h=new c.l,f=new c.l;return r.A(h),s.A(f),!(f.ca()>l&&f.R()>l)&&o.ek(h,f,l)},o.DV=function(r,s,l){var h=new c.l,f=new c.l;return r.A(h),s.A(f),!o.zc(f,h,l)&&!o.TG(r,f,l)},o.OV=function(r,s,l){var h=new c.l,f=new c.l;if(r.A(h),s.A(f),f.ca()<=l&&f.R()<=l)return f=s.Ip(),o.Zz(r,f,l);if(f.ca()<=l||f.R()<=l)return f=new c.Ta,h=new c.Sa,s.Hf(0,h),f.nf(h),s.Hf(2,h),f.lineTo(h),o.NI(r,f,l);r=r.Ga(),s=new c.l,h=new c.l,s.K(f),h.K(f),s.W(-l,-l),h.W(l,l),f=!1;for(var p=new c.l,g=new c.l;r.$a();)for(;r.Ha();){if(r.ha().A(p),g.K(s),g.Ea(p),!g.B()&&(g.ca()>l||g.R()>l))return!1;g.K(h),g.Ea(p),g.B()||(f=!0)}return f},o.LV=function(r,s,l){var h=new c.l,f=new c.l;return r.A(h),s.A(f),!(o.zc(h,f,l)||o.zc(f,h,l)||o.zc(f,h,l)||f.ca()>l&&f.R()>l||f.ca()<=l&&f.R()<=l)&&(h=new c.Ta,f=new c.Sa,s.Hf(0,f),h.nf(f),s.Hf(2,f),h.lineTo(f),o.WG(r,h,l))},o.RV=function(r,s,l){var h=new c.l,f=new c.l;if(r.A(h),s.A(f),!o.zc(f,h,l)||f.ca()<=l&&f.R()<=l)return!1;if(f.ca()<=l||f.R()<=l)return o.zc(f,h,l);r=r.Ga(),(s=new c.l).K(f),s.W(-l,-l),f=!1,h=new c.l;for(var p=new c.l;r.$a();)for(;r.Ha();)r.ha().A(h),s.hm(h)?f=!0:(p.K(s),p.Ea(h),!p.B()&&(p.ca()>l||p.R()>l)&&(f=!0));return f},o.yV=function(r,s,l){var h=new c.l,f=new c.l;return s.A(f),r.A(h),!(!o.zc(h,f,l)||f.ca()>l&&f.R()>l)&&(f.ca()<=l&&f.R()<=l?(s=s.Ip(),o.SG(r,s,l)):(h=new c.Ta,f=new c.Sa,s.Hf(0,f),h.nf(f),s.Hf(2,f),h.lineTo(f),o.ym(h,r,l,!1)))},o.BV=function(r,s,l){var h=new c.l,f=new c.l;if(r.A(h),s.A(f),o.zc(f,h,l)||f.ca()<=l&&f.R()<=l)return!1;if(f.ca()<=l||f.R()<=l)return h=new c.Ta,f=new c.Sa,s.Hf(0,f),h.nf(f),s.Hf(2,f),h.lineTo(f),o.LI(r,h,l);r=r.Ga(),s=new c.l,(h=new c.l).K(f),s.K(f),h.W(-l,-l),s.W(l,l);for(var p=f=!1,g=new c.l,_=new c.l;r.$a();)for(;r.Ha();)if(r.ha().A(g),p||s.contains(g)||(p=!0),f||(_.K(h),_.Ea(g),!_.B()&&(_.ca()>l||_.R()>l)&&(f=!0)),f&&p)return!0;return!1},o.iU=function(r,s,l){var h=new c.l,f=new c.l;return r.A(h),s.A(f),!!o.ek(h,f,l)&&(!!o.jU(r,s,l)||o.YA(r,s,l,!1,!0,!1))},o.gU=function(r,s,l){return!o.gI(r,s,l)},o.oU=function(r,s,l){return o.YA(r,s,l,!1,!1,!0)},o.eI=function(r,s,l){var h=new c.l,f=new c.l;return r.A(h),s.A(f),!!o.zc(h,f,l)&&o.YA(s,r,l,!0,!1,!1)},o.Mw=function(r,s,l){l*=l;for(var h=new c.h,f=new c.h,p=0;p<s.I();p++){s.D(p,f);for(var g=!1,_=0;_<r.I();_++)if(r.D(_,h),c.h.yc(h,f)<=l){g=!0;break}if(!g)return!1}return!0},o.Nw=function(r,s,l){var h=new c.l,f=new c.l;return r.A(h),s.A(f),o.ek(h,f,l)},o.fI=function(r,s,l){return s=s.D(),o.kt(r,s,l)},o.sU=function(r,s,l){return o.Nw(r,s,l)},o.dU=function(r,s,l){return!o.fI(r,s,l)},o.hU=function(r,s,l){var h=new c.l,f=new c.l;return r.A(h),s.A(f),!(f.ca()>l||f.R()>l)&&o.ek(h,f,l)},o.fU=function(r,s,l){var h=new c.l,f=new c.l;if(r.A(h),s.A(f),o.zc(f,h,l))return!1;for((s=new c.l).K(f),s.W(l,l),l=new c.h,f=0;f<r.I();f++)if(r.D(f,l),s.contains(l))return!1;return!0},o.qU=function(r,s,l){var h=new c.l,f=new c.l,p=new c.l;if(s.A(h),h.ca()<=l&&h.R()<=l)return!1;if(h.ca()<=l||h.R()<=l){s=new c.h;var g=!1;f.K(h),p.K(h),f.W(l,l),h.ca()>l?p.W(0,-l):p.W(-l,0);for(var _=0;_<r.I();_++)if(r.D(_,s),f.contains(s)){if(h.ca()>l){if(s.y>p.G&&s.y<p.H)return!1}else if(s.x>p.v&&s.x<p.C)return!1;g=!0}return g}for(f.K(h),p.K(h),f.W(l,l),p.W(-l,-l),s=new c.h,g=!1,_=0;_<r.I();_++)if(r.D(_,s),f.contains(s)){if(p.hm(s))return!1;g=!0}return g},o.rU=function(r,s,l){var h=new c.l,f=new c.l;if(r.A(h),s.A(f),!o.zc(f,h,l))return!1;if(f.ca()<=l&&f.R()<=l)return o.ek(h,f,l);if(f.ca()<=l||f.R()<=l){s=!1,h=new c.l;var p=new c.l;h.K(f),p.K(f),f.ca()>l?h.W(0,-l):h.W(-l,0),p.W(l,l);for(var g=new c.h,_=0;_<r.I();_++){if(r.D(_,g),!p.contains(g))return!1;f.ca()>l?g.y>h.G&&g.y<h.H&&(s=!0):g.x>h.v&&g.x<h.C&&(s=!0)}return s}for(s=!1,h=new c.l,p=new c.l,h.K(f),p.K(f),h.W(-l,-l),p.W(l,l),g=new c.h,_=0;_<r.I();_++){if(r.D(_,g),!p.contains(g))return!1;h.hm(g)&&(s=!0)}return s},o.cU=function(r,s,l){var h=new c.l,f=new c.l;return r.A(h),s.A(f),!(!o.zc(h,f,l)||f.ca()>l||f.R()>l)&&(s=s.Ip(),!o.kt(r,s,l))},o.eU=function(r,s,l){var h=new c.l,f=new c.l;if(r.A(h),s.A(f),o.zc(f,h,l)||f.ca()<=l&&f.R()<=l)return!1;if(f.ca()<=l||f.R()<=l){s=new c.l,h=new c.l,s.K(f),f.ca()>l?s.W(0,-l):s.W(-l,0),h.K(f),h.W(l,l);for(var p=new c.h,g=!1,_=!1,M=0;M<r.I();M++)if(r.D(M,p),g||(f.ca()>l?p.y>s.G&&p.y<s.H&&(g=!0):p.x>s.v&&p.x<s.C&&(g=!0)),_||h.contains(p)||(_=!0),g&&_)return!0;return!1}for(s=new c.l,h=new c.l,s.K(f),s.W(-l,-l),h.K(f),h.W(l,l),p=new c.h,_=g=!1,M=0;M<r.I();M++)if(r.D(M,p),!g&&s.hm(p)&&(g=!0),_||h.contains(p)||(_=!0),g&&_)return!0;return!1},o.wI=function(r,s,l){return c.h.yc(r,s)<=l*l},o.SU=function(r,s,l){return c.h.yc(r,s)>l*l},o.uI=function(r,s,l){return o.wI(r,s,l)},o.vI=function(r,s,l){var h=new c.l;return h.K(r),o.ek(h,s,l)},o.Rw=function(r,s,l){var h=new c.l;return h.K(s),h.W(l,l),!h.contains(r)},o.dB=function(r,s,l){if(s.ca()<=l&&s.R()<=l)return!1;var h=new c.l,f=new c.l;if(h.K(s),h.W(l,l),!h.contains(r))return!1;if(s.ca()<=l||s.R()<=l){if(f.K(s),s.ca()>l?f.W(0,-l):f.W(-l,0),s.ca()>l){if(r.y>f.G&&r.y<f.H)return!1}else if(r.x>f.v&&r.x<f.C)return!1;return!0}return f.K(s),f.W(-l,-l),!f.hm(r)},o.eB=function(r,s,l){if(s.ca()<=l&&s.R()<=l)return!0;if(s.ca()<=l||s.R()<=l){var h=new c.l;h.K(s),s.ca()>l?h.W(0,-l):h.W(-l,0);var f=!1;return s.ca()>l?r.y>h.G&&r.y<h.H&&(f=!0):r.x>h.v&&r.x<h.C&&(f=!0),f}return(h=new c.l).K(s),h.W(-l,-l),h.hm(r)},o.RU=function(r,s,l){return o.vI(r,s,l)},o.ek=function(r,s,l){return o.zc(r,s,l)&&o.zc(s,r,l)},o.dk=function(r,s,l){var h=new c.l;return h.K(s),h.W(l,l),!r.isIntersecting(h)},o.cQ=function(r,s,l){if(r.ca()<=l&&r.R()<=l){var h=r.sf();return o.dB(h,s,l)}if(s.ca()<=l&&s.R()<=l)return h=s.sf(),o.dB(h,r,l);if(r.ca()>l&&r.R()>l&&(s.ca()<=l||s.R()<=l)?h=s:(h=r,r=s),h.ca()<=l||h.R()<=l){if(r.ca()<=l||r.R()<=l){s=new c.yb;var f=new c.yb,p=[0,0],g=[0,0],_=new c.h;return h.dn(_),s.Dc(_),h.en(_),s.Qc(_),r.dn(_),f.Dc(_),r.en(_),f.Qc(_),s.Ea(f,null,p,g,l),s.Ea(f,null,null,null,l)==1&&(p[0]==0||p[1]==1||g[0]==0||g[1]==1)}return s=new c.l,f=new c.l,s.K(r),s.W(-l,-l),f.K(s),f.Ea(h),!(!f.B()&&(f.ca()>l||f.R()>l))}return r.W(l,l),(f=new c.l).K(h),f.Ea(r),!(f.B()||!f.B()&&f.ca()>l&&f.R()>l)},o.bQ=function(r,s,l){if(o.zc(r,s,l)||o.zc(s,r,l)||r.ca()<=l&&r.R()<=l||s.ca()<=l&&s.R()<=l)return!1;if(r.ca()<=l||r.R()<=l){if(s.ca()>l&&s.R()>l)return!1;var h=new c.yb,f=new c.yb,p=[0,0],g=[0,0],_=new c.h;return r.dn(_),h.Dc(_),r.en(_),h.Qc(_),s.dn(_),f.Dc(_),s.en(_),f.Qc(_),h.Ea(f,null,p,g,l),h.Ea(f,null,null,null,l)==2&&(0<p[0]||1>p[1])&&(0<g[0]||1>g[1])}return!(s.ca()<=l||s.R()<=l)&&((h=new c.l).K(r),h.Ea(s),!(h.B()||h.ca()<=l||h.R()<=l))},o.jF=function(r,s,l){if(!o.zc(r,s,l))return!1;if(r.ca()<=l&&r.R()<=l)return r=r.sf(),o.eB(r,s,l);if(s.ca()<=l&&s.R()<=l)return s=s.sf(),o.eB(s,r,l);if(r.ca()<=l||r.R()<=l)return o.zc(r,s,l);if(s.ca()<=l||s.R()<=l){var h=new c.l;return h.K(r),h.W(-l,-l),h.hm(s)?!0:((r=new c.l).K(h),r.Ea(s),!(r.B()||r.ca()<=l&&r.R()<=l))}return o.zc(r,s,l)},o.aQ=function(r,s,l){if(o.zc(r,s,l)||o.zc(s,r,l)||r.ca()<=l&&r.R()<=l||s.ca()<=l&&s.R()<=l||s.ca()>l&&s.R()>l&&r.ca()>l&&r.R()>l)return!1;if(r.ca()>l&&r.R()>l)var h=s;else h=r,r=s;if(r.ca()>l&&r.R()>l){s=new c.l;var f=new c.l;return f.K(r),f.W(-l,-l),s.K(f),s.Ea(h),!(s.B()||s.ca()<=l&&s.R()<=l)}s=new c.yb,f=new c.yb;var p=[0,0],g=[0,0],_=new c.h;return h.dn(_),s.Dc(_),h.en(_),s.Qc(_),r.dn(_),f.Dc(_),r.en(_),f.Qc(_),s.Ea(f,null,p,g,l),s.Ea(f,null,null,null,l)==1&&0<p[0]&&1>p[1]&&0<g[0]&&1>g[1]},o.EI=function(r,s,l){var h=new c.l,f=new c.l,p=new c.Zl(r,s,l,!0);if(!p.next())return!0;if(this.UG(r,s,l))return!1;var g=r,_=null;s.getType()==1736&&(_=s);var M=!1,R=!1;do{var $=p.nl(),P=p.hl();if(P=s.Na(s.Ba(P)),h.K(p.uz()),h.W(l,l),h.contains(P)&&(P=c.hd.Yd(g,P,0))!=0||s.getType()==1736&&($=r.Na(r.Ba($)),f.K(p.az()),f.W(l,l),f.contains($)&&(P=c.hd.Yd(_,$,0))!=0))return!1;M||(!c.Dg.Ml(r,s.da()-1)||r.Bb!=null&&r.Bb.Fb!=null?g=r:(g=new c.Da,r.copyTo(g),g.fj(1)),M=!0),s.getType()!=1736||R||(R=s,!c.Dg.Ml(R,r.da()-1)||s.Bb!=null&&s.Bb.Fb!=null?_=s:(_=new c.Da,R.copyTo(_),_.fj(1)),R=!0)}while(p.next());return!0},o.zc=function(r,s,l){var h=new c.l;return h.K(r),h.W(l,l),h.contains(s)},o.ls=function(r,s,l){var h=new c.l;return h.K(s),h.W(l,l),s=new c.h,r.dn(s),!h.contains(s)||(r.$I(s),!h.contains(s)||(r.cJ(s),!h.contains(s)||(r.en(s),!h.contains(s))))},o.dI=function(r,s,l){if(r.da()!=s.da()||r.I()!=s.I())return!1;var h=new c.h,f=new c.h,p=!0;l*=l;for(var g=0;g<r.da();g++){if(r.Vc(g)!=s.Vc(g)){p=!1;break}for(var _=r.Ba(g);_<s.Vc(g);_++)if(r.D(_,h),s.D(_,f),c.h.yc(h,f)>l){p=!1;break}if(!p)break}return!!p},o.jU=function(r,s,l){if(r.I()!=s.I())return!1;var h=new c.h,f=new c.h,p=!0;l*=l;for(var g=0;g<r.I();g++)if(r.D(g,h),s.D(g,f),c.h.yc(h,f)>l){p=!1;break}return!!p},o.YA=function(r,s,l,h,f,p){var g=!1;if(r.I()>s.I()){h&&(h=!1,g=!0);var _=s}else _=r,r=s;if(s=null,f||p||g){s=new c.pn(r.I());for(var M=0;M<r.I();M++)s.write(M,0)}M=new c.l;var R=new c.l,$=new c.l;_.A(M),r.A(R),M.W(l,l),R.W(l,l),$.K(M),$.Ea(R),R=new c.h;for(var P=new c.h,j=!0,F=c.ta.oE(r,$),V=F.getIterator(),W=l*l,q=0;q<_.I();q++)if(_.D(q,R),$.contains(R)){var J=!1;M.K(R.x,R.y,R.x,R.y),V.Xi(M,l);for(var nt=V.next();nt!=-1&&(nt=F.ja(nt),r.D(nt,P),!(c.h.yc(R,P)<=W&&((f||p||g)&&s.write(nt,1),J=!0,h)));nt=V.next());if(!J&&(j=!1,f||h))return!1}else{if(f||h)return!1;j=!1}if(p&&j)return!1;if(h)return!0;for(M=0;M<r.I();M++)if(s.read(M)==1){if(p)return!0}else if(f||g)return!1;return!p},o.gI=function(r,s,l){if(r.I()>s.I())var h=s;else h=r,r=s;s=new c.l;var f=new c.l,p=new c.l;h.A(s),r.A(f),s.W(l,l),f.W(l,l),p.K(s),p.Ea(f),f=new c.h;for(var g=new c.h,_=l*l,M=c.ta.oE(r,p),R=M.getIterator(),$=0;$<h.I();$++)if(h.D($,f),p.contains(f)){s.K(f.x,f.y,f.x,f.y),R.Xi(s,l);for(var P=R.next();P!=-1;P=R.next())if(r.D(M.ja(P),g),c.h.yc(f,g)<=_)return!0}return!1},o.Wz=function(r,s,l,h){return o.ym(r,s,l,h)&&o.ym(s,r,l,h)},o.ym=function(r,s,l,h){function f(ee,Nt){return P.QE(ee,Nt)}var p,g=!0,_=[0,0],M=[0,0],R=0,$=new c.ia(0),P=new o,j=new c.l,F=new c.l,V=new c.l;r.A(j),s.A(F),j.W(l,l),F.W(l,l),V.K(j),V.Ea(F),r=r.Ga(),F=s.Ga();var W=null,q=W=null,J=s.Bb;for(J!=null?(W=J.Fb,q=J.zo,W==null&&(W=c.ta.jj(s,V))):W=c.ta.jj(s,V),s=W.getIterator(),J=null,q!=null&&(J=q.getIterator());r.$a();)for(;r.Ha();){var nt=!1,st=r.ha();if(st.A(j),!j.isIntersecting(V)||J!=null&&(J.Xi(j,l),J.next()==-1))return!1;for(q=st.Qb(),s.Uo(st,l),p=s.next();p!=-1;p=s.next()){F.Vb(W.ja(p)),p=F.ha();var ct=st.Ea(p,null,_,M,l);if(ct==2&&(!h||M[0]<=M[1])){ct=_[0];var bt=_[1],Tt=M[0],Ut=M[1];if(ct*q<=l&&(1-bt)*q<=l){nt=!0,R=0,$.resize(0),P.rh.length=0;var Pt=r.wb();for(Tt=!0;Tt;){if(r.Ha()){if(q=(st=r.ha()).Qb(),(ct=st.Ea(p,null,_,M,l))==2&&(!h||M[0]<=M[1])&&(ct=_[0],bt=_[1],ct*q<=l&&(1-bt)*q<=l)){Pt=r.wb();continue}if(F.Ha()&&(p=F.ha(),(ct=st.Ea(p,null,_,M,l))==2&&(!h||M[0]<=M[1])&&(ct=_[0],bt=_[1],ct*q<=l&&(1-bt)*q<=l))){Pt=r.wb();continue}}Tt=!1}Pt!=r.wb()&&(r.Vb(Pt),r.ha());break}Pt=r.wb(),p=w.construct(Pt,r.gb,ct,bt,F.wb(),F.gb,Tt,Ut),P.rh.push(p),$.add($.size)}}if(!nt){if(R==P.rh.length)return!1;for(1<$.size-R&&$.Vd(R,$.size,f),nt=0;R<P.rh.length;R++)if(!((p=P.rh[$.get(R)]).Kj<nt&&p.Si<nt)){if(q*(p.Kj-nt)>l)return!1;if(q*(1-(nt=p.Si))<=l||nt==1)break}if(q*(1-nt)>l)return!1;R=0,$.resize(0),P.rh.length=0}}return g},o.WG=function(r,s,l){if(1>o.Xz(r,s,l,null))return!1;var h=new c.l,f=new c.l;r.A(h),s.A(f);var p=o.ls(h,f,l);return h=o.ls(f,h,l),!(!p||!h)||(p&&!h?!o.ym(s,r,l,!1):h&&!p?!o.ym(r,s,l,!1):!o.ym(r,s,l,!1)&&!o.ym(s,r,l,!1))},o.Xz=function(r,s,l,h){function f(Ye,pi){return j.QE(Ye,pi)}if(r.yz()>s.yz())var p=s,g=r;else p=r,g=s;r=p.Ga(),s=g.Ga();var _=[0,0],M=[0,0],R=-1,$=0,P=new c.ia(0),j=new o,F=new c.l,V=new c.l,W=new c.l;p.A(F),g.A(V),F.W(l,l),V.W(l,l),W.K(F),W.Ea(V),p=null,h!=null&&(p=new c.h);var q=V=V=null,J=g.Bb;for(J!=null?(V=J.Fb,q=J.zo,V==null&&(V=c.ta.jj(g,W))):V=c.ta.jj(g,W),g=V.getIterator(),J=null,q!=null&&(J=q.getIterator());r.$a();)for(q=0;r.Ha();){var nt=r.ha();if(nt.A(F),F.isIntersecting(W)){if(J!=null&&(J.Xi(F,l),J.next()==-1))continue;var st=nt.Qb();g.Uo(nt,l);for(var ct=g.next();ct!=-1;ct=g.next()){var bt=V.ja(ct);s.Vb(bt);var Tt=s.ha(),Ut=Tt.Qb(),Pt=nt.Ea(Tt,null,_,M,l);if(0<Pt){ct=_[0],R=M[0];var ee=Pt==2?_[1]:NaN,Nt=Pt==2?M[1]:NaN;if(Pt==2){if(st*(ee-ct)>l)return 1;var _e=st*(ee-ct);if(s.Ha()){if(Tt=s.ha(),(Pt=nt.Ea(Tt,null,_,null,l))==2){Pt=_[0];var ne=_[1];if(_e+(Pt=st*(ne-Pt))>l)return 1}s.Vb(bt),s.ha()}if(!s.vm()){if(s.li(),Tt=s.li(),(Pt=nt.Ea(Tt,null,_,null,l))==2&&(Pt=_[0],_e+(Pt=st*((ne=_[1])-Pt))>l))return 1;s.Vb(bt),s.ha()}if(r.Ha()){if(bt=r.wb(),(Pt=(nt=r.ha()).Ea(Tt,null,_,null,l))==2&&(Pt=_[0],_e+(Pt=st*((ne=_[1])-Pt))>l))return 1;r.Vb(bt),r.ha()}if(!r.vm()){if(bt=r.wb(),r.li(),(Pt=(nt=r.li()).Ea(Tt,null,_,null,l))==2&&(Pt=_[0],_e+(Pt=Ut*((ne=_[1])-Pt))>l))return 1;r.Vb(bt),r.ha()}Tt=w.construct(r.wb(),r.gb,ct,ee,s.wb(),s.gb,R,Nt),j.rh.push(Tt),P.add(P.size)}R=0,h!=null&&(nt.hc(ct,p),h.add(p.x),h.add(p.y))}}if($<j.rh.length){for(P.Vd($,P.size,f),nt=0,ct=j.rh[P.get($)].Mm;$<j.rh.length;$++)if(!((Tt=j.rh[P.get($)]).Kj<nt&&Tt.Si<nt))if(st*(Tt.Kj-nt)>l)q=st*(Tt.Si-Tt.Kj),nt=Tt.Si,ct=Tt.Mm;else{if(Tt.Mm!=ct?(q=st*(Tt.Si-Tt.Kj),ct=Tt.Mm):q+=st*(Tt.Si-Tt.Kj),q>l)return 1;if((nt=Tt.Si)==1)break}st*(1-nt)>l&&(q=0),$=0,P.resize(0),j.rh.length=0}}}return R},o.UG=function(r,s,l){var h=r.Ga(),f=s.Ga();for(r=new c.Zl(r,s,l,!1);r.next();){s=r.nl();var p=r.hl();if(h.Vb(s),f.Vb(p),s=h.ha(),0<f.ha().Ea(s,null,null,null,l))return!0}return!1},o.VG=function(r,s,l,h){var f=r.Ga(),p=new c.l,g=new c.l,_=new c.l;r.A(p),s.A(g),p.W(l,l),p.contains(g),g.W(l,l),_.K(p),_.Ea(g),(p=r.Bb)!=null?(p=p.Fb)==null&&(p=c.ta.jj(r,_)):p=c.ta.jj(r,_),r=p.getIterator();for(var M=new c.h,R=new c.h,$=l*l,P=0;P<s.I();P++)if(s.D(P,M),_.contains(M)){g.K(M.x,M.y,M.x,M.y),r.Xi(g,l);for(var j=!1,F=r.next();F!=-1;F=r.next())if(f.Vb(p.ja(F)),(F=f.ha()).hc(F.fe(M,!1),R),c.h.yc(R,M)<=$){j=!0;break}if(h){if(!j)return!1}else if(j)return!0}return!!h},o.Yz=function(r,s,l){var h=new c.h,f=l*l,p=r.Ga();if((r=r.Bb)!=null&&(r=r.Fb)!=null){var g=new c.l;for(g.K(s),g=(l=r.MF(g,l)).next();g!=-1;g=l.next())if(p.Vb(r.ja(g)),p.Ha()){var _=(g=p.ha()).fe(s,!1);if(g.hc(_,h),c.h.yc(s,h)<=f)return!0}return!1}for(r=new c.l;p.$a();)for(;p.Ha();)if((g=p.ha()).A(r),r.W(l,l),r.contains(s)&&(_=g.fe(s,!1),g.hc(_,h),c.h.yc(s,h)<=f))return!0;return!1},o.SG=function(r,s,l){return o.Yz(r,s,l)&&!o.Zz(r,s,l)},o.Zz=function(r,s,l){return r=r.mg(),!o.kt(r,s,l)},o.TG=function(r,s,l){if(r.tm()){var h=new c.yb(s.v,s.G,s.v,s.H),f=new c.yb(s.v,s.H,s.C,s.H),p=new c.yb(s.C,s.H,s.C,s.G);for(s=new c.yb(s.C,s.G,s.v,s.G),r=r.Ga();r.$a();)for(;r.Ha();){var g=r.ha();if(g.isIntersecting(h,l)||g.isIntersecting(f,l)||g.isIntersecting(p,l)||g.isIntersecting(s,l))return!0}}else{(h=new c.l).K(s),h.W(l,l),l=r.ub(0),f=new c.h,p=new c.h,s=new c.h,g=new c.h;for(var _=0,M=r.da();_<M;_++)for(var R=!0,$=r.Ba(_),P=r.Vc(_);$<P;$++)if(R)l.tc(2*$,p),R=!1;else{if(l.tc(2*$,f),s.L(p),g.L(f),h.zy(s,g)!=0)return!0;p.L(f)}}return!1},o.qc=function(r,s,l){var h=r.getType(),f=s.getType();if(c.aa.xj(h)){var p=r.Bb;if(p!=null&&(p=p.Fk)!=null)if(f==33){var g=s.D();if((g=p.So(g.x,g.y))==1)return 1;if(g==0)return 4}else{if(g=new c.l,s.A(g),(g=p.Ro(g))==1)return 1;if(g==0)return 4;if(l&&c.aa.xj(f)&&o.HE(s,p))return 1073741824}}if(c.aa.xj(f)&&(p=s.Bb)!=null&&(p=p.Fk)!=null)if(h==33){if(r=r.D(),(g=p.So(r.x,r.y))==1)return 2;if(g==0)return 4}else{if(s=new c.l,r.A(s),(g=p.Ro(s))==1)return 2;if(g==0)return 4;if(l&&c.aa.xj(h)&&o.HE(r,p))return 1073741824}return 0},o.HE=function(r,s){for(var l=r.I(),h=new c.h,f=0;f<l;f++)if(r.D(f,h),s.So(h.x,h.y)==1)return!0;return!1},o.II=function(r,s,l,h){for(var f=1<=r.om(0)&&1<=s.om(0),p=r.Ga(),g=s.Ga(),_=[0,0],M=[0,0],R=new c.Zl(r,s,l,!1),$=!1;R.next();){var P=R.nl(),j=R.hl();if(p.Vb(P),g.Vb(j),P=p.ha(),(j=g.ha().Ea(P,null,M,_,l))==2){if($=_[0],j=_[1],P=P.Qb(),f&&(j-$)*P>l)return!1;$=!0}else if(j!=0){if($=_[0],P=M[0],0<$&&1>$&&0<P&&1>P)return!1;$=!0}}return!!$&&(p=new c.l,g=new c.l,f=new c.l,r.A(p),s.A(g),p.W(1e3*l,1e3*l),g.W(1e3*l,1e3*l),f.K(p),f.Ea(g),!(10<r.I()&&(r=c.Ud.clip(r,f,l,0),r.B())||10<s.I()&&(s=c.Ud.clip(s,f,l,0),s.B()))&&c.am.rt(r,s,l,"F********",h))},o.FI=function(r,s,l,h){var f=1<=r.om(0)&&1<=s.om(0),p=new c.l,g=new c.l,_=new c.l;r.A(p),s.A(g);for(var M=!1,R=o.ls(p,g,l),$=o.ls(g,p,l),P=r.Ga(),j=s.Ga(),F=[0,0],V=[0,0],W=new c.Zl(r,s,l,!1);W.next();){var q=W.nl(),J=W.hl();if(P.Vb(q),j.Vb(J),J=P.ha(),(q=j.ha().Ea(J,null,V,F,l))==2){q=F[0];var nt=F[1];if(J=J.Qb(),f&&(nt-q)*J>l&&(M=!0,R&&$))return!0}else if(q!=0&&(q=F[0],J=V[0],0<q&&1>q&&0<J&&1>J))return!0}if(f=new c.l,P=new c.l,f.K(p),f.W(1e3*l,1e3*l),P.K(g),P.W(1e3*l,1e3*l),_.K(f),_.Ea(P),p="",p=M?p+"**":p+"T*",R){if(10<s.I()&&(s=c.Ud.clip(s,_,l,0)).B())return!1;p+="****"}else p+="T***";if($){if(10<r.I()&&(r=c.Ud.clip(r,_,l,0)).B())return!1;p+="***"}else p+="T**";return c.am.rt(r,s,l,p.toString(),h)},o.BI=function(r,s,l,h){var f=[!1],p=o.zI(r,s,l,f);return f[0]?p:(f=new c.l,s.A(f),f.W(1e3*l,1e3*l),!(10<r.I()&&(r=c.Ud.clip(r,f,l,0),r.B()))&&c.am.Sw(r,s,l,h))},o.zI=function(r,s,l,h){h[0]=!1;for(var f=r.Ga(),p=s.Ga(),g=[0,0],_=[0,0],M=new c.Zl(r,s,l,!1),R=!1;M.next();){var $=M.nl(),P=M.hl();if(f.Vb($,-1),p.Vb(P,-1),$=f.ha(),($=p.ha().Ea($,null,_,g,l))!=0&&(R=!0,$==1&&($=g[0],P=_[0],0<$&&1>$&&0<P&&1>P)))return h[0]=!0,!1}if(!R){for(h[0]=!0,g=new c.l,r.A(g),g.W(l,l),M=r,R=!1,_=new c.l,h=0,f=s.da();h<f;h++)if(0<s.Ja(h)){if(s.Rj(h,_),!g.isIntersecting(_)||(p=s.Na(s.Ba(h)),(p=c.Dg.wm(M,p,0))==0))return!1;R||(!c.Dg.Ml(r,s.da()-1)||r.Bb!=null&&r.Bb.Fb!=null?M=r:(p=new c.Da,r.copyTo(p),p.fj(1),M=p),R=!0)}if(r.da()==1||s.getType()==1607)return!0;for(g=new c.l,s.A(g),g.W(l,l),_=s,M=!1,l=new c.l,h=0,f=r.da();h<f;h++)if(0<r.Ja(h)){if(r.Rj(h,l),g.isIntersecting(l)&&(p=r.Na(r.Ba(h)),(p=c.Dg.wm(_,p,0))==1))return!1;M||(!c.Dg.Ml(s,r.da()-1)||s.Bb!=null&&s.Bb.Fb!=null?_=s:(p=new c.Da,s.copyTo(p),p.fj(1),_=p),M=!0)}return!0}return!1},o.JI=function(r,s,l,h){for(var f=r.Ga(),p=s.Ga(),g=[0,0],_=[0,0],M=new c.Zl(r,s,l,!1),R=!1;M.next();){var $=M.nl(),P=M.hl();if(f.Vb($),p.Vb(P),$=f.ha(),($=p.ha().Ea($,null,_,g,l))==2)R=!0;else if($!=0){if(R=g[0],$=_[0],0<R&&1>R&&0<$&&1>$)return!1;R=!0}}return!!R&&(p=new c.l,g=new c.l,f=new c.l,r.A(p),s.A(g),p.W(1e3*l,1e3*l),g.W(1e3*l,1e3*l),f.K(p),f.Ea(g),!(10<r.I()&&(r=c.Ud.clip(r,f,l,0),r.B())||10<s.I()&&(s=c.Ud.clip(s,f,l,0),s.B()))&&c.am.$m(r,s,l,"F********",h))},o.DI=function(r,s,l,h){for(var f=r.Ga(),p=s.Ga(),g=[0,0],_=[0,0],M=new c.Zl(r,s,l,!1),R=!1;M.next();){var $=M.nl(),P=M.hl();if(f.Vb($),p.Vb(P),$=f.ha(),($=p.ha().Ea($,null,_,g,l))==2)R=!0;else if($!=0){if(R=g[0],$=_[0],0<R&&1>R&&0<$&&1>$)return!0;R=!0}}return!!R&&(p=new c.l,g=new c.l,_=new c.l,M=new c.l,f=new c.l,r.A(p),s.A(g),o.ls(g,p,l)?(_.K(p),_.W(1e3*l,1e3*l),M.K(g),M.W(1e3*l,1e3*l),f.K(_),f.Ea(M),!(10<r.I()&&(r=c.Ud.clip(r,f,l,0),r.B())||10<s.I()&&(s=c.Ud.clip(s,f,l,0),s.B()))&&(l=c.am.$m(r,s,l,"T********",h))):l=c.am.$m(r,s,l,"T*****T**",h))},o.CI=function(r,s,l,h){var f=[!1],p=o.zI(r,s,l,f);return f[0]?p:(f=new c.l,s.A(f),f.W(1e3*l,1e3*l),!(10<r.I()&&(r=c.Ud.clip(r,f,l,0),r.B()))&&c.am.fB(r,s,l,h))},o.AI=function(r,s,l){return c.hd.Yd(r,s,l)==1},o.HI=function(r,s,l){return c.hd.Yd(r,s,l)==2},o.kt=function(r,s,l){var h=new c.h;l*=l;for(var f=0;f<r.I();f++)if(r.D(f,h),c.h.yc(h,s)<=l)return!1;return!0},o.prototype.QE=function(r,s){return r=this.rh[r],s=this.rh[s],r.Mm<s.Mm||r.Mm==s.Mm&&(r.pw<s.pw||r.pw==s.pw&&(r.Kj<s.Kj||r.Kj==s.Kj&&(r.Si<s.Si||r.Si==s.Si&&r.BH<s.BH)))?-1:1},o})();c.ud=u})(Q||(Q={})),(function(c){var I,w,u;(w=I||(I={}))[w.InteriorInterior=0]="InteriorInterior",w[w.InteriorBoundary=1]="InteriorBoundary",w[w.InteriorExterior=2]="InteriorExterior",w[w.BoundaryInterior=3]="BoundaryInterior",w[w.BoundaryBoundary=4]="BoundaryBoundary",w[w.BoundaryExterior=5]="BoundaryExterior",w[w.ExteriorInterior=6]="ExteriorInterior",w[w.ExteriorBoundary=7]="ExteriorBoundary",w[w.ExteriorExterior=8]="ExteriorExterior",(function(o){o[o.AreaAreaPredicates=0]="AreaAreaPredicates",o[o.AreaLinePredicates=1]="AreaLinePredicates",o[o.LineLinePredicates=2]="LineLinePredicates",o[o.AreaPointPredicates=3]="AreaPointPredicates",o[o.LinePointPredicates=4]="LinePointPredicates",o[o.PointPointPredicates=5]="PointPointPredicates"})(u||(u={})),I=(function(){function o(){this.le=0,this.j=new c.iu,this.J=[0,0,0,0,0,0,0,0,0],this.Za=[0,0,0,0,0,0,0,0,0],this.ea=[!1,!1,!1,!1,!1,!1,!1,!1,!1],this.Sm=this.vw=-1}return o.yB=function(r,s,l,h,f){if(h.length!=9)throw c.i.fa("relation string length has to be 9 characters");for(var p=0;9>p;p++){var g=h.charAt(p);if(g!="*"&&g!="T"&&g!="F"&&g!="0"&&g!="1"&&g!="2")throw c.i.fa("relation string")}if((p=this.MR(h,r.Db(),s.Db()))!=0)return c.ud.zB(r,s,l,p,f);p=new c.l,r.A(p),g=new c.l,s.A(g);var _=new c.l;if(_.K(p),_.Zb(g),l=c.ta.Wd(l,_,!1),r=this.WE(r,l),s=this.WE(s,l),r.B()||s.B())return this.uW(r,s,h);switch(p=r.getType(),g=s.getType(),_=!1,p){case 1736:switch(g){case 1736:_=this.rt(r,s,l,h,f);break;case 1607:_=this.$m(r,s,l,h,f);break;case 33:_=this.qt(r,s,l,h);break;case 550:_=this.pt(r,s,l,h,f)}break;case 1607:switch(g){case 1736:_=this.$m(s,r,l,this.Zp(h),f);break;case 1607:_=this.gB(r,s,l,h,f);break;case 33:_=this.tt(r,s,l,h,f);break;case 550:_=this.st(r,s,l,h,f)}break;case 33:switch(g){case 1736:_=this.qt(s,r,l,this.Zp(h));break;case 1607:_=this.tt(s,r,l,this.Zp(h),f);break;case 33:_=this.$U(r,s,l,h);break;case 550:_=this.lt(s,r,l,this.Zp(h))}break;case 550:switch(g){case 1736:_=this.pt(s,r,l,this.Zp(h),f);break;case 1607:_=this.st(s,r,l,this.Zp(h),f);break;case 550:_=this.ZA(r,s,l,h,f);break;case 33:_=this.lt(r,s,l,h)}break;default:_=!1}return _},o.rt=function(r,s,l,h,f){var p=new o;p.Yi(),p.bj(h),p.xJ();var g=new c.l,_=new c.l;return r.A(g),s.A(_),h=!1,c.ud.dk(g,_,l)&&(p.Cu(r,s),h=!0),h||((g=c.ud.qc(r,s,!1))==4?(p.Cu(r,s),h=!0):g==1?(p.ly(s),h=!0):g==2&&(p.ZD(r),h=!0)),h||(r=(h=new c.gd).Ib(r),s=h.Ib(s),p.Wo(h,l,f),p.Bp(r,s),p.j.Ug()),o.fg(p.J,p.Xc)},o.Sw=function(r,s,l,h){var f=new o;f.Yi(),f.bj("T*****F**"),f.xJ();var p=new c.l,g=new c.l;r.A(p),s.A(g);var _=!1;return c.ud.dk(p,g,l)&&(f.Cu(r,s),_=!0),_||((p=c.ud.qc(r,s,!1))==4?(f.Cu(r,s),_=!0):p==1?(f.ly(s),_=!0):p==2&&(f.ZD(r),_=!0)),_?this.fg(f.J,f.Xc):(r=(_=new c.gd).Ib(r),p=_.Ib(s),c.Tk.V(_,l,h,!1),l=_.Ne(p).mg(),_.Gp(0,!0,!0),c.rn.V(_,r,-1,!1,h),_.I(r)!=0&&(c.rn.V(_,p,-1,!1,h),f.er(_,h),(s=_.I(p)==0)||(f.Bp(r,p),f.j.Ug(),p=this.fg(f.J,f.Xc))?(r=_.Ne(r),r=(_=new c.gd).Ib(r),p=_.Ib(l),f.er(_,h),f.le=0,f.Yi(),f.bj(s?"T*****F**":"******F**"),f.IB(),f.Bp(r,p),f.j.Ug(),this.fg(f.J,f.Xc)):p))},o.$m=function(r,s,l,h,f){var p=new o;p.Yi(),p.bj(h),p.IB();var g=new c.l,_=new c.l;return r.A(g),s.A(_),h=!1,c.ud.dk(g,_,l)&&(p.Du(r,s),h=!0),h||((g=c.ud.qc(r,s,!1))==4?(p.Du(r,s),h=!0):g==1&&(p.$D(s),h=!0)),h||(r=(h=new c.gd).Ib(r),s=h.Ib(s),p.Wo(h,l,f),p.kh=p.j.Dp(),o.Jw(s,p.j,p.kh),p.Bp(r,s),p.j.Ep(p.kh),p.j.Ug()),o.fg(p.J,p.Xc)},o.fB=function(r,s,l,h){var f=new o;f.Yi(),f.bj("T*****F**"),f.IB();var p=new c.l,g=new c.l;r.A(p),s.A(g);var _=!1;return c.ud.dk(p,g,l)&&(f.Du(r,s),_=!0),_||((p=c.ud.qc(r,s,!1))==4?(f.Du(r,s),_=!0):p==1&&(f.$D(s),_=!0)),_?this.fg(f.J,f.Xc):(r=(_=new c.gd).Ib(r),s=_.Ib(s),f.Wo(_,l,h),_.I(r)!=0&&(f.Bp(r,s),f.j.Ug(),this.fg(f.J,f.Xc)))},o.pt=function(r,s,l,h,f){var p=new o;p.Yi(),p.bj(h),p.yJ();var g=new c.l,_=new c.l;return r.A(g),s.A(_),h=!1,c.ud.dk(g,_,l)&&(p.Eu(r),h=!0),h||((g=c.ud.qc(r,s,!1))==4?(p.Eu(r),h=!0):g==1&&(p.zN(),h=!0)),h||(r=(h=new c.gd).Ib(r),s=h.Ib(s),p.Wo(h,l,f),p.Gy(r,s),p.j.Ug()),o.fg(p.J,p.Xc)},o.gB=function(r,s,l,h,f){var p=new o;p.Yi(),p.bj(h),p.eX(),h=new c.l;var g=new c.l;r.A(h),s.A(g);var _=!1;return c.ud.dk(h,g,l)&&(p.PG(r,s),_=!0),_||c.ud.qc(r,s,!1)!=4||(p.PG(r,s),_=!0),_||(r=(h=new c.gd).Ib(r),s=h.Ib(s),p.Wo(h,l,f),p.Yh=p.j.Dp(),p.kh=p.j.Dp(),o.Jw(r,p.j,p.Yh),o.Jw(s,p.j,p.kh),p.Bp(r,s),p.j.Ep(p.Yh),p.j.Ep(p.kh),p.j.Ug()),o.fg(p.J,p.Xc)},o.st=function(r,s,l,h,f){var p=new o;p.Yi(),p.bj(h),p.MJ(),h=new c.l;var g=new c.l;r.A(h),s.A(g);var _=!1;return c.ud.dk(h,g,l)&&(p.Vz(r),_=!0),_||c.ud.qc(r,s,!1)!=4||(p.Vz(r),_=!0),_||(r=(h=new c.gd).Ib(r),s=h.Ib(s),p.Wo(h,l,f),p.Yh=p.j.Dp(),o.Jw(r,p.j,p.Yh),p.Gy(r,s),p.j.Ep(p.Yh),p.j.Ug()),o.fg(p.J,p.Xc)},o.ZA=function(r,s,l,h,f){var p=new o;p.Yi(),p.bj(h),p.RJ(),h=new c.l;var g=new c.l;r.A(h),s.A(g);var _=!1;return c.ud.dk(h,g,l)&&(p.yI(),_=!0),_||(r=(h=new c.gd).Ib(r),s=h.Ib(s),p.Wo(h,l,f),p.Gy(r,s),p.j.Ug()),o.fg(p.J,p.Xc)},o.qt=function(r,s,l,h){var f=new o;f.Yi(),f.bj(h),f.yJ();var p=new c.l;r.A(p),s=s.D();var g=!1;return c.ud.Rw(s,p,l)&&(f.Eu(r),g=!0),g||((l=c.hd.Yd(r,s,l))==1?(f.J[0]=0,f.J[2]=2,f.J[3]=-1,f.J[5]=1,f.J[6]=-1):l==2?(f.J[6]=-1,r.Ke()!=0?(f.J[0]=-1,f.J[3]=0,f.J[2]=2,f.J[5]=1):(f.J[0]=0,f.J[3]=-1,f.J[5]=-1,l=new c.l,r.A(l),f.J[2]=l.ca()==0&&l.R()==0?-1:1)):f.Eu(r)),this.fg(f.J,h)},o.tt=function(r,s,l,h,f){var p=new o;p.Yi(),p.bj(h),p.MJ();var g=new c.l;r.A(g),h=s.D();var _=!1;if(c.ud.Rw(h,g,l)&&(p.Vz(r),_=!0),!_){g=null;var M=_=!1;(p.ea[0]||p.ea[6])&&(c.ud.Yz(r,h,l)?(p.ea[0]&&(g=c.pi.gm(r,f),M=!c.ud.kt(g,h,l),_=!0,p.J[0]=M?-1:0),p.J[6]=-1):(p.J[0]=-1,p.J[6]=0)),p.ea[3]&&(g!=null&&g.B()?p.J[3]=-1:(_||(g==null&&(g=c.pi.gm(r,f)),M=!c.ud.kt(g,h,l),_=!0),p.J[3]=M?0:-1)),p.ea[5]&&(g!=null&&g.B()?p.J[5]=-1:_&&!M?p.J[5]=0:(g==null&&(g=c.pi.gm(r,f)),f=c.ud.Nw(g,s,l),p.J[5]=f?-1:0)),p.ea[2]&&(r.Qb()!=0?p.J[2]=1:((f=new c.de(r.description)).Fd(r,0,r.I()),r=c.ud.Nw(f,s,l),p.J[2]=r?-1:0))}return this.fg(p.J,p.Xc)},o.lt=function(r,s,l,h){var f=new o;f.Yi(),f.bj(h),f.RJ();var p=new c.l;r.A(p),s=s.D();var g=!1;if(c.ud.Rw(s,p,l)&&(f.yI(),g=!0),!g){p=!1,g=!0,l*=l;for(var _=0;_<r.I();_++){var M=r.Na(_);if(c.h.yc(M,s)<=l?p=!0:g=!1,p&&!g)break}p?(f.J[0]=0,f.J[2]=g?-1:0,f.J[6]=-1):(f.J[0]=-1,f.J[2]=0,f.J[6]=0)}return o.fg(f.J,h)},o.$U=function(r,s,l,h){r=r.D(),s=s.D();for(var f=[],p=0;9>p;p++)f[p]=-1;return c.h.yc(r,s)<=l*l?f[0]=0:(f[2]=0,f[6]=0),f[8]=2,o.fg(f,h)},o.fg=function(r,s){for(var l=0;9>l;l++)switch(s.charAt(l)){case"T":if(r[l]==-1)return!1;break;case"F":if(r[l]!=-1)return!1;break;case"0":if(r[l]!=0)return!1;break;case"1":if(r[l]!=1)return!1;break;case"2":if(r[l]!=2)return!1}return!0},o.uW=function(r,s,l){var h=[-1,-1,-1,-1,-1,-1,-1,-1,-1];if(r.B()&&s.B()){for(var f=0;9>f;f++)h[f]=-1;return this.fg(h,l)}return f=!1,r.B()&&(r=s,f=!0),h[0]=-1,h[1]=-1,h[3]=-1,h[4]=-1,h[6]=-1,h[7]=-1,h[8]=2,s=r.getType(),c.aa.Hc(s)?s==1736?r.Ke()!=0?(h[2]=2,h[5]=1):(h[5]=-1,s=new c.l,r.A(s),h[2]=s.ca()==0&&s.R()==0?0:1):(s=r.Qb()!=0,h[2]=s?1:0,h[5]=c.pi.aq(r)?0:-1):(h[2]=0,h[5]=-1),f&&this.vK(h),this.fg(h,l)},o.MR=function(r,s,l){return o.dQ(r)?3:o.UP(r)?4:o.cY(r,s,l)?8:o.CP(r,s,l)?16:o.eP(r)?1:o.EU(r,s,l)?32:0},o.dQ=function(r){return r.charAt(0)=="T"&&r.charAt(1)=="*"&&r.charAt(2)=="F"&&r.charAt(3)=="*"&&r.charAt(4)=="*"&&r.charAt(5)=="F"&&r.charAt(6)=="F"&&r.charAt(7)=="F"&&r.charAt(8)=="*"},o.UP=function(r){return r.charAt(0)=="F"&&r.charAt(1)=="F"&&r.charAt(2)=="*"&&r.charAt(3)=="F"&&r.charAt(4)=="F"&&r.charAt(5)=="*"&&r.charAt(6)=="*"&&r.charAt(7)=="*"&&r.charAt(8)=="*"},o.cY=function(r,s,l){return(s!=0||l!=0)&&((s!=2||l!=2)&&(r.charAt(0)=="F"&&r.charAt(1)=="*"&&r.charAt(2)=="*"&&r.charAt(3)=="T"&&r.charAt(4)=="*"&&r.charAt(5)=="*"&&r.charAt(6)=="*"&&r.charAt(7)=="*"&&r.charAt(8)=="*"||s==1&&l==1&&r.charAt(0)=="F"&&r.charAt(1)=="T"&&r.charAt(2)=="*"&&r.charAt(3)=="*"&&r.charAt(4)=="*"&&r.charAt(5)=="*"&&r.charAt(6)=="*"&&r.charAt(7)=="*"&&r.charAt(8)=="*")||l!=0&&r.charAt(0)=="F"&&r.charAt(1)=="*"&&r.charAt(2)=="*"&&r.charAt(3)=="*"&&r.charAt(4)=="T"&&r.charAt(5)=="*"&&r.charAt(6)=="*"&&r.charAt(7)=="*"&&r.charAt(8)=="*")},o.CP=function(r,s,l){return s>l?r.charAt(0)=="T"&&r.charAt(1)=="*"&&r.charAt(2)=="*"&&r.charAt(3)=="*"&&r.charAt(4)=="*"&&r.charAt(5)=="*"&&r.charAt(6)=="T"&&r.charAt(7)=="*"&&r.charAt(8)=="*":s==1&&l==1&&r.charAt(0)=="0"&&r.charAt(1)=="*"&&r.charAt(2)=="*"&&r.charAt(3)=="*"&&r.charAt(4)=="*"&&r.charAt(5)=="*"&&r.charAt(6)=="*"&&r.charAt(7)=="*"&&r.charAt(8)=="*"},o.eP=function(r){return r.charAt(0)=="T"&&r.charAt(1)=="*"&&r.charAt(2)=="*"&&r.charAt(3)=="*"&&r.charAt(4)=="*"&&r.charAt(5)=="*"&&r.charAt(6)=="F"&&r.charAt(7)=="F"&&r.charAt(8)=="*"},o.EU=function(r,s,l){if(s==l){if(s!=1)return r.charAt(0)=="T"&&r.charAt(1)=="*"&&r.charAt(2)=="T"&&r.charAt(3)=="*"&&r.charAt(4)=="*"&&r.charAt(5)=="*"&&r.charAt(6)=="T"&&r.charAt(7)=="*"&&r.charAt(8)=="*";if(r.charAt(0)=="1"&&r.charAt(1)=="*"&&r.charAt(2)=="T"&&r.charAt(3)=="*"&&r.charAt(4)=="*"&&r.charAt(5)=="*"&&r.charAt(6)=="T"&&r.charAt(7)=="*"&&r.charAt(8)=="*")return!0}return!1},o.Jw=function(r,s,l){r=s.La(r);for(var h=s.Re;h!=-1;h=s.Rf(h))if((s.xd(h)&r)!=0){var f=s.Me(h);if(f==-1)s.nn(h,l,0);else{var p=f,g=0;do(s.dh(p)&r)!=0&&g++,p=s.jc(s.xa(p));while(p!=f);s.nn(h,l,g)}}},o.Zp=function(r){var s=""+r.charAt(0);return s+=r.charAt(3),s+=r.charAt(6),s+=r.charAt(1),s+=r.charAt(4),s+=r.charAt(7),s+=r.charAt(2),(s+=r.charAt(5))+r.charAt(8)},o.prototype.Yi=function(){for(var r=0;9>r;r++)this.J[r]=-2,this.Za[r]=-2},o.vK=function(r){var s=r[1],l=r[2],h=r[5];r[1]=r[3],r[2]=r[6],r[5]=r[7],r[3]=s,r[6]=l,r[7]=h},o.prototype.bj=function(r){for(this.Xc=r,r=0;9>r;r++)this.Xc.charAt(r)!="*"?(this.ea[r]=!0,this.le++):this.ea[r]=!1},o.prototype.UJ=function(){for(var r=0;9>r;r++)this.ea[r]&&this.J[r]==-2&&(this.J[r]=-1,this.ea[r]=!1)},o.prototype.pc=function(r){return this.J[r]!=-2&&(this.J[r]==-1?(this.ea[r]=!1,this.le--,!0):this.Xc.charAt(r)!="T"&&this.Xc.charAt(r)!="F"?!(this.J[r]<this.Za[r])&&(this.ea[r]=!1,this.le--,!0):(this.ea[r]=!1,this.le--,!0))},o.prototype.xJ=function(){this.vw=0,this.Za[0]=2,this.Za[1]=1,this.Za[2]=2,this.Za[3]=1,this.Za[4]=1,this.Za[5]=1,this.Za[6]=2,this.Za[7]=1,this.Za[8]=2,this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},o.prototype.IB=function(){this.vw=1,this.Sm=3,this.Za[0]=1,this.Za[1]=0,this.Za[2]=2,this.Za[3]=1,this.Za[4]=0,this.Za[5]=1,this.Za[6]=1,this.Za[7]=0,this.Za[8]=2,this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},o.prototype.eX=function(){this.vw=2,this.Sm=4,this.Za[0]=1,this.Za[1]=0,this.Za[2]=1,this.Za[3]=0,this.Za[4]=0,this.Za[5]=0,this.Za[6]=1,this.Za[7]=0,this.Za[8]=2,this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},o.prototype.yJ=function(){this.Sm=3,this.Za[0]=0,this.Za[1]=-1,this.Za[2]=2,this.Za[3]=0,this.Za[4]=-1,this.Za[5]=1,this.Za[6]=0,this.Za[7]=-1,this.Za[8]=2,this.ea[1]&&(this.J[1]=-1,this.ea[1]=!1,this.le--),this.ea[4]&&(this.J[4]=-1,this.ea[4]=!1,this.le--),this.ea[7]&&(this.J[7]=-1,this.ea[7]=!1,this.le--),this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},o.prototype.MJ=function(){this.Sm=4,this.Za[0]=0,this.Za[1]=-1,this.Za[2]=1,this.Za[3]=0,this.Za[4]=-1,this.Za[5]=0,this.Za[6]=0,this.Za[7]=-1,this.Za[8]=2,this.ea[1]&&(this.J[1]=-1,this.ea[1]=!1,this.le--),this.ea[4]&&(this.J[4]=-1,this.ea[4]=!1,this.le--),this.ea[7]&&(this.J[7]=-1,this.ea[7]=!1,this.le--),this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},o.prototype.RJ=function(){this.Sm=5,this.Za[0]=0,this.Za[1]=-1,this.Za[2]=0,this.Za[3]=-1,this.Za[4]=-1,this.Za[5]=-1,this.Za[6]=0,this.Za[7]=-1,this.Za[8]=2,this.ea[1]&&(this.J[1]=-1,this.ea[1]=!1,this.le--),this.ea[3]&&(this.J[3]=-1,this.ea[3]=!1,this.le--),this.ea[4]&&(this.J[4]=-1,this.ea[4]=!1,this.le--),this.ea[5]&&(this.J[5]=-1,this.ea[5]=!1,this.le--),this.ea[7]&&(this.J[7]=-1,this.ea[7]=!1,this.le--),this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},o.prototype.xN=function(r,s,l){var h=!0;return this.ea[0]&&(this.CS(r,s,l),h=h&&this.pc(0)),this.ea[1]&&(this.sG(r,s,1),h=h&&this.pc(1)),this.ea[2]&&(this.tG(r,s,l,2),h=h&&this.pc(2)),this.ea[3]&&(this.sG(r,l,3),h=h&&this.pc(3)),this.ea[4]&&(this.BN(r,s,l),h=h&&this.pc(4)),this.ea[5]&&(this.eE(r,l,5),h=h&&this.pc(5)),this.ea[6]&&(this.tG(r,l,s,6),h=h&&this.pc(6)),this.ea[7]&&(this.eE(r,s,7),h=h&&this.pc(7)),h},o.prototype.Cu=function(r,s){this.J[0]=-1,this.J[1]=-1,this.J[3]=-1,this.J[4]=-1,this.Fr(r,this.ea[2]?2:-1,this.Xc.charAt(2),this.ea[5]?5:-1,this.Xc.charAt(5)),this.Fr(s,this.ea[6]?6:-1,this.Xc.charAt(6),this.ea[7]?7:-1,this.Xc.charAt(7))},o.prototype.Fr=function(r,s,l,h,f){s==-1&&h==-1||((l!="T"&&l!="F"&&s!=-1||f!="T"&&f!="F"&&h!=-1)&&r.Ke()==0?(h!=-1&&(this.J[h]=-1),s!=-1&&(l=new c.l,r.A(l),this.J[s]=l.ca()==0&&l.R()==0?0:1)):(s!=-1&&(this.J[s]=2),h!=-1&&(this.J[h]=1)))},o.prototype.ly=function(r){this.J[2]=2,this.J[3]=-1,this.J[4]=-1,this.J[5]=1,this.J[6]=-1,this.J[7]=-1,this.Fr(r,this.ea[0]?0:-1,this.Xc.charAt(0),this.ea[1]?1:-1,this.Xc.charAt(1))},o.prototype.ZD=function(r){this.ly(r),o.vK(this.J)},o.prototype.Du=function(r,s){if(this.J[0]=-1,this.J[1]=-1,this.J[3]=-1,this.J[4]=-1,this.ea[6]){var l=this.Xc.charAt(6);l=l=="T"||l=="F"||s.Qb()!=0,this.J[6]=l?1:0}this.ea[7]&&(s=c.pi.aq(s),this.J[7]=s?0:-1),this.Fr(r,this.ea[2]?2:-1,this.Xc.charAt(2),this.ea[5]?5:-1,this.Xc.charAt(5))},o.prototype.$D=function(r){if(this.ea[0]){var s=this.Xc.charAt(0);s=s=="T"||s=="F"||r.Qb()!=0,this.J[0]=s?1:0}this.ea[1]&&(r=c.pi.aq(r),this.J[1]=r?0:-1),this.J[2]=2,this.J[3]=-1,this.J[4]=-1,this.J[5]=1,this.J[6]=-1,this.J[7]=-1},o.prototype.Eu=function(r){this.J[0]=-1,this.J[3]=-1,this.J[6]=0,this.Fr(r,this.ea[2]?2:-1,this.Xc.charAt(2),this.ea[5]?5:-1,this.Xc.charAt(5))},o.prototype.zN=function(){this.J[0]=0,this.J[2]=2,this.J[3]=-1,this.J[5]=1,this.J[6]=-1},o.prototype.PG=function(r,s){if(this.J[0]=-1,this.J[1]=-1,this.J[3]=-1,this.J[4]=-1,this.ea[2]){var l=this.Xc.charAt(2);l=l=="T"||l=="F"||r.Qb()!=0,this.J[2]=l?1:0}this.ea[5]&&(r=c.pi.aq(r),this.J[5]=r?0:-1),this.ea[6]&&(l=(l=this.Xc.charAt(6))=="T"||l=="F"||s.Qb()!=0,this.J[6]=l?1:0),this.ea[7]&&(s=c.pi.aq(s),this.J[7]=s?0:-1)},o.prototype.Vz=function(r){if(this.J[0]=-1,this.J[3]=-1,this.ea[2]){var s=this.Xc.charAt(2);s=s=="T"||s=="F"||r.Qb()!=0,this.J[2]=s?1:0}this.ea[5]&&(r=c.pi.aq(r),this.J[5]=r?0:-1),this.J[6]=0},o.prototype.yI=function(){this.J[0]=-1,this.J[2]=0,this.J[6]=0},o.prototype.yN=function(r,s,l){var h=!0;return this.ea[0]&&(this.DS(r,s),h=h&&this.pc(0)),this.ea[1]&&(this.zS(r,s,l,this.kh),h=h&&this.pc(1)),this.ea[2]&&(this.AS(r,s),h=h&&this.pc(2)),this.ea[3]&&(this.FN(r,s,l,this.kh),h=h&&this.pc(3)),this.ea[4]&&(this.CN(r,s,l,this.kh),h=h&&this.pc(4)),this.ea[5]&&(this.DN(r,s,l),h=h&&this.pc(5)),this.ea[6]&&(this.lQ(r,s),h=h&&this.pc(6)),this.ea[7]&&(this.kQ(r,s,l,this.kh),h=h&&this.pc(7)),h},o.prototype.mT=function(r,s,l){var h=!0;return this.ea[0]&&(this.GS(r,s,l,this.Yh,this.kh),h=h&&this.pc(0)),this.ea[1]&&(this.uG(r,s,l,this.Yh,this.kh,1),h=h&&this.pc(1)),this.ea[2]&&(this.vG(r,s,l,2),h=h&&this.pc(2)),this.ea[3]&&(this.uG(r,l,s,this.kh,this.Yh,3),h=h&&this.pc(3)),this.ea[4]&&(this.HN(r,s,l,this.Yh,this.kh),h=h&&this.pc(4)),this.ea[5]&&(this.fE(r,l,this.Yh,5),h=h&&this.pc(5)),this.ea[6]&&(this.vG(r,l,s,6),h=h&&this.pc(6)),this.ea[7]&&(this.fE(r,s,this.kh,7),h=h&&this.pc(7)),h},o.prototype.aE=function(r,s,l){var h=!0;return this.ea[0]&&(this.ES(r,s),h=h&&this.pc(0)),this.ea[2]&&(this.BS(r,s),h=h&&this.pc(2)),this.ea[3]&&(this.GN(r,s,l),h=h&&this.pc(3)),this.ea[5]&&(this.EN(r,s),h=h&&this.pc(5)),this.ea[6]&&(this.mQ(r,s),h=h&&this.pc(6)),h},o.prototype.QG=function(r,s,l){var h=!0;return this.ea[0]&&(this.HS(r,s,l,this.Yh),h=h&&this.pc(0)),this.ea[2]&&(this.FS(r,l),h=h&&this.pc(2)),this.ea[3]&&(this.JN(r,s,l,this.Yh),h=h&&this.pc(3)),this.ea[5]&&(this.IN(r,s,l,this.Yh),h=h&&this.pc(5)),this.ea[6]&&(this.nQ(r,s,l),h=h&&this.pc(6)),h},o.prototype.ZU=function(r,s,l){var h=!0;return this.ea[0]&&(this.IS(r,s,l),h=h&&this.pc(0)),this.ea[2]&&(this.wG(r,s,l,2),h=h&&this.pc(2)),this.ea[6]&&(this.wG(r,l,s,6),h=h&&this.pc(6)),h},o.prototype.CS=function(r,s,l){this.J[0]!=2&&((r=this.j.af(r))&s)!=0&&(r&l)!=0&&(this.J[0]=2)},o.prototype.sG=function(r,s,l){if(this.J[l]!=1){var h=this.j.af(this.j.xa(r));(this.j.af(r)&s)!=0&&(h&s)!=0&&(this.J[l]=1)}},o.prototype.tG=function(r,s,l,h){this.J[h]!=2&&((r=this.j.af(r))&s)!=0&&(r&l)==0&&(this.J[h]=2)},o.prototype.BN=function(r,s,l){if(this.J[4]!=1){var h=this.j.dh(r);(h&s)!=0&&(h&l)!=0?this.J[4]=1:this.J[4]!=0&&this.j.Ab(this.j.te(this.j.xa(r)),this.Ui)!=1&&((r=this.j.xd(this.j.uf(r)))&s)!=0&&(r&l)!=0&&(this.J[4]=0)}},o.prototype.eE=function(r,s,l){if(this.J[l]!=1){var h=this.j.af(this.j.xa(r));(this.j.af(r)&s)==0&&(h&s)==0&&(this.J[l]=1)}},o.prototype.DS=function(r,s){if(this.J[0]!=1){var l=this.j.af(this.j.xa(r));(this.j.af(r)&s)!=0&&(l&s)!=0&&(this.J[0]=1)}},o.prototype.zS=function(r,s,l,h){if(this.J[1]!=0&&this.j.Ab(this.j.te(this.j.xa(r)),this.Ui)!=1){var f=this.j.uf(r),p=this.j.xd(f);(p&s)==0&&(this.j.af(r)&s)!=0&&(r=this.j.ng(f,h),(p&l)!=0&&r%2!=0&&(this.J[1]=0))}},o.prototype.AS=function(r,s){this.J[2]!=2&&(this.j.dh(r)&s)!=0&&(this.J[2]=2)},o.prototype.FN=function(r,s,l,h){if(this.J[3]!=1){var f=this.j.dh(r);(f&s)!=0&&(f&l)!=0?this.J[3]=1:this.J[3]!=0&&this.j.Ab(this.j.te(this.j.xa(r)),this.Ui)!=1&&(f=this.j.uf(r),((r=this.j.xd(f))&s)!=0&&(s=this.j.ng(f,h),(r&l)!=0&&s%2==0&&(this.J[3]=0)))}},o.prototype.CN=function(r,s,l,h){if(this.J[4]!=0&&this.j.Ab(this.j.te(this.j.xa(r)),this.Ui)!=1){var f=this.j.uf(r);((r=this.j.xd(f))&s)!=0&&(s=this.j.ng(f,h),(r&l)!=0&&s%2!=0&&(this.J[4]=0))}},o.prototype.DN=function(r,s,l){this.J[5]!=1&&((r=this.j.dh(r))&s)!=0&&(r&l)==0&&(this.J[5]=1)},o.prototype.lQ=function(r,s){if(this.J[6]!=1){var l=this.j.af(this.j.xa(r));(this.j.af(r)&s)==0&&(l&s)==0&&(this.J[6]=1)}},o.prototype.kQ=function(r,s,l,h){if(this.J[7]!=0&&this.j.Ab(this.j.te(this.j.xa(r)),this.Ui)!=1){var f=this.j.uf(r),p=this.j.xd(f);(p&s)==0&&(this.j.af(r)&s)==0&&(r=this.j.ng(f,h),(p&l)!=0&&r%2!=0&&(this.J[7]=0))}},o.prototype.GS=function(r,s,l,h,f){if(this.J[0]!=1){var p=this.j.dh(r);(p&s)!=0&&(p&l)!=0?this.J[0]=1:this.J[0]!=0&&this.j.Ab(this.j.te(this.j.xa(r)),this.Ui)!=1&&(r=this.j.uf(r),((p=this.j.xd(r))&s)!=0&&(p&l)!=0&&(s=this.j.ng(r,h),f=this.j.ng(r,f),s%2==0&&f%2==0&&(this.J[0]=0)))}},o.prototype.uG=function(r,s,l,h,f,p){if(this.J[p]!=0&&this.j.Ab(this.j.te(this.j.xa(r)),this.Ui)!=1){r=this.j.uf(r);var g=this.j.xd(r);(g&s)!=0&&(g&l)!=0&&(s=this.j.ng(r,h),f=this.j.ng(r,f),s%2==0&&f%2!=0&&(this.J[p]=0))}},o.prototype.vG=function(r,s,l,h){this.J[h]!=1&&((r=this.j.dh(r))&s)!=0&&(r&l)==0&&(this.J[h]=1)},o.prototype.HN=function(r,s,l,h,f){if(this.J[4]!=0&&this.j.Ab(this.j.te(this.j.xa(r)),this.Ui)!=1){r=this.j.uf(r);var p=this.j.xd(r);(p&s)!=0&&(p&l)!=0&&(s=this.j.ng(r,h),f=this.j.ng(r,f),s%2!=0&&f%2!=0&&(this.J[4]=0))}},o.prototype.fE=function(r,s,l,h){this.J[h]!=0&&this.j.Ab(this.j.te(this.j.xa(r)),this.Ui)!=1&&(r=this.j.uf(r),(this.j.xd(r)&s)==0&&this.j.ng(r,l)%2!=0&&(this.J[h]=0))},o.prototype.ES=function(r,s){this.J[0]!=0&&(this.j.xd(r)&s)==0&&(this.j.hk(this.j.cz(r))&s)!=0&&(this.J[0]=0)},o.prototype.BS=function(r,s){this.J[2]!=2&&(this.j.xd(r)&s)!=0&&(this.J[2]=2)},o.prototype.GN=function(r,s,l){this.J[3]!=0&&((r=this.j.xd(r))&s)!=0&&(r&l)!=0&&(this.J[3]=0)},o.prototype.EN=function(r,s){this.J[5]!=1&&(this.j.xd(r)&s)!=0&&(this.J[5]=1)},o.prototype.mQ=function(r,s){this.J[6]!=0&&(this.j.xd(r)&s)==0&&(this.j.hk(this.j.cz(r))&s)==0&&(this.J[6]=0)},o.prototype.HS=function(r,s,l,h){if(this.J[0]!=0){var f=this.j.xd(r);(f&s)!=0&&(f&l)!=0&&this.j.ng(r,h)%2==0&&(this.J[0]=0)}},o.prototype.FS=function(r,s){this.J[2]!=1&&(this.j.Me(r)!=-1?this.J[2]=1:this.J[2]!=0&&(this.j.xd(r)&s)==0&&(this.J[2]=0))},o.prototype.JN=function(r,s,l,h){if(this.J[3]!=0){var f=this.j.xd(r);(f&s)!=0&&(f&l)!=0&&this.j.ng(r,h)%2!=0&&(this.J[3]=0)}},o.prototype.IN=function(r,s,l,h){if(this.J[5]!=0){var f=this.j.xd(r);(f&s)!=0&&(f&l)==0&&this.j.ng(r,h)%2!=0&&(this.J[5]=0)}},o.prototype.nQ=function(r,s,l){this.J[6]!=0&&((r=this.j.xd(r))&s)==0&&(r&l)!=0&&(this.J[6]=0)},o.prototype.IS=function(r,s,l){this.J[0]!=0&&((r=this.j.xd(r))&s)!=0&&(r&l)!=0&&(this.J[0]=0)},o.prototype.wG=function(r,s,l,h){this.J[h]!=0&&((r=this.j.xd(r))&s)!=0&&(r&l)==0&&(this.J[h]=0)},o.prototype.Bp=function(r,s){var l=!1;r=this.j.La(r),s=this.j.La(s),this.Ui=this.j.$g();for(var h=this.j.Re;h!=-1;h=this.j.Rf(h)){var f=this.j.Me(h);if(f==-1){if(this.Sm!=-1)switch(this.Sm){case 3:l=this.aE(h,r,s);break;case 4:l=this.QG(h,r,s);break;default:throw c.i.fa("internal error")}}else{var p=f;do{var g=p;if(this.j.Ab(g,this.Ui)!=1)do{switch(this.vw){case 0:l=this.xN(g,r,s);break;case 1:l=this.yN(g,r,s);break;case 2:l=this.mT(g,r,s);break;default:throw c.i.fa("internal error")}if(l)break;this.j.Kb(g,this.Ui,1),g=this.j.jc(g)}while(g!=p&&!l);if(l)break;p=this.j.jc(this.j.xa(g))}while(p!=f);if(l)break}}l||this.UJ(),this.j.Jg(this.Ui)},o.prototype.Gy=function(r,s){var l=!1;r=this.j.La(r),s=this.j.La(s);for(var h=this.j.Re;h!=-1;h=this.j.Rf(h)){switch(this.Sm){case 3:l=this.aE(h,r,s);break;case 4:l=this.QG(h,r,s);break;case 5:l=this.ZU(h,r,s);break;default:throw c.i.Qa()}if(l)break}l||this.UJ()},o.prototype.er=function(r,s){this.j.dr(r,s)},o.prototype.Wo=function(r,s,l){this.YP(r,s,l),this.er(r,l)},o.prototype.YP=function(r,s,l){for(c.Tk.V(r,s,l,!1),r.Gp(0,!0,!0),s=r.ld;s!=-1;s=r.ue(s))r.ic(s)==1736&&c.rn.V(r,s,-1,!1,l)},o.WE=function(r,s){var l=r.getType();return c.aa.yd(l)?((s=new c.Ta(r.description)).oc(r,!0),s):l==197?(l=new c.l,r.A(l),l.ca()<=s&&l.R()<=s?(s=new c.Sa(r.description),r.sf(s),s):l.ca()<=s||l.R()<=s?(s=new c.Ta(r.description),l=new c.Sa,r.Hf(0,l),s.nf(l),r.Hf(2,l),s.lineTo(l),s):((s=new c.Da(r.description)).ad(r,!1),s)):r},o})(),c.am=I})(Q||(Q={})),(function(c){var I=(function(){function o(r){this.Em=new c.ia(0),this.dw=new c.ia(0),this.wt=new c.h,this.xt=new c.h,this.g=r,this.Hs=-1}return o.prototype.bc=function(r){return this.g.bc(this.zz(r))},o.prototype.Bv=function(r){var s=this.iz(r);if(r=this.HF(r),this.g.Ma(s)==r){var l=s;s=r,r=l}return this.g.Gc(s,this.wt),this.g.Gc(r,this.xt),this.wt.y<this.xt.y},o.prototype.zz=function(r){var s=this.iz(r);return r=this.HF(r),this.g.U(s)==r?s:r},o.prototype.iz=function(r){return this.Em.get(r)},o.prototype.HF=function(r){return this.dw.get(r)},o.prototype.rF=function(r){this.Em.set(r,this.Hs),this.Hs=r},o.prototype.nI=function(r){if(this.Hs!=-1){var s=this.Hs;return this.Hs=this.Em.get(s),this.Em.set(s,r),this.dw.set(s,this.g.U(r)),s}return this.Em==null&&(this.Em=new c.ia(0),this.dw=new c.ia(0)),s=this.Em.size,this.Em.add(r),this.dw.add(this.g.U(r)),s},o.prototype.rz=function(r){return this.g.bd(this.iz(r))},o})();c.yY=I;var w=(function(){function o(r){this.Be=r,this.ie=new c.yb,this.Nm=new c.yb,this.CH=0,this.Ao=null,this.yA=-1}return o.prototype.compare=function(r,s,l){l=r.ja(l);var h=this.Be.hb;if(this.yA==s)var f=this.CH;else this.Ao=h.bc(s),this.Ao==null?((r=h.g).ed(h.zz(s),this.ie),this.Ao=this.ie,f=this.ie.Pe(this.Be.yh,0)):f=this.Ao.Pe(this.Be.yh,0),this.CH=f,this.yA=s;if((r=h.bc(l))==null){(r=h.g).ed(h.zz(l),this.Nm),r=this.Nm;var p=this.Nm.Pe(this.Be.yh,0)}else p=r.Pe(this.Be.yh,0);return f==p&&(s=h.Bv(s),l=h.Bv(l),(s=.5*((l=Math.min(s?this.Ao.la:this.Ao.na,l?r.la:r.na))+this.Be.yh))==this.Be.yh&&(s=l),f=this.Ao.Pe(s,0),p=r.Pe(s,0)),f<p?-1:f>p?1:0},o.prototype.reset=function(){this.yA=-1},o})(),u=(function(){function o(){this.Wm=this.Gl=null,this.fb=new c.Yj,this.fb.RP(),this.$d=new w(this),this.fb.Vo(this.$d)}return o.prototype.HQ=function(){var r=!1;if(this.fw&&(r=this.IQ()),this.g.da(this.X)==1){var s=this.g.Ob(this.X);return r=this.g.wz(s),this.g.PB(s,!0),0>r&&(r=this.g.Xa(s),this.g.pJ(r),this.g.Wg(s,this.g.Ma(r)),!0)}for(this.El=this.g.Ky(),this.wo=this.g.Ky(),s=this.g.Ob(this.X);s!=-1;s=this.g.Rb(s))this.g.gr(s,this.El,0),this.g.gr(s,this.wo,-1);s=new c.ia(0),this.yh=NaN;var l=new c.h;this.et=this.g.da(this.X),this.ro=this.g.Gd(),this.Rs=this.g.Gd();for(var h=this.Gl.rc(this.Gl.je);h!=-1;h=this.Gl.lb(h)){var f=this.Gl.getData(h);if(this.g.Gc(f,l),l.y!=this.yh&&s.size!=0&&(r=this.ut(s)||r,this.$d.reset(),s.clear(!1)),s.add(f),this.yh=l.y,this.et==0)break}for(0<this.et&&(r=this.ut(s)||r,s.clear(!1)),this.g.Td(this.ro),this.g.Td(this.Rs),s=this.g.Ob(this.X);s!=-1;)if(this.g.sj(s,this.El)==3){for(this.g.PB(s,!0),l=s,s=this.g.sj(s,this.wo);s!=-1;)h=this.g.sj(s,this.wo),this.g.ZT(this.X,this.g.Rb(l),s),l=s,s=h;s=this.g.Rb(l)}else this.g.PB(s,!1),s=this.g.Rb(s);return this.g.CB(this.El),this.g.CB(this.wo),r},o.prototype.ut=function(r){return this.$V(r)},o.prototype.$V=function(r){var s=!1;this.hb==null&&(this.hb=new I(this.g)),this.Wm==null?(this.Wm=new c.ia(0),this.Wm.Jb(16)):this.Wm.clear(!1),this.ZV(r);for(var l=0,h=r.size;l<h;l++){var f=r.get(l);f!=-1&&this.oG(f,-1)}for(l=0;l<this.Wm.size&&0<this.et;l++)if(r=this.Wm.get(l),f=this.hb.rz(this.fb.ja(r)),h=-1,this.g.sj(f,this.El)==0){f=this.fb.we(r);for(var p,g=r;f!=-1;){var _=this.fb.ja(f),M=this.hb.rz(_),R=this.g.sj(M,this.El);if(R!=0){h=M;break}g=f,f=this.fb.we(f)}f==-1?(p=!0,f=g):(_=this.fb.ja(f),p=this.hb.Bv(_),f=this.fb.lb(f),p=!p);do{if(_=this.fb.ja(f),M=this.hb.rz(_),(R=this.g.sj(M,this.El))==0&&(p!=this.hb.Bv(_)&&(s=this.g.Xa(M),this.g.pJ(s),this.g.Wg(M,this.g.Ma(s)),s=!0),this.g.gr(M,this.El,p?3:2),p||(g=this.g.sj(h,this.wo),this.g.gr(h,this.wo,M),this.g.gr(M,this.wo,g)),this.et--,this.et==0))return s;h=M,g=f,f=this.fb.lb(f),p=!p}while(g!=r)}return s},o.prototype.ZV=function(r){for(var s=0,l=r.size;s<l;s++){var h=r.get(s),f=this.g.Pa(h,this.ro),p=this.g.Pa(h,this.Rs);if(f!=-1){var g=this.fb.ja(f);this.hb.rF(g),this.g.Ra(h,this.ro,-1)}p!=-1&&(g=this.fb.ja(p),this.hb.rF(g),this.g.Ra(h,this.Rs,-1)),g=-1,f!=-1&&p!=-1?(this.fb.vd(f,-1),this.fb.vd(p,-1),r.set(s,-1)):g=f!=-1?f:p,g!=-1&&(this.oG(h,g)||this.fb.vd(g,-1),r.set(s,-1))}},o.prototype.oG=function(r,s){var l=new c.h,h=new c.h;this.g.Gc(r,l);var f=this.g.U(r);this.g.Gc(f,h);var p=!1;if(l.y<h.y){p=!0;var g=this.hb.nI(r);if(s==-1)var _=this.fb.addElement(g,-1);else _=s,this.fb.Sj(_,g);(g=this.g.Pa(f,this.ro))==-1?this.g.Ra(f,this.ro,_):this.g.Ra(f,this.Rs,_),f=this.g.bd(r),this.g.sj(f,this.El)==0&&this.Wm.add(_)}return f=this.g.Ma(r),this.g.Gc(f,h),l.y<h.y&&(p=!0,g=this.hb.nI(f),s==-1?_=this.fb.addElement(g,-1):(_=s,this.fb.Sj(_,g)),(g=this.g.Pa(f,this.ro))==-1?this.g.Ra(f,this.ro,_):this.g.Ra(f,this.Rs,_),f=this.g.bd(r),this.g.sj(f,this.El)==0&&this.Wm.add(_)),p},o.V=function(r,s,l,h){var f=new o;return f.g=r,f.X=s,f.Gl=l,f.fw=h,f.HQ()},o.prototype.IQ=function(){var r=new c.ia(0),s=new c.ia(0),l=-1,h=-1,f=new c.h;f.Rc();for(var p=-1,g=-1,_=-1,M=new c.h,R=this.Gl.rc(this.Gl.je);R!=-1;R=this.Gl.lb(R)){var $=this.Gl.getData(R);this.g.Gc($,M);var P=this.g.bd($);f.qb(M)&&g==P?(h==-1&&(l=this.g.Ky(),h=this.g.Gd()),_==-1&&(_=s.size,this.g.Ra(p,h,_),s.add(1),this.g.sj(P,l)==-1&&(this.g.gr(P,l,p),r.add(P))),this.g.Ra($,h,_),s.bX(s.Fc()+1)):(_=-1,f.L(M)),p=$,g=P}if(r.size==0)return!1;for(f=new c.ia(0),p=new c.ia(0),g=0,_=r.size;g<_;g++){P=r.get(g);var j=this.g.sj(P,l);for($=this.g.Pa(j,h),f.clear(!1),p.clear(!1),f.add(j),p.add($),$=this.g.U(j);$!=j;$=this.g.U($)){var F=$;if((M=this.g.Pa(F,h))!=-1)if(p.size==0)p.add(M),f.add(F);else if(p.Fc()==M){R=f.Fc();var V=this.g.U(R);j=this.g.U(F),this.g.Bc(R,j),this.g.Cc(j,R),this.g.Bc(F,V),this.g.Cc(V,F),F=[!1],V=this.g.nG(this.X,V,this.g.Xa(P),F),this.g.Ra($,h,-1),F[0]&&this.g.Jf(P,j),$=this.g.Ja(P),$-=j=this.g.Ja(V),this.g.Vj(P,$),s.set(M,s.get(M)-1),s.get(M)==1&&(s.set(M,0),p.If(),f.If()),$=j=R}else f.add($),p.add(M)}}return this.g.CB(l),this.g.Td(h),!0},o})();c.WL=u})(Q||(Q={})),(function(c){var I=(function(){function w(){}return w.prototype.ig=function(){this.PA=this.sb=null},w.prototype.get=function(){return this.PA},w.prototype.set=function(u){if(this.PA=u,u!=null)throw u.getType()==322&&(this.sb=u),c.i.Qa()},w.prototype.create=function(u){if(u!=322)throw c.i.fa("Not Implemented");this.Or()},w.prototype.Or=function(){this.sb==null&&(this.sb=new c.yb),this.PA=this.sb},w})();c.ig=I})(Q||(Q={})),(function(c){(c=c.XL||(c.XL={}))[c.enumLineSeg=1]="enumLineSeg",c[c.enumBezierSeg=2]="enumBezierSeg",c[c.enumArcSeg=4]="enumArcSeg",c[c.enumNonlinearSegmentMask=6]="enumNonlinearSegmentMask",c[c.enumSegmentMask=7]="enumSegmentMask",c[c.enumDensified=8]="enumDensified"})(Q||(Q={})),(function(c){var I=function(u){this.$i=u,this.qC=this.rC=1,this.sB=this.rB=this.tB=0},w=(function(){function u(){this.Fq=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.Bk=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.Bf=new c.Sa,this.qa=this.Cw=0,this.mo=[],this.$s=[],this.yw=[],this.Iq=[],this.MA=[]}return u.prototype.wB=function(o){if(o!=null){for(var r=0,s=o.length;r<s;r++)this.rW(o[r]);o.length=0}},u.prototype.rW=function(o){o.$i=null,this.Iq.push(o)},u.prototype.Ow=function(o){if(this.Iq.length===0)var r=new I(o);else(r=this.Iq[this.Iq.length-1]).$i=o,--this.Iq.length;return r},u.prototype.SR=function(o,r){return o==0?this.$s[r]:this.yw[r]},u.prototype.aB=function(){this.Cw>=this.MA.length&&this.MA.push(new c.ig);var o=this.MA[this.Cw];return this.Cw++,o},u.prototype.clear=function(){this.wB(this.mo),this.wB(this.$s),this.wB(this.yw),this.Cw=0},u.prototype.Oo=function(o){this.mo.push(this.Ow(o))},u.prototype.ol=function(o){return o==0?this.$s.length:this.yw.length},u.prototype.Vp=function(o,r){return this.SR(o,r).$i},u.prototype.Ea=function(o,r){if(this.mo.length!=2)throw c.i.Qa();this.qa=o;var s=c.lc.ox(.01*o),l=!1,h=this.mo[0],f=this.mo[1];if(r||5&h.$i.zr(f.$i,o,!0)){if(h.$i.getType()==322){var p=h.$i;if(f.$i.getType()==322){r=f.$i;var g=c.yb.Zx(p,r,null,this.Fq,this.Bk,o);if(g==0)throw c.yb.Zx(p,r,null,this.Fq,this.Bk,o),c.i.Qa();o=Array(9),c.O.$u(o,null);for(var _=0;_<g;_++){var M=this.Fq[_],R=this.Bk[_],$=h.sB,P=1;M==0?($=h.tB,P=h.rC):M==1&&($=h.rB,P=h.qC);var j=f.sB,F=1;R==0?(j=f.tB,F=f.rC):R==1&&(j=f.rB,F=f.qC);var V=new c.h;$==j?($=new c.h,p.hc(M,$),M=new c.h,r.hc(R,M),F/=R=P+F,c.lc.OG($,M,F,V),c.h.yc(V,$)+c.h.yc(V,M)>s&&(l=!0)):$>j?(p.hc(M,V),M=new c.h,r.hc(R,M),c.h.yc(V,M)>s&&(l=!0)):(r.hc(R,V),$=new c.h,p.hc(M,$),c.h.yc(V,$)>s&&(l=!0)),o[_]=V}for(h=0,f=-1,_=0;_<=g;_++)(F=_<g?this.Fq[_]:1)!=h&&(s=this.aB(),p.ah(h,F,s),f!=-1&&s.get().Dc(o[f]),_!=g&&s.get().Qc(o[_]),h=F,this.$s.push(this.Ow(s.get()))),f=_;for(p=[0,0,0,0,0,0,0,0,0],_=0;_<g;_++)p[_]=_;for(1<g&&this.Bk[0]>this.Bk[1]&&(F=this.Bk[0],this.Bk[0]=this.Bk[1],this.Bk[1]=F,_=p[0],p[0]=p[1],p[1]=_),h=0,f=-1,_=0;_<=g;_++)(F=_<g?this.Bk[_]:1)!=h&&(s=this.aB(),r.ah(h,F,s),f!=-1&&(h=p[f],s.get().Dc(o[h])),_!=g&&(h=p[_],s.get().Qc(o[h])),h=F,this.yw.push(this.Ow(s.get()))),f=_;return l}}throw c.i.Qa()}return!1},u.prototype.Kz=function(o,r,s){if(r.copyTo(this.Bf),this.mo.length!=1)throw c.i.Qa();this.qa=o;var l=this.mo[0];if(s||l.$i.ru(r.D(),o,!0)){if(l.$i.getType()!=322)throw c.i.Qa();var h=(o=l.$i).fe(r.D(),!1);this.Fq[0]=h;var f=l.sB;for(s=1,h==0?(f=l.tB,s=l.rC):h==1&&(f=l.rB,s=l.qC),l=new c.h,f==0?(f=new c.h,o.hc(h,f),r=r.D(),c.lc.OG(f,r,1/(s+1),l)):0<f?(l=new c.h,o.hc(h,l)):l=r.D(),s=0,h=-1,f=0;1>=f;f++){if((r=1>f?this.Fq[f]:1)!=s){var p=this.aB();o.ah(s,r,p),h!=-1&&p.get().Dc(l),f!=1&&p.get().Qc(l),s=r,this.$s.push(this.Ow(p.get()))}h=f}this.Bf.Cb(l)}},u})();c.TC=w})(Q||(Q={})),(function(c){var I=(function(){function w(u){this.Ds=this.rk=this.sb=null,this.ag=0,this.zm=!1,this.zf=-1,this.Cl=this.Jd=0,this.gb=-1,this.ib=u,this.ag=this.Wx(this.Cl),this.zm=!1,this.rk=null,this.Ds=new c.h}return w.prototype.BW=function(u){if(this.ib!=u.ib)throw c.i.Hb();this.zf=u.zf,this.Jd=u.Jd,this.gb=u.gb,this.Cl=u.Cl,this.ag=u.ag,this.zm=u.zm,this.rk=null},w.prototype.ha=function(){if(this.zf!=this.Jd&&this.BD(),this.zm)this.Jd=(this.Jd+1)%this.ag;else{if(this.Jd==this.ag)throw c.i.ce();this.Jd++}return this.rk},w.prototype.li=function(){if(this.zm)this.Jd=(this.ag+this.Jd-1)%this.ag;else{if(this.Jd==0)throw c.i.ce();this.Jd--}return this.Jd!=this.zf&&this.BD(),this.rk},w.prototype.DW=function(){this.zf=-1,this.Jd=0},w.prototype.EW=function(){this.Jd=this.ag,this.zf=-1},w.prototype.Vb=function(u,o){if(o===void 0&&(o=-1),0<=this.gb&&this.gb<this.ib.da()){var r=this.IM();if(u>=r&&u<this.ib.Vc(this.gb))return this.zf=-1,void(this.Jd=u-r)}o=0<=o&&o<this.ib.da()&&u>=this.ib.Ba(o)&&u<this.ib.Vc(o)?o:this.ib.sz(u),this.Cl=o+1,this.gb=o,this.zf=-1,this.Jd=u-this.ib.Ba(o),this.ag=this.Wx(o),this.ib.Ba(this.gb),this.ib.dc(this.gb)},w.prototype.$a=function(){return this.gb=this.Cl,!(this.gb>=this.ib.da())&&(this.zf=-1,this.Jd=0,this.ag=this.Wx(this.gb),this.ib.Ba(this.gb),this.ib.dc(this.gb),this.Cl++,!0)},w.prototype.Zi=function(){this.ag=this.Jd=this.zf=-1,this.Cl=0,this.gb=-1},w.prototype.Wx=function(u){if(this.ib.Ac())return 0;var o=1;return this.ib.dc(u)&&(o=0),this.ib.Ja(u)-o},w.prototype.On=function(){return this.zf==this.ag-1&&this.ib.dc(this.gb)},w.prototype.JB=function(){this.zm=!0},w.prototype.wb=function(){return this.ib.nb.o[this.gb]+this.zf},w.prototype.IM=function(){return this.ib.Ba(this.gb)},w.prototype.ik=function(){return this.On()?this.ib.Ba(this.gb):this.wb()+1},w.prototype.vm=function(){return this.zf==0},w.prototype.Qn=function(){return this.zf==this.ag-1},w.prototype.Ha=function(){return this.Jd<this.ag},w.prototype.Ez=function(){return 0<this.Jd},w.prototype.Of=function(){var u=new w(this.ib);return u.zf=this.zf,u.Jd=this.Jd,u.ag=this.ag,u.gb=this.gb,u.Cl=this.Cl,u.ib=this.ib,u.zm=this.zm,u},w.prototype.BD=function(){if(0>this.Jd||this.Jd>=this.ag)throw c.i.ce();this.zf=this.Jd;var u=this.wb();this.ib.mc();var o=this.ib.Ve,r=1;switch(o!=null&&(r=7&o.read(u)),o=this.ib.description,r){case 1:this.sb==null&&(this.sb=new c.yb),this.rk=this.sb;break;case 2:throw c.i.fa("internal error");default:throw c.i.Qa()}this.rk.Nf(o),r=this.ik(),this.ib.Gc(u,this.Ds),this.rk.Dc(this.Ds),this.ib.Gc(r,this.Ds),this.rk.Qc(this.Ds);for(var s=1,l=o.Aa;s<l;s++)for(var h=o.kd(s),f=c.ra.Va(h),p=0;p<f;p++){var g=this.ib.Uc(h,u,p);this.rk.YB(h,p,g),g=this.ib.Uc(h,r,p),this.rk.OB(h,p,g)}},w.prototype.$S=function(){return this.gb==this.ib.da()-1},w.prototype.Pn=function(){var u=this.ib.VR();return u!=null&&(7&u.read(this.zf))!=1},w})();c.YL=I})(Q||(Q={})),(function(c){var I=(function(){function w(u){u instanceof c.aa?(this.xH=u,this.ya=-1,this.Ei=1):(this.vT=u.slice(0),this.ya=-1,this.Ei=u.length)}return w.prototype.La=function(){return this.ya},w.prototype.next=function(){return this.ya<this.Ei-1?(this.ya++,this.xH!=null?this.xH:this.vT[this.ya]):null},w.prototype.qe=function(){},w})();c.Zc=I})(Q||(Q={})),(function(c){var I=function(){this.next=null},w=(function(){function u(){this.Tq=this.Kw=this.Lw=0,this.kF=!1,this.gK=0,this.gn=this.Kf=this.Wl=this.Jh=null,this.Ol=0,this.vy=null,this.pl=this.oi=-1}return u.prototype.AX=function(o,r,s){this.oi=o,this.pl=r,this.Jh=this.Wl=null,this.Tq=0,this.vy=s,this.gn==null&&(this.gn=c.O.lg(384,0)),this.nK()},u.prototype.R=function(){return this.oi},u.prototype.ca=function(){return this.pl},u.prototype.flush=function(){0<this.Ol&&(this.vy.gF(this.gn,this.Ol),this.Ol=0)},u.prototype.nK=function(){if(0<this.Tq){for(var o=0;o<this.pl;o++){for(var r=this.Wl[o];r!=null;){var s=r;r=r.next,s.next=null}this.Wl[o]=null}this.Jh=null}this.Lw=this.pl,this.Kw=-1,this.Tq=0},u.prototype.iJ=function(o){for(this.kF=o==u.Cx,o=this.Lw;o<=this.Kw;o++)this.sN(),this.lN(o),this.ZP();this.nK()},u.prototype.jy=function(o,r,s,l){if(r!=l){var h=1;if(r>l&&(h=o,o=s,s=h,h=r,r=l,l=h,h=-1),!(0>l||r>=this.pl)){0>o&&0>s?s=o=-1:o>=this.oi&&s>=this.oi&&(s=o=this.oi);var f=(s-o)/(l-r);l>this.pl&&(s=f*((l=this.pl)-r)+o),0>r&&(o=f*(0-r)+o,r=0);var p=Math.max(this.oi+1,8388607);-8388607>o?(r=(0-o)/f+r,o=0):o>p&&(r=(this.oi-o)/f+r,o=this.oi),-8388607>s?l=(0-o)/f+r:s>p&&(l=(this.oi-o)/f+r),(r=c.O.truncate(r))!=(l=c.O.truncate(l))&&((s=new I).x=c.O.truncate(4294967296*o),s.y=r,s.H=l,s.WP=c.O.truncate(4294967296*f),s.dir=h,this.Wl==null&&(this.Wl=c.O.lg(this.pl,null)),s.next=this.Wl[s.y],this.Wl[s.y]=s,s.y<this.Lw&&(this.Lw=s.y),s.H>this.Kw&&(this.Kw=s.H),this.Tq++)}}},u.prototype.sN=function(){if(this.Jh!=null){for(var o=!1,r=null,s=this.Jh;s!=null;)if(s.y++,s.y==s.H){var l=s;s=s.next,r!=null?r.next=s:this.Jh=s,l.next=null}else s.x+=s.WP,r!=null&&r.x>s.x&&(o=!0),r=s,s=s.next;o&&(this.Jh=this.fK(this.Jh))}},u.prototype.lN=function(o){if(!(o>=this.pl)){var r=this.Wl[o];if(r!=null){this.Wl[o]=null,r=this.fK(r),this.Tq-=this.gK,o=this.Jh;for(var s=!0,l=r,h=null;o!=null&&l!=null;)o.x>l.x?(s&&(this.Jh=l),s=l.next,l.next=o,h!=null&&(h.next=l),h=l,l=s):(s=o.next,o.next=l,h!=null&&(h.next=o),h=o,o=s),s=!1;this.Jh==null&&(this.Jh=r)}}},u.eK=function(o,r){return 0>o?0:o>r?r:o},u.prototype.ZP=function(){if(this.Jh!=null){for(var o=0,r=this.Jh,s=c.O.truncate(c.O.XG(r.x)),l=r.next;l!=null;l=l.next)if(o=this.kF?1^o:o+l.dir,l.x>r.x){var h=c.O.truncate(c.O.XG(l.x));o!=0&&(r=u.eK(s,this.oi),(s=u.eK(h,this.oi))>r&&r<this.oi&&(this.gn[this.Ol++]=r,this.gn[this.Ol++]=s,this.gn[this.Ol++]=l.y,this.Ol==this.gn.length&&(this.vy.gF(this.gn,this.Ol),this.Ol=0))),r=l,s=h}}},u.prototype.fK=function(o){for(var r=0,s=o;s!=null;s=s.next)r++;if(this.gK=r,r==1)return o;this.Kf==null?this.Kf=c.O.lg(Math.max(r,16),null):this.Kf.length<r&&(this.Kf=c.O.lg(Math.max(r,2*this.Kf.length),null));var l=0;for(s=o;s!=null;s=s.next)this.Kf[l++]=s;for(r==2?this.Kf[0].x>this.Kf[1].x&&(o=this.Kf[0],this.Kf[0]=this.Kf[1],this.Kf[1]=o):u.AN(this.Kf,r,(function(h,f){return h==f?0:h.x<f.x?-1:h.x>f.x?1:0})),o=this.Kf[0],this.Kf[0]=null,s=o,l=1;l<r;l++)s.next=this.Kf[l],s=this.Kf[l],this.Kf[l]=null;return s.next=null,o},u.AN=function(o,r,s){if(r==o.length)o.sort(s);else{var l=o.slice(0,0),h=o.slice(r);r=o.slice(0,r).sort(s),o.length=0,o.push.apply(o,l.concat(r).concat(h))}},u.Cx=0,u})();c.Px=w})(Q||(Q={})),(function(c){var I=(function(){function w(){}return w.prototype.ui=function(u,o){var r=this.g.Pa(u,this.Pq);if(this.Dl==r&&(this.Dl=this.oe.lb(this.Dl)),this.ho==r&&(this.ho=this.oe.lb(this.ho)),this.oe.jd(this.RA,r),this.bk(u),o&&(o=this.g.bd(u))!=-1&&this.g.Xa(o)==u){var s=this.g.U(u);if(s!=u){if((r=this.g.bd(s))==o)return void this.g.Jf(o,s);if((s=this.g.Ma(u))!=u&&(r=this.g.bd(s))==o)return void this.g.Jf(o,s)}this.g.Jf(o,-1),this.g.Wg(o,-1)}},w.prototype.pD=function(){for(var u=!1,o=new c.h;;){this.Wh==null?(this.Wh=new c.ia(0),this.zs=new c.ia(0),this.xe=new c.ia(0)):(this.Wh.clear(!1),this.zs.clear(!1),this.xe.clear(!1));for(var r=this.ho,s=0,l=!0;r!=this.Dl;){var h=this.oe.getData(r),f=new c.h;this.g.Gc(h,f),l&&(this.g.Gc(h,o),l=!1),f=this.g.Ma(h);var p=this.g.U(h);this.g.Pa(f,this.zg)!=-559038737&&(this.Wh.add(f),this.g.Ra(f,this.zg,-559038737),this.zs.add(h),this.xe.add(s++)),this.g.Pa(p,this.zg)!=-559038737&&(this.Wh.add(p),this.g.Ra(p,this.zg,-559038737),this.zs.add(h),this.xe.add(s++)),r=this.oe.lb(r)}if(2>this.Wh.size)break;var g=this;for(this.xe.Vd(0,this.xe.size,(function(_,M){return g.pM(_,M)})),r=0,s=this.xe.size;r<s;r++)l=this.xe.get(r),l=this.Wh.get(l),this.g.Ra(l,this.zg,r),f=new c.h,this.g.Gc(l,f);for(f=this.TM(o),r=0,s=this.xe.size;r<s;r++)(l=this.xe.get(r))!=-1&&(l=this.Wh.get(l),this.g.Ra(l,this.zg,-1));if(!f)break;u=!0}return u},w.prototype.TM=function(u){for(var o=!1,r=!0;r;){r=!1;var s=0;this.xe.get(s)==-1&&(s=this.cm(s));for(var l=this.cm(s),h=0,f=this.xe.size;h<f&&s!=-1&&l!=-1&&s!=l;h++){var p=this.xe.get(s);l=this.xe.get(l),p=this.Wh.get(p),l=this.Wh.get(l);var g=this.g.U(p);this.g.Dv(g,u)||(g=this.g.Ma(p));var _=this.g.U(l);this.g.Dv(_,u)||(_=this.g.Ma(l));var M=this.pu(g,p),R=this.pu(_,l),$=M?this.g.Ma(g):this.g.U(g),P=R?this.g.Ma(_):this.g.U(_),j=!1;(this.sp(g)||this.sp(_)||this.sp(p)||this.sp(l)||this.sp($)||this.sp(P))&&(j=!0),!j&&this.g.fq(p,l)&&(j=!0,this.tD(M,R,g,p,_,l)),!j&&this.g.fq($,P)&&(j=!0,this.tD(!M,!R,g,$,_,P)),j&&(o=!0),r=r||j,s=this.cm(s),l=this.cm(s)}}if(!o)for(s=0,this.xe.get(s)==-1&&(s=this.cm(s)),l=this.cm(s),h=0,f=this.xe.size;h<f&&s!=-1&&l!=-1&&s!=l;h++)p=this.xe.get(s),l=this.xe.get(l),p=this.Wh.get(p),l=this.Wh.get(l),g=this.g.U(p),this.g.Dv(g,u)||(g=this.g.Ma(p)),_=this.g.U(l),this.g.Dv(_,u)||(_=this.g.Ma(l)),M=this.pu(g,p),R=this.pu(_,l),$=M?this.g.Ma(g):this.g.U(g),P=R?this.g.Ma(_):this.g.U(_),this.DM(M,R,p,g,$,l,_,P)&&(o=!0),s=this.cm(s),l=this.cm(s);return o},w.prototype.XM=function(){this.g.ic(this.X)==1736&&this.g.In(this.X)==1&&new c.Fg().MU(this.fw,this.g,this.X,this.nd);var u=!1,o=!0;this.zg=this.Pq=-1;var r=this.g.I(this.X),s=new c.ia(0);s.Jb(r);for(var l=this.g.Ob(this.X);l!=-1;l=this.g.Rb(l))for(var h=this.g.Xa(l),f=0,p=this.g.Ja(l);f<p;f++)s.add(h),h=this.g.U(h);var g=this.g.td.o,_=this.g.td.stride;this.g.vb.mc();var M=this.g.vb.za[0].o;for(s.Vd(0,r,(function($,P){var j=g[_*$],F=g[_*P],V=M[2*j];j=M[2*j+1];var W=M[2*F];return(V=j<(F=M[2*F+1])?-1:j>F?1:V<W?-1:V>W?1:0)==0&&(V=($=g[_*$+3])<(P=g[_*P+3])?-1:$==P?0:1),V})),this.Pq=this.g.Gd(),this.oe=new c.jp,this.RA=this.oe.Ph(0),this.oe.fn(r),l=0;l<r;l++)h=s.get(l),f=this.oe.addElement(this.RA,h),this.g.Ra(h,this.Pq,f);for(this.zg=this.g.Gd(),this.Dl=-1,this.cD()&&(u=!0);o;){o=!1,r=0,s=!1;do{s=!1,this.ho=-1,p=0,l=new c.h,f=new c.h;for(var R=this.oe.rc(this.RA);R!=-1;)h=this.oe.getData(R),this.ho!=-1?(this.g.Gc(h,f),l.qb(f)?p++:(l.L(f),this.Dl=R,0<p&&(h=this.pD())&&(s=!0,this.Dl!=-1&&(h=this.oe.getData(this.Dl),this.g.Gc(h,l))),this.ho=R=this.Dl,p=0)):(this.ho=R,this.g.Gc(this.oe.getData(R),l),p=0),R!=-1&&(R=this.oe.lb(R));if(this.Dl=-1,0<p&&(h=this.pD())&&(s=!0),10<r++)throw c.i.Qa();s&&this.GM(),this.cD()&&(s=!0),o=o||s&&!1,u=u||s}while(s)}return this.g.Td(this.Pq),this.g.Td(this.zg),c.WL.V(this.g,this.X,this.oe,this.fw)||u},w.prototype.pu=function(u,o){return this.g.U(o)!=u},w.prototype.DM=function(u,o,r,s,l,h,f,p){if(s==f)return this.bk(r),this.bk(h),!1;var g=this.g.Pa(r,this.zg),_=this.g.Pa(l,this.zg),M=this.g.Pa(h,this.zg),R=this.g.Pa(p,this.zg),$=[0,0,0,0];for((r=[0,0,0,0,0,0,0,0])[0]=0,$[0]=g,r[1]=0,$[1]=_,r[2]=1,$[2]=M,r[3]=1,$[3]=R,g=1;4>g;g++){for(_=$[g],M=r[g],R=g-1;0<=R&&$[R]>_;)$[R+1]=$[R],r[R+1]=r[R],R--;$[R+1]=_,r[R+1]=M}return $=0,r[0]!=0&&($|=1),r[1]!=0&&($|=2),r[2]!=0&&($|=4),r[3]!=0&&($|=8),($==5||$==10)&&(u==o?u?(this.g.Bc(p,s),this.g.Cc(s,p),this.g.Bc(l,f),this.g.Cc(f,l)):(this.g.Cc(p,s),this.g.Bc(s,p),this.g.Cc(l,f),this.g.Bc(f,l)):u?(this.g.Cc(s,h),this.g.Bc(h,s),this.g.Cc(f,l),this.g.Bc(l,f)):(this.g.Bc(s,h),this.g.Cc(h,s),this.g.Bc(f,l),this.g.Cc(l,f)),!0)},w.prototype.tD=function(u,o,r,s,l,h){this.MY?this.VM():this.UM(u,o,r,s,l,h)},w.prototype.VM=function(){throw c.i.fa("not implemented.")},w.prototype.UM=function(u,o,r,s,l,h){if(u!=o)u?(this.g.Bc(r,l),this.g.Cc(l,r),this.g.Bc(h,s),this.g.Cc(s,h),this.vn(l,r),this.ui(l,!0),this.g.mi(l,!0),this.bk(r),this.vn(h,s),this.ui(h,!0),this.g.mi(h,!1)):(this.g.Bc(l,r),this.g.Cc(r,l),this.g.Bc(s,h),this.g.Cc(h,s),this.vn(l,r),this.ui(l,!0),this.g.mi(l,!1),this.bk(r),this.vn(h,s),this.ui(h,!0),this.g.mi(h,!0)),this.bk(s);else{var f=u?r:s,p=o?l:h;for(u=u?s:r,o=o?h:l,l=!1,this.g.Bc(f,p),this.g.Bc(p,f),this.g.Cc(u,o),this.g.Cc(o,u),h=o;h!=p;)r=this.g.Ma(h),s=this.g.U(h),this.g.Cc(h,s),this.g.Bc(h,r),l=l||h==f,h=s;l||(r=this.g.Ma(p),s=this.g.U(p),this.g.Cc(p,s),this.g.Bc(p,r)),this.vn(p,f),this.ui(p,!0),this.g.mi(p,!1),this.bk(f),this.vn(o,u),this.ui(o,!0),this.g.mi(o,!1),this.bk(u)}},w.prototype.cD=function(){for(var u=!1,o=this.g.Ob(this.X);o!=-1;){for(var r=this.g.Xa(o),s=0,l=this.g.Ja(o);s<l&&1<l;){var h=this.g.Ma(r),f=this.g.U(r);this.g.fq(h,f)?(u=!0,this.ui(r,!1),this.g.pd(r,!0),this.ui(f,!1),this.g.pd(f,!0),r=h,s=0,l=this.g.Ja(o)):(r=f,s++)}if(2>this.g.Ja(o)){for(u=this.g.Xa(o),s=0,l=this.g.Ja(o);s<l;s++)this.ui(u,!1),u=this.g.U(u);o=this.g.Zq(o),u=!0}else o=this.g.Rb(o)}return u},w.prototype.sp=function(u){for(var o=!1;;){var r=this.g.U(u),s=this.g.Ma(u);if(r==u)return this.ui(u,!0),this.g.mi(u,!1),!0;if(!this.g.fq(r,s)||(o=!0,this.bk(s),this.bk(r),this.ui(u,!0),this.g.mi(u,!1),this.vn(r,s),this.ui(r,!0),this.g.mi(r,!0),r==s))break;u=s}return o},w.prototype.GM=function(){for(var u=0,o=this.oe.rc(this.oe.je);o!=-1;o=this.oe.lb(o)){var r=this.oe.getData(o);this.g.aj(r,-1)}for(var s=0,l=this.g.Ob(this.X);l!=-1;)if((o=this.g.Xa(l))==-1||this.g.bd(o)!=-1)r=l,l=this.g.Rb(l),this.g.$q(r);else{this.g.aj(o,l);var h=1;for(r=this.g.U(o);r!=o;r=this.g.U(r))this.g.aj(r,l),h++;this.g.cp(l,!1),this.g.Vj(l,h),this.g.Wg(l,this.g.Ma(o)),s+=h,u++,l=this.g.Rb(l)}for(o=this.oe.rc(this.oe.je);o!=-1;o=this.oe.lb(o))r=this.oe.getData(o),this.g.bd(r)==-1&&(l=this.g.nG(this.X,r,r,null),s+=this.g.Ja(l),u++);for(this.g.Rl(this.X,u),this.g.Tj(this.X,s),u=0,s=this.g.ld;s!=-1;s=this.g.ue(s))u+=this.g.I(s);this.g.bC(u)},w.prototype.cm=function(u){for(var o=0,r=this.xe.size-1;o<r;o++)if(u=(u+1)%this.xe.size,this.xe.get(u)!=-1)return u;return-1},w.prototype.vn=function(u,o){var r=this.g.Pa(o,this.Pq),s=this.g.Pa(o,this.zg);this.g.lC(u,o),this.g.Ra(o,this.Pq,r),this.g.Ra(o,this.zg,s)},w.prototype.bk=function(u){var o=this.g.Pa(u,this.zg);o!=-1&&(this.xe.set(o,-1),this.g.Ra(u,this.zg,-1))},w.V=function(u,o,r,s,l){var h=new w;return h.g=u,h.X=o,h.xA=r,h.fw=s,h.nd=l,h.XM()},w.prototype.pM=function(u,o){var r=this.Wh.get(u),s=new c.h;this.g.Gc(r,s),r=new c.h;var l=this.Wh.get(o);return this.g.Gc(l,r),s.qb(r)?0:(l=this.zs.get(u),u=new c.h,this.g.Gc(l,u),l=this.zs.get(o),o=new c.h,this.g.Gc(l,o),(l=new c.h).uc(s,u),(s=new c.h).uc(r,o),c.h.nu(l,s))},w})();c.rn=I})(Q||(Q={})),(function(c){var I;(I=c.$L||(c.$L={}))[I.Local=0]="Local",I[I.Geographic=1]="Geographic",I[I.Projected=2]="Projected",I[I.Image=3]="Image",I[I.Unknown=4]="Unknown",(function(u){u[u.Integer32=0]="Integer32",u[u.Integer64=1]="Integer64",u[u.FloatingPoint=2]="FloatingPoint"})(c.TL||(c.TL={}));var w=(function(){function u(){this.mA=null,this.pp="",this.su=null,this.dg=0,this.ZH=this.Ho=-1,this.wh=null}return u.prototype.Ec=function(){return this.dg},u.prototype.VF=function(){return 1},u.prototype.VW=function(o){this.mA=o},u.prototype.Xd=function(){if(this.mA!==null)return this.mA;var o=.001;return this.dg!=0?o=c.wr.CQ(this.dg):this.wh!=null&&(o=c.XC.DQ(this.wh)),o},u.prototype.Bz=function(){return this.wh},u.prototype.Hd=function(){return this.dg!=0?c.Tc.Zg(c.wr.Sy(this.dg)):this.wh!=null?c.XC.EQ(this.wh):void 0},u.Sb=function(o){if(o.dg!=0){if(c.wr.ZS(o.dg)===!0)return 1;if(c.wr.aT(o.dg)===!0)return 2}return 4},u.prototype.$r=function(){var o=this.Ec();return this.Ho!=-1?this.Ho:(this.Ho=c.wr.FK(o),this.Ho!=-1?this.Ho:o)},u.create=function(o){if(0>=o)throw c.i.N("Invalid or unsupported wkid: "+o);var r=new u;return r.dg=o,r},u.qP=function(o){if(o==null||o.length==0)throw c.i.N("Cannot create SpatialReference from null or empty text.");var r=new u;return r.wh=o,r},u.prototype.Nb=function(o){return this==o||o!=null&&this.constructor==o.constructor&&this.dg==o.dg&&(this.dg!=0||this.wh===o.wh)},u.prototype.toString=function(){return"[ tol: "+this.Kn()+"; wkid: "+this.Ec()+"; wkt: "+this.Bz()+"]"},u.prototype.cc=function(){if(this.pp!=="")return this.pp;var o=this.toString();if(Array.prototype.reduce)return this.pp="S"+o.split("").reduce((function(l,h){return(l=(l<<5)-l+h.charCodeAt(0))&l}),0);var r=0;if(o.length===0)return"";for(var s=0;s<o.length;s++)r=(r<<5)-r+o.charCodeAt(s),r&=r;return this.pp="S"+r},u.prototype.Kn=function(){return this.Xd(0)},u.prototype.fh=function(){return this.su!==null?this.su:this.su=c.gu.yP(this)},u.ZN=2147483645,u.$N=9007199254740990,u})();c.Eg=w})(Q||(Q={})),(function(c){var I=(function(w){function u(){var o=w!==null&&w.apply(this,arguments)||this;return o.Ji=null,o.ST=null,o.Hq=new c.ZL,o.Eo=null,o.jw=null,o}return Me(u,w),u.yP=function(o){var r=new u;if(r.dg=o.dg,r.Ho=o.Ho,r.ZH=o.ZH,r.wh=o.wh,r.wh!==""&&r.wh!==null){o=u.kM(r.wh);var s=u.iM(r.wh);r.Hq.Xx(o,s,c.hu.Integer64),r.by(o),r.gy(s),r.dg=o.$r()}else o=u.jM(r.dg),r.by(o),r.gy(null),r.Hq.Xx(o,null,c.hu.Integer64);return r},u.prototype.Xd=function(o){return this.Hq.Kn(o)},u.iM=function(o){if(0>=o.length)throw c.i.N();var r=null;try{r=c.NC.fromString(o)}catch{r=null}return r==null?null:u.bD(r,!0)},u.prototype.by=function(o){this.Kd=o,this.Eo=this.Kd.Hd()},u.prototype.gy=function(o){this.KH=o,this.ST=this.KH!=null?this.KH.Eo:null},u.prototype.Wc=function(){return this.Sb()!=0&&this.Sb()!=3&&this.Kd.Wc()},u.prototype.IG=function(){return this.Sb()!=0&&(this.Sb()==3?this.Ji.fk().Wc():this.Kd.Wc())},u.prototype.eh=function(){return this.Kd!=null?this.Kd.Ue:null},u.prototype.pm=function(){return this.Kd.pm()},u.prototype.bf=function(){return this.Kd.bf()},u.prototype.hh=function(){return this.Kd!=null?this.Kd.sw:NaN},u.prototype.Up=function(){return this.Kd.Up()},u.prototype.Wr=function(){return this.Kd.Wr()},u.prototype.kk=function(){return this.Kd.kk()},u.prototype.kS=function(o){return c.OC.Py(this.Kd,o.Kd)},u.prototype.ml=function(){return this.Kd.ml()},u.prototype.Vr=function(){return this.Kd.Vr()},u.prototype.zi=function(){return this.Sb()==3?this.Ji.fk().zi():this.Kd.zi()},u.prototype.gh=function(){if(!this.Wc())throw c.i.N("!isPannable()");var o=new c.l;return this.Kd.gh(o),o},u.prototype.Oe=function(){if(!this.Wc())throw c.i.N("!isPannable()");return this.Kd.so},u.prototype.HR=function(){if(!this.Wc())throw c.i.N("!isPannable()");var o=new c.l;return this.Kd.GR(o),o},u.prototype.pv=function(){if(!this.Wc())throw c.i.N("!isPannable()");return this.Kd.pv()},u.prototype.ov=function(){if(!this.Wc())throw c.i.N("!isPannable()");return this.Kd.ov()},u.prototype.Xr=function(){return this.Ji!=null?this.Ji.fk().Xr():this.Kd.Xr()},u.prototype.PQ=function(){return this.Kd.hv()},u.prototype.Qp=function(){return this.Eo.getUnitFactor()},u.prototype.vz=function(o){return this.Hq.vz(o)},u.prototype.sc=function(){var o=this.Sb();if(o==1)return this;if(o==3)return this.Ji.fk().sc();if(o==0||o===4)throw c.i.fa("invalid call");if(this.jw!==null)return this.jw;if((o=this.eh().getGeogcs())==null)throw c.i.Qa();return this.jw=u.bF(o,this.Hq.VF())},u.bF=function(o,r){if(o==null)throw c.i.N("null pointer.");var s=new u;return o=u.mu(o,!0),s.Hq.Xx(o,null,r),s.by(o),s.gy(null),s.dg=o.$r(),s},u.prototype.Sb=function(){var o=this.eh();if(o!=null)switch(o.getType()){case c.Sc.PE_TYPE_GEOGCS:return 1;case c.Sc.PE_TYPE_PROJCS:return 2}return 4},u.prototype.hv=function(){return this.Kd.hv()},u.mu=function(o,r){var s=o.getCode();if(0>=s&&0<(s=c.pf.getCode(o))){if((o=c.pf.coordsys(s))==null)throw c.i.N("Text to wkid mapping had failed: "+s);return u.mu(o,r)}if(r&&0<s&&(r=u.qx[s]))return r;r=c.zb.xv(o,s,!1);var l=u.lK[r];return l||(o=0>=s?o:c.pf.coordsys(s),o=new c.OC(o),u.lK[r]=o,0<s&&(u.qx[s]=o),o)},u.jM=function(o){if(0>=o)throw c.i.N("Invalid or unsupported wkid: "+o);var r=u.qx[o];if(r!=null)return r;if((r=c.pf.coordsys(o))==null)throw c.i.N("Invalid or unsupported wkid: "+o);return(r=u.mu(r,!1)).$r()!=o&&(u.qx[o]=r),r},u.kM=function(o){if(o==null||o===void 0||o.length==0)throw c.i.N("Cannot create SpatialReference from null or empty text.");var r=null;try{r=c.pf.fromString(c.Sc.PE_TYPE_COORDSYS,o)}catch(s){throw c.i.N("Cannot create SpatialReference from text. "+s.message)}if(r===null)throw c.i.N("Cannot create SpatialReference from text. ");return u.mu(r,!0)},u.bD=function(o,r){var s,l=o.getCode();if(0>=l&&0<(l=c.pf.getCode(o))){if((l=c.pf.vertcs(l))===null)throw c.i.N();return u.bD(l,r)}if(r&&0<l&&(r=u.kK[l])||(o=c.zb.xv(o,l,!1),r=u.mK[o]))return r;if(0>=l||(s=c.pf.vertcs(l)),s===null)throw c.i.N();return s=new c.PL(s),u.mK[o]=s,0<l&&(u.kK[l]=s),s},u.sI=function(o,r){if(r===null||r.B())return null;var s=new c.l;if(r!==null&&o.Sb()!=1){var l=o.sc(),h=l.eh();o=c.vr.Nr(o,l,null,null),(r=c.Hx.local().V(r,o,null)).A(s)}else h=o.eh(),r.A(s);return r=h.getPrimem().getLongitude(),h=h.getUnit().getUnitFactor(),new c.LC(s.v,s.G,s.C,s.H,r,h)},u.lD=function(o){var r={name:"",steps:[],_pt:null,_entry:null},s=0;for(o=o.getEntries();s<o.length;s++){var l=o[s],h={LY:!1,ZY:"",YY:-1,geogtran:null};l.getDirection()===0?h.isInverse=!1:h.isInverse=!0;var f=l.getGeogtran().getCode();-1<f?h.wkid=f:h.wkt=l.getGeogtran().toString(),r.steps.push(h)}return r},u.XR=function(o,r,s,l){return s===void 0&&(s=null),s=u.sI(l,s),o=c.lp.getGTlist(o.eh(),r.eh(),2,c.lp.PE_GTLIST_OPTS_COMMON,s,1),r=null,o&&0<o.length&&(r=this.lD(o[0]),c.Mx.destroy(o)),s!==null&&s.destroy(),r},u.YR=function(o,r,s,l){var h;if(s===void 0&&(s=null),l===void 0&&(l=null),h===void 0&&(h=30),s=u.sI(l,s),o=c.lp.getGTlist(o.eh(),r.eh(),2,c.lp.PE_GTLIST_OPTS_COMMON,s,h),r=[],o&&0<o.length){for(h=0;h<o.length;h++)r.push(this.lD(o[h]));c.Mx.destroy(o)}return s!==null&&s.destroy(),r},u.qx={},u.lK={},u.kK={},u.mK={},u})(c.Eg);c.gu=I})(Q||(Q={})),(function(c){var I,w;(w=I=c.hu||(c.hu={}))[w.Integer32=0]="Integer32",w[w.Integer64=1]="Integer64",w[w.FloatingPoint=2]="FloatingPoint";var u=(function(){function o(){this.qp()}return o.prototype.assign=function(r){this.Fm=r.Fm,this.Gm=r.Gm,this.Pj=r.Pj,this.sA=r.sA,this.Fo=r.Fo,this.rA=r.rA,this.Ik=r.Ik,this.Mq=r.Mq,this.Lq=r.Lq,this.Rm=r.Rm},o.prototype.VF=function(){return this.Rm},o.prototype.qp=function(){this.Gm=this.Fm=0,this.Pj=1,this.sA=0,this.Fo=1,this.rA=0,this.Lq=this.Mq=this.Ik=2220446049250313e-29,this.Rm=I.FloatingPoint},o.prototype.Xx=function(r,s,l){if(this.qp(),this.Rm=l,l!=I.FloatingPoint){var h=new c.l;r.hR(h),this.Fm=h.v,this.Gm=h.G}else this.Gm=this.Fm=-17976931348623157e292;(h=r.Ue.getType())==c.Sc.PE_TYPE_GEOGCS?(h=(l==I.Integer64?1e-9:1/18e5)*r.bf(),this.Pj=1/h):h==c.Sc.PE_TYPE_PROJCS&&(h=(l==I.Integer64?1e-4:.001)*r.pm(),this.Pj=1/h),s!=null?(h=(l==I.Integer32?.001:1e-4)*s.IH,this.Fo=1/h):this.Fo=1e4,this.YM(),this.Ik=r.sw,this.Mq=s!=null?.001*s.IH:.001,this.Lq=2220446049250313e-29},o.prototype.YM=function(){if(this.Rm!=I.FloatingPoint){var r=this.Rm==I.Integer64?c.Eg.$N:c.Eg.ZN,s=r/this.Pj,l=this.Fm+s,h=c.O.truncate((l-this.Fm)*this.Pj);h>r&&(this.Pj=r/(l-this.Fm)),s=this.Gm+s,(h=c.O.truncate((s-this.Gm)*this.Pj))>r&&(this.Pj=r/(s-this.Gm))}},o.prototype.aC=function(r){switch(r){case 0:this.Ik=void 0;case 1:this.Mq=void 0;case 2:this.Lq=void 0}},o.prototype.Kn=function(r){switch(r){case 0:return this.Ik;case 1:return this.Mq;case 2:return this.Lq}return 0},o.prototype.vz=function(r){if(this.Rm==I.FloatingPoint)return 0;switch(r){case 0:return 1/this.Pj;case 1:case 2:return 1/this.Fo;default:return 0}},o.prototype.toString=function(){var r="SRPD [m_toleranceXY: "+this.Ik.toString();return(r=(r=(r=(r=(r=(r=(r=(r=(r=r+";m_falseX: "+this.Fm.toString())+";m_falseY: "+this.Gm.toString())+";m_unitsXY: "+this.Pj.toString())+";m_falseZ: "+this.sA.toString())+";m_unitsZ: "+this.Fo.toString())+";m_falseM: "+this.rA.toString())+";m_toleranceZ: "+this.Mq.toString())+";m_toleranceM: "+this.Lq.toString())+";m_precision: "+this.Rm.toString())+"] "},o})();c.ZL=u})(Q||(Q={})),(function(c){function I(l,h){return 89.99999<h?h=89.99999:-89.99999>h&&(h=-89.99999),h*=.017453292519943,[111319.49079327169*l,31890685e-1*Math.log((1+Math.sin(h))/(1-Math.sin(h)))]}function w(l,h,f){return l=l/6378137*57.29577951308232,f?[l,57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*h/6378137)))]:[l-360*Math.floor((l+180)/360),57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*h/6378137)))]}function u(l,h,f){var p=l.Of();if(l.getType()===33)h=h(p.Lg(),p.ih()),p.Cb(h[0],h[1]);else if(l.getType()===197){var g=h(l.es(),l.gs(),f);h=h(l.ds(),l.fs(),f),p.K(g[0],g[1],h[0],h[1])}else for(g=new c.h,l=0;l<p.I();l++){p.D(l,g);var _=h(g.x,g.y,f);g.ma(_[0],_[1]),p.Cb(l,g)}return p}function o(l){return u(l,w,!0)}function r(l){return u(l,I,!0)}var s=Math.PI/180;c.UK=(function(){function l(){}return l.vu=function(h){var f=Math.sqrt(.006694379990197414),p=Math.sin(h.y*s);return c.h.construct(6378137*h.x*s,3.1677196636462314e6*(p/(1-.006694379990197414*p*p)-1/(2*f)*Math.log((1-f*p)/(1+f*p))))},l.Vx=function(h,f,p,g){var _=.0033528106647474805,M=Math.sin(p);p=Math.cos(p);var R=(1-_)*Math.tan(h),$=R*(h=1/Math.sqrt(1+R*R)),P=Math.atan2(R,p),j=(R=h*M)*R,F=1-j,V=27233160610754688e-5*F/4040829998466145e-2,W=1+V/16384*(4096+V*(V*(320-175*V)-768)),q=V/1024*(256+V*(V*(74-47*V)-128));V=g/(635675231424518e-8*W);for(var J,nt,st,ct=2*Math.PI;1e-12<Math.abs(V-ct);)st=Math.cos(2*P+V),ct=V,V=g/(635675231424518e-8*W)+q*(J=Math.sin(V))*(st+q/4*((nt=Math.cos(V))*(2*st*st-1)-q/6*st*(4*J*J-3)*(4*st*st-3)));return g=$*J-h*nt*p,F=_/16*F*(4+_*(4-3*F)),c.h.construct((f+(Math.atan2(J*M,h*nt-$*J*p)-(1-F)*_*R*(V+F*J*(st+F*nt*(2*st*st-1)))))/s,Math.atan2($*nt+h*J*p,(1-_)*Math.sqrt(j+g*g))/s)},l.MM=function(h,f,p,g){var _=.0033528106647474805,M=g-f,R=Math.atan((1-_)*Math.tan(h)),$=Math.atan((1-_)*Math.tan(p)),P=Math.sin(R);R=Math.cos(R);var j=Math.sin($);$=Math.cos($);var F=M,V=1e3;do{var W=Math.sin(F),q=Math.cos(F),J=Math.sqrt($*W*$*W+(R*j-P*$*q)*(R*j-P*$*q));if(J===0)return 0;q=P*j+R*$*q;var nt=Math.atan2(J,q),st=R*$*W/J,ct=1-st*st;W=q-2*P*j/ct,isNaN(W)&&(W=0);var bt=_/16*ct*(4+_*(4-3*ct)),Tt=F;F=M+(1-bt)*_*st*(nt+bt*J*(W+bt*q*(2*W*W-1)))}while(1e-12<Math.abs(F-Tt)&&0<--V);return V===0?(P=g-f,{azimuth:Math.atan2(Math.sin(P)*Math.cos(p),Math.cos(h)*Math.sin(p)-Math.sin(h)*Math.cos(p)*Math.cos(P)),geodesicDistance:6371008771415059e-9*Math.acos(Math.sin(h)*Math.sin(p)+Math.cos(h)*Math.cos(p)*Math.cos(g-f))}):(f=(h=27233160610754688e-5*ct/4040829998466145e-2)/1024*(256+h*(h*(74-47*h)-128)),{azimuth:Math.atan2($*Math.sin(F),R*j-P*$*Math.cos(F)),YQ:635675231424518e-8*(1+h/16384*(4096+h*(h*(320-175*h)-768)))*(nt-f*J*(W+f/4*(q*(2*W*W-1)-f/6*W*(4*J*J-3)*(4*W*W-3)))),XY:Math.atan2(R*Math.sin(F),R*j*Math.cos(F)-P*$)})},l.jQ=function(h){var f=h.hasAttribute(1),p=h.hasAttribute(2),g=[],_=h.da(),M=null,R=null;f&&(M=h.ub(1)),p&&(R=h.ub(2));for(var $=new c.h,P=0;P<_;P++){for(var j=h.Ba(P),F=h.Ja(P),V=0,W=0,q=NaN,J=NaN,nt=NaN,st=NaN,ct=h.dc(P),bt=[],Tt=j;Tt<j+F;Tt++){h.D(Tt,$),st=nt=NaN;var Ut=[$.x,$.y];f&&(nt=M.get(Tt),Ut.push(nt)),p&&(_=R.get(Tt),Ut.push(st)),Tt==j&&ct&&(V=$.x,W=$.y,q=nt,J=st),bt.push(Ut)}!ct||V==$.x&&W==$.y&&(!f||isNaN(q)&&isNaN(nt)||q==nt)&&(!p||isNaN(J)&&isNaN(st)||J==st)||bt.push(bt[0].slice(0)),g.push(bt)}return g},l.Wy=function(h,f){h=l.jQ(h),637.100877141506>f&&(f=637.100877141506);for(var p,g=[],_=0;_<h.length;_++){var M,R,$=h[_];g.push(p=[]),p.push([$[0][0],$[0][1]]);var P=$[0][0]*s,j=$[0][1]*s;for(M=0;M<$.length-1;M++){var F=$[M+1][0]*s,V=$[M+1][1]*s;if(P!==F||j!==V){F=(V=l.MM(j,P,V,F)).azimuth;var W=(V=V.YQ)/f;if(1<W){for(R=1;R<=W-1;R++){var q=l.Vx(j,P,F,R*f);p.push([q.x,q.y])}R=l.Vx(j,P,F,(V+Math.floor(W-1)*f)/2),p.push([R.x,R.y])}j=l.Vx(j,P,F,V),p.push([j.x,j.y]),P=j.x*s,j=j.y*s}}}return{qJ:g}},l.XQ=function(h){for(var f=[],p=0;p<h.length;p++){var g=h[p];g=l.Wy(g,1e4),f.push(g)}h=[];for(var _=0;_<f.length;_++){g=f[_];var M=0;for(p=0;p<g.qJ.length;p++){var R,$=g.qJ[p],P=l.vu(c.h.construct($[0][0],$[0][1])),j=l.vu(c.h.construct($[$.length-1][0],$[$.length-1][1])),F=j.x*P.y-P.x*j.y;for(R=0;R<$.length-1;R++)P=l.vu(c.h.construct($[R+1][0],$[R+1][1])),F+=(j=l.vu(c.h.construct($[R][0],$[R][1]))).x*P.y-P.x*j.y;M+=F}M/=1,h.push(M/-2)}return h},l})(),c.cb=(function(){function l(){}return l.xB=function(h,f,p,g,_,M,R){l.gD[h.cc()]=f,isNaN(p)==0&&(l.mD[h.cc()]=p),isNaN(g)==0&&(l.zD[h.cc()]=g),isNaN(_)==0&&(l.aD[h.cc()]=_),l.nD[h.cc()]=M,R!==null&&(l.oD[h.cc()]=R)},l.Ww=function(h,f,p){l.sD[h.cc()+"-"+f.cc()]=p},l.sc=function(h){if((h=l.gD[h.cc()])==null)throw c.i.Ie();return h},l.bf=function(h){if((h=l.mD[h.cc()])==null)throw c.i.Ie();return h},l.vv=function(h){if((h=l.zD[h.cc()])==null)throw c.i.Ie();return h},l.ev=function(h){if((h=l.aD[h.cc()])==null)throw c.i.Ie();return h},l.gh=function(h){if((h=l.oD[h.cc()])==null)throw c.i.Ie();return c.l.construct(h[0],h[1],h[2],h[3])},l.Wc=function(h){if((h=l.nD[h.cc()])==null)throw c.i.Ie();return h},l.zh=function(h,f,p){if(f.Nb(p))return h;var g=l.sD[f.cc()+"-"+p.cc()];if(g!==void 0)return g(h,f,p);throw c.i.Ie()},l.vt=function(){throw c.i.Ie()},l.bR=function(){throw c.i.Ie()},l.dW=function(){throw c.i.Ie()},l.ml=function(){throw c.i.Ie()},l.sW=function(){var h=c.Eg.create(102100),f=c.Eg.create(3857),p=c.Eg.create(4326);c.cb.xB(h,p,NaN,NaN,NaN,!1,null),c.cb.xB(p,p,1,.0033528106647474805,6378137,!0,[-180,-90,180,90]),c.cb.xB(f,p,NaN,NaN,NaN,!1,null),c.cb.Ww(h,p,o),c.cb.Ww(p,h,r),c.cb.Ww(f,p,o),c.cb.Ww(p,f,r)},l.gD=[],l.mD=[],l.zD=[],l.aD=[],l.nD=[],l.oD=[],l.sD=[],l})()})(Q||(Q={})),Q.cb.sW(),(function(c){var I=(function(){function w(u){this.o=new Int32Array(0),this.io=-1,this.Hg=this.size=this.Bl=0,this.stride=u}return w.prototype.jd=function(u){u<this.Bl?(this.o[u*this.stride]=this.io,this.io=u):this.Bl--,this.size--},w.prototype.T=function(u,o){return this.o[u*this.stride+o]},w.prototype.S=function(u,o,r){this.o[u*this.stride+o]=r},w.prototype.Ce=function(){var u=this.io;if(u==-1){if(this.Bl==this.Hg){if(2147483647<(u=this.Hg!=0?c.O.truncate(3*(this.Hg+1)/2):1)&&(u=2147483647),u==this.Hg)throw c.i.ce();this.Dz(u)}u=this.Bl,this.Bl++}else this.io=this.o[u*this.stride];this.size++;for(var o=u*this.stride;o<u*this.stride+this.stride;o++)this.o[o]=-1;return u},w.prototype.Ll=function(u){var o=this.io;if(o==-1){if(this.Bl==this.Hg){if(2147483647<(o=this.Hg!=0?c.O.truncate(3*(this.Hg+1)/2):1)&&(o=2147483647),o==this.Hg)throw c.i.ce();this.Dz(o)}o=this.Bl,this.Bl++}else this.io=this.o[o*this.stride];this.size++;for(var r=o*this.stride,s=0;s<u.length;s++)this.o[r+s]=u[s];return o},w.prototype.mj=function(u){this.io=-1,this.size=this.Bl=0,u&&(this.o=null,this.Hg=0)},w.prototype.De=function(u){u>this.Hg&&this.Dz(u)},w.prototype.tx=function(u,o){u*=this.stride,o*=this.stride;for(var r=0;r<this.stride;r++){var s=this.o[o+r];this.o[o+r]=this.o[u+r],this.o[u+r]=s}},w.prototype.gC=function(u,o,r){var s=this.o[this.stride*o+r];this.o[this.stride*o+r]=this.o[this.stride*u+r],this.o[this.stride*u+r]=s},w.LG=function(u){return 0<=u},w.prototype.Dz=function(u){this.o==null&&(this.o=new Int32Array(0));var o=new Int32Array(this.stride*u);o.set(this.o,0),this.o=o,this.Hg=u},w})();c.$c=I})(Q||(Q={})),(function(c){var I,w;(w=I||(I={}))[w.enumInputModeBuildGraph=0]="enumInputModeBuildGraph",w[w.enumInputModeSimplifyAlternate=4]="enumInputModeSimplifyAlternate",w[w.enumInputModeSimplifyWinding=5]="enumInputModeSimplifyWinding",w[w.enumInputModeIsSimplePolygon=7]="enumInputModeIsSimplePolygon";var u=(function(){function r(s){this.Be=s,this.yh=NaN,this.eH=new c.ig,this.fH=new c.ig,this.ms=new c.Nc,this.ns=new c.Nc}return r.prototype.compare=function(s,l,h){if(s=s.ja(h),this.Be.pB(l,this.eH),this.Be.pB(s,this.fH),l=this.eH.get(),s=this.fH.get(),this.ms.K(l.sa,l.pa),this.ns.K(s.sa,s.pa),this.ms.va<this.ns.oa)return-1;if(this.ms.oa>this.ns.va)return 1;h=l.na==l.la;var f=s.na==s.la;if(h||f){if(h&&f)return 0;if(l.na==s.na&&l.sa==s.sa)return h?1:-1;if(l.la==s.la&&l.pa==s.pa)return h?-1:1}return(h=l.Pe(this.yh,this.ms.oa))==(f=s.Pe(this.yh,this.ns.oa))&&((f=.5*((h=Math.min(l.la,s.la))+this.yh))==this.yh&&(f=h),h=l.Pe(f,this.ms.oa),f=s.Pe(f,this.ns.oa)),h<f?-1:h>f?1:0},r.prototype.aK=function(s){this.yh=s},r})(),o=(function(){function r(s){this.ib=s,this.WH=new c.ig,this.Bf=new c.h,this.wA=new c.Nc}return r.prototype.kX=function(s){this.Bf.L(s)},r.prototype.compare=function(s,l){return this.ib.pB(s.ja(l),this.WH),s=this.WH.get(),this.wA.K(s.sa,s.pa),this.Bf.x<this.wA.oa?-1:this.Bf.x>this.wA.va?1:(s=s.Pe(this.Bf.y,this.Bf.x),this.Bf.x<s?-1:this.Bf.x>s?1:0)},r})();I=(function(){function r(){this.hH=this.Di=this.Gi=this.kA=this.Yn=this.ye=this.Kc=this.jh=this.ge=null,this.Go=this.xg=-1,this.gH=!0,this.pA=!1,this.lA=NaN,this.Ni=new c.Md,this.bO=2147483647,this.aO=c.O.truncate(-2147483648),this.cg=this.ae=this.Hl=this.Cq=this.Cm=this.Bq=this.Os=this.Re=-1,this.wa=0}return r.prototype.yy=function(s){this.lA=s},r.prototype.Ym=function(){this.ge==null&&(this.ge=new c.$c(8));var s=this.ge.Ce();return this.ge.S(s,1,0),s},r.prototype.vU=function(){this.Kc==null&&(this.Kc=new c.$c(8));var s=this.Kc.Ce();this.Kc.S(s,2,0),this.Kc.S(s,3,0);var l=this.Kc.Ce();return this.Kc.S(l,2,0),this.Kc.S(l,3,0),this.JJ(s,l),this.JJ(l,s),s},r.prototype.mI=function(){this.ye==null&&(this.ye=new c.$c(8));var s=this.ye.Ce();return this.ye.S(s,2,0),s},r.prototype.TW=function(s,l){this.ge.S(s,7,l)},r.prototype.mn=function(s,l){this.ge.S(s,2,l)},r.prototype.SW=function(s,l){this.ge.S(s,1,l)},r.prototype.lX=function(s,l){this.ge.S(s,3,l)},r.prototype.iX=function(s,l){this.ge.S(s,4,l)},r.prototype.cr=function(s,l){this.ge.S(s,5,l)},r.prototype.eR=function(s){return this.ge.T(s,5)},r.prototype.RW=function(s,l){this.ge.S(s,6,l)},r.prototype.cN=function(s,l){this.RW(l,s)},r.prototype.IJ=function(s,l){this.Kc.S(s,1,l)},r.prototype.JJ=function(s,l){this.Kc.S(s,4,l)},r.prototype.Tl=function(s,l){this.Kc.S(s,5,l)},r.prototype.Sl=function(s,l){this.Kc.S(s,6,l)},r.prototype.$W=function(s,l){this.Kc.S(s,2,l)},r.prototype.$w=function(s,l){this.Kc.S(s,3,l)},r.prototype.LF=function(s){return this.Kc.T(s,3)},r.prototype.Gt=function(s,l){this.Kc.S(s,7,l)},r.prototype.EK=function(s,l){if(this.mm(s)!=-1)for(l=l?-1:s,s=this.mm(s);s!=-1;s=this.js(s))this.g.Ra(this.tj(s),this.Cq,l)},r.prototype.yx=function(s,l){s!=-1&&(this.EK(s,l),this.EK(this.xa(s),l))},r.prototype.Dt=function(s,l){this.ye.S(s,1,l)},r.prototype.Vg=function(s,l){this.ye.S(s,2,l)},r.prototype.jn=function(s,l){this.ye.S(s,3,l),this.NW(s,this.dR(l)),this.MW(l,s)},r.prototype.MW=function(s,l){this.ye.S(s,4,l)},r.prototype.NW=function(s,l){this.ye.S(s,5,l)},r.prototype.DJ=function(s,l){this.ye.S(s,6,l)},r.prototype.BJ=function(s,l){this.ye.S(s,7,l)},r.prototype.AJ=function(s,l){this.Yn.write(s,l)},r.prototype.CJ=function(s,l){this.kA.write(s,l)},r.prototype.kY=function(s){var l=0,h=0,f=this.AF(s),p=new c.h,g=new c.h,_=new c.h;this.Yr(f,p),g.L(p);var M=f;do this.lm(M,_),h+=c.h.tb(g,_),this.$e(this.xa(M))!=s&&(l+=(_.x-p.x-(g.x-p.x))*(_.y-p.y+(g.y-p.y))*.5),g.L(_),M=this.jc(M);while(M!=f);this.Yn.write(s,l),this.kA.write(s,h)},r.prototype.PU=function(s,l){var h=new u(this),f=new c.Yj;f.De(c.O.truncate(this.wa/2)),f.Vo(h);for(var p=new c.ia(0),g=this.$g(),_=null,M=0,R=new c.h,$=this.Re;$!=-1;$=this.Rf($)){if(!(255&++M||l==null||l.progress(-1,-1)))throw c.i.WC();var P=this.Me($);if(P!=-1){if(p.Bh(0),!this.gY(f,g,p,P)){this.D($,R),h.aK(R.y);var j=P;do{var F=this.Ab(j,g);F!=-1&&(f.vd(F,-1),this.Kb(j,g,-2)),j=this.jc(this.xa(j))}while(P!=j);j=P;do(F=this.Ab(j,g))==-1&&(F=f.addElement(j,-1),p.add(F)),j=this.jc(this.xa(j));while(P!=j)}for(P=p.size-1;0<=P;P--)F=p.get(P),j=f.ja(F),this.Kb(this.xa(j),g,F),this.OU(f,F,s)}else this.cz($)==-1&&(_==null&&(_=new o(this)),this.D($,R),_.kX(R),j=f.IW(_),P=this.Hl,j!=-1&&(F=f.ja(j),this.$e(F)==this.$e(this.xa(F))&&(F=this.OF(f,j)),F!=-1&&(P=this.$e(F))),this.cN(P,$))}this.Jg(g)},r.prototype.OU=function(s,l,h){var f=s.ja(l),p=this.$e(f);if(this.Gn(p)==-1){var g=this.OF(s,l),_=this.xa(f),M=this.$e(_);this.Kp(p),this.Kp(M);var R=this.Gn(p),$=this.Gn(M);if(g==-1&&R==-1&&(M==p?(this.jn(M,this.Hl),R=$=this.Hl):($==-1&&(this.jn(M,this.Hl),$=this.Hl),this.jn(p,M),R=M)),g!=-1){var P=this.$e(g);$==-1&&(0>=this.Kp(P)?($=this.Gn(P),this.jn(M,$)):(this.jn(M,P),$=P),M==p&&(R=$))}R==-1&&this.hY(p,M),h==0?this.jW(s,l,f,g,p,M):h==5?this.kW(s,l,f,_,p,M):h==4&&this.iW(f,g,p,M)}},r.prototype.jW=function(s,l,h,f,p,g){var _=this.hk(p);if(f!=-1){var M=this.hk(g),R=this.hk(this.$e(f));f=_&M&R,R^=R&this.dh(h),(R|=f)!=0&&(this.Vg(g,M|R),this.Vg(p,R|_),_=_||R)}for(l=s.lb(l);l!=-1&&(f=s.ja(l),h=this.$e(this.xa(f)),p=this.hk(h),g=this.dh(f),M=this.$e(f),f=p&(R=this.hk(M))&_,_^=_&g,(_|=f)!=0);l=s.lb(l))this.Vg(h,p|_),this.Vg(M,R|_)},r.prototype.kW=function(s,l,h,f,p,g){if(p!=g){h=this.Ab(h,this.cg),h+=this.Ab(f,this.cg),f=0;var _=new c.ia(0),M=new c.ia(0);M.add(0);for(var R=s.rc(-1);R!=l;R=s.lb(R)){var $=s.ja(R),P=this.xa($),j=this.$e($),F=this.$e(P);if(j!=F){if($=this.Ab($,this.cg),f+=$+=this.Ab(P,this.cg),P=!1,_.size!=0&&_.Fc()==F&&(M.If(),_.If(),P=!0),this.Gn(F)==-1)throw c.i.Qa();P&&this.Gn(F)==j||(M.add(f),_.add(j))}}f+=h,_.size!=0&&_.Fc()==g&&(M.If(),_.If()),f!=0?M.Fc()==0&&(s=this.g.ld,s=this.La(s),this.Vg(p,s)):M.Fc()!=0&&(s=this.g.ld,s=this.La(s),this.Vg(p,s))}},r.prototype.iW=function(s,l,h,f){var p=this.La(this.g.ld);if(l==-1)this.Vg(f,this.Go),1&(s=this.Ab(s,this.xg))?this.Vg(h,p):this.Vg(h,this.Go);else{var g=this.hk(f);g==0?(g=this.hk(this.$e(l)),this.Vg(f,g),1&(s=this.Ab(s,this.xg))?this.Vg(h,g==p?this.Go:p):this.Vg(h,g)):1&(s=this.Ab(s,this.xg))?this.Vg(h,g==p?this.Go:p):this.Vg(h,g)}},r.prototype.gY=function(s,l,h,f){var p=f,g=-1,_=-1,M=0;do{if(M==2)return!1;var R=this.Ab(p,l);if(R!=-1){if(g!=-1)return!1;g=R}else{if(_!=-1)return!1;_=p}M++,p=this.jc(this.xa(p))}while(f!=p);return _!=-1&&g!=-1&&(this.Kb(s.ja(g),l,-2),s.Sj(g,_),h.add(g),!0)},r.prototype.hY=function(s,l){var h=this.Kp(s);if(h!=0){var f=this.Kp(l);0<h&&0>f||0>h&&0<f?this.jn(s,l):(l=this.Gn(l))!=-1&&this.jn(s,l)}},r.prototype.vP=function(s,l){this.Cq=this.g.Gd();for(var h=0,f=l.size;h<f;h++){var p=l.get(h),g=this.g.Pa(p,this.Cm),_=this.g.Qf(this.g.bd(p)),M=this.g.ic(_);if(c.aa.Hc(M)){var R=this.g.U(p);if(R!=-1){var $=this.g.Pa(R,this.Cm);if(g!=$){var P=this.vU(),j=this.xa(P),F=this.jh.Ce();this.jh.S(F,0,p),this.jh.S(F,1,-1),this.Gt(P,F),this.IJ(P,g),(F=this.Me(g))==-1?(this.mn(g,P),this.Tl(P,j),this.Sl(j,P)):(g=this.te(F),this.Tl(F,j),this.Sl(j,F),this.Sl(g,P),this.Tl(P,g)),this.IJ(j,$),(g=this.Me($))==-1?(this.mn($,j),this.Sl(P,j),this.Tl(j,P)):($=this.te(g),this.Tl(g,P),this.Sl(P,g),this.Sl($,j),this.Tl(j,$)),_=this.La(_),s==0?(this.Kb(j,this.ae,0),this.Kb(P,this.ae,M==1736?_:0)):s==5?($=new c.h,this.g.D(p,$),p=new c.h,this.g.D(R,p),g=R=0,0>$.compare(p)?R=1:g=-1,this.Kb(j,this.ae,0),this.Kb(P,this.ae,0),this.Kb(P,this.cg,R),this.Kb(j,this.cg,g)):s==7?(this.Kb(j,this.ae,this.Go),this.Kb(P,this.ae,M==1736?_:0)):s==4&&(this.Kb(j,this.ae,0),this.Kb(P,this.ae,0),this.Kb(P,this.xg,1),this.Kb(j,this.xg,1)),M=M==1736?this.aO:0,this.$w(P,_|M),this.$w(j,_|M)}}}}},r.prototype.VT=function(s,l){var h=this.mm(l);if(h!=-1){var f=this.mm(s);this.jh.S(h,1,f),this.Gt(s,h),this.Gt(l,-1)}s=this.xa(s),l=this.xa(l),(h=this.mm(l))!=-1&&(f=this.mm(s),this.jh.S(h,1,f),this.Gt(s,h),this.Gt(l,-1))},r.prototype.IX=function(s){function l(nt,st){return f.HO(nt,st)}var h=new c.ia(0);h.Jb(10);for(var f=this,p=this.Re;p!=-1;p=this.Rf(p)){h.clear(!1);var g=this.Me(p);if(g!=-1){var _=g;do h.add(_),_=this.jc(this.xa(_));while(_!=g);if(1<h.size){if(_=!0,2<h.size)h.Vd(0,h.size,l),h.add(h.get(0));else if(0<this.GO(h.get(0),h.get(1))){var M=h.get(0);h.set(0,h.get(1)),h.set(1,M)}else _=!1;for(var R=M=h.get(0),$=this.uf(R),P=this.xa(R),j=-1,F=1,V=h.size;F<V;F++){var W=h.get(F),q=this.xa(W),J=this.jk(q);if(J==$&&W!=R){if(s==0)j=this.LF(R)|this.LF(W),this.$w(R,j),this.$w(P,j),this.Kb(R,this.ae,this.Ab(R,this.ae)|this.Ab(W,this.ae)),this.Kb(P,this.ae,this.Ab(P,this.ae)|this.Ab(q,this.ae));else if(this.cg!=-1)j=this.Ab(R,this.cg)+this.Ab(W,this.cg),q=this.Ab(P,this.cg)+this.Ab(q,this.cg),this.Kb(R,this.cg,j),this.Kb(P,this.cg,q);else{if(s==7)return void(this.Ni=new c.Md(5,p,-1));this.xg!=-1&&(j=this.Ab(R,this.xg)+this.Ab(W,this.xg),q=this.Ab(P,this.xg)+this.Ab(q,this.xg),this.Kb(R,this.xg,j),this.Kb(P,this.xg,q))}this.VT(R,W),this.Ly(W),j=R,h.set(F,-1),W==M&&(h.set(0,-1),M=-1)}else this.yx(j,!1),j=-1,R=W,$=J,P=q}if(this.yx(j,!1),j=-1,_){for(M=-1,F=0,V=h.size;F<V;F++)if((W=h.get(F))!=-1){if(M==-1)R=M=W,$=this.uf(R),P=this.xa(R);else if(W!=R&&(q=this.xa(W),J=this.jk(q),this.Sl(P,W),this.Tl(W,P),R=W,$=J,P=q,s==7&&(this.Ab(W,this.ae)|this.Ab(this.te(W),this.ae))==(1|this.Go)))return void(this.Ni=new c.Md(5,p,-1))}this.mn(p,M)}else{for(M=-1,F=0,V=h.size;F<V;F++)if((W=h.get(F))!=-1){M=W;break}g!=M&&this.mn(p,M)}}}}},r.prototype.WN=function(){for(var s=-1,l=this.$g(),h=this.Re;h!=-1;h=this.Rf(h)){var f=this.Me(h);if(f!=-1){var p=f;do{if(this.Ab(p,l)!=1){var g=this.mI();this.Dt(g,p),this.BJ(g,s),s!=-1&&this.DJ(s,g),s=g;var _=0,M=p;do _|=this.Ab(M,this.ae),this.$W(M,g),this.Kb(M,l,1),M=this.jc(M);while(M!=p);this.Vg(g,_)}p=this.jc(this.xa(p))}while(p!=f)}}g=this.mI(),this.Dt(g,-1),this.BJ(g,s),s!=-1&&this.DJ(s,g),this.Hl=g,this.Yn=c.be.qf(this.ye.size,NaN),this.kA=c.be.qf(this.ye.size,NaN),this.AJ(this.Hl,1/0),this.CJ(this.Hl,1/0),this.Jg(l)},r.prototype.sR=function(s,l,h){if((l=l!=-1?l:this.Me(s))==-1)return-1;for(s=l;;){if(this.Ab(l,h)!=1)return l;if((l=this.jc(this.xa(l)))==s)return-1}},r.prototype.yW=function(){for(var s=this.$g(),l=this.Re;l!=-1;l=this.Rf(l))for(var h=-1;;){var f=this.sR(l,h,s);if(f==-1)break;h=this.jc(this.xa(f));for(var p=f;;){var g=this.jc(p),_=this.te(p),M=this.xa(p);if(_==M){if(this.IP(p),h!=p&&h!=M||(h=-1),p==f||_==f){if(p==(f=g)||_==f)break;p=g;continue}}else this.Kb(p,s,1);if((p=g)==f)break}}this.Jg(s)},r.prototype.MB=function(s,l,h,f,p){this.Ug(),this.gH=p,this.g=s,this.Bq=this.g.aF(),(s=new c.ia(0)).Jb(h!=null?this.g.I(h.get(0)):this.g.fd);var g=0,_=1,M=h!=null?h.get(0):this.g.ld;for(p=1;M!=-1;){this.g.HJ(M,this.Bq,_),_<<=1;for(var R=this.g.Ob(M);R!=-1;R=this.g.Rb(R))for(var $=this.g.Xa(R),P=0,j=this.g.Ja(R);P<j;P++)s.add($),$=this.g.U($);c.aa.Rn(this.g.ic(M))||(g+=this.g.da(M)),h!=null?(M=p<h.size?h.get(p):-1,p++):M=this.g.ue(M)}for(this.Go=_,this.wa=s.size,this.g.nx(s,this.wa),this.jh==null&&(this.jh=new c.$c(2),this.ge=new c.$c(8),this.Kc=new c.$c(8),this.ye=new c.$c(8)),this.jh.De(this.wa),c.mp.zp(f),this.ge.De(this.wa+10),this.Kc.De(2*this.wa+32),this.ye.De(Math.max(32,g)),this.Cm=this.g.Gd(),h=new c.h,p=0,g=new c.h,h.Rc(),_=0;_<=this.wa;_++)if(_<this.wa?($=s.get(_),this.g.D($,g)):g.Rc(),!h.qb(g)){if(p<_){for($=this.Ym(),j=P=-1;p<_;p++)j=s.get(p),this.g.Ra(j,this.Cm,$),M=this.jh.Ce(),this.jh.S(M,0,j),this.jh.S(M,1,P),P=M,R=this.g.bd(j),M=this.g.Qf(R),M=this.La(M),this.SW($,this.xd($)|M);this.TW($,P),this.cr($,this.g.Ua(j)),this.Os!=-1&&this.iX(this.Os,$),this.lX($,this.Os),this.Os=$,this.Re==-1&&(this.Re=$)}p=_,h.L(g)}c.mp.zp(f),this.ae=this.$g(),l==5&&(this.cg=this.$g()),l==4&&(this.xg=this.$g()),this.vP(l,s),this.Ni.Jj==0&&(this.IX(l),this.Ni.Jj==0&&(isNaN(this.lA)||this.xO()?(this.WN(),this.Ni.Jj==0&&(this.Jg(this.ae),this.ae=-1,this.gH&&this.PU(l,f))):this.pA=!0))},r.prototype.Ly=function(s){var l=this.jc(s),h=this.te(s),f=this.xa(s),p=this.jc(f),g=this.te(f);l!=f&&(this.Sl(g,l),this.Tl(l,g)),h!=f&&(this.Sl(h,p),this.Tl(p,h)),h=this.jk(s),this.Me(h)==s&&(p!=s?this.mn(h,p):this.mn(h,-1)),p=this.jk(f),this.Me(p)==f&&(l!=f?this.mn(p,l):this.mn(p,-1)),this.Kc.jd(s),this.Kc.jd(f)},r.prototype.OF=function(s,l){for(;;){if((l=s.we(l))==-1)return-1;var h=s.ja(l);if(this.$e(h)!=this.$e(this.xa(h)))return h}},r.prototype.dr=function(s,l){var h;h===void 0&&(h=!0),this.MB(s,0,null,l,h)},r.prototype.vJ=function(s,l,h){var f=new c.ia(0);f.add(l),this.MB(s,4,f,h,s.ic(l)==1736)},r.prototype.wJ=function(s,l,h){var f=new c.ia(0);f.add(l),this.MB(s,5,f,h,!0)},r.prototype.Ug=function(){this.g!=null&&(this.Bq!=-1&&(this.g.xW(this.Bq),this.Bq=-1),this.Cm!=-1&&(this.g.Td(this.Cm),this.Cm=-1),this.Cq!=-1&&(this.g.Td(this.Cq),this.Cq=-1),this.ae!=-1&&(this.Jg(this.ae),this.ae=-1),this.cg!=-1&&(this.Jg(this.cg),this.cg=-1),this.xg!=-1&&(this.Jg(this.xg),this.xg=-1),this.g=null,this.ge.mj(!0),this.jh.mj(!0),this.Os=this.Re=-1,this.Kc!=null&&this.Kc.mj(!0),this.Gi!=null&&(this.Gi.length=0),this.Di!=null&&(this.Di.length=0),this.hH!=null&&(this.hH.length=0),this.ye!=null&&this.ye.mj(!0),this.Hl=-1,this.Yn=null)},r.prototype.Me=function(s){return this.ge.T(s,2)},r.prototype.D=function(s,l){this.g.dG(this.eR(s),l)},r.prototype.xd=function(s){return this.ge.T(s,1)},r.prototype.Rf=function(s){return this.ge.T(s,4)},r.prototype.cz=function(s){return this.ge.T(s,6)},r.prototype.km=function(s){return this.ge.T(s,7)},r.prototype.js=function(s){return this.jh.T(s,1)},r.prototype.tj=function(s){return this.jh.T(s,0)},r.prototype.ng=function(s,l){return(l=this.Di[l]).size<=s?-1:l.read(s)},r.prototype.nn=function(s,l,h){(l=this.Di[l]).size<=s&&l.resize(this.ge.size,-1),l.write(s,h)},r.prototype.Dp=function(){this.Di==null&&(this.Di=[]);for(var s=c.ia.qf(this.ge.Hg,-1),l=0,h=this.Di.length;l<h;l++)if(this.Di[l]==null)return this.Di[l]=s,l;return this.Di.push(s),this.Di.length-1},r.prototype.Ep=function(s){this.Di[s]=null},r.prototype.jk=function(s){return this.Kc.T(s,1)},r.prototype.uf=function(s){return this.jk(this.xa(s))},r.prototype.xa=function(s){return this.Kc.T(s,4)},r.prototype.te=function(s){return this.Kc.T(s,5)},r.prototype.jc=function(s){return this.Kc.T(s,6)},r.prototype.$e=function(s){return this.Kc.T(s,2)},r.prototype.af=function(s){return this.hk(this.Kc.T(s,2))},r.prototype.mm=function(s){return this.Kc.T(s,7)},r.prototype.Yr=function(s,l){this.D(this.jk(s),l)},r.prototype.lm=function(s,l){this.D(this.uf(s),l)},r.prototype.dh=function(s){return this.Kc.T(s,3)&this.bO},r.prototype.Ab=function(s,l){return(l=this.Gi[l]).size<=s?-1:l.read(s)},r.prototype.Kb=function(s,l,h){(l=this.Gi[l]).size<=s&&l.resize(this.Kc.size,-1),l.write(s,h)},r.prototype.$g=function(){this.Gi==null&&(this.Gi=[]);for(var s=c.ia.qf(this.Kc.Hg,-1),l=0,h=this.Gi.length;l<h;l++)if(this.Gi[l]==null)return this.Gi[l]=s,l;return this.Gi.push(s),this.Gi.length-1},r.prototype.Jg=function(s){this.Gi[s]=null},r.prototype.IP=function(s){var l=this.$e(s),h=this.xa(s),f=this.jc(s);f==h&&(f=this.jc(f))==s&&(f=-1);var p=this.AF(l);p!==s&&p!=h||this.Dt(l,f),h=this.Yn.read(l),isNaN(h)||(this.AJ(l,NaN),this.CJ(l,NaN)),this.yx(s,!0),this.Ly(s)},r.prototype.JP=function(s){for(var l=0,h=s.size;l<h;l++){var f=s.get(l),p=this.$e(this.xa(f));this.Dt(this.$e(f),-1),this.Dt(p,-1),this.yx(f,!0),this.Ly(f)}},r.prototype.AF=function(s){return this.ye.T(s,1)},r.prototype.hk=function(s){return this.ye.T(s,2)},r.prototype.Gn=function(s){return this.ye.T(s,3)},r.prototype.dR=function(s){return this.ye.T(s,4)},r.prototype.Kp=function(s){var l=this.Yn.read(s);return isNaN(l)&&(this.kY(s),l=this.Yn.read(s)),l},r.prototype.La=function(s){return this.g.KF(s,this.Bq)},r.prototype.Le=function(s){return this.g.Pa(s,this.Cm)},r.prototype.uR=function(s){return this.g.Pa(s,this.Cq)},r.prototype.tR=function(s,l){var h=this.Me(s);if(h==-1)return-1;var f=h,p=-1,g=-1;do{if(this.uf(f)==l)return f;if(p==-1){if((p=this.Me(l))==-1)break;g=p}if(this.uf(g)==s)return this.xa(g);f=this.jc(this.xa(f)),g=this.jc(this.xa(g))}while(f!=h&&g!=p);return-1},r.prototype.pB=function(s,l){l.Or(),l=l.get();var h=new c.h;this.Yr(s,h),l.Dc(h),this.lm(s,h),l.Qc(h)},r.prototype.HO=function(s,l){if(s==l)return 0;var h=new c.h;this.lm(s,h);var f=new c.h;return this.lm(l,f),h.qb(f)?0:(l=new c.h,this.Yr(s,l),(s=new c.h).uc(h,l),(h=new c.h).uc(f,l),c.h.nu(s,h))},r.prototype.GO=function(s,l){if(s==l)return 0;var h=new c.h;this.lm(s,h);var f=new c.h;return this.lm(l,f),h.qb(f)?0:(l=new c.h,this.Yr(s,l),(s=new c.h).uc(h,l),(h=new c.h).uc(f,l),0<=h.y&&0<s.y?c.h.nu(s,h):0)},r.prototype.xO=function(){for(var s=c.lc.ox(this.lA),l=new c.h,h=new c.h,f=new c.h,p=new c.h,g=new c.h,_=this.Re;_!=-1;_=this.Rf(_)){var M=this.Me(_);if(M!=-1){var R=M;this.Yr(R,l),this.lm(R,h),g.uc(h,l);var $=g.Sk();do{var P=R;if((R=this.jc(this.xa(R)))!=P){this.lm(R,f),p.uc(f,l),P=p.Sk();var j=p.wi(g);if(j*j/(P*$)*Math.min(P,$)<=s)return!1;g.L(p),$=P,h.L(f)}}while(R!=M)}}return!0},r})(),c.iu=I})(Q||(Q={})),(function(c){var I=(function(){function w(){this.j=null,this.oH=new c.h,this.pH=new c.h,this.Gj=null,this.Mv=!1,this.tl=-1}return w.prototype.cf=function(u){return u<this.Gj.length&&this.Gj[u]},w.prototype.dl=function(u,o,r,s){var l=c.aa.tf(this.j.g.ic(r));if(c.aa.tf(this.j.g.ic(o))!=2||l!=1)throw c.i.Qa();this.FP(u,o,r,s)},w.prototype.dr=function(u,o){this.j==null&&(this.j=new c.iu),this.j.dr(u,o)},w.prototype.Ft=function(u,o,r){for(c.Tk.V(u,o,r,!0),o=u.ld;o!=-1;o=u.ue(o))u.ic(o)==1736&&c.rn.V(u,o,-1,this.Mv,r);this.dr(u,r)},w.prototype.ME=function(u,o,r,s,l){var h=this.j.g;if(h.ic(u)==1736)for(u=h.Ob(u);u!=-1;u=h.Rb(u)){var f=h.Xa(u);this.j.Le(f),this.j.Le(h.U(f));var p=this.j.uR(f);if(p!=-1){var g=this.j.Ab(p,r);if(g!=1&&g!=2)if(this.cf(this.j.af(p))){this.j.Kb(p,r,1),g=h.vf(o,-1);var _=p,M=this.j.Le(f),R=1;do{var $=this.sm(f,l);h.ij(g,$),s!=-1&&this.j.nn(M,s,1),this.j.Kb(_,r,1),_=this.j.jc(_);do var P=($=R==1?h.U(f):h.Ma(f))!=-1?this.j.Le($):-1;while(P==M);var j=this.j.jk(_);if(j!=P){do P=($=R==1?h.Ma(f):h.U(f))!=-1?this.j.Le($):-1;while(P==M);j!=P?(P=j,$=this.j.tj(this.j.km(P))):R=-R}M=P,f=$}while(_!=p);h.kn(g,!0)}else this.j.Kb(p,r,2)}}},w.prototype.eF=function(){for(var u=this.j.$g(),o=new c.ia(0),r=this.j.Re;r!=-1;r=this.j.Rf(r)){var s=this.j.Me(r),l=s;if(s!=-1)do{if(this.j.Ab(l,u)!=1){var h=this.j.xa(l);this.j.Kb(h,u,1),this.j.Kb(l,u,1),this.cf(this.j.af(l))&&this.cf(this.j.af(h))&&o.add(l)}l=this.j.jc(this.j.xa(l))}while(l!=s)}this.j.Jg(u),this.j.JP(o)},w.prototype.sm=function(u,o){return o==-1?u:this.aS(u,o)},w.prototype.aS=function(u,o){var r=this.j.g,s=this.j.km(this.j.Le(u));do{var l=this.j.tj(s);if(r.Qf(r.bd(l))==o)return l;s=this.j.js(s)}while(s!=-1);return u},w.prototype.Ot=function(u,o,r){this.eF();var s=this.j.g,l=s.Ig(1736),h=this.j.$g();return this.uK(u,o,l,r,h,-1),this.j.Jg(h),c.rn.V(s,l,1,this.Mv,null),l},w.prototype.uK=function(u,o,r,s,l,h){for(this.ME(u,r,l,h,s),o!=-1&&this.ME(o,r,l,h,s),u=this.j.g,o=this.j.Re;o!=-1;o=this.j.Rf(o)){var f=this.j.Me(o);if(f!=-1){var p=f;do{var g=this.j.Ab(p,l);if(g!=1&&g!=2)if(this.cf(this.j.af(p))){g=u.vf(r,-1);var _=p;do{var M=this.j.mm(_);M!=-1?M=this.j.tj(M):(M=this.j.tj(this.j.mm(this.j.xa(_))),M=this.j.g.U(M)),M=this.sm(M,s),u.ij(g,M),this.j.Kb(_,l,1),h!=-1&&(M=this.j.Le(M),this.j.nn(M,h,1)),_=this.j.jc(_)}while(_!=p);u.kn(g,!0)}else this.j.Kb(p,l,2);p=this.j.jc(this.j.xa(p))}while(p!=f)}}},w.prototype.aY=function(u,o,r){var s=this.j.g,l=s.Ig(1736),h=s.Ig(1607),f=s.Ig(550);this.eF();var p=-1,g=this.j.$g(),_=this.j.Dp();for(this.uK(u,o,l,r,g,_),u=this.j.Re;u!=-1;u=this.j.Rf(u))if((o=this.j.Me(u))!=-1){var M=o;do{var R=this.j.Ab(M,g),$=this.j.Ab(this.j.xa(M),g);if((R|=$)==2)if(R=this.j.dh(M),this.cf(R)){var P=s.vf(h,-1),j=M;R=this.Yw(u,s),R=this.sm(R,r),s.ij(P,R),this.j.nn(u,_,1);do{if(R=this.j.uf(j),$=this.Yw(R,s),$=this.sm($,r),s.ij(P,$),this.j.Kb(j,g,1),this.j.Kb(this.j.xa(j),g,1),this.j.nn(R,_,1),j=this.j.jc(j),R=this.j.Ab(j,g),(R|=$=this.j.Ab(this.j.xa(j),g))!=2)break;if(R=this.j.dh(j),!this.cf(R)){this.j.Kb(j,g,1),this.j.Kb(this.j.xa(j),g,1);break}}while(j!=M)}else this.j.Kb(M,g,1),this.j.Kb(this.j.xa(M),g,1);M=this.j.jc(this.j.xa(M))}while(M!=o)}for(u=this.j.Re;u!=-1;u=this.j.Rf(u))(R=this.j.ng(u,_))!=1&&(R=this.j.xd(u),this.cf(R)&&(p==-1&&(p=s.vf(f,-1)),(o=this.j.km(u))!=-1&&(o=this.j.tj(o),R=this.sm(o,r),s.ij(p,R))));return this.j.Ep(_),this.j.Jg(g),c.rn.V(s,l,1,this.Mv,null),(r=[])[0]=f,r[1]=h,r[2]=l,r},w.prototype.Yw=function(u,o){var r=-1;for(u=this.j.km(u);u!=-1;u=this.j.js(u)){var s=this.j.tj(u);r==-1&&(r=s);var l=this.j.La(o.Qf(o.bd(s)));if(this.cf(l)){r=s;break}}return r},w.prototype.lB=function(u,o){for(var r=this.jl(o),s=this.j.jk(o),l=this.j.uf(o),h=0,f=0,p=this.j.km(s);p!=-1;p=this.j.js(p)){var g=this.j.tj(p),_=u.bd(g),M=this.j.La(u.Qf(_));_=u.Xa(_),(M=(M&r)!=0)&&_==g&&(this.tl=o);var R=u.U(g);R!=-1&&this.j.Le(R)==l?(h++,M&&(this.tl===-1&&_==R&&(g=this.j.jc(o),this.cf(this.jl(g))&&(this.tl=g)),f++)):(g=u.Ma(g))!=-1&&this.j.Le(g)==l&&(h--,M&&(this.tl===-1&&_===g&&(g=this.j.jc(o),this.cf(this.jl(g))&&(this.tl=g)),f--))}return this.j.D(s,this.oH),this.j.D(l,this.pH),(f!=0?f:h)*(u=c.h.tb(this.oH,this.pH))},w.prototype.jl=function(u){return this.j.dh(u)|this.j.af(u)|this.j.af(this.j.xa(u))},w.prototype.xK=function(u){for(var o=this.j.xa(this.j.te(u)),r=-1;o!=u;){if(this.cf(this.jl(o))){if(r!=-1)return-1;r=o}o=this.j.xa(this.j.te(o))}return r!=-1?this.j.xa(r):-1},w.prototype.yK=function(u){for(var o=this.j.xa(this.j.jc(u)),r=-1;o!=u;){if(this.cf(this.jl(o))){if(r!=-1)return-1;r=o}o=this.j.xa(this.j.jc(o))}return r!=-1?this.j.xa(r):-1},w.prototype.mJ=function(u,o,r,s,l){var h=this.j.g,f=u,p=this.j.xa(f);this.j.Kb(f,r,1),this.j.Kb(p,r,1),this.tl=-1;for(var g=this.lB(h,f),_=f,M=-1,R=!1,$=1;;){var P=this.j.te(f);if(P==p)break;if(p=this.j.jc(p),this.j.xa(P)!=p){if((f=this.xK(f))==-1){R=!0;break}p=this.j.xa(f)}else f=P;if(f==u){M=u;break}if(P=this.jl(f),!this.cf(P))break;this.j.Kb(f,r,1),this.j.Kb(p,r,1),_=f,g+=this.lB(h,f),$++}if(M==-1)for(f=u,p=this.j.xa(f),M=f;(u=this.j.jc(f))!=p;){if(p=this.j.te(p),this.j.xa(u)!=p){if((f=this.yK(f))==-1){R=!0;break}p=this.j.xa(f)}else f=u;if(P=this.jl(f),!this.cf(P))break;this.j.Kb(f,r,1),this.j.Kb(p,r,1),M=f,g+=this.lB(h,f),$++}else if(this.tl!=-1&&(_=this.tl,M=this.j.te(this.tl),this.j.xa(M)!=this.j.jc(this.j.xa(_))&&(M=this.xK(_))==-1))throw c.i.Qa();for(0<=g||(f=M,M=this.j.xa(_),_=this.j.xa(f)),r=h.vf(o,-1),f=_,_=this.j.jk(_),R=this.j.uf(M)==_&&R,g=this.Yw(_,h),g=this.sm(g,l),h.ij(r,g),s!=-1&&this.j.nn(_,s,1),_=0,$=R?c.O.truncate(($+1)/2):-1;u=this.j.uf(f),g=this.Yw(u,h),g=this.sm(g,l),h.ij(r,g),_++,s!=-1&&this.j.nn(u,s,1),R&&_==$&&(r=h.vf(o,-1),h.ij(r,g)),f!=M;)if(u=this.j.jc(f),this.j.te(this.j.xa(f))!=this.j.xa(u)){if((f=this.yK(f))==-1)throw c.i.Qa()}else f=u},w.prototype.Pt=function(u){for(var o=this.j.g.Ig(1607),r=this.j.$g(),s=this.j.Re;s!=-1;s=this.j.Rf(s)){var l=this.j.Me(s),h=l;do this.j.Ab(h,r)!=1&&this.cf(this.jl(h))&&this.mJ(h,o,r,-1,u),h=this.j.jc(this.j.xa(h));while(h!=l)}return this.j.Jg(r),o},w.prototype.bY=function(u){for(var o=this.j.g,r=o.Ig(1607),s=o.Ig(550),l=this.j.$g(),h=this.j.Dp(),f=-1,p=this.j.Re;p!=-1;p=this.j.Rf(p)){var g=this.j.Me(p),_=g;do{var M=this.j.Ab(_,l);M!=1&&(M=this.jl(_),this.cf(M)&&this.mJ(_,r,l,h,u)),_=this.j.jc(this.j.xa(_))}while(_!=g)}for(p=this.j.Re;p!=-1;p=this.j.Rf(p))(M=this.j.ng(p,h))!=1&&(M=this.j.xd(p),this.cf(M)&&(f==-1&&(f=o.vf(s,-1)),(g=this.j.km(p))!=-1&&(g=this.j.tj(g),g=this.sm(g,u),o.ij(f,g))));return this.j.Jg(l),this.j.Ep(h),(u=[])[0]=s,u[1]=r,u},w.prototype.mr=function(){for(var u=this.j.g,o=u.Ig(550),r=u.vf(o,-1),s=this.j.Re;s!=-1;s=this.j.Rf(s))if(this.cf(this.j.xd(s))){for(var l=-1,h=this.j.km(s);h!=-1;h=this.j.js(h)){var f=this.j.tj(h);l==-1&&(l=f);var p=this.j.La(u.Qf(u.bd(f)));if(this.cf(p)){l=f;break}}u.ij(r,l)}return o},w.prototype.bq=function(u){this.Gj=[];for(var o=0;o<u;o++)this.Gj[o]=!1},w.aW=function(u,o,r){var s=u.Ia(),l=Array(1e3);c.O.$u(l,null);var h=c.O.lg(1e3,0),f=u.I(),p=!0,g=o.Db()==2;if(o.Db()!=1&&o.Db()!=2)throw c.i.Qa();for(var _=0;_<f;){var M=c.O.truncate(u.lW(l,_)-_);g?c.hd.sK(o,l,M,r,h):c.hd.tK(o,l,M,r,h);for(var R=0,$=0;$<M;$++)h[$]==0&&(p&&(p=!1,s.Fd(u,0,_)),R!=$&&s.Fd(u,_+R,_+$),R=$+1);p||R==M||s.Fd(u,_+R,_+M),_+=M}return p?u:s},w.zG=function(u,o,r){return u instanceof c.de?w.aW(u,o,r):o instanceof c.Sa?u.B()||o.B()?u.Ia():c.Tk.zU(r,u,o)?c.Tk.CO(u,o):u.Ia():w.bW(u,o,r)},w.Av=function(u,o,r,s){var l=new c.l;u.A(l);var h=new c.l;o.A(h);var f=new c.l;if(f.K(l),f.Zb(h),r=c.ta.Wd(r,f,!0),(f=new c.l).K(h),h=c.ta.Er(r),f.W(h,h),!l.isIntersecting(f)){if(u.Db()<=o.Db())return w.ki(w.Xe(u.Ia()),u,"&");if(u.Db()>o.Db())return w.ki(w.Xe(o.Ia()),u,"&")}return h=new w,f=(l=new c.gd).Ib(w.Xe(u)),o=l.Ib(w.Xe(o)),h.Ft(l,r,s),s=h.Av(f,o),u=w.ki(l.Ne(s),u,"&"),c.aa.Hc(u.getType())&&(u.Ch(2,r),u.getType()==1736&&u.fm()),u},w.bW=function(u,o,r){if(u.B()||o.B())return u.Ia();var s=[null],l=[0],h=o.Db()==2;if(o.Db()!=1&&o.Db()!=2)throw c.i.Qa();return s[0]=u.D(),h?c.hd.sK(o,s,1,r,l):c.hd.tK(o,s,1,r,l),l[0]==0?u.Ia():u},w.prototype.LU=function(u,o,r,s,l){if(u.B())return u;var h=new c.gd;return u=h.Ib(u),this.Mk(h,u,o,r,s,l)},w.prototype.NU=function(u,o,r,s,l,h){if(l&&u.ic(o)!=550){var f=new c.RC;f.TX(u,r),f.Ng?(c.Tk.V(u,r,h,!0),l=!1):this.j.yy(r)}else c.Tk.V(u,r,h,!0),l=!1;if(s&&u.ic(o)!=550?this.j.wJ(u,o,h):this.j.vJ(u,o,h),this.j.pA)return this.j.Ug(),this.j=null,this.Mk(u,o,r,s,!1,h);if(this.j.yy(NaN),h=this.j.La(o),this.bq(h+1),this.Gj[h]=!0,u.ic(o)==1736||s&&u.ic(o)!=550)return u.Yo(o,0),o=this.Ot(o,-1,-1),(u=u.Ne(o)).Yo(0),l?u.Ch(1,0):(u.Ch(2,r),u.fm()),u;if(u.ic(o)==1607)return o=this.Pt(-1),u=u.Ne(o),l||u.Ch(2,r),u;if(u.ic(o)==550)return o=this.mr(),u=u.Ne(o),l||u.Ch(2,r),u;throw c.i.Qa()},w.prototype.Mk=function(u,o,r,s,l,h){this.j=new c.iu;try{return this.NU(u,o,r,s,l,h)}finally{this.j.Ug()}},w.Mk=function(u,o,r,s,l){return new w().LU(u,o,r,s,l)},w.prototype.MU=function(u,o,r,s){this.Mv=u,this.j=new c.iu,u=o.In(r);var l=o.ic(r);if(u!=1||l==550?this.j.vJ(o,r,s):this.j.wJ(o,r,s),!this.j.pA)if(this.j.yy(NaN),s=this.j.La(r),this.bq(s+1),this.Gj[s]=!0,o.ic(r)==1736||u==1&&o.ic(r)!=550)o.Yo(r,0),s=this.Ot(r,-1,-1),o.hC(s,r),o.BB(s);else if(o.ic(r)==1607)s=this.Pt(-1),o.hC(s,r),o.BB(s);else{if(o.ic(r)!=550)throw c.i.fa("internal error");s=this.mr(),o.hC(s,r),o.BB(s)}},w.prototype.im=function(u,o){var r=c.aa.tf(this.j.g.ic(u)),s=c.aa.tf(this.j.g.ic(o));if(r>s)return u;var l=this.j.La(u),h=this.j.La(o);if(this.bq(1+(l|h)),this.Gj[this.j.La(u)]=!0,r==2&&s==2)return this.Ot(u,o,-1);if(r==1&&s==2||r==1&&s==1)return this.Pt(-1);if(r==0)return this.mr();throw c.i.Qa()},w.prototype.Av=function(u,o){var r=c.aa.tf(this.j.g.ic(u)),s=c.aa.tf(this.j.g.ic(o)),l=this.j.La(u),h=this.j.La(o);if(this.bq(1+(l|h)),this.Gj[this.j.La(u)|this.j.La(o)]=!0,l=-1,1<this.j.g.ht.Aa&&(l=u),r==2&&s==2)return this.Ot(u,o,l);if(r==1&&0<s||s==1&&0<r)return this.Pt(l);if(r==0||s==0)return this.mr();throw c.i.Qa()},w.prototype.Pz=function(u,o){var r=c.aa.tf(this.j.g.ic(u)),s=c.aa.tf(this.j.g.ic(o)),l=this.j.La(u),h=this.j.La(o);if(this.bq(1+(l|h)),this.Gj[this.j.La(u)|this.j.La(o)]=!0,l=-1,1<this.j.g.ht.Aa&&(l=u),r==2&&s==2)return this.aY(u,o,l);if(r==1&&0<s||s==1&&0<r)return this.bY(l);if(r==0||s==0)return(u=[])[0]=this.mr(),u;throw c.i.Qa()},w.prototype.ep=function(u,o){var r=c.aa.tf(this.j.g.ic(u)),s=c.aa.tf(this.j.g.ic(o)),l=this.j.La(u),h=this.j.La(o);if(this.bq(1+(l|h)),this.Gj[this.j.La(u)]=!0,this.Gj[this.j.La(o)]=!0,r==2&&s==2)return this.Ot(u,o,-1);if(r==1&&s==1)return this.Pt(-1);if(r==0&&s==0)return this.mr();throw c.i.Qa()},w.Xe=function(u){var o=u.getType();return o==197?(o=new c.Da(u.description),u.B()||o.ad(u,!1),o):o==33?(o=new c.de(u.description),u.B()||o.add(u),o):o==322?(o=new c.Ta(u.description),u.B()||o.oc(u,!0),o):u},w.ki=function(u,o,r){var s=u.getType();return s==197?(o=new c.Da(u.description),u.B()||o.ad(u,!1),o):s!=33||r!="|"&&r!="^"?s==322?(o=new c.Ta(u.description),u.B()||o.oc(u,!0),o):s==33&&r=="-"&&o.getType()==33||s==550&&r=="&"&&o.getType()==33?(o=new c.Sa(u.description),u.B()||u.ve(0,o),o):u:(o=new c.de(u.description),u.B()||o.add(u),o)},w.im=function(u,o,r,s){if(u.B()||o.B()||u.Db()>o.Db())return w.ki(w.Xe(u),u,"-");var l=new c.l;u.A(l);var h=new c.l;if(o.A(h),!l.isIntersecting(h))return w.ki(w.Xe(u),u,"-");var f=new c.l;return f.K(l),f.Zb(h),r=c.ta.Wd(r,f,!0),h=new w,f=(l=new c.gd).Ib(w.Xe(u)),o=l.Ib(w.Xe(o)),h.Ft(l,r,s),s=h.im(f,o),s=l.Ne(s),u=w.ki(s,u,"-"),c.aa.Hc(u.getType())&&(u.Ch(2,r),u.getType()==1736&&u.fm()),u},w.VP=function(u,o,r){if(2>u.length)throw c.i.N("not enough geometries to dissolve");for(var s=0,l=0,h=u.length;l<h;l++)s=Math.max(u[l].Db(),s);var f=new c.l;f.Oa();var p=new c.gd,g=-1,_=0,M=-1;for(l=0,h=u.length;l<h;l++)if(u[l].Db()==s)if(u[l].B())M==-1&&(M=l);else{M=l,g==-1?g=p.Ib(w.Xe(u[l])):p.uN(g,w.Xe(u[l]));var R=new c.l;u[l].xc(R),f.Zb(R),_++}return 2>_?w.Xe(u[M]):(u=s==2,o=c.ta.Wd(s==0?o:null,f,!0),new w().Mk(p,g,o,u,!0,r))},w.Pz=function(u,o,r,s){var l=[null,null,null],h=new c.l;u.A(h);var f=new c.l;o.A(f);var p=new c.l;if(p.K(h),p.Zb(f),r=c.ta.Wd(r,p,!0),(p=new c.l).K(f),f=c.ta.Er(r),p.W(f,f),!h.isIntersecting(p)){if(u.Db()<=o.Db())return l[(u=w.ki(w.Xe(u.Ia()),u,"&")).Db()]=u,l;if(u.Db()>o.Db())return l[(u=w.ki(w.Xe(o.Ia()),u,"&")).Db()]=u,l}for(f=new w,p=(h=new c.gd).Ib(w.Xe(u)),o=h.Ib(w.Xe(o)),f.Ft(h,r,s),s=f.Pz(p,o),o=0;o<s.length;o++)f=w.ki(h.Ne(s[o]),u,"&"),c.aa.Hc(f.getType())&&(f.Ch(2,r),f.getType()==1736&&f.fm()),l[f.Db()]=f;return l},w.ep=function(u,o,r,s){if(u.Db()>o.Db())return w.ki(w.Xe(u),u,"^");if(u.Db()<o.Db()||u.B())return w.ki(w.Xe(o),u,"^");if(o.B())return w.ki(w.Xe(u),u,"^");var l=new c.l;u.A(l);var h=new c.l;o.A(h);var f=new c.l;return f.K(l),f.Zb(h),r=c.ta.Wd(r,f,!0),h=new w,f=(l=new c.gd).Ib(w.Xe(u)),o=l.Ib(w.Xe(o)),h.Ft(l,r,s),s=h.ep(f,o),u=w.ki(l.Ne(s),u,"^"),c.aa.Hc(u.getType())&&(u.Ch(2,r),u.getType()==1736&&u.fm()),u},w.prototype.LQ=function(u,o){var r=this.j.g;u=r.vf(u,-1);for(var s=o.size,l=0;l<s;l++){var h=o.get(l);r.ij(u,h)}r.kn(u,!0)},w.prototype.aX=function(u,o){for(var r=this.j.g,s=r.ld;s!=-1;s=r.ue(s))if(s==o)for(var l=r.Ob(s);l!=-1;l=r.Rb(l)){var h=r.Xa(l);if(h!=-1)for(var f=r.U(h);f!=-1;){h=this.j.Le(h);var p=this.j.Le(f);(h=this.j.tR(h,p))!=-1&&(p=this.j.xa(h),this.j.Kb(h,u,1),this.j.Kb(p,u,2)),h=f,f=r.U(h)}}},w.prototype.cW=function(u,o,r,s){r=this.j.La(r),s=this.j.La(s);var l=new c.ia(0);l.Jb(256);for(var h=this.j.g,f=this.j.$g(),p=this.j.Re;p!=-1;p=this.j.Rf(p)){var g=this.j.Me(p);if(g!=-1){var _=g;do{if(this.j.Ab(_,f)!=1){var M=_,R=_,$=!1,P=0;do{if(this.j.Kb(M,f,1),!$){var j=this.j.dh(M);(j&s)!=0&&(this.j.af(M)&r)!=0&&(R=M,$=!0)}$&&(l.add(this.j.tj(this.j.km(this.j.jk(M)))),u!=-1&&((j=this.j.dh(M))&s)!=0&&(P|=j=this.j.Ab(M,u))),M=this.j.jc(M)}while(M!=R);$&&0<this.j.Kp(this.j.$e(R))&&(M=h.Ig(1736),this.LQ(M,l),o!=-1&&h.HJ(M,o,P)),l.clear(!1)}_=this.j.jc(this.j.xa(_))}while(_!=g)}}this.j.Jg(f)},w.prototype.FP=function(u,o,r,s){this.j.yW();var l=-1;u!=-1&&(l=this.j.$g(),this.aX(l,r)),this.cW(l,u,o,r),l!=-1&&(this.j.Jg(l),l=-1);var h=this.j.g;for(u=0,l=h.ld;l!=-1;l=h.ue(l))l!=o&&l!=r&&(s.add(l),u++);s.Vd(0,u,(function(f,p){return(f=h.wz(h.Ob(f)))<(p=h.wz(h.Ob(p)))?-1:f==p?0:1}))},w.prototype.Ug=function(){this.j!=null&&(this.j.Ug(),this.j=null)},w})();c.Fg=I})(Q||(Q={})),(function(c){var I=(function(){function w(u){u!==void 0?this.setScale(u):this.RB()}return w.prototype.lx=function(){this.Lb=this.Gb=this.jb=this.eb=this.ab=this.bb=0},w.prototype.Nb=function(u){return this==u||u instanceof w&&this.bb==u.bb&&this.eb==u.eb&&this.Gb==u.Gb&&this.jb==u.jb&&this.ab==u.ab&&this.Lb==u.Lb},w.prototype.cc=function(){return c.O.uj(),c.O.uj(),c.O.uj(),c.O.uj(),c.O.uj(),c.O.uj()},w.prototype.Eh=function(u,o){var r=this.jb*u.x+this.ab*u.y+this.Lb;o.x=this.bb*u.x+this.eb*u.y+this.Gb,o.y=r},w.prototype.eY=function(u,o,r){for(var s=0;s<o;s++){var l=u[s].x,h=u[s].y,f=this.bb*l+this.eb*h+this.Gb;l=this.jb*l+this.ab*h+this.Lb,r[s]!=null?r[s].ma(f,l):r[s]=c.h.construct(f,l)}},w.prototype.multiply=function(u){w.multiply(this,u,this)},w.multiply=function(u,o,r){var s=u.bb*o.bb+u.jb*o.eb,l=u.eb*o.bb+u.ab*o.eb,h=u.Gb*o.bb+u.Lb*o.eb+o.Gb,f=u.bb*o.jb+u.jb*o.ab,p=u.eb*o.jb+u.ab*o.ab;u=u.Gb*o.jb+u.Lb*o.ab+o.Lb,r.bb=s,r.eb=l,r.Gb=h,r.jb=f,r.ab=p,r.Lb=u},w.prototype.Of=function(){var u=new w;return u.bb=this.bb,u.eb=this.eb,u.Gb=this.Gb,u.jb=this.jb,u.ab=this.ab,u.Lb=this.Lb,u},w.prototype.mC=function(u){if(!u.B()){for(var o=[],r=0;4>r;r++)o[r]=new c.h;u.nB(o),this.fY(o,o),u.Zw(o,4)}},w.prototype.fY=function(u,o){for(var r=0;r<u.length;r++){var s=new c.h,l=u[r];s.x=this.bb*l.x+this.eb*l.y+this.Gb,s.y=this.jb*l.x+this.ab*l.y+this.Lb,o[r]=s}},w.prototype.pS=function(u,o){u.B()||o.B()||u.R()==0||u.ca()==0?this.lx():(this.eb=this.jb=0,this.bb=o.R()/u.R(),this.ab=o.ca()/u.ca(),this.Gb=o.v-u.v*this.bb,this.Lb=o.G-u.G*this.ab)},w.prototype.dY=function(u){var o=new c.h,r=new c.h;o.ma(this.bb,this.jb),r.ma(this.eb,this.ab),o.sub(o);var s=.5*o.Sk();return o.ma(this.bb,this.jb),r.ma(this.eb,this.ab),o.add(r),u*(s>(o=.5*o.Sk())?Math.sqrt(s):Math.sqrt(o))},w.prototype.RB=function(){this.bb=1,this.jb=this.Gb=this.eb=0,this.ab=1,this.Lb=0},w.prototype.isIdentity=function(u){if(u!==void 0){var o=c.h.construct(0,1);return this.Eh(o,o),o.sub(c.h.construct(0,1)),o.Sk()>u*u?!1:(o.ma(0,0),this.Eh(o,o),!(o.Sk()>u*u)&&(o.ma(1,0),this.Eh(o,o),o.sub(c.h.construct(1,0)),o.Sk()<=u*u))}return this.bb==1&&this.ab==1&&this.eb==0&&this.Gb==0&&this.jb==0&&this.Lb==0},w.prototype.Bi=function(u){return Math.abs(this.bb*this.ab-this.jb*this.eb)<=2*u*(Math.abs(this.bb*this.ab)+Math.abs(this.jb*this.eb))},w.prototype.gg=function(u,o){this.bb=1,this.eb=0,this.Gb=u,this.jb=0,this.ab=1,this.Lb=o},w.prototype.setScale=function(u,o){o!==void 0?(this.bb=u,this.jb=this.Gb=this.eb=0,this.ab=o,this.Lb=0):this.setScale(u,u)},w.prototype.$B=function(){this.bb=0,this.eb=1,this.Gb=0,this.jb=1,this.Lb=this.ab=0},w.prototype.setRotate=function(u){this.pX(Math.cos(u),Math.sin(u))},w.prototype.pX=function(u,o){this.bb=u,this.eb=-o,this.Gb=0,this.jb=o,this.ab=u,this.Lb=0},w.prototype.shift=function(u,o){this.Gb+=u,this.Lb+=o},w.prototype.scale=function(u,o){this.bb*=u,this.eb*=u,this.Gb*=u,this.jb*=o,this.ab*=o,this.Lb*=o},w.prototype.flipX=function(u,o){this.bb=-this.bb,this.eb=-this.eb,this.Gb=u+o-this.Gb},w.prototype.flipY=function(u,o){this.jb=-this.jb,this.ab=-this.ab,this.Lb=u+o-this.Lb},w.prototype.rotate=function(u){var o=new w;o.setRotate(u),this.multiply(o)},w.prototype.inverse=function(u){if(u!==void 0){var o=this.bb*this.ab-this.eb*this.jb;o==0?u.lx():(o=1/o,u.Gb=(this.eb*this.Lb-this.Gb*this.ab)*o,u.Lb=(this.Gb*this.jb-this.bb*this.Lb)*o,u.bb=this.ab*o,u.eb=-this.eb*o,u.jb=-this.jb*o,u.ab=this.bb*o)}else this.inverse(this)},w})();c.Dd=I})(Q||(Q={})),(function(c){var I=(function(){function w(){}return w.prototype.lx=function(){this.hg=this.Lb=this.Gb=this.He=this.Fe=this.Ee=this.Ge=this.ab=this.eb=this.Ze=this.jb=this.bb=0},w.prototype.setScale=function(u,o,r){this.bb=u,this.eb=this.Ze=this.jb=0,this.ab=o,this.Fe=this.Ee=this.Ge=0,this.He=r,this.hg=this.Lb=this.Gb=0},w.prototype.setTranslate=function(u,o,r){this.bb=1,this.eb=this.Ze=this.jb=0,this.ab=1,this.Fe=this.Ee=this.Ge=0,this.He=1,this.Gb=u,this.Lb=o,this.hg=r},w.prototype.translate=function(u,o,r){this.Gb+=u,this.Lb+=o,this.hg+=r},w.prototype.mC=function(u){if(!u.B()){for(var o=new c.Nd[8],r=0;8>r;r++)o[r]=new c.Nd;u.nB(o),this.transform(o,8,o),u.Zw(o)}},w.prototype.transform=function(u,o,r){for(var s=0;s<o;s++){var l=new c.Nd,h=u[s];l.x=this.bb*h.x+this.eb*h.y+this.Ee*h.z+this.Gb,l.y=this.jb*h.x+this.ab*h.y+this.Fe*h.z+this.Lb,l.z=this.Ze*h.x+this.Ge*h.y+this.He*h.z+this.hg,r[s]=l}},w.prototype.fp=function(u){var o=new c.Nd;return o.x=this.bb*u.x+this.eb*u.y+this.Ee*u.z+this.Gb,o.y=this.jb*u.x+this.ab*u.y+this.Fe*u.z+this.Lb,o.z=this.Ze*u.x+this.Ge*u.y+this.He*u.z+this.hg,o},w.prototype.Ag=function(u){w.multiply(this,u,this)},w.multiply=function(u,o,r){var s=u.bb*o.bb+u.jb*o.eb+u.Ze*o.Ee,l=u.bb*o.jb+u.jb*o.ab+u.Ze*o.Fe,h=u.bb*o.Ze+u.jb*o.Ge+u.Ze*o.He,f=u.eb*o.bb+u.ab*o.eb+u.Ge*o.Ee,p=u.eb*o.jb+u.ab*o.ab+u.Ge*o.Fe,g=u.eb*o.Ze+u.ab*o.Ge+u.Ge*o.He,_=u.Ee*o.bb+u.Fe*o.eb+u.He*o.Ee,M=u.Ee*o.jb+u.Fe*o.ab+u.He*o.Fe,R=u.Ee*o.Ze+u.Fe*o.Ge+u.He*o.He,$=u.Gb*o.bb+u.Lb*o.eb+u.hg*o.Ee+o.Gb,P=u.Gb*o.jb+u.Lb*o.ab+u.hg*o.Fe+o.Lb;u=u.Gb*o.Ze+u.Lb*o.Ge+u.hg*o.He+o.hg,r.bb=s,r.jb=l,r.Ze=h,r.eb=f,r.ab=p,r.Ge=g,r.Ee=_,r.Fe=M,r.He=R,r.Gb=$,r.Lb=P,r.hg=u},w.inverse=function(u,o){var r=u.bb*(u.ab*u.He-u.Ge*u.Fe)-u.jb*(u.eb*u.He-u.Ge*u.Ee)+u.Ze*(u.eb*u.Fe-u.ab*u.Ee);if(r==0)throw c.i.fa("math singularity");var s=1/r;r=(u.ab*u.He-u.Ge*u.Fe)*s;var l=-(u.eb*u.He-u.Ge*u.Ee)*s,h=(u.eb*u.Fe-u.ab*u.Ee)*s,f=-(u.jb*u.He-u.Fe*u.Ze)*s,p=(u.bb*u.He-u.Ze*u.Ee)*s,g=-(u.bb*u.Fe-u.jb*u.Ee)*s,_=(u.jb*u.Ge-u.Ze*u.ab)*s,M=-(u.bb*u.Ge-u.Ze*u.eb)*s;s*=u.bb*u.ab-u.jb*u.eb;var R=-(u.Gb*r+u.Lb*l+u.hg*h),$=-(u.Gb*f+u.Lb*p+u.hg*g);u=-(u.Gb*_+u.Lb*M+u.hg*s),o.bb=r,o.jb=f,o.Ze=_,o.eb=l,o.ab=p,o.Ge=M,o.Ee=h,o.Fe=g,o.He=s,o.Gb=R,o.Lb=$,o.hg=u},w.prototype.Of=function(){var u=new w;return u.bb=this.bb,u.jb=this.jb,u.Ze=this.Ze,u.eb=this.eb,u.ab=this.ab,u.Ge=this.Ge,u.Ee=this.Ee,u.Fe=this.Fe,u.He=this.He,u.Gb=this.Gb,u.Lb=this.Lb,u.hg=this.hg,u},w})();c.JY=I})(Q||(Q={})),(function(c){var I=(function(u){function o(r){if(r!==void 0)r=u.call(this,r.cc(),r)||this;else{(r=u.call(this)||this).bg=[],r.bg[0]=0,r.Aa=1,r.uh=[];for(var s=0;10>s;s++)r.uh[s]=-1;r.uh[r.bg[0]]=0}return r.jq=!0,r}return Me(o,u),o.prototype.re=function(r){this.hasAttribute(r)||(this.uh[r]=0,this.jD())},o.prototype.removeAttribute=function(r){if(r==0)throw c.i.N("Position attribue cannot be removed");this.hasAttribute(r)&&(this.uh[r]=-1,this.jD())},o.prototype.reset=function(){this.bg[0]=0,this.Aa=1;for(var r=0;r<this.uh.length;r++)this.uh[r]=-1;this.uh[this.bg[0]]=0,this.jq=!0},o.prototype.EF=function(){return w.kz().add(this)},o.og=function(){return w.kz().$R()},o.prototype.tM=function(){var r=this.cc();return new c.ra(r,this)},o.prototype.jD=function(){for(var r=this.Aa=0,s=0;10>r;r++)0<=this.uh[r]&&(this.bg[s]=r,this.uh[r]=s,s++,this.Aa++);this.jq=!0},o.prototype.cc=function(){return this.jq&&(this.wl=this.An(),this.jq=!1),this.wl},o.prototype.Nb=function(r){if(r==null)return!1;if(r==this)return!0;if(!(r instanceof o)||r.Aa!=this.Aa)return!1;for(var s=0;s<this.Aa;s++)if(this.bg[s]!=r.bg[s])return!1;return this.jq==r.jq},o.prototype.GG=function(r){if(r.Aa!=this.Aa)return!1;for(var s=0;s<this.Aa;s++)if(this.bg[s]!=r.bg[s])return!1;return!0},o.Iw=function(r,s){for(var l=[],h=0;h<r.Aa;h++)l[h]=-1;h=0;for(var f=r.Aa;h<f;h++)l[h]=s.Pf(r.kd(h));return l},o.BR=function(r,s){return(r=new o(r)).re(s),r.EF()},o.CR=function(r,s){for(var l=null,h=0;10>h;h++)!r.hasAttribute(h)&&s.hasAttribute(h)&&(l==null&&(l=new o(r)),l.re(h));return l!=null?l.EF():r},o})(c.ra);c.ee=I;var w=(function(){function u(){this.map=[];var o=new I;this.add(o),(o=new I).re(1),this.add(o)}return u.kz=function(){return u.bL},u.prototype.$R=function(){return u.ft},u.prototype.add=function(o){var r=o.cc();if(u.ft!=null&&u.ft.cc()==r&&o.GG(u.ft))return u.ft;if(u.Dw!=null&&u.Dw.cc()==r&&o.GG(u.Dw))return u.Dw;var s=null;return this.map[r]!==void 0&&(s=this.map[r]),s==null&&((s=o.tM()).Aa==1?u.ft=s:s.Aa==2&&s.kd(1)==1?u.Dw=s:this.map[r]=s),s},u.bL=new u,u})()})(Q||(Q={}));var ds={feet:9002,kilometers:9036,meters:9001,miles:9093,"nautical-miles":9030,yards:9096},Wi={acres:109402,ares:109463,hectares:109401,"square-feet":109405,"square-kilometers":109414,"square-meters":109404,"square-miles":109439,"square-yards":109442},Ri=new((function(){function c(){this.RM=50,this.np=new Map,this.gj=[]}return c.prototype.clear=function(){this.gj.length=0,this.np.clear()},c.prototype.delete=function(I){return!!this.np.delete(I)&&(this.gj.splice(this.gj.indexOf(I),1),!0)},c.prototype.get=function(I){var w=this.np.get(I);if(w!==void 0)return this.gj[0]!==I&&(this.gj.splice(this.gj.indexOf(I),1),this.gj.unshift(I)),w},c.prototype.has=function(I){return this.np.has(I)},c.prototype.set=function(I,w){return this.get(I)!==void 0&&this.delete(I),this.gj.unshift(I),this.np.set(I,w),this.oM(),this},c.prototype.oM=function(){for(;this.gj.length&&this.gj.length>this.RM;){var I=this.gj.pop();this.np.delete(I)}},c})()),Gt=((bi={}).convertJSONToGeometry=function(c){return Q.$b.fP(c)},bi.hasM=function(c){return c.hasAttribute(Q.Ih.M)},bi.hasZ=function(c){return c.hasAttribute(Q.Ih.Z)},bi.getPointX=function(c){return c.Lg()},bi.getPointY=function(c){return c.ih()},bi.getPointZ=function(c){return c.bS()},bi.getPointM=function(c){return c.zR()},bi.getXMin=function(c){return c.es()},bi.getYMin=function(c){return c.gs()},bi.getXMax=function(c){return c.ds()},bi.getYMax=function(c){return c.fs()},bi.getZExtent=function(c){return c.Tg(Q.Ih.Z,0)},bi.getMExtent=function(c){return c.Tg(Q.Ih.M,0)},bi.exportPaths=function(c){var I=[],w=c.da(),u=null,o=null,r=c.hasAttribute(Q.Ih.Z),s=c.hasAttribute(Q.Ih.M);r&&(u=c.ub(Q.Ih.Z)),s&&(o=c.ub(Q.Ih.M));for(var l=new Q.h,h=0;h<w;h++){for(var f=c.Ba(h),p=c.Ja(h),g=0,_=0,M=NaN,R=NaN,$=NaN,P=NaN,j=c.dc(h),F=[],V=f;V<f+p;V++){c.D(V,l),P=$=NaN;var W=[l.x,l.y];r&&($=u.get(V),W.push($)),s&&(P=o.get(V),W.push(P)),V==f&&j&&(g=l.x,_=l.y,M=$,R=P),F.push(W)}!j||g==l.x&&_==l.y&&(!r||isNaN(M)&&isNaN($)||M==$)&&(!s||isNaN(R)&&isNaN(P)||R==P)||F.push(F[0].slice(0)),I.push(F)}return I},bi.exportPathsFlat=function(){},bi.exportPoints=function(c){var I=c.hasAttribute(Q.Ih.Z),w=c.hasAttribute(Q.Ih.M),u=null,o=null;I&&(u=c.ub(Q.Ih.Z)),w&&(o=c.ub(Q.Ih.M));for(var r=new Q.h,s=c.I(),l=[],h=0;h<s;h++){c.D(h,r);var f=[r.x,r.y];I&&f.push(u.get(h)),w&&f.push(o.get(h)),l.push(f)}return l},bi.exportPointsFlat=function(){},bi),In=new Map;return(function(){function c(){}return c.buffer=re,c.clip=k,c.contains=z,c.convexHull=vt,c.crosses=G,c.cut=D,c.densify=Kt,c.difference=Ct,c.disjoint=it,c.distance=B,c.equals=H,c.extendedSpatialReferenceInfo=C,c.generalize=Ft,c.geodesicArea=ce,c.geodesicBuffer=_t,c.geodesicDensify=Vt,c.geodesicLength=je,c.intersect=zt,c.intersects=X,c.isSimple=yt,c.nearestCoordinate=$t,c.nearestVertex=ge,c.nearestVertices=dt,c.offset=Xt,c.overlaps=ot,c.planarArea=ie,c.planarLength=Oe,c.relate=pt,c.simplify=ft,c.symmetricDifference=Dt,c.touches=et,c.union=Wt,c.within=rt,c.rotate=Q.Ex.rotate,c.flipHorizontal=Q.Ex.JQ,c.flipVertical=Q.Ex.KQ,c.intersectLinesToPoints=ts,c.ExtendedParams=Q.yC,c.clearDefaultSpatialReferenceTolerance=we,c.changeDefaultSpatialReferenceTolerance=xn,c._enableProjection=ze,c._project=Qi,c._getTransformation=Si,c._getTransformationBySuitability=Ge,c})()}var i=e();i!==void 0&&(t.exports=i)})(kk)),kk.exports}var iH=lyt();const Ze=oyt(iH),uyt=ayt({__proto__:null,default:Ze},[iH]),cyt=Object.freeze(Object.defineProperty({__proto__:null,G:Ze,g:uyt},Symbol.toStringTag,{value:"Module"})),di={convertToGEGeometry:hyt,exportPoint:fyt,exportPolygon:dyt,exportPolyline:pyt,exportMultipoint:yyt,exportExtent:myt};function hyt(t,e){if(e==null)return null;let i="cache"in e?e.cache._geVersion:void 0;return i==null&&(i=t.convertJSONToGeometry(e),"cache"in e&&(e.cache._geVersion=i)),i}function fyt(t,e,i){const n=t.hasZ(e),a=t.hasM(e),d=new ue({x:t.getPointX(e),y:t.getPointY(e),spatialReference:i});return n&&(d.z=t.getPointZ(e)),a&&(d.m=t.getPointM(e)),d.cache._geVersion=e,d}function dyt(t,e,i){const n=new rr({rings:t.exportPaths(e),hasZ:t.hasZ(e),hasM:t.hasM(e),spatialReference:i});return n.cache._geVersion=e,n}function pyt(t,e,i){const n=new sr({paths:t.exportPaths(e),hasZ:t.hasZ(e),hasM:t.hasM(e),spatialReference:i});return n.cache._geVersion=e,n}function yyt(t,e,i){const n=new Po({hasZ:t.hasZ(e),hasM:t.hasM(e),points:t.exportPoints(e),spatialReference:i});return n.cache._geVersion=e,n}function myt(t,e,i){const n=t.hasZ(e),a=t.hasM(e),d=new Be({xmin:t.getXMin(e),ymin:t.getYMin(e),xmax:t.getXMax(e),ymax:t.getYMax(e),spatialReference:i});if(n){const y=t.getZExtent(e);d.zmin=y.vmin,d.zmax=y.vmax}if(a){const y=t.getMExtent(e);d.mmin=y.vmin,d.mmax=y.vmax}return d.cache._geVersion=e,d}const gyt=Object.freeze(Object.defineProperty({__proto__:null,hydratedAdapter:di},Symbol.toStringTag,{value:"Module"}));function vi(t){const e=Array.isArray(t)?t[0].spatialReference:t.spatialReference;return e?Fp(le,e):le.WGS84}function vyt(t){return Ze.extendedSpatialReferenceInfo(t)}function byt(t,e){return We(t),Ze.clip(di,vi(t),t,e)}function wyt(t,e){return We(t),Ze.cut(di,vi(t),t,e)}function _yt(t,e){return We(t),We(e),Ze.contains(di,vi(t),t,e)}function Syt(t,e){return We(t),We(e),Ze.crosses(di,vi(t),t,e)}function xyt(t,e,i){return We(t),We(e),Ze.distance(di,vi(t),t,e,i)}function Tyt(t,e){return We(t),We(e),Ze.equals(di,vi(t),t,e)}function Eyt(t,e){return We(t),We(e),Ze.intersects(di,vi(t),t,e)}function Myt(t,e){return We(t),We(e),Ze.touches(di,vi(t),t,e)}function Ayt(t,e){return We(t),We(e),Ze.within(di,vi(t),t,e)}function Ryt(t,e){return We(t),We(e),Ze.disjoint(di,vi(t),t,e)}function Cyt(t,e){return We(t),We(e),Ze.overlaps(di,vi(t),t,e)}function Oyt(t,e,i){return We(t),We(e),Ze.relate(di,vi(t),t,e,i)}function $yt(t){return We(t),Ze.isSimple(di,vi(t),t)}function Nyt(t){return We(t),Ze.simplify(di,vi(t),t)}function kyt(t,e=!1){return Ze.convexHull(di,vi(t),t,e)}function Pyt(t,e){return We(e),Ze.difference(di,vi(t),t,e)}function Iyt(t,e){return We(e),Ze.symmetricDifference(di,vi(t),t,e)}function Dyt(t,e){return We(e),Ze.intersect(di,vi(t),t,e)}function Lyt(t){return Ze.union(di,vi(t),t)}function jyt(t,e,i,n,a,d){return Ze.offset(di,vi(t),t,e,i,n,a,d)}function zyt(t,e,i,n=!1){return Ze.buffer(di,vi(t),t,e,i,n)}function rH(t,e,i,n,a,d){return Ze.geodesicBuffer(di,vi(t),t,e,i,n,a,d)}function Uyt(t,e,i=!0){return We(t),Ze.nearestCoordinate(di,vi(t),t,e,i)}function Fyt(t,e){return We(t),Ze.nearestVertex(di,vi(t),t,e)}function Byt(t,e,i,n){return We(t),Ze.nearestVertices(di,vi(t),t,e,i,n)}function tM(t){return"xmin"in t?"center"in t?t.center:null:"x"in t?t:"extent"in t?t.extent?.center??null:null}function Gyt(t,e,i){if(t==null)throw new Ep;const n=t.spatialReference;if((i=i??tM(t))==null)throw new Ep;const a=t.constructor.fromJSON(Ze.rotate(t,e,i));return a.spatialReference=n,a}function qyt(t,e){if(t==null)throw new Ep;const i=t.spatialReference;if((e=e??tM(t))==null)throw new Ep;const n=t.constructor.fromJSON(Ze.flipHorizontal(t,e));return n.spatialReference=i,n}function Hyt(t,e){if(t==null)throw new Ep;const i=t.spatialReference;if((e=e??tM(t))==null)throw new Ep;const n=t.constructor.fromJSON(Ze.flipVertical(t,e));return n.spatialReference=i,n}function Vyt(t,e,i,n){return We(t),Ze.generalize(di,vi(t),t,e,i,n)}function Wyt(t,e,i){return We(t),Ze.densify(di,vi(t),t,e,i)}function Jyt(t,e,i,n=0){return We(t),Ze.geodesicDensify(di,vi(t),t,e,i,n)}function Yyt(t,e){return We(t),Ze.planarArea(di,vi(t),t,e)}function Kyt(t,e){return We(t),Ze.planarLength(di,vi(t),t,e)}function Xyt(t,e,i){return We(t),Ze.geodesicArea(di,vi(t),t,e,i)}function Zyt(t,e,i){return We(t),Ze.geodesicLength(di,vi(t),t,e,i)}function Qyt(t,e){return Ze.intersectLinesToPoints(di,vi(t),t,e)}function tmt(t,e){Ze.changeDefaultSpatialReferenceTolerance(t,e)}function emt(t){Ze.clearDefaultSpatialReferenceTolerance(t)}let Ep=class extends Error{constructor(){super("Illegal Argument Exception")}};const hOt=Object.freeze(Object.defineProperty({__proto__:null,buffer:zyt,changeDefaultSpatialReferenceTolerance:tmt,clearDefaultSpatialReferenceTolerance:emt,clip:byt,contains:_yt,convexHull:kyt,crosses:Syt,cut:wyt,densify:Wyt,difference:Pyt,disjoint:Ryt,distance:xyt,equals:Tyt,extendedSpatialReferenceInfo:vyt,flipHorizontal:qyt,flipVertical:Hyt,generalize:Vyt,geodesicArea:Xyt,geodesicBuffer:rH,geodesicDensify:Jyt,geodesicLength:Zyt,intersect:Dyt,intersectLinesToPoints:Qyt,intersects:Eyt,isSimple:$yt,nearestCoordinate:Uyt,nearestVertex:Fyt,nearestVertices:Byt,offset:jyt,overlaps:Cyt,planarArea:Yyt,planarLength:Kyt,relate:Oyt,rotate:Gyt,simplify:Nyt,symmetricDifference:Iyt,touches:Myt,union:Lyt,within:Ayt},Symbol.toStringTag,{value:"Module"})),imt=(t,e)=>{const[i,n]=K.useState(null);K.useEffect(()=>{n(null),a()},[e]);const a=()=>{if(!t)return;const y=t.graphics.find(b=>b.attributes.id==="route-direction");y&&t.graphics.remove(y)};return{selectedDirectionIndex:i,onSelectDirection:(y,b)=>{if(t){if(a(),i===y){n(null),e?.geometry&&t.goTo({target:e.geometry});return}if(b.geometry){const S=rH(b.geometry,50,"feet");t.goTo({target:S}),t.graphics.add(syt(b.geometry)),n(y)}}}}},rmt=()=>{const{view:t}=Wo(),{routeResult:e}=js(),{selectedDirectionIndex:i,onSelectDirection:n}=imt(t,e);return e?at.jsx(at.Fragment,{children:e.directions.map((a,d)=>at.jsxs("div",{className:Ai("mb-2.5 flex justify-between items-center gap-2 cursor-pointer hover:bg-stone-200 px-2.5 py-1 rounded-md",i===d?"!bg-stone-300":"bg-transparent"),onClick:()=>n(d,a),children:[at.jsxs("div",{className:"flex flex-col",children:[at.jsx("span",{className:"font-medium",children:a.attributes.text}),a.attributes.length!==0&&a.attributes.time!==0&&at.jsxs("span",{className:"text-xs",children:[(a.attributes.length*.62137).toFixed(2)," mi -"," ",a.attributes.time<1?`${(a.attributes.time*60).toFixed(0)} sec`:`${a.attributes.time.toFixed(0)} min`]})]}),at.jsx($ht,{type:a.attributes.maneuverType})]},d))}):null},nmt=()=>{const{routeResult:t}=js(),{directionsListExpanded:e,setDirectionsListExpanded:i}=Yf();return t?at.jsxs(Rht,{className:"flex flex-col overflow-hidden",open:e,onOpenChange:n=>i(n),children:[at.jsxs(Cht,{className:"w-full cursor-pointer text-lg font-bold text-left my-2.5 flex items-center justify-between",children:["Directions",at.jsx(GZ,{})]}),at.jsx(Oht,{className:"flex flex-col overflow-hidden",children:at.jsx("div",{className:"overflow-auto scrollable-element",children:at.jsx(rmt,{})})})]}):null},smt=({className:t})=>{const{error:e}=js();return e?at.jsxs("div",{className:Ai("flex items-start gap-2.5 mt-5",t),children:[at.jsx(ttt,{className:"size-5 shrink-0 mt-1"}),e]}):null},omt=()=>{const{routeResult:t}=js();return t?at.jsxs("div",{className:"flex items-baseline-last gap-2.5 mt-5",children:[at.jsx("span",{className:"font-bold text-3xl",children:t.summary.totalTimeFormatted}),"-",at.jsx("span",{className:"text-sm",children:t.summary.totalLengthFormatted})]}):null},amt=()=>{const{mapPopupOpen:t,routeMinimized:e}=Yf(),{stops:i,resetRoute:n}=js(),a=KT(1024);return i.length===0||e||a&&t?null:at.jsx("div",{className:"absolute bottom-5 lg:bottom-auto lg:top-5 left-5 lg:left-auto lg:right-5 z-40 flex flex-col gap-2.5 w-full max-w-[calc(100vw-40px)] sm:max-w-[400px]",children:at.jsx("div",{className:"bg-white/70 rounded-md shadow-md",children:at.jsxs("div",{className:"backdrop-blur-sm p-2.5 !rounded-md relative max-h-[calc(100dvh-106px)] lg:max-h-[calc(100vh-40px)] h-full flex flex-col",children:[at.jsx(Vz,{className:"absolute top-0 right-9 cursor-pointer z-50"}),at.jsx(y5,{onClick:n,className:"absolute top-0 right-0 z-50 "}),at.jsx(xht,{className:"ml-6 mb-2.5"}),at.jsx(tht,{}),at.jsx(smt,{}),at.jsx(omt,{}),at.jsx(nmt,{})]})})})},tm=t=>{if(t)return new Ii({geometry:{type:"point",longitude:t[0],latitude:t[1]},symbol:{type:"simple-marker",color:"white",size:8}})},lmt=()=>{const{view:t}=Wo(),{setPopupState:e}=WT(),i=async n=>{if(!t)return;const a=await VF(n);if(!a)return;t.goTo({target:tm(a.coords),zoom:20},{duration:2500});const d=new ue({longitude:a.coords[0],latitude:a.coords[1]});e({coords:a.coords,label:a.label,location:d})};return at.jsx("div",{className:"absolute top-5 left-5 z-40 flex flex-col gap-2.5 bg-white/70 rounded-md shadow-md w-full max-w-[calc(100vw-40px)] sm:max-w-[400px]",children:at.jsxs("div",{className:"backdrop-blur-sm p-2.5 !rounded-md h-[60px] flex items-center gap-2.5",children:[at.jsx("img",{src:"logo.svg",className:"h-full w-auto rounded-sm shadow-sm"}),at.jsx(HF,{onSelect:i,placeholder:"Search or Click on Map",className:"shadow-sm"})]})})},umt=({children:t})=>{const{view:e}=Wo(),[i,n]=K.useState(!1),[a,d]=K.useState(!1),[y,b]=K.useState(!1),[S,T]=K.useState(!1);K.useEffect(()=>{if(!e)return;const k=Ce(()=>e?.popup?.visible,D=>{d(D??!1)});return()=>{k.remove()}},[e]);const C=K.useMemo(()=>({routeMinimized:i,setRouteMinimized:n,mapPopupOpen:a,setMapPopupOpen:d,stopsListExpanded:y,setStopsListExpanded:b,directionsListExpanded:S,setDirectionsListExpanded:T}),[i,a,y,S]);return at.jsx(Hz.Provider,{value:C,children:t})},cmt=({children:t})=>{const{stops:e}=js(),[i,n]=K.useState(null),a=K.useMemo(()=>document.createElement("div"),[]),d=K.useMemo(()=>e.length===0,[e]),y=K.useMemo(()=>({popupState:i,setPopupState:n,showDirectionsButtons:d,popupContainer:a}),[i,n,d,a]);return at.jsx(Fz.Provider,{value:y,children:t})},hmt=t=>{K.useEffect(()=>{if(!t?.container)return;const e=i=>{i.target instanceof HTMLCanvasElement&&i.preventDefault()};return t.container.addEventListener("touchstart",e),()=>{t.container?.removeEventListener("touchstart",e)}},[t])};let jm=class extends me{constructor(e){super(e),this.addHandles([this.on("before-add",(i=>{i.item==null&&i.preventDefault()})),this.on("after-add",(i=>this._own(i.item))),this.on("after-remove",(i=>this._release(i.item)))])}get owner(){return this._get("owner")}set owner(e){e!==this._get("owner")&&(this._releaseAll(),this._set("owner",e),this._ownAll())}_ownAll(){for(const e of this.items)this._own(e)}_releaseAll(){for(const e of this.items)this._release(e)}_createNewInstance(e){return this.itemType?new(me.ofType(this.itemType.Type))(e):new me(e)}};function P7(t,e){return{type:t,cast:Mq,set(i){const n=mu(i,this._get(e),t);n.owner=this,this._set(e,n)}}}E([N()],jm.prototype,"owner",null),jm=E([ut("esri.core.support.OwningCollection")],jm);async function fmt(t){const e="portalItem"in t?t:{portalItem:t},{fromItem:i}=await te(async()=>{const{fromItem:n}=await import("./portalLayers-BG9s9QUR.js");return{fromItem:n}},__vite__mapDeps([41,42,43,44,45,32]));try{return await i(e)}catch(n){const a=e?.portalItem,d=a?.id||"unset",y=a?.portal?.url||ci.portalUrl;throw ae.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+y+"', id: '"+d+"')",n),n}}const Pk={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function x_(t,e,i,n=ul){const a=new Ta(jE(n)),d=Re.fromJSDate(t,{zone:a}),y=i==="decades"||i==="centuries"?"year":nH(i);return i==="decades"&&(e*=10),i==="centuries"&&(e*=100),d.plus({[y]:e}).toJSDate()}function dOt(t,e,i="milliseconds"){const n=t.getTime(),a=dmt(e,i,"milliseconds");return new Date(n+a)}function Ik(t,e,i=ul){const n=new Ta(jE(i)),a=Re.fromJSDate(t,{zone:n});if(e==="decades"||e==="centuries"){const y=a.startOf("year"),{year:b}=y,S=b-b%(e==="decades"?10:100);return y.set({year:S}).toJSDate()}const d=nH(e);return a.startOf(d).toJSDate()}function dmt(t,e,i){return t===0?0:t*Pk[e]/Pk[i]}function pOt(t,e){return t&&e?t.intersection(e):t||e}function nH(t){switch(t){case"milliseconds":return"millisecond";case"seconds":return"second";case"minutes":return"minute";case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";case"years":return"year"}}var xo,Q0;let ns=(Q0=class extends Zt{static get allTime(){return Dk}static get empty(){return pmt}static fromArray(e){return new xo({start:e[0]!=null?new Date(e[0]):e[0],end:e[1]!=null?new Date(e[1]):e[1]})}constructor(e){super(e),this.end=null,this.start=null}readEnd(e,i){return i.end!=null?new Date(i.end):null}writeEnd(e,i){i.end=e?.getTime()??null}get isAllTime(){return this.equals(xo.allTime)}get isEmpty(){return this.equals(xo.empty)}readStart(e,i){return i.start!=null?new Date(i.start):null}writeStart(e,i){i.start=e?.getTime()??null}clone(){return new xo({end:this.end,start:this.start})}equals(e){if(!e)return!1;const i=this.start?.getTime()??this.start,n=this.end?.getTime()??this.end,a=e.start?.getTime()??e.start,d=e.end?.getTime()??e.end;return i===a&&n===d}expandTo(e,i=ul){if(this.isEmpty||this.isAllTime)return this.clone();let n=this.start;n&&(n=Ik(n,e,i));let a=this.end;if(a){const d=Ik(a,e,i);a=a.getTime()===d.getTime()?d:x_(d,1,e,i)}return new xo({start:n,end:a})}intersection(e){if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return xo.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const i=this.start?.getTime()??-1/0,n=this.end?.getTime()??1/0,a=e.start?.getTime()??-1/0,d=e.end?.getTime()??1/0;let y,b;return a>=i&&a<=n?y=a:i>=a&&i<=d&&(y=i),n>=a&&n<=d?b=n:d>=i&&d<=n&&(b=d),y==null||b==null||isNaN(y)||isNaN(b)?xo.empty:new xo({start:y===-1/0?null:new Date(y),end:b===1/0?null:new Date(b)})}offset(e,i,n=ul){if(this.isEmpty||this.isAllTime)return this.clone();const a=new xo,{start:d,end:y}=this;return d!=null&&(a.start=x_(d,e,i,n)),y!=null&&(a.end=x_(y,e,i,n)),a}toArray(){return this.isEmpty?[void 0,void 0]:[this.start?.getTime()??null,this.end?.getTime()??null]}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return Dk.clone();const i=this.start!=null&&e.start!=null?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,n=this.end!=null&&e.end!=null?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new xo({start:i,end:n})}},xo=Q0,Q0);E([N({type:Date,json:{write:{allowNull:!0}}})],ns.prototype,"end",void 0),E([Ne("end")],ns.prototype,"readEnd",null),E([Pe("end")],ns.prototype,"writeEnd",null),E([N({readOnly:!0,json:{read:!1}})],ns.prototype,"isAllTime",null),E([N({readOnly:!0,json:{read:!1}})],ns.prototype,"isEmpty",null),E([N({type:Date,json:{write:{allowNull:!0}}})],ns.prototype,"start",void 0),E([Ne("start")],ns.prototype,"readStart",null),E([Pe("start")],ns.prototype,"writeStart",null),ns=xo=E([ut("esri.time.TimeExtent")],ns);const Dk=new ns,pmt=new ns({start:void 0,end:void 0});let ymt=0,cr=class extends gu.EventedMixin(ov.IdentifiableMixin(Uo)){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new Be(-180,-90,180,90,le.WGS84),this.id=Date.now().toString(16)+"-layer-"+ymt++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=le.WGS84,this.title=null,this.type=null,this.url=null,this.visibilityTimeExtent=null,this.visible=!0}static async fromArcGISServerUrl(e){const i=typeof e=="string"?{url:e}:e;return(await te(async()=>{const{fromUrl:n}=await import("./arcgisLayers-CLyUQwqV.js");return{fromUrl:n}},__vite__mapDeps([46,42,43,45]))).fromUrl(i)}static fromPortalItem(e){return fmt(e)}initialize(){this.when().catch((e=>{cs(e)||ae.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:e})}))}destroy(){const e=this.parent;if(e){const i=this;"layers"in e&&e.layers.includes(i)?e.layers.remove(i):"tables"in e&&e.tables.includes(i)?e.tables.remove(i):"baseLayers"in e&&e.baseLayers.includes(i)?e.baseLayers.remove(i):"referenceLayers"in e&&e.referenceLayers.includes(i)&&e.referenceLayers.remove(i),this._set("parent",null)}}get effectiveVisible(){let e=this.visible;const i=this.parent;return e&&i&&"effectiveVisible"in i&&(e&&=i.effectiveVisible),e}get hasAttributionData(){return this.attributionDataUrl!=null}get parsedUrl(){return hs(this.url)}createLayerView(e,i){return Promise.reject(new Lt("layer:create-layer-view","Layer does not support creating a layer view"))}async fetchAttributionData(){const e=this.attributionDataUrl;if(this.hasAttributionData&&e)return(await Di(e,{query:{f:"json"},responseType:"json"})).data;throw new Lt("layer:no-attribution-data","Layer does not have attribution data")}};E([N({type:String})],cr.prototype,"attributionDataUrl",void 0),E([N({readOnly:!0})],cr.prototype,"effectiveVisible",null),E([N({type:Be})],cr.prototype,"fullExtent",void 0),E([N({readOnly:!0})],cr.prototype,"hasAttributionData",null),E([N({type:String,clonable:!1})],cr.prototype,"id",void 0),E([N({type:Boolean,nonNullable:!0})],cr.prototype,"legendEnabled",void 0),E([N({type:["show","hide","hide-children"]})],cr.prototype,"listMode",void 0),E([N({type:Number,range:{min:0,max:1},nonNullable:!0})],cr.prototype,"opacity",void 0),E([N({clonable:!1})],cr.prototype,"parent",void 0),E([N({readOnly:!0})],cr.prototype,"parsedUrl",null),E([N({type:Boolean,readOnly:!0})],cr.prototype,"persistenceEnabled",void 0),E([N({type:Boolean})],cr.prototype,"popupEnabled",void 0),E([N({type:Boolean})],cr.prototype,"attributionVisible",void 0),E([N({type:le})],cr.prototype,"spatialReference",void 0),E([N({type:String})],cr.prototype,"title",void 0),E([N({readOnly:!0,json:{read:!1}})],cr.prototype,"type",void 0),E([N()],cr.prototype,"url",void 0),E([N({type:ns})],cr.prototype,"visibilityTimeExtent",void 0),E([N({type:Boolean,nonNullable:!0})],cr.prototype,"visible",void 0),cr=E([ut("esri.layers.Layer")],cr);const I7=(t=>t)(["operational-layers","basemap","ground"]);function H5(){const t=new Float32Array(16);return t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function mmt(t){const e=new Float32Array(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function gmt(t,e,i,n,a,d,y,b,S,T,C,k,D,z,G,B){const H=new Float32Array(16);return H[0]=t,H[1]=e,H[2]=i,H[3]=n,H[4]=a,H[5]=d,H[6]=y,H[7]=b,H[8]=S,H[9]=T,H[10]=C,H[11]=k,H[12]=D,H[13]=z,H[14]=G,H[15]=B,H}const vmt=H5();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:vmt,clone:mmt,create:H5,fromValues:gmt},Symbol.toStringTag,{value:"Module"}));let eM=1e-6;function Ls(){return eM}function bmt(t){eM=t}const iM=Math.random,wmt=Math.PI/180,_mt=180/Math.PI;function rM(t){return t*wmt}function Smt(t){return t*_mt}function xmt(t,e){return Math.abs(t-e)<=eM*Math.max(1,Math.abs(t),Math.abs(e))}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:iM,equals:xmt,getEpsilon:Ls,setEpsilon:bmt,toDegree:Smt,toRadian:rM},Symbol.toStringTag,{value:"Module"}));function sH(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function ih(t,e,i,n,a,d,y,b,S,T,C,k,D,z,G,B,H){return t[0]=e,t[1]=i,t[2]=n,t[3]=a,t[4]=d,t[5]=y,t[6]=b,t[7]=S,t[8]=T,t[9]=C,t[10]=k,t[11]=D,t[12]=z,t[13]=G,t[14]=B,t[15]=H,t}function V5(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function rh(t,e){if(t===e){const i=e[1],n=e[2],a=e[3],d=e[6],y=e[7],b=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=i,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=d,t[11]=e[14],t[12]=a,t[13]=y,t[14]=b}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function Tmt(t,e){return oH(t,e)||V5(t),t}function oH(t,e){const i=e[0],n=e[1],a=e[2],d=e[3],y=e[4],b=e[5],S=e[6],T=e[7],C=e[8],k=e[9],D=e[10],z=e[11],G=e[12],B=e[13],H=e[14],X=e[15],et=i*b-n*y,rt=i*S-a*y,it=i*T-d*y,ot=n*S-a*b,pt=n*T-d*b,yt=a*T-d*S,ft=C*B-k*G,vt=C*H-D*G,Ct=C*X-z*G,Dt=k*H-D*B,zt=k*X-z*B,Wt=D*X-z*H;let Xt=et*Wt-rt*zt+it*Dt+ot*Ct-pt*vt+yt*ft;return Xt?(Xt=1/Xt,t[0]=(b*Wt-S*zt+T*Dt)*Xt,t[1]=(a*zt-n*Wt-d*Dt)*Xt,t[2]=(B*yt-H*pt+X*ot)*Xt,t[3]=(D*pt-k*yt-z*ot)*Xt,t[4]=(S*Ct-y*Wt-T*vt)*Xt,t[5]=(i*Wt-a*Ct+d*vt)*Xt,t[6]=(H*it-G*yt-X*rt)*Xt,t[7]=(C*yt-D*it+z*rt)*Xt,t[8]=(y*zt-b*Ct+T*ft)*Xt,t[9]=(n*Ct-i*zt-d*ft)*Xt,t[10]=(G*pt-B*it+X*et)*Xt,t[11]=(k*it-C*pt-z*et)*Xt,t[12]=(b*vt-y*Dt-S*ft)*Xt,t[13]=(i*Dt-n*vt+a*ft)*Xt,t[14]=(B*rt-G*ot-H*et)*Xt,t[15]=(C*ot-k*rt+D*et)*Xt,t):null}function Emt(t,e){const i=e[0],n=e[1],a=e[2],d=e[3],y=e[4],b=e[5],S=e[6],T=e[7],C=e[8],k=e[9],D=e[10],z=e[11],G=e[12],B=e[13],H=e[14],X=e[15];return t[0]=b*(D*X-z*H)-k*(S*X-T*H)+B*(S*z-T*D),t[1]=-(n*(D*X-z*H)-k*(a*X-d*H)+B*(a*z-d*D)),t[2]=n*(S*X-T*H)-b*(a*X-d*H)+B*(a*T-d*S),t[3]=-(n*(S*z-T*D)-b*(a*z-d*D)+k*(a*T-d*S)),t[4]=-(y*(D*X-z*H)-C*(S*X-T*H)+G*(S*z-T*D)),t[5]=i*(D*X-z*H)-C*(a*X-d*H)+G*(a*z-d*D),t[6]=-(i*(S*X-T*H)-y*(a*X-d*H)+G*(a*T-d*S)),t[7]=i*(S*z-T*D)-y*(a*z-d*D)+C*(a*T-d*S),t[8]=y*(k*X-z*B)-C*(b*X-T*B)+G*(b*z-T*k),t[9]=-(i*(k*X-z*B)-C*(n*X-d*B)+G*(n*z-d*k)),t[10]=i*(b*X-T*B)-y*(n*X-d*B)+G*(n*T-d*b),t[11]=-(i*(b*z-T*k)-y*(n*z-d*k)+C*(n*T-d*b)),t[12]=-(y*(k*H-D*B)-C*(b*H-S*B)+G*(b*D-S*k)),t[13]=i*(k*H-D*B)-C*(n*H-a*B)+G*(n*D-a*k),t[14]=-(i*(b*H-S*B)-y*(n*H-a*B)+G*(n*S-a*b)),t[15]=i*(b*D-S*k)-y*(n*D-a*k)+C*(n*S-a*b),t}function Mmt(t){const e=t[0],i=t[1],n=t[2],a=t[3],d=t[4],y=t[5],b=t[6],S=t[7],T=t[8],C=t[9],k=t[10],D=t[11],z=t[12],G=t[13],B=t[14],H=t[15];return(e*y-i*d)*(k*H-D*B)-(e*b-n*d)*(C*H-D*G)+(e*S-a*d)*(C*B-k*G)+(i*b-n*y)*(T*H-D*z)-(i*S-a*y)*(T*B-k*z)+(n*S-a*b)*(T*G-C*z)}function aH(t,e,i){const n=e[0],a=e[1],d=e[2],y=e[3],b=e[4],S=e[5],T=e[6],C=e[7],k=e[8],D=e[9],z=e[10],G=e[11],B=e[12],H=e[13],X=e[14],et=e[15];let rt=i[0],it=i[1],ot=i[2],pt=i[3];return t[0]=rt*n+it*b+ot*k+pt*B,t[1]=rt*a+it*S+ot*D+pt*H,t[2]=rt*d+it*T+ot*z+pt*X,t[3]=rt*y+it*C+ot*G+pt*et,rt=i[4],it=i[5],ot=i[6],pt=i[7],t[4]=rt*n+it*b+ot*k+pt*B,t[5]=rt*a+it*S+ot*D+pt*H,t[6]=rt*d+it*T+ot*z+pt*X,t[7]=rt*y+it*C+ot*G+pt*et,rt=i[8],it=i[9],ot=i[10],pt=i[11],t[8]=rt*n+it*b+ot*k+pt*B,t[9]=rt*a+it*S+ot*D+pt*H,t[10]=rt*d+it*T+ot*z+pt*X,t[11]=rt*y+it*C+ot*G+pt*et,rt=i[12],it=i[13],ot=i[14],pt=i[15],t[12]=rt*n+it*b+ot*k+pt*B,t[13]=rt*a+it*S+ot*D+pt*H,t[14]=rt*d+it*T+ot*z+pt*X,t[15]=rt*y+it*C+ot*G+pt*et,t}function Amt(t,e,i){const n=i[0],a=i[1],d=i[2];if(e===t)t[12]=e[0]*n+e[4]*a+e[8]*d+e[12],t[13]=e[1]*n+e[5]*a+e[9]*d+e[13],t[14]=e[2]*n+e[6]*a+e[10]*d+e[14],t[15]=e[3]*n+e[7]*a+e[11]*d+e[15];else{const y=e[0],b=e[1],S=e[2],T=e[3],C=e[4],k=e[5],D=e[6],z=e[7],G=e[8],B=e[9],H=e[10],X=e[11];t[0]=y,t[1]=b,t[2]=S,t[3]=T,t[4]=C,t[5]=k,t[6]=D,t[7]=z,t[8]=G,t[9]=B,t[10]=H,t[11]=X,t[12]=y*n+C*a+G*d+e[12],t[13]=b*n+k*a+B*d+e[13],t[14]=S*n+D*a+H*d+e[14],t[15]=T*n+z*a+X*d+e[15]}return t}function Rmt(t,e,i){const n=i[0],a=i[1],d=i[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*a,t[5]=e[5]*a,t[6]=e[6]*a,t[7]=e[7]*a,t[8]=e[8]*d,t[9]=e[9]*d,t[10]=e[10]*d,t[11]=e[11]*d,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Cmt(t,e,i,n){let a=n[0],d=n[1],y=n[2],b=Math.sqrt(a*a+d*d+y*y);if(b<=Ls())return void sH(t,e);b=1/b,a*=b,d*=b,y*=b;const S=Math.sin(i),T=Math.cos(i),C=1-T,k=e[0],D=e[1],z=e[2],G=e[3],B=e[4],H=e[5],X=e[6],et=e[7],rt=e[8],it=e[9],ot=e[10],pt=e[11],yt=a*a*C+T,ft=d*a*C+y*S,vt=y*a*C-d*S,Ct=a*d*C-y*S,Dt=d*d*C+T,zt=y*d*C+a*S,Wt=a*y*C+d*S,Xt=d*y*C-a*S,re=y*y*C+T;t[0]=k*yt+B*ft+rt*vt,t[1]=D*yt+H*ft+it*vt,t[2]=z*yt+X*ft+ot*vt,t[3]=G*yt+et*ft+pt*vt,t[4]=k*Ct+B*Dt+rt*zt,t[5]=D*Ct+H*Dt+it*zt,t[6]=z*Ct+X*Dt+ot*zt,t[7]=G*Ct+et*Dt+pt*zt,t[8]=k*Wt+B*Xt+rt*re,t[9]=D*Wt+H*Xt+it*re,t[10]=z*Wt+X*Xt+ot*re,t[11]=G*Wt+et*Xt+pt*re,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15])}function Omt(t,e,i){const n=Math.sin(i),a=Math.cos(i),d=e[4],y=e[5],b=e[6],S=e[7],T=e[8],C=e[9],k=e[10],D=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=d*a+T*n,t[5]=y*a+C*n,t[6]=b*a+k*n,t[7]=S*a+D*n,t[8]=T*a-d*n,t[9]=C*a-y*n,t[10]=k*a-b*n,t[11]=D*a-S*n,t}function $mt(t,e,i){const n=Math.sin(i),a=Math.cos(i),d=e[0],y=e[1],b=e[2],S=e[3],T=e[8],C=e[9],k=e[10],D=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=d*a-T*n,t[1]=y*a-C*n,t[2]=b*a-k*n,t[3]=S*a-D*n,t[8]=d*n+T*a,t[9]=y*n+C*a,t[10]=b*n+k*a,t[11]=S*n+D*a,t}function Nmt(t,e,i){const n=Math.sin(i),a=Math.cos(i),d=e[0],y=e[1],b=e[2],S=e[3],T=e[4],C=e[5],k=e[6],D=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=d*a+T*n,t[1]=y*a+C*n,t[2]=b*a+k*n,t[3]=S*a+D*n,t[4]=T*a-d*n,t[5]=C*a-y*n,t[6]=k*a-b*n,t[7]=D*a-S*n,t}function kmt(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function Pmt(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Imt(t,e,i){if(e===0)return V5(t);let n=i[0],a=i[1],d=i[2],y=Math.sqrt(n*n+a*a+d*d);if(y<=Ls())return null;y=1/y,n*=y,a*=y,d*=y;const b=Math.sin(e),S=Math.cos(e),T=1-S;return t[0]=n*n*T+S,t[1]=a*n*T+d*b,t[2]=d*n*T-a*b,t[3]=0,t[4]=n*a*T-d*b,t[5]=a*a*T+S,t[6]=d*a*T+n*b,t[7]=0,t[8]=n*d*T+a*b,t[9]=a*d*T-n*b,t[10]=d*d*T+S,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Dmt(t,e){const i=Math.sin(e),n=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=i,t[7]=0,t[8]=0,t[9]=-i,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Lmt(t,e){const i=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=0,t[2]=-i,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=i,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function jmt(t,e){const i=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=i,t[2]=0,t[3]=0,t[4]=-i,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function lH(t,e,i){const n=e[0],a=e[1],d=e[2],y=e[3],b=n+n,S=a+a,T=d+d,C=n*b,k=n*S,D=n*T,z=a*S,G=a*T,B=d*T,H=y*b,X=y*S,et=y*T;return t[0]=1-(z+B),t[1]=k+et,t[2]=D-X,t[3]=0,t[4]=k-et,t[5]=1-(C+B),t[6]=G+H,t[7]=0,t[8]=D+X,t[9]=G-H,t[10]=1-(C+z),t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1,t}function zmt(t,e){const i=Umt,n=-e[0],a=-e[1],d=-e[2],y=e[3],b=e[4],S=e[5],T=e[6],C=e[7],k=n*n+a*a+d*d+y*y;return k>0?(i[0]=2*(b*y+C*n+S*d-T*a)/k,i[1]=2*(S*y+C*a+T*n-b*d)/k,i[2]=2*(T*y+C*d+b*a-S*n)/k):(i[0]=2*(b*y+C*n+S*d-T*a),i[1]=2*(S*y+C*a+T*n-b*d),i[2]=2*(T*y+C*d+b*a-S*n)),lH(t,e,i),t}const Umt=eh();function Fmt(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function Bmt(t,e){const i=e[0],n=e[1],a=e[2],d=e[4],y=e[5],b=e[6],S=e[8],T=e[9],C=e[10];return t[0]=Math.sqrt(i*i+n*n+a*a),t[1]=Math.sqrt(d*d+y*y+b*b),t[2]=Math.sqrt(S*S+T*T+C*C),t}function Gmt(t,e){const i=e[0]+e[5]+e[10];let n=0;return i>0?(n=2*Math.sqrt(i+1),t[3]=.25*n,t[0]=(e[6]-e[9])/n,t[1]=(e[8]-e[2])/n,t[2]=(e[1]-e[4])/n):e[0]>e[5]&&e[0]>e[10]?(n=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/n,t[0]=.25*n,t[1]=(e[1]+e[4])/n,t[2]=(e[8]+e[2])/n):e[5]>e[10]?(n=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/n,t[0]=(e[1]+e[4])/n,t[1]=.25*n,t[2]=(e[6]+e[9])/n):(n=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/n,t[0]=(e[8]+e[2])/n,t[1]=(e[6]+e[9])/n,t[2]=.25*n),t}function qmt(t,e,i,n){const a=e[0],d=e[1],y=e[2],b=e[3],S=a+a,T=d+d,C=y+y,k=a*S,D=a*T,z=a*C,G=d*T,B=d*C,H=y*C,X=b*S,et=b*T,rt=b*C,it=n[0],ot=n[1],pt=n[2];return t[0]=(1-(G+H))*it,t[1]=(D+rt)*it,t[2]=(z-et)*it,t[3]=0,t[4]=(D-rt)*ot,t[5]=(1-(k+H))*ot,t[6]=(B+X)*ot,t[7]=0,t[8]=(z+et)*pt,t[9]=(B-X)*pt,t[10]=(1-(k+G))*pt,t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1,t}function Hmt(t,e,i,n,a){const d=e[0],y=e[1],b=e[2],S=e[3],T=d+d,C=y+y,k=b+b,D=d*T,z=d*C,G=d*k,B=y*C,H=y*k,X=b*k,et=S*T,rt=S*C,it=S*k,ot=n[0],pt=n[1],yt=n[2],ft=a[0],vt=a[1],Ct=a[2],Dt=(1-(B+X))*ot,zt=(z+it)*ot,Wt=(G-rt)*ot,Xt=(z-it)*pt,re=(1-(D+X))*pt,_t=(H+et)*pt,It=(G+rt)*yt,$t=(H-et)*yt,ge=(1-(D+B))*yt;return t[0]=Dt,t[1]=zt,t[2]=Wt,t[3]=0,t[4]=Xt,t[5]=re,t[6]=_t,t[7]=0,t[8]=It,t[9]=$t,t[10]=ge,t[11]=0,t[12]=i[0]+ft-(Dt*ft+Xt*vt+It*Ct),t[13]=i[1]+vt-(zt*ft+re*vt+$t*Ct),t[14]=i[2]+Ct-(Wt*ft+_t*vt+ge*Ct),t[15]=1,t}function Vmt(t,e){const i=e[0],n=e[1],a=e[2],d=e[3],y=i+i,b=n+n,S=a+a,T=i*y,C=n*y,k=n*b,D=a*y,z=a*b,G=a*S,B=d*y,H=d*b,X=d*S;return t[0]=1-k-G,t[1]=C+X,t[2]=D-H,t[3]=0,t[4]=C-X,t[5]=1-T-G,t[6]=z+B,t[7]=0,t[8]=D+H,t[9]=z-B,t[10]=1-T-k,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Wmt(t,e,i,n,a,d,y){const b=1/(i-e),S=1/(a-n),T=1/(d-y);return t[0]=2*d*b,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*d*S,t[6]=0,t[7]=0,t[8]=(i+e)*b,t[9]=(a+n)*S,t[10]=(y+d)*T,t[11]=-1,t[12]=0,t[13]=0,t[14]=y*d*2*T,t[15]=0,t}function Jmt(t,e,i,n,a){const d=1/Math.tan(e/2);let y;return t[0]=d/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=d,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,a!=null&&a!==1/0?(y=1/(n-a),t[10]=(a+n)*y,t[14]=2*a*n*y):(t[10]=-1,t[14]=-2*n),t}function Ymt(t,e,i,n){const a=Math.tan(e.upDegrees*Math.PI/180),d=Math.tan(e.downDegrees*Math.PI/180),y=Math.tan(e.leftDegrees*Math.PI/180),b=Math.tan(e.rightDegrees*Math.PI/180),S=2/(y+b),T=2/(a+d);return t[0]=S,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=T,t[6]=0,t[7]=0,t[8]=-(y-b)*S*.5,t[9]=(a-d)*T*.5,t[10]=n/(i-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*i/(i-n),t[15]=0,t}function Kmt(t,e,i,n,a,d,y){const b=1/(e-i),S=1/(n-a),T=1/(d-y);return t[0]=-2*b,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*S,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*T,t[11]=0,t[12]=(e+i)*b,t[13]=(a+n)*S,t[14]=(y+d)*T,t[15]=1,t}function Xmt(t,e,i,n){const a=e[0],d=e[1],y=e[2];let b=a-i[0],S=d-i[1],T=y-i[2];const C=Ls();if(Math.abs(b)<C&&Math.abs(S)<C&&Math.abs(T)<C)return void V5(t);let k=1/Math.sqrt(b*b+S*S+T*T);b*=k,S*=k,T*=k;const D=n[0],z=n[1],G=n[2];let B=z*T-G*S,H=G*b-D*T,X=D*S-z*b;k=Math.sqrt(B*B+H*H+X*X),k?(k=1/k,B*=k,H*=k,X*=k):(B=0,H=0,X=0);let et=S*X-T*H,rt=T*B-b*X,it=b*H-S*B;k=Math.sqrt(et*et+rt*rt+it*it),k?(k=1/k,et*=k,rt*=k,it*=k):(et=0,rt=0,it=0),t[0]=B,t[1]=et,t[2]=b,t[3]=0,t[4]=H,t[5]=rt,t[6]=S,t[7]=0,t[8]=X,t[9]=it,t[10]=T,t[11]=0,t[12]=-(B*a+H*d+X*y),t[13]=-(et*a+rt*d+it*y),t[14]=-(b*a+S*d+T*y),t[15]=1}function Zmt(t,e,i,n){const a=e[0],d=e[1],y=e[2],b=n[0],S=n[1],T=n[2];let C=a-i[0],k=d-i[1],D=y-i[2],z=C*C+k*k+D*D;z>0&&(z=1/Math.sqrt(z),C*=z,k*=z,D*=z);let G=S*D-T*k,B=T*C-b*D,H=b*k-S*C;return z=G*G+B*B+H*H,z>0&&(z=1/Math.sqrt(z),G*=z,B*=z,H*=z),t[0]=G,t[1]=B,t[2]=H,t[3]=0,t[4]=k*H-D*B,t[5]=D*G-C*H,t[6]=C*B-k*G,t[7]=0,t[8]=C,t[9]=k,t[10]=D,t[11]=0,t[12]=a,t[13]=d,t[14]=y,t[15]=1,t}function Qmt(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function tgt(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+t[6]**2+t[7]**2+t[8]**2+t[9]**2+t[10]**2+t[11]**2+t[12]**2+t[13]**2+t[14]**2+t[15]**2)}function egt(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t[4]=e[4]+i[4],t[5]=e[5]+i[5],t[6]=e[6]+i[6],t[7]=e[7]+i[7],t[8]=e[8]+i[8],t[9]=e[9]+i[9],t[10]=e[10]+i[10],t[11]=e[11]+i[11],t[12]=e[12]+i[12],t[13]=e[13]+i[13],t[14]=e[14]+i[14],t[15]=e[15]+i[15],t}function uH(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t[4]=e[4]-i[4],t[5]=e[5]-i[5],t[6]=e[6]-i[6],t[7]=e[7]-i[7],t[8]=e[8]-i[8],t[9]=e[9]-i[9],t[10]=e[10]-i[10],t[11]=e[11]-i[11],t[12]=e[12]-i[12],t[13]=e[13]-i[13],t[14]=e[14]-i[14],t[15]=e[15]-i[15],t}function igt(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12]*i,t[13]=e[13]*i,t[14]=e[14]*i,t[15]=e[15]*i,t}function rgt(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t[2]=e[2]+i[2]*n,t[3]=e[3]+i[3]*n,t[4]=e[4]+i[4]*n,t[5]=e[5]+i[5]*n,t[6]=e[6]+i[6]*n,t[7]=e[7]+i[7]*n,t[8]=e[8]+i[8]*n,t[9]=e[9]+i[9]*n,t[10]=e[10]+i[10]*n,t[11]=e[11]+i[11]*n,t[12]=e[12]+i[12]*n,t[13]=e[13]+i[13]*n,t[14]=e[14]+i[14]*n,t[15]=e[15]+i[15]*n,t}function ngt(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function sgt(t,e){if(t===e)return!0;const i=t[0],n=t[1],a=t[2],d=t[3],y=t[4],b=t[5],S=t[6],T=t[7],C=t[8],k=t[9],D=t[10],z=t[11],G=t[12],B=t[13],H=t[14],X=t[15],et=e[0],rt=e[1],it=e[2],ot=e[3],pt=e[4],yt=e[5],ft=e[6],vt=e[7],Ct=e[8],Dt=e[9],zt=e[10],Wt=e[11],Xt=e[12],re=e[13],_t=e[14],It=e[15],$t=Ls();return Math.abs(i-et)<=$t*Math.max(1,Math.abs(i),Math.abs(et))&&Math.abs(n-rt)<=$t*Math.max(1,Math.abs(n),Math.abs(rt))&&Math.abs(a-it)<=$t*Math.max(1,Math.abs(a),Math.abs(it))&&Math.abs(d-ot)<=$t*Math.max(1,Math.abs(d),Math.abs(ot))&&Math.abs(y-pt)<=$t*Math.max(1,Math.abs(y),Math.abs(pt))&&Math.abs(b-yt)<=$t*Math.max(1,Math.abs(b),Math.abs(yt))&&Math.abs(S-ft)<=$t*Math.max(1,Math.abs(S),Math.abs(ft))&&Math.abs(T-vt)<=$t*Math.max(1,Math.abs(T),Math.abs(vt))&&Math.abs(C-Ct)<=$t*Math.max(1,Math.abs(C),Math.abs(Ct))&&Math.abs(k-Dt)<=$t*Math.max(1,Math.abs(k),Math.abs(Dt))&&Math.abs(D-zt)<=$t*Math.max(1,Math.abs(D),Math.abs(zt))&&Math.abs(z-Wt)<=$t*Math.max(1,Math.abs(z),Math.abs(Wt))&&Math.abs(G-Xt)<=$t*Math.max(1,Math.abs(G),Math.abs(Xt))&&Math.abs(B-re)<=$t*Math.max(1,Math.abs(B),Math.abs(re))&&Math.abs(H-_t)<=$t*Math.max(1,Math.abs(H),Math.abs(_t))&&Math.abs(X-It)<=$t*Math.max(1,Math.abs(X),Math.abs(It))}function ogt(t){const e=Ls(),i=t[0],n=t[1],a=t[2],d=t[4],y=t[5],b=t[6],S=t[8],T=t[9],C=t[10];return Math.abs(1-(i*i+d*d+S*S))<=e&&Math.abs(1-(n*n+y*y+T*T))<=e&&Math.abs(1-(a*a+b*b+C*C))<=e}function agt(t){return t[0]===1&&t[1]===0&&t[2]===0&&t[4]===0&&t[5]===1&&t[6]===0&&t[8]===0&&t[9]===0&&t[10]===1}const lgt=aH,ugt=uH;Object.freeze(Object.defineProperty({__proto__:null,add:egt,adjoint:Emt,copy:sH,determinant:Mmt,equals:sgt,exactEquals:ngt,frob:tgt,fromQuat:Vmt,fromQuat2:zmt,fromRotation:Imt,fromRotationTranslation:lH,fromRotationTranslationScale:qmt,fromRotationTranslationScaleOrigin:Hmt,fromScaling:Pmt,fromTranslation:kmt,fromXRotation:Dmt,fromYRotation:Lmt,fromZRotation:jmt,frustum:Wmt,getRotation:Gmt,getScale:Bmt,getTranslation:Fmt,hasIdentityRotation:agt,identity:V5,invert:oH,invertOrIdentity:Tmt,isOrthoNormal:ogt,lookAt:Xmt,mul:lgt,multiply:aH,multiplyScalar:igt,multiplyScalarAndAdd:rgt,ortho:Kmt,perspective:Jmt,perspectiveFromFieldOfView:Ymt,rotate:Cmt,rotateX:Omt,rotateY:$mt,rotateZ:Nmt,scale:Rmt,set:ih,str:Qmt,sub:ugt,subtract:uH,targetTo:Zmt,translate:Amt,transpose:rh},Symbol.toStringTag,{value:"Module"}));const cgt=(t,e)=>{const i=ih(t,e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1);return rh(i,i)},hgt=(t,e)=>{const i=ih(t,e,0,0,.5-.5*e,0,e,0,.5-.5*e,0,0,e,.5-.5*e,0,0,0,1);return rh(i,i)},fgt=(t,e)=>{const i=1-e,n=ih(t,.2126+.7874*i,.7152-.7152*i,.0722-.0722*i,0,.2126-.2126*i,.7152+.2848*i,.0722-.0722*i,0,.2126-.2126*i,.7152-.7152*i,.0722+.9278*i,0,0,0,0,1);return rh(n,n)},dgt=(t,e)=>{const i=Math.sin(e*Math.PI/180),n=Math.cos(e*Math.PI/180),a=ih(t,.213+.787*n-.213*i,.715-.715*n-.715*i,.072-.072*n+.928*i,0,.213-.213*n+.143*i,.715+.285*n+.14*i,.072-.072*n-.283*i,0,.213-.213*n-.787*i,.715-.715*n+.715*i,.072+.928*n+.072*i,0,0,0,0,1);return rh(a,a)},pgt=(t,e)=>{const i=1-2*e,n=ih(t,i,0,0,e,0,i,0,e,0,0,i,e,0,0,0,1);return rh(n,n)},ygt=(t,e)=>{const i=ih(t,.213+.787*e,.715-.715*e,.072-.072*e,0,.213-.213*e,.715+.285*e,.072-.072*e,0,.213-.213*e,.715-.715*e,.072+.928*e,0,0,0,0,1);return rh(i,i)},mgt=(t,e)=>{const i=1-e,n=ih(t,.393+.607*i,.769-.769*i,.189-.189*i,0,.349-.349*i,.686+.314*i,.168-.168*i,0,.272-.272*i,.534-.534*i,.131+.869*i,0,0,0,0,1);return rh(n,n)};let cH=class hH{constructor(e,i,n){this.strength=e,this.radius=i,this.threshold=n,this.type="bloom"}interpolate(e,i,n){this.strength=Ns(e.strength,i.strength,n),this.radius=Ns(e.radius,i.radius,n),this.threshold=Ns(e.threshold,i.threshold,n)}clone(){return new hH(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:zm(this.radius),strength:this.strength,threshold:this.threshold}}},fH=class dH{constructor(e){this.radius=e,this.type="blur"}interpolate(e,i,n){this.radius=Math.round(Ns(e.radius,i.radius,n))}clone(){return new dH(this.radius)}toJSON(){return{type:"blur",radius:zm(this.radius)}}},D7=class pH{constructor(e,i){this.type=e,this.amount=i,this.type!=="invert"&&this.type!=="grayscale"&&this.type!=="sepia"||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(e,i,n){this.amount=Ns(e.amount,i.amount,n),this._updateMatrix()}clone(){return new pH(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const e=this._colorMatrix||H5();switch(this.type){case"brightness":this._colorMatrix=cgt(e,this.amount);break;case"contrast":this._colorMatrix=hgt(e,this.amount);break;case"grayscale":this._colorMatrix=fgt(e,this.amount);break;case"invert":this._colorMatrix=pgt(e,this.amount);break;case"saturate":this._colorMatrix=ygt(e,this.amount);break;case"sepia":this._colorMatrix=mgt(e,this.amount)}}},yH=class mH{constructor(e,i,n,a){this.offsetX=e,this.offsetY=i,this.blurRadius=n,this.color=a,this.type="drop-shadow"}interpolate(e,i,n){this.offsetX=Ns(e.offsetX,i.offsetX,n),this.offsetY=Ns(e.offsetY,i.offsetY,n),this.blurRadius=Ns(e.blurRadius,i.blurRadius,n),this.color[0]=Math.round(Ns(e.color[0],i.color[0],n)),this.color[1]=Math.round(Ns(e.color[1],i.color[1],n)),this.color[2]=Math.round(Ns(e.color[2],i.color[2],n)),this.color[3]=Ns(e.color[3],i.color[3],n)}clone(){return new mH(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const e=[...this.color];return e[3]*=255,{type:"drop-shadow",xoffset:zm(this.offsetX),yoffset:zm(this.offsetY),blurRadius:zm(this.blurRadius),color:e}}},gH=class vH{constructor(e){this.angle=e,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(e,i,n){this.angle=Ns(e.angle,i.angle,n),this._updateMatrix()}clone(){return new vH(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const e=this._colorMatrix||H5();this._colorMatrix=dgt(e,this.angle)}},bH=class wH{constructor(e){this.amount=e,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(e,i,n){this.amount=Ns(e.amount,i.amount,n)}clone(){return new wH(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}};function Ns(t,e,i){return t+(e-t)*i}function zm(t){return Math.round(1e3*Kc(t))/1e3}function ggt(t){switch(t.type){case"grayscale":case"sepia":case"invert":return new D7(t.type,0);case"saturate":case"brightness":case"contrast":return new D7(t.type,1);case"opacity":return new bH(1);case"hue-rotate":return new gH(0);case"blur":return new fH(0);case"drop-shadow":return new yH(0,0,0,[...UE("transparent")]);case"bloom":return new cH(0,0,1)}}function vgt(t,e){const i=t.length>e.length?t:e;return(t.length>e.length?e:t).every(((n,a)=>n.type===i[a].type))}function bgt(t,e){const i=t.length>e.length?t:e,n=t.length>e.length?e:t;for(let a=n.length;a<i.length;a++)n.push(ggt(i[a]))}function wgt(t){const e=t[0];return!!e&&"type"in e}let Lk=class extends SyntaxError{constructor(e,i,n,a){super(e),this.expected=i,this.found=n,this.location=a,this.name="SyntaxError"}format(e){let i="Error: "+this.message;if(this.location){let n=null;const a=e.find((S=>S.source===this.location.source));a&&(n=a.text.split(/\r\n|\n|\r/g));const d=this.location.start,y=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(d):d,b=this.location.source+":"+y.line+":"+y.column;if(n){const S=this.location.end,T="".padEnd(y.line.toString().length," "),C=n[d.line-1],k=(d.line===S.line?S.column:C.length+1)-d.column||1;i+=`
 --> `+b+`
`+T+` |
`+y.line+" | "+C+`
`+T+" | "+"".padEnd(d.column-1," ")+"".padEnd(k,"^")}else i+=`
 at `+b}return i}static buildMessage(e,i){function n(D){return D.codePointAt(0).toString(16).toUpperCase()}const a=Object.prototype.hasOwnProperty.call(RegExp.prototype,"unicode")?new RegExp("[\\p{C}\\p{Mn}\\p{Mc}]","gu"):null;function d(D){return a?D.replace(a,(z=>"\\u{"+n(z)+"}")):D}function y(D){return d(D.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(z=>"\\x0"+n(z))).replace(/[\x10-\x1F\x7F-\x9F]/g,(z=>"\\x"+n(z))))}function b(D){return d(D.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(z=>"\\x0"+n(z))).replace(/[\x10-\x1F\x7F-\x9F]/g,(z=>"\\x"+n(z))))}const S={literal:D=>'"'+y(D.text)+'"',class(D){const z=D.parts.map((G=>Array.isArray(G)?b(G[0])+"-"+b(G[1]):b(G)));return"["+(D.inverted?"^":"")+z.join("")+"]"+(D.unicode?"u":"")},any:()=>"any character",end:()=>"end of input",other:D=>D.description};function T(D){return S[D.type](D)}function C(D){const z=D.map(T);if(z.sort(),z.length>0){let G=1;for(let B=1;B<z.length;B++)z[B-1]!==z[B]&&(z[G]=z[B],G++);z.length=G}switch(z.length){case 1:return z[0];case 2:return z[0]+" or "+z[1];default:return z.slice(0,-1).join(", ")+", or "+z[z.length-1]}}function k(D){return D?'"'+y(D)+'"':"end of input"}return"Expected "+C(e)+" but "+k(i)+" found."}};function _gt(t,e){const i={},n=(e=e!==void 0?e:{}).grammarSource,a={start:ne};let d=ne;const y="none",b=")",S=",",T="(",C="%",k="px",D="cm",z="mm",G="in",B="pt",H="pc",X="deg",et="rad",rt="grad",it="turn",ot="#",pt=".",yt="e",ft=/^[ \t\n\r]/,vt=/^[a-z\-]/,Ct=/^[0-9a-fA-F]/,Dt=/^[+\-]/,zt=/^[0-9]/,Wt=Ut("none"),Xt=ct("none",!1),re=ct(")",!1),_t=ct(",",!1),It=bt([" ","	",`
`,"\r"],!1,!1,!1),$t=Ut("function"),ge=ct("(",!1),dt=Ut("identifier"),Ft=bt([["a","z"],"-"],!1,!1,!1),Kt=Ut("percentage"),Vt=ct("%",!1),ie=Ut("length"),Oe=ct("px",!1),ce=ct("cm",!1),je=ct("mm",!1),ze=ct("in",!1),Si=ct("pt",!1),Ge=ct("pc",!1),Qi=Ut("angle"),Vi=ct("deg",!1),xn=ct("rad",!1),we=ct("grad",!1),ts=ct("turn",!1),bi=Ut("number"),Q=Ut("color"),pr=ct("#",!1),fs=bt([["0","9"],["a","f"],["A","F"]],!1,!1,!1),Me=bt(["+","-"],!1,!1,!1),Ve=bt([["0","9"]],!1,!1,!1),Hr=ct(".",!1),Tr=ct("e",!1);function Tn(){return[]}function Pn(lt,Rt){return{type:"function",name:lt,parameters:Rt||[]}}function ds(lt,Rt){return Rt.length>0?Oa(lt,Rt,3):[lt]}function Wi(lt){return{type:"quantity",value:lt.value,unit:lt.unit}}function Ri(lt){return{type:"color",colorType:lt.type,value:lt.value}}function Gt(lt){return lt}function In(){return nt()}function c(lt){return{value:lt,unit:"%"}}function I(lt){return{value:lt,unit:"px"}}function w(lt){return{value:lt,unit:"cm"}}function u(lt){return{value:lt,unit:"mm"}}function o(lt){return{value:lt,unit:"in"}}function r(lt){return{value:lt,unit:"pt"}}function s(lt){return{value:lt,unit:"pc"}}function l(lt){return{value:lt,unit:"deg"}}function h(lt){return{value:lt,unit:"rad"}}function f(lt){return{value:lt,unit:"grad"}}function p(lt){return{value:lt,unit:"turn"}}function g(lt){return{value:lt,unit:null}}function _(){return{type:"hex",value:nt()}}function M(lt){return{type:"function",value:lt}}function R(){return{type:"named",value:nt()}}function $(){return parseFloat(nt())}let P=0|e.peg$currPos,j=P;const F=[{line:1,column:1}];let V,W=P,q=e.peg$maxFailExpected||[],J=0|e.peg$silentFails;if(e.startRule){if(!(e.startRule in a))throw new Error(`Can't start parsing from rule "`+e.startRule+'".');d=a[e.startRule]}function nt(){return t.substring(j,P)}function st(lt=P){const Rt=t.codePointAt(lt);return Rt===void 0?"":String.fromCodePoint(Rt)}function ct(lt,Rt){return{type:"literal",text:lt,ignoreCase:Rt}}function bt(lt,Rt,Yt,Te){return{type:"class",parts:lt,inverted:Rt,ignoreCase:Yt,unicode:Te}}function Tt(){return{type:"end"}}function Ut(lt){return{type:"other",description:lt}}function Pt(lt){let Rt,Yt=F[lt];if(Yt)return Yt;if(lt>=F.length)Rt=F.length-1;else for(Rt=lt;!F[--Rt];);for(Yt=F[Rt],Yt={line:Yt.line,column:Yt.column};Rt<lt;)t.charCodeAt(Rt)===10?(Yt.line++,Yt.column=1):Yt.column++,Rt++;return F[lt]=Yt,Yt}function ee(lt,Rt,Yt){const Te=Pt(lt),mi=Pt(Rt);return{source:n,start:{offset:lt,line:Te.line,column:Te.column},end:{offset:Rt,line:mi.line,column:mi.column}}}function Nt(lt){P<W||(P>W&&(W=P,q=[]),q.push(lt))}function _e(lt,Rt,Yt){return new Lk(Lk.buildMessage(lt,Rt),lt,Rt,Yt)}function ne(){let lt;return lt=Ye(),lt===i&&(lt=pi()),lt}function Ye(){let lt,Rt;return J++,lt=P,Ae(),t.substr(P,4)===y?(Rt=y,P+=4):(Rt=i,J===0&&Nt(Xt)),Rt!==i?(Ae(),j=lt,lt=Tn()):(P=lt,lt=i),J--,lt===i&&J===0&&Nt(Wt),lt}function pi(){let lt,Rt;if(lt=[],Rt=xi(),Rt!==i)for(;Rt!==i;)lt.push(Rt),Rt=xi();else lt=i;return lt}function xi(){let lt,Rt,Yt,Te;return lt=P,Ae(),Rt=Ue(),Rt!==i?(Ae(),Yt=ai(),Yt===i&&(Yt=null),Ae(),t.charCodeAt(P)===41?(Te=b,P++):(Te=i,J===0&&Nt(re)),Te!==i?(Ae(),j=lt,lt=Pn(Rt,Yt)):(P=lt,lt=i)):(P=lt,lt=i),lt}function ai(){let lt,Rt,Yt,Te,mi,Ji,Dr,$i;if(lt=P,Rt=Qe(),Rt!==i){for(Yt=[],Te=P,mi=Ae(),t.charCodeAt(P)===44?(Ji=S,P++):(Ji=i,J===0&&Nt(_t)),Ji===i&&(Ji=null),Dr=Ae(),$i=Qe(),$i!==i?(mi=[mi,Ji,Dr,$i],Te=mi):(P=Te,Te=i);Te!==i;)Yt.push(Te),Te=P,mi=Ae(),t.charCodeAt(P)===44?(Ji=S,P++):(Ji=i,J===0&&Nt(_t)),Ji===i&&(Ji=null),Dr=Ae(),$i=Qe(),$i!==i?(mi=[mi,Ji,Dr,$i],Te=mi):(P=Te,Te=i);j=lt,lt=ds(Rt,Yt)}else P=lt,lt=i;return lt}function Qe(){let lt,Rt;return lt=P,Rt=yi(),Rt===i&&(Rt=un(),Rt===i&&(Rt=Ie(),Rt===i&&(Rt=Ir()))),Rt!==i&&(j=lt,Rt=Wi(Rt)),lt=Rt,lt===i&&(lt=P,Rt=li(),Rt!==i&&(j=lt,Rt=Ri(Rt)),lt=Rt),lt}function Ae(){let lt,Rt;for(J++,lt=[],Rt=t.charAt(P),ft.test(Rt)?P++:(Rt=i,J===0&&Nt(It));Rt!==i;)lt.push(Rt),Rt=t.charAt(P),ft.test(Rt)?P++:(Rt=i,J===0&&Nt(It));return J--,lt}function Ue(){let lt,Rt,Yt;return J++,lt=P,Rt=Li(),Rt!==i?(t.charCodeAt(P)===40?(Yt=T,P++):(Yt=i,J===0&&Nt(ge)),Yt!==i?(j=lt,lt=Rt):(P=lt,lt=i)):(P=lt,lt=i),J--,lt===i&&(Rt=i,J===0&&Nt($t)),lt}function Li(){let lt,Rt,Yt;if(J++,lt=P,Rt=[],Yt=t.charAt(P),vt.test(Yt)?P++:(Yt=i,J===0&&Nt(Ft)),Yt!==i)for(;Yt!==i;)Rt.push(Yt),Yt=t.charAt(P),vt.test(Yt)?P++:(Yt=i,J===0&&Nt(Ft));else Rt=i;return Rt!==i&&(j=lt,Rt=In()),lt=Rt,J--,lt===i&&(Rt=i,J===0&&Nt(dt)),lt}function yi(){let lt,Rt,Yt;return J++,lt=P,Ae(),Rt=lr(),Rt!==i?(t.charCodeAt(P)===37?(Yt=C,P++):(Yt=i,J===0&&Nt(Vt)),Yt!==i?(j=lt,lt=c(Rt)):(P=lt,lt=i)):(P=lt,lt=i),J--,lt===i&&J===0&&Nt(Kt),lt}function un(){let lt,Rt,Yt;return J++,lt=P,Ae(),Rt=lr(),Rt!==i?(t.substr(P,2)===k?(Yt=k,P+=2):(Yt=i,J===0&&Nt(Oe)),Yt!==i?(j=lt,lt=I(Rt)):(P=lt,lt=i)):(P=lt,lt=i),lt===i&&(lt=P,Ae(),Rt=lr(),Rt!==i?(t.substr(P,2)===D?(Yt=D,P+=2):(Yt=i,J===0&&Nt(ce)),Yt!==i?(j=lt,lt=w(Rt)):(P=lt,lt=i)):(P=lt,lt=i),lt===i&&(lt=P,Ae(),Rt=lr(),Rt!==i?(t.substr(P,2)===z?(Yt=z,P+=2):(Yt=i,J===0&&Nt(je)),Yt!==i?(j=lt,lt=u(Rt)):(P=lt,lt=i)):(P=lt,lt=i),lt===i&&(lt=P,Ae(),Rt=lr(),Rt!==i?(t.substr(P,2)===G?(Yt=G,P+=2):(Yt=i,J===0&&Nt(ze)),Yt!==i?(j=lt,lt=o(Rt)):(P=lt,lt=i)):(P=lt,lt=i),lt===i&&(lt=P,Ae(),Rt=lr(),Rt!==i?(t.substr(P,2)===B?(Yt=B,P+=2):(Yt=i,J===0&&Nt(Si)),Yt!==i?(j=lt,lt=r(Rt)):(P=lt,lt=i)):(P=lt,lt=i),lt===i&&(lt=P,Ae(),Rt=lr(),Rt!==i?(t.substr(P,2)===H?(Yt=H,P+=2):(Yt=i,J===0&&Nt(Ge)),Yt!==i?(j=lt,lt=s(Rt)):(P=lt,lt=i)):(P=lt,lt=i)))))),J--,lt===i&&J===0&&Nt(ie),lt}function Ie(){let lt,Rt,Yt;return J++,lt=P,Rt=lr(),Rt!==i?(t.substr(P,3)===X?(Yt=X,P+=3):(Yt=i,J===0&&Nt(Vi)),Yt!==i?(j=lt,lt=l(Rt)):(P=lt,lt=i)):(P=lt,lt=i),lt===i&&(lt=P,Rt=lr(),Rt!==i?(t.substr(P,3)===et?(Yt=et,P+=3):(Yt=i,J===0&&Nt(xn)),Yt!==i?(j=lt,lt=h(Rt)):(P=lt,lt=i)):(P=lt,lt=i),lt===i&&(lt=P,Rt=lr(),Rt!==i?(t.substr(P,4)===rt?(Yt=rt,P+=4):(Yt=i,J===0&&Nt(we)),Yt!==i?(j=lt,lt=f(Rt)):(P=lt,lt=i)):(P=lt,lt=i),lt===i&&(lt=P,Rt=lr(),Rt!==i?(t.substr(P,4)===it?(Yt=it,P+=4):(Yt=i,J===0&&Nt(ts)),Yt!==i?(j=lt,lt=p(Rt)):(P=lt,lt=i)):(P=lt,lt=i)))),J--,lt===i&&(Rt=i,J===0&&Nt(Qi)),lt}function Ir(){let lt,Rt;return J++,lt=P,Ae(),Rt=lr(),Rt!==i?(j=lt,lt=g(Rt)):(P=lt,lt=i),J--,lt===i&&J===0&&Nt(bi),lt}function li(){let lt,Rt,Yt,Te;if(J++,lt=P,t.charCodeAt(P)===35?(Rt=ot,P++):(Rt=i,J===0&&Nt(pr)),Rt!==i){if(Yt=[],Te=t.charAt(P),Ct.test(Te)?P++:(Te=i,J===0&&Nt(fs)),Te!==i)for(;Te!==i;)Yt.push(Te),Te=t.charAt(P),Ct.test(Te)?P++:(Te=i,J===0&&Nt(fs));else Yt=i;Yt!==i?(j=lt,lt=_()):(P=lt,lt=i)}else P=lt,lt=i;return lt===i&&(lt=P,Rt=xi(),Rt!==i&&(j=lt,Rt=M(Rt)),lt=Rt,lt===i&&(lt=P,Rt=Li(),Rt!==i&&(j=lt,Rt=R()),lt=Rt)),J--,lt===i&&(Rt=i,J===0&&Nt(Q)),lt}function lr(){let lt,Rt,Yt,Te,mi,Ji,Dr,$i;for(lt=P,Rt=t.charAt(P),Dt.test(Rt)?P++:(Rt=i,J===0&&Nt(Me)),Rt===i&&(Rt=null),Yt=P,Te=[],mi=t.charAt(P),zt.test(mi)?P++:(mi=i,J===0&&Nt(Ve));mi!==i;)Te.push(mi),mi=t.charAt(P),zt.test(mi)?P++:(mi=i,J===0&&Nt(Ve));if(t.charCodeAt(P)===46?(mi=pt,P++):(mi=i,J===0&&Nt(Hr)),mi!==i){if(Ji=[],Dr=t.charAt(P),zt.test(Dr)?P++:(Dr=i,J===0&&Nt(Ve)),Dr!==i)for(;Dr!==i;)Ji.push(Dr),Dr=t.charAt(P),zt.test(Dr)?P++:(Dr=i,J===0&&Nt(Ve));else Ji=i;Ji!==i?(Te=[Te,mi,Ji],Yt=Te):(P=Yt,Yt=i)}else P=Yt,Yt=i;if(Yt===i)if(Yt=[],Te=t.charAt(P),zt.test(Te)?P++:(Te=i,J===0&&Nt(Ve)),Te!==i)for(;Te!==i;)Yt.push(Te),Te=t.charAt(P),zt.test(Te)?P++:(Te=i,J===0&&Nt(Ve));else Yt=i;if(Yt!==i){if(Te=P,t.charCodeAt(P)===101?(mi=yt,P++):(mi=i,J===0&&Nt(Tr)),mi!==i){if(Ji=t.charAt(P),Dt.test(Ji)?P++:(Ji=i,J===0&&Nt(Me)),Ji===i&&(Ji=null),Dr=[],$i=t.charAt(P),zt.test($i)?P++:($i=i,J===0&&Nt(Ve)),$i!==i)for(;$i!==i;)Dr.push($i),$i=t.charAt(P),zt.test($i)?P++:($i=i,J===0&&Nt(Ve));else Dr=i;Dr!==i?(mi=[mi,Ji,Dr],Te=mi):(P=Te,Te=i)}else P=Te,Te=i;Te===i&&(Te=null),j=lt,lt=$()}else P=lt,lt=i;return lt}function Ca(lt,Rt){return lt.map((function(Yt){return Yt[Rt]}))}function Oa(lt,Rt,Yt){return[lt].concat(Ca(Rt,Yt))}V=d();const yl=V!==i&&P===t.length;function o1(){throw V!==i&&P<t.length&&Nt(Tt()),_e(q,W<t.length?st(W):null,W<t.length?ee(W,W+1):ee(W,W))}return e.peg$library?{peg$result:V,peg$currPos:P,peg$FAILED:i,peg$maxFailExpected:q,peg$maxFailPos:W,peg$success:yl,peg$throw:yl?void 0:o1}:yl?V:void o1()}function _H(t){if(!t||t.length===0)return null;if(typeof t=="string"){const i=jk(t);return i&&i.length!==0?i:null}const e=t.map((i=>{if(!Number.isFinite(i.scale)||i.scale<=0)throw new Lt("effect:invalid-scale","scale must be finite and greater than 0",{stop:i});return{scale:i.scale,effects:jk(i.value)}}));e.sort(((i,n)=>n.effects.length-i.effects.length));for(let i=0;i<e.length-1;i++){if(!vgt(e[i].effects,e[i+1].effects))throw new Lt("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:e[i].effects,b:e[i+1].effects});bgt(e[i].effects,e[i+1].effects)}return e.sort(((i,n)=>n.scale-i.scale)),e}function jk(t){let e;if(!t)return[];try{e=_gt(t)}catch(i){throw new Lt("effect:invalid-syntax","Invalid effect syntax",{value:t,error:i})}return e.map((i=>Sgt(i)))}function Sgt(t){try{switch(t.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return xgt(t);case"opacity":return Tgt(t);case"hue-rotate":return Egt(t);case"blur":return Mgt(t);case"drop-shadow":return Agt(t);case"bloom":return Rgt(t)}}catch(e){throw e.details.filter=t,e}throw new Lt("effect:unknown-effect",`Effect '${t.name}' is not supported`,{effect:t})}function xgt(t){let e=1;return r1(t.parameters,1),t.parameters.length===1&&(e=ma(t.parameters[0])),new D7(t.name,e)}function Tgt(t){let e=1;return r1(t.parameters,1),t.parameters.length===1&&(e=ma(t.parameters[0])),new bH(e)}function Egt(t){let e=0;return r1(t.parameters,1),t.parameters.length===1&&(e=Pgt(t.parameters[0])),new gH(e)}function Mgt(t){let e=0;return r1(t.parameters,1),t.parameters.length===1&&(e=oM(t.parameters[0]),fv(e,t.parameters[0])),new fH(e)}function Agt(t){const e=[];let i=null;for(const n of t.parameters)if(n.type==="color"){if(e.length&&Object.freeze(e),i)throw new Lt("effect:type-error","Accepts only one color",{});i=Igt(n)}else{const a=oM(n);if(Object.isFrozen(e))throw new Lt("effect:type-error","<length> parameters not consecutive",{lengths:e});e.push(a),e.length===3&&fv(a,n)}if(e.length<2||e.length>3)throw new Lt("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${e.length}}`,{lengths:e});return new yH(e[0],e[1],e[2]||0,i||SH("black"))}function Rgt(t){let e=1,i=0,n=0;return r1(t.parameters,3),t.parameters[0]&&(e=ma(t.parameters[0])),t.parameters[1]&&(i=oM(t.parameters[1]),fv(i,t.parameters[1])),t.parameters[2]&&(n=ma(t.parameters[2])),new cH(e,i,n)}function r1(t,e){if(t.length>e)throw new Lt("effect:type-error",`Function supports up to ${e} parameters, Actual: ${t.length}`,{parameters:t})}function W5(t){if(t.type==="color")return"<color>";if(t.unit){if(t.unit in sM)return"<length>";if(t.unit in nM)return"<angle>";if(t.unit==="%")return"<percentage>"}return"<double>"}function fv(t,e){if(t<0)throw new Lt("effect:type-error",`Negative values are not allowed, Actual: ${t}`,{term:e})}function Cgt(t){if(t.type!=="quantity"||t.unit!==null)throw new Lt("effect:type-error",`Expected <double>, Actual: ${W5(t)}`,{term:t})}function Ogt(t){if(t.type!=="quantity"||t.unit!==null&&t.unit!=="%")throw new Lt("effect:type-error",`Expected <double> or <percentage>, Actual: ${W5(t)}`,{term:t})}const nM={deg:1,grad:.9,rad:180/Math.PI,turn:360};function $gt(t){if(t.type!=="quantity"||!(t.value===0&&t.unit===null||t.unit&&nM[t.unit]!=null))throw new Lt("effect:type-error",`Expected <angle>, Actual: ${W5(t)}`,{term:t})}const sM={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function Ngt(t){if(t.type!=="quantity"||!(t.value===0&&t.unit===null||t.unit&&sM[t.unit]!=null))throw new Lt("effect:type-error",`Expected <length>, Actual: ${W5(t)}`,{term:t})}function ma(t){Ogt(t);const e=t.value;return fv(e,t),t.unit==="%"?.01*e:e}function kgt(t){return Cgt(t),fv(t.value,t),t.value}function Pgt(t){return $gt(t),t.value*nM[t.unit]||0}function oM(t){return Ngt(t),t.value*sM[t.unit]||0}function Igt(t){switch(t.colorType){case"hex":return Q0t(t.value);case"named":return SH(t.value);case"function":return jgt(t.value)}}function SH(t){if(!jG(t))throw new Lt("effect:unknown-color",`color '${t}' isn't valid`,{namedColor:t});return Z0t(t)}const Dgt=/^rgba?/i,Lgt=/^hsla?/i;function jgt(t){if(r1(t.parameters,4),Dgt.test(t.name))return[ma(t.parameters[0]),ma(t.parameters[1]),ma(t.parameters[2]),t.parameters[3]?ma(t.parameters[3]):1];if(Lgt.test(t.name))return zG(kgt(t.parameters[0]),ma(t.parameters[1]),ma(t.parameters[2]),t.parameters[3]?ma(t.parameters[3]):1);throw new Lt("effect:syntax-error",`Invalid color function '${t.name}'`,{colorFunction:t})}function zgt(t,e,i){try{return Bgt(t)}catch(n){i?.messages?.push(n)}return null}function Ugt(t,e,i,n){try{const a=Fgt(t);Hf(i,a,e)}catch(a){n.messages&&n.messages.push(a)}}function Fgt(t){const e=_H(t);return e?wgt(e)?e.map((i=>i.toJSON())):e.map((({scale:i,effects:n})=>({scale:i,value:n.map((a=>a.toJSON()))}))):null}function Bgt(t){if(!t||t.length===0)return null;if(Ggt(t)){const e=[];for(const i of t)e.push({scale:i.scale,value:zk(i.value)});return e}return zk(t)}function Ggt(t){const e=t[0];return!!e&&"scale"in e}function zk(t){if(!t?.length)return"";const e=[];for(const i of t){let n=[];switch(i.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":n=[Nl(i,"amount")];break;case"blur":n=[Nl(i,"radius","pt")];break;case"hue-rotate":n=[Nl(i,"angle","deg")];break;case"drop-shadow":n=[Nl(i,"xoffset","pt"),Nl(i,"yoffset","pt"),Nl(i,"blurRadius","pt"),qgt(i,"color")];break;case"bloom":n=[Nl(i,"strength"),Nl(i,"radius","pt"),Nl(i,"threshold")]}const a=`${i.type}(${n.filter(Boolean).join(" ")})`;_H(a),e.push(a)}return e.join(" ")}function Nl(t,e,i){if(t[e]==null)throw new Lt("effect:missing-parameter",`Missing parameter '${e}' in ${t.type} effect`,{effect:t});return i?t[e]+i:""+t[e]}function qgt(t,e){if(t[e]==null)throw new Lt("effect:missing-parameter",`Missing parameter '${e}' in ${t.type} effect`,{effect:t});const i=t[e];return`rgba(${i[0]||0}, ${i[1]||0}, ${i[2]||0}, ${i[3]/255||0})`}const Hgt={type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:{layerContainerTypes:I7}},"portal-item":{read:!0,write:{layerContainerTypes:I7}}}}},Uk={read:{reader:zgt},write:{allowNull:!0,writer:Ugt,layerContainerTypes:I7}},Vgt={json:{read:!1,write:!1,origins:{"web-map":Uk,"portal-item":Uk}}},Wgt=t=>{let e=class extends t{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return E([N(Hgt)],e.prototype,"blendMode",void 0),E([N(Vgt)],e.prototype,"effect",void 0),e=E([ut("esri.layers.mixins.BlendLayer")],e),e},Jgt=t=>{let e=class extends t{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const i={minScale:this.minScale,maxScale:this.maxScale},n=this.parent;n&&"effectiveScaleRange"in n&&Ygt(i,n.effectiveScaleRange);const a=this._get("effectiveScaleRange");return a&&a.minScale===i.minScale&&a.maxScale===i.maxScale?a:i}};return E([N({type:Number,nonNullable:!0,json:{write:!0}})],e.prototype,"minScale",void 0),E([N({type:Number,nonNullable:!0,json:{write:!0}})],e.prototype,"maxScale",void 0),E([N({readOnly:!0})],e.prototype,"effectiveScaleRange",null),e=E([ut("esri.layers.mixins.ScaleRangeLayer")],e),e};function Ygt(t,e){return t.minScale=t.minScale>0?e.minScale>0?Math.min(t.minScale,e.minScale):t.minScale:e.minScale,t.maxScale=t.maxScale>0?e.maxScale>0?Math.max(t.maxScale,e.maxScale):t.maxScale:e.maxScale,t}let vf=class extends jm{_own(e){e.layer&&"remove"in e.layer&&e.layer!==this.owner&&e.layer.remove(e),e.layer=this.owner}_release(e){e.layer===this.owner&&(e.layer=null)}};E([pB({Type:Ii,ensureType:an(Ii)})],vf.prototype,"itemType",void 0),vf=E([ut("esri.support.GraphicsCollection")],vf);var L7;let em=L7=class extends Zt{constructor(t){super(t)}async collectRequiredFields(t,e){return Jc(t,e,this.expression)}clone(){return new L7({expression:this.expression,title:this.title})}equals(t){return this.expression===t.expression&&this.title===t.title}};E([N({type:String,json:{write:{isRequired:!0}}})],em.prototype,"expression",void 0),E([N({type:String,json:{write:!0}})],em.prototype,"title",void 0),em=L7=E([ut("esri.symbols.support.FeatureExpressionInfo")],em);const Fk=em,aM={unknown:1,inches:$r(1,"meters","inches"),feet:$r(1,"meters","feet"),"us-feet":$r(1,"meters","us-feet"),yards:$r(1,"meters","yards"),miles:$r(1,"meters","miles"),"nautical-miles":$r(1,"meters","nautical-miles"),millimeters:$r(1,"meters","millimeters"),centimeters:$r(1,"meters","centimeters"),decimeters:$r(1,"meters","decimeters"),meters:$r(1,"meters","meters"),kilometers:$r(1,"meters","kilometers"),"decimal-degrees":1/hnt(1,"meters",_r.radius)};function vOt(t){return!!t&&aM[t]!=null}function bOt(t){return 1/(aM[t]||1)}function Kgt(){const t=Object.keys(aM);return uT(t,"decimal-degrees"),t.sort(),t}const Xgt=Kgt();var j7;const K2=He()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),Bk=new wr({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});var tp;let ql=(tp=class extends Zt{constructor(e){super(e),this.featureExpressionInfo=void 0,this.offset=null}readFeatureExpressionInfo(e,i){return e!=null?e.expression?e:void 0:i.featureExpression&&i.featureExpression.value===0?{expression:"0"}:void 0}writeFeatureExpressionInfo(e,i,n,a){i[n]=e.write({},a),e.expression==="0"&&(i.featureExpression={value:0})}get mode(){const{offset:e,featureExpressionInfo:i}=this;return this._isOverridden("mode")?this._get("mode"):e!=null||i?"relative-to-ground":"on-the-ground"}set mode(e){this._override("mode",e)}set unit(e){this._set("unit",e)}write(e,i){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(e,i):null}clone(){return new j7({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}equals(e){return this.mode===e.mode&&this.offset===e.offset&&this.unit===e.unit&&Rtt(this.featureExpressionInfo,e.featureExpressionInfo)}},j7=tp,tp);E([N({type:Fk,json:{write:!0}})],ql.prototype,"featureExpressionInfo",void 0),E([Ne("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],ql.prototype,"readFeatureExpressionInfo",null),E([Pe("featureExpressionInfo",{featureExpressionInfo:{type:Fk},"featureExpression.value":{type:[0]}})],ql.prototype,"writeFeatureExpressionInfo",null),E([N({type:K2.apiValues,nonNullable:!0,json:{type:K2.jsonValues,read:K2.read,write:{writer:K2.write,isRequired:!0}}})],ql.prototype,"mode",null),E([N({type:Number,json:{write:!0}})],ql.prototype,"offset",void 0),E([N({type:Xgt,json:{type:String,read:Bk.read,write:Bk.write}})],ql.prototype,"unit",null),ql=j7=E([ut("esri.symbols.support.ElevationInfo")],ql);let Va=class extends Wgt(Jgt(cr)){constructor(e){super(e),this.elevationInfo=null,this.graphics=new vf,this.screenSizePerspectiveEnabled=!0,this.type="graphics",this.internal=!1}destroy(){this.removeAll(),this.graphics.destroy()}add(e){return this.graphics.add(e),this}addMany(e){return this.graphics.addMany(e),this}removeAll(){return this.graphics.removeAll(),this}remove(e){this.graphics.remove(e)}removeMany(e){this.graphics.removeMany(e)}on(e,i){return super.on(e,i)}graphicChanged(e){this.emit("graphic-update",e)}};E([N({type:ql})],Va.prototype,"elevationInfo",void 0),E([N(P7(vf,"graphics"))],Va.prototype,"graphics",void 0),E([N({type:["show","hide"]})],Va.prototype,"listMode",void 0),E([N()],Va.prototype,"screenSizePerspectiveEnabled",void 0),E([N({readOnly:!0})],Va.prototype,"type",void 0),E([N({constructOnly:!0})],Va.prototype,"internal",void 0),Va=E([ut("esri.layers.GraphicsLayer")],Va);function _Ot(t,e,i){return gT(t.map(((n,a)=>e.apply(i,[n,a]))))}async function Zgt(t,e,i){return(await gT(t.map(((n,a)=>e.apply(i,[n,a]))))).map((n=>n.value))}function lM(t){return{ok:!0,value:t}}function uM(t){return{ok:!1,error:t}}function Qgt(t){return t!=null&&t.ok===!0?t.value:null}function tvt(t){return t!=null&&t.ok===!1?t.error:null}async function xH(t){if(t==null)return{ok:!1,error:new Error("no promise provided")};try{return lM(await t)}catch(e){return uM(e)}}async function SOt(t){try{return lM(await t)}catch(e){return _j(e),uM(e)}}function cM(t,e){return new nc(t,e)}let nc=class extends ve{get value(){return Qgt(this._result)}get error(){return tvt(this._result)}get finished(){return this._result!=null}constructor(e,i){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=fp(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:n}=this._abortController;this.promise=e(n),this.promise.then((a=>{this._result=lM(a),this._cleanup()}),(a=>{this._result=uM(a),this._cleanup()})),this._abortHandle=_a(i,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=or(this._abortHandle),this._abortController=null}};E([N()],nc.prototype,"value",null),E([N()],nc.prototype,"error",null),E([N()],nc.prototype,"finished",null),E([N()],nc.prototype,"promise",void 0),E([N()],nc.prototype,"_result",void 0),nc=E([ut("esri.core.asyncUtils.ReactiveTask")],nc);async function TH(t,e){return await t.load(),evt(t,e)}async function evt(t,e){const i=[],n=(...d)=>{for(const y of d)y!=null&&(Array.isArray(y)?n(...y):me.isCollection(y)?y.forEach((b=>n(b))):Uo.isLoadable(y)&&i.push(y))};e(n);let a=null;if(await Zgt(i,(async d=>{const y=await xH(ivt(d)?d.loadAll():d.load());y.ok!==!1||a||(a=y)})),a)throw a.error;return t}function ivt(t){return"loadAll"in t&&typeof t.loadAll=="function"}let Hl=class extends ve{constructor(e){super(e),this.portalItem=null}normalizeCtorArgs(e){return e?.portalItem&&e.path?{...e,path:Gk(e.path,e.portalItem)}:e}set path(e){e!=null&&Ps(e)?ae.getLogger(this).error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",e)}_castPath(e){return Gk(e,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get cdnUrl(){return this.portalItem&&this.path?`${this.portalItem.itemCdnUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(e="json",i){const n=this.cdnUrl;if(n==null)throw new Lt("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal.request(n,{responseType:e,query:{token:this.portalItem.apiKey,_ts:i?.cacheBust?Date.now():null},signal:i?.signal})}async update(e,i){const{addOrUpdateResources:n}=await te(()=>import("./resourceUtils-DfI1Dqzb.js"),[]);return await n(this.portalItem,[{resource:this,content:e,compress:i?.compress,access:i?.access}],"update",i),this}hasPath(){return this.path!=null}};function Gk(t,e){return t==null?t:(t=t.replace(/^\/+/,""),e!=null&&Ps(t)&&(t=PT(t,e.itemUrl)),t?.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}E([N()],Hl.prototype,"portalItem",void 0),E([N({type:String,value:null})],Hl.prototype,"path",null),E([on("path")],Hl.prototype,"_castPath",null),E([N({type:String,readOnly:!0})],Hl.prototype,"url",null),E([N({type:String,readOnly:!0})],Hl.prototype,"cdnUrl",null),E([N({type:String,readOnly:!0})],Hl.prototype,"itemRelativeUrl",null),Hl=E([ut("esri.portal.PortalItemResource")],Hl);let lf=class extends ve{constructor(e){super(e),this.created=null,this.rating=null}};E([N({type:Date})],lf.prototype,"created",void 0),E([N()],lf.prototype,"rating",void 0),lf=E([ut("esri.portal.PortalRating")],lf);var Bh;const rvt=new Set(["3DTiles Service","CSV","Feature Collection","Feature Service","Feed","GeoJson","Group Layer","Image Service","KML","Knowledge Graph Layer","Map Service","Media Layer","Scene Service","Stream Service","Video Service","Vector Tile Service","WCS","WFS","WMS","WMTS"]),nvt=new Set(["KML","GeoJson","CSV"]);let Le=Bh=class extends Zt.JSONSupportMixin(Uo){static from(t){return Fp(Bh,t)}constructor(t){super(t),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.classification=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.isOrgItem=!1,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.sourceUrl=null,this.spatialReference=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}destroy(){this.portal=null}get displayName(){const t=this.type,e=this.typeKeywords||[];let i=t;return t==="Feature Service"||t==="Feature Collection"?i=e.includes("Table")?"Table":e.includes("Route Layer")?"Route Layer":e.includes("Markup")?"Markup":"Feature Layer":t==="Image Service"?i=e.includes("Elevation 3D Layer")?"Elevation Layer":e.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":t==="Scene Service"?i="Scene Layer":t==="Video Service"?i="Video Layer":t==="Scene Package"?i="Scene Layer Package":t==="Stream Service"?i="Feature Layer":t==="Geoprocessing Service"?i=e.includes("Web Tool")?"Tool":"Geoprocessing Service":t==="Geoenrichment Service"?i="GeoEnrichment Service":t==="Geocoding Service"?i="Locator":t==="Microsoft Powerpoint"?i="Microsoft PowerPoint":t==="GeoJson"?i="GeoJSON":t==="Globe Service"?i="Globe Layer":t==="Vector Tile Service"?i="Tile Layer":t==="netCDF"?i="NetCDF":t==="Map Service"?i=e.includes("Spatiotemporal")||!e.includes("Hosted Service")&&!e.includes("Tiled")||e.includes("Relational")?"Map Image Layer":"Tile Layer":t?.toLowerCase().includes("add in")?i=t.replaceAll(/(add in)/gi,"Add-In"):t==="datastore catalog service"?i="Big Data File Share":t==="Compact Tile Package"?i="Tile Package (tpkx)":t==="Raster function template"?i="Raster Function Template":t==="OGCFeatureServer"?i="OGC Feature Layer":t==="web mapping application"&&e.includes("configurableApp")?i="Instant App":t==="Insights Page"?i="Insights Report":t==="Excalibur Imagery Project"?i="Excalibur Project":t==="3DTiles Service"?i="3D tiles layer":t==="3DTiles Package"&&(i="3D tiles package"),i}readExtent(t){return t&&t.length?new Be(t[0][0],t[0][1],t[1][0],t[1][1]):null}get iconUrl(){const t=this.type?.toLowerCase()||"",e=this.typeKeywords||[],i="esri/images/portal/",n="16";let a,d=!1,y=!1,b=!1,S=!1,T=!1,C=!1,k=!1,D=!1;return t.indexOf("service")>0||t==="feature collection"||t==="kml"||t==="wms"||t==="wmts"||t==="wfs"?(d=e.includes("Hosted Service"),t==="feature service"||t==="feature collection"||t==="kml"||t==="wfs"?(y=e.includes("Table"),b=e.includes("Route Layer"),S=e.includes("Markup"),T=e.includes("Spatiotemporal"),C=e.includes("UtilityNetwork"),a=T&&y?"spatiotemporaltable":y?"table":b?"routelayer":S?"markup":T?"spatiotemporal":C?"utilitynetwork":d?"featureshosted":"features"):t==="map service"||t==="wms"||t==="wmts"?(T=e.includes("Spatiotemporal"),k=e.includes("Relational"),a=T||k?"mapimages":d||e.includes("Tiled")||t==="wmts"?"maptiles":"mapimages"):a=t==="scene service"?e.includes("Line")?"sceneweblayerline":e.includes("3DObject")?"sceneweblayermultipatch":e.includes("Point")?"sceneweblayerpoint":e.includes("IntegratedMesh")?"sceneweblayermesh":e.includes("PointCloud")?"sceneweblayerpointcloud":e.includes("Polygon")?"sceneweblayerpolygon":e.includes("Building")?"sceneweblayerbuilding":e.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":t==="image service"?e.includes("Elevation 3D Layer")?"elevationlayer":e.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":t==="stream service"?"streamlayer":t==="vector tile service"?"vectortile":t==="datastore catalog service"?"datastorecollection":t==="geocoding service"?"geocodeservice":t==="video service"?e.includes("Live Stream")?"livestreamvideolayer":"videolayer":t==="geoprocessing service"?e.includes("Web Tool")?"tool":"layers":t==="geodata service"?"geodataservice":t==="3dtiles service"?e.includes("3DObject")?"3dobjecttileslayer":e.includes("IntegratedMesh")?"integratedmeshtileslayer":"3dtileslayer":"layers"):t==="web map"||t==="cityengine web scene"?a="maps":t==="web scene"?a=e.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":t==="web mapping application"&&e.includes("configurableApp")?a="instantapps":t==="web mapping application"||t==="mobile application"||t==="application"||t==="operation view"||t==="desktop application"?a="apps":t==="map document"||t==="map package"||t==="published map"||t==="scene document"||t==="globe document"||t==="basemap package"||t==="mobile basemap package"||t==="mobile map package"||t==="project package"||t==="project template"||t==="pro map"||t==="layout"||t==="layer"&&e.includes("ArcGIS Pro")||t==="explorer map"&&e.indexOf("Explorer Document")?a="mapsgray":t==="service definition"||t==="shapefile"||t==="cad drawing"||t==="geojson"||t==="netcdf"||t==="administrative report"?a="datafiles":t==="360 vr experience"?a="360vr":t==="explorer add in"||t==="desktop add in"||t==="windows viewer add in"||t==="windows viewer configuration"?a="appsgray":t==="arcgis pro add in"||t==="arcgis pro configuration"?a="addindesktop":t==="pdf"?a="pdf":t==="microsoft word"?a="word":t==="microsoft excel"?a="excel":t==="microsoft powerpoint"?a="ppt":t==="rule package"||t==="file geodatabase"||t==="sqlite geodatabase"||t==="csv collection"||t==="kml collection"||t==="windows mobile package"||t==="map template"||t==="desktop application template"||t==="gml"||t==="arcpad package"||t==="code sample"||t==="document link"||t==="earth configuration"||t==="operations dashboard add in"||t==="rules package"||t==="workflow manager package"||t==="explorer map"&&e.includes("Explorer Mapping Application")||e.includes("Document")?a="datafilesgray":t==="network analysis service"||t==="geoprocessing service"||t==="geodata service"||t==="geometry service"||t==="geoprocessing package"||t==="locator package"||t==="geoprocessing sample"||t==="workflow manager service"?a="toolsgray":t==="layer"||t==="layer package"||t==="explorer layer"?a="layersgray":t==="analysis model"?a="analysismodel":t==="scene package"?a="scenepackage":t==="3dtiles package"?a="3dtileslayerpackage":t==="3dtiles service"?a="3dtileslayer":t==="mobile scene package"?a="mobilescenepackage":t==="tile package"||t==="compact tile package"?a="tilepackage":t==="task file"?a="taskfile":t==="report template"?a="report-template":t==="statistical data collection"?a="statisticaldatacollection":t==="insights workbook"?a="workbook":t==="insights model"?a="insightsmodel":t==="insights page"?a="insightspage":t==="insights theme"?a="insightstheme":t==="hub initiative"?a="hubinitiative":t==="hub page"?a="hubpage":t==="hub site application"?a="hubsite":t==="hub event"?a="hubevent":t==="hub project"?a="hubproject":t==="relational database connection"?a="relationaldatabaseconnection":t==="big data file share"?a="datastorecollection":t==="image collection"?a="imagecollection":t==="desktop style"?a="desktopstyle":t==="style"?a=e.includes("Dictionary")?"dictionarystyle":"style":t==="dashboard"?a="dashboard":t==="raster function template"?a="rasterprocessingtemplate":t==="vector tile package"?a="vectortilepackage":t==="ortho mapping project"?a="orthomappingproject":t==="ortho mapping template"?a="orthomappingtemplate":t==="solution"?a="solutions":t==="geopackage"?a="geopackage":t==="deep learning package"?a="deeplearningpackage":t==="real time analytic"?a="realtimeanalytics":t==="reality mapping project"?a="realitymappingproject":t==="big data analytic"?a="bigdataanalytics":t==="feed"?a="feed":t==="excalibur imagery project"?a="excaliburimageryproject":t==="notebook"?a="notebook":t==="storymap"?a="storymap":t==="survey123 add in"?a="survey123addin":t==="mission"?a="mission":t==="mission report"?a="missionreport":t==="mission template"?a="missiontemplate":t==="quickcapture project"?a="quickcaptureproject":t==="pro report"?a="proreport":t==="pro report template"?a="proreporttemplate":t==="urban model"?a="urbanmodel":t==="urban project"?a="urbanproject":t==="web experience"?a="experiencebuilder":t==="web experience template"?a="webexperiencetemplate":t==="experience builder widget"?a="experiencebuilderwidget":t==="experience builder widget package"?a="experiencebuilderwidgetpackage":t==="workflow"?a="workflow":t==="kernel gateway connection"?a="kernelgatewayconnection":t==="insights script"?a="insightsscript":t==="hub initiative template"?a="hubinitiativetemplate":t==="storymap theme"?a="storymaptheme":t==="knowledge graph"?a="knowledgegraph":t==="knowledge graph layer"?a="knowledgegraphlayer":t==="knowledge studio project"?a="knowledgestudio":t==="native application"?a="nativeapp":t==="native application installer"?a="nativeappinstaller":t==="web link chart"?a="linkchart":t==="knowledge graph web investigation"?a="investigation":t==="ogcfeatureserver"?a="features":t==="pro presentation"?a="propresentation":t==="pro project"?a="proproject":t==="insights workbook package"?a="insightsworkbookpackage":t==="apache parquet"?a="apacheparquet":t==="notebook code snippet library"?a="notebookcodesnippets":t==="suitability model"?a="suitabilitymodel":t==="esri classifier definition"?a="classifierdefinition":t==="esri classification schema"?a="classificationschema":t==="insights data engineering workbook"?a="dataengineeringworkbook":t==="insights data engineering model"?a="dataengineeringmodel":t==="deep learning studio project"?a="deeplearningproject":t==="discussion"?a="discussion":t==="allsource project"?a="allsourceproject":t==="api key"?a="apikey":t==="data pipeline"?a="datapipelines":t==="group layer"?(D=e.includes("Map"),a=D?"layergroup2d":"layergroup"):a=t==="media layer"?"onlinemedialayer":t==="form"?e.includes("Survey123")?"survey":"datafilesgray":t==="csv"?"csv":t==="image"?"image":"maps",a?Cr(i+a+n+".png"):null}get isLayer(){return this.type!=null&&rvt.has(this.type)}get itemCdnUrl(){return jT(this.itemUrl)}get itemPageUrl(){const t=this.portal?.itemPageUrl;return t&&this.id?`${t}?id=${this.id}`:null}get itemUrl(){const t=this.portal?.restUrl;return t&&this.id?`${t}/content/items/${this.id}`:null}get thumbnailUrl(){const t=this.itemUrl,e=this.thumbnail;return t&&e?this.portal?.normalizeUrl(`${t}/info/${e}?f=json`)??null:null}get userItemUrl(){const t=this.portal?.restUrl;if(!t)return null;const e=this.owner||this.portal?.user?.id;return e?`${t}/content/users/${this.ownerFolder?`${e}/${this.ownerFolder}`:e}/items/${this.id}`:null}load(t){const e=this.portal??(this.portal=Jt.getDefault()),i=e.load(t).then((()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?e.request(this.itemUrl,{signal:t!=null?t.signal:null,query:{token:this.apiKey}}):{})).then((n=>{this.sourceJSON=n,this.read(n)}));return this.addResolvingPromise(i),Promise.resolve(this)}async addRating(t){const e={method:"post",query:{}},i=t instanceof lf?t.rating:t;return i==null||isNaN(i)||typeof t!="number"||(e.query.rating=i),this.portal?(await this.portal.request(this.itemUrl+"/addRating",e),new lf({rating:i,created:new Date})):null}clone(){const t={access:this.access,accessInformation:this.accessInformation,applicationProxies:Ht(this.applicationProxies),avgRating:this.avgRating,categories:Ht(this.categories),classification:Ht(this.classification),created:Ht(this.created),culture:this.culture,description:this.description,extent:Ht(this.extent),groupCategories:Ht(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:Ht(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:Ht(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:Ht(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:Ht(this.typeKeywords),url:this.url};this.loaded&&(t.loadStatus="loaded");const e=new Bh({sourceJSON:this.sourceJSON}).set(t);return e._set("isOrgItem",this.isOrgItem),e}createPostQuery(){const t=this.toJSON();for(const e of["tags","typeKeywords","categories"])t[e]=t[e]?.join(", ");for(const e of["extent","classification"]){const i=t[e];i&&(t[e]=JSON.stringify(i))}return t}async deleteRating(){await this.portal.request(this.itemUrl+"/deleteRating",{method:"post"})}fetchData(t="json",e){return this.portal.request(this.itemUrl+"/data",{responseType:t,...e,query:{token:this.apiKey}})}async fetchRating(t){const e=await this.portal.request(this.itemUrl+"/rating",{query:{token:this.apiKey},...t});return e.rating!=null?(e.created=new Date(e.created),new lf(e)):null}fetchRelatedItems(t,e){return this.portal.requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...t,token:this.apiKey},...e},Bh)}getThumbnailUrl(t){let e=this.thumbnailUrl;return e&&t&&(e+=`&w=${t}`),e}reload(){return this.portal.request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then((t=>(this.applicationProxies&&!Object.hasOwn(t,"appProxies")&&(this.applicationProxies=null),this.sourceJSON=t,this.read(t),this)))}update(t){return this.id?this.load().then((()=>this.portal.signIn())).then((()=>{const e=t?.data,i={method:"post"};i.query=this.createPostQuery();for(const n in i.query)i.query[n]===null&&(i.query[n]="");return i.query.clearEmptyFields=!0,e!=null&&(typeof e=="string"?i.query.text=e:typeof e=="object"&&(i.query.text=JSON.stringify(e))),this.portal.request(`${this.userItemUrl}/update`,i).then((()=>this.reload()))})):Promise.reject(new Lt("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async copy(t){if(!this.id)throw new Lt("portal:item-does-not-exist","The item does not exist yet");await this.load();const{portal:e,itemUrl:i}=this;await e.signIn();const{copyResources:n,folder:a,tags:d,title:y}=t||{},b={method:"post",query:{copyPrivateResources:n==="all",folder:typeof a=="string"?a:a?.id,includeResources:!!n,tags:d?.join(","),title:y}},{itemId:S}=await e.request(`${i}/copy`,b);return new Bh({id:S,portal:e})}updateThumbnail(t){return this.id?this.load().then((()=>this.portal.signIn())).then((()=>{const e=t.thumbnail,i=t.filename,n={method:"post"};if(typeof e=="string")Wf(e)?n.query={data:e}:n.query={url:Do(e)},i!=null&&(n.query.filename=i);else{const a=new FormData;i!=null?a.append("file",e,i):a.append("file",e),n.body=a}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,n).then((()=>this.reload()))})):Promise.reject(new Lt("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(t={},e){const{fetchResources:i}=await te(()=>import("./resourceUtils-DfI1Dqzb.js"),[]);return i(this,t,e)}async addResource(t,e,i){const{addOrUpdateResources:n}=await te(()=>import("./resourceUtils-DfI1Dqzb.js"),[]);return t.portalItem=this,await n(this,[{resource:t,content:e,compress:i?.compress,access:i?.access}],"add",i),t}async removeResource(t,e){const{removeResource:i}=await te(()=>import("./resourceUtils-DfI1Dqzb.js"),[]);if(t.portalItem&&t.portalItem.itemUrl!==this.itemUrl)throw new Lt("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return i(this,t,e)}async removeAllResources(t){const{removeAllResources:e}=await te(()=>import("./resourceUtils-DfI1Dqzb.js"),[]);return e(this,t)}resourceFromPath(t){return new Hl({portalItem:this,path:t})}toJSON(){const t=this.extent,e={accessInformation:this.accessInformation,categories:Ht(this.categories),classification:Ht(this.classification),created:this.created?.getTime(),description:this.description,extent:t&&[[t.xmin,t.ymin],[t.xmax,t.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:this.modified?.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:Ht(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:Ht(this.typeKeywords),url:this.url};return wtt(e)}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");return new Bh({sourceJSON:t})}_getPostQuery(){const t=this.toJSON();for(const e in t)e==="tags"&&t[e]!==null&&(t[e]=t[e].join(", ")),e==="typeKeywords"&&t[e]!==null&&(t[e]=t[e].join(", ")),e==="extent"&&t[e]&&(t[e]=JSON.stringify(t[e]));return t}};E([N({type:["private","shared","org","public"]})],Le.prototype,"access",void 0),E([N()],Le.prototype,"accessInformation",void 0),E([N({type:String})],Le.prototype,"apiKey",void 0),E([N({json:{read:{source:"appProxies"}}})],Le.prototype,"applicationProxies",void 0),E([N()],Le.prototype,"avgRating",void 0),E([N()],Le.prototype,"categories",void 0),E([N()],Le.prototype,"classification",void 0),E([N({type:Date})],Le.prototype,"created",void 0),E([N()],Le.prototype,"culture",void 0),E([N()],Le.prototype,"description",void 0),E([N({readOnly:!0})],Le.prototype,"displayName",null),E([N({type:Be})],Le.prototype,"extent",void 0),E([Ne("extent")],Le.prototype,"readExtent",null),E([N()],Le.prototype,"groupCategories",void 0),E([N({readOnly:!0})],Le.prototype,"iconUrl",null),E([N()],Le.prototype,"id",void 0),E([N({readOnly:!0})],Le.prototype,"isLayer",null),E([N({type:Boolean,readOnly:!0})],Le.prototype,"isOrgItem",void 0),E([N()],Le.prototype,"itemControl",void 0),E([N({readOnly:!0})],Le.prototype,"itemPageUrl",null),E([N({readOnly:!0})],Le.prototype,"itemUrl",null),E([N()],Le.prototype,"licenseInfo",void 0),E([N({type:Date})],Le.prototype,"modified",void 0),E([N()],Le.prototype,"name",void 0),E([N()],Le.prototype,"numComments",void 0),E([N()],Le.prototype,"numRatings",void 0),E([N()],Le.prototype,"numViews",void 0),E([N()],Le.prototype,"owner",void 0),E([N()],Le.prototype,"ownerFolder",void 0),E([N({type:Jt})],Le.prototype,"portal",void 0),E([N()],Le.prototype,"screenshots",void 0),E([N()],Le.prototype,"size",void 0),E([N()],Le.prototype,"snippet",void 0),E([N()],Le.prototype,"sourceJSON",void 0),E([N({type:String})],Le.prototype,"sourceUrl",void 0),E([N({type:String})],Le.prototype,"spatialReference",void 0),E([N()],Le.prototype,"tags",void 0),E([N()],Le.prototype,"thumbnail",void 0),E([N({readOnly:!0})],Le.prototype,"thumbnailUrl",null),E([N()],Le.prototype,"title",void 0),E([N()],Le.prototype,"type",void 0),E([N()],Le.prototype,"typeKeywords",void 0),E([N({type:String,json:{read(t,e){if(nvt.has(e.type)){const i=this.portal?.restUrl;t||=i&&this.id?`${i}/content/items/${this.id}/data`:null}return t}}})],Le.prototype,"url",void 0),E([N({readOnly:!0})],Le.prototype,"userItemUrl",null),Le=Bh=E([ut("esri.portal.PortalItem")],Le);const EH=Object.freeze(Object.defineProperty({__proto__:null,get default(){return Le}},Symbol.toStringTag,{value:"Module"})),MH={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:"no",nl:!0,no:!0,nn:"no",pl:!0,pt:"pt-BR","pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,zh:"zh-CN","zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function svt(t){return t in MH}function qk(t){if(svt(t)){const e=MH[t];return e===!0?t:e}return null}const im=[],I0=new Map;function Hk(t){for(const e of I0.keys())CH(t.pattern,e)&&I0.delete(e)}function ovt(t){return im.includes(t)||(Hk(t),im.unshift(t)),ui((()=>{const e=im.indexOf(t);e>-1&&(im.splice(e,1),Hk(t))}))}async function AH(t){const e=Fo();I0.has(t)||I0.set(t,avt(t,e));const i=I0.get(t);return i&&await lvt.add(i),i}function RH(t){const e=PE(t);return e?qk(t)??qk(e.language):null}async function avt(t,e){const i=[];for(const n of im)if(CH(n.pattern,t))try{return await n.fetchMessageBundle(t,e)}catch(a){i.push(a)}throw i.length?new Lt("intl:message-bundle-error",`Errors occurred while loading "${t}"`,{errors:i}):new Lt("intl:no-message-bundle-loader",`No loader found for message bundle "${t}"`)}function CH(t,e){return typeof t=="string"?e.startsWith(t):t.test(e)}IE((()=>{I0.clear()}));const lvt=new class{constructor(){this._numLoading=0,this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(t){return this._increase(),t.then((()=>this._decrease()),(()=>this._decrease())),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=qo())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&this._numLoading===0&&(this._dfd.resolve(),this._dfd=null)}};async function uvt(t){if(!t)return;const e=t.includes("-vector")?t.slice(0,t.indexOf("-vector")):t.includes("-3d")?t.slice(0,t.indexOf("-3d")):t,i=await AH("esri/t9n/basemaps");return i[t]||i[e]}const z7={satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return Cr("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return Cr("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return Cr("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return Cr("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return Cr("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return Cr("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get"dark-gray"(){return{...this["dark-gray-vector"],id:"dark-gray"}},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return Cr("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get gray(){return{...this["gray-vector"],id:"gray"}},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return Cr("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},get streets(){return{...this["streets-vector"],id:"streets"}},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return Cr("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},get topo(){return{...this["topo-vector"],id:"topo"}},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return Cr("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return Cr("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return Cr("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"topo-3d":{id:"topo-3d",is3d:!0,get thumbnailUrl(){return Cr("esri/images/basemap/topo-3d.png")},baseMapLayers:[{id:"topo-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/1e7d1784d1ef4b79ba6764d0bd6c3150/resources/styles/root.json",layerType:"VectorTileLayer",title:"Topographic",visibility:!0,opacity:1},{id:"topo-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-3d":{id:"navigation-3d",is3d:!0,get thumbnailUrl(){return Cr("esri/images/basemap/navigation-3d.jpg")},baseMapLayers:[{id:"navigation-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/ccc904ff872b4144b94934e55e32784b/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation",visibility:!0,opacity:1},{id:"navigation-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-3d":{id:"streets-3d",is3d:!0,get thumbnailUrl(){return Cr("esri/images/basemap/streets-3d.png")},baseMapLayers:[{id:"streets-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/198298c4c64c4cb19de5b46aa00c198d/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"streets-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"streets-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"osm-3d":{id:"osm-3d",is3d:!0,get thumbnailUrl(){return Cr("esri/images/basemap/osm-3d.png")},baseMapLayers:[{id:"osm-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/8628d259c9d14bdc848771c23c513940/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap",visibility:!0,opacity:1},{id:"osm-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"gray-3d":{id:"gray-3d",is3d:!0,get thumbnailUrl(){return Cr("esri/images/basemap/gray-3d.png")},baseMapLayers:[{id:"gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/01a14b466345455ba4176d2e6390db92/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-dark-3d":{id:"navigation-dark-3d",itemId:"5a1365328b4943f09a54cf5fd1205707",is3d:!0,baseMapLayers:[{id:"navigation-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/451a1777ab3f4bf095fae24a117439d9/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation Dark"},{id:"navigation-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-dark-3d":{id:"streets-dark-3d",itemId:"8a4efa2c20484ec9b4557895e65736ff",is3d:!0,baseMapLayers:[{id:"streets-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/bc599b6d741a4ac084b7eea7bf8c5938/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Streets Night (for 3D)"},{id:"streets-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"streets-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"dark-gray-3d":{id:"dark-gray-3d",itemId:"a8b7322a5fe94002bb0f5e0eeb0c5c18",is3d:!0,baseMapLayers:[{id:"dark-gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/4178f71acb934fb89f169e7d667c20c6/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Dark Gray Canvas (for 3D)"},{id:"dark-gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"dark-gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]}},cvt={ar:"ar-u-nu-latn",bs:"sr-Latn-CS",nn:"no-NN"};let nb=new WeakMap,OH={};function U7(t){const e=t||OH;if(!nb.has(e)){const i=Fo(),n=PE(i)?.language,a=n&&cvt[n]||i;nb.set(e,new Intl.NumberFormat(a,t))}return nb.get(e)}function MOt(t={}){const e={};return t.digitSeparator!=null&&(e.useGrouping=t.digitSeparator),t.places!=null&&(e.minimumFractionDigits=e.maximumFractionDigits=t.places),e}function AOt(t,e){return Object.is(t,-0)&&(t=0),U7(e).format(t)}function ROt(t,e=Fo()){if(!t)return null;let i=Vk.get(e);if(!i){const n=U7().formatToParts(12345.6),a=[...U7({useGrouping:!1}).format(9876543210)].reverse(),d=new Map(a.map(((k,D)=>[k,D]))),y=new RegExp(`[${n.find((k=>k.type==="group"))?.value}]`,"g"),b=new RegExp(`[${n.find((k=>k.type==="decimal"))?.value}]`),S=new RegExp(`[${a.join("")}]`,"g"),T=/[\u200E\u200F\u202A\u202B\u202C\u202D\u202E\u2066\u2067\u2068\u2069\u061C]/g,C=/[-\u2212\u2013\u2014\u2015]/g;i=k=>{if((k=k.trim().replaceAll(y,"").replace(b,".").replace(S,(z=>String(d.get(z)))).replaceAll(T,"").replaceAll(C,"-"))==="")return null;const D=Number(k);return isNaN(D)?null:D},Vk.set(e,i)}return i(t)}IE((()=>{nb=new WeakMap,OH={}}));const Vk=new Map;async function hvt(t,e,i,n){const a=e.exec(i);if(!a)throw new Lt("esri-intl:invalid-bundle",`Bundle id "${i}" is not compatible with the pattern "${e}"`);const d=a[1]?`${a[1]}/`:"",y=a[2],b=RH(n),S=`${d}${y}.json`,T=b?`${d}${y}_${b}.json`:S;let C;try{C=await Wk(t(T))}catch(k){if(T===S)throw new Lt("intl:unknown-bundle",`Bundle "${i}" cannot be loaded`,{error:k});try{C=await Wk(t(S))}catch(D){throw new Lt("intl:unknown-bundle",`Bundle "${i}" cannot be loaded`,{error:D})}}return C}async function Wk(t){if(Jk.fetchBundleAsset!=null)return Jk.fetchBundleAsset(t);const e=await Di(t,{responseType:"text"});return JSON.parse(e.data)}let fvt=class{constructor({base:e="",pattern:i,location:n=new URL(window.location.href)}){let a;a=typeof n=="string"?d=>new URL(d,new URL(n,window.location.href)).href:n instanceof URL?d=>new URL(d,n).href:n,this.pattern=typeof i=="string"?new RegExp(`^${i}`):i,this.getAssetUrl=a,e=e?e.endsWith("/")?e:e+"/":"",this.matcher=new RegExp(`^${e}(?:(.*)\\/)?(.*)$`)}fetchMessageBundle(e,i){return hvt(this.getAssetUrl,this.matcher,e,i)}};function dvt(t){return new fvt(t)}const Jk={};ovt(dvt({pattern:"esri/",location:Cr}));let Vl=class extends ve{constructor(e){super(e),this.apiKey=null,this.id=null,this.language=null,this.places=null,this.serviceUrl="https://basemapstyles-api.arcgis.com/arcgis/rest/services/styles/v2",this.worldview=null}get languageParameter(){const e=this.language;let i=e==="local"||e==="global"?e:RH(e??Fo())??"global";return i=i==="no"?"nb":i,i}};E([N()],Vl.prototype,"apiKey",void 0),E([N()],Vl.prototype,"id",void 0),E([N()],Vl.prototype,"language",void 0),E([N()],Vl.prototype,"places",void 0),E([N()],Vl.prototype,"serviceUrl",void 0),E([N()],Vl.prototype,"worldview",void 0),Vl=E([ut("esri.support.BasemapStyle")],Vl);const pvt=Vl,X2=new WeakMap;function $H(t){return!t.destroyed&&(X2.has(t)||t.addHandles([Ce((()=>{const e=t.parent;return!(!e||!("type"in e))&&(e.type==="catalog-dynamic-group"||$H(e))}),(e=>X2.set(t,e)),ss),ui((()=>X2.delete(t)))]),X2.get(t))}function $Ot(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="feature"}function NOt(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="graphics"}function yvt(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="map-image"}function mvt(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="knowledge-graph"&&"layers"in t}function kOt(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="knowledge-graph-sublayer"}function Yk(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="subtype-group"&&"sublayers"in t}function t0(t){return t?.type==="subtype-sublayer"}const POt={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function IOt(t){const e=t?.type;return e==="building-scene"||e==="integrated-mesh"||e==="point-cloud"||e==="scene"}function DOt(t){return t==="integrated-mesh"||t==="integrated-mesh-3dtiles"}function J5(t){return t?.type==="feature"&&!t.url&&t.source?.type==="memory"}function LOt(t){const e=t?.type;return(e==="feature"||e==="subtype-group"||e==="oriented-imagery")&&t?.source?.type==="feature-layer"}async function jOt(t,e){const i=qi?.findServerInfo(t);if(i?.currentVersion!=null)return i.owningSystemUrl||null;const n=t.toLowerCase().indexOf("/rest/services");if(n===-1)return null;const a=`${t.slice(0,n)}/rest/info`,d=e!=null?e.signal:null,{data:y}=await Di(a,{query:{f:"json"},responseType:"json",signal:d});return y?.owningSystemUrl||null}function gvt(t){if(!("capabilities"in t))return!1;switch(t.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function vvt(t){return gvt(t)?"effectiveCapabilities"in t?t.effectiveCapabilities:t.capabilities:null}function bvt(t){if(!("editingEnabled"in t))return!1;switch(t.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}function wvt(t){return!!bvt(t)&&("effectiveEditingEnabled"in t?t.effectiveEditingEnabled:t.editingEnabled)}function _vt(t,e){return null}function zOt(t){return null}function Svt(t){return!t||t.type==="Feature Service"&&!t.sourceUrl}function UOt(t,e){!e||!Svt(t)||_vt(t.url)}const xvt=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wcs","wms","wmts"]),NH=new Set(["catalog","csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","knowledge-graph","map-image","map-notes","media","ogc-feature","oriented-imagery","route","stream","subtype-group","tile","unknown","unsupported","vector-tile","video","web-tile","wcs","wfs","wms","wmts"]),Tvt=new Set([...NH,"link-chart"]);function Evt(t){switch(t.layerContainerType){case"basemap":return xvt;case"operational-layers":return t.origin==="link-chart"?Tvt:NH;default:return null}}function Mvt(t,e){if(e.restrictedWebMapWriting){const i=Evt(e);return i==null||i.has(t.type)&&!J5(t)}return!0}function Avt(t,e){if(e)if(J5(t)){const i=kg("featureCollection.layers",e),n=i?.[0]?.layerDefinition;n&&Kk(t,n)}else t.type!=="group"&&Kk(t,e)}function Kk(t,e){"maxScale"in t&&(e.maxScale=Gb(t.maxScale)??void 0),"minScale"in t&&(e.minScale=Gb(t.minScale)??void 0)}function Rvt(t,e){if(Avt(t,e),e&&(e.id=t.id,"blendMode"in t&&(e.blendMode=t.blendMode,e.blendMode==="normal"&&delete e.blendMode),e.opacity=Gb(t.opacity)??void 0,e.title=t.title||"Layer",e.visibility=t.visible,"legendEnabled"in t&&t.type!=="wmts"))if(J5(t)){const i=e.featureCollection;i&&(i.showLegend=t.legendEnabled)}else e.showLegend=t.legendEnabled}function Xk(t,e,i){if(!t.persistenceEnabled)return null;if(!("write"in t)||!t.write)return i?.messages&&i.messages.push(new Lt("layer:unsupported",`Layers (${t.title}, ${t.id}) of type '${t.declaredClass}' cannot be persisted`,{layer:t})),null;if(J5(t)&&!t.isTable)e=t.resourceInfo;else if(Mvt(t,i)){const n={};return t.write(n,i)?n:null}return e!=null&&Rvt(t,e=Ht(e)),e}var rm;let Cvt=0,Ys=rm=class extends Zt.JSONSupportMixin(Uo){constructor(t){super(t),this.id=null,this.portalItem=null,this.spatialReference=null,this.style=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+Cvt++,this.baseLayers=new me,this.referenceLayers=new me;const e=n=>{n.parent&&n.parent!==this&&"remove"in n.parent&&n.parent.remove(n),n.parent=this,n.type==="elevation"&&ae.getLogger(this).error(`Layer '${n.title}, id:${n.id}' of type '${n.type}' is not supported as a basemap layer and will therefore be ignored.`)},i=n=>{n.parent=null};this.addHandles([this.baseLayers.on("after-add",(n=>e(n.item))),this.referenceLayers.on("after-add",(n=>e(n.item))),this.baseLayers.on("after-remove",(n=>i(n.item))),this.referenceLayers.on("after-remove",(n=>i(n.item)))])}initialize(){this.when().catch((t=>{ae.getLogger(this).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,t)})),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const t=this.baseLayers.toArray();for(const i of t)i.destroy();const e=this.referenceLayers.toArray();for(const i of e)i.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),this.portalItem=vr(this.portalItem)}normalizeCtorArgs(t){return t&&"resourceInfo"in t&&(this._set("resourceInfo",t.resourceInfo),delete(t={...t}).resourceInfo),t}set baseLayers(t){this._set("baseLayers",mu(t,this._get("baseLayers")))}_writeBaseLayers(t,e,i){const n=[];t&&(i={...i,layerContainerType:"basemap"},this.baseLayers.forEach((a=>{const d=Xk(a,i.webmap?i.webmap.getLayerJSONFromResourceInfo(a):null,i);d!=null&&n.push(d)})),this.referenceLayers.forEach((a=>{const d=Xk(a,i.webmap?i.webmap.getLayerJSONFromResourceInfo(a):null,i);d!=null&&(a.type!=="scene"&&(d.isReference=!0),n.push(d))}))),e.baseMapLayers=n}set referenceLayers(t){this._set("referenceLayers",mu(t,this._get("referenceLayers")))}writeTitle(t,e){e.title=t||"Basemap"}load(t){return this.addResolvingPromise(this._loadFromSource(t)),Promise.resolve(this)}loadAll(){return TH(this,(t=>{t(this.baseLayers,this.referenceLayers)}))}clone(){const t={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.map((e=>$b(e)?e.clone():e)),referenceLayers:this.referenceLayers.map((e=>$b(e)?e.clone():e))};return this.loaded&&(t.loadStatus="loaded"),new rm({resourceInfo:this.resourceInfo}).set(t)}read(t,e){this.resourceInfo||this._set("resourceInfo",{data:t,context:e}),super.read(t,e)}write(t,e){return t=t||{},e?.origin||(e={origin:"web-map",...e}),super.write(t,e),!this.loaded&&this.resourceInfo?.data.baseMapLayers&&(t.baseMapLayers=this.resourceInfo.data.baseMapLayers.map((i=>{const n=Ht(i);return n.url&&ol(n.url)&&(n.url=`https:${n.url}`),n.templateUrl&&ol(n.templateUrl)&&(n.templateUrl=`https:${n.templateUrl}`),n}))),t}async _loadFromSource(t){const{resourceInfo:e,portalItem:i,style:n}=this;dr(t);const a=[];if(e){const d=e.context?e.context.url:null;if(a.push(this._loadLayersFromJSON(e.data,d,t)),e.data.id&&!e.data.title){const y=e.data.id;a.push(uvt(y).then((b=>{b&&this.read({title:b},e.context)})))}}else i?a.push(this._loadFromItem(i,t)):n&&a.push(this._loadFromStylesService(n,t));await Promise.all(a)}async _loadLayersFromJSON(t,e,i){const n=this.resourceInfo?.context,a=this.portalItem?.portal||n?.portal||null,d=$vt[n?.origin||""]??"web-map",{populateOperationalLayers:y}=await te(async()=>{const{populateOperationalLayers:S}=await import("./layersCreator-CXyviA_x.js");return{populateOperationalLayers:S}},__vite__mapDeps([47,44,43,42,45,41,32,48])),b=[];if(dr(i),t.baseMapLayers&&Array.isArray(t.baseMapLayers)){const S={context:{...n,origin:d,url:e,portal:a,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},T=D=>d==="web-scene"&&D.layerType==="ArcGISSceneServiceLayer"||D.isReference,C=y(this.baseLayers,t.baseMapLayers.filter((D=>!T(D))),S);b.push(C);const k=y(this.referenceLayers,t.baseMapLayers.filter(T),S);b.push(k)}await Promise.allSettled(b)}async _loadFromItem(t,e){const i=await t.load(e),n=await i.fetchData("json",e),a=hs(t.itemUrl??"");return this._set("resourceInfo",{data:n.baseMap??{},context:{origin:Ovt[t.type||""]??"web-map",portal:t.portal||Jt.getDefault(),url:a}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:n.spatialReference},this.resourceInfo.context),this.read({title:t.title,thumbnailUrl:t.thumbnailUrl},{origin:"portal-item",portal:t.portal||Jt.getDefault(),url:a}),this._loadLayersFromJSON(this.resourceInfo.data,a,e)}async _loadFromStylesService(t,e){const i=t.serviceUrl.endsWith("/webmaps")?t.serviceUrl.slice(0,-8):t.serviceUrl,n=`${i}/styles/${t.id}/self`,a=`${i}/webmaps/${t.id}`,d=t.apiKey??ci.apiKeys.basemapStyles,[y,b]=await Promise.all([(await Di(n,{query:{token:d},signal:e?.signal})).data,(await Di(a,{query:{language:t.languageParameter,places:t.places,worldview:t.worldview,token:d},signal:e?.signal})).data]);this.thumbnailUrl??=y.thumbnailUrl;const S=hs(a);if(this._set("resourceInfo",{data:b.baseMap??{},context:{origin:"web-map",url:S}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:b.spatialReference},this.resourceInfo.context),await this._loadLayersFromJSON(this.resourceInfo.data,S,e),d)for(const T of[...this.baseLayers,...this.referenceLayers])"apiKey"in T&&(T.apiKey=d)}static fromId(t){const e=z7[t];return e?e.itemId?new rm({portalItem:{id:e.itemId,portal:{url:"https://www.arcgis.com"}}}):rm.fromJSON(e,e.is3d?{origin:"web-scene",portal:new Jt({url:"https://www.arcgis.com"})}:{origin:"web-map"}):null}};E([N({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(t,e,i,n){this._writeBaseLayers(t,e,n)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:me}},writer(t,e,i,n){this._writeBaseLayers(t,e,n)}}}}}})],Ys.prototype,"baseLayers",null),E([N({type:String,json:{origins:{"web-scene":{write:!0}}}})],Ys.prototype,"id",void 0),E([N({type:Le})],Ys.prototype,"portalItem",void 0),E([N()],Ys.prototype,"referenceLayers",null),E([N({readOnly:!0})],Ys.prototype,"resourceInfo",void 0),E([N({type:le})],Ys.prototype,"spatialReference",void 0),E([N({type:pvt})],Ys.prototype,"style",void 0),E([N()],Ys.prototype,"thumbnailUrl",void 0),E([N({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],Ys.prototype,"title",void 0),E([Pe("title")],Ys.prototype,"writeTitle",null),Ys=rm=E([ut("esri.Basemap")],Ys);const Ovt={"Web Scene":"web-scene","Web Map":"web-map","Link Chart":"link-chart"},$vt={"web-scene":"web-scene","web-map":"web-map","link-chart":"link-chart"},Um=Ys,Nvt=Object.freeze(Object.defineProperty({__proto__:null,default:Um},Symbol.toStringTag,{value:"Module"}));var F7;let sb=F7=class extends Zt{constructor(t){super(t),this.type="none"}clone(){return new F7({type:this.type})}};E([se({none:"none",stayAbove:"stay-above"}),N({json:{write:{isRequired:!0}}})],sb.prototype,"type",void 0),sb=F7=E([ut("esri.ground.NavigationConstraint")],sb);const kvt=Symbol("GroundInstance");var Zk,B7,vL;let Wl=B7=(vL=class extends Zt.JSONSupportMixin(Uo){constructor(t){super(t),this[Zk]=!0,this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new me;const e=n=>{n.parent&&n.parent!==this&&"remove"in n.parent&&n.parent.remove(n),n.parent=this,n.type!=="elevation"&&n.type!=="base-elevation"&&ae.getLogger(this).error(`Layer '${n.title}, id:${n.id}' of type '${n.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)},i=n=>{n.parent=null};this.addHandles([this.layers.on("after-add",(n=>e(n.item))),this.layers.on("after-remove",(n=>i(n.item)))])}initialize(){this.when().catch((t=>{cs(t)||ae.getLogger(this).error("#load()","Failed to load ground",t)})),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const t=this.layers.removeAll();for(const e of t)vr(e);this.layers.destroy()}normalizeCtorArgs(t){return t&&"resourceInfo"in t&&(this._set("resourceInfo",t.resourceInfo),delete(t={...t}).resourceInfo),t}get layers(){return this._get("layers")}set layers(t){this._set("layers",mu(t,this._get("layers")))}writeLayers(t,e,i,n){const a=[];t&&(n={...n,layerContainerType:"ground"},t.forEach((d=>{if("write"in d){const y={};ftt(d)().write(y,n)&&a.push(y)}else n?.messages&&n.messages.push(new Lt("layer:unsupported",`Layers (${d.title}, ${d.id}) of type '${d.declaredClass}' cannot be persisted in the ground`,{layer:d}))}))),e.layers=a}load(t){return this.addResolvingPromise(this._loadFromSource(t)),Promise.resolve(this)}loadAll(){return TH(this,(t=>{t(this.layers)}))}async queryElevation(t,e){await this.load({signal:e?.signal});const{ElevationQuery:i}=await te(()=>import("./ElevationQuery-DJqeEu4l.js"),[]);dr(e);const n=new i,a=this.layers.filter(Qk).toArray();return n.queryAll(a,t,e)}async createElevationSampler(t,e){await this.load({signal:e?.signal});const{ElevationQuery:i}=await te(()=>import("./ElevationQuery-DJqeEu4l.js"),[]);dr(e);const n=new i,a=this.layers.filter(Qk).toArray();return n.createSamplerAll(a,t,e)}clone(){const t={opacity:this.opacity,surfaceColor:Ht(this.surfaceColor),navigationConstraint:Ht(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(t.loadStatus="loaded"),new B7({resourceInfo:this.resourceInfo}).set(t)}read(t,e){this.resourceInfo||this._set("resourceInfo",{data:t,context:e}),super.read(t,e)}_loadFromSource(t){const e=this.resourceInfo;return e?this._loadLayersFromJSON(e.data,e.context,t):Promise.resolve()}async _loadLayersFromJSON(t,e,i){const n=e?.origin||"web-scene",a=e?.portal||null,d=e?.url||null,{populateOperationalLayers:y}=await te(async()=>{const{populateOperationalLayers:S}=await import("./layersCreator-CXyviA_x.js");return{populateOperationalLayers:S}},__vite__mapDeps([47,44,43,42,45,41,32,48]));dr(i);const b=[];if(t.layers&&Array.isArray(t.layers)){const S={context:{origin:n,url:d,portal:a,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"};b.push(y(this.layers,t.layers,S))}await Promise.allSettled(b)}},Zk=kvt,vL);function Pvt(t){return t&&"createElevationSampler"in t}function Qk(t){return t.type==="elevation"||Pvt(t)}E([N({json:{read:!1,write:{isRequired:!0}}})],Wl.prototype,"layers",null),E([Pe("layers")],Wl.prototype,"writeLayers",null),E([N({readOnly:!0})],Wl.prototype,"resourceInfo",void 0),E([N({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:Hi,read:{reader:$q,source:"transparency"},write:{writer:(t,e)=>{e.transparency=Oq(t)},target:"transparency"}}})],Wl.prototype,"opacity",void 0),E([N({type:ni,json:{type:[Hi],write:(t,e)=>{e.surfaceColor=t.toJSON().slice(0,3)}}})],Wl.prototype,"surfaceColor",void 0),E([N({type:sb,json:{write:!0}})],Wl.prototype,"navigationConstraint",void 0),Wl=B7=E([ut("esri.Ground")],Wl);const _w=Wl;let Qa=class extends me{constructor(e){super(e),this.getCollections=null}initialize(){this.addHandles(Cet((()=>this._refresh()),Wc))}destroy(){this.getCollections=null}_refresh(){const e=this.getCollections!=null?this.getCollections():null;if(e==null)return void this.removeAll();let i=0;for(const n of e)n!=null&&(i=this._processCollection(i,n));this.splice(i)}_createNewInstance(e){return new me(e)}_processCollection(e,i){if(!i)return e;const n=this.itemFilterFunction??(a=>!!a);for(const a of i)if(a){if(n(a)){const d=this.indexOf(a,e);d>=0?d!==e&&this.reorder(a,e):this.add(a,e),++e}if(this.getChildrenFunction){const d=this.getChildrenFunction(a);if(Array.isArray(d))for(const y of d)e=this._processCollection(e,y);else e=this._processCollection(e,d)}}return e}};E([N()],Qa.prototype,"getCollections",void 0),E([N()],Qa.prototype,"getChildrenFunction",void 0),E([N()],Qa.prototype,"itemFilterFunction",void 0),Qa=E([ut("esri.core.CollectionFlattener")],Qa);const Ivt="randomUUID"in crypto;function dv(){if(Ivt)return crypto.randomUUID();const t=crypto.getRandomValues(new Uint16Array(8));t[3]=4095&t[3]|16384,t[4]=16383&t[4]|32768;const e=i=>t[i].toString(16).padStart(4,"0");return e(0)+e(1)+"-"+e(2)+"-"+e(3)+"-"+e(4)+"-"+e(5)+e(6)+e(7)}function BOt(){return`{${dv().toUpperCase()}}`}function GOt(){return`{${dv()}}`}function qOt(t){const e=t.toUpperCase();return t[0]!=="{"?`{${e}}`:e}const Ud={Base64:0,Hex:1,String:2,Raw:3},D0=8,kH=(1<<D0)-1;function kc(t,e){const i=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(i>>16)<<16|65535&i}function Dvt(t){const e=[];for(let i=0,n=t.length*D0;i<n;i+=D0)e[i>>5]|=(t.charCodeAt(i/D0)&kH)<<i%32;return e}function Lvt(t){const e=[];for(let i=0,n=32*t.length;i<n;i+=D0)e.push(String.fromCharCode(t[i>>5]>>>i%32&kH));return e.join("")}function jvt(t){const e="0123456789abcdef",i=[];for(let n=0,a=4*t.length;n<a;n++)i.push(e.charAt(t[n>>2]>>n%4*8+4&15)+e.charAt(t[n>>2]>>n%4*8&15));return i.join("")}function zvt(t){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=[];for(let a=0,d=4*t.length;a<d;a+=3){const y=(t[a>>2]>>a%4*8&255)<<16|(t[a+1>>2]>>(a+1)%4*8&255)<<8|t[a+2>>2]>>(a+2)%4*8&255;for(let b=0;b<4;b++)8*a+6*b>32*t.length?n.push("="):n.push(i.charAt(y>>6*(3-b)&63))}return n.join("")}function Uvt(t,e){return t<<e|t>>>32-e}function Y5(t,e,i,n,a,d){return kc(Uvt(kc(kc(e,t),kc(n,d)),a),i)}function zn(t,e,i,n,a,d,y){return Y5(e&i|~e&n,t,e,a,d,y)}function Un(t,e,i,n,a,d,y){return Y5(e&n|i&~n,t,e,a,d,y)}function Fn(t,e,i,n,a,d,y){return Y5(e^i^n,t,e,a,d,y)}function Bn(t,e,i,n,a,d,y){return Y5(i^(e|~n),t,e,a,d,y)}function Fvt(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;let i=1732584193,n=-271733879,a=-1732584194,d=271733878;for(let y=0;y<t.length;y+=16){const b=i,S=n,T=a,C=d;i=zn(i,n,a,d,t[y],7,-680876936),d=zn(d,i,n,a,t[y+1],12,-389564586),a=zn(a,d,i,n,t[y+2],17,606105819),n=zn(n,a,d,i,t[y+3],22,-1044525330),i=zn(i,n,a,d,t[y+4],7,-176418897),d=zn(d,i,n,a,t[y+5],12,1200080426),a=zn(a,d,i,n,t[y+6],17,-1473231341),n=zn(n,a,d,i,t[y+7],22,-45705983),i=zn(i,n,a,d,t[y+8],7,1770035416),d=zn(d,i,n,a,t[y+9],12,-1958414417),a=zn(a,d,i,n,t[y+10],17,-42063),n=zn(n,a,d,i,t[y+11],22,-1990404162),i=zn(i,n,a,d,t[y+12],7,1804603682),d=zn(d,i,n,a,t[y+13],12,-40341101),a=zn(a,d,i,n,t[y+14],17,-1502002290),n=zn(n,a,d,i,t[y+15],22,1236535329),i=Un(i,n,a,d,t[y+1],5,-165796510),d=Un(d,i,n,a,t[y+6],9,-1069501632),a=Un(a,d,i,n,t[y+11],14,643717713),n=Un(n,a,d,i,t[y],20,-373897302),i=Un(i,n,a,d,t[y+5],5,-701558691),d=Un(d,i,n,a,t[y+10],9,38016083),a=Un(a,d,i,n,t[y+15],14,-660478335),n=Un(n,a,d,i,t[y+4],20,-405537848),i=Un(i,n,a,d,t[y+9],5,568446438),d=Un(d,i,n,a,t[y+14],9,-1019803690),a=Un(a,d,i,n,t[y+3],14,-187363961),n=Un(n,a,d,i,t[y+8],20,1163531501),i=Un(i,n,a,d,t[y+13],5,-1444681467),d=Un(d,i,n,a,t[y+2],9,-51403784),a=Un(a,d,i,n,t[y+7],14,1735328473),n=Un(n,a,d,i,t[y+12],20,-1926607734),i=Fn(i,n,a,d,t[y+5],4,-378558),d=Fn(d,i,n,a,t[y+8],11,-2022574463),a=Fn(a,d,i,n,t[y+11],16,1839030562),n=Fn(n,a,d,i,t[y+14],23,-35309556),i=Fn(i,n,a,d,t[y+1],4,-1530992060),d=Fn(d,i,n,a,t[y+4],11,1272893353),a=Fn(a,d,i,n,t[y+7],16,-155497632),n=Fn(n,a,d,i,t[y+10],23,-1094730640),i=Fn(i,n,a,d,t[y+13],4,681279174),d=Fn(d,i,n,a,t[y],11,-358537222),a=Fn(a,d,i,n,t[y+3],16,-722521979),n=Fn(n,a,d,i,t[y+6],23,76029189),i=Fn(i,n,a,d,t[y+9],4,-640364487),d=Fn(d,i,n,a,t[y+12],11,-421815835),a=Fn(a,d,i,n,t[y+15],16,530742520),n=Fn(n,a,d,i,t[y+2],23,-995338651),i=Bn(i,n,a,d,t[y],6,-198630844),d=Bn(d,i,n,a,t[y+7],10,1126891415),a=Bn(a,d,i,n,t[y+14],15,-1416354905),n=Bn(n,a,d,i,t[y+5],21,-57434055),i=Bn(i,n,a,d,t[y+12],6,1700485571),d=Bn(d,i,n,a,t[y+3],10,-1894986606),a=Bn(a,d,i,n,t[y+10],15,-1051523),n=Bn(n,a,d,i,t[y+1],21,-2054922799),i=Bn(i,n,a,d,t[y+8],6,1873313359),d=Bn(d,i,n,a,t[y+15],10,-30611744),a=Bn(a,d,i,n,t[y+6],15,-1560198380),n=Bn(n,a,d,i,t[y+13],21,1309151649),i=Bn(i,n,a,d,t[y+4],6,-145523070),d=Bn(d,i,n,a,t[y+11],10,-1120210379),a=Bn(a,d,i,n,t[y+2],15,718787259),n=Bn(n,a,d,i,t[y+9],21,-343485551),i=kc(i,b),n=kc(n,S),a=kc(a,T),d=kc(d,C)}return[i,n,a,d]}function Bvt(t,e=Ud.Hex){const i=e||Ud.Base64,n=Fvt(Dvt(t),t.length*D0);switch(i){case Ud.Raw:return n;case Ud.Hex:return jvt(n);case Ud.String:return Lvt(n);case Ud.Base64:return zvt(n)}}function Gvt(t){return t&&"getAtOrigin"in t&&"originOf"in t}function G7(t){return hM[qvt(t)]||Vvt}function qvt(t){return t.type==="json"?"application/json":t.type==="blob"?t.blob.type:Hvt(t.url)}function Hvt(t){const e=nz(t);return q7[e]||PH}const hM={},PH="text/plain",Vvt=hM[PH],q7={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip","bin.gz":"application/octet-stream"};for(const t in q7)hM[q7[t]]=t;function Wvt(t){const e=t?.origins??[void 0];return(i,n)=>{const a=Jvt(t,i,n);for(const d of e){const y=xT(i,d,n);for(const b in a)y[b]=a[b]}}}function Jvt(t,e,i){if(t?.type==="resource")return Yvt(t,e,i);switch(t?.type??"other"){case"other":return{read:!0,write:!0};case"url":{const{read:n,write:a}=vrt;return{read:n,write:a}}}}function Yvt(t,e,i){const n=Dg(e,i);return{type:String,read:(a,d,y)=>{const b=u5(a,d,y);return n.type===String?b:typeof n.type=="function"?new n.type({url:b}):void 0},write:{isRequired:n.json?.write?.isRequired,writer(a,d,y,b){if(!b?.resources)return typeof a=="string"?void(d[y]=yp(a,b)):void(d[y]=a.write({},b));const S=Zvt(a),T=yp(S,{...b,verifyItemRelativeUrls:b?.verifyItemRelativeUrls?{writtenUrls:b.verifyItemRelativeUrls.writtenUrls,rootPath:void 0}:void 0},gp.NO),C=n.type!==String&&(!Gvt(this)||b?.origin&&this.originIdOf(i)>pT(b.origin)),k={object:this,propertyName:i,value:a,targetUrl:T,dest:d,targetPropertyName:y,context:b,params:t};b?.portalItem&&T&&!Ps(T)?C&&t?.contentAddressed?H7(k):C?Kvt(k):Xvt(k):b?.portalItem&&(T==null||lz(T)!=null||Fg(T)||C)?H7(k):d[y]=T}}}}function H7(t){const{targetUrl:e,params:i,value:n,context:a,dest:d,targetPropertyName:y}=t;if(!a.portalItem)return;const b=uz(e),S=DH(n,e,a);if(i?.contentAddressed&&S.type!=="json")return void a.messages?.push(new Lt("persistable:contentAddressingUnsupported",`Property "${y}" is trying to serializing a resource with content of type ${S.type} with content addressing. Content addressing is only supported for json resources.`,{content:S}));const T=i?.contentAddressed&&S.type==="json"?Bvt(S.jsonString):b?.filename??dv(),C=Ug(i?.prefix??b?.prefix,T),k=`${C}.${G7(S)}`;if(i?.contentAddressed&&a.resources&&S.type==="json"){const G=a.resources.toKeep.find((({resource:B})=>B.path===k))??a.resources.toAdd.find((({resource:B})=>B.path===k));if(G)return void(d[y]=G.resource.itemRelativeUrl)}const D=a.portalItem.resourceFromPath(k);Fg(e)&&a.resources&&a.resources.pendingOperations.push(rrt(e).then((G=>{D.path=`${C}.${G7({type:"blob",blob:G})}`,d[y]=D.itemRelativeUrl})).catch((()=>{})));const z=i?.compress??!1;a.resources&&IH({...t,resource:D,content:S,compress:z,updates:a.resources.toAdd}),d[y]=D.itemRelativeUrl}function Kvt(t){const{context:e,targetUrl:i,params:n,value:a,dest:d,targetPropertyName:y}=t;if(!e.portalItem)return;const b=e.portalItem.resourceFromPath(i),S=DH(a,i,e),T=G7(S),C=nz(b.path),k=n?.compress??!1;T===C?(e.resources&&IH({...t,resource:b,content:S,compress:k,updates:e.resources.toUpdate}),d[y]=i):H7(t)}function Xvt({context:t,targetUrl:e,dest:i,targetPropertyName:n}){t.portalItem&&t.resources&&(t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(e),compress:!1}),i[n]=e)}function IH({object:t,propertyName:e,updates:i,resource:n,content:a,compress:d}){const y=b=>{Qvt(t,e,b)};i.push({resource:n,content:a,compress:d,finish:y})}function DH(t,e,i){return typeof t=="string"?{type:"url",url:e}:{type:"json",jsonString:JSON.stringify(t.toJSON(i))}}function Zvt(t){return t==null?null:typeof t=="string"?t:t.url}function Qvt(t,e,i){typeof t[e]=="string"?t[e]=i.url:t[e].url=i.url}let ob=class extends qr.ClonableMixin(Zt){constructor(e){super(e),this.color=null}};E([N({type:ni,json:{type:[Hi],write:!0}})],ob.prototype,"color",void 0),ob=E([ut("esri.effects.FocusAreaOutline")],ob);const t2t=ob,VOt=Math.PI/180,WOt=/(?:SPHEROID|ELLIPSOID)\[([^\]]+)]/i,Ku=_r.radius,oa=_r.eccentricitySquared,e2t={a1:Ku*oa,a2:Ku*oa*Ku*oa,a3:Ku*oa*oa/2,a4:Ku*oa*Ku*oa*2.5,a5:Ku*oa+Ku*oa*oa/2,a6:1-oa},JOt={4267:{a:63782064e-1,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:_r.radius,f:_r.flattening},4490:{a:6378137,f:1/298.257222101},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:Hc.radius,f:Hc.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:il.radius,f:il.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:il.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}};var xt;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",t[t.WGS84=2]="WGS84",t[t.WEB_MERCATOR=3]="WEB_MERCATOR",t[t.WGS84_ECEF=4]="WGS84_ECEF",t[t.CGCS2000=5]="CGCS2000",t[t.SPHERICAL_MARS_PCPF=6]="SPHERICAL_MARS_PCPF",t[t.GCSMARS2000=7]="GCSMARS2000",t[t.SPHERICAL_MOON_PCPF=8]="SPHERICAL_MOON_PCPF",t[t.GCSMOON2000=9]="GCSMOON2000",t[t.LON_LAT=10]="LON_LAT",t[t.PLATE_CARREE=11]="PLATE_CARREE"})(xt||(xt={}));const i2t={[xt.WGS84]:{[xt.CGCS2000]:er,[xt.GCSMARS2000]:null,[xt.GCSMOON2000]:null,[xt.LON_LAT]:er,[xt.SPHERICAL_ECEF]:Bm,[xt.SPHERICAL_MARS_PCPF]:null,[xt.SPHERICAL_MOON_PCPF]:null,[xt.UNKNOWN]:null,[xt.WEB_MERCATOR]:L0,[xt.PLATE_CARREE]:j0,[xt.WGS84]:er,[xt.WGS84_ECEF]:F0},[xt.CGCS2000]:{[xt.CGCS2000]:er,[xt.GCSMARS2000]:null,[xt.GCSMOON2000]:null,[xt.LON_LAT]:er,[xt.SPHERICAL_ECEF]:Bm,[xt.SPHERICAL_MARS_PCPF]:null,[xt.SPHERICAL_MOON_PCPF]:null,[xt.UNKNOWN]:null,[xt.WEB_MERCATOR]:L0,[xt.PLATE_CARREE]:j0,[xt.WGS84]:er,[xt.WGS84_ECEF]:F0},[xt.GCSMARS2000]:{[xt.CGCS2000]:null,[xt.GCSMARS2000]:er,[xt.GCSMOON2000]:null,[xt.LON_LAT]:er,[xt.SPHERICAL_ECEF]:null,[xt.SPHERICAL_MARS_PCPF]:iP,[xt.SPHERICAL_MOON_PCPF]:null,[xt.UNKNOWN]:null,[xt.WEB_MERCATOR]:null,[xt.PLATE_CARREE]:null,[xt.WGS84]:null,[xt.WGS84_ECEF]:null},[xt.GCSMOON2000]:{[xt.CGCS2000]:null,[xt.GCSMARS2000]:null,[xt.GCSMOON2000]:er,[xt.LON_LAT]:er,[xt.SPHERICAL_ECEF]:null,[xt.SPHERICAL_MARS_PCPF]:null,[xt.SPHERICAL_MOON_PCPF]:eP,[xt.UNKNOWN]:null,[xt.WEB_MERCATOR]:null,[xt.PLATE_CARREE]:null,[xt.WGS84]:null,[xt.WGS84_ECEF]:null},[xt.WEB_MERCATOR]:{[xt.CGCS2000]:Fm,[xt.GCSMARS2000]:null,[xt.GCSMOON2000]:null,[xt.LON_LAT]:Fm,[xt.SPHERICAL_ECEF]:n2t,[xt.SPHERICAL_MARS_PCPF]:null,[xt.SPHERICAL_MOON_PCPF]:null,[xt.UNKNOWN]:null,[xt.WEB_MERCATOR]:er,[xt.PLATE_CARREE]:a2t,[xt.WGS84]:Fm,[xt.WGS84_ECEF]:s2t},[xt.WGS84_ECEF]:{[xt.CGCS2000]:B0,[xt.GCSMARS2000]:null,[xt.GCSMOON2000]:null,[xt.LON_LAT]:B0,[xt.SPHERICAL_ECEF]:m2t,[xt.SPHERICAL_MARS_PCPF]:null,[xt.SPHERICAL_MOON_PCPF]:null,[xt.UNKNOWN]:null,[xt.WEB_MERCATOR]:g2t,[xt.PLATE_CARREE]:l2t,[xt.WGS84]:B0,[xt.WGS84_ECEF]:er},[xt.SPHERICAL_ECEF]:{[xt.CGCS2000]:U0,[xt.GCSMARS2000]:null,[xt.GCSMOON2000]:null,[xt.LON_LAT]:U0,[xt.SPHERICAL_ECEF]:er,[xt.SPHERICAL_MARS_PCPF]:null,[xt.SPHERICAL_MOON_PCPF]:null,[xt.UNKNOWN]:null,[xt.WEB_MERCATOR]:d2t,[xt.PLATE_CARREE]:u2t,[xt.WGS84]:U0,[xt.WGS84_ECEF]:p2t},[xt.SPHERICAL_MARS_PCPF]:{[xt.CGCS2000]:null,[xt.GCSMARS2000]:nP,[xt.GCSMOON2000]:null,[xt.LON_LAT]:nP,[xt.SPHERICAL_ECEF]:null,[xt.SPHERICAL_MARS_PCPF]:er,[xt.SPHERICAL_MOON_PCPF]:null,[xt.UNKNOWN]:null,[xt.WEB_MERCATOR]:null,[xt.PLATE_CARREE]:null,[xt.WGS84]:null,[xt.WGS84_ECEF]:null},[xt.SPHERICAL_MOON_PCPF]:{[xt.CGCS2000]:null,[xt.GCSMARS2000]:null,[xt.GCSMOON2000]:rP,[xt.LON_LAT]:rP,[xt.SPHERICAL_ECEF]:null,[xt.SPHERICAL_MARS_PCPF]:null,[xt.SPHERICAL_MOON_PCPF]:er,[xt.UNKNOWN]:null,[xt.WEB_MERCATOR]:null,[xt.PLATE_CARREE]:null,[xt.WGS84]:null,[xt.WGS84_ECEF]:null},[xt.UNKNOWN]:{[xt.CGCS2000]:null,[xt.GCSMARS2000]:null,[xt.GCSMOON2000]:null,[xt.LON_LAT]:null,[xt.SPHERICAL_ECEF]:null,[xt.SPHERICAL_MARS_PCPF]:null,[xt.SPHERICAL_MOON_PCPF]:null,[xt.UNKNOWN]:er,[xt.WEB_MERCATOR]:null,[xt.PLATE_CARREE]:null,[xt.WGS84]:null,[xt.WGS84_ECEF]:null},[xt.LON_LAT]:{[xt.CGCS2000]:er,[xt.GCSMARS2000]:er,[xt.GCSMOON2000]:er,[xt.LON_LAT]:er,[xt.SPHERICAL_ECEF]:Bm,[xt.SPHERICAL_MARS_PCPF]:iP,[xt.SPHERICAL_MOON_PCPF]:eP,[xt.UNKNOWN]:null,[xt.WEB_MERCATOR]:L0,[xt.PLATE_CARREE]:j0,[xt.WGS84]:er,[xt.WGS84_ECEF]:F0},[xt.PLATE_CARREE]:{[xt.CGCS2000]:z0,[xt.GCSMARS2000]:null,[xt.GCSMOON2000]:null,[xt.LON_LAT]:z0,[xt.SPHERICAL_ECEF]:c2t,[xt.SPHERICAL_MARS_PCPF]:null,[xt.SPHERICAL_MOON_PCPF]:null,[xt.UNKNOWN]:null,[xt.WEB_MERCATOR]:h2t,[xt.PLATE_CARREE]:er,[xt.WGS84]:z0,[xt.WGS84_ECEF]:f2t}};function LH(t,e){return r2t(t,e)?.projector}function r2t(t,e){if(t==null||e==null)return null;if(kl.source.spatialReference===t&&kl.dest.spatialReference===e)return kl;const i=tP(t,kl.source),n=tP(e,kl.dest);return i===xt.UNKNOWN&&n===xt.UNKNOWN?Sn(t,e)?kl.projector=er:kl.projector=null:kl.projector=i2t[i][n],kl}function tP(t,e){return t?e.spatialReference===t?e.spatialReferenceId:(e.spatialReference=t,"metersPerUnit"in e&&(e.metersPerUnit=fl(t,1)),Qb(t)?e.spatialReferenceId=xt.SPHERICAL_ECEF:Pf(t)?e.spatialReferenceId=xt.WGS84:al(t)?e.spatialReferenceId=xt.WEB_MERCATOR:Wrt(t)?e.spatialReferenceId=xt.PLATE_CARREE:t.wkt===Xrt.wkt?e.spatialReferenceId=xt.WGS84_ECEF:t.wkid===kf.CGCS2000?e.spatialReferenceId=xt.CGCS2000:t.wkt===GT.wkt?e.spatialReferenceId=xt.SPHERICAL_MARS_PCPF:t.wkt===qT.wkt?e.spatialReferenceId=xt.SPHERICAL_MOON_PCPF:Az(t)?e.spatialReferenceId=xt.GCSMARS2000:Rz(t)?e.spatialReferenceId=xt.GCSMOON2000:e.spatialReferenceId=xt.UNKNOWN):xt.UNKNOWN}function er(t,e,i,n){t!==i&&(i[n++]=t[e++],i[n++]=t[e++],i[n]=t[e])}function Fm(t,e,i,n){i[n]=Ap*(t[e]/bf),i[n+1]=Ap*(jH-2*Math.atan(Math.exp(-t[e+1]/bf))),i[n+2]=t[e+2]}function n2t(t,e,i,n){const a=t[e]/bf,d=jH-2*Math.atan(Math.exp(-t[e+1]/bf)),y=bf+t[e+2],b=Math.cos(d)*y;i[n]=Math.cos(a)*b,i[n+1]=Math.sin(a)*b,i[n+2]=Math.sin(d)*y}function s2t(t,e,i,n){Fm(t,e,i,n),F0(i,n,i,n)}function o2t(t,e,i,n,a){const d=.4999999*Math.PI,y=Ea(Mp*t[e+1],-d,d),b=Math.sin(y);i[n++]=Mp*t[e]*a.radius,i[n++]=a.halfSemiMajorAxis*Math.log((1+b)/(1-b)),i[n]=t[e+2]}function L0(t,e,i,n){o2t(t,e,i,n,_r)}function j0(t,e,i,n){i[n]=t[e]*sP,i[n+1]=t[e+1]*sP,i[n+2]=t[e+2]}function z0(t,e,i,n){i[n]=t[e]*oP,i[n+1]=t[e+1]*oP,i[n+2]=t[e+2]}function a2t(t,e,i,n){Fm(t,e,i,n),j0(i,n,i,n)}function l2t(t,e,i,n){B0(t,e,i,n),j0(i,n,i,n)}function u2t(t,e,i,n){U0(t,e,i,n),j0(i,n,i,n)}function c2t(t,e,i,n){z0(t,e,i,n),Bm(i,n,i,n)}function h2t(t,e,i,n){z0(t,e,i,n),L0(i,n,i,n)}function f2t(t,e,i,n){z0(t,e,i,n),F0(i,n,i,n)}function fM(t,e,i,n,a){const d=a+t[e+2],y=Mp*t[e+1],b=Mp*t[e],S=Math.cos(y)*d;i[n]=Math.cos(b)*S,i[n+1]=Math.sin(b)*S,i[n+2]=Math.sin(y)*d}function eP(t,e,i,n){fM(t,e,i,n,Hc.radius)}function iP(t,e,i,n){fM(t,e,i,n,il.radius)}function Bm(t,e,i,n){fM(t,e,i,n,_r.radius)}function dM(t,e,i,n,a){const d=t[e],y=t[e+1],b=t[e+2],S=Math.sqrt(d*d+y*y+b*b),T=tpt(b/(S===0?1:S)),C=Math.atan2(y,d);i[n++]=Ap*C,i[n++]=Ap*T,i[n]=S-a}function rP(t,e,i,n){dM(t,e,i,n,Hc.radius)}function nP(t,e,i,n){dM(t,e,i,n,il.radius)}function U0(t,e,i,n){dM(t,e,i,n,_r.radius)}function d2t(t,e,i,n){U0(t,e,i,n),L0(i,n,i,n)}function p2t(t,e,i,n){U0(t,e,i,n),F0(i,n,i,n)}function y2t(t,e,i,n,a){const d=Mp*t[e],y=Mp*t[e+1],b=t[e+2],S=Math.sin(y),T=Math.cos(y),C=a.radius/Math.sqrt(1-a.eccentricitySquared*S*S);i[n++]=(C+b)*T*Math.cos(d),i[n++]=(C+b)*T*Math.sin(d),i[n++]=(C*(1-a.eccentricitySquared)+b)*S}function F0(t,e,i,n){y2t(t,e,i,n,_r)}function B0(t,e,i,n){const a=e2t,d=t[e],y=t[e+1],b=t[e+2];let S,T,C,k,D,z,G,B,H,X,et,rt,it,ot,pt,yt,ft,vt,Ct,Dt,zt;S=Math.abs(b),T=d*d+y*y,C=Math.sqrt(T),k=T+b*b,D=Math.sqrt(k),Dt=Math.atan2(y,d),z=b*b/k,G=T/k,ot=a.a2/D,pt=a.a3-a.a4/D,G>.3?(B=S/D*(1+G*(a.a1+ot+z*pt)/D),Ct=Math.asin(B),X=B*B,H=Math.sqrt(1-X)):(H=C/D*(1-z*(a.a5-ot-G*pt)/D),Ct=Math.acos(H),X=1-H*H,B=Math.sqrt(X)),et=1-_r.eccentricitySquared*X,rt=_r.radius/Math.sqrt(et),it=a.a6*rt,ot=C-rt*H,pt=S-it*B,ft=H*ot+B*pt,yt=H*pt-B*ot,vt=yt/(it/et+ft),Ct+=vt,zt=ft+yt*vt/2,b<0&&(Ct=-Ct),i[n++]=Ap*Dt,i[n++]=Ap*Ct,i[n]=zt}function m2t(t,e,i,n){B0(t,e,i,n),Bm(i,n,i,n)}function g2t(t,e,i,n){B0(t,e,i,n),L0(i,n,i,n)}const kl={source:{spatialReference:null,spatialReferenceId:xt.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:xt.UNKNOWN,metersPerUnit:1},projector:er},Mp=sv(1),Ap=HG(1),jH=.5*Math.PI,bf=_r.radius,sP=bf*Math.PI/180,oP=180/(bf*Math.PI);function pv(t,e,i,n,a,d,y=Math.floor(t.length/3)){const b=LH(e,a);if(b==null)return!1;if(b===er){if(t===n&&i===d)return!0;const T=i+3*y;for(let C=i,k=d;C<T;C++,k++)n[k]=t[C];return!0}const S=i+3*y;for(let T=i,C=d;T<S;T+=3,C+=3)b(t,T,n,C);return!0}const YOt=Object.freeze(Object.defineProperty({__proto__:null,projectBuffer:pv},Symbol.toStringTag,{value:"Module"}));function aP(t,e,i,n,a,d){return Z2[0]=t,Z2[1]=e,Z2[2]=i,pv(Z2,n,0,a,d,0)}const Z2=eh();let Q2=0,T_=class V7{static fromGE(e){const i=new V7;return i._wkt=e.wkt,i._wkid=e.wkid,i._isInverse=e.isInverse,i}constructor(e){this.uid=Q2++,e?(this._wkt=e.wkt!=null?e.wkt:null,this._wkid=e.wkid!=null?e.wkid:-1,this._isInverse=e.isInverse!=null&&e.isInverse===!0):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(e){this._wkt=e,this.uid=Q2++}get wkid(){return this._wkid}set wkid(e){this._wkid=e,this.uid=Q2++}get isInverse(){return this._isInverse}set isInverse(e){this._isInverse=e,this.uid=Q2++}getInverse(){const e=new V7;return e._wkt=this.wkt,e._wkid=this._wkid,e._isInverse=!this.isInverse,e}},Sw=class nm{static cacheKey(e,i){return[e.wkid?.toString()??"-1",e.wkt?.toString()??"",e.wkt2?.toString()??"",i.wkid?.toString()??"-1",i.wkt?.toString()??"",i.wkt2?.toString()??""].join()}static fromGE(e){const i=new nm;let n="";for(const a of e.steps){const d=T_.fromGE(a);i.steps.push(d),n+=d.uid.toString()+","}return i._cachedProjection={},i._gtlistentry=null,i._chain=n,i}constructor(e){if(this.steps=[],this._cachedProjection={},this._chain="",this._gtlistentry=null,e?.steps)for(const i of e.steps)i instanceof T_?this.steps.push(i):this.steps.push(new T_({wkid:i.wkid,wkt:i.wkt,isInverse:i.isInverse}))}getInverse(){const e=new nm;e.steps=[];for(let i=this.steps.length-1;i>=0;i--){const n=this.steps[i];e.steps.push(n.getInverse())}return e}getGTListEntry(){let e="";for(const i of this.steps)e+=i.uid.toString()+",";return e!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=e),this._gtlistentry}assignCachedGe(e,i,n){this._cachedProjection[nm.cacheKey(e,i)]=n}getCachedGeTransformation(e,i){let n="";for(const d of this.steps)n+=d.uid.toString()+",";n!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=n);const a=this._cachedProjection[nm.cacheKey(e,i)];return a===void 0?null:a}};function v2t(t,e,i){if(e==null||i==null||i.vcsWkid||Sn(e,i)||Vc(e)||Vc(i))return null;const n=z$(e)/z$(i);if(n===1)return null;switch(t){case"point":case"esriGeometryPoint":return a=>b2t(a,n);case"polyline":case"esriGeometryPolyline":return a=>_2t(a,n);case"polygon":case"esriGeometryPolygon":return a=>w2t(a,n);case"multipoint":case"esriGeometryMultipoint":return a=>S2t(a,n);case"extent":case"esriGeometryEnvelope":return a=>x2t(a,n);default:return null}}function b2t(t,e){t?.z!=null&&(t.z*=e)}function w2t(t,e){if(t)for(const i of t.rings)for(const n of i)n.length>2&&(n[2]*=e)}function _2t(t,e){if(t)for(const i of t.paths)for(const n of i)n.length>2&&(n[2]*=e)}function S2t(t,e){if(t)for(const i of t.points)i.length>2&&(i[2]*=e)}function x2t(t,e){t&&t.zmin!=null&&t.zmax!=null&&(t.zmin*=e,t.zmax*=e)}let wa=null,Xc=null,Gm=null,ab={};const pM=new Qg;function nh(){return!!wa&&FT()}function zH(){return!!nh()||(xe(pM),Zc(),!1)}function UH(t,e){return!t||!e||Ma(t,e)||zH()}function T2t(t,e){return!Ma(t,e)&&!nh()}function Zc(t){return Gm==null&&(Gm=Promise.all([wz(),te(()=>Promise.resolve().then(()=>cyt),void 0).then((e=>e.g)),te(()=>Promise.resolve().then(()=>gyt),void 0)])),Gm.then((([,e,{hydratedAdapter:i}])=>{dr(t),Xc=i,wa=e.default,wa._enableProjection(Grt),pM.notify()}))}function Xf(t,e,i=null,n=null){return Array.isArray(t)?t.length===0?[]:(vnt(t),W7(Xc,t,t[0].spatialReference,e,i,n)):(We(t),W7(Xc,[t],t.spatialReference,e,i,n)[0])}function W7(t,e,i,n,a=null,d=null){if(i==null||n==null)return e;if(Ma(i,n,a))return e.map((y=>lb(y,i,n)));if(a==null&&Qb(i))return e.map((y=>lb(y,i,le.WGS84))).map((y=>bg(y,n)));if(a==null&&Qb(n))return e.map((y=>bg(y,le.WGS84))).map((y=>lb(y,le.WGS84,n)));if(a==null){const y=Sw.cacheKey(i,n);ab[y]!==void 0?a=ab[y]:((a=BH(i,n,void 0))==null&&(a=new Sw),ab[y]=a)}if(wa==null||t==null)throw new K5;return d!=null?wa._project(t,e,i,n,a,d):wa._project(t,e,i,n,a)}function E2t(t,e){const i=FH([t],e);return i.pending!=null?{pending:i.pending,geometry:null}:i.geometries!=null?{pending:null,geometry:i.geometries[0]}:{pending:null,geometry:null}}function FH(t,e){if(!nh()){for(const i of t)if(i!=null&&!Sn(i.spatialReference,e)&&oo(i.spatialReference)&&oo(e)&&!Ma(i.spatialReference,e))return xe(pM),{pending:Zc(),geometries:null}}return{pending:null,geometries:t.map((i=>i==null?null:Sn(i.spatialReference,e)?i:oo(i.spatialReference)&&oo(e)?bg(i,e):null))}}function BH(t,e,i=null){if(t==null||e==null)return null;if(wa==null||Xc==null)throw new K5;const n=wa._getTransformation(Xc,t,e,i,i?.spatialReference);return n!==null?Sw.fromGE(n):null}function M2t(t,e,i=null){if(wa==null||Xc==null)throw new K5;const n=wa._getTransformationBySuitability(Xc,t,e,i,i?.spatialReference);if(n!==null){const a=[];for(const d of n)a.push(Sw.fromGE(d));return a}return[]}let K5=class extends Lt{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}};function A2t(){wa=null,Xc=null,Gm=null,ab={}}const R2t={get loadPromise(){return Gm}};function bg(t,e){try{const i=Xf(t,e);if(i==null)return null;"xmin"in t&&"xmin"in i&&(i.zmin=t.zmin,i.zmax=t.zmax);const n=v2t(i.type,t.spatialReference,e);return n?.(i),i}catch(i){if(!(i instanceof K5))throw i;return null}}async function GH(t,e,i){const n=t.spatialReference;return n!=null&&e!=null&&await qH(n,e,null,i),bg(t,e)}function Ma(t,e,i){return!i&&(!!Sn(t,e)||oo(t)&&oo(e)&&!!LH(t,e))}function C2t(t,e){if(Sn(t,e))return!0;if(!oo(t)||!oo(e))return!1;const i=Pf(t)||al(t)||L$(t),n=Pf(e)||al(e)||L$(e);return i&&n}async function qH(t,e,i,n){if(nh())return h$(n);if(Array.isArray(t)){for(const{source:a,dest:d,geographicTransformation:y}of t)if(a&&d&&!Ma(a,d,y))return Zc(n)}else if(t&&e&&!Ma(t,e,i))return Zc(n);return h$(n)}function lb(t,e,i){return t?"x"in t?HH(t,e,new ue,i,0):"xmin"in t?KH(t,e,new Be,i,0):"rings"in t?YH(t,e,new rr,i,0):"paths"in t?WH(t,e,new sr,i,0):"points"in t?VH(t,e,new Po,i,0):null:null}function O2t(t,e,i=e.spatialReference,n=0){return i!=null&&t.spatialReference!=null&&HH(t,t.spatialReference,e,i,n)!=null}function HH(t,e,i,n,a){Wn[0]=t.x,Wn[1]=t.y;const d=t.z;return Wn[2]=d!==void 0?d:a,pv(Wn,e,0,Wn,n,0)?(i.x=Wn[0],i.y=Wn[1],i.spatialReference=n,d!==void 0||Vc(n)?(i.z=Wn[2],i.hasZ=!0):(i.z=void 0,i.hasZ=!1),t.m===void 0?(i.m=void 0,i.hasM=!1):(i.m=t.m,i.hasM=!0),i):null}function $2t(t,e,i=e.spatialReference,n=0){return t.spatialReference!=null&&i!=null&&VH(t,t.spatialReference,e,i,n)!=null}function VH(t,e,i,n,a){const{points:d,hasZ:y,hasM:b}=t,S=[],T=d.length,C=[];for(const D of d)C.push(D[0],D[1],y?D[2]:a);if(!pv(C,e,0,C,n,0,T))return null;const k=y||Vc(n);for(let D=0;D<T;++D){const z=3*D,G=C[z],B=C[z+1];k&&b?S.push([G,B,C[z+2],d[D][3]]):k?S.push([G,B,C[z+2]]):b?S.push([G,B,d[D][2]]):S.push([G,B])}return i.points=S,i.spatialReference=n,i.hasZ=y,i.hasM=b,i}function N2t(t,e,i=e.spatialReference,n=0){return t.spatialReference!=null&&i!=null&&WH(t,t.spatialReference,e,i,n)!=null}function WH(t,e,i,n,a){const{paths:d,hasZ:y,hasM:b}=t,S=[];if(!XH(d,y??!1,b??!1,e,S,n,a))return null;const T=y||Vc(n);return i.paths=S,i.spatialReference=n,i.hasZ=T,i.hasM=b,i}function JH(t,e,i=e.spatialReference,n=0){return t.spatialReference!=null&&i!=null&&YH(t,t.spatialReference,e,i,n)!=null}function YH(t,e,i,n,a){const{rings:d,hasZ:y,hasM:b}=t,S=[];if(!XH(d,y??!1,b??!1,e,S,n,a))return null;const T=y||Vc(n);return i.rings=S,i.spatialReference=n,i.hasZ=T,i.hasM=b,i}function k2t(t,e,i=e.spatialReference,n=0){return t.spatialReference!=null&&i!=null&&KH(t,t.spatialReference,e,i,n)!=null}function KH(t,e,i,n,a){const{xmin:d,ymin:y,xmax:b,ymax:S,hasZ:T,hasM:C}=t,k=T?t.zmin:a;if(!aP(d,y,k,e,Wn,n))return null;const D=T||Vc(n);i.xmin=Wn[0],i.ymin=Wn[1],D&&(i.zmin=Wn[2]);const z=T?t.zmax:a;return aP(b,S,z,e,Wn,n)?(i.xmax=Wn[0],i.ymax=Wn[1],D&&(i.zmax=Wn[2]),C&&(i.mmin=t.mmin,i.mmax=t.mmax),i.spatialReference=n,i):null}function XH(t,e,i,n,a,d,y=0){const b=new Array;for(const C of t)for(const k of C)b.push(k[0],k[1],e?k[2]:y);if(!pv(b,n,0,b,d,0))return!1;let S=0;a.length=0;const T=e||Vc(d);for(const C of t){const k=new Array;for(const D of C)T&&i?k.push([b[S++],b[S++],b[S++],D[3]]):T?k.push([b[S++],b[S++],b[S++]]):i?(k.push([b[S++],b[S++],D[2]]),S++):(k.push([b[S++],b[S++]]),S++);a.push(k)}return!0}const Wn=eh(),XOt=Object.freeze(Object.defineProperty({__proto__:null,canProjectWithoutEngine:Ma,getTransformation:BH,getTransformations:M2t,initializeProjection:qH,isEqualBaseGCS:C2t,isLoaded:nh,isLoadedOrLoad:zH,isLoadedOrLoadFor:UH,load:Zc,project:Xf,projectExtent:k2t,projectMany:W7,projectMultipoint:$2t,projectOrLoad:E2t,projectOrLoadMany:FH,projectPoint:O2t,projectPolygon:JH,projectPolyline:N2t,projectWithZConversion:GH,projectWithoutEngine:lb,requiresLoad:T2t,test:R2t,tryProjectWithZConversion:bg,unload:A2t},Symbol.toStringTag,{value:"Module"}));var ub;let J7=ub=class extends Zt.JSONSupportMixin(me.ofType(rr)){constructor(t){super(t)}clone(){return new ub(this.items.map((t=>t.clone())))}write(t,e){return this.toJSON(e)}toJSON(t){const e=t?.layer?.spatialReference;return e?this.toArray().map((i=>{if(!e.equals(i.spatialReference)){if(!Ma(i.spatialReference,e))return t?.messages?.push(new sl("scenefilter:unsupported","Scene filters with incompatible spatial references are not supported",{modification:this,spatialReference:t.layer.spatialReference,context:t})),null;const a=new rr;JH(i,a,e),i=a}const n=i.toJSON(t);return delete n.spatialReference,n})).filter((i=>i!=null)):this.toArray().map((i=>i.toJSON(t)))}static fromJSON(t,e){const i=new ub;return t.forEach((n=>i.add(rr.fromJSON(n,e)))),i}};J7=ub=E([ut("esri.layers.support.PolygonCollection")],J7);const qm=J7;let Jl=class extends Zt.JSONSupportMixin(qr){constructor(e){super(e),this.id=`focusarea-${dv()}`,this.title=null,this.enabled=!0,this.outline=null,this.geometries=new qm}readGeometries(e,i,n){Array.isArray(e)?this.geometries=qm.fromJSON(e,n):n.hooks?.onAfterLoad?.((()=>this._loadGeometries(Gp(e,n),n)))}async _loadGeometries(e,i){const n=await Di(e,{responseType:"json"});this.geometries=qm.fromJSON(n.data,i)}};E([N({type:String,nonNullable:!0,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}}}),N()],Jl.prototype,"id",void 0),E([N({type:String,json:{write:!0}})],Jl.prototype,"title",void 0),E([N({type:Boolean,nonNullable:!0,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}}})],Jl.prototype,"enabled",void 0),E([N({type:t2t,json:{write:!0}})],Jl.prototype,"outline",void 0),E([N({type:qm,nonNullable:!0,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}},clonable:t=>new qm(t.items.map((e=>e.clone())))}),Wvt({origins:["web-scene","portal-item"],type:"resource",prefix:"geometries",contentAddressed:!0})],Jl.prototype,"geometries",void 0),E([Ne(["web-scene","portal-item"],"geometries")],Jl.prototype,"readGeometries",null),Jl=E([ut("esri.effects.FocusArea")],Jl);const P2t=Jl;let sm=class extends Zt.JSONSupportMixin(qr){constructor(e){super(e),this.areas=new me,this.style="bright"}};E([N({type:me.ofType(P2t),nonNullable:!0,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}},clonable:t=>new me(t.items.map((e=>e.clone())))})],sm.prototype,"areas",void 0),E([N({type:["bright","dark"],nonNullable:!0,json:{write:!0}})],sm.prototype,"style",void 0),sm=E([ut("esri.effects.FocusAreas")],sm);const ZH=sm;function I2t(t){return typeof t=="object"&&t!=null&&"loaded"in t&&t.loaded===!0&&"type"in t}function D2t(t){return!(!I2t(t)||!vvt(t)?.operations?.supportsEditing||"editingEnabled"in t&&!wvt(t)||$H(t))}const E_=()=>ae.getLogger("esri.support.basemapUtils");function L2t(){return{}}function j2t(t){for(const e in t){const i=t[e];vr(i),delete t[e]}}function z2t(t,e){let i;if(typeof t=="string"){const n=t in z7,a=!n&&t.includes("/");if(!n&&!a){if(OS())E_().warn(`Unable to find basemap definition for: ${t}. See available styles at https://developers.arcgis.com/rest/basemap-styles/`);else{const d=Object.entries(z7).filter((([y,b])=>b.classic||b.is3d)).map((([y])=>`"${y}"`)).sort().join(", ");E_().warn(`Unable to find basemap definition for: ${t}. Try one of these: ${d}`)}return null}e&&(i=e[t]),i||(i=n?Um.fromId(t):new Um({style:{id:t}}),e&&(e[t]=i))}else i=an(Um,t);return i?.destroyed&&(E_().warn("The provided basemap is already destroyed",{basemap:i}),i=null),i}function U2t(t){return new Qa({getCollections:()=>[t.tables,t.layers],getChildrenFunction:e=>{const i=[];return"tables"in e&&i.push(e.tables),"layers"in e&&i.push(e.layers),i},itemFilterFunction:e=>{const i=e.parent;return!!i&&"tables"in i&&i.tables.includes(e)}})}function M_(t){for(const e of t.values())e?.destroy();t.clear()}const lP={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};function F2t(t){let e=null;if(typeof t=="string")if(t in lP){const i=lP[t];e=new _w({resourceInfo:{data:{layers:[i]}}})}else ae.getLogger("esri.support.groundUtils").warn(`Unable to find ground definition for: ${t}. Try "world-elevation"`);else e=an(_w,t);return e}function Y7(t,e,i){let n,a;if(t)for(let d=0,y=t.length;d<y;d++){if(n=t.at(d),n?.[e]===i)return n;if(n?.type==="group"&&(a=Y7(n.layers,e,i),a))return a}}const B2t=t=>{let e=class extends t{constructor(...i){super(...i),this.layers=new me;const n=y=>{y.parent&&"remove"in y.parent&&y.parent.remove(y)},a=y=>{y.parent=this,this.layerAdded(y),y.type!=="elevation"&&y.type!=="base-elevation"||ae.getLogger(this).error(`Layer 'title:${y.title}, id:${y.id}' of type '${y.type}' is not supported as an operational layer and will therefore be ignored.`)},d=y=>{y.parent=null,this.layerRemoved(y)};this.addHandles([this.layers.on("before-add",(y=>{if(y.item===this)return y.preventDefault(),void ae.getLogger(this).error("#add()","Cannot add layer to itself.");n(y.item)})),this.layers.on("after-add",(y=>a(y.item))),this.layers.on("after-remove",(y=>d(y.item)))])}destroy(){const i=this.layers.toArray();for(const n of i)n.destroy();this.layers.destroy()}set layers(i){this._set("layers",mu(i,this._get("layers")))}add(i,n){const a=this.layers;if(n=a.getNextIndex(n),i instanceof cr){const d=i;d.parent===this?this.reorder(d,n):a.add(d,n)}else hl(i)?i.then((d=>{this.destroyed||this.add(d,n)})):ae.getLogger(this).error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(i,n){const a=this.layers;let d=a.getNextIndex(n);i.slice().forEach((y=>{y.parent!==this?(a.add(y,d),d+=1):this.reorder(y,d)}))}findLayerById(i){return Y7(this.layers,"id",i)}findLayerByUid(i){return Y7(this.layers,"uid",i)}remove(i){return this.layers.remove(i)}removeMany(i){return this.layers.removeMany(i)}removeAll(){return this.layers.removeAll()}reorder(i,n){return this.layers.reorder(i,n)}layerAdded(i){}layerRemoved(i){}};return E([N()],e.prototype,"layers",null),e=E([ut("esri.support.LayersMixin")],e),e},G2t=new Set(["feature","subtype-group"]);function K7(t,e,i){if(t)for(let n=0,a=t.length;n<a;n++){const d=t.at(n);if(d[e]===i)return d;if(d?.type==="group"){const y=K7(d.tables,e,i);if(y)return y}}}const q2t=t=>{let e=class extends t{constructor(...i){super(...i),this.tables=new me,this.addHandles([this.tables.on("after-add",(n=>{const a=n.item;a.parent&&a.parent!==this&&"tables"in a.parent&&a.parent.tables.remove(a),a.parent=this,G2t.has(a.type)||ae.getLogger(this).error(`Layer 'title:${a.title}, id:${a.id}' of type '${a.type}' is not supported as a table and will therefore be ignored.`)})),this.tables.on("after-remove",(n=>{n.item.parent=null}))])}destroy(){const i=this.tables.toArray();for(const n of i)n.destroy();this.tables.destroy()}set tables(i){this._set("tables",mu(i,this._get("tables")))}findTableById(i){return K7(this.tables,"id",i)}findTableByUid(i){return K7(this.tables,"uid",i)}};return E([N()],e.prototype,"tables",null),e=E([ut("esri.support.TablesMixin")],e),e};let To=class extends q2t(B2t(gu.EventedMixin(ve))){constructor(e){super(e),this.allLayers=new Qa({getCollections:()=>[this.basemap?.baseLayers,this.ground?.layers,this.layers,this.basemap?.referenceLayers],getChildrenFunction:i=>"layers"in i?i.layers:null}),this.focusAreas=new ZH,this.allTables=U2t(this),this.basemap=null,this.editableLayers=new Qa({getCollections:()=>[this.allLayers],itemFilterFunction:D2t}),this.ground=new _w,this._basemapCache=L2t()}destroy(){j2t(this._basemapCache),this._basemapCache=null,this.focusAreas.destroy(),this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),this.basemap=vr(this.basemap),vr(this.ground),this._set("ground",null)}castBasemap(e){return z2t(e,this._basemapCache)}castGround(e){return F2t(e)??this._get("ground")}findLayerById(e){return this.allLayers.find((i=>i.id===e))}findTableById(e){return this.allTables.find((i=>i.id===e))}};E([N({readOnly:!0,dependsOn:[]})],To.prototype,"allLayers",void 0),E([N({type:ZH,nonNullable:!0,json:{write:{overridePolicy:t=>({enabled:t.areas.length>0,ignoreOrigin:!0})}}})],To.prototype,"focusAreas",void 0),E([N({readOnly:!0})],To.prototype,"allTables",void 0),E([N({type:Um,json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],To.prototype,"basemap",void 0),E([on("basemap")],To.prototype,"castBasemap",null),E([N({readOnly:!0})],To.prototype,"editableLayers",void 0),E([N({type:_w,nonNullable:!0})],To.prototype,"ground",void 0),E([on("ground")],To.prototype,"castGround",null),E([N()],To.prototype,"undoRedo",void 0),To=E([ut("esri.Map")],To);const QH=To;let Gh=class extends qr{constructor(e){super(e),this.row=0,this.column=0,this.rows=1,this.columns=1}equals(e){return e!=null&&this.row===e.row&&this.rows===e.rows&&this.column===e.column&&this.columns===e.columns}};E([N({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Gh.prototype,"row",void 0),E([N({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Gh.prototype,"column",void 0),E([N({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Gh.prototype,"rows",void 0),E([N({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],Gh.prototype,"columns",void 0),Gh=E([ut("esri.CameraLayout")],Gh);const tV=Gh;let yM=class{constructor(e,i){this.min=e,this.max=i,this.range=i-e}normalize(e,i=0,n=!1){return uP(this.range,this.min,this.max,e,i,n)}clamp(e,i=0){return Ea(e-i,this.min,this.max)+i}monotonic(e,i,n){return e<i?i:i+X7(this.range,e-i,n)}minimalMonotonic(e,i,n){return uP(this.range,e,e+this.range,i,n)}center(e,i,n){return i=this.monotonic(e,i,n),this.normalize((e+i)/2,n)}diff(e,i,n){return this.monotonic(e,i,n)-e}shortestSignedDiff(e,i){e=this.normalize(e);const n=(i=this.normalize(i))-e,a=i<e?this.minimalMonotonic(e,i)-e:i-this.minimalMonotonic(i,e);return Math.abs(n)<Math.abs(a)?n:a}contains(e,i,n){return i=this.minimalMonotonic(e,i),(n=this.minimalMonotonic(e,n))>e&&n<i}};function uP(t,e,i,n,a=0,d=!1){return(n-=a)<e?n+=X7(t,e-n):n>i&&(n-=X7(t,n-i)),d&&n===i&&(n=e),n+a}function X7(t,e,i=0){return Math.ceil((e-i)/t)*t+i}const r$t=new yM(0,2*Math.PI),n$t=new yM(-Math.PI,Math.PI),H2t=new yM(0,360);let Fa=class extends qr.ClonableMixin(Zt){constructor(...e){super(...e),this.position=new ue([0,0,0]),this.heading=0,this.tilt=0,this.fov=55,this.layout=new tV}normalizeCtorArgs(e,i,n,a){if(e&&typeof e=="object"&&("x"in e||Array.isArray(e))){const d={position:e};return i!=null&&(d.heading=i),n!=null&&(d.tilt=n),a!=null&&(d.fov=a),d}return e}writePosition(e,i,n,a){const d=e.clone();d.x=no(e.x||0),d.y=no(e.y||0),d.z=e.hasZ?no(e.z||0):e.z,i[n]=d.write({},a)}readPosition(e,i){const n=new ue;return n.read(e,i),n.x=no(n.x||0),n.y=no(n.y||0),n.z=n.hasZ?no(n.z||0):n.z,n}equals(e){return e!=null&&this.tilt===e.tilt&&this.heading===e.heading&&this.fov===e.fov&&this.position.equals(e.position)&&this.layout.equals(e.layout)}};E([N({type:ue,json:{write:{isRequired:!0}}})],Fa.prototype,"position",void 0),E([Pe("position")],Fa.prototype,"writePosition",null),E([Ne("position")],Fa.prototype,"readPosition",null),E([N({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),on((t=>H2t.normalize(no(t))))],Fa.prototype,"heading",void 0),E([N({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),on((t=>Ea(no(t),-180,180)))],Fa.prototype,"tilt",void 0),E([N({type:Number,nonNullable:!0,json:{default:55,write:!0}}),on((t=>Ea(no(t,55),1,170)))],Fa.prototype,"fov",void 0),E([N({type:tV,nonNullable:!0,json:{read:!1,write:!1}})],Fa.prototype,"layout",void 0),Fa=E([ut("esri.Camera")],Fa);const V2t=Fa;var Z7;let sc=Z7=class extends Zt{constructor(t){super(t),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(t){return(t%=360)<0&&(t+=360),t}clone(){return new Z7({rotation:this.rotation,scale:this.scale,targetGeometry:this.targetGeometry!=null?this.targetGeometry.clone():null,camera:this.camera!=null?this.camera.clone():null})}};E([N({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:A_}}}}})],sc.prototype,"rotation",void 0),E([on("rotation")],sc.prototype,"castRotation",null),E([N({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:A_}}}}})],sc.prototype,"scale",void 0),E([N({types:av,json:{read:Yc,write:!0,origins:{"web-scene":{read:Yc,write:{overridePolicy:A_}}}}})],sc.prototype,"targetGeometry",void 0),E([N({type:V2t,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}}})],sc.prototype,"camera",void 0),sc=Z7=E([ut("esri.Viewpoint")],sc);const Bo=sc;function A_(){return{enabled:!this.camera}}let wg=class{constructor(e=i=>i.values().next().value){this._peeker=e,this._observable=new Qg,this._items=new Set}get length(){return xe(this._observable),this._items.size}clear(){this.length!==0&&(this._items.clear(),this._observable.notify())}last(){if(this.length===0)return;let e;for(e of this._items);return e}peek(){if(this.length!==0)return this._peeker(this._items)}push(e){this.contains(e)||(this._items.add(e),this._observable.notify())}contains(e){return xe(this._observable),this._items.has(e)}pop(){if(this.length===0)return;const e=this.peek();return this._items.delete(e),this._observable.notify(),e}popLast(){if(this.length===0)return;const e=this.last();return this._items.delete(e),this._observable.notify(),e}remove(e){this.contains(e)&&(this._items.delete(e),this._observable.notify())}filter(e){const i=this.length;return this._items.forEach((n=>{e(n)||this._items.delete(n)})),i!==this._items.size&&this._observable.notify(),this}*[Symbol.iterator](){xe(this._observable),yield*this._items}};const eV=new FinalizationRegistry((t=>{t.close()}));function W2t(t,e){eV.register(t,e,e)}function J2t(t){eV.unregister(t)}function iV(t,e){return new Proxy({},{get:(i,n,a)=>(...d)=>{let y,b;const S=d[d.length-1];return Y2t(S)&&(y=S.signal,b=S.transferList,d.pop()),t.apply(e?`${e}.${n.toString()}`:n.toString(),d,{transferList:b,signal:y})}})}function Y2t(t){return typeof t=="object"&&!Array.isArray(t)&&t!=null&&("signal"in t||"transferList"in t||Object.keys(t).length===0)}const K2t={statsWorker:()=>te(()=>import("./statsWorker-Ck1508cX.js"),__vite__mapDeps([49,50,51,52,53,54,55,56,57])),geometryEngineWorker:()=>te(()=>import("./geometryEngineWorker-BgR30uiZ.js"),__vite__mapDeps([58,59,60])),arcadeGeometryOperatorsWorker:()=>te(()=>import("./operatorsWorker-DCfPVwKr.js"),[]),CSVSourceWorker:()=>te(()=>import("./CSVSourceWorker-DVz1VDPO.js"),__vite__mapDeps([61,62,60,16,17,63,64,65,15,18,2,3,4,5,6,7,8,66,67,51,50,52,53,54,55,56,57,68,69,70,19,71,72,73,74,14,75,39])),EdgeProcessingWorker:()=>te(()=>import("./EdgeProcessingWorker-B6cvFn7t.js"),__vite__mapDeps([76,77,78,79,53,54,80,81,82,83,84,85,86,87])),ElevationSamplerWorker:()=>te(()=>import("./ElevationSamplerWorker-Dh5BV5P2.js"),__vite__mapDeps([88,73,89,90,91,92,93,94,95,96,97,79,53,54,98])),FeatureServiceSnappingSourceWorker:()=>te(()=>import("./FeatureServiceSnappingSourceWorker-BHmK9T5e.js"),__vite__mapDeps([99,63,64,60,65,15,16,17,18,2,3,4,5,6,7,8,66,67,51,50,52,53,54,55,56,57,68,69,70,19,71,72,73,74,100,101,102,103,104,28])),GeoJSONSourceWorker:()=>te(()=>import("./GeoJSONSourceWorker-Dh9-XwXM.js"),__vite__mapDeps([105,15,16,17,18,63,64,60,65,2,3,4,5,6,7,8,66,67,51,50,52,53,54,55,56,57,68,69,70,19,71,72,73,74,106,62,75,39,107])),LercWorker:()=>te(()=>import("./LercWorker-DbX_77PM.js"),[]),MemorySourceWorker:()=>te(()=>import("./MemorySourceWorker-CMNM2chV.js"),__vite__mapDeps([108,15,16,17,18,109,63,64,60,65,2,3,4,5,6,7,8,66,67,51,50,52,53,54,55,56,57,68,69,70,19,71,72,73,74,75,39,107,62])),PBFDecoderWorker:()=>te(()=>import("./PBFDecoderWorker-yADPln5Y.js"),__vite__mapDeps([110,111,17,15,16,18,101,102])),FeaturePipelineWorker:()=>te(()=>import("./FeaturePipelineWorker-B5eTQs2i.js"),__vite__mapDeps([112,113,114,115,86,116,117,16,17,118,119,120,121,122,123,124,38,39,125,6,7,8,19,126,127,64,60,66,15,18,51,128,129,130,131,132,133,134,22,74,65,2,3,4,5,67,50,52,53,54,55,56,57,68,69,70,135,136,137,138,103,101,102,104,139,140,106,62,75,107,141,142,143])),PointCloudWorker:()=>te(()=>import("./PointCloudWorker-CcGmAIpm.js"),__vite__mapDeps([144,145,91,146,53,147,148,149,150,151,84,152,92,54,93,94,153,154])),RasterWorker:()=>te(()=>import("./RasterWorker-B066zjRi.js"),__vite__mapDeps([155,156,157,158,159,53,54,160,161,162,163,164])),SceneLayerSnappingSourceWorker:()=>te(()=>import("./SceneLayerSnappingSourceWorker-aY4kLWSJ.js"),__vite__mapDeps([165,166,167,53,54,91,154,92,146,168,153,79,81,82,83,78,80,84,85,86,87])),SceneLayerWorker:()=>te(()=>import("./SceneLayerWorker-zb0a6pWh.js"),__vite__mapDeps([169,89,97,170,95,54,167,53,91,154,92,146,171,151,84,172,123,173,174,175,176,152,145,93,94,153])),WFSSourceWorker:()=>te(()=>import("./WFSSourceWorker-C8gIW4Pc.js"),__vite__mapDeps([177,15,16,17,18,63,64,60,65,2,3,4,5,6,7,8,66,67,51,50,52,53,54,55,56,57,68,69,70,19,71,72,73,74,106,62,107,178,179])),WorkerTileHandler:()=>te(()=>import("./WorkerTileHandler-DI6i7mcr.js"),__vite__mapDeps([180,181,118,124,182,183,119,102,17,133,184,185,86,159,53,54,134,117])),Lyr3DWorker:()=>te(()=>import("./Lyr3DWorker-ocRAVs15.js"),[]),Feature3DPipelineWorker:()=>te(()=>import("./Feature3DPipelineWorker-q7UKHSn2.js"),__vite__mapDeps([186,65,15,16,17,18,2,3,4,5,6,7,8,66,64,60,67,51,50,52,53,54,55,56,57,68,69,70,19,187,188,189,190,163,150,191,36,37,38,39,149,129,125,120,121,119,192,193,113,40,92,194,174,96,89,170,95,195,147,196,197,198,199,200,79,83,201,167,91,154,146,166,84,176,175,202,152,145,93,94,153,203,204,205,206,78,80,173,207,123,208,209,73,103,101,102,104])),TextureCompressionWorker:()=>te(()=>import("./TextureCompressionWorker-i3PhIS0L.js"),__vite__mapDeps([210,200]))},rV="worker:port-closed";var wn;(function(t){t[t.HANDSHAKE=0]="HANDSHAKE",t[t.OPEN=1]="OPEN",t[t.OPENED=2]="OPENED",t[t.RESPONSE=3]="RESPONSE",t[t.INVOKE=4]="INVOKE",t[t.ABORT=5]="ABORT",t[t.CLOSE=6]="CLOSE",t[t.OPEN_PORT=7]="OPEN_PORT",t[t.ON=8]="ON"})(wn||(wn={}));let X2t=0;function nV(){return X2t++}function Z2t(t){return t&&typeof t=="object"&&("result"in t||"transferList"in t)}function _g(t){return t?typeof t=="string"?JSON.stringify({name:"message",message:t}):t.toJSON?JSON.stringify(t):JSON.stringify({name:t.name,message:t.message,details:t.details||{stack:t.stack}}):null}function mM(t,e,i,n){if(e.type===wn.OPEN_PORT)return void t.postMessage(e,[e.port]);if(e.type!==wn.INVOKE&&e.type!==wn.RESPONSE)return void t.postMessage(e);let a;if(Z2t(i)?(a=cP(i.transferList),e.data=i.result):(a=cP(n),e.data=i),a){if(St("ff")){for(const d of a)if("byteLength"in d&&d.byteLength>267386880){const y="Worker call with large ArrayBuffer would crash Firefox";switch(e.type){case wn.INVOKE:throw y;case wn.RESPONSE:return void mM(t,{type:wn.RESPONSE,jobId:e.jobId,error:_g(y)})}}}t.postMessage(e,a)}else t.postMessage(e)}function Sg(t){if(!t)return null;const e=t.data;return e?typeof e=="string"?JSON.parse(e):e:null}function cP(t){if(!t?.length)return null;if(St("esri-workers-arraybuffer-transfer"))return t;const e=t.filter((i=>!Q2t(i)));return e.length?e:null}function Q2t(t){return t instanceof ArrayBuffer||t?.constructor?.name==="ArrayBuffer"}async function a$t(t){try{return await t}catch(e){const i=e?.name===rV;if(!(cs(e)||i))throw e;return}}const{CLOSE:hP,ABORT:fP,INVOKE:dP,RESPONSE:gy,OPEN_PORT:pP,ON:t3t}=wn,e3t=2;let i3t=class{constructor(e){this._invoke=e,this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._timer=null,this._process=this._process.bind(this)}push(e){e.type===wn.ABORT?this._cancelledJobIds.add(e.jobId):(this._invokeMessages.push(e),this._timer===null&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const e of this._invokeMessages)this._cancelledJobIds.has(e.jobId)||this._invoke(e);this._cancelledJobIds.clear(),this._invokeMessages.length=0}};var Io;let Rp=(Io=class{static connect(e,i){const n=new MessageChannel;let a;a=typeof e=="function"?new e:"default"in e&&typeof e.default=="function"?new e.default:e;const d=new Io(n.port1,{channel:n,client:a,schedule:i});return typeof a=="object"&&"remoteClient"in a&&(a.remoteClient=d),Io.clients.set(d,a),n.port2}static loadWorker(e){const i=K2t[e];return i?i():Promise.resolve(null)}constructor(e,i,n,a){this._port=e,this._jobQueue=n,this._lowPriorityJobQueue=a,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new i3t((d=>this._onInvokeMessage(d))),this._client=i.client,this._onMessage=this._onMessage.bind(this),this._channel=i.channel,this._schedule=i.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}close(){this._post({type:hP}),this._close()}isBusy(){return this._outJobs.size>0}invoke(e,i,n){return this.apply(e,[i],n)}apply(e,i,n){const a=n?.signal,d=n?.transferList;if(!this._port)return Promise.reject(new Lt(rV,`Cannot call invoke('${e}'), port is closed`,{methodName:e,data:i}));const y=nV();return new Promise(((b,S)=>{if(Go(a))return this._processWork(),void S(Zi());const T=_a(a,(()=>{const k=this._outJobs.get(y);k&&(this._outJobs.delete(y),this._processWork(),or(k.abortHandle),this._post({type:fP,jobId:y}),S(Zi()))})),C={resolve:b,reject:S,abortHandle:T,debugInfo:e};this._outJobs.set(y,C),this._post({type:dP,jobId:y,methodName:e,abortable:a!=null},i,d)}))}createInvokeProxy(e){return iV(this,e)}on(e,i){const n=new MessageChannel;function a(d){i(d.data)}return this._port.postMessage({type:wn.ON,eventType:e,port:n.port2},[n.port2]),n.port1.addEventListener("message",a),n.port1.start(),ui((()=>{n.port1.postMessage({type:wn.CLOSE}),n.port1.close(),n.port1.removeEventListener("message",a)}))}jobAdded(){this._processWork()}openPort(){const e=new MessageChannel;return this._post({type:pP,port:e.port2}),e.port1}_processWork(){if(this._outJobs.size>=e3t)return;const e=this._jobQueue?.pop()??this._lowPriorityJobQueue?.pop();if(!e)return;const{methodName:i,data:n,invokeOptions:a,resolver:d}=e;this.apply(i,n,a).then((y=>d.resolve(y))).catch((y=>d.reject(y)))}_close(){this._channel&&(this._channel=void 0),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach((e=>{or(e.abortHandle),e.reject(Zi(`Worker closing, aborting job calling '${e.debugInfo}'`))})),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=null,this._client=null,this._schedule=null}_onMessage(e){this._schedule!=null?this._schedule((()=>this._processMessage(e,!0))):this._processMessage(e,!1)}_processMessage(e,i){const n=Sg(e);if(n)switch(n.type){case gy:this._onResponseMessage(n);break;case dP:i?this._onInvokeMessage(n):this._invokeQueue.push(n);break;case fP:this._onAbortMessage(n);break;case hP:this._onCloseMessage();break;case pP:this._onOpenPortMessage(n);break;case t3t:this._onOnMessage(n)}}_onAbortMessage(e){const i=this._inJobs,n=e.jobId,a=i.get(n);this._invokeQueue.push(e),a&&(a.controller&&a.controller.abort(),i.delete(n))}_onCloseMessage(){const e=this._client;this._close(),e&&"destroy"in e&&Io.clients.get(this)===e&&e.destroy(),Io.clients.delete(this),e?.remoteClient&&(e.remoteClient=null)}_onInvokeMessage(e){const{methodName:i,jobId:n,data:a=[],abortable:d}=e,y=d?new AbortController:null,b=this._inJobs;let S,T=this._client,C=T[i];try{if(!C&&i&&i.includes(".")){const k=i.split(".");for(let D=0;D<k.length-1;D++)T=T[k[D]],C=T[k[D+1]]}if(typeof C!="function")throw new TypeError(`${i} is not a function`);a.push({client:this,signal:y?y.signal:null}),S=C.apply(T,a)}catch(k){return void this._post({type:gy,jobId:n,error:_g(k)})}hl(S)?(b.set(n,{controller:y,promise:S}),S.then((k=>{b.has(n)&&(b.delete(n),this._post({type:gy,jobId:n},k))}),(k=>{b.has(n)&&(b.delete(n),cs(k)||this._post({type:gy,jobId:n,error:_g(k||{message:`Error encountered at method ${i}`})}))}))):this._post({type:gy,jobId:n},S)}_onOpenPortMessage(e){new Io(e.port,{client:this._client})}_onOnMessage(e){const{port:i}=e,n=this._client.on(e.eventType,(d=>{i.postMessage(d)})),a=Up(e.port,"message",(d=>{Sg(d)?.type===wn.CLOSE&&(a.remove(),n.remove(),i.close())}))}_onResponseMessage(e){const{jobId:i,error:n,data:a}=e,d=this._outJobs;if(!d.has(i))return;const y=d.get(i);d.delete(i),this._processWork(),or(y.abortHandle),n?y.reject(Lt.fromJSON(JSON.parse(n))):y.resolve(a)}_post(e,i,n){return mM(this._port,e,i,n)}},Io.kernelInfo={buildDate:oz,fullVersion:LT,revision:az},Io.clients=new Map,Io),r3t=class{constructor(){this._inUseClients=new Array,this._clients=new Array,this._clientPromises=new Array,this._ongoingJobsQueue=new wg,this._ongoingLowPriorityJobsQueue=new wg}destroy(){this.close()}get closed(){return!this._clients?.length}open(e,i){return new Promise(((n,a)=>{let d=!0;const y=b=>{dr(i.signal),d&&(d=!1,b())};this._clients.length=e.length,this._clientPromises.length=e.length,this._inUseClients.length=e.length;for(let b=0;b<e.length;++b){const S=e[b];hl(S)?this._clientPromises[b]=S.then((T=>(this._clients[b]=new Rp(T,i,this._ongoingJobsQueue,this._ongoingLowPriorityJobsQueue),y(n),this._clients[b])),(()=>(y(a),null))):(this._clients[b]=new Rp(S,i,this._ongoingJobsQueue,this._ongoingLowPriorityJobsQueue),this._clientPromises[b]=Promise.resolve(this._clients[b]),y(n))}}))}broadcast(e,i,n){const a=new Array(this._clientPromises.length);for(let d=0;d<this._clientPromises.length;++d){const y=this._clientPromises[d];a[d]=y.then((b=>b?.invoke(e,i,n)))}return a}close(){let e;for(;e=this._ongoingJobsQueue.pop();)e.resolver.reject(Zi(`Worker closing, aborting job calling '${e.methodName}'`));for(;e=this._ongoingLowPriorityJobsQueue.pop();)e.resolver.reject(Zi(`Worker closing, aborting job calling '${e.methodName}'`));for(const i of this._clientPromises)i.then((n=>n?.close()));this._clients.length=0,this._clientPromises.length=0,this._inUseClients.length=0,J2t(this)}invoke(e,i,n){return this.apply(e,[i],n)}apply(e,i,n){const a=qo();(n?.priority==="low"?this._ongoingLowPriorityJobsQueue:this._ongoingJobsQueue).push({methodName:e,data:i,invokeOptions:n,resolver:a});for(let d=0;d<this._clientPromises.length;d++){const y=this._clients[d];y?y.jobAdded():this._clientPromises[d].then((b=>b?.jobAdded()))}return a.promise}createInvokeProxy(e){return iV(this,e)}on(e,i){return Promise.all(this._clientPromises).then((()=>Vf(this._clients.map((n=>n.on(e,i))))))}openPorts(){return new Promise((e=>{const i=new Array(this._clientPromises.length);let n=i.length;for(let a=0;a<this._clientPromises.length;++a)this._clientPromises[a].then((d=>{d&&(i[a]=d.openPort()),--n===0&&e(i)}))}))}get test(){}};const n3t={async request(t,e){const i=t.options,n=i.responseType;i.signal=e?.signal,i.responseType=n==="native"||n==="native-request-init"?"native-request-init":n&&["blob","json","text"].includes(n)&&ES(t.url)?.after?n:"array-buffer";const a=await Di(t.url,i),d={data:a.data,httpStatus:a.httpStatus,ssl:a.ssl};switch(a.requestOptions?.responseType){case"native-request-init":return delete d.data.signal,d;case"blob":d.data=await d.data.arrayBuffer();break;case"json":d.data=new TextEncoder().encode(JSON.stringify(d.data)).buffer;break;case"text":d.data=new TextEncoder().encode(d.data).buffer}return{result:d,transferList:[d.data]}}},yP={};function s3t(t){const e={async:t.async,isDebug:t.isDebug,locale:t.locale,baseUrl:t.baseUrl,has:{...t.has},map:{...t.map},packages:t.packages?.slice()||[],paths:{...yP.paths,...t.paths}};return t.hasOwnProperty("async")||(e.async=!0),t.hasOwnProperty("isDebug")||(e.isDebug=!1),t.baseUrl||(e.baseUrl=yP.baseUrl),e}let o3t=class{constructor(){const e=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach((i=>{this[i]=(...n)=>e[i](...n)}))}},cb=class{constructor(){this._dispatcher=new o3t,this._workerPostMessage({type:wn.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(e){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=e,e&&this.addEventListener("message",e)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(e){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=e,e&&this.addEventListener("messageerror",e)}get onerror(){return this._onerrorHandler}set onerror(e){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=e,e&&this.addEventListener("error",e)}postMessage(e){Ib((()=>{this._workerMessageHandler(new MessageEvent("message",{data:e}))}))}dispatchEvent(e){return this._dispatcher.dispatchEvent(e)}addEventListener(e,i,n){this._dispatcher.addEventListener(e,i,n)}removeEventListener(e,i,n){this._dispatcher.removeEventListener(e,i,n)}_workerPostMessage(e){Ib((()=>{this.dispatchEvent(new MessageEvent("message",{data:e}))}))}async _workerMessageHandler(e){const i=Sg(e);if(i&&i.type===wn.OPEN){const{modulePath:n,jobId:a}=i;let d=await Rp.loadWorker(n);d||(d=await import(n));const y=Rp.connect(d);this._workerPostMessage({type:wn.OPENED,jobId:a,data:y})}}};const Q7=()=>ae.getLogger("esri.core.workers.workerFactory"),{HANDSHAKE:a3t}=wn,l3t='let globalId=0;const outgoing=new Map,configuration={CONFIGURATION};self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;let s=null;return new Promise(((r,i)=>{if(t){if(t.aborted)return i(createAbortError());s=()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))},t.addEventListener("abort",s)}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})})).finally((()=>{t&&t.removeEventListener("abort",s)}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,fullVersion:r}=configuration.kernelInfo,{revision:t,fullVersion:n,version:s}=e.kernelInfo;esriConfig.assetsPath!==esriConfig.defaultAssetsPath&&o!==t&&console.warn(`Version mismatch detected between ArcGIS Maps SDK for JavaScript modules and assets. For more information visit https://bit.ly/3QnsuSo.\nModules version: ${r}\nAssets version: ${n??s}\nAssets path: ${esriConfig.assetsPath}`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let n;function t(e){const o=n.connect(e);self.postMessage({type:2,jobId:r,data:o},[o])}"function"==typeof define&&define.amd?require([workerPath],(e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((e=>(n=e.default,checkWorkerRevision(n),n.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),n=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const s=outgoing.get(r);outgoing.delete(r),o.error?s.reject(JSON.parse(o.error)):s.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});';let t3,e3;const mP="Failed to create Worker. Fallback to execute module in main thread";async function u3t(){if(!St("esri-workers"))return gP(new cb);if(!t3&&!e3)try{const e=l3t.split("{CONFIGURATION}").join(c3t());t3=URL.createObjectURL(new Blob([e],{type:"text/javascript"}))}catch(e){e3=e||{}}let t;if(t3)try{t=new Worker(t3,{name:"esri-worker-"+h3t++})}catch{Q7().warn(mP,e3),t=new cb}else Q7().warn(mP,e3),t=new cb;return gP(t)}async function gP(t){return new Promise((e=>{function i(a){const d=Sg(a);d&&d.type===a3t&&(t.removeEventListener("message",i),t.removeEventListener("error",n),e(t))}function n(a){a.preventDefault(),t.removeEventListener("message",i),t.removeEventListener("error",n),Q7().warn("Failed to create Worker. Fallback to execute module in main thread",a),(t=new cb).addEventListener("message",i),t.addEventListener("error",n)}t.addEventListener("message",i),t.addEventListener("error",n)}))}function c3t(){let t;if(ci.default!=null){const a={...ci};delete a.default,t=JSON.parse(JSON.stringify(a))}else t=JSON.parse(JSON.stringify(ci));t.assetsPath=Do(t.assetsPath),t.defaultAssetsPath=t.defaultAssetsPath?Do(t.defaultAssetsPath):void 0,t.request.interceptors=[],t.log.interceptors=[],t.locale=Fo(),t.has={"esri-csp-restrictions":St("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":St("esri-2d-update-debug"),"esri-2d-log-updating":St("esri-2d-log-updating"),"featurelayer-pbf":St("featurelayer-pbf"),"featurelayer-fast-triangulation-enabled":St("featurelayer-fast-triangulation-enabled"),"featurelayer-simplify-thresholds":St("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":St("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":St("featurelayer-simplify-mobile-factor"),"featurelayer-query-max-depth":St("featurelayer-query-max-depth"),"featurelayer-query-tile-max-features":St("featurelayer-query-tile-max-features"),"featurelayer-query-tile-concurrency":St("featurelayer-query-tile-concurrency"),"featurelayer-query-pausing-enabled":St("featurelayer-query-pausing-enabled"),"featurelayer-snapshot-concurrency":St("featurelayer-snapshot-concurrency"),"featurelayer-snapshot-enabled":St("featurelayer-snapshot-enabled"),"esri-atomics":St("esri-atomics"),"esri-shared-array-buffer":St("esri-shared-array-buffer"),"esri-tiles-debug":St("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":St("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":St("feature-polyline-generalization-factor"),"host-webworker":1},t.workers.loaderUrl&&(t.workers.loaderUrl=Do(t.workers.loaderUrl)),t.workers.workerPath?t.workers.workerPath=Do(t.workers.workerPath):t.workers.workerPath=Do(Cr("esri/core/workers/RemoteClient.js")),t.workers.useDynamicImport=!1;const e=ci.workers.loaderConfig,i=s3t({baseUrl:e?.baseUrl,locale:Fo(),has:{"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1,...e?.has},map:{...e?.map},paths:{...e?.paths},packages:e?.packages||[]});return JSON.stringify({esriConfig:t,loaderConfig:i,kernelInfo:{buildDate:oz,fullVersion:LT,revision:az}})}let h3t=0;const{ABORT:vP,INVOKE:f3t,OPEN:d3t,OPENED:p3t,RESPONSE:vy}=wn;let y3t=class sV{static async create(e){const i=await u3t();return new sV(i,e)}constructor(e,i){this._outJobs=new Map,this._inJobs=new Map,this.worker=e,this.id=i,e.addEventListener("message",this._onMessage.bind(this)),e.addEventListener("error",(n=>{n.preventDefault(),ae.getLogger("esri.core.workers.WorkerOwner").error(n)}))}terminate(){this.worker.terminate()}async open(e,i={}){const{signal:n}=i,a=nV();return new Promise(((d,y)=>{const b={resolve:d,reject:y,abortHandle:mT(n,(()=>{this._outJobs.delete(a),this._post({type:vP,jobId:a})}))};this._outJobs.set(a,b),this._post({type:d3t,jobId:a,modulePath:e})}))}_onMessage(e){const i=Sg(e);if(i)switch(i.type){case p3t:this._onOpenedMessage(i);break;case vy:this._onResponseMessage(i);break;case vP:this._onAbortMessage(i);break;case f3t:this._onInvokeMessage(i)}}_onAbortMessage(e){const i=this._inJobs,n=e.jobId,a=i.get(n);a&&(a.controller&&a.controller.abort(),i.delete(n))}_onInvokeMessage(e){const{methodName:i,jobId:n,data:a,abortable:d}=e,y=d?new AbortController:null,b=this._inJobs,S=n3t[i];let T;try{if(typeof S!="function")throw new TypeError(`${i} is not a function`);T=S.call(null,a,{signal:y?y.signal:null})}catch(C){return void this._post({type:vy,jobId:n,error:_g(C)})}hl(T)?(b.set(n,{controller:y,promise:T}),T.then((C=>{b.has(n)&&(b.delete(n),this._post({type:vy,jobId:n},C))}),(C=>{b.has(n)&&(b.delete(n),C||(C={message:"Error encountered at method"+i}),cs(C)||this._post({type:vy,jobId:n,error:_g(C||{message:`Error encountered at method ${i}`})}))}))):this._post({type:vy,jobId:n},T)}_onOpenedMessage(e){const{jobId:i,data:n}=e,a=this._outJobs.get(i);a&&(this._outJobs.delete(i),or(a.abortHandle),a.resolve(n))}_onResponseMessage(e){const{jobId:i,error:n,data:a}=e,d=this._outJobs.get(i);d&&(this._outJobs.delete(i),or(d.abortHandle),n?d.reject(Lt.fromJSON(JSON.parse(n))):d.resolve(a))}_post(e,i,n){return mM(this.worker,e,i,n)}};const bP=St("host-browser")?Math.min(navigator.hardwareConcurrency-1,St("workers-pool-size")??8):0;let uf=St("esri-mobile")?Math.min(bP,3):bP;uf||(uf=St("safari")&&St("mac")?7:2);let wP=0;const hb=[];function m3t(){oV()}async function i3(t,e){const i=new r3t,{registryTarget:n,...a}=e;return await i.open(t,a),n&&W2t(n,i),i}async function f$t(t,e={}){if(typeof t!="string")throw new Lt("workers:undefined-module","modulePath is missing");let i=e.strategy||"distributed";if(St("host-webworker")&&!St("esri-workers")&&(i="local"),i==="local"){let n=await Rp.loadWorker(t);n||(n=await import(t)),dr(e.signal);const a=e.client||n;return i3([Rp.connect(n,e.schedule)],{...e,client:a})}if(await oV(),dr(e.signal),i==="dedicated"){const n=wP++%uf;return i3([await hb[n].open(t,e)],e)}if(e.maxNumWorkers&&e.maxNumWorkers>0){const n=Math.min(e.maxNumWorkers,uf);if(n<uf){const a=new Array(n);for(let d=0;d<n;++d){const y=wP++%uf;a[d]=hb[y].open(t,e)}return i3(a,e)}}return i3(hb.map((n=>n.open(t,e))),e)}let r3=null;async function oV(){if(r3)return r3;new AbortController;const t=[];for(let e=0;e<uf;e++){const i=y3t.create(e).then((n=>(hb[e]=n,n)));t.push(i)}return r3=Promise.all(t),r3}var t8,ep;let Nn=(ep=class extends Zt{constructor(e){super(e),this.cols=null,this.level=0,this.levelValue=null,this.origin=null,this.resolution=0,this.rows=null,this.scale=0}clone(){return new t8({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}},t8=ep,ep);E([N({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],Nn.prototype,"cols",void 0),E([N({type:Hi,json:{write:!0}})],Nn.prototype,"level",void 0),E([N({type:String,json:{write:!0}})],Nn.prototype,"levelValue",void 0),E([N({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],Nn.prototype,"origin",void 0),E([N({type:Number,json:{write:!0}})],Nn.prototype,"resolution",void 0),E([N({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],Nn.prototype,"rows",void 0),E([N({type:Number,json:{write:!0}})],Nn.prototype,"scale",void 0),Nn=t8=E([ut("esri.layers.support.LOD")],Nn);let g3t=class{constructor(e,i,n,a,d=void 0){this.id=e,this.level=i,this.row=n,this.col=a,this.extent=d}};var oc;const _P=new wr({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});var ip;let Rn=(ip=class extends Zt{static create(e={}){const{resolutionFactor:i=1,scales:n,size:a=256,spatialReference:d=le.WebMercator,numLODs:y=24}=e;if(!oo(d)){const D=[];if(n)for(let z=0;z<n.length;z++){const G=n[z];D.push(new Nn({level:z,scale:G,resolution:G}))}else{let z=5e-4;for(let G=y-1;G>=0;G--)D.unshift(new Nn({level:G,scale:z,resolution:z})),z*=2}return new oc({dpi:96,lods:D,origin:new ue(0,0,d),size:[a,a],spatialReference:d})}const b=us(d),S=e.origin?new ue({x:e.origin.x,y:e.origin.y,spatialReference:d}):new ue(b?{x:b.origin[0],y:b.origin[1],spatialReference:d}:{x:0,y:0,spatialReference:d}),T=96,C=1/(fl(d)*39.37*T),k=[];if(n)for(let D=0;D<n.length;D++){const z=n[D],G=z*C;k.push(new Nn({level:D,scale:z,resolution:G}))}else{let D=qp(d)?512/a*5916575275917094e-7:256/a*591657527591555e-6;const z=Math.ceil(y/i);k.push(new Nn({level:0,scale:D,resolution:D*C}));for(let G=1;G<z;G++){const B=D/2**i,H=B*C;k.push(new Nn({level:G,scale:B,resolution:H})),D=B}}return new oc({dpi:T,lods:k,origin:S,size:[a,a],spatialReference:d})}constructor(e){super(e),this.dpi=96,this.format=null,this.origin=null,this.size=null,this.spatialReference=null}get isWrappable(){const{spatialReference:e,origin:i}=this;if(e&&i){const n=us(e);return e.isWrappable&&!!n&&Math.abs(n.origin[0]-i.x)<=n.dx}return!1}readOrigin(e,i){return ue.fromJSON({spatialReference:i.spatialReference,...e})}set lods(e){let i=0,n=0;const a=[],d=this._levelToLOD={};e&&(i=-1/0,n=1/0,e.forEach((y=>{a.push(y.scale),i=y.scale>i?y.scale:i,n=y.scale<n?y.scale:n,d[y.level]=y}))),this._set("scales",a),this._set("lods",e),this._initializeUpsampleLevels()}readSize(e,i){return[i.cols,i.rows]}writeSize(e,i){i.cols=e[0],i.rows=e[1]}zoomToScale(e){const i=this.scales;if(e<=0)return i[0];if(e>=i.length-1)return i[i.length-1];const n=Math.floor(e),a=n+1;return i[n]/(i[n]/i[a])**(e-n)}scaleToZoom(e){const i=this.scales,n=i.length-1;let a=0;for(;a<n;a++){const d=i[a],y=i[a+1];if(d<=e)return a;if(y===e)return a+1;if(d>e&&y<e)return a+Math.log(d/e)/Math.log(d/y)}return a}tileAt(e,i,n,a){const d=this.lodAt(e);if(!d)return null;let y,b;if(typeof i=="number")y=i,b=n;else if(Sn(i.spatialReference,this.spatialReference))y=i.x,b=i.y,a=n;else{const C=d5(i,this.spatialReference);if(C==null)return null;y=C.x,b=C.y,a=n}const S=d.resolution*this.size[0],T=d.resolution*this.size[1];return a||(a=new g3t(null,0,0,0,ls())),a.level=e,a.row=Math.floor((this.origin.y-b)/T+.001),a.col=Math.floor((y-this.origin.x)/S+.001),this.updateTileInfo(a),a}updateTileInfo(e,i=oc.ExtrapolateOptions.NONE){let n=this.lodAt(e.level);if(!n&&i===oc.ExtrapolateOptions.POWER_OF_TWO){const b=this.lods[this.lods.length-1];b.level<e.level&&(n=b)}if(!n)return;const a=e.level-n.level,d=n.resolution*this.size[0]/2**a,y=n.resolution*this.size[1]/2**a;e.id=`${e.level}/${e.row}/${e.col}`,e.extent||(e.extent=ls()),e.extent[0]=this.origin.x+e.col*d,e.extent[1]=this.origin.y-(e.row+1)*y,e.extent[2]=e.extent[0]+d,e.extent[3]=e.extent[1]+y}upsampleTile(e){const i=this._upsampleLevels[e.level];return!(!i||i.parentLevel===-1)&&(e.level=i.parentLevel,e.row=Math.floor(e.row/i.factor+.001),e.col=Math.floor(e.col/i.factor+.001),this.updateTileInfo(e),!0)}getTileBounds(e,i){const n=this.lodAt(i.level);if(n==null)return null;const{resolution:a}=n,d=a*this.size[0],y=a*this.size[1];return e[0]=this.origin.x+i.col*d,e[1]=this.origin.y-(i.row+1)*y,e[2]=e[0]+d,e[3]=e[1]+y,e}lodAt(e){return this._levelToLOD?.[e]??null}clone(){return oc.fromJSON(this.write({}))}getCompatibleForVTL(e){if(this.size[0]!==this.size[1]||this.size[0]===256&&e===512)return null;const i=(this.size[0]===512&&e===256?-1:0)+(this.spatialReference.isGeographic?1:0);if(this.size[0]===e&&i===0)return this;const n=[],a=this.lods.length-i;for(let d=0;d<a;d++){const y=d+i,{scale:b,resolution:S}=y>=0?this.lods[y]:{scale:2*this.lods[0].scale,resolution:2*this.lods[0].resolution};n.push(new Nn({level:d,scale:b,resolution:S}))}return new oc({size:[e,e],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:n})}_initializeUpsampleLevels(){const e=this.lods;this._upsampleLevels=[];let i=null;for(let n=0;n<e.length;n++){const a=e[n];this._upsampleLevels[a.level]={parentLevel:i?i.level:-1,factor:i?i.resolution/a.resolution:0},i=a}}},oc=ip,ip);E([N({type:Number,json:{write:!0}})],Rn.prototype,"compressionQuality",void 0),E([N({type:Number,json:{write:!0}})],Rn.prototype,"dpi",void 0),E([N({type:String,json:{read:_P.read,write:_P.write,origins:{"web-scene":{read:!1,write:!1}}}})],Rn.prototype,"format",void 0),E([N({readOnly:!0})],Rn.prototype,"isWrappable",null),E([N({type:ue,json:{write:!0}})],Rn.prototype,"origin",void 0),E([Ne("origin")],Rn.prototype,"readOrigin",null),E([N({type:[Nn],value:null,json:{write:!0}})],Rn.prototype,"lods",null),E([N({readOnly:!0})],Rn.prototype,"scales",void 0),E([N({cast:t=>Array.isArray(t)?t:typeof t=="number"?[t,t]:[256,256]})],Rn.prototype,"size",void 0),E([Ne("size",["rows","cols"])],Rn.prototype,"readSize",null),E([Pe("size",{cols:{type:Hi},rows:{type:Hi}})],Rn.prototype,"writeSize",null),E([N({type:le,json:{write:!0}})],Rn.prototype,"spatialReference",void 0),Rn=oc=E([ut("esri.layers.support.TileInfo")],Rn),(function(t){var e;(e=t.ExtrapolateOptions||(t.ExtrapolateOptions={}))[e.NONE=0]="NONE",e[e.POWER_OF_TWO=1]="POWER_OF_TWO"})(Rn||(Rn={}));const fb={widthBreakpoint:{getValue(t){const e=t.viewSize[0],i=t.breakpoints,n=this.values;return e<=i.xsmall?n.xsmall:e<=i.small?n.small:e<=i.medium?n.medium:e<=i.large?n.large:n.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},heightBreakpoint:{getValue(t){const e=t.viewSize[1],i=t.breakpoints,n=this.values;return e<=i.xsmall?n.xsmall:e<=i.small?n.small:e<=i.medium?n.medium:e<=i.large?n.large:n.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},orientation:{getValue(t){const e=t.viewSize,i=e[0],n=e[1],a=this.values;return n>=i?a.portrait:a.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},R_={xsmall:544,small:768,medium:992,large:1200};function v3t(t){const e=t;return e&&e.xsmall<e.small&&e.small<e.medium&&e.medium<e.large}function C_(t,e){return e?fb[t].valueToClassName[e].split(" "):[]}const b3t=t=>{let e=class extends t{constructor(...i){super(...i),this.orientation=null,this.widthBreakpoint=null,this.heightBreakpoint=null,this.breakpoints=R_}initialize(){this.addHandles(Ce((()=>[this.breakpoints,this.size]),(()=>this._updateClassNames()),Qn))}destroy(){this.destroyed||this._removeActiveClassNames()}set breakpoints(i){if(i!==this._get("breakpoints")){if(!v3t(i)){const n=JSON.stringify(R_,null,2);console.warn("provided breakpoints are not valid, using defaults:"+n),i=R_}this._set("breakpoints",{...i})}}_updateClassNames(){if(!this.container)return;const i=os.acquire(),n=os.acquire();let a,d=!1;for(a in fb){const y=this[a],b=fb[a].getValue({viewSize:this.size,breakpoints:this.breakpoints});y!==b&&(d=!0,this[a]=b,C_(a,y).forEach((S=>n.push(S))),C_(a,b).forEach((S=>i.push(S))))}d&&(this._applyClassNameChanges(i,n),os.release(i),os.release(n))}_applyClassNameChanges(i,n){const a=this.container;a&&(n.forEach((d=>a.classList.remove(d))),i.forEach((d=>a.classList.add(d))))}_removeActiveClassNames(){const i=this.container;if(!i)return;let n;for(n in fb)C_(n,this[n]).forEach((a=>i.classList.remove(a)))}};return E([N()],e.prototype,"breakpoints",null),E([N()],e.prototype,"orientation",void 0),E([N()],e.prototype,"widthBreakpoint",void 0),E([N()],e.prototype,"heightBreakpoint",void 0),e=E([ut("esri.views.BreakpointsOwner")],e),e};function gM(t){return typeof t=="string"?document.getElementById(t):t??null}function SP(t,e){for(;;){const i=t.firstChild;if(!i)break;e.appendChild(i)}}let wf=class extends ve{constructor(){super(...arguments),this.updating=!1,this._handleId=0,this._scheduleHandleId=0,this._pendingPromises=new Set}destroy(){this.removeAll()}add(e,i,n={}){return this._installWatch(e,i,n,Ce)}addWhen(e,i,n={}){return this._installWatch(e,i,n,Ho)}addOnCollectionChange(e,i,{initial:n=!1,final:a=!1}={}){const d=++this._handleId;return this.addHandles([If(e,"after-changes",this._createSyncUpdatingCallback(),Wc),If(e,"change",i,{onListenerAdd:n?y=>i({added:y.toArray(),removed:[]}):void 0,onListenerRemove:a?y=>i({added:[],removed:y.toArray()}):void 0})],d),ui((()=>this.removeHandles(d)))}addPromise(e){if(e==null)return e;const i=++this._handleId;this.addHandles(ui((()=>{this._pendingPromises.delete(e)&&(this._pendingPromises.size!==0||this.hasHandles(n3)||this._set("updating",!1))})),i),this._pendingPromises.add(e),this._set("updating",!0);const n=()=>this.removeHandles(i);return e.then(n,n),e}removeAll(){this._pendingPromises.clear(),this.removeAllHandles(),this._set("updating",!1)}_installWatch(e,i,n={},a){const d=++this._handleId;n.sync||this._installSyncUpdatingWatch(e,d);const y=a(e,i,n);return this.addHandles(y,d),ui((()=>this.removeHandles(d)))}_installSyncUpdatingWatch(e,i){const n=this._createSyncUpdatingCallback(),a=Ce(e,n,{sync:!0,equals:()=>!1});return this.addHandles(a,i),a}_createSyncUpdatingCallback(){return()=>{this.removeHandles(n3),++this._scheduleHandleId;const e=this._scheduleHandleId;this._get("updating")||this._set("updating",!0),this.addHandles(jg((()=>{e===this._scheduleHandleId&&(this._set("updating",this._pendingPromises.size>0),this.removeHandles(n3))})),n3)}}};E([N({readOnly:!0})],wf.prototype,"updating",void 0),wf=E([ut("esri.core.support.UpdatingHandles")],wf);const n3=-42;/*!
 * @esri/arcgis-html-sanitizer - v4.1.0 - Tue Dec 03 2024 09:13:28 GMT-0500 (Eastern Standard Time)
 * Copyright (c) 2024 - Environmental Systems Research Institute, Inc.
 * Apache-2.0
 * 
 * js-xss
 * Copyright (c) 2012-2018 Zongmin Lei() <leizongmin@gmail.com>
 * http://ucdok.com
 * MIT License, see https://github.com/leizongmin/js-xss/blob/master/LICENSE for details
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var xw=function(){return xw=Object.assign||function(e){for(var i,n=1,a=arguments.length;n<a;n++){i=arguments[n];for(var d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e[d]=i[d])}return e},xw.apply(this,arguments)},e8={exports:{}},xr={},i8={exports:{}},Zf={};function aV(){var t={};return t["align-content"]=!1,t["align-items"]=!1,t["align-self"]=!1,t["alignment-adjust"]=!1,t["alignment-baseline"]=!1,t.all=!1,t["anchor-point"]=!1,t.animation=!1,t["animation-delay"]=!1,t["animation-direction"]=!1,t["animation-duration"]=!1,t["animation-fill-mode"]=!1,t["animation-iteration-count"]=!1,t["animation-name"]=!1,t["animation-play-state"]=!1,t["animation-timing-function"]=!1,t.azimuth=!1,t["backface-visibility"]=!1,t.background=!0,t["background-attachment"]=!0,t["background-clip"]=!0,t["background-color"]=!0,t["background-image"]=!0,t["background-origin"]=!0,t["background-position"]=!0,t["background-repeat"]=!0,t["background-size"]=!0,t["baseline-shift"]=!1,t.binding=!1,t.bleed=!1,t["bookmark-label"]=!1,t["bookmark-level"]=!1,t["bookmark-state"]=!1,t.border=!0,t["border-bottom"]=!0,t["border-bottom-color"]=!0,t["border-bottom-left-radius"]=!0,t["border-bottom-right-radius"]=!0,t["border-bottom-style"]=!0,t["border-bottom-width"]=!0,t["border-collapse"]=!0,t["border-color"]=!0,t["border-image"]=!0,t["border-image-outset"]=!0,t["border-image-repeat"]=!0,t["border-image-slice"]=!0,t["border-image-source"]=!0,t["border-image-width"]=!0,t["border-left"]=!0,t["border-left-color"]=!0,t["border-left-style"]=!0,t["border-left-width"]=!0,t["border-radius"]=!0,t["border-right"]=!0,t["border-right-color"]=!0,t["border-right-style"]=!0,t["border-right-width"]=!0,t["border-spacing"]=!0,t["border-style"]=!0,t["border-top"]=!0,t["border-top-color"]=!0,t["border-top-left-radius"]=!0,t["border-top-right-radius"]=!0,t["border-top-style"]=!0,t["border-top-width"]=!0,t["border-width"]=!0,t.bottom=!1,t["box-decoration-break"]=!0,t["box-shadow"]=!0,t["box-sizing"]=!0,t["box-snap"]=!0,t["box-suppress"]=!0,t["break-after"]=!0,t["break-before"]=!0,t["break-inside"]=!0,t["caption-side"]=!1,t.chains=!1,t.clear=!0,t.clip=!1,t["clip-path"]=!1,t["clip-rule"]=!1,t.color=!0,t["color-interpolation-filters"]=!0,t["column-count"]=!1,t["column-fill"]=!1,t["column-gap"]=!1,t["column-rule"]=!1,t["column-rule-color"]=!1,t["column-rule-style"]=!1,t["column-rule-width"]=!1,t["column-span"]=!1,t["column-width"]=!1,t.columns=!1,t.contain=!1,t.content=!1,t["counter-increment"]=!1,t["counter-reset"]=!1,t["counter-set"]=!1,t.crop=!1,t.cue=!1,t["cue-after"]=!1,t["cue-before"]=!1,t.cursor=!1,t.direction=!1,t.display=!0,t["display-inside"]=!0,t["display-list"]=!0,t["display-outside"]=!0,t["dominant-baseline"]=!1,t.elevation=!1,t["empty-cells"]=!1,t.filter=!1,t.flex=!1,t["flex-basis"]=!1,t["flex-direction"]=!1,t["flex-flow"]=!1,t["flex-grow"]=!1,t["flex-shrink"]=!1,t["flex-wrap"]=!1,t.float=!1,t["float-offset"]=!1,t["flood-color"]=!1,t["flood-opacity"]=!1,t["flow-from"]=!1,t["flow-into"]=!1,t.font=!0,t["font-family"]=!0,t["font-feature-settings"]=!0,t["font-kerning"]=!0,t["font-language-override"]=!0,t["font-size"]=!0,t["font-size-adjust"]=!0,t["font-stretch"]=!0,t["font-style"]=!0,t["font-synthesis"]=!0,t["font-variant"]=!0,t["font-variant-alternates"]=!0,t["font-variant-caps"]=!0,t["font-variant-east-asian"]=!0,t["font-variant-ligatures"]=!0,t["font-variant-numeric"]=!0,t["font-variant-position"]=!0,t["font-weight"]=!0,t.grid=!1,t["grid-area"]=!1,t["grid-auto-columns"]=!1,t["grid-auto-flow"]=!1,t["grid-auto-rows"]=!1,t["grid-column"]=!1,t["grid-column-end"]=!1,t["grid-column-start"]=!1,t["grid-row"]=!1,t["grid-row-end"]=!1,t["grid-row-start"]=!1,t["grid-template"]=!1,t["grid-template-areas"]=!1,t["grid-template-columns"]=!1,t["grid-template-rows"]=!1,t["hanging-punctuation"]=!1,t.height=!0,t.hyphens=!1,t.icon=!1,t["image-orientation"]=!1,t["image-resolution"]=!1,t["ime-mode"]=!1,t["initial-letters"]=!1,t["inline-box-align"]=!1,t["justify-content"]=!1,t["justify-items"]=!1,t["justify-self"]=!1,t.left=!1,t["letter-spacing"]=!0,t["lighting-color"]=!0,t["line-box-contain"]=!1,t["line-break"]=!1,t["line-grid"]=!1,t["line-height"]=!1,t["line-snap"]=!1,t["line-stacking"]=!1,t["line-stacking-ruby"]=!1,t["line-stacking-shift"]=!1,t["line-stacking-strategy"]=!1,t["list-style"]=!0,t["list-style-image"]=!0,t["list-style-position"]=!0,t["list-style-type"]=!0,t.margin=!0,t["margin-bottom"]=!0,t["margin-left"]=!0,t["margin-right"]=!0,t["margin-top"]=!0,t["marker-offset"]=!1,t["marker-side"]=!1,t.marks=!1,t.mask=!1,t["mask-box"]=!1,t["mask-box-outset"]=!1,t["mask-box-repeat"]=!1,t["mask-box-slice"]=!1,t["mask-box-source"]=!1,t["mask-box-width"]=!1,t["mask-clip"]=!1,t["mask-image"]=!1,t["mask-origin"]=!1,t["mask-position"]=!1,t["mask-repeat"]=!1,t["mask-size"]=!1,t["mask-source-type"]=!1,t["mask-type"]=!1,t["max-height"]=!0,t["max-lines"]=!1,t["max-width"]=!0,t["min-height"]=!0,t["min-width"]=!0,t["move-to"]=!1,t["nav-down"]=!1,t["nav-index"]=!1,t["nav-left"]=!1,t["nav-right"]=!1,t["nav-up"]=!1,t["object-fit"]=!1,t["object-position"]=!1,t.opacity=!1,t.order=!1,t.orphans=!1,t.outline=!1,t["outline-color"]=!1,t["outline-offset"]=!1,t["outline-style"]=!1,t["outline-width"]=!1,t.overflow=!1,t["overflow-wrap"]=!1,t["overflow-x"]=!1,t["overflow-y"]=!1,t.padding=!0,t["padding-bottom"]=!0,t["padding-left"]=!0,t["padding-right"]=!0,t["padding-top"]=!0,t.page=!1,t["page-break-after"]=!1,t["page-break-before"]=!1,t["page-break-inside"]=!1,t["page-policy"]=!1,t.pause=!1,t["pause-after"]=!1,t["pause-before"]=!1,t.perspective=!1,t["perspective-origin"]=!1,t.pitch=!1,t["pitch-range"]=!1,t["play-during"]=!1,t.position=!1,t["presentation-level"]=!1,t.quotes=!1,t["region-fragment"]=!1,t.resize=!1,t.rest=!1,t["rest-after"]=!1,t["rest-before"]=!1,t.richness=!1,t.right=!1,t.rotation=!1,t["rotation-point"]=!1,t["ruby-align"]=!1,t["ruby-merge"]=!1,t["ruby-position"]=!1,t["shape-image-threshold"]=!1,t["shape-outside"]=!1,t["shape-margin"]=!1,t.size=!1,t.speak=!1,t["speak-as"]=!1,t["speak-header"]=!1,t["speak-numeral"]=!1,t["speak-punctuation"]=!1,t["speech-rate"]=!1,t.stress=!1,t["string-set"]=!1,t["tab-size"]=!1,t["table-layout"]=!1,t["text-align"]=!0,t["text-align-last"]=!0,t["text-combine-upright"]=!0,t["text-decoration"]=!0,t["text-decoration-color"]=!0,t["text-decoration-line"]=!0,t["text-decoration-skip"]=!0,t["text-decoration-style"]=!0,t["text-emphasis"]=!0,t["text-emphasis-color"]=!0,t["text-emphasis-position"]=!0,t["text-emphasis-style"]=!0,t["text-height"]=!0,t["text-indent"]=!0,t["text-justify"]=!0,t["text-orientation"]=!0,t["text-overflow"]=!0,t["text-shadow"]=!0,t["text-space-collapse"]=!0,t["text-transform"]=!0,t["text-underline-position"]=!0,t["text-wrap"]=!0,t.top=!1,t.transform=!1,t["transform-origin"]=!1,t["transform-style"]=!1,t.transition=!1,t["transition-delay"]=!1,t["transition-duration"]=!1,t["transition-property"]=!1,t["transition-timing-function"]=!1,t["unicode-bidi"]=!1,t["vertical-align"]=!1,t.visibility=!1,t["voice-balance"]=!1,t["voice-duration"]=!1,t["voice-family"]=!1,t["voice-pitch"]=!1,t["voice-range"]=!1,t["voice-rate"]=!1,t["voice-stress"]=!1,t["voice-volume"]=!1,t.volume=!1,t["white-space"]=!1,t.widows=!1,t.width=!0,t["will-change"]=!1,t["word-break"]=!0,t["word-spacing"]=!0,t["word-wrap"]=!0,t["wrap-flow"]=!1,t["wrap-through"]=!1,t["writing-mode"]=!1,t["z-index"]=!1,t}function w3t(t,e,i){}function _3t(t,e,i){}var S3t=/javascript\s*\:/img;function x3t(t,e){return S3t.test(e)?"":e}Zf.whiteList=aV();Zf.getDefaultWhiteList=aV;Zf.onAttr=w3t;Zf.onIgnoreAttr=_3t;Zf.safeAttrValue=x3t;var T3t={indexOf:function(t,e){var i,n;if(Array.prototype.indexOf)return t.indexOf(e);for(i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},forEach:function(t,e,i){var n,a;if(Array.prototype.forEach)return t.forEach(e,i);for(n=0,a=t.length;n<a;n++)e.call(i,t[n],n,t)},trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(t){return String.prototype.trimRight?t.trimRight():t.replace(/(\s*$)/g,"")}},by=T3t;function E3t(t,e){t=by.trimRight(t),t[t.length-1]!==";"&&(t+=";");var i=t.length,n=!1,a=0,d=0,y="";function b(){if(!n){var C=by.trim(t.slice(a,d)),k=C.indexOf(":");if(k!==-1){var D=by.trim(C.slice(0,k)),z=by.trim(C.slice(k+1));if(D){var G=e(a,y.length,D,z,C);G&&(y+=G+"; ")}}}a=d+1}for(;d<i;d++){var S=t[d];if(S==="/"&&t[d+1]==="*"){var T=t.indexOf("*/",d+2);if(T===-1)break;d=T+1,a=d+1,n=!1}else S==="("?n=!0:S===")"?n=!1:S===";"?n||b():S===`
`&&b()}return by.trim(y)}var M3t=E3t,s3=Zf,A3t=M3t;function xP(t){return t==null}function R3t(t){var e={};for(var i in t)e[i]=t[i];return e}function lV(t){t=R3t(t||{}),t.whiteList=t.whiteList||s3.whiteList,t.onAttr=t.onAttr||s3.onAttr,t.onIgnoreAttr=t.onIgnoreAttr||s3.onIgnoreAttr,t.safeAttrValue=t.safeAttrValue||s3.safeAttrValue,this.options=t}lV.prototype.process=function(t){if(t=t||"",t=t.toString(),!t)return"";var e=this,i=e.options,n=i.whiteList,a=i.onAttr,d=i.onIgnoreAttr,y=i.safeAttrValue,b=A3t(t,function(S,T,C,k,D){var z=n[C],G=!1;if(z===!0?G=z:typeof z=="function"?G=z(k):z instanceof RegExp&&(G=z.test(k)),G!==!0&&(G=!1),k=y(C,k),!!k){var B={position:T,sourcePosition:S,source:D,isWhite:G};if(G){var H=a(C,k,B);return xP(H)?C+":"+k:H}else{var H=d(C,k,B);if(!xP(H))return H}}});return b};var C3t=lV;(function(t,e){var i=Zf,n=C3t;function a(y,b){var S=new n(b);return S.process(y)}e=t.exports=a,e.FilterCSS=n;for(var d in i)e[d]=i[d]})(i8,i8.exports);var vM=i8.exports,bM={indexOf:function(t,e){var i,n;if(Array.prototype.indexOf)return t.indexOf(e);for(i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},forEach:function(t,e,i){var n,a;if(Array.prototype.forEach)return t.forEach(e,i);for(n=0,a=t.length;n<a;n++)e.call(i,t[n],n,t)},trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(t){var e=/\s|\n|\t/,i=e.exec(t);return i?i.index:-1}},O3t=vM.FilterCSS,$3t=vM.getDefaultWhiteList,Tw=bM;function uV(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var cV=new O3t;function N3t(t,e,i){}function k3t(t,e,i){}function P3t(t,e,i){}function I3t(t,e,i){}function hV(t){return t.replace(L3t,"&lt;").replace(j3t,"&gt;")}function D3t(t,e,i,n){if(i=gV(i),e==="href"||e==="src"){if(i=Tw.trim(i),i==="#")return"#";if(!(i.substr(0,7)==="http://"||i.substr(0,8)==="https://"||i.substr(0,7)==="mailto:"||i.substr(0,4)==="tel:"||i.substr(0,11)==="data:image/"||i.substr(0,6)==="ftp://"||i.substr(0,2)==="./"||i.substr(0,3)==="../"||i[0]==="#"||i[0]==="/"))return""}else if(e==="background"){if(o3.lastIndex=0,o3.test(i))return""}else if(e==="style"){if(TP.lastIndex=0,TP.test(i)||(EP.lastIndex=0,EP.test(i)&&(o3.lastIndex=0,o3.test(i))))return"";n!==!1&&(n=n||cV,i=n.process(i))}return i=vV(i),i}var L3t=/</g,j3t=/>/g,z3t=/"/g,U3t=/&quot;/g,F3t=/&#([a-zA-Z0-9]*);?/gim,B3t=/&colon;?/gim,G3t=/&newline;?/gim,o3=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,TP=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,EP=/u\s*r\s*l\s*\(.*/gi;function fV(t){return t.replace(z3t,"&quot;")}function dV(t){return t.replace(U3t,'"')}function pV(t){return t.replace(F3t,function(i,n){return n[0]==="x"||n[0]==="X"?String.fromCharCode(parseInt(n.substr(1),16)):String.fromCharCode(parseInt(n,10))})}function yV(t){return t.replace(B3t,":").replace(G3t," ")}function mV(t){for(var e="",i=0,n=t.length;i<n;i++)e+=t.charCodeAt(i)<32?" ":t.charAt(i);return Tw.trim(e)}function gV(t){return t=dV(t),t=pV(t),t=yV(t),t=mV(t),t}function vV(t){return t=fV(t),t=hV(t),t}function q3t(){return""}function H3t(t,e){typeof e!="function"&&(e=function(){});var i=!Array.isArray(t);function n(y){return i?!0:Tw.indexOf(t,y)!==-1}var a=[],d=!1;return{onIgnoreTag:function(y,b,S){if(n(y))if(S.isClosing){var T="[/removed]",C=S.position+T.length;return a.push([d!==!1?d:S.position,C]),d=!1,T}else return d||(d=S.position),"[removed]";else return e(y,b,S)},remove:function(y){var b="",S=0;return Tw.forEach(a,function(T){b+=y.slice(S,T[0]),S=T[1]}),b+=y.slice(S),b}}}function V3t(t){for(var e="",i=0;i<t.length;){var n=t.indexOf("<!--",i);if(n===-1){e+=t.slice(i);break}e+=t.slice(i,n);var a=t.indexOf("-->",n);if(a===-1)break;i=a+3}return e}function W3t(t){var e=t.split("");return e=e.filter(function(i){var n=i.charCodeAt(0);return n===127?!1:n<=31?n===10||n===13:!0}),e.join("")}xr.whiteList=uV();xr.getDefaultWhiteList=uV;xr.onTag=N3t;xr.onIgnoreTag=k3t;xr.onTagAttr=P3t;xr.onIgnoreTagAttr=I3t;xr.safeAttrValue=D3t;xr.escapeHtml=hV;xr.escapeQuote=fV;xr.unescapeQuote=dV;xr.escapeHtmlEntities=pV;xr.escapeDangerHtml5Entities=yV;xr.clearNonPrintableCharacter=mV;xr.friendlyAttrValue=gV;xr.escapeAttrValue=vV;xr.onIgnoreTagStripAll=q3t;xr.StripTagBody=H3t;xr.stripCommentTag=V3t;xr.stripBlankChar=W3t;xr.cssFilter=cV;xr.getDefaultCSSWhiteList=$3t;var X5={},bc=bM;function J3t(t){var e=bc.spaceIndex(t),i;return e===-1?i=t.slice(1,-1):i=t.slice(1,e+1),i=bc.trim(i).toLowerCase(),i.slice(0,1)==="/"&&(i=i.slice(1)),i.slice(-1)==="/"&&(i=i.slice(0,-1)),i}function Y3t(t){return t.slice(0,2)==="</"}function K3t(t,e,i){var n="",a=0,d=!1,y=!1,b=0,S=t.length,T="",C="";t:for(b=0;b<S;b++){var k=t.charAt(b);if(d===!1){if(k==="<"){d=b;continue}}else if(y===!1){if(k==="<"){n+=i(t.slice(a,b)),d=b,a=b;continue}if(k===">"){n+=i(t.slice(a,d)),C=t.slice(d,b+1),T=J3t(C),n+=e(d,n.length,T,C,Y3t(C)),a=b+1,d=!1;continue}if(k==='"'||k==="'")for(var D=1,z=t.charAt(b-D);z.trim()===""||z==="=";){if(z==="="){y=k;continue t}z=t.charAt(b-++D)}}else if(k===y){y=!1;continue}}return a<t.length&&(n+=i(t.substr(a))),n}var X3t=/[^a-zA-Z0-9\\_:.-]/gim;function Z3t(t,e){var i=0,n=0,a=[],d=!1,y=t.length;function b(D,z){if(D=bc.trim(D),D=D.replace(X3t,"").toLowerCase(),!(D.length<1)){var G=e(D,z||"");G&&a.push(G)}}for(var S=0;S<y;S++){var T=t.charAt(S),C,k;if(d===!1&&T==="="){d=t.slice(i,S),i=S+1,n=t.charAt(i)==='"'||t.charAt(i)==="'"?i:tbt(t,S+1);continue}if(d!==!1&&S===n){if(k=t.indexOf(T,S+1),k===-1)break;C=bc.trim(t.slice(n+1,k)),b(d,C),d=!1,S=k,i=S+1;continue}if(/\s|\n|\t/.test(T))if(t=t.replace(/\s|\n|\t/g," "),d===!1)if(k=Q3t(t,S),k===-1){C=bc.trim(t.slice(i,S)),b(C),d=!1,i=S+1;continue}else{S=k-1;continue}else if(k=ebt(t,S-1),k===-1){C=bc.trim(t.slice(i,S)),C=MP(C),b(d,C),d=!1,i=S+1;continue}else continue}return i<t.length&&(d===!1?b(t.slice(i)):b(d,MP(bc.trim(t.slice(i))))),bc.trim(a.join(" "))}function Q3t(t,e){for(;e<t.length;e++){var i=t[e];if(i!==" ")return i==="="?e:-1}}function tbt(t,e){for(;e<t.length;e++){var i=t[e];if(i!==" ")return i==="'"||i==='"'?e:-1}}function ebt(t,e){for(;e>0;e--){var i=t[e];if(i!==" ")return i==="="?e:-1}}function ibt(t){return t[0]==='"'&&t[t.length-1]==='"'||t[0]==="'"&&t[t.length-1]==="'"}function MP(t){return ibt(t)?t.substr(1,t.length-2):t}X5.parseTag=K3t;X5.parseAttr=Z3t;var rbt=vM.FilterCSS,ya=xr,bV=X5,nbt=bV.parseTag,sbt=bV.parseAttr,db=bM;function a3(t){return t==null}function obt(t){var e=db.spaceIndex(t);if(e===-1)return{html:"",closing:t[t.length-2]==="/"};t=db.trim(t.slice(e+1,-1));var i=t[t.length-1]==="/";return i&&(t=db.trim(t.slice(0,-1))),{html:t,closing:i}}function abt(t){var e={};for(var i in t)e[i]=t[i];return e}function lbt(t){var e={};for(var i in t)Array.isArray(t[i])?e[i.toLowerCase()]=t[i].map(function(n){return n.toLowerCase()}):e[i.toLowerCase()]=t[i];return e}function wV(t){t=abt(t||{}),t.stripIgnoreTag&&(t.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),t.onIgnoreTag=ya.onIgnoreTagStripAll),t.whiteList||t.allowList?t.whiteList=lbt(t.whiteList||t.allowList):t.whiteList=ya.whiteList,t.onTag=t.onTag||ya.onTag,t.onTagAttr=t.onTagAttr||ya.onTagAttr,t.onIgnoreTag=t.onIgnoreTag||ya.onIgnoreTag,t.onIgnoreTagAttr=t.onIgnoreTagAttr||ya.onIgnoreTagAttr,t.safeAttrValue=t.safeAttrValue||ya.safeAttrValue,t.escapeHtml=t.escapeHtml||ya.escapeHtml,this.options=t,t.css===!1?this.cssFilter=!1:(t.css=t.css||{},this.cssFilter=new rbt(t.css))}wV.prototype.process=function(t){if(t=t||"",t=t.toString(),!t)return"";var e=this,i=e.options,n=i.whiteList,a=i.onTag,d=i.onIgnoreTag,y=i.onTagAttr,b=i.onIgnoreTagAttr,S=i.safeAttrValue,T=i.escapeHtml,C=e.cssFilter;i.stripBlankChar&&(t=ya.stripBlankChar(t)),i.allowCommentTag||(t=ya.stripCommentTag(t));var k=!1;i.stripIgnoreTagBody&&(k=ya.StripTagBody(i.stripIgnoreTagBody,d),d=k.onIgnoreTag);var D=nbt(t,function(z,G,B,H,X){var et={sourcePosition:z,position:G,isClosing:X,isWhite:Object.prototype.hasOwnProperty.call(n,B)},rt=a(B,H,et);if(!a3(rt))return rt;if(et.isWhite){if(et.isClosing)return"</"+B+">";var it=obt(H),ot=n[B],pt=sbt(it.html,function(yt,ft){var vt=db.indexOf(ot,yt)!==-1,Ct=y(B,yt,ft,vt);return a3(Ct)?vt?(ft=S(B,yt,ft,C),ft?yt+'="'+ft+'"':yt):(Ct=b(B,yt,ft,vt),a3(Ct)?void 0:Ct):Ct});return H="<"+B,pt&&(H+=" "+pt),it.closing&&(H+=" /"),H+=">",H}else return rt=d(B,H,et),a3(rt)?T(H):rt},T);return k&&(D=k.remove(D)),D};var ubt=wV;(function(t,e){var i=xr,n=X5,a=ubt;function d(b,S){var T=new a(S);return T.process(b)}e=t.exports=d,e.filterXSS=d,e.FilterXSS=a,(function(){for(var b in i)e[b]=i[b];for(var S in n)e[S]=n[S]})();function y(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}y()&&(self.filterXSS=t.exports)})(e8,e8.exports);var Fd=e8.exports,cbt=function(t){if(typeof t!="object"||t===null||Object.prototype.toString.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},hbt=(function(){function t(e,i){var n=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],article:["style"],aside:["style"],audio:["autoplay","controls","loop","muted","preload"],b:[],blockquote:["style"],br:[],code:["style"],dd:["style"],del:["style"],details:["open","style"],div:["align","aria-hidden","aria-label","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],footer:["style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],header:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],main:["style"],mark:["style"],nav:["style"],ol:[],p:["style"],pre:["style"],section:["style"],source:["media","src","type"],span:["aria-hidden","aria-label","style"],strong:[],sub:["style"],summary:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],time:["style"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.arcgisCSSWhiteList=xw(xw({},Fd.getDefaultCSSWhiteList()),{"align-items":!0,"align-self":!0,flex:!0,"flex-basis":!0,"flex-direction":!0,"flex-flow":!0,"flex-grow":!0,"flex-shrink":!0,"flex-wrap":!0,float:!0,gap:!0,grid:!0,"grid-area":!0,"grid-auto-columns":!0,"grid-auto-flow":!0,"grid-auto-rows":!0,"grid-column":!0,"grid-column-end":!0,"grid-column-start":!0,"grid-row":!0,"grid-row-end":!0,"grid-row-start":!0,"grid-template":!0,"grid-template-areas":!0,"grid-template-columns":!0,"grid-template-rows":!0,"justify-content":!0,"justify-items":!0,"justify-self":!0,"line-height":!0,overflow:!0}),this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(d,y,b,S){return d==="a"&&y==="href"||(d==="img"||d==="source")&&y==="src"?n.sanitizeUrl(b):Fd.safeAttrValue(d,y,b,S)}},this._entityMap={"&":"&#x38;","<":"&#x3C;",">":"&#x3E;",'"':"&#x22;","'":"&#x27;","/":"&#x2F;"};var a;e&&!i?a=e:e&&i?(a=Object.create(this.arcgisFilterOptions),a.css={whiteList:this.arcgisCSSWhiteList},Object.keys(e).forEach(function(d){if(d==="whiteList")a.whiteList=n._extendObjectOfArrays([n.arcgisWhiteList,e.whiteList||{}]);else if(d==="css"){var y=e.css.whiteList;y!=null&&e.css instanceof Object&&Object.keys(y).forEach(function(b){return a.css.whiteList[b]=y[b]})}else a[d]=e[d]})):(a=Object.create(this.arcgisFilterOptions),a.whiteList=this.arcgisWhiteList,a.css={whiteList:this.arcgisCSSWhiteList}),this.xssFilterOptions=a,this._xssFilter=new Fd.FilterXSS(a)}return t.prototype.sanitize=function(e,i){switch(i===void 0&&(i={}),typeof e){case"number":return isNaN(e)||!isFinite(e)?null:e;case"boolean":return e;case"string":return this._xssFilter.process(e);case"object":return this._iterateOverObject(e,i);default:return i.allowUndefined&&typeof e>"u"?void 0:null}},t.prototype.sanitizeUrl=function(e,i){var n=(i??{}).isProtocolRequired,a=n===void 0?!0:n,d=this._trim(e.substring(0,e.indexOf(":"))),y=e==="/",b=/^#/.test(e),S=d&&this.allowedProtocols.indexOf(d.toLowerCase())>-1;return y||b||S?Fd.escapeAttrValue(e):!d&&!a?Fd.escapeAttrValue("https://".concat(e)):""},t.prototype.sanitizeHTMLAttribute=function(e,i,n,a){return typeof this.xssFilterOptions.safeAttrValue=="function"?this.xssFilterOptions.safeAttrValue(e,i,n,a):Fd.safeAttrValue(e,i,n,a)},t.prototype.validate=function(e,i){i===void 0&&(i={});var n=this.sanitize(e,i);return{isValid:e===n,sanitized:n}},t.prototype.encodeHTML=function(e){var i=this;return String(e).replace(/[&<>"'\/]/g,function(n){return i._entityMap[n]})},t.prototype.encodeAttrValue=function(e){var i=/^[a-zA-Z0-9]$/;return String(e).replace(/[\x00-\xFF]/g,function(n,a){return i.test(n)?n:"&#x".concat(Number(e.charCodeAt(a)).toString(16),";")})},t.prototype._extendObjectOfArrays=function(e){var i={};return e.forEach(function(n){Object.keys(n).forEach(function(a){Array.isArray(n[a])&&Array.isArray(i[a])?i[a]=i[a].concat(n[a]):i[a]=n[a]})}),i},t.prototype._iterateOverObject=function(e,i){var n=this;i===void 0&&(i={});try{var a=!1,d=void 0;if(Array.isArray(e))d=e.reduce(function(b,S){var T=n.validate(S,i);return T.isValid?b.concat([S]):(a=!0,b.concat([T.sanitized]))},[]);else if(cbt(e)){var y=Object.keys(e);d=y.reduce(function(b,S){var T=e[S],C=n.validate(T,i);return C.isValid?b[S]=T:(a=!0,b[S]=C.sanitized),b},{})}else return i.allowUndefined&&typeof e>"u"?void 0:null;return a?d:e}catch{return null}},t.prototype._trim=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},t})();const fbt=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"],dbt=fbt.reduce(((t,e)=>(t[e]=[],t)),{}),pbt=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],_V=new hbt({whiteList:dbt,onTagAttr:(t,e,i)=>{const n=`${e}="${i}"`;if(pbt.includes(e))return n},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0),SV="http://www.w3.org/",Z5=`${SV}2000/svg`,xV=`${SV}1999/xlink`;let AP=[],wM=(t,e)=>{let i={};return Object.keys(t).forEach((n=>{i[n]=t[n]})),e&&Object.keys(e).forEach((n=>{i[n]=e[n]})),i},_M=(t,e)=>t.vnodeSelector===e.vnodeSelector&&(t.properties&&e.properties?t.properties.key===e.properties.key&&t.properties.bind===e.properties.bind:!t.properties&&!e.properties),TV=t=>{if(typeof t!="string")throw new Error("Style values must be strings")},ybt=(t,e,i)=>{if(e.vnodeSelector!==""){for(let n=i;n<t.length;n++)if(_M(t[n],e))return n}return-1},O_=(t,e,i,n)=>{let a=t[e];if(a.vnodeSelector==="")return;let d=a.properties;if(!(d&&(d.key===void 0?d.bind:d.key))){for(let y=0;y<t.length;y++)if(y!==e){let b=t[y];if(_M(b,a))throw new Error(`${i.vnodeSelector} had a ${a.vnodeSelector} child ${n==="added"?n:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)}}},mbt=t=>{if(t.properties){let e=t.properties.enterAnimation;e&&e(t.domNode,t.properties)}},r8=[],n8=!1,EV=t=>{(t.children||[]).forEach(EV),t.properties&&t.properties.afterRemoved&&t.properties.afterRemoved.apply(t.properties.bind||t.properties,[t.domNode])},RP=()=>{n8=!1,r8.forEach(EV),r8.length=0},CP=t=>{r8.push(t),n8||(n8=!0,typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(RP,{timeout:16}):setTimeout(RP,16))},OP=t=>{let e=t.domNode;if(t.properties){let i=t.properties.exitAnimation;if(i)return e.style.pointerEvents="none",void i(e,()=>{e.parentNode&&(e.parentNode.removeChild(e),CP(t))},t.properties)}e.parentNode&&(e.parentNode.removeChild(e),CP(t))},gbt=(t,e,i)=>{if(!e)return;let n=i.eventHandlerInterceptor,a=Object.keys(e),d=a.length;for(let y=0;y<d;y++){let b=a[y],S=e[b];if(b==="className")throw new Error('Property "className" is not supported, use "class".');if(b==="class")o8(t,S,!0);else if(b==="classes"){let T=Object.keys(S),C=T.length;for(let k=0;k<C;k++){let D=T[k];S[D]&&t.classList.add(D)}}else if(b==="styles"){let T=Object.keys(S),C=T.length;for(let k=0;k<C;k++){let D=T[k],z=S[D];z&&(TV(z),i.styleApplyer(t,D,z))}}else if(b!=="key"&&S!=null){let T=typeof S;T==="function"?(b.lastIndexOf("on",0)===0&&(n&&(S=n(b,S,t,e)),b==="oninput"&&(function(){let C=S;S=function(k){C.apply(this,[k]),k.target["oninput-value"]=k.target.value}})()),t[b]=S):i.namespace===Z5?b==="href"?t.setAttributeNS(xV,b,S):t.setAttribute(b,S):T==="string"&&b!=="value"?b==="innerHTML"?t[b]=_V.sanitize(S):s8(t)&&b in t?t[b]=S:t.setAttribute(b,S):t[b]=S}}};function s8(t){if(!(t instanceof Element&&t.tagName.includes("-")))return!1;const e=window.customElements.get(t.tagName.toLowerCase());return!!e&&t instanceof e}let Ew,vbt=(t,e,i)=>{if(e)for(let n of e)Hm(n,t,void 0,i)},MV=(t,e,i)=>{vbt(t,e.children,i),e.text&&(t.textContent=e.text),gbt(t,e.properties,i),e.properties&&e.properties.afterCreate&&e.properties.afterCreate.apply(e.properties.bind||e.properties,[t,i,e.vnodeSelector,e.properties,e.children])},Hm=(t,e,i,n)=>{let a,d=0,y=t.vnodeSelector,b=e.ownerDocument;if(y==="")a=t.domNode=b.createTextNode(t.text),i!==void 0?e.insertBefore(a,i):e.appendChild(a);else{for(let S=0;S<=y.length;++S){let T=y.charAt(S);if(S===y.length||T==="."||T==="#"){let C=y.charAt(d-1),k=y.slice(d,S);C==="."?a.classList.add(k):C==="#"?a.id=k:(k==="svg"&&(n=wM(n,{namespace:Z5})),n.namespace!==void 0?a=t.domNode=b.createElementNS(n.namespace,k):(a=t.domNode=t.domNode||b.createElement(k),k==="input"&&t.properties&&t.properties.type!==void 0&&a.setAttribute("type",t.properties.type)),i!==void 0?e.insertBefore(a,i):a.parentNode!==e&&e.appendChild(a)),d=S+1}}MV(a,t,n)}},o8=(t,e,i)=>{e&&e.split(" ").forEach((n=>{n&&t.classList.toggle(n,i)}))},bbt=(t,e,i,n)=>{if(!i)return;let a=!1,d=Object.keys(i),y=d.length;for(let b=0;b<y;b++){let S=d[b],T=i[S],C=e[S];if(S==="class")C!==T&&(o8(t,C,!1),o8(t,T,!0));else if(S==="classes"){let k=t.classList,D=Object.keys(T),z=D.length;for(let G=0;G<z;G++){let B=D[G],H=!!T[B];H!==!!C[B]&&(a=!0,H?k.add(B):k.remove(B))}}else if(S==="styles"){let k=Object.keys(T),D=k.length;for(let z=0;z<D;z++){let G=k[z],B=T[G];B!==C[G]&&(a=!0,B?(TV(B),n.styleApplyer(t,G,B)):n.styleApplyer(t,G,""))}}else if(T||typeof C!="string"||(T=""),S!=="value"||s8(t)){if(T!==C){let k=typeof T;k==="function"&&n.eventHandlerInterceptor||(n.namespace===Z5?S==="href"?t.setAttributeNS(xV,S,T):t.setAttribute(S,T):k==="string"?S==="innerHTML"?t[S]=_V.sanitize(T):S==="role"&&T===""?t.removeAttribute(S):s8(t)&&S in t?t[S]=T:t.setAttribute(S,T):t[S]!==T&&(t[S]=T),a=!0)}}else{let k=t[S];k!==T&&(t["oninput-value"]?k===t["oninput-value"]:T!==C)&&(t[S]=T,t["oninput-value"]=void 0),T!==C&&(a=!0)}}return a},wbt=(t,e,i,n,a)=>{if(i===n)return!1;n=n||AP;let d,y=(i=i||AP).length,b=n.length,S=0,T=0,C=!1;for(;T<b;){let k=S<y?i[S]:void 0,D=n[T];if(k!==void 0&&_M(k,D))C=Ew(k,D,a)||C,S++;else{let z=ybt(i,D,S+1);if(z>=0){for(d=S;d<z;d++)OP(i[d]),O_(i,d,t,"removed");C=Ew(i[z],D,a)||C,S=z+1}else Hm(D,e,S<y?i[S].domNode:void 0,a),mbt(D),O_(n,T,t,"added")}T++}if(y>S)for(d=S;d<y;d++)OP(i[d]),O_(i,d,t,"removed");return C};Ew=(t,e,i)=>{let n=t.domNode,a=!1;if(t===e)return!1;let d=!1;if(e.vnodeSelector===""){if(e.text!==t.text){let y=n.ownerDocument.createTextNode(e.text);return n.parentNode.replaceChild(y,n),e.domNode=y,a=!0,a}e.domNode=n}else e.vnodeSelector.lastIndexOf("svg",0)===0&&(i=wM(i,{namespace:Z5})),t.text!==e.text&&(d=!0,e.text===void 0?n.removeChild(n.firstChild):n.textContent=e.text),e.domNode=n,d=wbt(e,n,t.children,e.children,i)||d,d=bbt(n,t.properties,e.properties,i)||d,e.properties&&e.properties.afterUpdate&&e.properties.afterUpdate.apply(e.properties.bind||e.properties,[n,i,e.vnodeSelector,e.properties,e.children]);return d&&e.properties&&e.properties.updateAnimation&&e.properties.updateAnimation(n,e.properties,t.properties),a};let l3=(t,e)=>({getLastRender:()=>t,update:i=>{if(t.vnodeSelector!==i.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let n=t;t=i,Ew(n,i,e)},domNode:t.domNode});const _bt={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(t,e,i)=>{e.charAt(0)==="-"?t.style.setProperty(e,i):t.style[e]=i}};let om=t=>wM(_bt,t),Pc={append:(t,e,i)=>(i=om(i),Hm(e,t,void 0,i),l3(e,i)),insertBefore:(t,e,i)=>(i=om(i),Hm(e,t.parentNode,t,i),l3(e,i)),merge:(t,e,i)=>(i=om(i),e.domNode=t,MV(t,e,i),l3(e,i)),replace:(t,e,i)=>(i=om(i),Hm(e,t.parentNode,t,i),t.parentNode.removeChild(t),l3(e,i))},AV,Sbt=(t,e)=>{let i=[];for(;t&&t!==e;)i.push(t),t=t.parentNode;return i};AV=Array.prototype.find?(t,e)=>t.find(e):(t,e)=>t.filter(e)[0];let xbt=(t,e)=>{let i=t;return e.forEach((n=>{i=i&&i.children?AV(i.children,(a=>a.domNode===n)):void 0})),i},Tbt=(t,e,i)=>{let n=function(a){i("domEvent",a);let d=e(),y=Sbt(a.currentTarget,d.domNode);y.reverse();let b,S=xbt(d.getLastRender(),y);return t.scheduleRender(),S&&(b=S.properties[`on${a.type}`].apply(S.properties.bind||this,arguments)),i("domEventProcessed",a),b};return(a,d,y,b)=>n},$P=t=>{let e,i,n=om(t),a=n.performanceLogger,d=!0,y=!1,b=[],S=[],T=(k,D,z)=>{let G,B=()=>G;n.eventHandlerInterceptor=Tbt(e,B,a),G=k(D,z(),n),b.push(G),S.push(z)},C=()=>{if(i=void 0,d){d=!1,a("renderStart",void 0);for(let k=0;k<b.length;k++){let D=S[k]();a("rendered",void 0),b[k].update(D),a("patched",void 0)}a("renderDone",void 0),d=!0}};return e={renderNow:C,scheduleRender:()=>{i||y||(i=requestAnimationFrame(C))},stop:()=>{i&&(cancelAnimationFrame(i),i=void 0),y=!0},resume:()=>{y=!1,d=!0,e.scheduleRender()},append:(k,D)=>{T(Pc.append,k,D)},insertBefore:(k,D)=>{T(Pc.insertBefore,k,D)},merge:(k,D)=>{T(Pc.merge,k,D)},replace:(k,D)=>{T(Pc.replace,k,D)},detach:k=>{for(let D=0;D<S.length;D++)if(S[D]===k)return S.splice(D,1),b.splice(D,1)[0];throw new Error("renderFunction was not found")}},e},ac=class extends ve{constructor(){super(...arguments),this.items=new me,this._watchUpdatingTracking=new wf,this._callbacks=new Map,this._projector=$P(),this._hiddenProjector=$P()}get needsRender(){return this.items.length>0}get updating(){return this._watchUpdatingTracking?.updating??!1}initialize(){const e=document.createElement("div");e.className="esri-overlay-surface",this._set("surface",e),this._hiddenSurface=document.createElement("div"),this._hiddenSurface.setAttribute("style","visibility: hidden;"),e.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange((()=>this.items),(i=>{for(const n of i.added){const a=()=>n.render();this._callbacks.set(n,a),this._projector.append(this.surface,a)}for(const n of i.removed){const a=this._projector.detach(this._callbacks.get(n));this.surface.removeChild(a.domNode),this._callbacks.delete(n)}}))}addItem(e){this.items.add(e)}removeItem(e){this.items.remove(e)}destroy(){this.items.removeAll(),this._callbacks.forEach((e=>this._projector.detach(e))),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}render(){this._projector.renderNow()}computeBoundingRect(e){const i=this._hiddenSurface,n=this._hiddenProjector;let a;const d=()=>(a=e.render(),a);n.append(i,d),n.renderNow();const y={left:0,top:0,right:0,bottom:0};if(a?.domNode){const b=a.domNode.getBoundingClientRect();y.left=b.left,y.top=b.top,y.right=b.right,y.bottom=b.bottom}for(n.detach(d);i.firstChild;)i.removeChild(i.firstChild);return y}overlaps(e,i){const n=this.computeBoundingRect(e),a=this.computeBoundingRect(i);return Math.max(n.left,a.left)<=Math.min(n.right,a.right)&&Math.max(n.top,a.top)<=Math.min(n.bottom,a.bottom)}get hasVisibleItems(){return this.items.some((e=>e.visible))}async prepare(){await document.fonts.load(this._fontString()).catch((()=>{}))}renderCanvas(e,i){const n=!!i?.disableDecorations;if(!this.items.some((d=>d.visible&&!(n&&d.isDecoration))))return;const a=e.getContext("2d");a.save(),a.font=this._fontString(),this.items.forEach((d=>{n&&d.isDecoration||(a.save(),d.renderCanvas(a),a.restore())})),a.restore()}_fontString(){return`10px ${getComputedStyle(this.surface).fontFamily}`}};E([N({readOnly:!0})],ac.prototype,"surface",void 0),E([N({readOnly:!0})],ac.prototype,"items",void 0),E([N({readOnly:!0})],ac.prototype,"needsRender",null),E([N({readOnly:!0})],ac.prototype,"_watchUpdatingTracking",void 0),E([N({readOnly:!0})],ac.prototype,"updating",null),ac=E([ut("esri.views.overlay.ViewOverlay")],ac);const NP=ac,$_=[0,0];function Ebt(t){const e=(t.ownerDocument||window.document).defaultView,i=t.getBoundingClientRect();return $_[0]=i.left+(e?.pageXOffset??0),$_[1]=i.top+(e?.pageYOffset??0),$_}function kP(t){t&&(t.textContent="",t.parentNode&&t.parentNode.removeChild(t))}function Mbt(t){const e=document.createElement("div");return t.appendChild(e),e}const Bd=16,wy=750,Abt=512,Rbt=2,Cbt=t=>{let e=class extends t{constructor(...i){super(...i),this._freqInfo={freq:Bd,time:wy},this._overlayRenderTaskHandle=null,this.height=0,this.messagesCommon=null,this.overlay=null,this.position=null,this.resizing=!1,this.root=null,this.surface=null,this.suspended=!0,this.userContent=null,this.width=0,this.widthBreakpoint=null,this.addHandles([Ce((()=>this.cursor),(n=>{const{surface:a}=this;a&&a.setAttribute("data-cursor",n)})),Ce((()=>this.navigating),(n=>{const{surface:a}=this;a&&a.setAttribute("data-navigating",n.toString())}))])}initialize(){this.addHandles([Ce((()=>this.ui),((i,n)=>this._handleUIChange(i,n)),Qn),this.on("focus",(()=>this.notifyChange("focused"))),this.on("blur",(()=>this.notifyChange("focused")))])}destroy(){this.destroyed||(this.ui?.destroy(),this.container=null)}get container(){return this._get("container")??null}set container(i){const n=this._get("container"),a=gM(i);if(a||typeof i!="string"||ae.getLogger(this).error("#container",`element with id '${i}' not found`),n===a)return;if(this._stopMeasuring(),n&&(n.classList.remove("esri-view"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay&&(this.overlay.destroy(),this._set("overlay",null)),this.root&&(kP(this.root),this._set("root",null)),this.userContent&&(SP(this.userContent,n),kP(this.userContent),this._set("userContent",null))),!a)return this._set("width",0),this._set("height",0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),void this._set("container",null);a.classList.add("esri-view");const d=document.createElement("div");d.className="esri-view-user-storage",SP(a,d),a.appendChild(d),this._set("userContent",d);const y=document.createElement("div");y.className="esri-view-root",a.insertBefore(y,a.firstChild),this._set("root",y);const b=document.createElement("div");b.className="esri-view-surface",b.setAttribute("role","application"),b.tabIndex=0,y.appendChild(b),this._set("surface",b);const S=new NP;y.appendChild(S.surface),this._set("overlay",S),this.addHandles(Ce((()=>S.needsRender),(T=>{T&&!this._overlayRenderTaskHandle?this._overlayRenderTaskHandle=dp({render:()=>this.overlay?.render()}):this._overlayRenderTaskHandle=or(this._overlayRenderTaskHandle)}))),this.forceDOMReadyCycle(),this._set("container",a),this._startMeasuring()}get focused(){const i=document.activeElement===this.surface;return document.hasFocus()&&i}get size(){return[this.width,this.height]}set ui(i){const n=this._get("ui");n!==i&&n?.destroy(),this._set("ui",i)}blur(){this.surface?.blur()}focus(){this.surface?.focus()}pageToContainer(i,n,a){const d=this.position;return i-=d?d[0]:0,n-=d?d[1]:0,a?(a[0]=i,a[1]=n):a=[i,n],a}containerToPage(i,n,a){const d=this.position;return i+=d?d[0]:0,n+=d?d[1]:0,a?(a[0]=i,a[1]=n):a=[i,n],a}_handleUIChange(i,n){this.removeHandles("ui"),n&&n!==i&&n.destroy(),i&&(i.view=this,this.addHandles(Ce((()=>this.root),(a=>{i.container=a?Mbt(a):null}),Qn),"ui")),this._set("ui",i)}_stopMeasuring(){this.removeHandles("measuring"),this._get("resizing")&&this._set("resizing",!1)}_startMeasuring(){const i=this._freqInfo;i.freq=Bd,i.time=wy;const n=dp({prepare:y=>{const b=this._measure(),S=this._freqInfo;if(S.time+=y.deltaTime,b&&(S.freq=Bd,this._get("resizing")||this._set("resizing",!0)),S.time<S.freq)return;S.time=0;const T=this._position();S.freq=T||b?Bd:Math.min(wy,S.freq*Rbt),!b&&S.freq>=Abt&&(n.pause(),this._get("resizing")&&this._set("resizing",!1))}}),a=new ResizeObserver((y=>{i.freq=Bd,i.time=wy,n.resume()}));this.container!=null&&a.observe(this.container);const d=ui((()=>a.disconnect()));this.addHandles([Up(window,"resize",(()=>{i.freq=Bd,i.time=wy,n.resume()})),d,n],"measuring"),this._measure(),this._position()}_measure(){const i=this.container,n=i?i.clientWidth:0,a=i?i.clientHeight:0;if(n===0||a===0)return this.suspended||this._set("suspended",!0),!1;const d=this.width,y=this.height;return n===d&&a===y?(this.suspended&&this._set("suspended",!1),!1):(this._set("width",n),this._set("height",a),this.suspended&&this._set("suspended",!1),this.emit("resize",{oldWidth:d,oldHeight:y,width:n,height:a}),!0)}_position(){const i=this.container,n=this.position,a=i&&Ebt(i);return!!a&&(!n||a[0]!==n[0]||a[1]!==n[1])&&(this._set("position",[a[0],a[1]]),!0)}forceDOMReadyCycle(){}};return E([N()],e.prototype,"container",null),E([N({readOnly:!0})],e.prototype,"focused",null),E([N({readOnly:!0})],e.prototype,"height",void 0),E([N()],e.prototype,"messagesCommon",void 0),E([N({type:NP})],e.prototype,"overlay",void 0),E([N({readOnly:!0})],e.prototype,"position",void 0),E([N({readOnly:!0})],e.prototype,"resizing",void 0),E([N({readOnly:!0})],e.prototype,"root",void 0),E([N({value:null,readOnly:!0})],e.prototype,"size",null),E([N({readOnly:!0})],e.prototype,"surface",void 0),E([N({readOnly:!0})],e.prototype,"suspended",void 0),E([N({nonNullable:!0})],e.prototype,"ui",null),E([N({readOnly:!0})],e.prototype,"userContent",void 0),E([N({readOnly:!0})],e.prototype,"width",void 0),E([N()],e.prototype,"widthBreakpoint",void 0),e=E([ut("esri.views.DOMContainer")],e),e},RV=St("mac")?"Meta":"Control",Obt=new Set(["Alt","Control","Meta","Shift","Ctrl","Primary"]),$bt=t=>Obt.has(t);let Nbt=class{constructor(e,i=[]){this.eventType=e,this.keyModifiers=i}matches(e){if(e.type!==this.eventType)return!1;if(this.keyModifiers.length===0)return!0;const i=e.modifiers;for(const n of this.keyModifiers)if(!i.has(n))return!1;return!0}},ln=class{constructor(e){this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=e}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const e in this._incoming){const i=this._incoming[e];for(const n of i)this._incomingEventMatches.push(n.match)}}return this._incomingEventMatches}get incomingEventTypes(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map((e=>e.eventType))),this._incomingEventTypes}get outgoingEventTypes(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(e){this._manager||(e.setEventCallback((i=>this._handleEvent(i))),e.setUninstallCallback((()=>this._onUninstall())),this._manager=e)}onUninstall(){}registerIncoming(e,i,n){let a;typeof i=="function"?(n=i,a=[]):a=i||[];const d=typeof e=="string"?new Nbt(e,a):e,y=()=>{this._incomingEventTypes=null,this._incomingEventMatches=null},b=C=>{const k=this._incoming[C.match.eventType];if(k){const D=k.indexOf(C);k.splice(D,1),y(),this._manager&&this._manager.updateDependencies()}},S=new kbt(d,n,{onPause:b,onRemove:b,onResume:C=>{const k=this._incoming[C.match.eventType];k&&!k.includes(C)&&(k.push(C),y(),this._manager&&this._manager.updateDependencies())}});let T=this._incoming[d.eventType];return T||(T=[],this._incoming[d.eventType]=T),T.push(S),y(),this._manager&&this._manager.updateDependencies(),S}registerOutgoing(e){if(this._outgoing[e])throw new Error("There is already a callback registered for this outgoing InputEvent: "+e);const i=new Pbt(e,{onEmit:(n,a,d,y)=>{this._manager?.emit(n.eventType,a,d,y)},onRemove:n=>{delete this._outgoing[n.eventType],this._manager?.updateDependencies()}});return this._outgoing[e]=i,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),i}startCapturingPointer(e){this._manager?.setPointerCapture(e,!0)}stopCapturingPointer(e){this._manager?.setPointerCapture(e,!1)}refreshHasPendingInputs(){this._manager?.refreshHasPendingInputs()}_onUninstall(){this._manager&&(this.onUninstall(),this._manager=null)}_handleEvent(e){const i=this._incoming[e.type];if(i){for(const n of i)if(n.match.matches(e)&&(n.callback?.(e),e.shouldStopPropagation()))break}}},kbt=class{constructor(e,i,n){this.match=e,this._callback=i,this._handler=n}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}},Pbt=class{constructor(e,i){this.eventType=e,this._removed=!1,this._handler=i}emit(e,i,n){this._removed||this._handler.onEmit(this,e,i,n)}remove(){this._removed=!0,this._handler.onRemove(this)}},Ibt=class extends ln{constructor(e){super(!0),this._onChange=e,this._value="mouse",this._x=null,this._y=null,this.registerIncoming("pointer-move",(i=>this._update(i.data)))}_update(e){const i=e.native.pointerType==="touch"?"touch":"mouse",{x:n,y:a}=e;i===this._value&&this._x===n&&this._y===a||(this._value=i,this._x=n,this._y=a,this._onChange(i,n,a))}},Dbt=class{constructor(e,i){this._observable=new Qg,this._value=e,this._equalityFunction=i}get value(){return xe(this._observable),this._value}set value(e){this._equalityFunction(e,this._value)||(this._value=e,this._observable.notify())}mutate(e){e(this._value),this._observable.notify()}};function Cp(t,e=ZL){return new Dbt(t,e)}let Lbt=class extends ln{get multiTouchActive(){return this._multiTouchActive.value}constructor(){super(!0),this._activeTouchPointerIds=new Set,this._multiTouchActive=Cp(!1),this._onPointerAdd=({data:e})=>{e.pointerType==="touch"&&(this._activeTouchPointerIds.add(e.native.pointerId),this._update())},this._onPointerRemove=({data:e})=>{e.pointerType==="touch"&&(this._activeTouchPointerIds.delete(e.native.pointerId),this._update())},this.registerIncoming("pointer-down",this._onPointerAdd),this.registerIncoming("pointer-up",this._onPointerRemove),this.registerIncoming("pointer-capture-lost",this._onPointerRemove),this.registerIncoming("pointer-cancel",this._onPointerRemove)}_update(){this._multiTouchActive.value=this._activeTouchPointerIds.size>1}},jbt=class{constructor(e,i){this._owner=i,this._properties={},this._afterDispatchHandle=null;for(const n in e){const a=e[n],d=new vj(a,void 0,void 0,2,2);this._properties[n]={pool:d,acquired:[]}}this._afterDispatchHandle=Pet((()=>this._release()))}destroy(){this._afterDispatchHandle&&(this._afterDispatchHandle.remove(),this._afterDispatchHandle=null);for(const e in this._properties){const i=this._properties[e];for(const n of i.acquired)p$(n)||i.pool.release(n);i.pool.destroy(),i.pool=null,i.acquired=null}this._properties=null,this._owner=null}get(e){const i=this._owner._get(e),n=this._properties[e];let a=n.pool.acquire();for(n.acquired.push(a);a===i;)n.acquired.push(a),a=n.pool.acquire();return a}_release(){for(const e in this._properties){const i=this._properties[e];let n=0;for(const a of i.acquired)p$(a)?i.acquired[n++]=a:i.pool.release(a);i.acquired.length=n}}},Eo=class extends ve{constructor(e){super(e),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._handlersPriority=[],this._currentPropagation=null,this._updateDependenciesAfterPropagation=!1,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=RV,this._latestPointerType="mouse",this._propertiesPool=new jbt({latestPointerLocation:Fbt},this),this.latestPointerLocation=null,this._paused=!1,this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation}}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}destroy(){const e=Object.keys(this._nameToGroup);for(const i of e)this.uninstallHandlers(i);this.eventSource.destroy(),this._currentPropagation=null,this._propertiesPool.destroy()}get hasPendingInputs(){return this._handlers.some((e=>e.handler.hasPendingInputs))}get latestPointerType(){return this._latestPointerType}get multiTouchActive(){return this._multiTouchHandler.multiTouchActive}get updating(){return this.hasPendingInputs||this._paused}installHandlers(e,i,n=pu.INTERNAL){if(this._nameToGroup[e]||i.length===0)return;const a={name:e,handlers:i.map((d=>({handler:d,active:!0,removed:!1,priorityIndex:0,groupPriority:n,eventCallback:null,uninstallCallback:null})))};this._nameToGroup[e]=a;for(let d=a.handlers.length-1;d>=0;d--){const y=a.handlers[d];this._handlers.push(y),y.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(b,S,T,C,k)=>{this._emitInputEvent(y.priorityIndex+1,b,S,T,k,C)},setPointerCapture:(b,S)=>{this._setPointerCapture(a,y,b,S)},setEventCallback:b=>{y.eventCallback=b},setUninstallCallback:b=>{y.uninstallCallback=b},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}uninstallHandlers(e){const i=this._nameToGroup[e];i?(i.handlers.forEach((n=>{n.removed=!0,n.uninstallCallback?.()})),delete this._nameToGroup[e],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):ae.getLogger(this).error("There is no InputHandler group registered under the name `"+e+"`")}hasHandlers(e){return this._nameToGroup[e]!==void 0}isModifierKeyDown(e){return this._activeKeyModifiers.has(e)}updateDependencies(){if(this._currentPropagation)return void(this._updateDependenciesAfterPropagation=!0);this._updateDependenciesAfterPropagation=!1;const e=new Set,i=new Set;this._handlersPriority=[];for(let n=this._handlers.length-1;n>=0;n--){const a=this._handlers[n];a.priorityIndex=n,this._handlersPriority.push(a)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(let n=this._handlersPriority.length-1;n>=0;n--){const a=this._handlersPriority[n];a.priorityIndex=n;let d=a.handler.hasSideEffects;if(!d){for(const y of a.handler.outgoingEventTypes)if(e.has(y)){d=!0;break}}if(d)for(const y of a.handler.incomingEventMatches){e.add(y.eventType);for(const b of y.keyModifiers)$bt(b)||i.add(b)}a.active=d}this._sourceEvents=e,this._keyModifiers=i,this._pointerCaptures.size>0&&this._sourceEvents.add("pointer-capture-lost"),this._keyModifiers.size>0&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}_setLatestPointer(e,i,n){this._latestPointerType=e;const a=this._get("latestPointerLocation");if(a==null||a.x!==i||a.y!==n){const d=this._propertiesPool.get("latestPointerLocation");d.x=i,d.y=n,this._set("latestPointerLocation",d)}}_onEventReceived(e,i){if(e==="pointer-capture-lost"){const d=i;this._pointerCaptures.delete(d.native.pointerId)}this._updateKeyModifiers(e,i);const n=this.test.timestamp!=null?this.test.timestamp:i.native?i.native.timestamp:void 0,a=i.native?i.native.cancelable:void 0;this._emitInputEventFromSource(e,i,n,a)}_updateKeyModifiers(e,i){if(!i)return;let n=!1;const a=()=>{n||(this._activeKeyModifiers=new Set(this._activeKeyModifiers),n=!0)},d=(b,S)=>{S&&!this._activeKeyModifiers.has(b)?(a(),this._activeKeyModifiers.add(b)):!S&&this._activeKeyModifiers.has(b)&&(a(),this._activeKeyModifiers.delete(b))};if(e==="key-down"||e==="key-up"){const b=i.key;this._keyModifiers.has(b)&&d(b,e==="key-down")}const y=i.native;d("Alt",!!y?.altKey),d("Control",!!y?.ctrlKey),d("Ctrl",!!y?.ctrlKey),d("Shift",!!y?.shiftKey),d("Meta",!!y?.metaKey),d("Primary",this._activeKeyModifiers.has(this.primaryKey))}_installRecognizers(){this._latestPointerHandler=new Ibt(((e,i,n)=>this._setLatestPointer(e,i,n))),this._multiTouchHandler=new Lbt,this.installHandlers("input-manager-logic",[this._latestPointerHandler,this._multiTouchHandler],pu.ALWAYS),this.recognizers.length>0&&this.installHandlers("default",this.recognizers,pu.INTERNAL)}_setPointerCapture(e,i,n,a){const d=e.name+"-"+i.priorityIndex,y=this._pointerCaptures.get(n.pointerId)||new Set;this._pointerCaptures.set(n.pointerId,y),a?(y.add(d),y.size===1&&this.eventSource&&this.eventSource.setPointerCapture(n,!0)):y.has(d)&&(y.delete(d),y.size===0&&(this._pointerCaptures.delete(n.pointerId),this.eventSource&&this.eventSource.setPointerCapture(n,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter((e=>!e.removed)),this.updateDependencies()}_emitInputEventFromSource(e,i,n,a){this._emitInputEvent(0,e,i,n,a)}_emitInputEvent(e,i,n,a,d,y){const b=a!==void 0?a:this._currentPropagation?this._currentPropagation.timestamp:performance.now(),S=d!==void 0&&d,T={event:new zbt(i,n,b,y||this._activeKeyModifiers,S),priorityIndex:e};this._currentPropagation?this._currentPropagation.events.push(T):this._doNewPropagation(T)}_doNewPropagation(e){this._currentPropagation={events:new wg,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:e.event.timestamp},this._currentPropagation.events.push(e),this._continuePropagation()}_continuePropagation(){this._paused=!1;const e=this._currentPropagation;if(e){for(;e.events.length>0;){const{event:i,priorityIndex:n}=e.events.pop(),a=i.data?.eventId;if(!(a!=null&&this._stoppedPropagationEventIds.has(a)))for(e.currentHandler=this._handlersPriority[n];e.currentHandler;){if(e.currentHandler.removed)e.needsHandlerGarbageCollect=!0;else{if(e.currentHandler.active&&!i.shouldStopPropagation()&&e.currentHandler.eventCallback?.(i),i.shouldStopPropagation()){a!=null&&this._stoppedPropagationEventIds.add(a);break}if(i.shouldPausePropagation((()=>this._continuePropagation())))return void this._pausePropagation({event:i,priorityIndex:e.currentHandler.priorityIndex+1})}e.currentHandler=this._handlersPriority[e.currentHandler.priorityIndex+1]}}e.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies()}}_pausePropagation(e){const i=new wg;i.push(e);const n=this._currentPropagation;if(n){for(;n.events.length;)i.push(n.events.pop());n.events=i,n.currentHandler=null,this._paused=!0}}_compareHandlerPriority(e,i){if(e.handler.hasSideEffects!==i.handler.hasSideEffects)return e.handler.hasSideEffects?1:-1;if(e.groupPriority!==i.groupPriority)return e.groupPriority>i.groupPriority?-1:1;for(const n of e.handler.incomingEventMatches)for(const a of i.handler.incomingEventMatches){if(n.eventType!==a.eventType)continue;const d=n.keyModifiers.filter((y=>a.keyModifiers.includes(y)));if(d.length===n.keyModifiers.length!=(d.length===a.keyModifiers.length))return n.keyModifiers.length>a.keyModifiers.length?-1:1}return e.priorityIndex>i.priorityIndex?-1:1}_sortHandlersPriority(e){const i=[];for(const n of e){let a=0;for(;a<i.length&&this._compareHandlerPriority(n,i[a])>=0;)a++;i.splice(a,0,n)}return i}get debug(){const e=i=>{const n=this._setPointerCapture;this._setPointerCapture=()=>{},i(),this._setPointerCapture=n};return{injectEvent:(i,n)=>{e((()=>this._onEventReceived(i,n)))},disablePointerCapture:e}}};E([N({readOnly:!0})],Eo.prototype,"hasPendingInputs",null),E([N({constructOnly:!0})],Eo.prototype,"eventSource",void 0),E([N({constructOnly:!0})],Eo.prototype,"recognizers",void 0),E([N()],Eo.prototype,"_latestPointerType",void 0),E([N()],Eo.prototype,"latestPointerType",null),E([N()],Eo.prototype,"multiTouchActive",null),E([N({readOnly:!0})],Eo.prototype,"latestPointerLocation",void 0),E([N()],Eo.prototype,"_paused",void 0),E([N({readOnly:!0})],Eo.prototype,"updating",null),Eo=E([ut("esri.views.input.InputManager")],Eo);let zbt=class{constructor(e,i,n,a,d){this.type=e,this.data=i,this.timestamp=n,this.modifiers=a,this.cancelable=d,this._propagationState=wc.NONE,this._resumeCallback=null}stopPropagation(){this._propagationState|=wc.STOPPED}shouldStopPropagation(){return(this._propagationState&wc.STOPPED)!==0}defer(e){this._propagationState|=wc.PAUSED;const i=(n,a)=>{this._propagationState&=~wc.PAUSED;const d=this._resumeCallback;if(this._resumeCallback=null,d&&d(),a)throw n;return n};return(typeof e=="function"?e():e).then((n=>i(n,!1)),(n=>i(n,!0)))}shouldPausePropagation(e){return!!(this._propagationState&wc.PAUSED)&&(this._resumeCallback=e,!0)}preventDefault(){this.data.native.preventDefault()}};var wc;(function(t){t[t.NONE=0]="NONE",t[t.STOPPED=1]="STOPPED",t[t.PAUSED=2]="PAUSED"})(wc||(wc={}));const pu={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3};let Ubt=class{};const Fbt=Ubt;function Xu(t){return t!=null&&"open"in t&&"declaredClass"in t}function PP(t){return t!=null&&"declaredClass"in t&&"dockOptions"in t}const Bbt=t=>{let e=class extends t{constructor(){super(...arguments),this._popupSetupTask=null,this.popup={},this.popupEnabled=!0}initialize(){this.addHandles([Ce((()=>[this.ui,this.popup]),(([i,n],a)=>{const d="popup",y="manual";if(a){const[b,S]=a;b&&Xu(S)&&(S.view=null,PP(S)&&(b.remove(S,d),S!==n&&n&&S.destroy()))}i&&Xu(n)&&(n.view=this,PP(n)&&i.add(n,{key:d,position:y,internal:!0}))}),ss),this.on("click",(i=>{this.popup&&this.popupEnabled&&(i.pointerType!=="mouse"||i.button===0)&&(Xu(this.popup)?this.popup.viewModel.handleViewClick(i):i.defer((async()=>{await this.setupPopup(),Xu(this.popup)&&!this.destroyed&&this.ready&&this.popupEnabled&&this.popup.viewModel.handleViewClick(i)})))}),pu.WIDGET)]),YT((()=>this.ready&&this.popupEnabled&&!this.updating)).then((()=>{te(()=>import("./Popup-s9r7jAtW.js").then(i=>i.P),__vite__mapDeps([211,1,212,28,213,214,215,192,190,163,150,191,36,37,38,39,193,113,149,40,70,126,216,55,217,218,120,121,119,3,4,188,189,129,19,8,125,6,7,52,53,54,219,103,101,102,17,16,18,104,13,220,24,221,30,222,223,224,225,32,226,227,29,228,229,230,139,231,232,233,234,235,236,187,237,238,31,239,240,241,242,243,244,245,246,247,48,248,249,250,251,252,159,253]))}))}destroy(){this.destroyed||this.closePopup()}async openPopup(i){if(Xu(this.popup))return this.popup.open(i);try{if(await this.setupPopup(),!this.popup)return void ae.getLogger(this).error(new Lt("view:null-popup","Popup is null and can't be opened"));this.popup.open(i)}catch{}}closePopup(){this._popupSetupTask?.abort(),Xu(this.popup)&&this.popup.close()}async fetchPopupFeatures(i,n){return await this.when(),this._popupHitsToFeatures(await this._getPopupHits(i,n),n)}async setupPopup(){if(this._popupSetupTask?.abort(),this.popup&&!Xu(this.popup))return this._popupSetupTask=cM((async i=>{const{default:n}=await te(()=>import("./Popup-s9r7jAtW.js").then(d=>d.P),__vite__mapDeps([211,1,212,28,213,214,215,192,190,163,150,191,36,37,38,39,193,113,149,40,70,126,216,55,217,218,120,121,119,3,4,188,189,129,19,8,125,6,7,52,53,54,219,103,101,102,17,16,18,104,13,220,24,221,30,222,223,224,225,32,226,227,29,228,229,230,139,231,232,233,234,235,236,187,237,238,31,239,240,241,242,243,244,245,246,247,48,248,249,250,251,252,159,253]));if(dr(i),!this.popup||Xu(this.popup))return;const a=this.popup;delete a.open,delete a.close,this.popup=new n(a)})),this._popupSetupTask.promise}async _popupHitsToFeatures({location:i,hits:n},a){const d=[],y=[];let b=!1;const S=aet(a,St("popup-view-fetch-timeout")??qbt),T=D=>{const z=new Gbt(D);return y.push(z),d.push(z.promise),z},C=D=>{const z=y.at(-1);return z&&z.layerView===D&&!b?z:T(D)};for(const D of n)"graphic"in D?(C(D.layerView).graphics.push(D.graphic),b=!1):(d.push(D.layerView.fetchPopupFeaturesAtLocation(D.mapPoint,S)),b=!0);y.map((D=>D.resolve(S)));const k=oet(d).then((D=>D.filter((z=>!!z)).flat()));return{pendingFeatures:d,allGraphicsPromise:k,location:i}}async _getPopupHits(i,n){const{hits:a,location:d}=await this.popupHitTest(i);dr(n);const y=[];for(const b of a)if("graphic"in b){if(this._isValidPopupGraphic(b.graphic,n)){const S=this._isValidPopupGraphicsLayerView(b.layerView)?b.layerView:void 0;y.push({graphic:b.graphic,layerView:S})}}else this._isValidPopupLocationLayerView(b.layerView)&&y.push({mapPoint:b.mapPoint,layerView:b.layerView});return{hits:y,location:d}}_isValidPopupGraphic(i,n){return i&&!!i.getEffectivePopupTemplate(n?.defaultPopupTemplateEnabled)}_isValidPopupGraphicsLayerView(i){return!i||(!("layer"in i)||!i.suspended)&&"fetchPopupFeaturesFromGraphics"in i}_isValidPopupLocationLayerView(i){return(!("layer"in i)||!i.suspended)&&"fetchPopupFeaturesAtLocation"in i}};return E([N()],e.prototype,"popup",void 0),E([N()],e.prototype,"popupEnabled",void 0),e=E([ut("esri.views.PopupView")],e),e};let Gbt=class{constructor(e){this.layerView=e,this._resolver=qo(),this.graphics=[]}get promise(){return this._resolver.promise}resolve(e){const{layerView:i,graphics:n,_resolver:a}=this;if(!i)return a.resolve(n),a.promise;let d;return i.fetchPopupFeaturesFromGraphics(n,e).catch((y=>(d=y,null))).then((y=>{y?a.resolve(y):a.reject(d)})),a.promise}};const qbt=5e3;var am;const Mw=He()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),CV=Mw.jsonValues.slice();mtt(CV,"orthometric");const Vm=He()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let Ms=am=class extends Zt{constructor(t){super(t),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(t,e,i){return Mw.write(t,e,i)}readHeightModel(t,e,i){return Mw.read(t)||(i?.messages&&i.messages.push(Hbt(t,{context:i})),null)}readHeightUnit(t,e,i){return Vm.read(t)||(i?.messages&&i.messages.push(IP(t,{context:i})),null)}readHeightUnitService(t,e,i){return HT(t)||Vm.read(t)||(i?.messages&&i.messages.push(IP(t,{context:i})),null)}readVertCRS(t,e){return e.vertCRS||e.ellipsoid||e.geoid}clone(){return new am({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(t){return!!t&&(this===t||this.heightModel===t.heightModel&&this.heightUnit===t.heightUnit&&this.vertCRS===t.vertCRS)}static deriveUnitFromSR(t,e){const i=Pz(e);return new am({heightModel:t.heightModel,heightUnit:i??void 0,vertCRS:t.vertCRS})}write(t,e){return e={origin:"web-scene",...e},super.write(t,e)}static fromJSON(t){if(!t)return null;const e=new am;return e.read(t,{origin:"web-scene"}),e}};function IP(t,e){return new sl("height-unit:unsupported",`Height unit of value '${t}' is not supported`,e)}function Hbt(t,e){return new sl("height-model:unsupported",`Height model of value '${t}' is not supported`,e)}E([N({type:Mw.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:CV,default:"ellipsoidal",write:{isRequired:!0}}}}})],Ms.prototype,"heightModel",void 0),E([Pe("web-scene","heightModel")],Ms.prototype,"writeHeightModel",null),E([Ne(["web-scene","service"],"heightModel")],Ms.prototype,"readHeightModel",null),E([N({type:Vm.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:Vm.jsonValues,write:{writer:Vm.write,isRequired:!0}}}}})],Ms.prototype,"heightUnit",void 0),E([Ne("web-scene","heightUnit")],Ms.prototype,"readHeightUnit",null),E([Ne("service","heightUnit")],Ms.prototype,"readHeightUnitService",null),E([N({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],Ms.prototype,"vertCRS",void 0),E([Ne("service","vertCRS",["vertCRS","ellipsoid","geoid"])],Ms.prototype,"readVertCRS",null),Ms=am=E([ut("esri.geometry.HeightModelInfo")],Ms);let Aw=class extends jm{constructor(e){super(e),this.addHandles(this.on("before-add",(i=>{i.item!=null&&i.item.parent===this.owner&&(ae.getLogger(this).warn("Analysis inside the collection must be unique. Not adding this element again."),i.preventDefault())})))}_own(e){e.parent=this.owner}_release(e){e.parent=null}};Aw=E([ut("esri.support.AnalysesCollection")],Aw);let lc=class extends ve{constructor(e){super(e),this.view=null,this.baseLayerViews=new me,this.referenceLayerViews=new me,this._loadingHandle=Ce((()=>this.view?.map?.basemap),(i=>{i&&i.load().catch((()=>{}))}),Qn)}destroy(){this._set("view",null),this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null);for(const e of this.baseLayerViews)e.destroy();this.baseLayerViews.length=0;for(const e of this.referenceLayerViews)e.destroy();this.referenceLayerViews.length=0}get suspended(){return this.view?.suspended??!0}get updating(){return this.view?.suspended?!1:!!this.view?.map?.basemap?.loaded&&(this.baseLayerViews.some((i=>i.updating))||this.referenceLayerViews.some((i=>i.updating)))}};E([N({constructOnly:!0})],lc.prototype,"view",void 0),E([N({readOnly:!0})],lc.prototype,"baseLayerViews",void 0),E([N({readOnly:!0})],lc.prototype,"referenceLayerViews",void 0),E([N({readOnly:!0})],lc.prototype,"suspended",null),E([N({type:Boolean,readOnly:!0})],lc.prototype,"updating",null),lc=E([ut("esri.views.BasemapView")],lc);const Vbt=lc;let Ks=class extends ve{constructor(e){super(e),this.factor=1.5,this.offset=_n(0,0),this.position=null,this.size=120,this.maskUrl=null,this.maskEnabled=!0,this.overlayUrl=null,this.overlayEnabled=!0,this.visible=!0}get version(){return this.commitProperty("factor"),this.commitProperty("offset"),this.commitProperty("position"),this.commitProperty("visible"),this.commitProperty("size"),this.commitProperty("maskUrl"),this.commitProperty("maskEnabled"),this.commitProperty("overlayUrl"),this.commitProperty("overlayEnabled"),(this._get("version")||0)+1}};E([N({type:Number})],Ks.prototype,"factor",void 0),E([N({nonNullable:!0})],Ks.prototype,"offset",void 0),E([N()],Ks.prototype,"position",void 0),E([N({type:Number,range:{min:0}})],Ks.prototype,"size",void 0),E([N()],Ks.prototype,"maskUrl",void 0),E([N()],Ks.prototype,"maskEnabled",void 0),E([N()],Ks.prototype,"overlayUrl",void 0),E([N()],Ks.prototype,"overlayEnabled",void 0),E([N({readOnly:!0})],Ks.prototype,"version",null),E([N({type:Boolean})],Ks.prototype,"visible",void 0),Ks=E([ut("esri.views.Magnifier")],Ks);const OV=Ks;let pb=class{constructor(e){this._observable=new Qg,this._map=new Map(e)}get size(){return xe(this._observable),this._map.size}clear(){this._map.size>0&&(this._map.clear(),this._observable.notify())}delete(e){const i=this._map.delete(e);return i&&this._observable.notify(),i}entries(){return xe(this._observable),this._map.entries()}forEach(e,i){xe(this._observable),this._map.forEach(((n,a)=>e.call(i,n,a,this)),i)}get(e){return xe(this._observable),this._map.get(e)}has(e){return xe(this._observable),this._map.has(e)}keys(){return xe(this._observable),this._map.keys()}set(e,i){return this._map.set(e,i),this._observable.notify(),this}values(){return xe(this._observable),this._map.values()}[Symbol.iterator](){return xe(this._observable),this._map[Symbol.iterator]()}[Symbol.dispose](){this._observable.destroy()}get[Symbol.toStringTag](){return this._map[Symbol.toStringTag]}};var a8;let lm=a8=class extends Zt{constructor(t){super(t),this.name=null,this.code=null}clone(){return new a8({name:this.name,code:this.code})}};E([N({type:String,json:{write:{isRequired:!0}}})],lm.prototype,"name",void 0),E([N({type:[String,Number],json:{write:{isRequired:!0}}})],lm.prototype,"code",void 0),lm=a8=E([ut("esri.layers.support.CodedValue")],lm);const Wbt=new wr({inherited:"inherited",codedValue:"coded-value",range:"range"});let Ic=class extends Zt{constructor(e){super(e),this.name=null,this.type=null}};E([N({type:String,json:{write:!0}})],Ic.prototype,"name",void 0),E([se(Wbt),N({json:{write:{isRequired:!0}}})],Ic.prototype,"type",void 0),Ic=E([ut("esri.layers.support.Domain")],Ic);var l8,rp;let _0=(rp=class extends Ic{constructor(e){super(e),this.codedValues=null,this.type="coded-value"}getName(e){let i=null;if(this.codedValues){const n=String(e);this.codedValues.some((a=>(String(a.code)===n&&(i=a.name),!!i)))}return i}clone(){return new l8({codedValues:Ht(this.codedValues),name:this.name})}},l8=rp,rp);E([N({type:[lm],json:{write:{isRequired:!0}}})],_0.prototype,"codedValues",void 0),E([se({codedValue:"coded-value"})],_0.prototype,"type",void 0),_0=l8=E([ut("esri.layers.support.CodedValueDomain")],_0);var u8,np;let Wm=(np=class extends Ic{constructor(e){super(e),this.type="inherited"}clone(){return new u8}},u8=np,np);E([se({inherited:"inherited"})],Wm.prototype,"type",void 0),Wm=u8=E([ut("esri.layers.support.InheritedDomain")],Wm);var c8,sp;let ef=(sp=class extends Ic{constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new c8({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}},c8=sp,sp);E([N({json:{type:[Number],read:{source:"range",reader:(t,e)=>e.range?.[1]},write:{enabled:!1,overridePolicy(){return{enabled:this.maxValue!=null&&this.minValue==null}},target:"range",writer(t,e,i){e[i]=[this.minValue||0,t]},isRequired:!0}}})],ef.prototype,"maxValue",void 0),E([N({json:{type:[Number],read:{source:"range",reader:(t,e)=>e.range?.[0]},write:{target:"range",writer(t,e,i){e[i]=[t,this.maxValue||0]},isRequired:!0}}})],ef.prototype,"minValue",void 0),E([se({range:"range"})],ef.prototype,"type",void 0),ef=c8=E([ut("esri.layers.support.RangeDomain")],ef);const Jbt={key:"type",base:Ic,typeMap:{range:ef,"coded-value":_0,inherited:Wm}};function Ybt(t){if(!t?.type)return null;switch(t.type){case"range":return ef.fromJSON(t);case"codedValue":return _0.fromJSON(t);case"inherited":return Wm.fromJSON(t)}return null}const Kbt=new wr({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"});var h8;const Xbt=new wr({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});var op;let Cn=(op=class extends Zt{constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=void 0,this.name=null,this.nullable=!0,this.type=null,this.valueType=null,this.visible=!0}readDescription(e,{description:i}){let n=null;try{n=i?JSON.parse(i):null}catch{}return n?.value??null}readValueType(e,{description:i}){let n=null;try{n=i?JSON.parse(i):null}catch{}return n?Xbt.fromJSON(n.fieldValueType):null}clone(){return new h8({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain?.clone()??null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}},h8=op,op);E([N({type:String,json:{write:!0}})],Cn.prototype,"alias",void 0),E([N({type:[String,Number],json:{write:{allowNull:!0}}})],Cn.prototype,"defaultValue",void 0),E([N()],Cn.prototype,"description",void 0),E([Ne("description")],Cn.prototype,"readDescription",null),E([N({types:Jbt,json:{read:{reader:Ybt},write:!0}})],Cn.prototype,"domain",void 0),E([N({type:Boolean,json:{write:!0}})],Cn.prototype,"editable",void 0),E([N({type:Hi,json:{write:{overridePolicy:t=>({enabled:Number.isFinite(t)})}}})],Cn.prototype,"length",void 0),E([N({type:String,json:{write:!0}})],Cn.prototype,"name",void 0),E([N({type:Boolean,json:{write:!0}})],Cn.prototype,"nullable",void 0),E([se(Kbt)],Cn.prototype,"type",void 0),E([N()],Cn.prototype,"valueType",void 0),E([Ne("valueType",["description"])],Cn.prototype,"readValueType",null),E([N({type:Boolean,json:{read:!1}})],Cn.prototype,"visible",void 0),Cn=h8=E([ut("esri.layers.support.Field")],Cn);var f8;let e0=f8=class extends Zt{constructor(t){super(t),this.type="map-layer"}clone(){const{mapLayerId:t,gdbVersion:e}=this;return new f8({mapLayerId:t,gdbVersion:e})}};E([se({mapLayer:"map-layer"}),N({json:{write:{isRequired:!0}}})],e0.prototype,"type",void 0),E([N({type:Hi,json:{write:{isRequired:!0}}})],e0.prototype,"mapLayerId",void 0),E([N({type:String,json:{write:!0}})],e0.prototype,"gdbVersion",void 0),e0=f8=E([ut("esri.layers.support.source.MapLayerSource")],e0);var d8;let Yl=d8=class extends Zt{constructor(t){super(t),this.type="query-table"}clone(){const{workspaceId:t,query:e,oidFields:i,spatialReference:n,geometryType:a}=this,d={workspaceId:t,query:e,oidFields:i,spatialReference:n?.clone()??void 0,geometryType:a};return new d8(d)}};E([se({queryTable:"query-table"}),N({json:{write:{isRequired:!0}}})],Yl.prototype,"type",void 0),E([N({type:String,json:{write:!0}})],Yl.prototype,"workspaceId",void 0),E([N({type:String,json:{write:!0}})],Yl.prototype,"query",void 0),E([N({type:String,json:{write:!0}})],Yl.prototype,"oidFields",void 0),E([N({type:le,json:{write:!0}})],Yl.prototype,"spatialReference",void 0),E([se(Qpt)],Yl.prototype,"geometryType",void 0),Yl=d8=E([ut("esri.layers.support.source.QueryTableDataSource")],Yl);var p8;let i0=p8=class extends Zt{constructor(t){super(t),this.type="raster"}clone(){const{workspaceId:t,dataSourceName:e}=this;return new p8({workspaceId:t,dataSourceName:e})}};E([se({raster:"raster"}),N({json:{write:{isRequired:!0}}})],i0.prototype,"type",void 0),E([N({type:String,json:{write:!0}})],i0.prototype,"dataSourceName",void 0),E([N({type:String,json:{write:!0}})],i0.prototype,"workspaceId",void 0),i0=p8=E([ut("esri.layers.support.source.RasterDataSource")],i0);var y8;let qh=y8=class extends Zt{constructor(t){super(t),this.type="table"}clone(){const{workspaceId:t,gdbVersion:e,dataSourceName:i}=this;return new y8({workspaceId:t,gdbVersion:e,dataSourceName:i})}};E([se({table:"table"}),N({json:{write:{isRequired:!0}}})],qh.prototype,"type",void 0),E([N({type:String,json:{write:!0}})],qh.prototype,"workspaceId",void 0),E([N({type:String,json:{write:!0}})],qh.prototype,"gdbVersion",void 0),E([N({type:String,json:{write:!0}})],qh.prototype,"dataSourceName",void 0),qh=y8=E([ut("esri.layers.support.source.TableDataSource")],qh);var m8,g8;const Zbt=He()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let Xs=m8=class extends Zt{constructor(t){super(t),this.type="join-table"}readLeftTableSource(t,e,i){return DP()(t,e,i)}castLeftTableSource(t){return qc(v8(),t)}readRightTableSource(t,e,i){return DP()(t,e,i)}castRightTableSource(t){return qc(v8(),t)}clone(){const{leftTableKey:t,rightTableKey:e,leftTableSource:i,rightTableSource:n,joinType:a}=this,d={leftTableKey:t,rightTableKey:e,leftTableSource:i?.clone()??void 0,rightTableSource:n?.clone()??void 0,joinType:a};return new m8(d)}};E([se({joinTable:"join-table"}),N({json:{write:{isRequired:!0}}})],Xs.prototype,"type",void 0),E([N({type:String,json:{write:!0}})],Xs.prototype,"leftTableKey",void 0),E([N({type:String,json:{write:!0}})],Xs.prototype,"rightTableKey",void 0),E([N({json:{write:!0}})],Xs.prototype,"leftTableSource",void 0),E([Ne("leftTableSource")],Xs.prototype,"readLeftTableSource",null),E([on("leftTableSource")],Xs.prototype,"castLeftTableSource",null),E([N({json:{write:!0}})],Xs.prototype,"rightTableSource",void 0),E([Ne("rightTableSource")],Xs.prototype,"readRightTableSource",null),E([on("rightTableSource")],Xs.prototype,"castRightTableSource",null),E([se(Zbt)],Xs.prototype,"joinType",void 0),Xs=m8=E([ut("esri.layers.support.source.JoinTableDataSource")],Xs);let N_=null;function DP(){return N_||(N_=TT({types:v8()})),N_}let k_=null;function v8(){return k_||(k_={key:"type",base:null,typeMap:{"data-layer":ou,"map-layer":e0}}),k_}const Qbt={key:"type",base:null,typeMap:{"join-table":Xs,"query-table":Yl,raster:i0,table:qh}};var ap;let ou=(ap=class extends Zt{constructor(e){super(e),this.type="data-layer"}clone(){const{fields:e,dataSource:i}=this;return new g8({fields:e,dataSource:i})}},g8=ap,ap);E([se({dataLayer:"data-layer"}),N({json:{write:{isRequired:!0}}})],ou.prototype,"type",void 0),E([N({type:[Cn],json:{write:!0}})],ou.prototype,"fields",void 0),E([N({types:Qbt,json:{write:!0}})],ou.prototype,"dataSource",void 0),ou=g8=E([ut("esri.layers.support.source.DataLayerSource")],ou),ou.from=an(ou);let Hh=class extends qr.ClonableMixin(Zt){constructor(e){super(e),this.onFields=null,this.operator=null,this.searchTerm=null,this.searchType=null}};E([N({type:[String],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.onFields!=null&&this.onFields.length>0}}}}})],Hh.prototype,"onFields",void 0),E([N({type:String,json:{write:!0}})],Hh.prototype,"operator",void 0),E([N({type:String,json:{write:!0}})],Hh.prototype,"searchTerm",void 0),E([N({type:String,json:{write:!0}})],Hh.prototype,"searchType",void 0),Hh=E([ut("esri.rest.support.FullTextSearch")],Hh);const twt=Hh;var b8;const LP=new wr({upperLeft:"upper-left",lowerLeft:"lower-left"});let _c=b8=class extends Zt{constructor(t){super(t),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new b8(Ht({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};E([N({type:Be,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],_c.prototype,"extent",void 0),E([N({type:["view","edit"],json:{write:!0}})],_c.prototype,"mode",void 0),E([N({type:String,json:{read:LP.read,write:LP.write}})],_c.prototype,"originPosition",void 0),E([N({type:Number,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],_c.prototype,"tolerance",void 0),_c=b8=E([ut("esri.rest.support.QuantizationParameters")],_c);const ewt=new wr({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});var w8;const jP=new wr({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});let fa=w8=class extends Zt{constructor(t){super(t),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(t,e){this.statisticType!=="percentile-continuous"&&this.statisticType!=="percentile-discrete"||(e.statisticParameters=Ht(t))}clone(){return new w8({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:Ht(this.statisticParameters)})}};E([N({type:Number,json:{write:!0}})],fa.prototype,"maxPointCount",void 0),E([N({type:Number,json:{write:!0}})],fa.prototype,"maxRecordCount",void 0),E([N({type:Number,json:{write:!0}})],fa.prototype,"maxVertexCount",void 0),E([N({type:String,json:{write:!0}})],fa.prototype,"onStatisticField",void 0),E([N({type:String,json:{write:!0}})],fa.prototype,"outStatisticFieldName",void 0),E([N({type:String,json:{read:{source:"statisticType",reader:jP.read},write:{target:"statisticType",writer:jP.write}}})],fa.prototype,"statisticType",void 0),E([N({type:Object})],fa.prototype,"statisticParameters",void 0),E([Pe("statisticParameters")],fa.prototype,"writeStatisticParameters",null),fa=w8=E([ut("esri.rest.support.StatisticDefinition")],fa);var yb;const iwt=new wr({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});var Mf;let Se=(Mf=class extends Zt{static from(e){return Fp(yb,e)}constructor(e){super(e),this.aggregateIds=null,this.cacheHint=void 0,this.compactGeometryEnabled=!1,this.datumTransformation=null,this.defaultSpatialReferenceEnabled=!1,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.fullText=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.returnTrueCurves=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}castDatumTransformation(e){return typeof e=="number"||typeof e=="object"?e:null}writeHistoricMoment(e,i){i.historicMoment=e&&e.getTime()}writeParameterValues(e,i){if(e){const n={};for(const a in e){const d=e[a];Array.isArray(d)?n[a]=d.map((y=>y instanceof Date?y.getTime():y)):d instanceof Date?n[a]=d.getTime():n[a]=d}i.parameterValues=n}}writeStart(e,i){i.resultOffset=this.start,i.resultRecordCount=this.num||10,i.where="1=1"}writeWhere(e,i){i.where=e||"1=1"}clone(){return new yb(Ht({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,fullText:this.fullText,formatOf3DObjects:this.formatOf3DObjects,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:this.historicMoment!=null?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,returnTrueCurves:this.returnTrueCurves,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}},yb=Mf,Mf.MAX_MAX_RECORD_COUNT_FACTOR=5,Mf);E([N({json:{write:!0}})],Se.prototype,"aggregateIds",void 0),E([N({type:Boolean,json:{write:!0}})],Se.prototype,"cacheHint",void 0),E([N({type:Boolean,json:{default:!1,write:!0}})],Se.prototype,"compactGeometryEnabled",void 0),E([N({json:{write:!0}})],Se.prototype,"datumTransformation",void 0),E([on("datumTransformation")],Se.prototype,"castDatumTransformation",null),E([N({type:Boolean,json:{default:!1,write:!0}})],Se.prototype,"defaultSpatialReferenceEnabled",void 0),E([N({type:Number,json:{write:!0}})],Se.prototype,"distance",void 0),E([N({type:ou,json:{write:!0}})],Se.prototype,"dynamicDataSource",void 0),E([N({type:String,json:{write:!0}})],Se.prototype,"formatOf3DObjects",void 0),E([N({type:[twt],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.fullText!=null&&this.fullText.length>0}}}}})],Se.prototype,"fullText",void 0),E([N({type:String,json:{write:!0}})],Se.prototype,"gdbVersion",void 0),E([N({types:av,json:{read:Yc,write:!0}})],Se.prototype,"geometry",void 0),E([N({type:Number,json:{write:!0}})],Se.prototype,"geometryPrecision",void 0),E([N({type:[String],json:{write:!0}})],Se.prototype,"groupByFieldsForStatistics",void 0),E([N({type:String,json:{write:!0}})],Se.prototype,"having",void 0),E([N({type:Date})],Se.prototype,"historicMoment",void 0),E([Pe("historicMoment")],Se.prototype,"writeHistoricMoment",null),E([N({type:Number,json:{write:!0}})],Se.prototype,"maxAllowableOffset",void 0),E([N({type:Number,cast:t=>t<1?1:t>Se.MAX_MAX_RECORD_COUNT_FACTOR?Se.MAX_MAX_RECORD_COUNT_FACTOR:t,json:{write:{overridePolicy:t=>({enabled:t>1})}}})],Se.prototype,"maxRecordCountFactor",void 0),E([N({type:["xyFootprint"],json:{write:!0}})],Se.prototype,"multipatchOption",void 0),E([N({type:Number,json:{read:{source:"resultRecordCount"}}})],Se.prototype,"num",void 0),E([N({json:{write:!0}})],Se.prototype,"objectIds",void 0),E([N({type:[String],json:{write:!0}})],Se.prototype,"orderByFields",void 0),E([N({type:[String],json:{write:!0}})],Se.prototype,"outFields",void 0),E([N({type:le,json:{name:"outSR",write:!0}})],Se.prototype,"outSpatialReference",void 0),E([N({type:[fa],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.outStatistics!=null&&this.outStatistics.length>0}}}}})],Se.prototype,"outStatistics",void 0),E([N({json:{write:!0}})],Se.prototype,"parameterValues",void 0),E([Pe("parameterValues")],Se.prototype,"writeParameterValues",null),E([N({type:ue,json:{write:!0}})],Se.prototype,"pixelSize",void 0),E([N({type:_c,json:{write:!0}})],Se.prototype,"quantizationParameters",void 0),E([N({type:[Object],json:{write:!0}})],Se.prototype,"rangeValues",void 0),E([N({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:this.spatialRelationship==="relation"}}}}})],Se.prototype,"relationParameter",void 0),E([N({type:String,json:{write:!0}})],Se.prototype,"resultType",void 0),E([N({type:Boolean,json:{default:!1,write:!0}})],Se.prototype,"returnCentroid",void 0),E([N({type:Boolean,json:{default:!1,write:!0}})],Se.prototype,"returnDistinctValues",void 0),E([N({type:Boolean,json:{default:!0,write:!0}})],Se.prototype,"returnExceededLimitFeatures",void 0),E([N({type:Boolean,json:{write:!0}})],Se.prototype,"returnGeometry",void 0),E([N({type:Boolean,json:{default:!1,write:!0}})],Se.prototype,"returnQueryGeometry",void 0),E([N({type:Boolean,json:{default:!1,write:!0}})],Se.prototype,"returnM",void 0),E([N({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],Se.prototype,"returnZ",void 0),E([N({type:Boolean,json:{write:!0}})],Se.prototype,"returnTrueCurves",void 0),E([N({type:le,json:{write:!0}})],Se.prototype,"sourceSpatialReference",void 0),E([se(ewt,{ignoreUnknown:!1,name:"spatialRel"})],Se.prototype,"spatialRelationship",void 0),E([N({type:Number,json:{read:{source:"resultOffset"}}})],Se.prototype,"start",void 0),E([Pe("start"),Pe("num")],Se.prototype,"writeStart",null),E([N({type:String,json:{write:!0}})],Se.prototype,"sqlFormat",void 0),E([N({type:String,json:{write:!0}})],Se.prototype,"text",void 0),E([N({type:ns,json:{write:!0}})],Se.prototype,"timeExtent",void 0),E([N({type:Boolean,json:{default:!1,write:!0}})],Se.prototype,"timeReferenceUnknownClient",void 0),E([se(iwt,{ignoreUnknown:!1}),N({json:{write:{overridePolicy(t){return{enabled:!!t&&this.distance!=null}}}}})],Se.prototype,"units",void 0),E([N({type:String,json:{write:{overridePolicy(t){return{enabled:t!=null||this.start!=null&&this.start>0}}}}})],Se.prototype,"where",void 0),E([Pe("where")],Se.prototype,"writeWhere",null),Se=yb=E([ut("esri.rest.support.Query")],Se);function Zu(t){return!(t==null||typeof t!="object"||!("createQuery"in t)||!t.createQuery)}let Mo=class extends gu.EventedAccessor{constructor(e){super(e),this._selectionMap=new pb,this._sources=new me,this._trashCan=[],this._layerEditHandles=new me,this._vizTaskId=0,this.view=null,this.showHighlight=!0,this.highlightName="default"}initialize(){this.addHandles([Ce((()=>[this.view,this.showHighlight]),(()=>this._refreshVisualization())),Ce((()=>this.view),(e=>{e?.when().then((()=>this.syncSources()))}),Qn),If((()=>this.sources),"change",(e=>{const i=this._selectionMap,n=[];for(const a of e.removed){const d=i.get(a);d&&(i.delete(a),d.highlightHandle?.remove(),n.push({layer:a,selection:[],added:[],removed:[...d.selection]}))}this._refreshListeners(),n.length&&this._onSelectionChange(n)}),{onListenerAdd:()=>this._refreshListeners()})])}destroy(){this.clear(),this._layerEditHandles.drain(or)}get selections(){return Array.from(this._selectionMap.entries()).map((e=>{const[i,n]=e;return{layer:i,selection:[...n.selection]}}))}get count(){let e=0;for(const i of this._selectionMap.values())e+=i.selection.length;return e}get hasSelection(){return this.count>0}get sources(){return this._sources}set sources(e){mu(e,this._sources)}syncSources(){const e=new Set,i=this.view?.map;if(!i)return;const n=a=>{mvt(a)?(a.layers?.forEach(n),a.tables?.forEach(n)):yvt(a)?(a.sublayers?.forEach(n),a.subtables?.forEach(n)):Yk(a)?a.sublayers?.forEach(n):Zu(a)&&e.add(a)};i.allLayers.forEach(n),i.allTables.forEach(n),this.sources=[...e]}async getSelectedFeatures(e,i={},n="layerView"){const{view:a,selections:d}=this;if(!a&&n==="layerView")return ae.getLogger(this).warn("Cannot query layer views without a view."),[];const y=(e?.length?d.filter((b=>e.includes(b.layer))):d).map((async b=>{const{layer:S,selection:T}=b;if(!T.length)return;const C=t0(S)?S.parent:S;if(C!=null){if(a&&n==="layerView"&&!zP(C)&&UP(C)){const k=await a.whenLayerView(C).catch((()=>null));if(k)return FP(k,T,i)}return FP(C,T,i)}})).filter(Bc);return(await Promise.all(y)).filter(Bc)}updateSelection(e){const i=new Map;for(const[d,y]of this._selectionMap)i.set(d,[...y.selection]);let n=!1;const a=e.current.concat(e.added);for(const d of a){const y=d.sourceLayer,b=d.getObjectId();if(this.sources.includes(y)&&(Zu(y)||t0(y))&&b!==null){const S=zg(i,y,(()=>[]));S.includes(b)||(S.push(b),n=!0)}}for(const d of e.removed){const y=d.sourceLayer,b=d.getObjectId();if(this.sources.includes(y)&&(Zu(y)||t0(y))&&b!==null){const S=i.get(y),T=S?.indexOf(b);T!==void 0&&T>=0&&(S?.splice(T,1),n=!0)}}if(n){const{_selectionMap:d,_trashCan:y}=this,b=[];for(const[S,T]of i){const C=d.get(S);C!==void 0&&y.push(C),d.set(S,{selection:T}),b.push({layer:S,selection:T,...JO(C!==void 0?C.selection:[],T)})}this._onSelectionChange(b)}}setSelection(e,i){this._setSelection(e,i)}getSelection(e){return this._selectionMap.get(e)?.selection}appendToSelection(e,i){const n=this._selectionMap.get(e),a=n!==void 0?[...n.selection]:[];for(const d of i)a.includes(d)||a.push(d);this._setSelection(e,a)}removeFromSelection(e,i){const n=this._selectionMap.get(e);if(!n)return;const a=[];for(const d of n.selection)i.includes(d)||a.push(d);this._setSelection(e,a)}toggleInSelection(e,i){const n=this._selectionMap.get(e);if(!n||n.selection.length===0)return void this._setSelection(e,i);const a=new Set(n.selection),d=new Set(i),y=Eet(a,d);this._setSelection(e,Array.from(y))}clear(){const e=this._selectionMap.values();this._trashCan.push(...e);const i=[];for(const[n,a]of this._selectionMap.entries())i.push({layer:n,added:[],removed:[...a.selection],selection:[]});this._selectionMap.clear(),this._onSelectionChange(i)}_onSelectionChange(e){this._refreshVisualization(),this.emit("selection-change",{view:this.view,changes:e})}_refreshVisualization(){for(this._vizTaskId++;this._trashCan.length>0;)this._trashCan.pop()?.highlightHandle?.remove();if(this.view==null)return;const{sources:e,view:i,_selectionMap:n,showHighlight:a}=this,d=this._vizTaskId;for(const y of e){const b=n.get(y),S=t0(y)?y.parent:y;if(S!=null&&UP(S)){if(zP(S))continue;i.whenLayerView(S).then((T=>{b?.highlightHandle?.remove(),b!=null&&a&&d===this._vizTaskId&&"highlight"in T&&typeof T.highlight=="function"&&b.selection.length>0&&(b.highlightHandle=T.highlight(b.selection,this.highlightName))})).catch((()=>{b?.highlightHandle?.remove()}))}}}_refreshListeners(){this._layerEditHandles.drain(or);const e=new Set(this.sources.map((i=>t0(i)?i.parent:i)));for(const i of e)Zu(i)&&"on"in i&&i.on&&this._layerEditHandles.push(i.on("edits",(n=>this._onLayerEdit(n,i))))}_onLayerEdit(e,i){if(Yk(i))this._onParentLayerEdit(e,i);else if(e.deletedFeatures.length&&this._selectionMap.has(i)){const n=[];e.deletedFeatures.forEach((({error:a,objectId:d})=>{d!=null&&a==null&&n.push(d)})),this.removeFromSelection(i,n)}}_onParentLayerEdit(e,i){const{deletedFeatures:n,edits:a,updatedFeatures:d}=e;if(a?.updateFeatures?.forEach((y=>{const b=y.getObjectId()??y.attributes[i.objectIdField];if(b==null||d.find((C=>C.objectId===b))?.error)return;const S=i.findSublayerForFeature(y);if(!Zu(S))return;const T=i.sublayers.find((C=>!(!Zu(C)||!this.getSelection(C)?.includes(b))));Zu(T)&&T!==S&&(this.removeFromSelection(T,[b]),this.appendToSelection(S,[b]))})),n.length){const y=[];n.forEach((({error:b,objectId:S})=>{S!=null&&b==null&&y.push(S)})),i.sublayers.forEach((b=>{Zu(b)&&this._selectionMap.has(b)&&this.removeFromSelection(b,y)}))}}_setSelection(e,i){if(!this.sources.includes(e))throw new Error(`Cannot set selection on layer ${e.title} because it is not in 'sources'`);const n=this._selectionMap.get(e);if(n===void 0||!nwt(n,{selection:i})){n!==void 0&&this._trashCan.push(n),this._selectionMap.set(e,{selection:[...i]});const a={layer:e,selection:[...i],...JO(n!==void 0?n.selection:[],i)};this._onSelectionChange([a])}}};E([N()],Mo.prototype,"_selectionMap",void 0),E([N()],Mo.prototype,"_sources",void 0),E([N({readOnly:!0,nonNullable:!0})],Mo.prototype,"selections",null),E([N({readOnly:!0,nonNullable:!0})],Mo.prototype,"count",null),E([N()],Mo.prototype,"view",void 0),E([N({readOnly:!0,nonNullable:!0})],Mo.prototype,"hasSelection",null),E([N()],Mo.prototype,"showHighlight",void 0),E([N()],Mo.prototype,"sources",null),E([N()],Mo.prototype,"highlightName",void 0),Mo=E([ut("esri.views.SelectionManager")],Mo);const zP=t=>t0(t)?t.parent?.isTable===!0:t.isTable,rwt=t=>t.layer!==void 0,UP=t=>t?.when!==void 0,nwt=(t,e)=>{if(t==null&&e==null)return!0;if(t!=null&&e==null||t==null&&e!=null)return!1;if(t!=null&&e!=null&&t.selection!=null&&e.selection!=null){const i=[...t.selection],n=[...e.selection];if(i.length!==n.length)return!1;i.sort(),n.sort();for(let a=0;a<i.length;a++)if(i[a]!==n[a])return!1}return!0},FP=async(t,e,i={})=>{let n;if(rwt(t)){const a=t;n=a===void 0?null:await a.queryFeatures(new Se({...i,objectIds:e})).then((d=>({data:d,layer:t.layer})))}else{const a=t;n=a===void 0?null:await a.queryFeatures(new Se({...i,objectIds:e})).then((d=>({data:d,layer:a})))}return n},swt=Mo;let um=class extends qr.ClonableMixin(ve){constructor(e){super(e),this.accentColor=new ni([255,127,0]),this.textColor=new ni([255,255,255])}};E([N({type:ni,nonNullable:!0})],um.prototype,"accentColor",void 0),E([N({type:ni,nonNullable:!0})],um.prototype,"textColor",void 0),um=E([ut("esri.views.Theme")],um);const _8=um;var BP;(function(t){t[t.Left=0]="Left",t[t.Middle=1]="Middle",t[t.Right=2]="Right"})(BP||(BP={}));const $V=["click","double-click","immediate-click","immediate-double-click","hold","drag","key-down","key-up","pointer-down","pointer-move","pointer-up","pointer-drag","mouse-wheel","pointer-enter","pointer-leave","gamepad","focus","blur"],NV={};function kV(t){return!!NV[t]}function owt(t){for(const e of t)if(!kV(e))return!1;return!0}$V.forEach((t=>{NV[t]=!0}));let PV=class{constructor(e){this._handlers=new Map,this._counter=0,this._handlerCounts=new Map,this.view=e,this.inputManager=null}connect(e){e&&this.disconnect(),this.inputManager=e,this._handlers.forEach((({handler:i,priority:n},a)=>this.inputManager?.installHandlers(a,[i],n)))}disconnect(){this.inputManager&&this._handlers.forEach(((e,i)=>this.inputManager?.uninstallHandlers(i))),this.inputManager=null}destroy(){this.disconnect(),this._handlers.clear(),this.view=null}on(e,i,n,a){const d=Array.isArray(e)?e:e.split(",");if(!owt(d))return d.some(kV)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;let y,b;Array.isArray(i)?b=i:(y=i,b=[]),typeof n=="function"?y=n:a=n,a=a??pu.DEFAULT;const S=this._createUniqueGroupName(),T=new awt(this.view,d,b,y);this._handlers.set(S,{handler:T,priority:a});for(const C of d){const k=this._handlerCounts.get(C)||0;this._handlerCounts.set(C,k+1)}return this.inputManager&&this.inputManager.installHandlers(S,[T],a),ui((()=>this._removeHandler(S,d)))}hasHandler(e){return!!this._handlerCounts.get(e)}_removeHandler(e,i){if(this._handlers.has(e)){this._handlers.delete(e);for(const n of i){const a=this._handlerCounts.get(n);a===void 0||(a===1?this._handlerCounts.delete(n):this._handlerCounts.set(n,a-1))}}this.inputManager&&this.inputManager.uninstallHandlers(e)}_createUniqueGroupName(){return this._counter+=1,`viewEvents_${this._counter}`}},awt=class extends ln{constructor(e,i,n,a){super(!0),this._latestDragStart=void 0,this.view=e;for(const d of i)switch(d){case"click":this.registerIncoming("click",n,(y=>a(cwt(e,y))));break;case"double-click":this.registerIncoming("double-click",n,(y=>a(hwt(e,y))));break;case"immediate-click":this.registerIncoming("immediate-click",n,(y=>a(fwt(e,y))));break;case"immediate-double-click":this.registerIncoming("immediate-double-click",n,(y=>a(dwt(e,y))));break;case"hold":this.registerIncoming("hold",n,(y=>a(pwt(e,y))));break;case"drag":this.registerIncoming("drag",n,(y=>{const b=this._wrapDrag(y);b&&a(b)}));break;case"key-down":this.registerIncoming("key-down",n,(y=>a(ywt(y))));break;case"key-up":this.registerIncoming("key-up",n,(y=>a(mwt(y))));break;case"pointer-down":this.registerIncoming("pointer-down",n,(y=>a(_y(y,"pointer-down"))));break;case"pointer-move":this.registerIncoming("pointer-move",n,(y=>a(_y(y,"pointer-move"))));break;case"pointer-up":this.registerIncoming("pointer-up",n,(y=>a(_y(y,"pointer-up"))));break;case"pointer-drag":this.registerIncoming("pointer-drag",n,(y=>a(gwt(y))));break;case"mouse-wheel":this.registerIncoming("mouse-wheel",n,(y=>a(vwt(y))));break;case"pointer-enter":this.registerIncoming("pointer-enter",n,(y=>a(_y(y,"pointer-enter"))));break;case"pointer-leave":this.registerIncoming("pointer-leave",n,(y=>a(_y(y,"pointer-leave"))));break;case"gamepad":this.registerIncoming("gamepad",n,(y=>{a(bwt(y))}));break;case"focus":this.registerIncoming("focus",n,(y=>{a(lwt(y))}));break;case"blur":this.registerIncoming("blur",n,(y=>{a(uwt(y))}))}}_wrapDrag(e){const i=e.data,{x:n,y:a}=i.center,{action:d,pointerType:y,button:b}=i;if(d==="start"&&(this._latestDragStart=i),!this._latestDragStart)return;const S=i.pointer.native,T=i.buttons,{cancelable:C,timestamp:k}=e,D={x:this._latestDragStart.center.x,y:this._latestDragStart.center.y};return d==="end"&&(this._latestDragStart=void 0),{type:"drag",action:d,x:n,y:a,origin:D,pointerType:y,button:b,buttons:T,radius:i.radius,angle:HG(i.angle),native:S,timestamp:k,cancelable:C,stopPropagation:()=>e.stopPropagation(),defer:z=>e.defer(z),preventDefault:()=>e.preventDefault()}}};function lwt(t){return{type:"focus",timestamp:t.timestamp,native:t.data.native,cancelable:t.cancelable,stopPropagation:()=>t.stopPropagation(),defer:e=>t.defer(e),preventDefault:()=>t.preventDefault()}}function uwt(t){return{type:"blur",timestamp:t.timestamp,native:t.data.native,cancelable:t.cancelable,stopPropagation:()=>t.stopPropagation(),defer:e=>t.defer(e),preventDefault:()=>t.preventDefault()}}function cwt(t,e){const{pointerType:i,button:n,buttons:a,x:d,y,native:b,eventId:S}=e.data,{cancelable:T,timestamp:C}=e;return{type:"click",pointerType:i,button:n,buttons:a,x:d,y,native:b,timestamp:C,screenPoint:_n(d,y),mapPoint:yv(t,d,y),eventId:S,cancelable:T,stopPropagation:()=>e.stopPropagation(),defer:k=>e.defer(k),preventDefault:()=>e.preventDefault()}}function hwt(t,e){const{pointerType:i,button:n,buttons:a,x:d,y,native:b,eventId:S}=e.data,{cancelable:T,timestamp:C}=e;return{type:"double-click",pointerType:i,button:n,buttons:a,x:d,y,native:b,timestamp:C,mapPoint:yv(t,d,y),eventId:S,cancelable:T,stopPropagation:()=>e.stopPropagation(),defer:k=>e.defer(k),preventDefault:()=>e.preventDefault()}}function fwt(t,e){const{pointerType:i,button:n,buttons:a,x:d,y,native:b,eventId:S}=e.data,T=b.pointerId,{cancelable:C,timestamp:k}=e;return{type:"immediate-click",pointerId:T,pointerType:i,button:n,buttons:a,x:d,y,native:b,timestamp:k,mapPoint:yv(t,d,y),eventId:S,cancelable:C,stopPropagation:()=>e.stopPropagation(),defer:D=>e.defer(D),preventDefault:()=>e.preventDefault()}}function dwt(t,e){const{pointerType:i,button:n,buttons:a,x:d,y,native:b,eventId:S}=e.data,T=b.pointerId,{cancelable:C,timestamp:k}=e;return{type:"immediate-double-click",pointerId:T,pointerType:i,button:n,buttons:a,x:d,y,native:b,timestamp:k,mapPoint:yv(t,d,y),eventId:S,cancelable:C,stopPropagation:()=>e.stopPropagation(),defer:D=>e.defer(D),preventDefault:()=>e.preventDefault()}}function pwt(t,e){const{pointerType:i,button:n,buttons:a,x:d,y,native:b}=e.data,{cancelable:S,timestamp:T}=e;return{type:"hold",pointerType:i,button:n,buttons:a,x:d,y,native:b,timestamp:T,mapPoint:yv(t,d,y),cancelable:S,stopPropagation:()=>e.stopPropagation(),defer:C=>e.defer(C),preventDefault:()=>e.preventDefault()}}function yv(t,e,i){return t.toMap(_n(e,i),{exclude:[]})}function ywt(t){const{key:e,repeat:i,native:n}=t.data,{cancelable:a,timestamp:d}=t;return{type:"key-down",key:e,repeat:i,native:n,timestamp:d,cancelable:a,stopPropagation:()=>t.stopPropagation(),defer:y=>t.defer(y),preventDefault:()=>t.preventDefault()}}function mwt(t){const{key:e,native:i}=t.data,{cancelable:n,timestamp:a}=t;return{type:"key-up",key:e,native:i,timestamp:a,cancelable:n,stopPropagation:()=>t.stopPropagation(),defer:d=>t.defer(d),preventDefault:()=>t.preventDefault()}}function _y(t,e){const{x:i,y:n,button:a,buttons:d,native:y,eventId:b}=t.data,S=y.pointerId,T=y.pointerType,{cancelable:C,timestamp:k}=t;return{type:e,x:i,y:n,pointerId:S,pointerType:T,button:a,buttons:d,native:y,timestamp:k,eventId:b,cancelable:C,stopPropagation:()=>t.stopPropagation(),defer:D=>t.defer(D),preventDefault:()=>t.preventDefault()}}function gwt(t){const{x:e,y:i,buttons:n,native:a,eventId:d}=t.data.currentEvent,{button:y}=t.data.startEvent,b=t.data.startEvent.native.pointerId,S=t.data.startEvent.native.pointerType,T=t.data.action,C={x:t.data.startEvent.x,y:t.data.startEvent.y},{cancelable:k,timestamp:D}=t;return{type:"pointer-drag",x:e,y:i,pointerId:b,pointerType:S,button:y,buttons:n,action:T,origin:C,native:a,timestamp:D,eventId:d,cancelable:k,stopPropagation:()=>t.stopPropagation(),defer:z=>t.defer(z),preventDefault:()=>t.preventDefault()}}function vwt(t){const{cancelable:e,data:i,timestamp:n}=t,{x:a,y:d,deltaY:y,native:b}=i;return{type:"mouse-wheel",x:a,y:d,deltaY:y,native:b,timestamp:n,cancelable:e,stopPropagation:()=>t.stopPropagation(),defer:S=>t.defer(S),preventDefault:()=>t.preventDefault()}}function bwt(t){const{action:e,state:i,device:n}=t.data,{cancelable:a,timestamp:d}=t,{buttons:y,axes:b}=i;return{type:"gamepad",device:n,timestamp:d,action:e,buttons:y,axes:b,cancelable:a,stopPropagation:()=>t.stopPropagation(),defer:S=>t.defer(S),preventDefault:()=>t.preventDefault()}}var xg,GP,qP;(function(t){t[t.USER=0]="USER",t[t.MANAGER=1]="MANAGER"})(xg||(xg={})),(function(t){t[t.None=0]="None",t[t.Unfocused=1]="Unfocused",t[t.Focused=2]="Focused",t[t.Unselected=4]="Unselected",t[t.Selected=8]="Selected",t[t.All=15]="All"})(GP||(GP={})),(function(t){t[t.None=0]="None",t[t.Custom1=16]="Custom1",t[t.Custom2=32]="Custom2",t[t.Custom3=64]="Custom3",t[t.Custom4=128]="Custom4",t[t.Custom5=256]="Custom5",t[t.Custom6=512]="Custom6",t[t.Custom7=1024]="Custom7",t[t.Custom8=2048]="Custom8",t[t.Custom9=4096]="Custom9",t[t.Custom10=8192]="Custom10",t[t.Custom11=16384]="Custom11",t[t.Custom12=32768]="Custom12",t[t.All=65520]="All"})(qP||(qP={}));const wwt="z",_wt="r",IV={cancel:"Escape",complete:"Enter"},j$t={...IV,redo:_wt,undo:wwt,center:"Alt",constraint:"Shift",delete:["Backspace","Delete"],vertexAdd:"f",pan:" "},z$t={toggle:"Control"},U$t={enterInputMode:"Tab",commit:"Enter",discard:"Escape",next:"Tab"},F$t={moveUp:{key:"ArrowUp",modifier:"Shift",repeats:!0},moveDown:{key:"ArrowDown",modifier:"Shift",repeats:!0},moveLeft:{key:"ArrowLeft",modifier:"Shift",repeats:!0},moveRight:{key:"ArrowRight",modifier:"Shift",repeats:!0},scaleUp:{key:"+",modifier:"Shift"},scaleDown:{key:"-",modifier:"Shift"},factorModifier:{key:RV,continuePropagation:!0},toggleOpacity:"t",preserveAspectRatio:{key:"Shift",continuePropagation:!0},rotateIncrements:{key:"Shift",continuePropagation:!0}};let B$t=class{constructor(){this._bindings=new Map}add(e,i){return this.addToggle(e,(n=>{n.type==="key-down"&&i(n)}))}addToggle(e,i){const n=Swt.fromDefinition(e,i),a=zg(this._bindings,n.key,(()=>[]));return a.push(n),ui((()=>uT(a,n)))}register(e,i=pu.WIDGET){return Vf([e.on("key-down",(n=>this.dispatch(e.inputManager,n)),i),e.on("key-up",(n=>this.dispatch(e.inputManager,n)),i)])}dispatch(e,i){const n=i.key,a=this._bindings.get(n);if(a)for(const d of a)d.process(e,i)}},Swt=class S8{constructor(e,i,n,a,d){this.key=e,this.modifiers=i,this.repeats=n,this.continuePropagation=a,this.callback=d}process(e,i){if(!(i.key!==this.key||"repeat"in i&&i.repeat&&!this.repeats)){for(const n of this.modifiers)if(!e.isModifierKeyDown(n))return;this.continuePropagation||i.stopPropagation(),this.callback(i)}}static fromDefinition(e,i){if(typeof e=="string")return new S8(e,[],!1,!1,i);const{key:n,modifier:a,repeats:d,continuePropagation:y}=e;return new S8(n,a?Array.isArray(a)?a:[a]:[],!!d,!!y,i)}};function xwt(t){return[t.on("before-add",(e=>{const i=e.item;if(i==null||t.includes(i))return ae.getLogger("esri.views.interactive.interactiveToolUtils").warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),void e.preventDefault();i.onAdd()})),t.on("after-remove",(e=>{const i=e.item;i.active&&(i.view.activeTool=null),i.destroy()}))]}function x8(t){return t.visible&&t.getEditableFlag!=null&&t.getEditableFlag(xg.USER)&&t.getEditableFlag(xg.MANAGER)}function Twt(t){return t.type==="key-down"&&t.key===IV.cancel}function Ba(t){return _n(t.x,t.y)}function DV(t,e){const i=(t instanceof HTMLElement?t:t.surface)?.getBoundingClientRect();return i?_n(e.clientX-i.left,e.clientY-i.top):_n(0,0)}function LV(t,e){return e instanceof Event?DV(t,e):Ba(e)}function jV(t){if(t instanceof Event)return!0;if(typeof t=="object"&&"type"in t)switch(t.type){case"click":case"double-click":case"pointer-down":case"pointer-drag":case"pointer-enter":case"pointer-leave":case"pointer-up":case"pointer-move":case"immediate-click":case"immediate-double-click":case"hold":case"drag":case"mouse-wheel":return!0;default:return!1}return!1}let Ewt=class{constructor(){this._pointerLocations=new Map,this._hoveredManipulators=new Map,this._grabbedManipulators=new Map,this._draggedManipulators=new Map,this._stopDrag=!1,this._externallyDragging=!1,this._revertToNullActiveTool=!1,this._cursor=null}get cursor(){return this._cursor}hasFocusedManipulators(){return this._grabbedManipulators.size>0||this._draggedManipulators.size>0}handleInputEvent(e,i){const n=()=>e.stopPropagation();switch(e.type){case"pointer-move":VP(e.pointerType)&&this._pointerLocations.set(e.pointerId,{x:e.x,y:e.y,pointerType:e.pointerType});break;case"drag":this._grabbedManipulators.size>0?this._stopDrag=!0:e.action==="start"?this._externallyDragging=!0:e.action==="end"&&(this._externallyDragging=!1),this._stopDrag&&(n(),e.action==="end"&&(this._stopDrag=!1));break;case"pointer-down":{if(!WP(e))break;const a=Ba(e),d=Gd(a,e.pointerType,i.forEachTool);if(d==null)break;const y=d.manipulator,b=d.tool;y==null||b==null||!y.interactive||y.grabbable&&y.grabbableForEvent(e)||!y.grabbing||y.dragging||this._releaseManipulatorBeforeDragging(y,e,i),y!=null&&b!=null&&y.interactive&&y.grabbable&&y.grabbableForEvent(e)&&!y.grabbing&&(this._grabbedManipulators.set(e.pointerId,{manipulator:y,tool:b,start:a,pointerType:e.pointerType}),this._grabbedManipulators.size===1&&i.activeTool==null&&(this._revertToNullActiveTool=!0,i.setActiveTool(d.tool)),y.grabbing=!0,y.events.emit("grab-changed",{action:"start",pointerType:e.pointerType,screenPoint:a}),n());break}case"pointer-up":this._draggedManipulators.has(e.pointerId)||this._handlePointerEnd(e,i);break;case"pointer-drag":{if(!WP(e))break;const a=this._grabbedManipulators.get(e.pointerId),d=a?.manipulator,y=a?.tool;if(d==null||y==null)break;const b=Ba(e);b.x=Ea(b.x,0,i.view.width),b.y=Ea(b.y,0,i.view.height);const S=a.start,T=this._draggedManipulators.get(e.pointerId);switch(e.action){case"start":case"update":e.action!=="update"&&this._grabbedManipulators.size!==1||(d.dragging=!0,T?d.events.emit("drag",{action:"update",start:S,screenPoint:b}):d.events.emit("drag",{action:"start",start:S,screenPoint:b,pointerType:e.pointerType}),this._draggedManipulators.set(e.pointerId,{tool:y,manipulator:d,start:S}));break;case"end":d.dragging=!1,T&&d.events.emit("drag",{action:"end",start:S,screenPoint:b}),this._draggedManipulators.delete(e.pointerId),this._handlePointerEnd(e,i)}n();break}case"immediate-click":{const a=Ba(e),d=Gd(a,e.pointerType,i.forEachTool);if(Mwt(e)||i.forEachTool((T=>{if((d==null||d.tool!==T||T.automaticManipulatorSelection)&&T.manipulators){let C=!1;T.manipulators.forEach((({manipulator:k})=>{k.selected&&(k.selected=!1,C=!0)})),C&&T.onManipulatorSelectionChanged&&T.onManipulatorSelectionChanged()}})),d==null)break;const{manipulator:y,tool:b}=d;if(!y.interactive)break;y.selectable&&b.automaticManipulatorSelection&&(y.selected=!y.selected,b.onManipulatorSelectionChanged&&b.onManipulatorSelectionChanged());const S=e.native.shiftKey;y.events.emit("immediate-click",{screenPoint:a,button:e.button,pointerType:e.pointerType,shiftKey:S,stopPropagation:n}),P_(y,n);break}case"click":{const a=Ba(e),d=Gd(a,e.pointerType,i.forEachTool),y=d?.manipulator;if(y==null||!y.interactive)break;const b=e.native.shiftKey;y.events.emit(e.type,{screenPoint:a,button:e.button,pointerType:e.pointerType,shiftKey:b}),n();break}case"double-click":{const a=Ba(e),d=Gd(a,e.pointerType,i.forEachTool),y=d!=null?d.manipulator:null;if(y==null||!y.interactive)break;const b=e.native.shiftKey;y.events.emit("double-click",{screenPoint:a,button:e.button,pointerType:e.pointerType,shiftKey:b,stopPropagation:n}),P_(y,n);break}case"immediate-double-click":{const a=Ba(e),d=Gd(a,e.pointerType,i.forEachTool),y=d!=null?d.manipulator:null;if(y==null||!y.interactive)break;const b=e.native.shiftKey;y.events.emit("immediate-double-click",{screenPoint:a,button:e.button,pointerType:e.pointerType,shiftKey:b,stopPropagation:n}),e.pointerType==="mouse"&&P_(y,n);break}}this._onFocusChange(i.forEachTool)}_releaseManipulatorBeforeDragging(e,i,n){e.grabbing=!1,e.events.emit("grab-changed",{action:"end",pointerType:i.pointerType,screenPoint:Ba(i)}),this._grabbedManipulators.forEach((({manipulator:a},d)=>{a===e&&this._grabbedManipulators.delete(d)})),this._afterManipulatorRelease(n.setActiveTool)}_handlePointerEnd(e,i){const n=this._grabbedManipulators.get(e.pointerId)?.manipulator;n!=null&&n.grabbing&&(n.grabbing=!1,n.events.emit("grab-changed",{action:"end",pointerType:e.pointerType,screenPoint:Ba(e)}),this._grabbedManipulators.delete(e.pointerId),this._afterManipulatorRelease(i.setActiveTool))}_onFocusChange(e){this._updateCursor(),this._updateFocusedManipulatorTools(e)}_updateCursor(){this._grabbedManipulators.size>0?this._cursor=HP(this._grabbedManipulators)||"grabbing":this._hoveredManipulators.size>0?this._cursor=HP(this._hoveredManipulators)||"pointer":this._cursor=null}_updateFocusedManipulatorTools(e){const i=new Set,n=new Set;this._grabbedManipulators.forEach((({tool:a})=>{i.add(a)})),this._hoveredManipulators.forEach((({tool:a})=>{n.add(a)})),e((a=>{a.hasGrabbedManipulators=i.has(a),a.hasHoveredManipulators=n.has(a);const d=this._grabbedManipulators.values(),y=htt(d,(({tool:b})=>b===a));a.firstGrabbedManipulator=y!=null?y.manipulator:null}))}clearPointers(e,{forEachTool:i,setActiveTool:n},a=!0,d){const y=(b,S)=>b===e&&(d==null||d===S);this._grabbedManipulators.forEach((({tool:b,manipulator:S,pointerType:T},C)=>{y(b,S)&&(this._grabbedManipulators.delete(C),S.grabbing=!1,S.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:T}))})),this._draggedManipulators.forEach((({tool:b,manipulator:S},T)=>{y(b,S)&&(this._draggedManipulators.delete(T),S.dragging=!1,S.events.emit("drag",{action:"cancel"}))})),a&&this._hoveredManipulators.forEach((({tool:b,manipulator:S},T)=>{y(b,S)&&(this._hoveredManipulators.delete(T),S.hovering=!1)})),this._afterManipulatorRelease(n),this._onFocusChange(i)}updateHoveredStateFromKnownPointers(e){this._pointerLocations.forEach(((i,n)=>{this._updateHoveredStateForPointerAtScreenPosition(_n(i.x,i.y),n,i.pointerType,e)}))}handleHoverEvent(e,i){const n=e.type;n!=="pointer-up"&&n!=="immediate-click"&&n!=="pointer-move"||!VP(e.pointerType)||(n!=="pointer-up"&&this._externallyDragging?this._clearHoveredManipulatorStates(e.pointerId):this._updateHoveredStateForPointerAtScreenPosition(Ba(e),e.pointerId,e.pointerType,i))}_updateHoveredStateForPointerAtScreenPosition(e,i,n,a){let d=Gd(e,n,a);const y=this._hoveredManipulators.get(i)?.manipulator;d==null||d.manipulator.interactive||(d=null),d!=null&&y===d.manipulator||(y!=null&&(y.hovering=!1),d!=null?(d.manipulator.hovering=!0,this._hoveredManipulators.set(i,d)):this._hoveredManipulators.delete(i),this._onFocusChange(a))}_afterManipulatorRelease(e){this._grabbedManipulators.size===0&&this._revertToNullActiveTool&&(e(null),this._revertToNullActiveTool=!1)}_clearHoveredManipulatorStates(e){this._hoveredManipulators.forEach((({manipulator:i},n)=>{e===n&&(this._hoveredManipulators.delete(e),i.hovering=!1)}))}};function HP(t){for(const{manipulator:e}of t.values())if(e!=null&&e.interactive){if(e.grabbing&&e.grabCursor)return e.grabCursor;if(e.cursor)return e.cursor}return null}function Gd(t,e,i){let n=null;return i((a=>{if(a.manipulators==null||!x8(a))return!1;const d=a.manipulators.intersect(t,e);return d!=null&&(n={tool:a,manipulator:d},!0)})),n}function VP(t){return t==="mouse"}function WP(t){return t.pointerType!=="mouse"||t.button===0}function Mwt(t){return!!t.native.shiftKey}function P_(t,e){t?.consumesClicks&&e()}const JP="attached",I_="tools",Awt=1e3;let Ga=class extends ve{constructor(e){super(e),this._updatingHandles=new wf,this._clock=zp,this._manipulatorState=new Ewt,this.tools=new me,this.cursor=null,this._interacting=!1,this._interactingTimeout=Awt,this._interactingTimeoutHandle=null,this._forEachTool=i=>{for(const n of this.tools.items)if(i(n))return}}initialize(){this.addHandles([this.view.on($V,(e=>{this._handleInputEvent(e)}),pu.TOOL),...xwt(this.tools),this.tools.on("before-add",(({item:e})=>{this._updateToolEditableFlag(e)})),this.tools.on("before-remove",(({item:e})=>{this._manipulatorState.clearPointers(e,this._manipulatorStateEventArgs),this._updateCursor()})),this.tools.on("change",(()=>{this._refreshToolWatchers()}))])}destroy(){this.activeTool=null,this.tools.drain((e=>e.destroy())),this._clearInteractingTimeout(),this._interacting=!1,this._updatingHandles.destroy()}get _manipulatorStateEventArgs(){return{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:e=>{this.activeTool=e},view:this.view}}set activeTool(e){if(e!=null&&!this.view.ready)return void ae.getLogger(this).error("Cannot set active tool while view is not ready.");if(e===this.activeTool)return;const i=this.activeTool;this._set("activeTool",e),i?.deactivate(),e?.activate(),this._removeIncompleteTools(e);for(const n of this.tools){this._updateToolEditableFlag(n);const a=x8(n);this.activeTool!=null&&a||this._manipulatorState.clearPointers(n,this._manipulatorStateEventArgs,!a)}this._updateCursor()}get updating(){return this._updatingHandles.updating||this.tools.some((e=>e.updating))}get interacting(){return this._interacting}_clearInteractingTimeout(){this._interactingTimeoutHandle=or(this._interactingTimeoutHandle)}_startInteractingTimeout(){this._clearInteractingTimeout(),this._interactingTimeoutHandle=this._clock.setTimeout((()=>this._interacting=!1),this._interactingTimeout)}attach(){this.view.type==="3d"?this.addHandles([Ce((()=>{const{state:e}=this.view;return"camera"in e&&e.camera}),(()=>this._forEachManipulator((e=>e.onViewChange())))),this.view.elevationProvider?.on("elevation-change",(e=>this._forEachManipulator((i=>i.onElevationChange(e)))))],JP):this.addHandles(Ce((()=>this.view.extent),(()=>this._forEachManipulator((e=>e.onViewChange())))))}detach(){this.activeTool=null,this.tools.removeAll(),this.removeHandles(JP),this._clearInteractingTimeout(),this._interacting=!1}_forEachManipulator(e){this._forEachTool((i=>{i.manipulators&&i.manipulators.forEach((({manipulator:n})=>e(n,i)))}))}_handleInputEvent(e){let i=!1;const n={...e,stopPropagation:()=>{i=!0,e.stopPropagation()}};this.activeTool!=null?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(n):this._forEachTool((a=>{!i&&a.visible&&a.handleInputEvent(n)})),!i&&Twt(e)&&this.activeTool&&(e.stopPropagation(),e.preventDefault(),this.activeTool.cancel(),this.activeTool=null),this._manipulatorState.handleInputEvent(n,this._manipulatorStateEventArgs),i||this.activeTool==null||this.activeTool.handleInputEventAfter(n),this._manipulatorState.handleHoverEvent(n,this._forEachTool),this._updateCursor(),e.type==="pointer-move"&&(this._manipulatorState.hasFocusedManipulators()||this.activeTool)&&(this._interacting=!0,this._startInteractingTimeout())}_refreshToolWatchers(){this.removeHandles(I_),this._forEachTool((e=>{if(e instanceof ve){const i=Ce((()=>[e.cursor,e.visible,e.editable]),(()=>{x8(e)||this._manipulatorState.clearPointers(e,this._manipulatorStateEventArgs),this._updateCursor()}));this.addHandles(i,I_)}e.manipulators&&this.addHandles([e.manipulators.on("after-remove",(i=>{this._manipulatorState.clearPointers(e,this._manipulatorStateEventArgs,!0,i.item.manipulator)})),e.manipulators.on("change",(()=>{this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}))],I_)})),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}_updateToolEditableFlag(e){e.setEditableFlag?.(xg.MANAGER,this.activeTool==null||e===this.activeTool)}_updateCursor(){let e=this._manipulatorState.cursor;e==null&&this._forEachTool((i=>!(i.cursor==null||!i.visible)&&(e=i.cursor,!0))),this._get("cursor")!==e&&this._set("cursor",e)}_removeIncompleteTools(e){this.tools.filter((i=>(e==null||i!==e)&&!i.created&&i.removeIncompleteOnCancel)).forEach((i=>{this.tools.remove(i)}))}get test(){}};E([N({constructOnly:!0,nonNullable:!0})],Ga.prototype,"view",void 0),E([N({value:null})],Ga.prototype,"activeTool",null),E([N({readOnly:!0,type:me})],Ga.prototype,"tools",void 0),E([N({readOnly:!0})],Ga.prototype,"cursor",void 0),E([N({readOnly:!0})],Ga.prototype,"updating",null),E([N()],Ga.prototype,"_interacting",void 0),E([N({readOnly:!0})],Ga.prototype,"interacting",null),Ga=E([ut("esri.views.ToolViewManager")],Ga);const Rwt=new ni("cyan"),Cwt=1,Owt=.25,$wt=new ni("black"),Nwt=.4,kwt=.2,V$t=.25,zV="default",Pwt="temporary",Iwt=new ni("yellow");var T8;let Zs=T8=class extends ve{constructor(t){super(t),this.name=zV,this.color=Rwt.clone(),this.haloColor=null,this.haloOpacity=Cwt,this.fillOpacity=Owt,this.shadowColor=$wt.clone(),this.shadowOpacity=Nwt,this.shadowDifference=kwt,this.haloWidth=2.1,this.haloBlur=.8/this.haloWidth}equals(t){return this.color.equals(t.color)&&(this.haloColor||this.color).equals(t.haloColor||t.color)&&this.haloOpacity===t.haloOpacity&&this.fillOpacity===t.fillOpacity&&this.haloWidth===t.haloWidth&&this.haloBlur===t.haloBlur&&this.shadowColor.equals(t.shadowColor)&&this.shadowOpacity===t.shadowOpacity&&this.shadowDifference===t.shadowDifference}clone(){return new T8({...this,color:this.color.clone(),haloColor:this.haloColor?.clone(),shadowColor:this.shadowColor?.clone()})}assignFrom(t){this.color=t.color.clone(),this.haloColor=t.haloColor?.clone(),this.haloOpacity=t.haloOpacity,this.fillOpacity=t.fillOpacity,this.shadowColor=t.shadowColor.clone(),this.shadowDifference=t.shadowDifference,this.shadowOpacity=t.shadowOpacity,this.haloBlur=t.haloBlur,this.haloWidth=t.haloWidth}};E([N({type:String,constructOnly:!0,nonNullable:!0})],Zs.prototype,"name",void 0),E([N({type:ni,nonNullable:!0})],Zs.prototype,"color",void 0),E([N({type:ni})],Zs.prototype,"haloColor",void 0),E([N({nonNullable:!0})],Zs.prototype,"haloOpacity",void 0),E([N({nonNullable:!0})],Zs.prototype,"fillOpacity",void 0),E([N({type:ni,nonNullable:!0})],Zs.prototype,"shadowColor",void 0),E([N({nonNullable:!0})],Zs.prototype,"shadowOpacity",void 0),E([N({nonNullable:!0})],Zs.prototype,"shadowDifference",void 0),E([N({nonNullable:!0})],Zs.prototype,"haloWidth",void 0),E([N({nonNullable:!0})],Zs.prototype,"haloBlur",void 0),Zs=T8=E([ut("esri.views.support.HighlightOptions")],Zs);const jc=Zs;function Dwt(){return new(me.ofType(jc))([new jc({name:zV}),new jc({name:Pwt,color:Iwt})])}let r0=class extends ve{constructor(e){super(),this.nativeIndex=null,this._detectedDeviceType="unknown",e.mapping==="standard"?this._detectedDeviceType="standard":Lwt.test(e.id)?this._detectedDeviceType="spacemouse":this._detectedDeviceType="unknown",this.nativeIndex=e.index}get native(){const e=navigator.getGamepads?navigator.getGamepads():[];return this.nativeIndex!=null&&this.nativeIndex<e.length?e[this.nativeIndex]:null}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return jwt[this.deviceType]}};E([N({nonNullable:!0,readOnly:!0})],r0.prototype,"nativeIndex",void 0),E([N({type:String,readOnly:!0})],r0.prototype,"deviceType",null),E([N({type:Number,readOnly:!0})],r0.prototype,"axisThreshold",null),r0=E([ut("esri.views.input.gamepad.GamepadInputDevice")],r0);const SM=r0,Lwt=new RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),jwt={standard:.15,spacemouse:.025,unknown:0};let cm=class extends ve{constructor(...e){super(...e),this.devices=new me,this.enabledFocusMode="document"}};E([N({type:me.ofType(SM),readOnly:!0})],cm.prototype,"devices",void 0),E([N({type:["document","view","none"]})],cm.prototype,"enabledFocusMode",void 0),cm=E([ut("esri.views.input.gamepad.GamepadSettings")],cm);const zwt=cm;let mb=class extends ve{constructor(){super(...arguments),this.gamepad=new zwt}};E([N({readOnly:!0})],mb.prototype,"gamepad",void 0),mb=E([ut("esri.views.input.Input")],mb);const Uwt=mb,UV=()=>ci.respectPrefersReducedMotion&&window.matchMedia("(prefers-reduced-motion: reduce)").matches,D_=()=>N({type:["pan","rotate","zoom","none"],nonNullable:!0});let Vh=class extends ve{constructor(e){super(e),this.dragPrimary="pan",this.dragSecondary="rotate",this.dragTertiary="zoom",this.mouseWheel="zoom"}};E([D_()],Vh.prototype,"dragPrimary",void 0),E([D_()],Vh.prototype,"dragSecondary",void 0),E([D_()],Vh.prototype,"dragTertiary",void 0),E([N({type:["zoom","none"],nonNullable:!0})],Vh.prototype,"mouseWheel",void 0),Vh=E([ut("esri.views.navigation.NavigationActionMap")],Vh);const xM=Vh;let uc=class extends ve{constructor(e){super(e),this.enabled=!0,this.device=null,this.mode="pan",this.tiltDirection="forward-down",this.velocityFactor=1}};E([N({type:Boolean,nonNullable:!0})],uc.prototype,"enabled",void 0),E([N({type:SM})],uc.prototype,"device",void 0),E([N({type:["pan","zoom"],nonNullable:!0})],uc.prototype,"mode",void 0),E([N({type:["forward-down","forward-up"],nonNullable:!0})],uc.prototype,"tiltDirection",void 0),E([N({type:Number,nonNullable:!0})],uc.prototype,"velocityFactor",void 0),uc=E([ut("esri.views.navigation.gamepad.GamepadSettings")],uc);const FV=uc;let cc=class extends ve{constructor(e){super(e),this.actionMap=new xM,this.browserTouchPanEnabled=!0,this.gamepad=new FV,this.momentumEnabled=!0}get effectiveMomentumEnabled(){return this.momentumEnabled&&!UV()}get mouseWheelZoomEnabled(){return this.actionMap.mouseWheel==="zoom"}set mouseWheelZoomEnabled(e){UL(ae.getLogger(this),"mouseWheelZoomEnabled",{replacement:"actionMap.mouseWheel",version:"4.32",warnOnce:!0}),this.actionMap.mouseWheel=e?"zoom":"none"}};E([N({type:xM,nonNullable:!0})],cc.prototype,"actionMap",void 0),E([N({type:Boolean})],cc.prototype,"browserTouchPanEnabled",void 0),E([N({type:FV,nonNullable:!0})],cc.prototype,"gamepad",void 0),E([N({type:Boolean})],cc.prototype,"momentumEnabled",void 0),E([N({type:Boolean})],cc.prototype,"mouseWheelZoomEnabled",null),cc=E([ut("esri.views.navigation.Navigation")],cc);const Q5=cc;function Q$t(t,e,i){const n=BV(t),a=e,d=Fwt(n,a,i);if(n){const y=Ms.deriveUnitFromSR(n,t.spatialReference).heightUnit;if(!i&&y!==n.heightUnit){const b=new Lt("layerview:unmatched-height-unit",`The vertical units of the layer must match the horizontal units (${y})`,{horizontalUnit:y});return new Lt("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:n,error:b})}}if(!Bwt(t)||d===Os.Unsupported)return new Lt("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:n});switch(d){case Os.Units:{const y=n?.heightUnit||"unknown",b=a?.heightUnit||"unknown",S=new Lt("layerview:incompatible-height-unit",`The vertical units of the layer (${y}) must match the vertical units of the scene (${b})`,{layerUnit:y,sceneUnit:b});return new Lt("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:n,sceneHeightModelInfo:a,error:S})}case Os.HeightModel:{const y=n?.heightModel||"unknown",b=a?.heightModel||"unknown",S=new Lt("layerview:incompatible-height-model",`The height model of the layer (${y}) must match the height model of the scene (${b})`,{layerHeightModel:y,sceneHeightModel:b});return new Lt("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:n,sceneHeightModelInfo:a,error:S})}case Os.CRS:{const y=n?.vertCRS||"unknown",b=a?.vertCRS||"unknown",S=new Lt("layerview:incompatible-vertical-datum",`The vertical datum of the layer (${y}) must match the vertical datum of the scene (${b})`,{layerDatum:y,sceneDatum:b});return new Lt("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:n,sceneHeightModelInfo:a,error:S})}}return null}function Fwt(t,e,i){if(!YP(t)||!YP(e))return Os.Unsupported;if(t==null||e==null)return Os.Ok;if(!i&&t.heightUnit!==e.heightUnit)return Os.Units;if(t.heightModel!==e.heightModel)return Os.HeightModel;switch(t.heightModel){case"gravity-related-height":return Os.Ok;case"ellipsoidal":return t.vertCRS===e.vertCRS?Os.Ok:Os.CRS;default:return Os.Unsupported}}var Os;function YP(t){return t==null||t.heightModel!=null&&t.heightUnit!=null}function Bwt(t){return"heightModelInfo"in t&&t.heightModelInfo!=null||t.spatialReference!=null||!HV(t)}function BV(t){if(t.type==="integrated-mesh-3dtiles")return null;const e=t.url?Bg(t.url):void 0;return!(t.spatialReference?.vcsWkid==null&&e!=null&&e.serverType==="ImageServer")&&GV(t)&&t.heightModelInfo?t.heightModelInfo:HV(t)?Ms.deriveUnitFromSR(qwt,t.spatialReference):null}function GV(t){return"heightModelInfo"in t}function qV(t){if(t.type==="unknown"||!("capabilities"in t))return!1;switch(t.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"subtype-group":case"ogc-feature":case"oriented-imagery":case"wfs":case"knowledge-graph-sublayer":return!0;default:return!1}}function HV(t){return qV(t)?!!(t.capabilities&&t.capabilities.data&&t.capabilities.data.supportsZ):VV(t)}function Gwt(t){return t.layers!=null||VV(t)||qV(t)||GV(t)}function VV(t){switch(t.type){case"building-scene":case"elevation":case"integrated-mesh":case"integrated-mesh-3dtiles":case"point-cloud":case"scene":case"voxel":return!0;case"base-dynamic":case"base-elevation":case"base-tile":case"bing-maps":case"catalog":case"catalog-footprint":case"catalog-dynamic-group":case"csv":case"dimension":case"geojson":case"feature":case"subtype-group":case"geo-rss":case"graphics":case"group":case"imagery":case"imagery-tile":case"kml":case"knowledge-graph":case"link-chart":case"knowledge-graph-sublayer":case"line-of-sight":case"map-image":case"map-notes":case"media":case"ogc-feature":case"open-street-map":case"oriented-imagery":case"parquet":case"route":case"stream":case"tile":case"unknown":case"unsupported":case"vector-tile":case"video":case"viewshed":case"wcs":case"web-tile":case"wfs":case"wms":case"wmts":case null:return!1}return!1}(function(t){t[t.Ok=0]="Ok",t[t.Units=1]="Units",t[t.HeightModel=2]="HeightModel",t[t.CRS=3]="CRS",t[t.Unsupported=4]="Unsupported"})(Os||(Os={}));const qwt=new Ms({heightModel:"gravity-related-height"});var Rw;(function(t){t[t.Global=1]="Global",t[t.Local=2]="Local"})(Rw||(Rw={}));let E8,L_=null;async function Hwt(t){L_||(L_=te(()=>import("./geometryServiceUtils-t9v6eQCL.js"),__vite__mapDeps([254,255])).then((e=>E8=e))),await L_,dr(t)}async function WV(t,e,i,n){if(!t)return null;const a=t.spatialReference;return nh()||Ma(a,e)?Xf(t,e):E8?E8.projectGeometry(t,e,i,n):(await Promise.race([Hwt(n),Zc(n)]),WV(t,e,i,n))}async function tNt(t,e){try{return t?.spatialReference?await GH(t,e):null}catch{return null}}let Fi=class extends ve{constructor(e){super(e),this.required={extent:!1,heightModelInfo:!1,tileInfo:!1},this.defaultSpatialReference=null,this.userSpatialReference=null,this.sourcePreloadCount=10,this.priorityCollection=null,this.requiresExtentInSpatialReference=!0,this.suspended=!1,this._projectExtentTask={task:null,input:null,output:null,spatialReference:null}}destroy(){this._projectExtentTask.task&&(this._projectExtentTask.task=fp(this._projectExtentTask.task)),this._set("map",null)}get ready(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}get heightModelInfoReady(){return!this._heightModelInfoTask.updating}get spatialReference(){return this.userSpatialReference??this._spatialReferenceTask.spatialReference}get extent(){return this._extentTask.extent}get heightModelInfo(){return this._heightModelInfoTask.heightModelInfo}get vcsWkid(){return this._heightModelInfoTask.vcsWkid}get latestVcsWkid(){return this._heightModelInfoTask.latestVcsWkid}get viewingMode(){return this.userSpatialReference==null||this.userSpatialReference.equals(this._spatialReferenceTask.spatialReference)?this._spatialReferenceTask.viewingMode:null}get tileInfo(){return this._tileInfoTask.tileInfo}get mapCollections(){const e=this.map?.(),i=[];return this.priorityCollection!=null&&i.push(this.priorityCollection),i.push({parent:e?.basemap,layers:e?.basemap?.baseLayers},{layers:e?.layers},{parent:e?.ground,layers:e?.ground?.layers},{parent:e?.basemap,layers:e?.basemap?.referenceLayers}),i}get _spatialReferenceTask(){if(this.suspended)return this._get("_spatialReferenceTask")??{updating:!1};let e;if(this._collectLayers(this.mapCollections,(n=>{const a=this._getSupportedSpatialReferences(n);if(a.length>0){const d=this._narrowDownSpatialReferenceCandidates(e,a);d!=null&&(e=d)}return e?.length===1}))&&e?.length!==1)return{updating:!0};const i=this._pickSpatialReferenceCandidate(e);return{spatialReference:i?.spatialReference??null,viewingMode:i?.viewingMode??null,updating:!1}}get _tileInfoTask(){if(!this.required.tileInfo)return this._get("_tileInfoTask")??{updating:!1};const e=this.map?.(),i=this.spatialReference;if(!i)return{updating:this._spatialReferenceTask.updating};let n;const a=this._collectLayers([{parent:e?.basemap,layers:e?.basemap?.baseLayers},{layers:e?.layers}],(d=>!(!("tileInfo"in d)||!d.tileInfo?.spatialReference.equals(i))&&(n=d,!0)),(d=>"tileInfo"in d));return n?{tileInfo:n.tileInfo,updating:!1}:{updating:a}}get _heightModelInfoTask(){if(!this.required.heightModelInfo||this.suspended&&this._get("_heightModelInfoTask")?.heightModelInfo)return this._get("_heightModelInfoTask")??{updating:!1};let e={};const i=this._collectLayers(this.mapCollections,(n=>{const a=BV(n);return!!a&&(e={heightModelInfo:a,vcsWkid:n.spatialReference?.vcsWkid,latestVcsWkid:n.spatialReference?.latestVcsWkid},!0)}),(n=>Gwt(n)));return{...e,updating:i}}get _extentCandidatesTask(){if(this.suspended||!this.required.extent)return this._get("_extentCandidatesTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const e=[],i=this._collectLayers(this.mapCollections,(n=>{const a="fullExtents"in n&&n.fullExtents||(n.fullExtent!=null?[n.fullExtent]:[]),d=this.requiresExtentInSpatialReference?null:a[0],y=a.find((b=>b.spatialReference.equals(this.spatialReference)))??d;if(y)return e.push({extent:y,layer:n}),!0;if(this._getSupportedSpatialReferences(n).length>0)for(const b of a)e.push({extent:b,layer:n});return!1}));return{candidates:e,updating:i}}get _extentTask(){const{candidates:e,updating:i}=this._extentCandidatesTask;if(i)return{updating:i};if(e==null||e.length===0)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const n=this._pickExtentCandidate(e),a=this.spatialReference;return n.extent.equals(this._projectExtentTask.input)&&a.equals(this._projectExtentTask.spatialReference)?{extent:this._projectExtentTask.output,updating:this._projectExtentTask.task!=null&&!this._projectExtentTask.task.finished}:(this._projectExtentTask.task!=null&&(this._projectExtentTask.task=fp(this._projectExtentTask.task)),this._projectExtentTask={input:n.extent.clone(),output:null,spatialReference:a.clone(),task:cM((async d=>{try{const y=await WV(n.extent,a,"portalItem"in n.layer?n.layer.portalItem:void 0,d);this._projectExtentTask={...this._projectExtentTask,task:null,output:y}}catch{if(Go(d))return;this._projectExtentTask={...this._projectExtentTask,task:null}}}))},{updating:!0})}_narrowDownSpatialReferenceCandidates(e,i){if(e==null)return i;const n=new Array;for(const a of e)for(const d of i){if(!a.spatialReference.equals(d.spatialReference))continue;const y=Wwt(a.viewingMode,d.viewingMode);if(y!==!1){n.push({spatialReference:a.spatialReference,viewingMode:y});break}}return n.length>0?n:null}_pickSpatialReferenceCandidate(e){const i=this.defaultSpatialReference;return e==null||e.length<1?i?{spatialReference:i,viewingMode:null}:null:(i!=null&&e.length>1&&e.some((({spatialReference:n})=>n.equals(i)))&&(e=e.filter((({spatialReference:n})=>n.equals(i)))),e.length>1&&e.some((({viewingMode:n})=>n!==Rw.Local))&&(e=e.filter((({viewingMode:n})=>n!==Rw.Local))),e[0])}_getSupportedSpatialReferences(e){const i="supportedSpatialReferences"in e&&e.supportedSpatialReferences||(e.spatialReference?[e.spatialReference]:[]);if(i.length===0)return[];const n=[];for(const a of i){const d=this.getSpatialReferenceSupport(a,e);if(d!=null){const y=d.constraints??[{spatialReference:a,viewingMode:null}];for(const{spatialReference:b,viewingMode:S}of y)this.requiresExtentInSpatialReference&&this.userSpatialReference!=null&&!b.equals(this.userSpatialReference)||n.push({spatialReference:b,viewingMode:S})}}return n}_pickExtentCandidate(e){const i=this.spatialReference;return e.find((({extent:n})=>i.equals(n.spatialReference)))||e[0]}_collectLayers(e,i,n=()=>!0){switch(this._loadMaybe(this.map?.())){case"loading":return!0;case"failed":return!1}const a=new Vwt(n,i);for(const d of e)if(this._collectCollection(d,a),a.done||a.preloading===this.sourcePreloadCount)break;return a.updating}_collectCollection(e,i){if(e.layers){switch(this._loadMaybe(e.parent)){case"loading":return i.updating=!0,void++i.preloading;case"failed":return}for(const n of e.layers)if(i.layerFilter(n)){switch(this._loadMaybe(n)){case"failed":continue;case"loading":i.updating=!0,++i.preloading;break;case"loaded":if(i.updating||(i.done=i.pushLayer(n)),i.done||i.preloading===this.sourcePreloadCount)break;"layers"in n&&this._collectCollection({layers:n.layers},i)}if(i.done||i.preloading===this.sourcePreloadCount)break}}}_loadMaybe(e){return e&&"loadStatus"in e&&e.loadStatus!=null?e.loadStatus==="not-loaded"?(e.load().catch((i=>{cs(i)})),"loading"):e.loadStatus:"loaded"}};E([N()],Fi.prototype,"required",void 0),E([N({constructOnly:!0})],Fi.prototype,"map",void 0),E([N({constructOnly:!0})],Fi.prototype,"getSpatialReferenceSupport",void 0),E([N()],Fi.prototype,"defaultSpatialReference",void 0),E([N()],Fi.prototype,"userSpatialReference",void 0),E([N()],Fi.prototype,"sourcePreloadCount",void 0),E([N()],Fi.prototype,"priorityCollection",void 0),E([N()],Fi.prototype,"requiresExtentInSpatialReference",void 0),E([N()],Fi.prototype,"suspended",void 0),E([N({readOnly:!0})],Fi.prototype,"ready",null),E([N({readOnly:!0})],Fi.prototype,"heightModelInfoReady",null),E([N({readOnly:!0})],Fi.prototype,"spatialReference",null),E([N({readOnly:!0})],Fi.prototype,"extent",null),E([N({readOnly:!0})],Fi.prototype,"heightModelInfo",null),E([N({readOnly:!0})],Fi.prototype,"vcsWkid",null),E([N({readOnly:!0})],Fi.prototype,"latestVcsWkid",null),E([N({readOnly:!0})],Fi.prototype,"viewingMode",null),E([N({readOnly:!0})],Fi.prototype,"tileInfo",null),E([N({readOnly:!0})],Fi.prototype,"mapCollections",null),E([N({readOnly:!0})],Fi.prototype,"_spatialReferenceTask",null),E([N({readOnly:!0})],Fi.prototype,"_tileInfoTask",null),E([N({readOnly:!0})],Fi.prototype,"_heightModelInfoTask",null),E([N({readOnly:!0})],Fi.prototype,"_extentCandidatesTask",null),E([N()],Fi.prototype,"_extentTask",null),E([N()],Fi.prototype,"_projectExtentTask",void 0),Fi=E([ut("esri.views.support.DefaultsFromMap")],Fi);let Vwt=class{constructor(e,i){this.layerFilter=e,this.pushLayer=i,this.preloading=-1,this.updating=!1,this.done=!1}};function Wwt(t,e){return t!=null?e!=null?t===e&&t:t:e}function Jwt(t){return"tryRecycleWith"in t}let Ywt=class{constructor(e,i,n){this.layer=e,this.view=i,this.layerViewImporter=n,this._controller=new AbortController,this._deferred=qo(),this._started=!1,this.done=!1,this.promise=this._deferred.promise,_a(this._controller.signal,(()=>{this._recycleController?.abort();const a=new Lt("cancelled:layerview-create","layerview creation cancelled",{layer:e});this._deferred.reject(a)}))}tryRecycle(e){if(!this.done||!this.layerView||!Jwt(this.layerView))return null;this._recycleController?.abort(),this._recycleController=new AbortController;const i=this.layer.type,n=this._recycleController.signal;for(let a=0;a<e.length;a++){const d=e[a];if(d.type!==i)continue;const y=this.layerView.tryRecycleWith(d,{signal:n});if(y){e.splice(a,1),this.layer=d;const b=this.layerView,S=b.view;return this.promise=y.then((()=>(dr(n),d.emit("layerview-destroy",{view:S,layerView:b}),S.emit("layerview-destroy",{view:S,layerView:b}),d.emit("layerview-create",{view:S,layerView:b}),S.emit("layerview-create",{view:S,layerView:b}),b))),this.promise}}return null}destroy(){this._controller.abort();const{layerView:e}=this;if(e){const{layer:i,view:n}=this;i.emit("layerview-destroy",{view:n,layerView:e}),n.emit("layerview-destroy",{layer:i,layerView:e})}this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null,this._map=null,this.promise=null,this._deferred=null}async start(){const{view:e}=this;if(this._started||!e.map)return;this._started=!0;const{_controller:{signal:i},layer:n}=this;this._map=e.map;try{let a,d;if(await n.load({signal:i}),n.prefetchResources&&await n.prefetchResources({signal:i}),Kwt(n))a=await n.createLayerView(e,{signal:i});else{if(!this.layerViewImporter.hasLayerViewModule(n))throw new Lt("layer:view-not-supported","No layerview implementation was found");const S=await this.layerViewImporter.importLayerView(n);dr(i),a="default"in S?new S.default({layer:n,view:e}):new S({layer:n,view:e})}const y=()=>{d=or(d),a.destroyed||a.destroy(),a.layer=null,a.parent=null,a.view=null,this.done=!0};d=_a(i,y),dr(i);try{await a.when()}catch(S){throw y(),S}if(!this._map?.allLayers?.includes(n))return y(),void this._deferred.reject(new Lt("view:no-layerview-for-layer","The layer has been removed from the map",{layer:n}));this.layerView=a,n.emit("layerview-create",{view:e,layerView:a}),e.emit("layerview-create",{layer:n,layerView:a}),this.done=!0,this._deferred.resolve(a)}catch(a){n.emit("layerview-create-error",{view:e,error:a}),e.emit("layerview-create-error",{layer:n,error:a}),this.done=!0,this._deferred.reject(new Lt("layerview:create-error","layerview creation failed",{layer:n,error:a}))}}};function Kwt(t){return t.createLayerView!==cr.prototype.createLayerView}function Xwt(t){return t!=null&&typeof t=="object"&&"layerViews"in t}let Qs=class extends ve{constructor(e){super(e),this._layerLayerViewInfoMap=new Map,this._recyclingInfoMap=new Map,this._watchUpdatingTracking=new wf,this.supportsGround=!0,this._preloadLayerViewModules=()=>{const i=this.view.map?.allLayers;if(i)for(const n of i)this.layerViewFilter?.(n)!==!1&&this.layerViewImporter.hasLayerViewModule(n)&&this.layerViewImporter.importLayerView(n)},this._reschedule=()=>this.destroyed?Promise.reject():(this._workPromise==null&&(this._workPromise=qo(),this._workPromise.promise.catch((()=>{}))),this.removeHandles("reschedule"),this.addHandles(jg(this._doWork),"reschedule"),this._workPromise.promise),this._doWork=()=>{const i=this.view.map;if(this.destroyed||!i)return void this.clear();if(this._map!==i&&(this.clear(),this._map=i),this._workPromise==null)return void this.notifyChange("updating");this.removeHandles("reschedule"),this.removeHandles("collection-change");const n=new Set,a=[],d=this.view.ready,y=C=>{if(C!=null){for(const k of C)if(k){if(this.layerViewFilter?.(k)===!1)continue;n.add(k);const D=this._layerLayerViewInfoMap.get(k);D&&d?D.start():D||this._recyclingInfoMap.has(k)||a.push(k),"layers"in k&&k.layers&&y(k.layers)}}};for(const C of this._rootCollectionNames)y(ga(this,C));const b=new Array,S=C=>{const k=C.tryRecycle(a);k?(this._recyclingInfoMap.set(C.layer,C),this.notifyChange("updating"),k.then((()=>{this._recyclingInfoMap.delete(C.layer),this._layerLayerViewInfoMap.set(C.layer,C),this._reschedule(),this.notifyChange("updating")})).catch((D=>{cs(D)||(this._recyclingInfoMap.delete(C.layer),C.destroy(),this._reschedule(),this.notifyChange("updating"))}))):b.push(C)};for(const C of this._layerLayerViewInfoMap.values())n.has(C.layer)||(this._layerLayerViewInfoMap.delete(C.layer),S(C));for(const C of this._recyclingInfoMap.values())n.has(C.layer)||(this._recyclingInfoMap.delete(C.layer),S(C));for(const C of a)this._createLayerView(C);this._refreshCollections(),b.forEach((C=>C.destroy()));const T=[i?.ground?.layers,i?.basemap?.baseLayers,i?.basemap?.referenceLayers,i?.layers].filter((C=>!!C));n.forEach((C=>"layers"in C&&T.push(C.layers))),this.addHandles(T.map((C=>this._watchUpdatingTracking.addOnCollectionChange((()=>C),this._reschedule))),"collection-change"),this._workPromise.resolve(),this._workPromise=null}}initialize(){this.addHandles([If((()=>this.view?.map?.allLayers),"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),Ce((()=>{const e=this.view,i=e?.map;return[i?.basemap,i?.ground,i?.layers,e?.ready]}),(()=>this._reschedule()),ss)]),this._preloadLayerViewModules(),this._reschedule()}destroy(){this.clear(),M_(this._recyclingInfoMap),M_(this._layerLayerViewInfoMap),this._watchUpdatingTracking.destroy(),this._map=null,this._workPromise!=null&&(this._workPromise.reject(Zi()),this._workPromise=null)}get _layersToLayerViews(){const e=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];return this.supportsGround&&e.push(["view.map.ground.layers","view.groundView.layerViews"]),new Map(e)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return this._workPromise!=null||this._watchUpdatingTracking.updating||Fet(this._layerLayerViewInfoMap,(e=>!e.done))||this._recyclingInfoMap.size>0}get updatingRemaining(){let e=0;for(const i of this._layerLayerViewInfoMap.values())i.done||++e;return e}clear(){this.destroyed||(this._clearCollections(),M_(this._layerLayerViewInfoMap))}async whenLayerView(e){if(await this._reschedule(),!this._layerLayerViewInfoMap.has(e)){if(this._recyclingInfoMap.has(e))return this._recyclingInfoMap.get(e).promise;throw new Lt("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:e})}return this._layerLayerViewInfoMap.get(e).promise}isCreatingLayerViewsForLayer(e,i){this.commitProperty("updatingRemaining");const n=this._layerLayerViewInfoMap.get(e);if(!n?.done)return!0;const a=n.layerView;return!(!a||!i||a.parent===i)||!!(n.done&&a&&"layers"in e&&e.layers?.length)&&e.layers.some((d=>this.isCreatingLayerViewsForLayer(d,a)))}_refreshCollections(){for(const[e,i]of this._layersToLayerViews)this._populateLayerViewsOwners(ga(this,e),ga(this,i),this.view);this.notifyChange("updating"),this.notifyChange("updatingRemaining")}_clearCollections(){for(const e of this._layersToLayerViews.values())ga(this,e)?.removeAll()}_populateLayerViewsOwners(e,i,n){if(!e||!i)return void i?.removeAll();let a=0;for(const d of e){const y=this._layerLayerViewInfoMap.get(d);if(!y?.layerView)continue;const b=y.layerView;b.layer=d,b.parent=n,i.at(a)!==b&&i.splice(a,0,b),"layers"in d&&Xwt(b)&&this._populateLayerViewsOwners(d.layers,b.layerViews,b),a+=1}a<i.length&&i.splice(a)}_createLayerView(e){e.load().catch((()=>{})),this.layerViewImporter.hasLayerViewModule(e)&&this.layerViewImporter.importLayerView(e);const i=new Ywt(e,this.view,this.layerViewImporter);i.promise.then((()=>this._refreshCollections()),(n=>{n&&(cs(n)||n.name==="cancelled:layerview-create")||ae.getLogger(this).error(`Failed to create layerview for layer title:'${e.title??"no title"}', id:'${e.id??"no id"}' of type '${e.type}'.`,{layer:e,error:n}),this._refreshCollections()})),this._layerLayerViewInfoMap.set(e,i),this.view.ready&&i.start(),this.notifyChange("updating"),this.notifyChange("updatingRemaining")}};E([N()],Qs.prototype,"_workPromise",void 0),E([N({readOnly:!0})],Qs.prototype,"_watchUpdatingTracking",void 0),E([N({readOnly:!0})],Qs.prototype,"_layersToLayerViews",null),E([N({readOnly:!0})],Qs.prototype,"_rootCollectionNames",null),E([N({constructOnly:!0})],Qs.prototype,"layerViewFilter",void 0),E([N()],Qs.prototype,"layerViewImporter",void 0),E([N()],Qs.prototype,"supportsGround",void 0),E([N({readOnly:!0})],Qs.prototype,"updating",null),E([N({readOnly:!0})],Qs.prototype,"updatingRemaining",null),E([N({constructOnly:!0})],Qs.prototype,"view",void 0),Qs=E([ut("esri.views.support.LayerViewManager")],Qs);const Zwt=Qs;let n0=class extends ve{constructor(e){super(e),this.featureTitleFields=!1,this.utilityNetworkFields=!1,this.globalIdField=!1}};E([N()],n0.prototype,"featureTitleFields",void 0),E([N()],n0.prototype,"utilityNetworkFields",void 0),E([N()],n0.prototype,"globalIdField",void 0),n0=E([ut("esri.views.support.RequiredFieldsOptions")],n0);const Qwt=n0;var hm,Af;let he=(Af=class extends gu.EventedMixin(Oc.EsriPromiseMixin(ve)){constructor(e){super(e),this._userSpatialReference=null,this._cursor=null,this.handles=new Lp,this.updatingHandles=new wf,this.allLayerViews=new Qa({getCollections:()=>[this.basemapView?.baseLayerViews,this.groundView?.layerViews,this.layerViews,this.basemapView?.referenceLayerViews],getChildrenFunction:e5t}),this.analyses=new Aw,this.basemapView=null,this.displayFilterEnabled=!0,this.fatalError=null,this.graphics=new vf,this.groundView=null,this.typeSpecificPreconditionsReady=!0,this.layerViews=new me,this.magnifier=new OV,this.padding={left:0,top:0,right:0,bottom:0},this.ready=!1,this._readyStateWaitingTask=null,this.supportsGround=!0,this.type=null,this.scale=null,this.updating=!1,this.initialExtentRequired=!0,this.input=new Uwt,this.navigation=new Q5,this.layerViewManager=null,this.analysisViewManager=null,this.isHeightModelInfoRequired=!1,this.width=null,this.height=null,this.resizing=!1,this.suspended=!1,this.viewEvents=new PV(this),this.persistableViewModels=new me,this.requiredFieldsOptions=new Qwt,this._isValid=!1,this._readyCycleForced=!1,this._lockedSpatialReference=null,this._userTimeZone=null,this._lockedTimeZone=null,this._userTimeExtent=null,this._lockedTimeExtent=null,this.theme=null,this.handles.add(Ce((()=>this.preconditionsReady),(i=>{const n=this.ready;if(i?(this._lockedSpatialReference=this.spatialReference,this._lockedTimeZone=this.timeZone,this._lockedTimeExtent=this.timeExtent,hm.views.add(this)):(this._lockedSpatialReference=null,hm.views.remove(this)),this.notifyChange("spatialReference"),!i&&n)this.toolViewManager?.detach(),this.analysisViewManager!=null&&this.analysisViewManager.detach(),this.layerViewManager?.clear(),this._teardown();else if(i&&!n){try{this._startup()}catch(a){return void queueMicrotask((()=>{this.fatalError=new Lt("view:startup-error","View._startup failed",a)}))}this.analysisViewManager!=null&&this.analysisViewManager.attach(),this.toolViewManager.attach()}}),Wc))}initialize(){this.addResolvingPromise(Promise.all([this.loadAsyncDependencies(),this.validate()]).then((()=>(this._isValid=!0,YT((()=>this.ready)))))),this.basemapView=new Vbt({view:this}),this.layerViewManager=new Zwt({view:this,layerViewFilter:e=>this.layerViewFilter?.(e)??!0,layerViewImporter:{importLayerView:e=>this.importLayerView(e),hasLayerViewModule:e=>this.hasLayerViewModule(e)},supportsGround:this.supportsGround}),this.toolViewManager=new Ga({view:this}),this.selectionManager=new swt({view:this}),this.addHandles([Ho((()=>this.readyState==="map-content-error"&&!this.spatialReference),(()=>{ae.getLogger(this).warn("#spatialReference","no spatial reference could be derived from the currently added map layers")})),Ce((()=>this.initialExtentRequired),(e=>this.defaultsFromMap.required={...this.defaultsFromMap.required,extent:e}),ss),Ce((()=>this.ready),(e=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=e,this.defaultsFromMap.userSpatialReference=e?this.spatialReference:this._userSpatialReference)}),Wc),Ce((()=>this._userSpatialReference),(e=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=e)}),ss)])}destroy(){this.destroyed||(hm.views.remove(this),this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=vr(this.graphics),this.analyses=vr(this.analyses),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),vr(this.analysisViewManager),this.toolViewManager=vr(this.toolViewManager),this.layerViewManager=vr(this.layerViewManager),this.selectionManager=vr(this.selectionManager),this.basemapView=vr(this.basemapView),this.groundView?.destroy(),this.layerViews?.forEach((e=>e.destroy())),this.layerViews.length=0,this.invalidate(),this._emitter.clear(),this.handles.destroy(),this.map=vr(this.map),this.updatingHandles.destroy())}_startup(){this._set("ready",!0)}_teardown(){this._set("ready",!1)}whenReady(){return Promise.resolve(this)}toMap(){return ae.getLogger(this).error("#toMap()","Not implemented on this instance of View"),null}get activeTool(){return this.toolViewManager?.activeTool}set activeTool(e){this.toolViewManager&&(this.toolViewManager.activeTool=e)}get animation(){return this._get("animation")}set animation(e){this._set("animation",e)}get center(){return null}get defaultsFromMapSettings(){return{}}get defaultsFromMap(){return new Fi({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:(e,i)=>this.getSpatialReferenceSupport(e,i),...this.defaultsFromMapSettings})}get extent(){return this._get("extent")}set extent(e){this._set("extent",e)}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get highlights(){return this._get("highlights")??Dwt()}set highlights(e){this._set("highlights",mu(e,this._get("highlights"),me.ofType(jc)))}get interacting(){return this.navigating}get navigating(){return!1}get preconditionsReady(){return!this.destroying&&!this.destroyed&&!(this.fatalError||!this._isValid||this._readyCycleForced||!this.map||Uo.isLoadable(this.map)&&!this.map.loaded||this.width===0||this.height===0||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||!this._lockedSpatialReference&&!this.defaultsFromMap?.ready||!this.typeSpecificPreconditionsReady)}get resolution(){return 0}set map(e){e!==this._get("map")&&(e?.destroyed&&(ae.getLogger(this).warn("#map","The provided map is already destroyed",{map:e}),e=null),Uo.isLoadable(e)&&e.load().catch((()=>{})),this.constructed&&!this.destroyed&&(this.forceReadyCycle(),this._lockedSpatialReference=null),this._set("map",e))}get readyState(){if(this.destroyed)return this._get("readyState");if(!this.map)return"missing-map";if("container"in this&&!this.container)return"missing-container";if(this.fatalError)return"rendering-error";if((this.defaultsFromMap?.ready??!1)&&!this.spatialReference){const e=!("loaded"in this.map)||this.map.loaded,i=this.map.ground.loaded,n=this.map.basemap?.loaded??!0;return e&&n&&i&&!this.map?.allLayers.length?"empty-map":(this._readyStateWaitingTask||(this._readyStateWaitingTask=cM((a=>Sj(St("view-readyState-waiting-delay"),null,a))),this.addHandles(this._readyStateWaitingTask),this.addHandles(this._readyStateWaitingTask,"ready-state-task")),this._readyStateWaitingTask?.finished?"map-content-error":"loading")}return this._readyStateWaitingTask=fp(this._readyStateWaitingTask),this.removeHandles("ready-state-task"),this.ready?"ready":"loading"}get spatialReference(){const e=this._userSpatialReference||this._lockedSpatialReference||this.getDefaultSpatialReference()||null;if(e&&this.defaultsFromMap?.required?.heightModelInfo){const i=e.clone();return i.vcsWkid=this.defaultsFromMap.vcsWkid,i.latestVcsWkid=this.defaultsFromMap.latestVcsWkid,i}return e}set spatialReference(e){const i=!Sn(e,this._get("spatialReference"));this._set("_userSpatialReference",e),i&&(this._set("spatialReference",e),this._spatialReferenceChanged(e))}_spatialReferenceChanged(e){}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get timeExtent(){return this._userTimeExtent??this._lockedTimeExtent??this.getDefaultTimeExtent()??null}set timeExtent(e){this._userTimeExtent=e}get timeZone(){return this._userTimeZone??this._lockedTimeZone??this.getDefaultTimeZone()??ul}set timeZone(e){this._userTimeZone=e,q0t(e)||ae.getLogger(this).warn("#timeZone",`the parsed value '${e}' may not be a valid IANA time zone`)}get tools(){return this.toolViewManager?.tools}get initialExtent(){return this.defaultsFromMap?.extent}get cursor(){return this.toolViewManager?.cursor??this._cursor??"default"}set cursor(e){this._cursor=e,this.notifyChange("cursor")}get size(){return[this.width,this.height]}get effectiveTheme(){return this.theme??new _8}whenLayerView(e){return this.layerViewManager?.whenLayerView(e)??Promise.reject()}getDefaultSpatialReference(){return this.defaultsFromMap?.spatialReference}getDefaultHeightModelInfo(){return(this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)??this.defaultsFromMap?.heightModelInfo??null}getDefaultTimeZone(){return null}getDefaultTimeExtent(){return null}importLayerView(e){throw new Lt("view:importLayerView-missing","importLayerView() not implemented")}hasLayerViewModule(e){return!1}async validate(){}async loadAsyncDependencies(){}invalidate(){this._isValid=!1}getSpatialReferenceSupport(){return{constraints:null}}_validateSpatialReference(e){return this.getSpatialReferenceSupport(e)!=null}when(e,i){return this.isResolved()&&!this.ready&&ae.getLogger(this).warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() => view.ready).then(...) instead."),super.when(e,i)}forceReadyCycle(){this.ready&&(Ho((()=>this.destroyed||this.preconditionsReady===!1),(()=>this._readyCycleForced=!1),{once:!0}),this._readyCycleForced=!0)}addAndActivateTool(e){this.toolViewManager.tools.add(e),this.activeTool=e}tryFatalErrorRecovery(){this.fatalError=null}},hm=Af,Af.views=new me,Af);E([N()],he.prototype,"_userSpatialReference",void 0),E([N()],he.prototype,"activeTool",null),E([N({readOnly:!0})],he.prototype,"allLayerViews",void 0),E([N(P7(Aw,"analyses"))],he.prototype,"analyses",void 0),E([N()],he.prototype,"animation",null),E([N()],he.prototype,"basemapView",void 0),E([N()],he.prototype,"center",null),E([N()],he.prototype,"defaultsFromMapSettings",null),E([N()],he.prototype,"defaultsFromMap",null),E([N()],he.prototype,"displayFilterEnabled",void 0),E([N({type:Be})],he.prototype,"extent",null),E([N()],he.prototype,"fatalError",void 0),E([N(P7(vf,"graphics"))],he.prototype,"graphics",void 0),E([N()],he.prototype,"groundView",void 0),E([N({readOnly:!0,type:Ms})],he.prototype,"heightModelInfo",null),E([N({type:me.ofType(jc)})],he.prototype,"highlights",null),E([N({readOnly:!0})],he.prototype,"interacting",null),E([N({constructOnly:!0})],he.prototype,"layerViewFilter",void 0),E([N({readOnly:!0})],he.prototype,"navigating",null),E([N({readOnly:!0,dependsOn:["fatalError","_isValid","_readyCycleForced","map","map.loaded?","width","height","spatialReference","_lockedSpatialReference","defaultsFromMap.ready","typeSpecificPreconditionsReady"]})],he.prototype,"preconditionsReady",null),E([N({readOnly:!0})],he.prototype,"typeSpecificPreconditionsReady",void 0),E([N({type:me,readOnly:!0})],he.prototype,"layerViews",void 0),E([N()],he.prototype,"resolution",null),E([N({type:OV})],he.prototype,"magnifier",void 0),E([N({value:null,type:QH})],he.prototype,"map",null),E([N()],he.prototype,"padding",void 0),E([N({readOnly:!0})],he.prototype,"ready",void 0),E([N()],he.prototype,"_readyStateWaitingTask",void 0),E([N({readOnly:!0})],he.prototype,"readyState",null),E([N({type:le})],he.prototype,"spatialReference",null),E([N()],he.prototype,"stationary",null),E([N({readOnly:!0})],he.prototype,"supportsGround",void 0),E([N({type:ns})],he.prototype,"timeExtent",null),E([N({type:String,nonNullable:!0})],he.prototype,"timeZone",null),E([N()],he.prototype,"tools",null),E([N()],he.prototype,"toolViewManager",void 0),E([N({readOnly:!0})],he.prototype,"type",void 0),E([N({type:Number})],he.prototype,"scale",void 0),E([N({readOnly:!0})],he.prototype,"updating",void 0),E([N({readOnly:!0})],he.prototype,"initialExtentRequired",void 0),E([N({readOnly:!0})],he.prototype,"initialExtent",null),E([N()],he.prototype,"cursor",null),E([N({readOnly:!0})],he.prototype,"input",void 0),E([N({type:Q5,nonNullable:!0})],he.prototype,"navigation",void 0),E([N()],he.prototype,"layerViewManager",void 0),E([N()],he.prototype,"analysisViewManager",void 0),E([N()],he.prototype,"selectionManager",void 0),E([N()],he.prototype,"width",void 0),E([N()],he.prototype,"height",void 0),E([N({readOnly:!0})],he.prototype,"resizing",void 0),E([N({value:null,readOnly:!0})],he.prototype,"size",null),E([N({readOnly:!0})],he.prototype,"suspended",void 0),E([N({readOnly:!0})],he.prototype,"viewEvents",void 0),E([N({readOnly:!0})],he.prototype,"persistableViewModels",void 0),E([N()],he.prototype,"_isValid",void 0),E([N()],he.prototype,"_readyCycleForced",void 0),E([N()],he.prototype,"_lockedSpatialReference",void 0),E([N()],he.prototype,"_userTimeZone",void 0),E([N()],he.prototype,"_lockedTimeZone",void 0),E([N()],he.prototype,"_userTimeExtent",void 0),E([N()],he.prototype,"_lockedTimeExtent",void 0),E([N({type:_8})],he.prototype,"theme",void 0),E([N({readOnly:!0,type:_8})],he.prototype,"effectiveTheme",null),he=hm=E([ut("esri.views.View")],he);const j_=globalThis.$arcgis;j_&&!j_.views&&Object.defineProperty(j_,"views",{configurable:!1,enumerable:!0,writable:!1,value:he.views});const t5t=he;function e5t(t){return t.layerViews}function G0(t,e){return t[0]=e[0],t[1]=e[1],t}function vn(t,e,i){return t[0]=e,t[1]=i,t}function JV(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t}function Tg(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t}function YV(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t}function KV(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t}function i5t(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function r5t(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function n5t(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t}function s5t(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t}function o5t(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function mv(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t}function a5t(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t}function t9(t,e){const i=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(i*i+n*n)}function Cw(t,e){const i=e[0]-t[0],n=e[1]-t[1];return i*i+n*n}function Ow(t){const e=t[0],i=t[1];return Math.sqrt(e*e+i*i)}function XV(t){const e=t[0],i=t[1];return e*e+i*i}function ZV(t,e){return t[0]=-e[0],t[1]=-e[1],t}function l5t(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function M8(t,e){const i=e[0],n=e[1];let a=i*i+n*n;return a>0&&(a=1/Math.sqrt(a),t[0]=e[0]*a,t[1]=e[1]*a),t}function QV(t,e){return t[0]*e[0]+t[1]*e[1]}function tW(t,e,i){const n=e[0]*i[1]-e[1]*i[0];return t[0]=t[1]=0,t[2]=n,t}function u5t(t,e,i,n){const a=e[0],d=e[1];return t[0]=a+n*(i[0]-a),t[1]=d+n*(i[1]-d),t}function c5t(t,e=1){const i=2*iM()*Math.PI;return t[0]=Math.cos(i)*e,t[1]=Math.sin(i)*e,t}function h5t(t,e,i){const n=e[0],a=e[1];return t[0]=i[0]*n+i[2]*a,t[1]=i[1]*n+i[3]*a,t}function Xa(t,e,i){const n=e[0],a=e[1];return t[0]=i[0]*n+i[2]*a+i[4],t[1]=i[1]*n+i[3]*a+i[5],t}function f5t(t,e,i){const n=e[0],a=e[1];return t[0]=i[0]*n+i[3]*a+i[6],t[1]=i[1]*n+i[4]*a+i[7],t}function d5t(t,e,i){const n=e[0],a=e[1];return t[0]=i[0]*n+i[4]*a+i[12],t[1]=i[1]*n+i[5]*a+i[13],t}function p5t(t,e,i,n){const a=e[0]-i[0],d=e[1]-i[1],y=Math.sin(n),b=Math.cos(n);return t[0]=a*b-d*y+i[0],t[1]=a*y+d*b+i[1],t}function y5t(t,e){const i=t[0],n=t[1],a=e[0],d=e[1];let y=i*i+n*n;y>0&&(y=1/Math.sqrt(y));let b=a*a+d*d;b>0&&(b=1/Math.sqrt(b));const S=(i*a+n*d)*y*b;return S>1?0:S<-1?Math.PI:Math.acos(S)}function m5t(t){return"vec2("+t[0]+", "+t[1]+")"}function g5t(t,e){return t[0]===e[0]&&t[1]===e[1]}function v5t(t,e){const i=t[0],n=t[1],a=e[0],d=e[1],y=Ls();return Math.abs(i-a)<=y*Math.max(1,Math.abs(i),Math.abs(a))&&Math.abs(n-d)<=y*Math.max(1,Math.abs(n),Math.abs(d))}function b5t(t,e,i,n,a){let d=e[0]-i[0],y=e[1]-i[1];const b=(n[0]*d+n[1]*y)*(a-1);return d=n[0]*b,y=n[1]*b,t[0]=e[0]+d,t[1]=e[1]+y,t}const w5t=Ow,TM=Tg,_5t=YV,S5t=KV,x5t=t9,T5t=Cw,E5t=XV;Object.freeze(Object.defineProperty({__proto__:null,add:JV,angle:y5t,ceil:i5t,copy:G0,cross:tW,dist:x5t,distance:t9,div:S5t,divide:KV,dot:QV,equals:v5t,exactEquals:g5t,floor:r5t,inverse:l5t,len:w5t,length:Ow,lerp:u5t,max:s5t,min:n5t,mul:_5t,multiply:YV,negate:ZV,normalize:M8,projectAndScale:b5t,random:c5t,rotate:p5t,round:o5t,scale:mv,scaleAndAdd:a5t,set:vn,sqrDist:T5t,sqrLen:E5t,squaredDistance:Cw,squaredLength:XV,str:m5t,sub:TM,subtract:Tg,transformMat2:h5t,transformMat2d:Xa,transformMat3:f5t,transformMat4:d5t},Symbol.toStringTag,{value:"Module"}));function br(){return[0,0]}function M5t(t){return[t[0],t[1]]}function gv(t,e){return[t,e]}function A5t(t,e){return[t,e]}function R5t(t,e=br()){const i=Math.min(2,t.length);for(let n=0;n<i;++n)e[n]=t[n];return e}function eW(){return br()}function iW(){return gv(1,1)}function rW(){return gv(1,0)}function nW(){return gv(0,1)}const C5t=eW(),O5t=iW(),$5t=rW(),N5t=nW();Object.freeze(Object.defineProperty({__proto__:null,ONES:O5t,UNIT_X:$5t,UNIT_Y:N5t,ZEROS:C5t,clone:M5t,create:br,freeze:A5t,fromArray:R5t,fromValues:gv,ones:iW,unitX:rW,unitY:nW,zeros:eW},Symbol.toStringTag,{value:"Module"}));function k5t(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function sW(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function P5t(t,e,i,n,a,d,y){return t[0]=e,t[1]=i,t[2]=n,t[3]=a,t[4]=d,t[5]=y,t}function EM(t,e){const i=e[0],n=e[1],a=e[2],d=e[3],y=e[4],b=e[5];let S=i*d-n*a;return S?(S=1/S,t[0]=d*S,t[1]=-n*S,t[2]=-a*S,t[3]=i*S,t[4]=(a*b-d*y)*S,t[5]=(n*y-i*b)*S,t):null}function I5t(t){return t[0]*t[3]-t[1]*t[2]}function oW(t,e,i){const n=e[0],a=e[1],d=e[2],y=e[3],b=e[4],S=e[5],T=i[0],C=i[1],k=i[2],D=i[3],z=i[4],G=i[5];return t[0]=n*T+d*C,t[1]=a*T+y*C,t[2]=n*k+d*D,t[3]=a*k+y*D,t[4]=n*z+d*G+b,t[5]=a*z+y*G+S,t}function vv(t,e,i){const n=e[0],a=e[1],d=e[2],y=e[3],b=e[4],S=e[5],T=Math.sin(i),C=Math.cos(i);return t[0]=n*C+d*T,t[1]=a*C+y*T,t[2]=n*-T+d*C,t[3]=a*-T+y*C,t[4]=b,t[5]=S,t}function e9(t,e,i){const n=e[0],a=e[1],d=e[2],y=e[3],b=e[4],S=e[5],T=i[0],C=i[1];return t[0]=n*T,t[1]=a*T,t[2]=d*C,t[3]=y*C,t[4]=b,t[5]=S,t}function Op(t,e,i){const n=e[0],a=e[1],d=e[2],y=e[3],b=e[4],S=e[5],T=i[0],C=i[1];return t[0]=n,t[1]=a,t[2]=d,t[3]=y,t[4]=n*T+d*C+b,t[5]=a*T+y*C+S,t}function aW(t,e){const i=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=i,t[2]=-i,t[3]=n,t[4]=0,t[5]=0,t}function lW(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t}function MM(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t}function D5t(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function L5t(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+1)}function j5t(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t[4]=e[4]+i[4],t[5]=e[5]+i[5],t}function uW(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t[4]=e[4]-i[4],t[5]=e[5]-i[5],t}function z5t(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*i,t[5]=e[5]*i,t}function U5t(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t[2]=e[2]+i[2]*n,t[3]=e[3]+i[3]*n,t[4]=e[4]+i[4]*n,t[5]=e[5]+i[5]*n,t}function F5t(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}function B5t(t,e){const i=t[0],n=t[1],a=t[2],d=t[3],y=t[4],b=t[5],S=e[0],T=e[1],C=e[2],k=e[3],D=e[4],z=e[5],G=Ls();return Math.abs(i-S)<=G*Math.max(1,Math.abs(i),Math.abs(S))&&Math.abs(n-T)<=G*Math.max(1,Math.abs(n),Math.abs(T))&&Math.abs(a-C)<=G*Math.max(1,Math.abs(a),Math.abs(C))&&Math.abs(d-k)<=G*Math.max(1,Math.abs(d),Math.abs(k))&&Math.abs(y-D)<=G*Math.max(1,Math.abs(y),Math.abs(D))&&Math.abs(b-z)<=G*Math.max(1,Math.abs(b),Math.abs(z))}const G5t=oW,q5t=uW;Object.freeze(Object.defineProperty({__proto__:null,add:j5t,copy:k5t,determinant:I5t,equals:B5t,exactEquals:F5t,frob:L5t,fromRotation:aW,fromScaling:lW,fromTranslation:MM,identity:sW,invert:EM,mul:G5t,multiply:oW,multiplyScalar:z5t,multiplyScalarAndAdd:U5t,rotate:vv,scale:e9,set:P5t,str:D5t,sub:q5t,subtract:uW,translate:Op},Symbol.toStringTag,{value:"Module"}));function rl(){return[1,0,0,1,0,0]}function H5t(t){return[t[0],t[1],t[2],t[3],t[4],t[5]]}function V5t(t,e,i,n,a,d){return[t,e,i,n,a,d]}const W5t=rl();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:W5t,clone:H5t,create:rl,fromValues:V5t},Symbol.toStringTag,{value:"Module"}));const u3={102100:{maxX:20037508342788905e-9,minX:-20037508342788905e-9,plus180Line:new sr({paths:[[[20037508342788905e-9,-20037508342788905e-9],[20037508342788905e-9,20037508342788905e-9]]],spatialReference:le.WebMercator}),minus180Line:new sr({paths:[[[-20037508342788905e-9,-20037508342788905e-9],[-20037508342788905e-9,20037508342788905e-9]]],spatialReference:le.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new sr({paths:[[[180,-180],[180,180]]],spatialReference:le.WGS84}),minus180Line:new sr({paths:[[[-180,-180],[-180,180]]],spatialReference:le.WGS84})}};function cf(t,e){return Math.ceil((t-e)/(2*e))}function cW(t,e){const i=Jm(t);for(const n of i)for(const a of n)a[0]+=e;return t}function Jm(t){return P0(t)?t.rings:t.paths}async function J5t(t,e,i,n){const a=m5(t),d=e[0].spatialReference,y={...n,responseType:"json",query:{...a.query,f:"json",sr:Mz(d),target:JSON.stringify({geometryType:JE(e[0]),geometries:e}),cutter:JSON.stringify(i)}},b=await Di(a.path+"/cut",y),{cutIndexes:S,geometries:T=[]}=b.data;return{cutIndexes:S,geometries:T.map((C=>{const k=Yc(C);return k.spatialReference=d,k}))}}function Y5t(t){return{geometryType:JE(t[0]),geometries:t.map((e=>e.toJSON()))}}function K5t(t,e,i){const n=Zpt(e);return t.map((a=>{const d=n.fromJSON(a);return d.spatialReference=i,d}))}async function X5t(t,e,i){const n=typeof t=="string"?hs(t):t,a=e[0].spatialReference,d=JE(e[0]),y={...i,query:{...n.query,f:"json",sr:Mz(a),geometries:JSON.stringify(Y5t(e))}},{data:b}=await Di(n.path+"/simplify",y);return K5t(b.geometries,d,a)}const hW=()=>ae.getLogger("esri.geometry.support.normalizeUtils");function Z5t(t){return t.type==="polygon"}function Q5t(t){return t[0].type==="polygon"}function t9t(t){return t[0].type==="polyline"}function KP(t){const e=[];let i=0,n=0;for(let a=0;a<t.length;a++){const d=t[a];let y=null;for(let b=0;b<d.length;b++)y=d[b],e.push(y),b===0?(i=y[0],n=i):(i=Math.min(i,y[0]),n=Math.max(n,y[0]));y&&e.push([(i+n)/2,0])}return e}function e9t(t,e){if(!(t instanceof sr||t instanceof rr)){const a="straightLineDensify: the input geometry is neither polyline nor polygon";throw hW().error(a),new Lt("internal:geometry",a)}const i=Jm(t),n=[];for(const a of i){const d=[];n.push(d),d.push([a[0][0],a[0][1]]);for(let y=0;y<a.length-1;y++){const b=a[y][0],S=a[y][1],T=a[y+1][0],C=a[y+1][1],k=Math.sqrt((T-b)*(T-b)+(C-S)*(C-S)),D=(C-S)/k,z=(T-b)/k,G=k/e;if(G>1){for(let et=1;et<=G-1;et++){const rt=et*e,it=z*rt+b,ot=D*rt+S;d.push([it,ot])}const B=(k+Math.floor(G-1)*e)/2,H=z*B+b,X=D*B+S;d.push([H,X])}d.push([T,C])}}return Z5t(t)?new rr({rings:n,spatialReference:t.spatialReference}):new sr({paths:n,spatialReference:t.spatialReference})}function XP(t,e,i){if(e){const n=e9t(t,1e6);t=Py(n,!0)}return i&&(t=cW(t,i)),t}function ZP(t,e,i){if(Array.isArray(t)){const n=t[0];if(n>e){const a=cf(n,e);t[0]=n+a*(-2*e)}else if(n<i){const a=cf(n,i);t[0]=n+a*(-2*i)}}else{const n=t.x;if(n>e){const a=cf(n,e);t=t.clone().offset(a*(-2*e),0)}else if(n<i){const a=cf(n,i);t=t.clone().offset(a*(-2*i),0)}}return t}function i9t(t,e){let i=-1;for(let n=0;n<e.cutIndexes.length;n++){const a=e.cutIndexes[n],d=e.geometries[n],y=Jm(d);for(let b=0;b<y.length;b++){const S=y[b];S.some((T=>{if(T[0]<180)return!0;{let C=0;for(let D=0;D<S.length;D++){const z=S[D][0];C=z>C?z:C}C=Number(C.toFixed(9));const k=-360*cf(C,180);for(let D=0;D<S.length;D++){const z=d.getPoint(b,D);d.setPoint(b,D,z.clone().offset(k,0))}return!0}}))}if(a===i){if(Q5t(t))for(const b of Jm(d))t[a]=t[a].addRing(b);else if(t9t(t))for(const b of Jm(d))t[a]=t[a].addPath(b)}else i=a,t[a]=d}return t}async function fW(t,e,i){if(!Array.isArray(t))return fW([t],e);e&&typeof e!="string"&&hW().warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");const n=typeof e=="string"?e:e?.url??ci.geometryServiceUrl;let a,d,y,b,S,T,C,k,D=0;const z=[],G=[];for(const it of t)if(it!=null)if(a||(a=it.spatialReference,d=us(a),y=a.isWebMercator,T=y?102100:4326,b=u3[T].maxX,S=u3[T].minX,C=u3[T].plus180Line,k=u3[T].minus180Line),d)if(it.type==="mesh")G.push(it);else if(it.type==="point")G.push(ZP(it.clone(),b,S));else if(it.type==="multipoint"){const ot=it.clone();ot.points=ot.points.map((pt=>ZP(pt,b,S))),G.push(ot)}else if(it.type==="extent"){const ot=it.clone()._normalize(!1,!1,d);G.push(ot.rings?new rr(ot):ot)}else if(it.extent){const ot=it.extent,pt=cf(ot.xmin,S)*(2*b);let yt=pt===0?it.clone():cW(it.clone(),pt);ot.offset(pt,0);let{xmin:ft,xmax:vt}=ot;ft=Number(ft.toFixed(9)),vt=Number(vt.toFixed(9)),ot.intersects(C)&&vt!==b?(D=vt>D?vt:D,yt=XP(yt,y),z.push(yt),G.push("cut")):ot.intersects(k)&&ft!==S?(D=vt*(2*b)>D?vt*(2*b):D,yt=XP(yt,y,360),z.push(yt),G.push("cut")):G.push(yt)}else G.push(it.clone());else G.push(it);else G.push(it);let B=cf(D,b),H=-90;const X=B,et=new sr;for(;B>0;){const it=360*B-180;et.addPath([[it,H],[it,-1*H]]),H*=-1,B--}if(z.length>0&&X>0){const it=i9t(z,await J5t(n,z,et,i)),ot=[],pt=[];for(let vt=0;vt<G.length;vt++){const Ct=G[vt];if(Ct!=="cut")pt.push(Ct);else{const Dt=it.shift(),zt=t[vt];zt!=null&&zt.type==="polygon"&&zt.rings&&zt.rings.length>1&&Dt.rings.length>=zt.rings.length?(ot.push(Dt),pt.push("simplify")):pt.push(y?mf(Dt):Dt)}}if(!ot.length)return pt;const yt=await X5t(n,ot,i),ft=[];for(let vt=0;vt<pt.length;vt++){const Ct=pt[vt];Ct!=="simplify"?ft.push(Ct):ft.push(y?mf(yt.shift()):yt.shift())}return ft}const rt=[];for(let it=0;it<G.length;it++){const ot=G[it];if(ot!=="cut")rt.push(ot);else{const pt=z.shift();rt.push(y===!0?mf(pt):pt)}}return rt}function r9t(t){if(!t)return null;const e=t.extent;if(!e)return null;const i=t.spatialReference&&us(t.spatialReference);if(!i)return e;const[n,a]=i.valid,d=2*a,{width:y}=e;let b,{xmin:S,xmax:T}=e;if([S,T]=[T,S],t.type==="extent"||y===0||y<=a||y>d||S<n||T>a)return e;switch(t.type){case"polygon":if(!(t.rings.length>1))return e;b=KP(t.rings);break;case"polyline":if(!(t.paths.length>1))return e;b=KP(t.paths);break;case"multipoint":b=t.points}const C=e.clone();for(let k=0;k<b.length;k++){let D=b[k][0];D<0?(D+=a,T=Math.max(D,T)):(D-=a,S=Math.min(D,S))}return C.xmin=S,C.xmax=T,C.width<y?(C.xmin-=a,C.xmax-=a,C):e}function AM(t,e,i){const n=us(i);if(n==null)return t;const[a,d]=n.valid,y=2*d;let b=0,S=0;e>d?b=Math.ceil(Math.abs(e-d)/y):e<a&&(b=-Math.ceil(Math.abs(e-a)/y)),t>d?S=Math.ceil(Math.abs(t-d)/y):t<a&&(S=-Math.ceil(Math.abs(t-a)/y));let T=t+(b-S)*y;const C=T-e;return C>d?T-=y:C<a&&(T+=y),T}function oNt(t,e){const i=us(e);if(i){const[n,a]=i.valid,d=a-n;if(t<n)for(;t<n;)t+=d;if(t>a)for(;t>a;)t-=d}return t}const dW=96,pW=39.37,n9t=180/Math.PI;function yW(t){return t.wkid?t:t.spatialReference||le.WGS84}function RM(t,e){return e.type?vn(t,e.x,e.y):G0(t,e)}function mW(t){return fl(t)}function i9(t,e,i=0){let n=t.width,a=t.height;if(i!==0){const b=sv(i),S=Math.abs(Math.cos(b)),T=Math.abs(Math.sin(b));n=t.width*S+t.height*T,a=t.width*T+t.height*S}const d=Math.max(1,e[0]),y=Math.max(1,e[1]);return Math.max(n/d,a/y)*f9t(t.spatialReference)}async function fm(t,e,i,n){let a,d;if(!t||Array.isArray(t)&&!t.length)return null;if(me.isCollection(t)&&(t=t.toArray()),Array.isArray(t)&&t.length&&typeof t[0]=="object"){const b=t.every((C=>"attributes"in C)),S=t.some((C=>!C.geometry));let T=t;if(b&&S&&e&&e.allLayerViews){const C=new Map;for(const G of t){const B=G.layer,H=C.get(B)||[],X=G.attributes[B.objectIdField];X!=null&&H.push(X),C.set(B,H)}const k=[];C.forEach(((G,B)=>{const H=e.allLayerViews?.find((X=>X.layer.id===B.id));if(H&&"queryFeatures"in H){const X=B.createQuery();X.objectIds=G,X.returnGeometry=!0,k.push(H.queryFeatures(X))}}));const D=await Promise.all(k),z=[];for(const G of D)if(G&&G.features&&G.features.length)for(const B of G.features)B.geometry!=null&&z.push(B.geometry);T=z}for(const C of T)n=await fm(C,e,i,n);return n}if(Array.isArray(t)&&t.length===2&&typeof t[0]=="number"&&typeof t[1]=="number")a=new ue(t);else if(t instanceof gn)a=t;else if("geometry"in t){if(t.geometry)a=t.geometry;else if(t.layer){const b=t.layer,S=e.allLayerViews?.find((T=>T.layer.id===b.id));if(S&&"queryFeatures"in S){const T=b.createQuery();T.objectIds=[t.attributes[b.objectIdField]],T.returnGeometry=!0,a=(await S.queryFeatures(T))?.features?.[0]?.geometry}}}if(a==null)return null;switch(a.type){case"point":d=new Be({xmin:a.x,ymin:a.y,xmax:a.x,ymax:a.y,spatialReference:a.spatialReference});break;case"extent":case"multipoint":case"polygon":case"polyline":d=r9t(a);break;default:d=a.extent}if(!d)return null;nh()||Ma(d.spatialReference,i)||await Zc();const y=Xf(d,i);if(!y)return null;if(n){const b=y.center,S=b.clone();S.x=AM(b.x,n.center.x,i),S.x!==b.x&&y.centerAt(S),n=n.union(y)}else n=y;return n}function s9t(t){if(t&&(!Array.isArray(t)||typeof t[0]!="number")&&(typeof t=="object"||Array.isArray(t)&&typeof t[0]=="object")){if("layer"in t&&t.layer?.minScale!=null&&t.layer.maxScale!=null){const e=t.layer;return{min:e.minScale,max:e.maxScale}}if(Array.isArray(t)&&t.length&&t.every((e=>"layer"in e))){let e=0,i=0;for(const n of t){const a=n.layer;a?.minScale&&a.maxScale&&(e=a.minScale<e?a.minScale:e,i=a.maxScale>i?a.maxScale:i)}return e&&i?{min:e,max:i}:null}}}function QP(t,e){const i=yW(t);return Sn(i,e)||i.imageCoordinateSystem||e.imageCoordinateSystem?t:Xf(t,e)}async function o9t(t,e){if(!t||!e)return new Bo({targetGeometry:new ue,scale:0,rotation:0});let i=e.spatialReference;const{constraints:n,padding:a,viewpoint:d,size:y}=e,b=[a?y[0]-a.left-a.right:y[0],a?y[1]-a.top-a.bottom:y[1]];let S=null;t instanceof Bo?S=t:t.viewpoint?S=t.viewpoint:t.target&&t.target.declaredClass==="esri.Viewpoint"&&(S=t.target);let T=null;S?.targetGeometry?T=S.targetGeometry:t instanceof Be?T=t:t instanceof gn?T=await fm(t,e,i):t&&(T=await fm(t.center,e,i)||await fm(t.target,e,i)||await fm(t,e,i)),!T&&d?.targetGeometry?T=d.targetGeometry:!T&&e.extent&&(T=e.extent),i||(i=yW(e.spatialReference||e.extent||T)),nh()||Sn(T.spatialReference,i)||Ma(T.spatialReference,i)||await Zc();const C=QP(T,i),k="center"in C?C.center:C;e.pickClosestTarget!==!1&&k.type==="point"&&d.targetGeometry?.type==="point"&&(k.x=AM(k.x,d.targetGeometry.x,k.spatialReference));let D=0;S?D=S.rotation:t.hasOwnProperty("rotation")?D=t.rotation:d&&(D=d.rotation);let z=0;z=S?.targetGeometry!=null&&S.targetGeometry.type==="point"?S.scale:"scale"in t&&t.scale?t.scale:"zoom"in t&&t.zoom!==-1&&n&&n.effectiveLODs?n.zoomToScale(t.zoom):Array.isArray(T)||T.type==="point"||T.type==="extent"&&T.width===0&&T.height===0?d.scale:i9(QP(T.extent,i),b,D);const G=s9t(t.target??t);G&&(G.min&&G.min<z?z=G.min:G.max&&G.max>z&&(z=G.max));let B=new Bo({targetGeometry:k,scale:z,rotation:D});return n&&(B=n.fit(B),n.constrainByGeometry(B),n.rotationEnabled||(B.rotation=d.rotation)),B}function Zn(t,e){const i=t.targetGeometry,n=e.targetGeometry;return i.x=n.x,i.y=n.y,i.spatialReference=n.spatialReference,t.scale=e.scale,t.rotation=e.rotation,t}function a9t(t,e,i){return i?vn(t,.5*(e[0]-i.right+i.left),.5*(e[1]-i.bottom+i.top)):mv(t,e,.5)}const l9t=(function(){const t=br();return function(e,i,n){const a=i.targetGeometry;RM(t,a);const d=.5*n1(i);return e.xmin=t[0]-d*n[0],e.ymin=t[1]-d*n[1],e.xmax=t[0]+d*n[0],e.ymax=t[1]+d*n[1],e.spatialReference=a.spatialReference,e}})();function u9t(t,e,i,n,a){return A8(t,e,i.center),t.scale=i9(i,n),a?.constraints?.constrain(t),t}function c9t(t,e,i,n){return $M(t,e,i,n),EM(t,t)}const gW=(function(){const t=br();return function(e,i,n){return TM(e,d9t(e,i),a9t(t,i,n))}})(),h9t=(function(){const t=rl(),e=br();return function(i,n,a,d){const y=n1(n),b=CM(n);return vn(e,y,y),lW(t,e),vv(t,t,b),Op(t,t,gW(e,a,d)),Op(t,t,[0,d.top-d.bottom]),vn(i,t[4],t[5])}})();function n1(t){return t.scale*vW(t.targetGeometry?.spatialReference)}function vW(t){return oo(t)?1/(mW(t)*pW*dW):1}function CM(t){return rM(t.rotation)||0}function f9t(t){return oo(t)?mW(t)*pW*dW:1}function d9t(t,e){return mv(t,e,.5)}const OM=(function(){const t=br(),e=br(),i=br();return function(n,a,d,y,b,S){return ZV(t,a),mv(e,d,.5*S),vn(i,1/y*S,-1/y*S),MM(n,e),b&&vv(n,n,b),e9(n,n,i),Op(n,n,t),n}})(),$M=(function(){const t=br();return function(e,i,n,a){const d=n1(i),y=CM(i);return RM(t,i.targetGeometry),OM(e,t,n,d,y,a)}})(),p9t=(function(){const t=br();return function(e,i,n,a){const d=n1(i);return RM(t,i.targetGeometry),OM(e,t,n,d,0,a)}})();function bW(t){const e=us(t);return e?e.valid[1]-e.valid[0]:0}function y9t(t,e){return Math.round(bW(t)/e)}const m9t=(function(){const t=br(),e=br(),i=[0,0,0];return function(n,a,d){Tg(t,n,a),M8(t,t),Tg(e,n,d),M8(e,e),tW(i,t,e);let y=Math.acos(QV(t,e)/(Ow(t)*Ow(e)))*n9t;return i[2]<0&&(y=-y),isNaN(y)&&(y=0),y}})(),g9t=(function(){const t=br();return function(e,i,n,a){const d=e.targetGeometry;return Zn(e,i),h9t(t,i,n,a),d.x+=t[0],d.y+=t[1],e}})(),A8=function(t,e,i){Zn(t,e);const n=t.targetGeometry;return n.x=i.x,n.y=i.y,n.spatialReference=i.spatialReference,t},v9t=(function(){const t=br();return function(e,i,n,a,d){d||(d="center"),TM(t,n,a),mv(t,t,.5);const y=t[0],b=t[1];switch(d){case"center":vn(t,0,0);break;case"left":vn(t,-y,0);break;case"top":vn(t,0,b);break;case"right":vn(t,y,0);break;case"bottom":vn(t,0,-b);break;case"top-left":vn(t,-y,b);break;case"bottom-left":vn(t,-y,-b);break;case"top-right":vn(t,y,b);break;case"bottom-right":vn(t,y,-b)}return r9(e,i,t),e}})();function aNt(t,e,i){return Zn(t,e),t.rotation+=i,t}function b9t(t,e,i){return Zn(t,e),t.rotation=i,t}const w9t=(function(){const t=br();return function(e,i,n,a,d){return Zn(e,i),isNaN(n)||n===0||(_W(t,a,i,d),e.scale=i.scale*n,SW(t,t,e,d),r9(e,e,vn(t,t[0]-a[0],a[1]-t[1]))),e}})();function tI(t,e,i){return Zn(t,e),t.scale=i,t}const wW=(function(){const t=br();return function(e,i,n,a,d,y){return Zn(e,i),isNaN(n)||n===0||(_W(t,d,i,y),e.scale=i.scale*n,e.rotation+=a,SW(t,t,e,y),r9(e,e,vn(t,t[0]-d[0],d[1]-t[1]))),e}})(),lNt=(function(){const t=br(),e=br();return function(i,n,a,d,y,b,S){return gW(e,b,S),JV(t,y,e),d?wW(i,n,a,d,t,b):w9t(i,n,a,t,b)}})(),_W=(function(){const t=rl();return function(e,i,n,a){return Xa(e,i,c9t(t,n,a,1))}})(),SW=(function(){const t=rl();return function(e,i,n,a){return Xa(e,i,$M(t,n,a,1))}})(),r9=(function(){const t=br(),e=rl();return function(i,n,a){Zn(i,n);const d=n1(n),y=i.targetGeometry;return aW(e,CM(n)),e9(e,e,gv(d,d)),Xa(t,a,e),y.x+=t[0],y.y+=t[1],i}})();function xW(){const t=new Float32Array(6);return t[0]=1,t[3]=1,t}function _9t(t){const e=new Float32Array(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function S9t(t,e,i,n,a,d){const y=new Float32Array(6);return y[0]=t,y[1]=e,y[2]=i,y[3]=n,y[4]=a,y[5]=d,y}function TW(t,e,i,n){const a=e[n],d=e[n+1];t[n]=i[0]*a+i[2]*d+i[4],t[n+1]=i[1]*a+i[3]*d+i[5]}function x9t(t,e,i,n=0,a=0,d=2){const y=a||e.length/d;for(let b=n;b<y;b++)TW(t,e,i,b*d)}Object.freeze(Object.defineProperty({__proto__:null,clone:_9t,create:xW,fromValues:S9t,transform:TW,transformMany:x9t},Symbol.toStringTag,{value:"Module"}));function T9t(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function E9t(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function EW(t,e,i,n,a,d,y,b,S,T){return t[0]=e,t[1]=i,t[2]=n,t[3]=a,t[4]=d,t[5]=y,t[6]=b,t[7]=S,t[8]=T,t}function MW(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function M9t(t,e){if(t===e){const i=e[1],n=e[2],a=e[5];t[1]=e[3],t[2]=e[6],t[3]=i,t[5]=e[7],t[6]=n,t[7]=a}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function A9t(t,e){const i=e[0],n=e[1],a=e[2],d=e[3],y=e[4],b=e[5],S=e[6],T=e[7],C=e[8],k=C*y-b*T,D=-C*d+b*S,z=T*d-y*S;let G=i*k+n*D+a*z;return G?(G=1/G,t[0]=k*G,t[1]=(-C*n+a*T)*G,t[2]=(b*n-a*y)*G,t[3]=D*G,t[4]=(C*i-a*S)*G,t[5]=(-b*i+a*d)*G,t[6]=z*G,t[7]=(-T*i+n*S)*G,t[8]=(y*i-n*d)*G,t):null}function R9t(t,e){const i=e[0],n=e[1],a=e[2],d=e[3],y=e[4],b=e[5],S=e[6],T=e[7],C=e[8];return t[0]=y*C-b*T,t[1]=a*T-n*C,t[2]=n*b-a*y,t[3]=b*S-d*C,t[4]=i*C-a*S,t[5]=a*d-i*b,t[6]=d*T-y*S,t[7]=n*S-i*T,t[8]=i*y-n*d,t}function C9t(t){const e=t[0],i=t[1],n=t[2],a=t[3],d=t[4],y=t[5],b=t[6],S=t[7],T=t[8];return e*(T*d-y*S)+i*(-T*a+y*b)+n*(S*a-d*b)}function NM(t,e,i){const n=e[0],a=e[1],d=e[2],y=e[3],b=e[4],S=e[5],T=e[6],C=e[7],k=e[8],D=i[0],z=i[1],G=i[2],B=i[3],H=i[4],X=i[5],et=i[6],rt=i[7],it=i[8];return t[0]=D*n+z*y+G*T,t[1]=D*a+z*b+G*C,t[2]=D*d+z*S+G*k,t[3]=B*n+H*y+X*T,t[4]=B*a+H*b+X*C,t[5]=B*d+H*S+X*k,t[6]=et*n+rt*y+it*T,t[7]=et*a+rt*b+it*C,t[8]=et*d+rt*S+it*k,t}function R8(t,e,i){const n=e[0],a=e[1],d=e[2],y=e[3],b=e[4],S=e[5],T=e[6],C=e[7],k=e[8],D=i[0],z=i[1];return t[0]=n,t[1]=a,t[2]=d,t[3]=y,t[4]=b,t[5]=S,t[6]=D*n+z*y+T,t[7]=D*a+z*b+C,t[8]=D*d+z*S+k,t}function AW(t,e,i){const n=e[0],a=e[1],d=e[2],y=e[3],b=e[4],S=e[5],T=e[6],C=e[7],k=e[8],D=Math.sin(i),z=Math.cos(i);return t[0]=z*n+D*y,t[1]=z*a+D*b,t[2]=z*d+D*S,t[3]=z*y-D*n,t[4]=z*b-D*a,t[5]=z*S-D*d,t[6]=T,t[7]=C,t[8]=k,t}function O9t(t,e,i){const n=i[0],a=i[1],d=i[2];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=a*e[3],t[4]=a*e[4],t[5]=a*e[5],t[6]=d*e[6],t[7]=d*e[7],t[8]=d*e[8],t}function $9t(t,e,i){const n=i[0],a=i[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=a*e[3],t[4]=a*e[4],t[5]=a*e[5],t}function N9t(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function k9t(t,e){const i=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=i,t[2]=0,t[3]=-i,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function P9t(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function I9t(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function D9t(t,e){const i=e[0],n=e[1],a=e[2],d=e[3],y=i+i,b=n+n,S=a+a,T=i*y,C=n*y,k=n*b,D=a*y,z=a*b,G=a*S,B=d*y,H=d*b,X=d*S;return t[0]=1-k-G,t[3]=C-X,t[6]=D+H,t[1]=C+X,t[4]=1-T-G,t[7]=z-B,t[2]=D-H,t[5]=z+B,t[8]=1-T-k,t}function L9t(t,e){const i=e[0],n=e[1],a=e[2],d=e[4],y=e[5],b=e[6],S=e[8],T=e[9],C=e[10],k=C*y-b*T,D=-C*d+b*S,z=T*d-y*S,G=i*k+n*D+a*z;if(!G)return null;const B=1/G;return t[0]=k*B,t[1]=(-C*n+a*T)*B,t[2]=(b*n-a*y)*B,t[3]=D*B,t[4]=(C*i-a*S)*B,t[5]=(-b*i+a*d)*B,t[6]=z*B,t[7]=(-T*i+n*S)*B,t[8]=(y*i-n*d)*B,t}function j9t(t,e){const i=e[0],n=e[1],a=e[2],d=e[3],y=e[4],b=e[5],S=e[6],T=e[7],C=e[8],k=e[9],D=e[10],z=e[11],G=e[12],B=e[13],H=e[14],X=e[15],et=i*b-n*y,rt=i*S-a*y,it=i*T-d*y,ot=n*S-a*b,pt=n*T-d*b,yt=a*T-d*S,ft=C*B-k*G,vt=C*H-D*G,Ct=C*X-z*G,Dt=k*H-D*B,zt=k*X-z*B,Wt=D*X-z*H;let Xt=et*Wt-rt*zt+it*Dt+ot*Ct-pt*vt+yt*ft;return Xt?(Xt=1/Xt,t[0]=(b*Wt-S*zt+T*Dt)*Xt,t[1]=(S*Ct-y*Wt-T*vt)*Xt,t[2]=(y*zt-b*Ct+T*ft)*Xt,t[3]=(a*zt-n*Wt-d*Dt)*Xt,t[4]=(i*Wt-a*Ct+d*vt)*Xt,t[5]=(n*Ct-i*zt-d*ft)*Xt,t[6]=(B*yt-H*pt+X*ot)*Xt,t[7]=(H*it-G*yt-X*rt)*Xt,t[8]=(G*pt-B*it+X*et)*Xt,t):null}function z9t(t,e,i){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/i,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function U9t(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function F9t(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+t[6]**2+t[7]**2+t[8]**2)}function B9t(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t[4]=e[4]+i[4],t[5]=e[5]+i[5],t[6]=e[6]+i[6],t[7]=e[7]+i[7],t[8]=e[8]+i[8],t}function RW(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t[4]=e[4]-i[4],t[5]=e[5]-i[5],t[6]=e[6]-i[6],t[7]=e[7]-i[7],t[8]=e[8]-i[8],t}function G9t(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*i,t}function q9t(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t[2]=e[2]+i[2]*n,t[3]=e[3]+i[3]*n,t[4]=e[4]+i[4]*n,t[5]=e[5]+i[5]*n,t[6]=e[6]+i[6]*n,t[7]=e[7]+i[7]*n,t[8]=e[8]+i[8]*n,t}function H9t(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function V9t(t,e){const i=t[0],n=t[1],a=t[2],d=t[3],y=t[4],b=t[5],S=t[6],T=t[7],C=t[8],k=e[0],D=e[1],z=e[2],G=e[3],B=e[4],H=e[5],X=e[6],et=e[7],rt=e[8],it=Ls();return Math.abs(i-k)<=it*Math.max(1,Math.abs(i),Math.abs(k))&&Math.abs(n-D)<=it*Math.max(1,Math.abs(n),Math.abs(D))&&Math.abs(a-z)<=it*Math.max(1,Math.abs(a),Math.abs(z))&&Math.abs(d-G)<=it*Math.max(1,Math.abs(d),Math.abs(G))&&Math.abs(y-B)<=it*Math.max(1,Math.abs(y),Math.abs(B))&&Math.abs(b-H)<=it*Math.max(1,Math.abs(b),Math.abs(H))&&Math.abs(S-X)<=it*Math.max(1,Math.abs(S),Math.abs(X))&&Math.abs(T-et)<=it*Math.max(1,Math.abs(T),Math.abs(et))&&Math.abs(C-rt)<=it*Math.max(1,Math.abs(C),Math.abs(rt))}function W9t(t){const e=Ls(),i=t[0],n=t[1],a=t[2],d=t[3],y=t[4],b=t[5],S=t[6],T=t[7],C=t[8];return Math.abs(1-(i*i+d*d+S*S))<=e&&Math.abs(1-(n*n+y*y+T*T))<=e&&Math.abs(1-(a*a+b*b+C*C))<=e}const J9t=NM,Y9t=RW;Object.freeze(Object.defineProperty({__proto__:null,add:B9t,adjoint:R9t,copy:E9t,determinant:C9t,equals:V9t,exactEquals:H9t,frob:F9t,fromMat2d:I9t,fromMat4:T9t,fromQuat:D9t,fromRotation:k9t,fromScaling:P9t,fromTranslation:N9t,identity:MW,invert:A9t,isOrthoNormal:W9t,mul:J9t,multiply:NM,multiplyScalar:G9t,multiplyScalarAndAdd:q9t,normalFromMat4:j9t,normalFromMat4Legacy:L9t,projection:z9t,rotate:AW,scale:O9t,scaleByVec2:$9t,set:EW,str:U9t,sub:Y9t,subtract:RW,translate:R8,transpose:M9t},Symbol.toStringTag,{value:"Module"}));function gb(){const t=new Float32Array(9);return t[0]=1,t[4]=1,t[8]=1,t}function K9t(t){const e=new Float32Array(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function X9t(t,e,i,n,a,d,y,b,S){const T=new Float32Array(9);return T[0]=t,T[1]=e,T[2]=i,T[3]=n,T[4]=a,T[5]=d,T[6]=y,T[7]=b,T[8]=S,T}Object.freeze(Object.defineProperty({__proto__:null,clone:K9t,create:gb,fromValues:X9t},Symbol.toStringTag,{value:"Module"}));function CW(){return new Float32Array(2)}function Z9t(t){const e=new Float32Array(2);return e[0]=t[0],e[1]=t[1],e}function $p(t,e){const i=new Float32Array(2);return i[0]=t,i[1]=e,i}function OW(){return CW()}function $W(){return $p(1,1)}function NW(){return $p(1,0)}function kW(){return $p(0,1)}const Q9t=OW(),t4t=$W(),e4t=NW(),i4t=kW();Object.freeze(Object.defineProperty({__proto__:null,ONES:t4t,UNIT_X:e4t,UNIT_Y:i4t,ZEROS:Q9t,clone:Z9t,create:CW,fromValues:$p,ones:$W,unitX:NW,unitY:kW,zeros:OW},Symbol.toStringTag,{value:"Module"}));function r4t(t){return t instanceof Float32Array&&t.length>=2}function n4t(t){return Array.isArray(t)&&t.length>=2}function z_(t){return r4t(t)||n4t(t)}var C8;const Pl=[0,0];let Kl=C8=class extends Zt{constructor(t){super(t),this._viewpoint2D={center:br(),rotation:0,scale:0,spatialReference:void 0},this.center=[0,0],this.extent=new Be,this.id=0,this.inverseTransform=rl(),this.resolution=0,this.rotation=0,this.scale=0,this.transform=rl(),this.transformNoRotation=rl(),this.displayMat3=gb(),this.displayViewMat3=gb(),this.viewMat3=gb(),this.viewMat2d=xW(),this.worldScreenWidth=0,this.size=[0,0]}set pixelRatio(t){this._set("pixelRatio",t),this._update()}set size(t){this._set("size",t),this._update()}set viewpoint(t){if(t){const e=this._viewpoint2D,i=t.targetGeometry;e.center[0]=i.x,e.center[1]=i.y,e.rotation=t.rotation,e.scale=t.scale,e.spatialReference=i.spatialReference}this._update()}get visibleArea(){const[t,e]=this.size;return[this.toMap([0,0],0,0),this.toMap([0,0],0,e),this.toMap([0,0],t,e),this.toMap([0,0],t,0)]}copy(t){const e=this.size,i=this.viewpoint;return i&&e?(this.viewpoint=Zn(i,t.viewpoint),this._set("size",G0(e,t.size))):(this.viewpoint=t.viewpoint.clone(),this._set("size",[t.size[0],t.size[1]])),this._set("pixelRatio",t.pixelRatio),this}clone(){return new C8({size:this.size,viewpoint:this.viewpoint.clone(),pixelRatio:this.pixelRatio})}toMap(t,e,i){return z_(e)?Xa(t,e,this.inverseTransform):(Pl[0]=e,Pl[1]=i,Xa(t,Pl,this.inverseTransform))}toScreen(t,e,i){return z_(e)?Xa(t,e,this.transform):(Pl[0]=e,Pl[1]=i,Xa(t,Pl,this.transform))}toScreenNoRotation(t,e,i){return z_(e)?Xa(t,e,this.transformNoRotation):(Pl[0]=e,Pl[1]=i,Xa(t,Pl,this.transformNoRotation))}wrapMapCoordinate(t,e){G0(t,e);const[i]=e,[n]=this.center,{extent:a,spatialReference:d}=this;let{xmin:y,xmax:b}=a;if(d.isWrappable){const S=bW(d)/2;y=Math.max(y,n-S),b=Math.min(b,n+S)}return(i<y||i>b)&&(t[0]=AM(i,n,d)),t}getScreenTransform(t,e){const{center:i}=this._viewpoint2D,n=this._get("pixelRatio")||1,a=this._get("size");return OM(t,i,a,e,0,n),t}_update(){const{center:t,spatialReference:e,scale:i,rotation:n}=this._viewpoint2D,a=this._get("pixelRatio")||1,d=this._get("size"),y=new Bo({targetGeometry:new ue(t[0],t[1],e),scale:i,rotation:n});if(this._set("viewpoint",y),!d||!e||!i)return;this.resolution=n1(y),this.rotation=n,this.scale=i,this.spatialReference=e,G0(this.center,t);const b=d[0]!==0?2/d[0]:0,S=d[1]!==0?-2/d[1]:0;EW(this.displayMat3,b,0,0,0,S,0,-1,1,1);const T=MW(this.viewMat3),C=$p(d[0]/2,d[1]/2),k=$p(-d[0]/2,-d[1]/2),D=rM(n);R8(T,T,C),AW(T,T,D),R8(T,T,k),NM(this.displayViewMat3,this.displayMat3,T);const z=MM(this.viewMat2d,C);return vv(z,z,D),Op(z,z,k),l9t(this.extent,y,d),$M(this.transform,y,d,a),EM(this.inverseTransform,this.transform),p9t(this.transformNoRotation,y,d,a),this.worldScreenWidth=y9t(this.spatialReference,this.resolution),this._set("id",this.id+1),this.notifyChange("visibleArea"),this}};E([N({readOnly:!0})],Kl.prototype,"id",void 0),E([N({value:1,json:{write:!0}})],Kl.prototype,"pixelRatio",null),E([N({json:{write:!0}})],Kl.prototype,"size",null),E([N()],Kl.prototype,"spatialReference",void 0),E([N({type:Bo,json:{write:!0}})],Kl.prototype,"viewpoint",null),E([N({readOnly:!0})],Kl.prototype,"visibleArea",null),Kl=C8=E([ut("esri.views.2d.ViewState")],Kl);const eI=Kl;var O8,$8;let cu=O8=class extends ve{constructor(){super(...arguments),this.left=0,this.top=0,this.right=0,this.bottom=0}clone(){return new O8({left:this.left,top:this.top,right:this.right,bottom:this.bottom})}};E([N()],cu.prototype,"left",void 0),E([N()],cu.prototype,"top",void 0),E([N()],cu.prototype,"right",void 0),E([N()],cu.prototype,"bottom",void 0),cu=O8=E([ut("esri.views.2d.PaddedViewState.Padding")],cu);let s0=$8=class extends eI{constructor(...t){super(...t),this.paddedViewState=new eI,this._updateContent=(()=>{const e=br();return()=>{const i=this._get("size"),n=this._get("padding");if(!i||!n)return;const a=this.paddedViewState;vn(e,n.left+n.right,n.top+n.bottom),Tg(e,i,e),G0(a.size,e);const d=a.viewpoint;d&&(this.viewpoint=d)}})(),this.addHandles(Ce((()=>[this.size,this.padding]),(()=>this._updateContent()),Wc)),this.padding=new cu,this.size=[0,0]}set padding(t){this._set("padding",t||new cu)}set viewpoint(t){if(t){this.paddedViewState.viewpoint=t;let e=t;const i=this._get("padding");i&&(e=g9t(t.clone(),t,this._get("size"),i));const{targetGeometry:n,rotation:a,scale:d}=e,{x:y,y:b,spatialReference:S}=n,T=this._viewpoint2D;T.center[0]=y,T.center[1]=b,T.rotation=a,T.scale=d,T.spatialReference=S,this._update()}}clone(){return new $8({padding:this.padding.clone(),size:this.size.slice(),viewpoint:this.paddedViewState.viewpoint.clone(),pixelRatio:this.pixelRatio})}};E([N()],s0.prototype,"paddedViewState",void 0),E([N({type:cu})],s0.prototype,"padding",null),E([N()],s0.prototype,"viewpoint",null),s0=$8=E([ut("esri.views.2d.PaddedViewState")],s0);const kM=s0;var qn;(function(t){t[t.ANIMATING=0]="ANIMATING",t[t.INTERACTING=1]="INTERACTING",t[t.IDLE=2]="IDLE"})(qn||(qn={}));const PW=Symbol("Yield");let s4t=class{constructor(){this._tasks=new Array,this._numPendingTasks=Cp(0),this._running=Cp(!1)}get length(){return this._tasks.length}get updating(){return this._numPendingTasks.value>0}get running(){return this._running.value}_updateRunning(){this._running.value=this._tasks.length>0}destroy(){this.cancelAll()}runTask(e){if(this.length===0)return PW;for(;!e.done&&this._process(e);)e.madeProgress()}push(e,i,n){return new Promise(((a,d)=>{this._tasks.push(new iI(a,d,e,i,n)),++this._numPendingTasks.value,this._updateRunning()})).finally((()=>--this._numPendingTasks.value))}unshift(e,i,n){return new Promise(((a,d)=>{this._tasks.unshift(new iI(a,d,e,i,n)),++this._numPendingTasks.value,this._updateRunning()})).finally((()=>--this._numPendingTasks.value))}_process(e){if(this._tasks.length===0)return!1;const i=this._tasks.shift();this._updateRunning();try{const n=Go(i.signal);if(n&&!i.abortCallback)i.reject(Zi());else{const a=n?i.abortCallback?.(Zi()):i.callback(e);hl(a)?a.then(i.resolve,i.reject):i.resolve(a)}}catch(n){i.reject(n)}return!0}cancelAll(){const e=Zi();for(const i of this._tasks)if(i.abortCallback){const n=i.abortCallback(e);i.resolve(n)}else i.reject(e);this._tasks.length=0,this._updateRunning()}},iI=class{constructor(e,i,n,a=void 0,d=void 0){this.resolve=e,this.reject=i,this.callback=n,this.signal=a,this.abortCallback=d}},dm=class extends ve{constructor(){super(...arguments),this.SCHEDULER_LOG_SLOW_TASKS=!1,this.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1}};E([N()],dm.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0),E([N()],dm.prototype,"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES",void 0),dm=E([ut("esri.views.support.debugFlags")],dm);const o4t=new dm;function a4t(){return new $w.Scheduler}var qe;(function(t){t.RESOURCE_CONTROLLER_IMMEDIATE="immediate",t.RESOURCE_CONTROLLER="schedule",t.SLIDE="slide",t.STREAM_DATA_LOADER="stream loader",t.ELEVATION_QUERY="elevation query",t.TERRAIN_SURFACE="terrain",t.SURFACE_GEOMETRY_UPDATES="surface geometry updates",t.LOD_RENDERER="LoD renderer",t.GRAPHICS_CORE="Graphics3D",t.I3S_CONTROLLER="I3S",t.POINT_CLOUD_LAYER="point cloud",t.FEATURE_TILE_FETCHER="feature fetcher",t.OVERLAY="overlay",t.OVERLAY_RENDERER="overlay renderer",t.STAGE="stage",t.GRAPHICS_DECONFLICTOR="graphics deconflictor",t.FILTER_VISIBILITY="Graphics3D filter visibility",t.SCALE_VISIBILITY="Graphics3D scale visibility",t.FRUSTUM_VISIBILITY="Graphics3D frustum visibility",t.POINT_OF_INTEREST_FREQUENT="POI frequent",t.POINT_OF_INTEREST_INFREQUENT="POI infrequent",t.LABELER="labeler",t.FEATURE_QUERY_ENGINE="feature query",t.FEATURE_TILE_TREE="feature tile tree",t.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree",t.ELEVATION_ALIGNMENT="elevation alignment",t.ELEVATION_ALIGNMENT_SCENE="elevation alignment scene",t.TEXT_TEXTURE_ATLAS="text texture atlas",t.TEXTURE_UNLOAD="texture unload",t.LINE_OF_SIGHT_TOOL="line of sight tool",t.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool",t.ELEVATION_PROFILE="elevation profile",t.SNAPPING="snapping",t.SHADOW_ACCUMULATOR="shadow accumulator",t.CLOUDS_GENERATOR="clouds generator",t.MAPVIEW_FETCH_QUEUE="mapview fetch queue",t.MAPVIEW_LAYERVIEW_UPDATE="mapview layerview update",t.MAPVIEW_VECTOR_TILE_PARSING_QUEUE="mapview vector tile parsing queue",t[t.NONE=0]="NONE",t[t.TEST_PRIO=1]="TEST_PRIO"})(qe||(qe={}));const Co=0,rI=new Map([[qe.RESOURCE_CONTROLLER_IMMEDIATE,Co],[qe.RESOURCE_CONTROLLER,4],[qe.SLIDE,Co],[qe.STREAM_DATA_LOADER,Co],[qe.ELEVATION_QUERY,Co],[qe.TERRAIN_SURFACE,1],[qe.SURFACE_GEOMETRY_UPDATES,1],[qe.LOD_RENDERER,2],[qe.GRAPHICS_CORE,2],[qe.I3S_CONTROLLER,2],[qe.POINT_CLOUD_LAYER,2],[qe.FEATURE_TILE_FETCHER,2],[qe.CLOUDS_GENERATOR,2],[qe.OVERLAY,4],[qe.OVERLAY_RENDERER,4],[qe.STAGE,4],[qe.GRAPHICS_DECONFLICTOR,4],[qe.FILTER_VISIBILITY,4],[qe.SCALE_VISIBILITY,4],[qe.FRUSTUM_VISIBILITY,4],[qe.POINT_OF_INTEREST_FREQUENT,6],[qe.POINT_OF_INTEREST_INFREQUENT,30],[qe.LABELER,8],[qe.FEATURE_QUERY_ENGINE,8],[qe.FEATURE_TILE_TREE,16],[qe.FEATURE_TILE_TREE_ACTIVE,Co],[qe.ELEVATION_ALIGNMENT,12],[qe.ELEVATION_ALIGNMENT_SCENE,14],[qe.TEXT_TEXTURE_ATLAS,12],[qe.TEXTURE_UNLOAD,12],[qe.LINE_OF_SIGHT_TOOL,16],[qe.LINE_OF_SIGHT_TOOL_INTERACTIVE,Co],[qe.SNAPPING,Co],[qe.SHADOW_ACCUMULATOR,30],[qe.MAPVIEW_FETCH_QUEUE,Co],[qe.MAPVIEW_LAYERVIEW_UPDATE,2],[qe.MAPVIEW_VECTOR_TILE_PARSING_QUEUE,Co]]);function nI(t){return rI.has(t)?rI.get(t):typeof t=="number"?t:1}const l4t=6.5,sI=1,u4t=30,c4t=1e3/30,h4t=100,oI=.9;var $w,Eh;(function(t){class e{get updating(){return this._updating.value}_updatingChanged(){this._updating.value=this._tasks.some((d=>d.needsUpdate))}constructor(){this._updating=Cp(!0),this._microTaskQueued=!1,this._frameNumber=0,this.performanceInfo={total:new Tm("total"),tasks:new Map},this._frameTaskTimes=new Map,this._budget=new n,this._state=qn.INTERACTING,this._tasks=new Em,this._runQueue=new Em,this._load=0,this._idleStateCallbacks=new Em,this._idleUpdatesStartFired=!1,this._forceTask=!1,this._debug=!1,this._debugHandle=Ce((()=>o4t.SCHEDULER_LOG_SLOW_TASKS),(d=>this._debug=d),Qn);for(const d of Object.keys(qe))this.performanceInfo.tasks.set(qe[d],new Tm(qe[d]))}destroy(){this._tasks.toArray().forEach((d=>d.remove())),this._tasks.clear(),or(this._debugHandle),this._microTaskQueued=!1,this._updatingChanged()}taskRunningChanged(d){this._updatingChanged(),d&&this._budget.remaining>0&&!this._microTaskQueued&&(this._microTaskQueued=!0,queueMicrotask((()=>{this._microTaskQueued&&(this._microTaskQueued=!1,this._budget.remaining>0&&this._schedule()&&this._runFrame())})))}registerTask(d,y){const b=new i(this,d,y);return this._tasks.push(b),this._updatingChanged(),this.performanceInfo.tasks.has(d)||this.performanceInfo.tasks.set(d,new Tm(d)),b}registerIdleStateCallbacks(d,y){const b={idleBegin:d,idleEnd:y};this._idleStateCallbacks.push(b),this.state===qn.IDLE&&this._idleUpdatesStartFired&&b.idleBegin();const S=this;return{remove:()=>this._removeIdleStateCallbacks(b),set idleBegin(T){S._idleUpdatesStartFired&&(b.idleEnd(),S._state===qn.IDLE&&T()),b.idleBegin=T},set idleEnd(T){b.idleEnd=T}}}get load(){return this._load}set state(d){this._state!==d&&(this._state=d,this.state!==qn.IDLE&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll((y=>y.idleEnd()))))}get state(){return this._state}frame(d){this._startFrameTaskTimes();const y=this._updateBudget(d);if(y){const b=this._budget.now();this._runFrame(),this._recordFrameTaskTimes(this._budget.now()-b)}else this._recordFrameTaskTimes(0);return y}_updateBudget(d){this._test&&(this._test.usedBudget=0),++this._frameNumber;let y=l4t,b=d.frameDuration,S=sI;switch(this.state){case qn.IDLE:y=0,b=Math.max(h4t,d.frameDuration),S=u4t;break;case qn.INTERACTING:b=Math.max(c4t,d.frameDuration);case qn.ANIMATING:}return b=b-d.elapsedFrameTime-y,this.state!==qn.IDLE&&b<sI&&!this._forceTask?(this._forceTask=!0,!1):(b=Math.max(b,S),this._budget.reset(b),this._updateLoad(),this._schedule())}_runFrame(){switch(this._forceTask=!1,this._microTaskQueued=!1,this.state){case qn.IDLE:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=!0,this._idleStateCallbacks.forAll((d=>d.idleBegin()))),this._runIdle();break;case qn.INTERACTING:this._runInteracting();break;default:this._runAnimating()}this._test&&(this._test.usedBudget=this._budget.elapsed)}stopFrame(){this._budget.reset(0),this._budget.madeProgress()}_removeIdleStateCallbacks(d){this._idleUpdatesStartFired&&d.idleEnd(),this._idleStateCallbacks.removeUnordered(d)}removeTask(d){this._tasks.removeUnordered(d),this._runQueue.removeUnordered(d),this._updatingChanged()}_updateTask(d){this._tasks.forAll((y=>{y.name===d&&y.setPriority(d)}))}_getState(d){if(this._runQueue.some((b=>b.name===d)))return Eh.SCHEDULED;let y=Eh.IDLE;return this._tasks.forAll((b=>{b.name===d&&b.needsUpdate&&(b.schedulePriority<=1?y=Eh.READY:y!==Eh.READY&&(y=Eh.WAITING))})),y}_getRuntime(d){let y=0;return this._tasks.forAll((b=>{b.name===d&&(y+=b.runtime)})),y}_resetRuntimes(){this._tasks.forAll((d=>d.runtime=0))}_getRunning(){const d=new Map;if(this._tasks.forAll((b=>{b.needsUpdate&&d.set(b.name,(d.get(b.name)||0)+1)})),d.size===0)return null;let y="";return d.forEach(((b,S)=>{y+=b>1?` ${b}x ${S}`:` ${S}`})),y}_runIdle(){this._run()}_runInteracting(){this._run()}_runAnimating(){this._run()}_updateLoad(){const d=this._tasks.reduce(((y,b)=>b.needsUpdate?++y:y),0);this._load=this._load*oI+d*(1-oI)}_schedule(){for(this._runQueue.filterInPlace((d=>!!d.needsUpdate||(d.schedulePriority=d.basePriority,!1))),this._tasks.forAll((d=>{d.basePriority===Co&&d.needsUpdate&&!this._runQueue.includes(d)&&d.blockFrame!==this._frameNumber&&this._runQueue.unshift(d)}));this._runQueue.length===0;){let d=!1,y=0;if(this._tasks.forAll((b=>{b.needsUpdate&&b.schedulePriority!==0&&b.basePriority!==Co&&b.blockFrame!==this._frameNumber&&(d=!0,y=Math.max(y,b.basePriority),b.schedulePriority===1?(b.schedulePriority=0,this._runQueue.push(b)):--b.schedulePriority)})),!d)return this._updatingChanged(),!1}return this._updatingChanged(),!0}_run(){do for(;this._runQueue.length>0;){const d=this._budget.now(),y=this._runQueue.pop();this._budget.resetProgress();try{y.task.runTask(this._budget)===PW&&(y.blockFrame=this._frameNumber)}catch(S){ae.getLogger("esri.views.support.Scheduler").error(`Exception in task "${y.name}"`,S),y.blockFrame=this._frameNumber}!this._budget.hasProgressed&&y.blockFrame!==this._frameNumber&&y.needsUpdate&&(y.name,qe.I3S_CONTROLLER,y.blockFrame=this._frameNumber),y.schedulePriority=y.basePriority;const b=this._budget.now()-d;if(y.runtime+=b,this._frameTaskTimes.set(y.priority,this._frameTaskTimes.get(y.priority)+b),this._budget.remaining<=0)return void this._updatingChanged()}while(this._schedule());this._updatingChanged()}_startFrameTaskTimes(){for(const d of Object.keys(qe))this._frameTaskTimes.set(qe[d],0)}_recordFrameTaskTimes(d){this._frameTaskTimes.forEach(((y,b)=>this.performanceInfo.tasks.get(b).push(y))),this.performanceInfo.total.push(d)}get test(){return this._test}}t.Scheduler=e;class i{get task(){return this._task.value}get updating(){return this._queue.running}constructor(d,y,b){this._scheduler=d,this.name=y,this.blockFrame=0,this.runtime=0,this._queue=new s4t,this._handles=new Lp,this._basePriority=nI(y),this.schedulePriority=this._basePriority,this._task=Cp(b??this._queue),this._handles.add(Ho((()=>this.task.running),(S=>d.taskRunningChanged(S))))}remove(){this.processQueue(PM),this._scheduler.removeTask(this),this.schedule=aI.schedule,this.reschedule=aI.reschedule,this._handles.destroy()}get basePriority(){return this._basePriority}setPriority(d){if(this.name===d)return;this.name=d;const y=nI(d);this._basePriority!==Co&&this.schedulePriority===0||(this.schedulePriority=y),this._basePriority=y}get priority(){return this.name}set priority(d){this.setPriority(d)}get needsUpdate(){return this.updating||this.task.running}schedule(d,y,b){return this._queue.push(d,y,b)}reschedule(d,y,b){return this._queue.unshift(d,y,b)}processQueue(d){return this._queue.runTask(d)}}class n{constructor(){this._begin=performance?.now()??0,this._budget=0,this._done=!1,this._progressed=!1,this._enabled=!0}run(d){return!this.done&&(d()===!0&&this.madeProgress(),!0)}get done(){return this._done}get budget(){return this._budget}madeProgress(){return this._progressed=!0,this._done=this.elapsed>=this._budget&&this._enabled,this._done}get enabled(){return this._enabled}set enabled(d){this._enabled=d}reset(d){this._begin=this.now(),this._budget=d,this.resetProgress()}get remaining(){return Math.max(this._budget-this.elapsed,0)}now(){return performance.now()}get elapsed(){return this.now()-this._begin}resetProgress(){this._progressed=!1,this._done=!1}get hasProgressed(){return this._progressed}}t.Budget=n})($w||($w={})),(function(t){t.SCHEDULED="s",t.READY="r",t.WAITING="w",t.IDLE="i"})(Eh||(Eh={}));const PM=new $w.Budget;PM.enabled=!1;let f4t=class{remove(){}processQueue(){}schedule(e,i,n){try{if(Go(i)){const a=Zi();return n?Promise.resolve(n(a)):Promise.reject(a)}return dS(e(PM))}catch(a){return Promise.reject(a)}}reschedule(e,i,n){return this.schedule(e,i,n)}};const aI=new f4t;let d4t=class{constructor(e){this.view=e,this._stationaryHandle=null,this._frameTaskHandle=null,this._updateParameters=null,this._updateRequested=!1,this._scheduler=a4t(),this._schedulerHandle=Ho((()=>this._scheduler.updating),(()=>this.requestFrame())),this.stationary=!0,this.prepare=()=>{this._updateParameters&&(this._updateParameters.state=this.view.state,this._updateParameters.stationary=this.view.stationary,this._updateParameters.pixelRatio=window.devicePixelRatio,this._updateParameters.renderingOptions=this.view.renderingOptions,this._updateParameters.targetState.copy(this.view.state),this.view.animation?.target==null||hl(this.view.animation.target)||(this._updateParameters.targetState.viewpoint=this.view.animation.target))},this.update=i=>{if(this._updateRequested=!1,this.view?.destroyed)return;const{allLayerViews:n,graphicsView:a,labelManager:d,state:{id:y}}=this.view;n?.forEach(this._updateLayerView,this),d!=null&&(d.lastUpdateId!==y&&(d.viewChange(),d.lastUpdateId=y),d.updateRequested&&d.processUpdate(this._updateParameters)),a!=null&&(a.lastUpdateId!==y&&(a.viewChange(),a.lastUpdateId=y),a.updateRequested&&a.processUpdate(this._updateParameters)),this.view.graphicsTileStore?.setViewState(this._updateParameters.state),this.view.animation?this._scheduler.state=qn.ANIMATING:this.view.interacting?this._scheduler.state=qn.INTERACTING:this._scheduler.state=qn.IDLE,this._scheduler.frame(i)||this._updateRequested||this._scheduler.state!==qn.IDLE||this._frameTaskHandle?.pause()}}destroy(){this.stop(),this._schedulerHandle.remove(),this._scheduler.destroy()}get scheduler(){return this._scheduler}start(){if(this._frameTaskHandle)return;const e=this.view;this.stationary=e.stationary,this._updateParameters={state:e.state,targetState:new kM,pixelRatio:window.devicePixelRatio,stationary:this.stationary,renderingOptions:e.renderingOptions},this._stationaryHandle=Ce((()=>e.stationary),(i=>{this.stationary=i,this.requestFrame()})),this._frameTaskHandle=dp(this),this.requestUpdate()}stop(){this._frameTaskHandle&&(this._updateRequested=!1,this._stationaryHandle?.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0)}requestUpdate(){this._updateRequested||(this._updateRequested=!0,this.requestFrame())}requestFrame(){this._frameTaskHandle&&this._frameTaskHandle.resume()}_updateLayerView(e){if(!e.attached)return void this.requestUpdate();const i=this.view.state,n=e.lastUpdateId;n!=null&&(this.stationary||e.moving)||(e.moving=!0),n!==i.id&&e.viewChange(),this.stationary&&e.moving&&(e.moving=!1,e.moveEnd()),e.lastUpdateId=i.id,e.updateRequested&&e.processUpdate(this._updateParameters),"layerViews"in e&&e.layerViews?.forEach(this._updateLayerView,this)}};function p4t(t,e){const{spatialReference:i}=e,n=[e.x,e.y];let a,d,y,b;const S=[0,0],T=y4t(t);for(let D=0;D<T.length;D++){const z=T[D];for(let G=0;G<z.length-1;G++){wpt(S,n,z,G);const B=t9(n,S);(a==null||B<a)&&(a=B,d=[...S],y=D,b=G)}}if(a==null||!d||y==null||b==null)throw new Lt("nearest-coordinate:failed","Failed to find the nearest coordinate");const[C,k]=d;return{coordinate:new ue({x:C,y:k,spatialReference:i}),distance:a}}function y4t(t){switch(t.type){case"extent":return[[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]];case"polygon":return t.rings;case"polyline":return t.paths}}var N8;let rf=N8=class extends ov.NumericIdentifiableMixin(ve){constructor(t){super(t),this.geometry=null,this.spatialReference=null}get normalizedGeometry(){if(this.geometry==null||!this.spatialReference)return null;if(!this.spatialReference.equals(this.geometry.spatialReference))try{return Xf(this.geometry,this.spatialReference)}catch(t){return ae.getLogger(this).error("#constraints.geometry","could not project the geometry to the view's spatial reference",{geometry:this.geometry,spatialReference:this.spatialReference,error:t}),null}return this.geometry}constrain(t,e){if(this.normalizedGeometry==null)return t;const i=t.targetGeometry;if(this.normalizedGeometry.type==="extent"?Gg(this.normalizedGeometry,i):XT(this.normalizedGeometry,i))return t;const{coordinate:n}=p4t(this.normalizedGeometry,i);return n&&(t.targetGeometry=n),t}clone(){return new N8({geometry:this.geometry?.clone(),spatialReference:this.spatialReference?.clone()})}};E([N({constructOnly:!0})],rf.prototype,"geometry",void 0),E([N({readOnly:!0})],rf.prototype,"normalizedGeometry",null),E([N({constructOnly:!0})],rf.prototype,"spatialReference",void 0),rf=N8=E([ut("esri.views.2d.constraints.GeometryConstraint")],rf);var k8;let pm=k8=class extends ov.NumericIdentifiableMixin(ve){constructor(){super(...arguments),this.enabled=!0,this.rotationEnabled=!0}constrain(t,e){return this.enabled&&e&&(this.rotationEnabled||(t.rotation=e.rotation)),t}clone(){return new k8({enabled:this.enabled,rotationEnabled:this.rotationEnabled})}};E([N()],pm.prototype,"enabled",void 0),E([N()],pm.prototype,"rotationEnabled",void 0),pm=k8=E([ut("esri.views.2d.constraints.RotationConstraint")],pm);const IW=pm;var P8;let ws=P8=class extends ov.NumericIdentifiableMixin(ve){constructor(t){super(t),this._lodByScale={},this._scales=[],this.effectiveLODs=null,this.effectiveMinZoom=-1,this.effectiveMaxZoom=-1,this.effectiveMinScale=0,this.effectiveMaxScale=0,this.lods=null,this.minZoom=-1,this.maxZoom=-1,this.minScale=0,this.maxScale=0,this.snapToZoom=!0}initialize(){let t,{lods:e,minScale:i,maxScale:n,minZoom:a,maxZoom:d}=this,y=-1,b=-1,S=!1,T=!1;if(i!==0&&n!==0&&i<n&&([i,n]=[n,i]),!e?.length)return this._set("effectiveMinScale",i),void this._set("effectiveMaxScale",n);e=e.map((C=>C.clone())),e.sort(((C,k)=>k.scale-C.scale)),e.forEach(((C,k)=>C.level=k));for(const C of e)!S&&i>0&&i>=C.scale&&(y=C.level,S=!0),!T&&n>0&&n>=C.scale&&(b=t?t.level:-1,T=!0),t=C;a===-1&&(a=i===0?0:y),d===-1&&(d=n===0?e.length-1:b),a=Math.max(a,0),a=Math.min(a,e.length-1),d=Math.max(d,0),d=Math.min(d,e.length-1),a>d&&([a,d]=[d,a]),i=e[a].scale,n=e[d].scale,e.splice(0,a),e.splice(d-a+1),e.forEach(((C,k)=>{this._lodByScale[C.scale]=C,this._scales[k]=C.scale})),this._set("effectiveLODs",e),this._set("effectiveMinZoom",a),this._set("effectiveMaxZoom",d),this._set("effectiveMinScale",i),this._set("effectiveMaxScale",n)}constrain(t,e){if(e&&t.scale===e.scale)return t;const i=this.effectiveMinScale,n=this.effectiveMaxScale,a=t.targetGeometry,d=e&&e.targetGeometry,y=n!==0&&t.scale<n,b=i!==0&&t.scale>i;if(y||b){const S=b?i:n;if(e&&d){const T=(S-e.scale)/(t.scale-e.scale);a.x=d.x+(a.x-d.x)*T,a.y=d.y+(a.y-d.y)*T}t.scale=S}return this.snapToZoom&&this.effectiveLODs&&(t.scale=this._getClosestScale(t.scale)),t}fit(t){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(t,null);const e=this.scaleToZoom(t.scale),i=Math.abs(e-Math.floor(e));return t.scale=this.zoomToScale(i>.99?Math.round(e):Math.floor(e)),t}zoomToScale(t){if(!this.effectiveLODs)return 0;t-=this.effectiveMinZoom,t=Math.max(0,t);const e=this._scales;if(t<=0)return e[0];if(t>=e.length)return e[e.length-1];const i=Math.floor(t),n=Math.ceil(t);return e[i]+(t-i)*(e[n]-e[i])}scaleToZoom(t){if(!this.effectiveLODs)return-1;const e=this._scales;let i,n;if(t>=e[0])return this.effectiveMinZoom;if(t<=e[e.length-1])return this.effectiveMaxZoom;for(let a=0;a<e.length-1;a++){if(i=e[a],n=e[a+1],n===t)return a+this.effectiveMinZoom+1;if(i>t&&n<t)return a+this.effectiveMinZoom+1-(t-n)/(i-n)}return-1}snapToClosestScale(t){if(!this.effectiveLODs)return t;const e=this.scaleToZoom(t);return this.zoomToScale(Math.round(e))}snapToNextScale(t,e=.5){if(!this.effectiveLODs)return t*e;const i=Math.round(this.scaleToZoom(t));return this.zoomToScale(i+1)}snapToPreviousScale(t,e=2){if(!this.effectiveLODs)return t*e;const i=Math.round(this.scaleToZoom(t));return this.zoomToScale(i-1)}clone(){return new P8({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})}_getClosestScale(t){return this._lodByScale[t]||(t=this._scales.reduce(((e,i)=>Math.abs(i-t)<=Math.abs(e-t)?i:e),this._scales[0])),this._lodByScale[t].scale}};E([N({readOnly:!0})],ws.prototype,"effectiveLODs",void 0),E([N({readOnly:!0})],ws.prototype,"effectiveMinZoom",void 0),E([N({readOnly:!0})],ws.prototype,"effectiveMaxZoom",void 0),E([N({readOnly:!0})],ws.prototype,"effectiveMinScale",void 0),E([N({readOnly:!0})],ws.prototype,"effectiveMaxScale",void 0),E([N()],ws.prototype,"lods",void 0),E([N()],ws.prototype,"minZoom",void 0),E([N()],ws.prototype,"maxZoom",void 0),E([N()],ws.prototype,"minScale",void 0),E([N()],ws.prototype,"maxScale",void 0),E([N()],ws.prototype,"snapToZoom",void 0),ws=P8=E([ut("esri.views.2d.constraints.ZoomConstraint")],ws);const DW=ws,m4t={base:null,key:"type",typeMap:{extent:Be,polygon:rr}};let Ar=class extends ve{constructor(e){super(e),this.lods=null,this.minScale=0,this.maxScale=0,this.minZoom=-1,this.maxZoom=-1,this.rotationEnabled=!0,this.snapToZoom=!0,this.customConstraints=new me}destroy(){this.view=null}get effectiveLODs(){return this._zoom.effectiveLODs}get effectiveMinScale(){return this._zoom.effectiveMinScale}get effectiveMaxScale(){return this._zoom.effectiveMaxScale}get effectiveMinZoom(){return this._zoom.effectiveMinZoom}get effectiveMaxZoom(){return this._zoom.effectiveMaxZoom}set geometry(e){e?this._set("geometry",e):this._set("geometry",null)}get version(){return`${this._zoom?.uid}/${this._rotation?.uid}/${this._geometry?.uid}`}get _geometry(){const e=this._get("_geometry");return e&&this.geometry===e.geometry&&this.view?.constraintsInfo.spatialReference===e.spatialReference?e:new rf({geometry:this.geometry,spatialReference:this.view?.constraintsInfo.spatialReference})}get _rotation(){return new IW({rotationEnabled:this.rotationEnabled})}get _zoom(){const e=this._get("_zoom"),i=this.lods||this.view?.constraintsInfo.lods,n=this.minZoom,a=this.maxZoom,d=this.minScale,y=this.maxScale,b=this.snapToZoom;return e&&e.lods===i&&e.minZoom===n&&e.maxZoom===a&&e.minScale===d&&e.maxScale===y&&e.snapToZoom===b?e:new DW({lods:i,minZoom:n,maxZoom:a,minScale:d,maxScale:y,snapToZoom:b})}canZoomInTo(e){const i=this.effectiveMaxScale;return i===0||e>=i}canZoomOutTo(e){const i=this.effectiveMinScale;return i===0||e<=i}constrain(e,i){return this._zoom.constrain(e,i),this._rotation.constrain(e,i),this._geometry.constrain(e,i),this.customConstraints.forEach((n=>n.constrain(e,i))),e}constrainByGeometry(e){return this._geometry.constrain(e),this.customConstraints.forEach((i=>i.applyPanConstraint?.(e))),e}fit(e){return this._zoom.fit(e)}zoomToScale(e){return this._zoom.zoomToScale(e)}scaleToZoom(e){return this._zoom.scaleToZoom(e)}snapScale(e){return this._zoom.snapToClosestScale(e)}snapToNextScale(e){return this._zoom.snapToNextScale(e)}snapToPreviousScale(e){return this._zoom.snapToPreviousScale(e)}};E([N({readOnly:!0})],Ar.prototype,"effectiveLODs",null),E([N({readOnly:!0})],Ar.prototype,"effectiveMinScale",null),E([N({readOnly:!0})],Ar.prototype,"effectiveMaxScale",null),E([N({readOnly:!0})],Ar.prototype,"effectiveMinZoom",null),E([N({readOnly:!0})],Ar.prototype,"effectiveMaxZoom",null),E([N({types:m4t,value:null})],Ar.prototype,"geometry",null),E([N({type:[Nn]})],Ar.prototype,"lods",void 0),E([N()],Ar.prototype,"minScale",void 0),E([N()],Ar.prototype,"maxScale",void 0),E([N()],Ar.prototype,"minZoom",void 0),E([N()],Ar.prototype,"maxZoom",void 0),E([N()],Ar.prototype,"rotationEnabled",void 0),E([N()],Ar.prototype,"snapToZoom",void 0),E([N({type:me})],Ar.prototype,"customConstraints",void 0),E([N()],Ar.prototype,"view",void 0),E([N({readOnly:!0})],Ar.prototype,"version",null),E([N({type:rf,readOnly:!0})],Ar.prototype,"_geometry",null),E([N({type:IW})],Ar.prototype,"_rotation",null),E([N({readOnly:!0,type:DW})],Ar.prototype,"_zoom",null),Ar=E([ut("esri.views.2d.MapViewConstraints")],Ar);const lI=Ar;let Gn=class extends ve{constructor(e){super(e),this.constraints=null,this.ready=!1,this.resizeAlign="center",this.addHandles([Ce((()=>this.constraints?.version),(i=>{this.constraints&&i&&this.ready&&(this.state.viewpoint=this.constraints.fit(this.state.paddedViewState.viewpoint))}),Wc)])}get center(){if(!this.ready)return this._get("center");const{center:e,spatialReference:i}=this.state.paddedViewState;return this.state.commitProperty("id"),new ue({x:e[0],y:e[1],spatialReference:i})}set center(e){if(e==null)return;if(!this.ready)return void this._set("center",e);let i;try{i=this._project(e,this.state.spatialReference)}catch(a){return void ae.getLogger(this).error(new Lt("mapview:invalid-center","could not project the value in the view's spatial reference",{input:e,error:a}))}const n=this.viewpoint;A8(n,n,i),this.viewpoint=n}get extent(){return this.ready?(this.state.commitProperty("id"),this.state.paddedViewState.extent.clone()):this._get("extent")}set extent(e){if(e==null)return;if(!e.width||!e.height)return void ae.getLogger(this).error(new Lt("mapview:invalid-extent","invalid extent size"));if(!this.ready)return this._set("extent",e),this._set("center",void 0),this._set("viewpoint",void 0),this._set("scale",void 0),void this._set("zoom",void 0);let i;try{i=this._project(e,this.state.spatialReference)}catch(a){return void ae.getLogger(this).error(new Lt("mapview:invalid-extent","could not project the value in the view's spatial reference",{error:a}))}const n=this.viewpoint;u9t(n,n,i,this.state.size,{constraints:this.constraints}),this.viewpoint=n}get padding(){return this.ready?this.state.padding:this._get("padding")}set padding(e){this.ready?(this.state.padding=e,this._set("padding",this.state.padding)):this._set("padding",e)}get resolution(){return this.ready?(this.state.commitProperty("id"),this.state.resolution):0}get rotation(){return this.ready?(this.state.commitProperty("id"),this.state.rotation):this._get("rotation")}set rotation(e){if(isNaN(e))return;if(!this.ready)return void this._set("rotation",e);const i=this.viewpoint;b9t(i,i,e),this.viewpoint=i}get scale(){return this.ready?(this.state.commitProperty("id"),this.state.scale):this._get("scale")}set scale(e){if(!e||isNaN(e))return;if(!this.ready){this._set("scale",e),this._set("zoom",void 0);const n=this._get("extent");return void(n&&(this._set("extent",void 0),this._set("center",n.center)))}const i=this.viewpoint;tI(i,i,e),this.viewpoint=i}get viewpoint(){return this.ready?this.state.paddedViewState.viewpoint.clone():this._get("viewpoint")}set viewpoint(e){if(e==null)return;if(!this.ready)return this._set("viewpoint",e),this._set("extent",void 0),this._set("center",void 0),this._set("zoom",void 0),void this._set("scale",void 0);let i,n;try{i=this._project(e,this.state.spatialReference),!e.scale||isNaN(e.scale)?n=new Lt("mapview:invalid-viewpoint",`invalid scale value of ${e.scale}`):e.targetGeometry==null&&(n=new Lt("mapview:invalid-viewpoint","geometry not defined"))}catch(d){n=new Lt("mapview:invalid-viewpoint","could not project the value in the view's spatial reference",{error:d})}if(n)return void ae.getLogger(this).error(n);this._scaleBeforeChangingSpatialReference=null;const a=new Bo({targetGeometry:new ue,scale:0,rotation:0});Zn(a,i),this.constraints?.constrain(a,this.state.paddedViewState.viewpoint),this.state.viewpoint=a,this._set("viewpoint",a)}get visibleArea(){return this.ready?this.state.visibleArea:null}get zoom(){return this.ready?this.constraints?.scaleToZoom(this.scale)??-1:this._get("zoom")}set zoom(e){if(!(e>=0))return;if(!this.ready){this._set("zoom",e),this._set("scale",void 0);const a=this._get("extent");return void(a&&(this._set("extent",void 0),this._set("center",a.center)))}const i=this.constraints?.zoomToScale(e)??0;if(!i)return void this._set("zoom",-1);const n=this.viewpoint;tI(n,n,i),this.viewpoint=n,this._set("zoom",this.constraints?.scaleToZoom(this.scale)??-1)}getUserStartupOptions(e){if(!e[0]&&!e[1])return{center:void 0,rotation:void 0,scale:void 0};const{padding:i,constraints:n}=this,a=this._get("center"),d=this._get("extent"),y=this._get("scale"),b=this._get("rotation"),S=this._get("viewpoint"),T=this._get("zoom"),C=T!=null&&n!=null&&n.zoomToScale(T)||void 0;let k,D,z;const G=S?.rotation,B=S?.targetGeometry;B?.type==="extent"?k=B:B?.type==="point"&&(D=B,z=S?.scale);const H=d??k;return{center:a??D??H?.center,rotation:b??G,scale:(y??C??z??(H&&i9(H,[e[0]-i.left-i.right,e[1]-i.top-i.bottom])))||void 0}}startup(e,i,n,a){const d=e.targetGeometry;try{this._project(e,n)}catch(y){ae.getLogger(this).warn(new sl("mapview:startup-projection-error","projection of initial viewpoint to the view's spatial reference, defaulting to the initial viewpoint.",{center:d.toJSON(),spatialReference:n,error:y})),e.targetGeometry=a||new ue({x:0,y:0,spatialReference:n})}this.constraints?.fit(e),this._set("state",new kM({padding:this.padding,size:i,viewpoint:e})),this._set("ready",!0)}teardown(){this._set("ready",!1);const{center:[e,i],spatialReference:n,rotation:a,scale:d}=this.state.paddedViewState,y=new ue({x:e,y:i,spatialReference:n});this._set("viewpoint",null),this._set("extent",null),this._set("center",y),this._set("zoom",-1),this._set("rotation",a),this._set("scale",d),this._set("state",null)}changeSpatialReference(e){const i=this.state.paddedViewState.clone();if(this._scaleBeforeChangingSpatialReference==null)this._scaleBeforeChangingSpatialReference=i.scale;else{const S=i.viewpoint.clone();S.scale=this._scaleBeforeChangingSpatialReference,i.viewpoint=S}const n=i.clone(),[a,d]=i.center;let y=null;try{y=this._project(new ue({x:a,y:d,spatialReference:i.spatialReference}),e)}catch(S){FT()||ae.getLogger(this).warn(new sl("mapview:spatial-reference-change","could not project the view's center to the new spatial reference",{center:y?.toJSON(),spatialReference:e,error:S}))}y||(y=new ue({x:0,y:0,spatialReference:e}));const b=A8(new Bo({targetGeometry:new ue,scale:0,rotation:0}),i.viewpoint,y);n.viewpoint=b;try{const T=[i.size[0]/2,i.size[1]/2],C=[T[0]+20,T[1]],k=i.toMap([0,0],C),{x:D,y:z}=this._project(new ue({x:k[0],y:k[1],spatialReference:i.spatialReference}),e);k[0]=D,k[1]=z,n.toScreen(k,k);const G=m9t(T,k,C),B=Math.hypot(k[0]-T[0],k[1]-T[1])/20;!Number.isFinite(B)||Math.abs(B)>4?(b.rotation=0,b.targetGeometry=new ue({x:0,y:0,spatialReference:e})):(b.scale*=B,b.scale>St("mapview-srswitch-adjust-rotation-scale-threshold")?b.rotation=0:b.rotation+=Number.isFinite(G)?G:0)}catch{}this._get("constraints")?.constrain(b,void 0),this._get("state").viewpoint=b}resize(e,i){if(!this.ready)return;const n=this.state;let a=this.state.paddedViewState.viewpoint;const d=this.state.paddedViewState.size.slice();n.size=[e,i],v9t(a,a,d,this.state.paddedViewState.size,this.resizeAlign),a=this.constraints?.constrain(a,void 0)??a,this.state.viewpoint=a}toMap(e){if(!this.ready)return null;const i=[0,0],[n,a]=this.state.toMap(i,[e.x,e.y]),d=this.state.spatialReference;return new ue({x:n,y:a,spatialReference:d})}toScreen(e,i){if(!this.ready)return null;const n=this._project(e,this.state.spatialReference),a=[n.x,n.y];return i?.pickClosestTarget===!1||this.state.paddedViewState.wrapMapCoordinate(a,a),this.state.toScreen(a,a),_n(a[0],a[1])}_project(e,i){const n=e?.targetGeometry||e;if(!i)return e;if(!n)return null;if(i.imageCoordinateSystem||n.spatialReference?.imageCoordinateSystem||Sn(i,n.spatialReference))return e;const a=Xf(n,i);if(!a)throw new Lt("mapview:projection-not-possible","projecting input geometry to target spatial reference returned a null value",{geometry:n,spatialReference:i});return g4t(e)?(e.targetGeometry=a,e):a}};function g4t(t){return t?.declaredClass==="esri.Viewpoint"}E([N({type:ue})],Gn.prototype,"center",null),E([N()],Gn.prototype,"constraints",void 0),E([N({type:Be})],Gn.prototype,"extent",null),E([N({value:{top:0,right:0,bottom:0,left:0},cast:t=>({top:0,right:0,bottom:0,left:0,...t})})],Gn.prototype,"padding",null),E([N()],Gn.prototype,"ready",void 0),E([N()],Gn.prototype,"resizeAlign",void 0),E([N({readOnly:!0})],Gn.prototype,"resolution",null),E([N({type:Number})],Gn.prototype,"rotation",null),E([N({type:Number})],Gn.prototype,"scale",null),E([N({readOnly:!0})],Gn.prototype,"state",void 0),E([N({type:Bo})],Gn.prototype,"viewpoint",null),E([N({readOnly:!0})],Gn.prototype,"visibleArea",null),E([N()],Gn.prototype,"zoom",null),Gn=E([ut("esri.views.2d.ViewStateManager")],Gn);const uI=160;let ym=class extends ve{constructor(){super(...arguments),this._timer=void 0}get stationary(){return!this._timer}flip(){this._timestamp=performance.now(),this._timer==null&&(this._timer=setInterval((()=>{performance.now()-this._timestamp>=uI&&this.clear()}),uI))}clear(){this._timer&&(clearInterval(this._timer),this._timer=void 0)}};E([N()],ym.prototype,"_timer",void 0),E([N()],ym.prototype,"stationary",null),ym=E([ut("esri.views.2d.support.StationaryManager")],ym);const v4t=t=>{let e=class extends t{constructor(...i){super(...i),this.fullOpacity=1,this.stateManager=new Gn({constraints:new lI({view:this})}),this.stationaryManager=new ym,this.mapViewNavigation=null,this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!1,labelsAnimationTime:0,labelCollisionsEnabled:!1},this.frameTask=new d4t(this),this.viewEvents=new PV(this),this.padding={top:0,right:0,bottom:0,left:0},this.addHandles([Ce((()=>this.viewpoint),(()=>this.stationaryManager.flip()),Wc)])}get constraintsInfo(){return{lods:null,spatialReference:null}}get extent(){return this.stateManager?.extent??null}set extent(i){this.stateManager.extent=i}get state(){return this.stateManager.state}get interacting(){return!1}get stationary(){return!this.animation&&this.stationaryManager.stationary}set animation(i){const n=this._get("animation");if(i===n)return;if(n&&n.stop(),i!==this.animationManager.animation&&this.animationManager.stop(),!i||i.isFulfilled())return void this._set("animation",null);this._set("animation",i);const a=()=>{this.destroyed||i===this._get("animation")&&(this._set("animation",null),this.frameTask?.requestFrame())};i.when(a,a)}get constraints(){return this.stateManager?.constraints}set constraints(i){i.view=this;const n=this.stateManager.constraints;this.stateManager.constraints=i,n?.destroy()}get padding(){return this.stateManager?.padding}set padding(i){this.stateManager&&(this.stateManager.padding=i)}get resizeAlign(){return this.stateManager.resizeAlign}set resizeAlign(i){this.stateManager.resizeAlign=i}get rotation(){return this.stateManager.rotation??0}set rotation(i){const{rotationEnabled:n}=this.constraints;this.constraints.rotationEnabled=!0,this.stateManager.rotation=i,this.constraints.rotationEnabled=n}get viewpoint(){return this.stateManager.viewpoint??null}set viewpoint(i){this.stateManager.viewpoint=i,this.frameTask.requestFrame()}};return E([N({readOnly:!0})],e.prototype,"animationManager",void 0),E([N({readOnly:!0})],e.prototype,"fullOpacity",void 0),E([N()],e.prototype,"stateManager",void 0),E([N()],e.prototype,"constraintsInfo",null),E([N()],e.prototype,"extent",null),E([N({readOnly:!0})],e.prototype,"state",null),E([N({readOnly:!0})],e.prototype,"mapViewNavigation",void 0),E([N()],e.prototype,"renderingOptions",void 0),E([N({readOnly:!0})],e.prototype,"interacting",null),E([N()],e.prototype,"stationary",null),E([N()],e.prototype,"animation",null),E([N({type:lI})],e.prototype,"constraints",null),E([N()],e.prototype,"padding",null),E([N()],e.prototype,"resizeAlign",null),E([N()],e.prototype,"rotation",null),E([N({readOnly:!0})],e.prototype,"viewEvents",void 0),E([N({type:Bo})],e.prototype,"viewpoint",null),e=E([ut("esri.views.Viewport2DBaseMixin")],e),e};let hc=class extends Oc{constructor(e){super(e),this.state="running",this.target=null,this._resolver=null}initialize(){this._resolver=qo(),this.addResolvingPromise(this._resolver.promise)}get done(){return this.state==="finished"||this.state==="stopped"}stop(){this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","stopped"),this._resolver?.reject(new Lt("view:animation-stopped","ViewAnimation stopped")))}finish(){this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","finished"),this._resolver?.resolve())}update(e,i){i||(i=hl(e)?"waiting-for-target":"running"),this._set("target",e),this._set("state",i)}};E([N({readOnly:!0})],hc.prototype,"done",null),E([N({readOnly:!0,type:String})],hc.prototype,"state",void 0),E([N()],hc.prototype,"target",void 0),hc=E([ut("esri.views.ViewAnimation")],hc),(function(t){t.State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"}})(hc||(hc={}));const I8=hc;let vb=class extends ve{constructor(e){super(e),this._gotoTask=null}destroy(){this._gotoTask=null}async goTo(e,i){if(!e)return void ae.getLogger(this).error("#goTo()","target cannot be null or undefined");const n=new I8;this.view.animation=n,await YT((()=>this.view.ready),i);const a={...i,animate:i?.animate??!UV(),animationMode:i?.animationMode??"auto"},{extent:d,spatialReference:y,size:b,viewpoint:S,constraints:T,padding:C,allLayerViews:k}=this.view,D=o9t(e,{extent:d,spatialReference:y,size:b,viewpoint:S,constraints:T,padding:C,allLayerViews:k,pickClosestTarget:i?.pickClosestTarget??!0});return n?.update(D),this._gotoTask={},a.animate?this._gotoAnimated(D,a):this._gotoImmediate(D,a)}_gotoImmediate(e,i){const n=this._gotoTask,a=this.view.animation,d=e.then((y=>{if(dr(i),n!==this._gotoTask)throw new Lt("view:goto-interrupted","Goto was interrupted");this.view.viewpoint=a.target=y,a.finish()}));return this._cancellableGoTo(n,a,d,i)}_gotoAnimated(e,i){const n=this._gotoTask,a=this.view.animation;if(!a)return Promise.resolve();const d=e.then((y=>{if(dr(i),n!==this._gotoTask)throw new Lt("view:goto-interrupted","Goto was interrupted");return a.update(y),this.view.animationManager.animate(a,this.view.viewpoint,i),a.when().then((()=>{}),(()=>{}))}));return this._cancellableGoTo(n,a,d,i)}_cancellableGoTo(e,i,n,a){const d=()=>e===this._gotoTask;return set(n,a).finally((()=>{d()&&(i.done||i.stop())}))}};E([N({constructOnly:!0})],vb.prototype,"view",void 0),vb=E([ut("esri.views.2d.GoToManager")],vb);function LW(t,e){switch(e){case"primary":return t.pointerType==="touch"||t.button===0;case"secondary":return t.pointerType!=="touch"&&t.button===2;case"tertiary":return t.pointerType!=="touch"&&t.button===1}}function jW(t,e){return e.some((i=>LW(t,i)))}function cI(t,{dragPrimary:e,dragSecondary:i,dragTertiary:n}){return[{key:"primary",value:e},{key:"secondary",value:i},{key:"tertiary",value:n}].filter((a=>a.value===t)).map((a=>a.key))}let hI=class extends ln{constructor(e,i){super(!0),this._view=e,this.registerIncoming("double-click",i,(n=>this._handleDoubleClick(n,i)))}_handleDoubleClick(e,i){LW(e.data,"primary")&&(e.stopPropagation(),i?this._view.mapViewNavigation.zoomOut([e.data.x,e.data.y]):this._view.mapViewNavigation.zoomIn([e.data.x,e.data.y]))}},b4t=class extends ln{constructor(e,i,n){super(!0),this.view=e,this.pointerType=i,this.registerIncoming("double-tap-drag",n,(a=>this._handleDoubleTapDrag(a)))}_handleDoubleTapDrag(e){const{data:i}=e,{pointerType:n}=i;if(n!==this.pointerType)return;e.stopPropagation();const{action:a,delta:d}=i,{view:y}=this,{mapViewNavigation:b}=y;switch(a){case"begin":{const{scale:S}=y;this._startScale=S,this._currentScale=S,this._previousDelta=d,b.begin();break}case"update":{if(this._previousDelta.y===d.y)return;this._previousDelta=d;const S=1.015**d.y,T=this._startScale*S,C=T/this._currentScale;b.setViewpointImmediate(C),this._currentScale=T;break}case"end":{const{constraints:S}=y,{effectiveLODs:T,snapToZoom:C}=S;if(!C||!T)return void b.end();const k=S.snapScale(this._currentScale),D=(d.y>0?Math.max(k,S.snapToPreviousScale(this._startScale)):Math.min(k,S.snapToNextScale(this._startScale)))/this._currentScale;b.zoom(D).then((()=>{b.end()}));break}}}},n9=class{constructor(e){this._callbacks=e,this._currentCount=0,this._callbacks.condition||(this._callbacks.condition=()=>!0)}handle(e){const i=e.data,n=i.pointers.size;switch(i.action){case"start":this._currentCount=n,this._emitStart(e);break;case"added":this._emitEnd(this._previousEvent),this._currentCount=n,this._emitStart(e);break;case"update":this._emitUpdate(e);break;case"removed":this._startEvent&&this._emitEnd(this._previousEvent),this._currentCount=n,this._emitStart(e);break;case"end":this._emitEnd(e),this._currentCount=0}this._previousEvent=e}_emitStart(e){this._startEvent=e,this._callbacks.condition?.(this._currentCount,e)&&this._callbacks.start(this._currentCount,e,this._startEvent)}_emitUpdate(e){this._callbacks.condition?.(this._currentCount,e)&&this._callbacks.update(this._currentCount,e,this._startEvent)}_emitEnd(e){this._callbacks.condition?.(this._currentCount,e)&&this._callbacks.end(this._currentCount,e,this._startEvent),this._startEvent=null}},w4t=class extends ln{constructor(e,i,n){super(!0),this.view=e,this.pointerActions=i,this.registerIncoming("drag",n,(a=>this._handleDrag(a))),this.registerIncoming("pointer-down",(()=>this.stopMomentumNavigation()))}onInstall(e){super.onInstall(e),this._dragEventSeparator=new n9({start:(i,n)=>{this.view.mapViewNavigation.pan.begin(this.view,n.data),n.stopPropagation()},update:(i,n)=>{this.view.mapViewNavigation.pan.update(this.view,n.data),n.stopPropagation()},end:(i,n)=>{this.view.mapViewNavigation.pan.end(this.view,n.data),n.stopPropagation()},condition:(i,n)=>i===1&&jW(n.data,this.pointerActions)})}_handleDrag(e){const i=this.view.mapViewNavigation;i.pinch.zoomMomentum||i.pinch.rotateMomentum?this.stopMomentumNavigation():this._dragEventSeparator.handle(e)}stopMomentumNavigation(){this.view.mapViewNavigation.pan.stopMomentumNavigation()}},_4t=class extends ln{constructor(e,i,n){super(!0),this._view=e,this.pointerActions=i;const a=this._view.mapViewNavigation;this._dragEventSeparator=new n9({start:(d,y)=>{a.rotate.begin(this._view,y.data),y.stopPropagation()},update:(d,y)=>{a.rotate.update(this._view,y.data),y.stopPropagation()},end:(d,y)=>{a.rotate.end(),y.stopPropagation()},condition:(d,y)=>d===1&&jW(y.data,this.pointerActions)}),this.registerIncoming("drag",n,(d=>this._dragEventSeparator.handle(d)))}};function zW(t){const e=t[0],i=t[1],n=t[2];return Math.sqrt(e*e+i*i+n*n)}function S4t(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function x4t(t,e,i,n){return t[0]=e,t[1]=i,t[2]=n,t}function T4t(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t}function UW(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t}function FW(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t[2]=e[2]*i[2],t}function BW(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t[2]=e[2]/i[2],t}function E4t(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function M4t(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function A4t(t,e){return t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t}function R4t(t,e){return t[0]=Math.sign(e[0]),t[1]=Math.sign(e[1]),t[2]=Math.sign(e[2]),t}function C4t(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t[2]=Math.min(e[2],i[2]),t}function O4t(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t[2]=Math.max(e[2],i[2]),t}function $4t(t,e=0,i=1){return t[0]=Math.min(Math.max(t[0],e),i),t[1]=Math.min(Math.max(t[1],e),i),t[2]=Math.min(Math.max(t[2],e),i),t}function N4t(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function GW(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t}function k4t(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t[2]=e[2]+i[2]*n,t}function qW(t,e){const i=e[0]-t[0],n=e[1]-t[1],a=e[2]-t[2];return Math.sqrt(i*i+n*n+a*a)}function HW(t,e){const i=e[0]-t[0],n=e[1]-t[1],a=e[2]-t[2];return i*i+n*n+a*a}function VW(t){const e=t[0],i=t[1],n=t[2];return e*e+i*i+n*n}function P4t(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function I4t(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function D8(t,e){const i=e[0],n=e[1],a=e[2];let d=i*i+n*n+a*a;return d>0&&(d=1/Math.sqrt(d),t[0]=e[0]*d,t[1]=e[1]*d,t[2]=e[2]*d),t}function WW(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function D4t(t,e,i){const n=e[0],a=e[1],d=e[2],y=i[0],b=i[1],S=i[2];return t[0]=a*S-d*b,t[1]=d*y-n*S,t[2]=n*b-a*y,t}function L4t(t,e,i){const n=e[0],a=e[1],d=e[2],y=i[0],b=i[1],S=i[2],T=a*S-d*b,C=d*y-n*S,k=n*b-a*y,D=Math.sqrt(T*T+C*C+k*k);return t[0]=T/D,t[1]=C/D,t[2]=k/D,t}function j4t(t,e,i,n){const a=e[0],d=e[1],y=e[2];return t[0]=a+n*(i[0]-a),t[1]=d+n*(i[1]-d),t[2]=y+n*(i[2]-y),t}function z4t(t,e,i,n,a,d){const y=d*d,b=y*(2*d-3)+1,S=y*(d-2)+d,T=y*(d-1),C=y*(3-2*d);return t[0]=e[0]*b+i[0]*S+n[0]*T+a[0]*C,t[1]=e[1]*b+i[1]*S+n[1]*T+a[1]*C,t[2]=e[2]*b+i[2]*S+n[2]*T+a[2]*C,t}function U4t(t,e,i,n,a,d){const y=1-d,b=y*y,S=d*d,T=b*y,C=3*d*b,k=3*S*y,D=S*d;return t[0]=e[0]*T+i[0]*C+n[0]*k+a[0]*D,t[1]=e[1]*T+i[1]*C+n[1]*k+a[1]*D,t[2]=e[2]*T+i[2]*C+n[2]*k+a[2]*D,t}function F4t(t,e=1){const i=iM,n=2*i()*Math.PI,a=2*i()-1,d=Math.sqrt(1-a*a)*e;return t[0]=Math.cos(n)*d,t[1]=Math.sin(n)*d,t[2]=a*e,t}function B4t(t,e,i){const n=e[0],a=e[1],d=e[2];return t[0]=i[0]*n+i[4]*a+i[8]*d+i[12],t[1]=i[1]*n+i[5]*a+i[9]*d+i[13],t[2]=i[2]*n+i[6]*a+i[10]*d+i[14],t}function G4t(t,e,i){const n=e[0],a=e[1],d=e[2];return t[0]=n*i[0]+a*i[3]+d*i[6],t[1]=n*i[1]+a*i[4]+d*i[7],t[2]=n*i[2]+a*i[5]+d*i[8],t}function q4t(t,e,i){const n=i[0],a=i[1],d=i[2],y=i[3],b=e[0],S=e[1],T=e[2],C=a*T-d*S,k=d*b-n*T,D=n*S-a*b,z=a*D-d*k,G=d*C-n*D,B=n*k-a*C,H=2*y;return t[0]=b+C*H+2*z,t[1]=S+k*H+2*G,t[2]=T+D*H+2*B,t}function H4t(t,e,i,n){const a=[],d=[];return a[0]=e[0]-i[0],a[1]=e[1]-i[1],a[2]=e[2]-i[2],d[0]=a[0],d[1]=a[1]*Math.cos(n)-a[2]*Math.sin(n),d[2]=a[1]*Math.sin(n)+a[2]*Math.cos(n),t[0]=d[0]+i[0],t[1]=d[1]+i[1],t[2]=d[2]+i[2],t}function V4t(t,e,i,n){const a=[],d=[];return a[0]=e[0]-i[0],a[1]=e[1]-i[1],a[2]=e[2]-i[2],d[0]=a[2]*Math.sin(n)+a[0]*Math.cos(n),d[1]=a[1],d[2]=a[2]*Math.cos(n)-a[0]*Math.sin(n),t[0]=d[0]+i[0],t[1]=d[1]+i[1],t[2]=d[2]+i[2],t}function W4t(t,e,i,n){const a=[],d=[];return a[0]=e[0]-i[0],a[1]=e[1]-i[1],a[2]=e[2]-i[2],d[0]=a[0]*Math.cos(n)-a[1]*Math.sin(n),d[1]=a[0]*Math.sin(n)+a[1]*Math.cos(n),d[2]=a[2],t[0]=d[0]+i[0],t[1]=d[1]+i[1],t[2]=d[2]+i[2],t}function J4t(t,e){D8(fI,t),D8(dI,e);const i=WW(fI,dI);return i>1?0:i<-1?Math.PI:Math.acos(i)}const fI=eh(),dI=eh();function Y4t(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function K4t(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function X4t(t,e){if(t===e)return!0;const i=t[0],n=t[1],a=t[2],d=e[0],y=e[1],b=e[2],S=Ls();return Math.abs(i-d)<=S*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(n-y)<=S*Math.max(1,Math.abs(n),Math.abs(y))&&Math.abs(a-b)<=S*Math.max(1,Math.abs(a),Math.abs(b))}function Z4t(t,e,i){const n=i[0]-e[0],a=i[1]-e[1],d=i[2]-e[2];let y=n*n+a*a+d*d;return y>0?(y=1/Math.sqrt(y),t[0]=n*y,t[1]=a*y,t[2]=d*y,t):(t[0]=0,t[1]=0,t[2]=0,t)}const Q4t=UW,t6t=FW,e6t=BW,i6t=qW,r6t=HW,n6t=zW,s6t=VW;Object.freeze(Object.defineProperty({__proto__:null,abs:A4t,add:T4t,angle:J4t,bezier:U4t,ceil:E4t,clamp:$4t,copy:S4t,cross:D4t,crossAndNormalize:L4t,direction:Z4t,dist:i6t,distance:qW,div:e6t,divide:BW,dot:WW,equals:X4t,exactEquals:K4t,floor:M4t,hermite:z4t,inverse:I4t,len:n6t,length:zW,lerp:j4t,max:O4t,min:C4t,mul:t6t,multiply:FW,negate:P4t,normalize:D8,random:F4t,rotateX:H4t,rotateY:V4t,rotateZ:W4t,round:N4t,scale:GW,scaleAndAdd:k4t,set:x4t,sign:R4t,sqrDist:r6t,sqrLen:s6t,squaredDistance:HW,squaredLength:VW,str:Y4t,sub:Q4t,subtract:UW,transformMat3:G4t,transformMat4:B4t,transformQuat:q4t},Symbol.toStringTag,{value:"Module"}));function aa(t){let e=t*t;return t<0&&(e*=-1),e}function o6t(t){return t.translation[0]=0,t.translation[1]=0,t.translation[2]=0,t.heading=0,t.tilt=0,t}function a6t(t,e,i){const n=i,a=t.state,d=t.device,y=e.tiltDirection==="forward-down"?1:-1,b=1;return d.deviceType==="standard"?(n.translation[0]=aa(a.axes[0]),n.translation[1]=aa(a.axes[1]),n.translation[2]=aa(a.buttons[7])-aa(a.buttons[6]),n.heading=aa(a.axes[2]),n.tilt=aa(a.axes[3])):d.deviceType==="spacemouse"&&(n.translation[0]=1.2*aa(a.axes[0]),n.translation[1]=1.2*aa(a.axes[1]),n.translation[2]=2*-aa(a.axes[2]),n.heading=1.2*aa(a.axes[5]),n.tilt=1.2*aa(a.axes[3])),n.tilt*=y,GW(n.translation,n.translation,b),n}function l6t(t){return t.translation[0]===0&&t.translation[1]===0&&t.translation[2]===0&&t.heading===0&&t.tilt===0&&t.zoom===0}let u6t=class extends ln{constructor(e){super(!0),this._view=e,this._frameTask=null,this._watchHandles=new Lp,this._currentDevice=null,this._transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this._handle=this.registerIncoming("gamepad",(i=>this._handleGamePadEvent(i))),this._handle.pause()}onInstall(e){super.onInstall(e),this._watchHandles.add([Ce((()=>this._view.navigation.gamepad?.enabled),(i=>{i?(this._handle.resume(),this._frameTask||(this._frameTask=dp({update:n=>this._frameUpdate(n.deltaTime)}))):(this._handle.pause(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null))}),Qn)])}onUninstall(){this._watchHandles.removeAll(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null),super.onUninstall()}_handleGamePadEvent(e){const i=this._view.navigation.gamepad.device;i&&e.data.device!==i||this._currentDevice&&this._currentDevice!==e.data.device||(e.data.action==="end"?(this._currentDevice=null,o6t(this._transformation)):(this._currentDevice=e.data.device,a6t(e.data,this._view.navigation.gamepad,this._transformation)),this._frameTask?.resume())}_frameUpdate(e){const i=this._transformation;if(l6t(i))return void this._frameTask?.pause();const n=this._view.viewpoint.clone(),a=this._view.navigation.gamepad.velocityFactor,d=h6t*a*e;r9(n,n,[i.translation[0]*d,-i.translation[1]*d]);const y=1+i.translation[2]*f6t*e,b=this._view.constraints.rotationEnabled?-i.heading*c6t*e:0,S=this._view.size,T=[S[0]/2,S[1]];wW(n,n,y,b,T,S);const C=this._view.constraints.constrain(n,this._view.viewpoint);this._view.viewpoint=C}};const c6t=.06,h6t=.7,f6t=6e-4;function JW(t){const e=()=>t(document.visibilityState==="visible");return document.addEventListener("visibilitychange",e),ui((()=>document.removeEventListener("visibilitychange",e)))}let d6t=class extends ln{constructor(e,i,n){super(!0),this.view=e,this.keys=i,this._isSticky=!1,this._pressedKeys=new Set,this._timeout=void 0,this._currentDirection=void 0,this._stickyKeyDuration=200,this._handleKey=a=>{const d=this._keyMap[a.data.key];if(a.modifiers.has("Meta")||a.modifiers.has("Control"))return void this._stopMovement();if(d==null)return;a.stopPropagation(),a.preventDefault();const y=a.type==="key-down";if(this._pressedKeys[y?"add":"delete"](d),y){if(this._direction===d)return;this._direction=d,this._isSticky=!1,this._setTimeout((()=>{this._isSticky&&this._handlePopKey()}))}else{const b=this._timeout===void 0,S=this._pressedKeys.size>0;b||S?this._handlePopKey():this._isSticky=!0}},this._handlePopKey=()=>{this._direction=Array.from(this._pressedKeys).pop(),this._direction==null&&this._stopMovement()},this._stopMovement=()=>{this._isSticky=!1,this._direction=void 0,this._pressedKeys.clear(),this._setTimeout(void 0)},this._keyMap={[i.left]:"left",[i.right]:"right",[i.up]:"up",[i.down]:"down"},this.registerIncoming("key-down",n,this._handleKey),this.registerIncoming("key-up",n,this._handleKey),this.registerIncoming("blur",n,this._stopMovement),this._visibilityHandle=JW((a=>a?null:this._stopMovement()))}onUninstall(){this._stopMovement(),this._visibilityHandle?.remove()}get _direction(){return this._currentDirection}set _direction(e){const i=this._currentDirection!=null;if(e!=null){if(i||this.view.mapViewNavigation.begin(),this._currentDirection!==e)switch(e){case"left":this.view.mapViewNavigation.continuousPanLeft();break;case"right":this.view.mapViewNavigation.continuousPanRight();break;case"up":this.view.mapViewNavigation.continuousPanUp();break;case"down":this.view.mapViewNavigation.continuousPanDown()}}else i&&this.view.mapViewNavigation.stop();this._currentDirection=e}_setTimeout(e){clearTimeout(this._timeout),this._timeout=e===void 0?void 0:setTimeout((()=>{this._timeout=void 0,e()}),this._stickyKeyDuration)}},p6t=class extends ln{constructor(e,i,n){super(!0),this.view=e,this.keys=i,this._keyToDirection=new Map,this._pressed=!1,this._addKeysMapping(i),this.registerIncoming("key-down",n,(a=>this._handleKeyDown(a))),this.registerIncoming("key-up",n,(a=>this._handleKeyUp(a))),this.registerIncoming("blur",n,(()=>this._handleStop())),this._visibilityHandle=JW((a=>a?null:this._handleStop()))}onUninstall(){this._visibilityHandle?.remove(),this._handleStop()}_addKeysMapping(e){this._addKeyMapping(e.clockwise,"clockwise"),this._addKeyMapping(e.counterClockwise,"counterClockwise"),this._addKeyMapping(e.reset,"reset")}_addKeyMapping(e,i){for(const n of e)this._keyToDirection.set(n,i)}_handleKeyDown(e){e.data.repeat||this._handleKey(e,!0)}_handleKeyUp(e){this._handleKey(e,!1)}_handleStop(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(e,i){const n=e.modifiers;if(n.size>0&&!n.has("Shift")||!this.view.constraints.rotationEnabled)return;const a=this._keyToDirection.get(e.data.key);if(this._pressed=a!=null,this._pressed){if(e.preventDefault(),i)switch(this.view.mapViewNavigation.begin(),a){case"clockwise":this.view.mapViewNavigation.continuousRotateClockwise();break;case"counterClockwise":this.view.mapViewNavigation.continuousRotateCounterclockwise();break;case"reset":this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop();e.stopPropagation()}}};var S0;(function(t){t[t.IN=0]="IN",t[t.OUT=1]="OUT"})(S0||(S0={}));let y6t=class extends ln{constructor(e,i,n){super(!0),this.view=e,this.keys=i,this._keysToZoomAction={},this.registerIncoming("key-down",n,(a=>this._handleKeyDown(a))),i.zoomIn.forEach((a=>this._keysToZoomAction[a]=S0.IN)),i.zoomOut.forEach((a=>this._keysToZoomAction[a]=S0.OUT))}_handleKeyDown(e){this._handleKey(e)}_handleKey(e){const i=e.modifiers;if(i.size>0&&!i.has("Shift"))return;const{key:n}=e.data;if(!(n in this._keysToZoomAction))return;const a=this._keysToZoomAction[n],{mapViewNavigation:d}=this.view;let y=null;switch(a){case S0.IN:y=d.zoomIn();break;case S0.OUT:y=d.zoomOut();break;default:return}d.begin(),y.then((()=>d.end())),e.stopPropagation()}};const m6t=.6;let g6t=class extends ln{constructor(e,i){super(!0),this._view=e,this._canZoom=!0,this.registerIncoming("mouse-wheel",i,(n=>this._handleMouseWheel(n)))}_handleMouseWheel(e){if(this._view.navigation.actionMap.mouseWheel!=="zoom"||(e.preventDefault(),e.stopPropagation(),!this._canZoom))return;const i=this._view.mapViewNavigation,{x:n,y:a,deltaY:d}=e.data,y=1/m6t**(1/60*d),b=i.zoom(y,[n,a]);b&&(this._canZoom=!1,b.catch((()=>{})).then((()=>{this._canZoom=!0,i.end()})))}},v6t=class extends ln{constructor(e){super(!0),this.view=e,this.registerIncoming("drag",(n=>this._handleDrag(n))),this.registerIncoming("pointer-down",(()=>this._stopMomentumNavigation()));const i=this.view.mapViewNavigation;this._dragEventSeparator=new n9({start:(n,a)=>{i.pinch.begin(this.view,a.data),a.stopPropagation()},update:(n,a)=>{i.pinch.update(this.view,a.data),a.stopPropagation()},end:(n,a)=>{i.pinch.end(this.view),a.stopPropagation()},condition:n=>n>=2})}_handleDrag(e){this._dragEventSeparator.handle(e)}_stopMomentumNavigation(){this.view.mapViewNavigation.pinch.stopMomentumNavigation()}};function pI(t){const e=t.native;return e?{buttons:e.buttons.map((i=>i.pressed?i.value||1:0)),axes:e.axes.map((i=>_6t(i,t.axisThreshold)))}:{buttons:[],axes:[]}}function b6t(t,e){if(t.axes.length!==e.axes.length||t.buttons.length!==e.buttons.length)return!1;for(let i=0;i<t.axes.length;i++)if(t.axes[i]!==e.axes[i])return!1;for(let i=0;i<t.buttons.length;i++)if(t.buttons[i]!==e.buttons[i])return!1;return!0}function w6t(t){for(let e=0;e<t.axes.length;e++)if(t.axes[e]!==0)return!1;for(let e=0;e<t.buttons.length;e++)if(t.buttons[e]!==0)return!1;return!0}function _6t(t,e){const i=Math.abs(t);return i<e?0:Math.sign(t)*(i-e)/(1-e)}let S6t=class{constructor(e,i){this._element=e,this._input=i,this._hasEventListeners=!1,this._onConnectGamepad=d=>{this._connectGamepad(d.gamepad)},this._onDisconnectGamepad=d=>{const y=d.gamepad,b=y.index,S=this._inputDevices[b];S&&(this._emitGamepadEvent(y,pI(S),!1),this._inputDevices.splice(b,1),this._latestUpdate.splice(b,1),this._input.gamepad.devices.remove(S),this.ensurePollingState())},this._frameTask=null,this._latestUpdate=new Array,this._inputDevices=new Array,this._callback=null;const n="getGamepads"in window.navigator,a=window.isSecureContext;this.supported=n&&a,this.supported&&(yI((d=>this._connectGamepad(d))),window.addEventListener("gamepadconnected",this._onConnectGamepad),window.addEventListener("gamepaddisconnected",this._onDisconnectGamepad),this.ensurePollingState())}destroy(){this.hasEventListeners=!1,this.supported&&(window.removeEventListener("gamepadconnected",this._onConnectGamepad),window.removeEventListener("gamepaddisconnected",this._onDisconnectGamepad))}set hasEventListeners(e){this._hasEventListeners!==e&&(this._hasEventListeners=e,this.ensurePollingState())}get _eventsEnabled(){return this.supported&&this._inputDevices.length>0&&this._hasEventListeners}set onEvent(e){this._callback=e}_connectGamepad(e){const i=new SM(e);i.deviceType!=="unknown"&&(this._inputDevices[e.index]=i,this._input.gamepad.devices.add(i)),this.ensurePollingState()}ensurePollingState(){this._eventsEnabled?this._startPolling():this._stopPolling()}_startPolling(){this._frameTask==null&&(this._frameTask=dp({update:()=>this._readGamepadState()}))}_stopPolling(){this._frameTask!=null&&(this._frameTask.remove(),this._frameTask=null,this._latestUpdate=new Array)}_readGamepadState(){const e=document.hasFocus(),i=this._element.contains(document.activeElement),n=this._input.gamepad.enabledFocusMode==="document"&&!e||this._input.gamepad.enabledFocusMode==="view"&&!i;yI((a=>{const d=this._inputDevices[a.index];if(!d)return;const y=this._latestUpdate[a.index],b=pI(d),S=n||w6t(b);y&&(y.timestamp===a.timestamp||!y.active&&S||b6t(y.state,b))||this._emitGamepadEvent(a,b,!S)}))}_emitGamepadEvent(e,i,n){const a=this._latestUpdate[e.index],d=a&&a.active;if(!d&&!n)return;const y=!d&&n?"start":d&&n?"update":"end";this._latestUpdate[e.index]={timestamp:e.timestamp,state:i,active:n},this._callback&&this._callback({device:this._inputDevices[e.index],state:i,action:y})}};function x6t(t){if(!t||!t.connected)return!1;for(let e=0;e<t.axes.length;e++)if(isNaN(t.axes[e]))return!1;return!0}function yI(t){for(const e of navigator.getGamepads())x6t(e)&&t(e)}const mI=St("edge"),T6t=St("chrome"),E6t=St("ff"),M6t=St("safari"),gI="esri-view-surface",qd={touchNone:`${gI}--touch-none`,touchPan:`${gI}--touch-pan`};var Rf;let A6t=(Rf=class{constructor(e,i){this._active={},this._callback=()=>{},this._activePointerCaptures=new Set,this._keyDownState=new Set,this._eventId=1,this._browserTouchPanningEnabled=!1,this._element=e,e.getAttribute("tabindex")||e.setAttribute("tabindex","0"),this._eventHandlers={"key-down":this._handleKey,"key-up":this._handleKey,"pointer-down":this._handlePointer,"pointer-move":this._handlePointerPreventDefault,"pointer-up":this._handlePointerPreventDefault,"pointer-enter":this._handlePointer,"pointer-leave":this._handlePointer,"pointer-cancel":this._handlePointer,"mouse-wheel":this._handleMouseWheel,"pointer-capture-lost":this._handlePointerCaptureLost},this._updateTouchAction(),this._element.addEventListener("keydown",this._preventAltKeyDefault),this._gamepadSource=new S6t(e,i),this._gamepadSource.onEvent=n=>this._callback("gamepad",n)}destroy(){this._callback=()=>{},this.activeEvents=null,this._activePointerCaptures.forEach((e=>this._releasePointerCaptureSafe(e))),this._activePointerCaptures.clear(),this._gamepadSource=vr(this._gamepadSource),this._removeTouchAction(),this._element.removeEventListener("keydown",this._preventAltKeyDefault)}get browserTouchPanningEnabled(){return this._browserTouchPanningEnabled}set browserTouchPanningEnabled(e){this._browserTouchPanningEnabled=e,this._updateTouchAction(),this._updateTouchEventHandling()}set onEventReceived(e){this._callback=e}set activeEvents(e){for(const i in this._active)if(!e||!e.has(i)){const n=this._active[i];this._element.removeEventListener(U_[i],n),delete this._active[i]}e&&e.forEach((i=>{if(!this._active[i]&&U_[i]){const n=(this._eventHandlers[i]||this._handleDefault).bind(this,i);this._element.addEventListener(U_[i],n),this._active[i]=n}})),this._gamepadSource&&(this._gamepadSource.hasEventListeners=e?.has("gamepad")??!1)}setPointerCapture(e,i){i?this._setPointerCaptureSafe(e.pointerId):(this._releasePointerCaptureSafe(e.pointerId),this._activePointerCaptures.delete(e.pointerId))}_updateTouchAction(){this._element.classList.remove(this._browserTouchPanningEnabled?qd.touchNone:qd.touchPan),this._element.classList.add(this._browserTouchPanningEnabled?qd.touchPan:qd.touchNone)}_updateTouchEventHandling(){this._browserTouchPanningEnabled?this._element.addEventListener("touchmove",this._preventMultiTouchPanning):this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_removeTouchAction(){this._element.classList.remove(qd.touchNone),this._element.classList.remove(qd.touchPan),this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_setPointerCaptureSafe(e){try{this._element.setPointerCapture(e),this._activePointerCaptures.add(e)}catch{}}_releasePointerCaptureSafe(e){try{if(this._element.hasPointerCapture&&!this._element.hasPointerCapture(e))return;this._element.releasePointerCapture(e)}catch{}}_updateNormalizedPointerLikeEvent(e,i){const n=DV(this._element,e);return Rf.test.disableSubpixelCoordinates&&(n.x=Math.round(n.x),n.y=Math.round(n.y)),i.x=n.x,i.y=n.y,i}_handleKey(e,i){const{key:n}=i;n&&e==="key-up"&&this._keyDownState.delete(n);const a={native:i,key:n,repeat:!!n&&this._keyDownState.has(n)};n&&e==="key-down"&&this._keyDownState.add(a.key),this._callback(e,a)}_handlePointer(e,i){const n=this._updateNormalizedPointerLikeEvent(i,{native:i,x:0,y:0,pointerType:i.pointerType,button:i.button,buttons:i.buttons,eventId:this._eventId++});this._callback(e,n)}_handlePointerPreventDefault(e,i){const n=this._updateNormalizedPointerLikeEvent(i,{native:i,x:0,y:0,pointerType:i.pointerType,button:i.button,buttons:i.buttons,eventId:this._eventId++});i.preventDefault(),this._callback(e,n)}_getDeltaFromTrackpadOrMouseWheel(e){return e.shiftKey&&St("mac")&&e.deltaY===0?e.deltaX:e.deltaY}_handleMouseWheel(e,i){let n=this._getDeltaFromTrackpadOrMouseWheel(i);switch(i.deltaMode){case 0:mI&&(n=n/document.documentElement.clientHeight*600);break;case 1:n*=30;break;case 2:n*=900}mI?n*=.7:T6t||M6t?n*=.6:E6t&&(n*=1.375);const a=100,d=Math.abs(n);d>a&&(n=n/d*200/(1+Math.exp(-.02*(d-a))));const y=this._updateNormalizedPointerLikeEvent(i,{native:i,x:0,y:0,deltaY:n});this._callback(e,y)}_handlePointerCaptureLost(e,i){this._activePointerCaptures.delete(i.pointerId),this._handleDefault(e,i)}_handleDefault(e,i){const n={native:i};i.preventDefault(),this._callback(e,n)}_preventAltKeyDefault(e){e.key==="Alt"&&e.preventDefault()}_preventMultiTouchPanning(e){e.touches.length>1&&e.preventDefault()}},Rf.test={disableSubpixelCoordinates:!1},Rf);const U_={"key-down":"keydown","key-up":"keyup","pointer-down":"pointerdown","pointer-up":"pointerup","pointer-move":"pointermove","mouse-wheel":"wheel","pointer-capture-got":"gotpointercapture","pointer-capture-lost":"lostpointercapture","context-menu":"contextmenu","pointer-enter":"pointerenter","pointer-leave":"pointerleave","pointer-cancel":"pointercancel",focus:"focus",blur:"blur"};let R6t=class extends ln{constructor(){super(!0),this.registerIncoming("context-menu",(e=>e.data.native.preventDefault()))}};const YW=()=>({maximumClickDelay:300}),C6t=(t={})=>({...YW(),movementUntilMouseDrag:1.5,movementUntilPenDrag:6,movementUntilTouchDrag:6,holdDelay:500,...t}),IM=(t={})=>({...YW(),maximumDoubleClickDistance:10,maximumDoubleTouchDistance:35,maximumDoubleClickDelay:250,maximumDoubleTouchDelay:350,...t});function Nw(t,e){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)}function O6t(t,e){const i=e.x-t.x,n=e.y-t.y;return Math.sqrt(i*i+n*n)}function $6t(t,e){if(e?(e.radius=0,e.center.x=0,e.center.y=0):e={radius:0,center:_n()},t.length===0)return e;if(t.length===1)return e.center.x=t[0].x,e.center.y=t[0].y,e;if(t.length===2){const[rt,it]=t,[ot,pt]=[it.x-rt.x,it.y-rt.y];return e.radius=Math.sqrt(ot*ot+pt*pt)/2,e.center.x=(rt.x+it.x)/2,e.center.y=(rt.y+it.y)/2,e}let i=0,n=0;for(let rt=0;rt<t.length;rt++)i+=t[rt].x,n+=t[rt].y;i/=t.length,n/=t.length;const a=t.map((rt=>rt.x-i)),d=t.map((rt=>rt.y-n));let y=0,b=0,S=0,T=0,C=0,k=0,D=0;for(let rt=0;rt<a.length;rt++){const it=a[rt],ot=d[rt],pt=it*it,yt=ot*ot;y+=pt,b+=yt,S+=it*ot,T+=pt*it,C+=yt*ot,k+=it*yt,D+=ot*pt}const z=.5*(T+k),G=.5*(C+D),B=y*b-S*S,H=(z*b-G*S)/B,X=(y*G-S*z)/B,et=_n(H+i,X+n);return{radius:Math.sqrt(H*H+X*X+(y+b)/t.length),center:et}}function _f(t){const{native:e}=t,{pointerId:i,button:n,pointerType:a}=e;return a==="mouse"?`${i}:${n}`:`${a}`}let N6t=class extends ln{constructor(e={},i=zp){super(!1),this._clock=i,this._doubleTapDragReady=!1,this._doubleTapDragActive=!1,this._dragStartCenter=_n(0,0),this._pointerState=new Map,this._parameters=IM(e),this._doubleTapDrag=this.registerOutgoing("double-tap-drag"),this._dragEventSeparator=new n9({start:(n,a)=>this._dragStart(n,a),update:(n,a)=>this._dragUpdate(a),end:(n,a)=>this._dragEnd(a)}),this.registerIncoming("drag",(n=>this._dragEventSeparator.handle(n))),this.registerIncoming("pointer-down",(n=>this._handlePointerDown(n))),this.registerIncoming("pointer-up",(()=>this._handlePointerUp()))}onUninstall(){this._pointerState.forEach((e=>{e.doubleTapTimeout=or(e.doubleTapTimeout)}))}get hasPendingInputs(){for(const e of this._pointerState.values())if(e.doubleTapTimeout!=null)return!0;return!1}_clearPointerDown(e){const i=this._pointerState.get(e);i&&(i.doubleTapTimeout=or(i.doubleTapTimeout),this._pointerState.delete(e),this.refreshHasPendingInputs())}_dragStart(e,i){if(!this._doubleTapDragReady||e!==1)return;this._doubleTapDragReady=!1,this._doubleTapDragActive=!0;const{data:n,modifiers:a}=i,{center:d}=n;this._dragStartCenter=d;const y=F_("begin",_n(0,0),n);this._doubleTapDrag.emit(y,void 0,a),i.stopPropagation()}_dragUpdate(e){if(!this._doubleTapDragActive)return;const{data:i,modifiers:n}=e,{center:a}=i,d=F_("update",_n(a.x-this._dragStartCenter.x,a.y-this._dragStartCenter.y),i);this._doubleTapDrag.emit(d,void 0,n),e.stopPropagation()}_dragEnd(e){if(!this._doubleTapDragActive)return;const{data:i,modifiers:n}=e,{center:a}=i,d=F_("end",_n(a.x-this._dragStartCenter.x,a.y-this._dragStartCenter.y),i);this._doubleTapDrag.emit(d,void 0,n),this._doubleTapDragActive=!1,e.stopPropagation()}_handlePointerDown(e){const{data:i}=e,n=_f(i),a=this._pointerState.get(n),{pointerType:d}=i.native;if(a){const y=d==="touch"?this._parameters.maximumDoubleTouchDistance:this._parameters.maximumDoubleClickDistance;this._clearPointerDown(n),Nw(a.event.data,i)>y?this._storePointerDown(e):this._doubleTapDragReady=!0}else this._storePointerDown(e)}_handlePointerUp(){this._doubleTapDragReady=!1}_storePointerDown(e){const{data:i}=e,{pointerType:n}=i.native,a=_f(i),d=n==="touch"?this._parameters.maximumDoubleTouchDelay:this._parameters.maximumDoubleClickDelay,y=this._clock.setTimeout((()=>this._clearPointerDown(a)),d);this._pointerState.set(a,{event:e,doubleTapTimeout:y}),this.refreshHasPendingInputs()}};function F_(t,e,i){const{button:n,buttons:a,pointer:d,pointers:y,pointerType:b,timestamp:S}=i;return{action:t,delta:e,button:n,buttons:a,pointer:d,pointers:y,pointerType:b,timestamp:S}}let k6t=class extends ln{constructor(e){super(!1),this._navigationTouch=e,this._startStateModifiers=new Set,this._activePointerMap=new Map,this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._drag=this.registerOutgoing("drag"),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-capture-lost",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-cancel",this._handlePointerUpAndPointerLost.bind(this))}_createPayload(e,i,n,a){return{action:e,pointerType:this._pointerType,button:this._mouseButton,buttons:i.buttons,timestamp:a,pointers:P6t(this._activePointerMap),pointer:i,angle:n.angle,radius:n.radius,center:n.center}}_addPointer(e){const i=e.native.pointerId,n=c3(this._activePointerMap).angle,a={event:e,initialAngle:0,lastAngle:0};this._activePointerMap.set(i,a);const d=bb(a,KW(this._activePointerMap));a.initialAngle=d,a.lastAngle=d,this._updatePointerAngles(n)}_updatePointer(e){if(e&&e.x==null&&e.y==null)return;const i=e.native.pointerId,n=this._activePointerMap.get(i);n?n.event=e:this._addPointer(e)}_removePointer(e){const i=c3(this._activePointerMap).angle;this._activePointerMap.delete(e),this._updatePointerAngles(i)}_updatePointerAngles(e){const i=c3(this._activePointerMap);this._activePointerMap.forEach((n=>{n.initialAngle=bb(n,i)-e,n.lastAngle=bb(n,i)-e}))}_emitEvent(e,i,n){const a=c3(this._activePointerMap);this._drag.emit(this._createPayload(e,i,a,n),void 0,this._startStateModifiers)}_handlePointerUpAndPointerLost(e){const i=e.data.native.pointerId,n=e.timestamp;this._activePointerMap.get(i)&&(this._activePointerMap.size===1?(this._updatePointer(e.data),!this._isCurrentDragSuppressed&&this._emitEvent("end",e.data,n),this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._removePointer(i)):(this._removePointer(i),this._emitEvent("removed",e.data,e.timestamp)))}_handlePointerDrag(e){const i=e.data,n=i.currentEvent,a=e.timestamp;switch(i.action){case"start":case"update":this._isDragging?this._activePointerMap.has(n.native.pointerId)?(this._updatePointer(n),!this._isCurrentDragSuppressed&&this._emitEvent("update",n,a)):(this._addPointer(n),this._emitEvent("added",n,a),this._isCurrentDragSuppressed=this._isSuppressed):(this._updatePointer(n),this._pointerType=e.data.startEvent.pointerType,this._mouseButton=e.data.startEvent.button,this._startStateModifiers=e.modifiers,this._isDragging=!0,this._isCurrentDragSuppressed=this._isSuppressed,!this._isCurrentDragSuppressed&&this._emitEvent("start",n,a))}}get _isSuppressed(){return!!this._navigationTouch&&!this._navigationTouch.browserTouchPanEnabled&&this._pointerType==="touch"&&this._activePointerMap.size===1}};function KW(t){const e=[];return t.forEach((i=>{e.push(_n(i.event.x,i.event.y))})),$6t(e)}function c3(t){const e=KW(t);let i=0;return t.forEach((n=>{let a=bb(n,e),d=a-n.lastAngle;for(;d>Math.PI;)d-=2*Math.PI;for(;d<-Math.PI;)d+=2*Math.PI;a=n.lastAngle+d,n.lastAngle=a;const y=a-n.initialAngle;i+=y})),i/=t.size||1,{angle:i,radius:e.radius,center:e.center}}function P6t(t){const e=new Map;return t.forEach(((i,n)=>e.set(n,i.event))),e}function bb(t,e){const i=t.event,n=i.x-e.center.x,a=i.y-e.center.y;return Math.atan2(a,n)}var vI;(function(t){t[t.Left=0]="Left",t[t.Middle=1]="Middle",t[t.Right=2]="Right",t[t.Back=3]="Back",t[t.Forward=4]="Forward",t[t.Undefined=-1]="Undefined"})(vI||(vI={}));let I6t=class extends ln{constructor(e={},i=zp){super(!1),this._clock=i,this._pointerState=new Map,this._parameters=IM(e),this._immediateDoubleClick=this.registerOutgoing("immediate-double-click"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUp.bind(this))}onUninstall(){this._pointerState.forEach((e=>{e.immediateDoubleClick&&e.immediateDoubleClick.timeoutHandle.remove()})),super.onUninstall()}_handlePointerDown(e){const i=e.data,n=_f(i);if(!this._pointerState.has(n)){const a={downButton:i.native.button,x:i.x,y:i.y,immediateDoubleClick:null};this._pointerState.set(n,a),this.startCapturingPointer(i.native)}}_handlePointerUp(e){const i=e.data,n=_f(i),a=this._pointerState.get(n);if(a&&a.downButton===i.native.button){const d=a.immediateDoubleClick,y=e.data.native.pointerType==="touch"?this._parameters.maximumDoubleTouchDistance:this._parameters.maximumDoubleClickDistance;d?(d.timeoutHandle.remove(),Nw(d,e.data)>y?this._startImmediateDoubleClick(e,a):(this._immediateDoubleClick.emit(e.data,void 0,d.modifiers),this._removeState(i))):Nw(a,e.data)>y?this._removeState(i):this._startImmediateDoubleClick(e,a)}}_startImmediateDoubleClick(e,i){const n=e.data.native.pointerType==="touch"?this._parameters.maximumDoubleTouchDelay:this._parameters.maximumDoubleClickDelay;i.immediateDoubleClick={x:e.data.x,y:e.data.y,modifiers:e.modifiers,timeoutHandle:this._clock.setTimeout((()=>this._removeState(e.data)),n)}}_removeState(e){const i=_f(e);this._pointerState.delete(i),this.stopCapturingPointer(e.native),this.refreshHasPendingInputs()}},D6t=class extends ln{constructor(e={},i=zp){super(!1),this._clock=i,this._pointerState=new Map,this._parameters=C6t(e),this._pointerDrag=this.registerOutgoing("pointer-drag"),this._immediateClick=this.registerOutgoing("immediate-click"),this._pointerHold=this.registerOutgoing("hold"),this.registerIncoming("pointer-down",(n=>this._handlePointerDown(n))),this.registerIncoming("pointer-up",(n=>this._handlePointerLoss(n,"pointer-up"))),this.registerIncoming("pointer-capture-lost",(n=>this._handlePointerLoss(n,"pointer-capture-lost"))),this.registerIncoming("pointer-cancel",(n=>this._handlePointerLoss(n,"pointer-cancel"))),this._moveHandle=this.registerIncoming("pointer-move",(n=>this._handlePointerMove(n))),this._moveHandle.pause()}onUninstall(){this._pointerState.forEach((e=>{e.holdTimeout=or(e.holdTimeout)})),super.onUninstall()}_handlePointerDown(e){const i=e.data,n=i.native.pointerId;let a=null;this._pointerState.size===0&&(a=this._clock.setTimeout((()=>{const y=this._pointerState.get(n);if(y){if(!y.isDragging){const b=y.previousEvent;this._pointerHold.emit(b,void 0,e.modifiers),y.holdEmitted=!0}y.holdTimeout=null}}),this._parameters.holdDelay));const d={startEvent:i,previousEvent:i,startTimestamp:e.timestamp,isDragging:!1,downButton:i.native.button,holdTimeout:a,modifiers:new Set};this._pointerState.set(n,d),this.startCapturingPointer(i.native),this._moveHandle.resume(),this._pointerState.size>1&&this._startDragging(e)}_handlePointerMove(e){const i=e.data,n=i.native.pointerId,a=this._pointerState.get(n);a&&(a.isDragging?this._pointerDrag.emit(h3("update",a,i),void 0,a.modifiers):O6t(i,a.startEvent)>this._getDragThreshold(i.native.pointerType)&&this._startDragging(e),a.previousEvent=i)}_getDragThreshold(e){switch(e){case"touch":return this._parameters.movementUntilTouchDrag;case"pen":return this._parameters.movementUntilPenDrag;default:return this._parameters.movementUntilMouseDrag}}_startDragging(e){const i=e.data,n=i.native.pointerId;this._pointerState.forEach((a=>{a.holdTimeout!=null&&(a.holdTimeout.remove(),a.holdTimeout=null),a.isDragging||(a.modifiers=e.modifiers,a.isDragging=!0,n===a.startEvent.native.pointerId?this._pointerDrag.emit(h3("start",a,i)):this._pointerDrag.emit(h3("start",a,a.previousEvent),e.timestamp))}))}_handlePointerLoss(e,i){const n=e.data,a=n.native.pointerId,d=this._pointerState.get(a);d&&(d.holdTimeout!=null&&(d.holdTimeout.remove(),d.holdTimeout=null),d.isDragging?this._pointerDrag.emit(h3("end",d,i==="pointer-up"?n:d.previousEvent),void 0,d.modifiers):i==="pointer-up"&&d.downButton===n.native.button&&e.timestamp-d.startTimestamp<=this._parameters.maximumClickDelay&&!d.holdEmitted&&this._immediateClick.emit(n),this._pointerState.delete(a),this.stopCapturingPointer(n.native),this._pointerState.size===0&&this._moveHandle.pause())}};function h3(t,e,i){return{action:t,startEvent:e.startEvent,previousEvent:e.previousEvent,currentEvent:i}}let L6t=class extends ln{constructor(e={},i=zp){super(!1),this._clock=i,this._pointerState=new Map,this._parameters=IM(e),this._click=this.registerOutgoing("click"),this._doubleClick=this.registerOutgoing("double-click"),this.registerIncoming("immediate-click",(n=>this._handleImmediateClick(n))),this.registerIncoming("pointer-down",(n=>this._handlePointerDown(n)))}onUninstall(){this._pointerState.forEach((e=>e.doubleClickTimer=or(e.doubleClickTimer)))}get hasPendingInputs(){for(const e of this._pointerState.values())if(e.doubleClickTimer!=null)return!0;return!1}_clearDoubleClickTimer(e,i){const n=this._pointerState.get(e);n&&(n.doubleClickTimer=or(n.doubleClickTimer),i&&this._click.emit(n.event.data,void 0,n.event.modifiers),this._pointerState.delete(e),this.refreshHasPendingInputs())}_doubleClickTimeoutExceeded(e){const i=this._pointerState.get(e);i.pointerDownCount===1&&this._click.emit(i.event.data,void 0,i.event.modifiers),i.doubleClickTimer=null,this._pointerState.delete(e),this.refreshHasPendingInputs()}_handleImmediateClick(e){const i=e.data,{pointerType:n}=i.native,a=j6t(i);if(!this._pointerState.has(a))return void this._startClick(e);const d=this._pointerState.get(a),{data:y,modifiers:b}=d.event,S=n==="touch"?this._parameters.maximumDoubleTouchDistance:this._parameters.maximumDoubleClickDistance;Nw(y,i)>S?(this._clearDoubleClickTimer(a,!0),this._startClick(e)):(this._clearDoubleClickTimer(a,!1),d.pointerDownCount===2&&this._doubleClick.emit(y,void 0,b))}_handlePointerDown(e){const i=_f(e.data),n=this._pointerState.get(i);n&&(n.pointerDownCount+=1)}_startClick(e){const{data:i}=e,{native:{pointerType:n}}=i,a=_f(i),d=n==="touch"?this._parameters.maximumDoubleTouchDelay:this._parameters.maximumDoubleClickDelay,y=this._clock.setTimeout((()=>this._doubleClickTimeoutExceeded(a)),d);this._pointerState.set(a,{event:e,doubleClickTimer:y,pointerDownCount:1}),this.refreshHasPendingInputs()}};function j6t(t){const{pointerId:e,pointerType:i,button:n}=t.native;return i==="mouse"?`${e}:${n}`:`${i}`}const f3={counter:"Control",pan:{left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},zoom:{zoomIn:["=","+"],zoomOut:["-","_"]},rotate:{clockwise:["a","A"],counterClockwise:["d","D"],reset:["n","N"]}},bI=Symbol("handles");let Wh=class extends ve{initialize(){const e=()=>this.view?.ready;this.addHandles([Ho((()=>!e()),(()=>this._disconnect())),Ho(e,(()=>this._connect()))])}destroy(){this._disconnect()}get latestPointerType(){return this._inputManager?.latestPointerType}get latestPointerLocation(){return this._inputManager?.latestPointerLocation}get multiTouchActive(){return this._inputManager?.multiTouchActive??!1}isModifierKeyDown(e){return this._inputManager?.isModifierKeyDown(e)??!1}_disconnect(){this.view.viewEvents.disconnect(),this.removeHandles(bI),this._inputManager=vr(this._inputManager)}_connect(){const e=this.view.surface,i=new A6t(e,this.view.input),n=[new I6t,new D6t,new L6t,new k6t(this.view.navigation),new N6t],a=new Eo({eventSource:i,recognizers:n}),d=new w4t(this.view,["primary"]),y=new _4t(this.view,["secondary"]);a.installHandlers("prevent-context-menu",[new R6t],pu.INTERNAL),a.installHandlers("navigation",[new v6t(this.view),new u6t(this.view),new g6t(this.view),new hI(this.view),new hI(this.view,[f3.counter]),d,new d6t(this.view,f3.pan),new y6t(this.view,f3.zoom),new p6t(this.view,f3.rotate),y,new b4t(this.view,"touch")],pu.INTERNAL),this.view.viewEvents.connect(a),this._source=i,this._inputManager=a,this.addHandles([Ce((()=>this.view?.navigation?.browserTouchPanEnabled),(b=>{this._source&&(this._source.browserTouchPanningEnabled=!b)}),Qn),Ce((()=>{const{actionMap:b}=this.view.navigation;return{panActions:cI("pan",b),rotateActions:cI("rotate",b)}}),(({panActions:b,rotateActions:S})=>{d.pointerActions=b,y.pointerActions=S}),ss)],bI)}get test(){}};E([N()],Wh.prototype,"view",void 0),E([N()],Wh.prototype,"latestPointerType",null),E([N()],Wh.prototype,"latestPointerLocation",null),E([N()],Wh.prototype,"multiTouchActive",null),Wh=E([ut("esri.views.2d.input.MapViewInputManager")],Wh);const z6t=Wh,U6t=t=>{let e=class extends t{constructor(...i){super(...i),this.goToManager=new vb({view:this}),this.inputManager=new z6t({view:this}),this.addHandles([this.on("resize",(n=>this.stateManager.resize(n.width,n.height)))])}get interacting(){return this.navigating}get stationary(){return!this.animation&&!this.navigating&&!this.resizing&&this.stationaryManager.stationary}on(i,n,a,d){return this.inputManager&&this.viewEvents.on(i,n,a,d)||super.on(i,n)}hasEventListener(i){return super.hasEventListener(i)||this.viewEvents.hasHandler(i)}goTo(i,n){return this.goToManager.goTo(i,n)}toMap(i){if(!this.ready)return null;const n=jV(i)?LV(this,i):i;return this.stateManager.toMap(n)}};return E([N()],e.prototype,"goToManager",void 0),E([N({readOnly:!0})],e.prototype,"interacting",null),E([N()],e.prototype,"stationary",null),E([N({readOnly:!0})],e.prototype,"inputManager",void 0),e=E([ut("esri.views.Viewport2DMixin")],e),e};let wI=class{constructor(e){this._view=e,this.viewpoint=new Bo({targetGeometry:new ue,scale:0,rotation:0})}get view(){return this._view}get size(){const[e,i]=this._view.size;return Math.sqrt(e*e+i*i)}get scale(){return this.viewpoint.scale}get rotation(){return this.viewpoint.rotation}get center(){return this.viewpoint.targetGeometry}get scaleToResolutionFactor(){return vW(this.center.spatialReference)}pixelsPerPanAtZoom(e){return 1/(e*this.scaleToResolutionFactor)}zoomAtPixelsPerPan(e){return 1/(e*this.scaleToResolutionFactor)}pixelsPerRotate(){return this.size/2}compareTo(e,i){i.pan=jz(this.center,e.center);let n=Math.abs(e.rotation-this.rotation);n=n>=180?360-n:n,i.rotate=sv(n),i.sourceZoom=this.scale,i.targetZoom=e.scale}interpolate(e,i,n){const{pan:a,rotate:d,zoom:y,zoomOffset:b}=n,{center:S}=this;S.spatialReference=e.center.spatialReference,S.x=Fy(e.center.x,i.center.x,a),S.y=Fy(e.center.y,i.center.y,a),this.viewpoint.scale=Fy(e.scale,i.scale+b,y);let T=e.rotation;const C=i.rotation;Math.abs(C-T)>=180&&(T+=360*(T<C?1:-1)),this.viewpoint.rotation=Fy(T,C,d)}copyFrom(e){Zn(this.viewpoint,e.viewpoint),this._view=e.view}};function Sy(t,e,i,n){const a=3*t,d=3*(i-t)-a,y=1-a-d,b=3*e,S=3*(n-e)-b,T=1-b-S;function C(G){return((y*G+d)*G+a)*G}function k(G){return((T*G+S)*G+b)*G}function D(G){return(3*y*G+2*d)*G+a}function z(G,B){let H,X,et,rt,it,ot;for(et=G,ot=0;ot<8;ot++){if(rt=C(et)-G,Math.abs(rt)<B)return et;if(it=D(et),Math.abs(it)<1e-6)break;et-=rt/it}if(H=0,X=1,et=G,et<H)return H;if(et>X)return X;for(;H<X;){if(rt=C(et),Math.abs(rt-G)<B)return et;G>rt?H=et:X=et,et=.5*(X-H)+H}return et}return function(G,B=1e-6){return k(z(G,B))}}const $o={};$o.ease=Sy(.25,.1,.25,1),$o.linear=Sy(0,0,1,1),$o.easeIn=$o["ease-in"]=Sy(.42,0,1,1),$o.easeOut=$o["ease-out"]=Sy(0,0,.58,1),$o.easeInOut=$o["ease-in-out"]=Sy(.42,0,.58,1);const F6t=t=>t,Eg=t=>t*t,kw=t=>1-Eg(1-t),_I=t=>t<.5?Eg(2*t)/2:(kw(2*(t-.5))+1)/2,Pw=t=>t*t*t,L8=t=>1-Pw(1-t),SI=t=>t<.5?Pw(2*t)/2:(L8(2*(t-.5))+1)/2,Iw=t=>t*t*t*t,j8=t=>1-Iw(1-t),xI=t=>t<.5?Iw(2*t)/2:(j8(2*(t-.5))+1)/2,Dw=t=>t*t*t*t*t,z8=t=>1-Dw(1-t),TI=t=>t<.5?Dw(2*t)/2:(z8(2*(t-.5))+1)/2,Lw=t=>1-Math.cos(t*Math.PI/2),U8=t=>1-Lw(1-t),EI=t=>t<.5?Lw(2*t)/2:(U8(2*(t-.5))+1)/2,jw=t=>2**(10*(t-1)),zw=t=>1-jw(1-t),MI=t=>t<.5?jw(2*t)/2:(zw(2*(t-.5))+1)/2,Uw=t=>-(Math.sqrt(1-t*t)-1),F8=t=>1-Uw(1-t),AI=t=>t<.5?Uw(2*t)/2:(F8(2*(t-.5))+1)/2;function Yo(t){const e=2*(t-Math.sqrt((t-1)*t)),i=e/2/t;return n=>n<i?t*n*n:e*n-e+1}function Ko(t,e){return(i,n)=>i<e?e*t(i/e,n):1-t((1-i)/(1-e),n)*(1-e)}const RI=Ko(Yo(1),1),CI=Ko(Yo(1),0),Fw=Ko(Yo(1),.5),OI=Ko(Yo(2),1),$I=Ko(Yo(2),0),NI=Ko(Yo(2),.5),kI=Ko(Yo(3),1),PI=Ko(Yo(3),0),II=Ko(Yo(3),.5),DI=Ko(Yo(4),1),LI=Ko(Yo(4),0),jI=Ko(Yo(4),.5),zI={linear:F6t,"in-quad":Eg,"out-quad":kw,"in-out-quad":_I,"in-coast-quad":RI,"out-coast-quad":CI,"in-out-coast-quad":Fw,"in-cubic":Pw,"out-cubic":L8,"in-out-cubic":SI,"in-coast-cubic":OI,"out-coast-cubic":$I,"in-out-coast-cubic":NI,"in-quart":Iw,"out-quart":j8,"in-out-quart":xI,"in-coast-quart":kI,"out-coast-quart":PI,"in-out-coast-quart":II,"in-quint":Dw,"out-quint":z8,"in-out-quint":TI,"in-coast-quint":DI,"out-coast-quint":LI,"in-out-coast-quint":jI,"in-sine":Lw,"out-sine":U8,"in-out-sine":EI,"in-expo":jw,"out-expo":zw,"in-out-expo":MI,"in-circ":Uw,"out-circ":F8,"in-out-circ":AI,"quad-in":Eg,"quad-out":kw,"quad-in-out":_I,"quad-in-coast":RI,"quad-out-coast":CI,"quad-in-out-coast":Fw,"cubic-in":Pw,"cubic-out":L8,"cubic-in-out":SI,"cubic-in-coast":OI,"cubic-out-coast":$I,"cubic-in-out-coast":NI,"quart-in":Iw,"quart-out":j8,"quart-in-out":xI,"quart-in-coast":kI,"quart-out-coast":PI,"quart-in-out-coast":II,"quint-in":Dw,"quint-out":z8,"quint-in-out":TI,"quint-in-coast":DI,"quint-out-coast":LI,"quint-in-out-coast":jI,"sine-in":Lw,"sine-out":U8,"sine-in-out":EI,"expo-in":jw,"expo-out":zw,"expo-in-out":MI,"circ-in":Uw,"circ-out":F8,"circ-in-out":AI,ease:t=>$o.ease(t),"ease-in":t=>$o.easeIn(t),"ease-out":t=>$o.easeOut(t),"ease-in-out":t=>$o.easeInOut(t)};let B6t=class{constructor(){this.pan=0,this.rotate=0,this.fov=0,this.sourceZoom=0,this.targetZoom=0}};const Bw={desiredScreenFlow:2,minDuration:500,maxDuration:8e3},XW={maxDuration:4e3};let G6t=class ZW{constructor(e){this._createCamera=e,this.compared=new B6t,this.segmentStart=0,this.segmentEnd=1,this.settings={desiredScreenFlow:Bw.desiredScreenFlow},this.source=e(),this.target=e()}clone(){const e=new ZW(this._createCamera);return e.copyFrom(this),e}copyFrom(e){this.update(e.source,e.target,e.settings)}update(e,i,n){this.source!==e&&this.source.copyFrom(e),this.target!==i&&this.target.copyFrom(i),this.source.compareTo(this.target,this.compared),this.settings.desiredScreenFlow=n.desiredScreenFlow??Bw.desiredScreenFlow,this.desiredPixelFlow=this.settings.desiredScreenFlow*this.target.size,this.halfWindowSize=this.target.size/2}halfWindowPanAtZoom(e){const i=this.target.pixelsPerPanAtZoom(e);return this.halfWindowSize/i}get hasZoom(){return Math.abs(this.compared.sourceZoom-this.compared.targetZoom)>1e-5}get hasPan(){return this.compared.pan>Ls()}get hasFov(){return Math.abs(this.compared.fov)>Ls()}get hasRotate(){return this.compared.rotate>Ls()}},q6t=class{constructor(){this.pan=0,this.rotate=0,this.zoom=0,this.fov=0,this.zoomOffset=0}},H6t=class{constructor(){this.segments=new Array}get time(){return this.segments.reduce(((e,i)=>e+i.time),0)}interpolateComponentsAt(e,i){e=Math.min(Math.max(e,0),1),e*=this.time;let n=0,a=0;const d=this.definition,y=this.segments.reduce(((b,S)=>b||S.definition.hasZoom),!1);for(let b=0;b<this.segments.length;b++){const S=this.segments[b],T=S.definition;if(e<=S.time||b===this.segments.length-1){if(this.segmentInterpolateComponentsAt(S,S.time===0?0:e/S.time,i),d.hasPan&&!isNaN(i.pan)&&isFinite(d.compared.pan)?i.pan=(n+T.compared.pan*i.pan)/d.compared.pan:i.pan=1,d.hasRotate&&!isNaN(i.rotate)&&isFinite(d.compared.rotate)?i.rotate=(a+T.compared.rotate*i.rotate)/d.compared.rotate:i.rotate=1,y&&!isNaN(i.zoom)&&isFinite(T.compared.targetZoom)){const{sourceZoom:C,targetZoom:k}=T.compared,D=i.zoom*(k-C)+C,z=this.segments[0].definition.compared.sourceZoom,G=this.segments[this.segments.length-1].definition.compared.targetZoom,B=Math.abs(k-z)>Math.abs(C-z)?k:C;i.zoomOffset=B-G,i.zoom=(D-z)/(B-z)}else i.zoom=1;return i}e-=S.time,n+=T.compared.pan,a+=T.compared.rotate}}segmentInterpolateComponentsAt(e,i,n){e.interpolateComponentsAt(i,n)}},B_=class{get time(){return this._time}constructor(e){e&&this.update(e)}update(e){e&&(this.definition?this.definition.copyFrom(e):this.definition=e.clone()),this._updatePrecomputedVariables(),this._updatePixelFlow()}_updatePrecomputedVariables(){const e=this.definition,i=e.compared,n=i.sourceZoom,a=i.targetZoom;this._zoomSign=n>a?1:-1,this._panPixelsAtSource=i.pan*e.source.pixelsPerPanAtZoom(n);const d=(e.source.pixelsPerRotate()+e.target.pixelsPerRotate())/2;this._rotatePixels=i.rotate*d}_updatePixelFlow(){const e=this.definition.compared.sourceZoom,i=this.definition.compared.targetZoom,{hasZoom:n,hasPan:a,hasRotate:d}=this.definition;let y=0,b=0;n&&(a&&(y=(i/e-1)/(-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2*this._panPixelsAtSource)),d&&(b=this._zoomSign*(Math.log(e/i)/Math.LN2)*this.definition.halfWindowSize/this._rotatePixels)),this._zoomPixelFlow=0,this._panPixelFlow=0,this._rotatePixelFlow=0;const S=this.definition.desiredPixelFlow;if(n&&a&&d){const T=y+b+y*b;this._zoomPixelFlow=y*b/T*S,this._panPixelFlow=b/T*S,this._rotatePixelFlow=y/T*S}else if(n&&a){const T=1+y;this._zoomPixelFlow=y/T*S,this._panPixelFlow=1/T*S}else if(n&&d){const T=1+b;this._zoomPixelFlow=b/T*S,this._rotatePixelFlow=1/T*S}else if(a&&d){const T=this._panPixelsAtSource/this._rotatePixels,C=1+T;this._panPixelFlow=T/C*S,this._rotatePixelFlow=1/C*S}else a?this._panPixelFlow=S:n?this._zoomPixelFlow=S:d&&(this._rotatePixelFlow=S);if(this._time=Math.max(this.rotateTime,this.zoomTime,this.panTime),this.fovTime>this._time){const T=this.fovTime/this._time;this._time=this.fovTime,this._zoomPixelFlow/=T,this._panPixelFlow/=T,this._rotatePixelFlow/=T}}get rotateTime(){return this.definition.hasRotate?this._rotatePixels/this._rotatePixelFlow:0}get zoomTime(){return this.definition.hasZoom?this._zoomSign*(Math.log(this.definition.compared.sourceZoom/this.definition.compared.targetZoom)/Math.LN2)*this.definition.halfWindowSize/this._zoomPixelFlow:0}get fovTime(){return this.definition.hasFov?Math.abs(this.definition.compared.fov)/V6t:0}get panTime(){if(!this.definition.hasPan)return 0;if(this.definition.hasZoom){const e=-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2,i=e*this._panPixelsAtSource;return Math.log(i*(this._zoomPixelFlow/this._panPixelFlow)+1)/(e*this._zoomPixelFlow)}return this._panPixelsAtSource/this._panPixelFlow}_interpolateComponentsZoom(e){if(e===0||e===1)return e;if(this.definition.hasZoom){const i=this.definition.compared.sourceZoom,n=this.definition.compared.targetZoom;return(i*(i/n)**-e-i)/(n-i)}return e}_interpolateComponentsFov(e){if(e===0)return this.definition.segmentStart;if(e===1)return this.definition.segmentEnd;if(this.definition.hasFov){const{segmentStart:i,segmentEnd:n}=this.definition;return i+e*(n-i)}return this.definition.segmentStart}_interpolateComponentsPan(e){if(e===0||e===1)return e;if(this.definition.hasPan&&this.definition.hasZoom){const i=-1/(this._zoomSign*this.definition.halfWindowSize)*this._zoomPixelFlow;return 1/this._panPixelsAtSource*(this._panPixelFlow*(2**(i*e*this._time)-1))/(i*Math.LN2)}return e}_interpolateComponentsRotate(e){return e}interpolateComponentsAt(e,i){e=Math.min(Math.max(e,0),1),i.zoom=this._interpolateComponentsZoom(e),i.pan=this._interpolateComponentsPan(e),i.rotate=this._interpolateComponentsRotate(e),i.zoomOffset=0,i.fov=this._interpolateComponentsFov(e)}};const V6t=sv(45);function W6t(t,e,i){const n=e-t.compared.sourceZoom,a=t.halfWindowPanAtZoom(n);return-t.halfWindowSize*(i.ascensionFactor*Math.LN2*t.compared.pan+a)*Math.log(t.compared.sourceZoom/e)/(t.desiredPixelFlow*Math.LN2*a)}function J6t(t,e,i){const n=1/e,a=Math.log(t.compared.sourceZoom*n),d=1/t.desiredPixelFlow,y=1/Math.LN2,b=e-t.compared.sourceZoom,S=1/b,T=(i.ascensionFactor*Math.LN2*t.compared.pan+t.halfWindowPanAtZoom(b))/t.halfWindowPanAtZoom(1);return t.halfWindowSize*n*d*y*S*T-t.halfWindowSize*a*d*y*S+t.halfWindowSize*a*d*y*T/(b*b)}function Y6t(t,e,i){const n=e-t.compared.sourceZoom,a=1/n,d=1/e,y=Math.log(t.compared.sourceZoom*d),b=(i.ascensionFactor*Math.LN2*t.compared.pan+t.halfWindowPanAtZoom(n))/t.halfWindowPanAtZoom(1);return t.halfWindowSize*a*(-2*a*d*b+2*a*y+2*d-2*y*b/(n*n)-b/(e*e))/(t.desiredPixelFlow*Math.LN2)}function K6t(t,e){return-t.halfWindowSize*Math.log(t.compared.sourceZoom/e)/(t.desiredPixelFlow*Math.LN2)}function X6t(t,e){return t.halfWindowSize/(e*t.desiredPixelFlow*Math.LN2)}function Z6t(t,e){return-t.halfWindowSize/(e*e*t.desiredPixelFlow*Math.LN2)}function Q6t(t,e,i){return-t.compared.pan*t.halfWindowSize*(i.ascensionFactor+i.descensionFactor-1)/(t.desiredPixelFlow*t.halfWindowPanAtZoom(e))}function t_t(t,e,i){return t.compared.pan*t.halfWindowSize*(i.ascensionFactor+i.descensionFactor-1)/(t.desiredPixelFlow*t.halfWindowPanAtZoom(e*e))}function e_t(t,e,i){return-2*t.compared.pan*t.halfWindowSize*(i.ascensionFactor+i.descensionFactor-1)/(t.desiredPixelFlow*t.halfWindowPanAtZoom(e*e*e))}function i_t(t,e,i){return t.halfWindowSize*(-t.halfWindowPanAtZoom(e)-i.descensionFactor*Math.LN2*t.compared.pan+t.halfWindowPanAtZoom(t.compared.targetZoom))*Math.log(e/t.compared.targetZoom)/(t.desiredPixelFlow*Math.LN2*t.halfWindowPanAtZoom(-e+t.compared.targetZoom))}function r_t(t,e,i){const n=Math.log(e/t.compared.targetZoom),a=1/t.desiredPixelFlow,d=1/Math.LN2,y=-e+t.compared.targetZoom,b=1/y,S=(-t.halfWindowPanAtZoom(e)-i.descensionFactor*Math.LN2*t.compared.pan+t.halfWindowPanAtZoom(t.compared.targetZoom))/t.halfWindowPanAtZoom(1);return-t.halfWindowSize*n*a*d*b+t.halfWindowSize*n*a*d*S/(y*y)+t.halfWindowSize*a*d*b*S/e}function n_t(t,e,i){const n=e-t.compared.targetZoom,a=1/n,d=1/e,y=Math.log(e/t.compared.targetZoom),b=(t.halfWindowPanAtZoom(e)+i.descensionFactor*Math.LN2*t.compared.pan-t.halfWindowPanAtZoom(t.compared.targetZoom))/t.halfWindowPanAtZoom(1);return t.halfWindowSize*a*(-2*a*d*b-2*a*y+2*d+2*y*b/(n*n)-b/(e*e))/(t.desiredPixelFlow*Math.LN2)}function s_t(t,e){return t.halfWindowSize*Math.log(e/t.compared.targetZoom)/(t.desiredPixelFlow*Math.LN2)}function o_t(t,e){return t.halfWindowSize/(e*t.desiredPixelFlow*Math.LN2)}function a_t(t,e){return-t.halfWindowSize/(e*e*t.desiredPixelFlow*Math.LN2)}function l_t(t){const e=t.compared.sourceZoom-t.compared.targetZoom;if(e===0)return t.compared.pan*t.halfWindowSize/(t.desiredPixelFlow*t.halfWindowPanAtZoom(t.compared.sourceZoom));const i=Math.LN2*t.compared.pan,n=e,a=t.halfWindowPanAtZoom(n),d=t.halfWindowSize*Math.log(t.compared.sourceZoom/t.compared.targetZoom)/(t.desiredPixelFlow*Math.LN2*a);return t.compared.sourceZoom<=t.compared.targetZoom?d*(i-a):d*(i+a)}function u_t(t,e){let i=c_t(t,e);const n={ascensionFactor:e.ascensionFactor!=null?e.ascensionFactor:.5,descensionFactor:e.descensionFactor!=null?e.descensionFactor:.5},a=n.ascensionFactor===0,d=n.descensionFactor===0,y=a?K6t:W6t,b=a?X6t:J6t,S=a?Z6t:Y6t,T=d?s_t:i_t,C=d?o_t:r_t,k=d?a_t:n_t,D=ot=>y(t,ot,n)+Q6t(t,ot,n)+T(t,ot,n),z=ot=>b(t,ot,n)+t_t(t,ot,n)+C(t,ot,n),G=ot=>S(t,ot,n)+e_t(t,ot,n)+k(t,ot,n);let B=D(i);const H=l_t(t);let X;const et=e.maximumIterations||20,rt=e.maximumDistance!=null?e.maximumDistance:1/0;for(X=0;X<et;X++){const ot=e.desiredSlope??1e-6;let pt=z(i);Math.abs(pt)>ot&&(pt+=ot);const yt=pt/G(i);if(isNaN(yt)||i>=rt&&yt<0){if(!isFinite(rt))return null;i=rt,B=D(i);break}if(i-=yt,i<=t.compared.sourceZoom||i<=t.compared.targetZoom)return null;const ft=D(i);if(Math.abs(ft-B)/B<=.005)break;B=ft}return isNaN(B)||B>H*(1-.3)||i<=t.compared.sourceZoom||i<=t.compared.targetZoom?null:i}function c_t(t,e){const i=Math.max(t.compared.sourceZoom,t.compared.targetZoom),n=t.source.zoomAtPixelsPerPan(t.desiredPixelFlow/t.compared.pan)/2;return n<i?e.maximumDistance!=null?i+(e.maximumDistance-i)/2:1.5*i:e.maximumDistance?Math.min(e.maximumDistance,n):n}let h_t=class extends H6t{constructor(e,i){super(),this._preallocSegments=[new B_,new B_,new B_],this._ascensionSegment=null,this._descensionSegment=null,this.update(e,i)}update(e,i){if(!e)return;this.definition?this.definition.copyFrom(e):this.definition=e.clone();const n=i?.apex?u_t(e,i.apex):null;this.segments.length=0,this._ascensionSegment=null,this._descensionSegment=null,n?this._updateWithApex(n,i?.apex):this._updateWithoutApex()}segmentInterpolateComponentsAt(e,i,n){e.interpolateComponentsAt(i,n),e===this._ascensionSegment?n.zoom=kw(n.zoom):e===this._descensionSegment&&(n.zoom=Eg(n.zoom))}_updateWithApex(e,i){const[n,a,d]=this._preallocSegments,y=i?.ascensionFactor??.5,b=Math.min(1-y,i?.ascensionFactor!=null&&i.descensionFactor!=null?i.descensionFactor:.5),S=1-y-b;n.definition?n.definition.copyFrom(this.definition):n.definition=this.definition.clone(),n.definition.compared.targetZoom=e,n.definition.compared.pan=this.definition.compared.pan*y,n.definition.compared.rotate=this.definition.compared.rotate*y,n.definition.segmentEnd=y,n.update(),this._ascensionSegment=n,this.segments.push(n),S>0&&(a.definition?a.definition.copyFrom(this.definition):a.definition=this.definition.clone(),a.definition.copyFrom(this.definition),a.definition.compared.sourceZoom=e,a.definition.compared.targetZoom=e,a.definition.compared.pan=this.definition.compared.pan*S,a.definition.compared.rotate=this.definition.compared.rotate*S,a.definition.segmentStart=n.definition.segmentEnd,a.definition.segmentEnd=n.definition.segmentEnd+S,a.update(),this.segments.push(a)),d.definition?d.definition.copyFrom(this.definition):d.definition=this.definition.clone(),d.definition.compared.sourceZoom=e,d.definition.compared.pan=this.definition.compared.pan*b,d.definition.compared.rotate=this.definition.compared.rotate*b,d.definition.segmentStart=y+S,d.update(),this._descensionSegment=d,this.segments.push(d)}_updateWithoutApex(){const[e]=this._preallocSegments;e.update(this.definition),this.segments.push(e)}};const f_t=new q6t;let d_t=class{get time(){return this._time}get isLinear(){return this.path.segments.length===1}constructor(e){this._time=0,this._easing=Fw,this.definition=new G6t(e),this.path=new h_t}update(e,i,n){this.definition.update(e,i,n),this.path.update(this.definition,n),this._time=this._applyTimeSettings(cet(isFinite(this.path.time)?this.path.time:0),n),this._easing=n.easing??(this._time>=1e3?Fw:zw)}cameraAt(e,i){e=Math.min(Math.max(0,e),1),e=this._normalizedEasing(e);const n=this.path.interpolateComponentsAt(e,f_t);i.interpolate(this.definition.source,this.definition.target,n)}_normalizedEasing(e){const i=this._easing(0,this._time),n=this._easing(1,this._time);return(this._easing(e,this._time)-i)/(n-i)}_applyTimeSettings(e,i){const n=i.speedFactor!=null?i.speedFactor:1,a=i.minDuration??Bw.minDuration/n,d=i.maxDuration??Bw.maxDuration/n;return e=i.duration!=null?i.duration:Math.min(Math.max(e/n,a),d)}};const p_t=2e3,y_t=64;let m_t=class{constructor(e){this._view=e,this._animation=new d_t((()=>new wI(this._view))),this._current=new wI(this._view)}get _source(){return this._animation.definition.source}get _target(){return this._animation.definition.target}get duration(){return this._animation.time}get animation(){return this._animation}update(e,i,n={}){Zn(this._current.viewpoint,e),Zn(this._source.viewpoint,e),Zn(this._target.viewpoint,i),this._animation.update(this._source,this._target,n)}applyRatio(e,i){this._animation.cameraAt(i,this._current),Zn(e,this._current.viewpoint)}},o0=class extends ve{constructor(e){super(e),this._animation=null,this._destinationViewState=new kM,this.updateFunction=null,this.easing=zI.ease,this.viewpoint=new Bo({targetGeometry:new ue,scale:0,rotation:0}),this._updateTask=dp({postRender:this._postRender.bind(this)}),this._updateTask.pause(),this._transition=new m_t(e.view)}destroy(){this._updateTask=or(this._updateTask)}get animation(){return this._animation}set animation(e){this._animation=e,this.view.animation=e}animate(e,i,n){this.stop();const a=this.viewpoint;Zn(a,i);const d=e.target;this._transition.update(this.viewpoint,d,{apex:{maximumDistance:Math.min(Math.min(i.scale,d.scale)*y_t,this.view.constraints.effectiveMinScale),desiredSlope:5e-8},duration:n?.duration,maxDuration:n?.animationMode==="auto"?1/0:n?.maxDuration??XW.maxDuration,speedFactor:n?.speedFactor,easing:(typeof n?.easing=="string"?zI[n.easing]:n?.easing)||this.easing}),n?.animationMode==="auto"&&(this._destinationViewState.copy(this.view.state),this._destinationViewState.viewpoint=d,g_t(this._transition.animation,n,this.view.state,this._destinationViewState)||this._transition.update(this.viewpoint,d,{duration:0}));const y=()=>{this.animation===e&&this._updateTask&&(e.state==="finished"&&(this._transition.applyRatio(this.viewpoint,1),this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())),this.animation=null,this.updateFunction=null)};return e.when(y,y),this._startTime=performance.now(),this._updateTask.resume(),this.animation=e,e}animateContinuous(e,i){this.stop(),this.updateFunction=i,this.viewpoint=e;const n=new I8({target:e.clone()}),a=()=>{this.animation===n&&this._updateTask&&(this.animation=null,this.updateFunction=null)};return n.when(a,a),this._startTime=performance.now(),this._updateTask.resume(),this.animation=n,n}stop(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null)}_postRender(e){const i=this.animation;if(i&&i.state!==I8.State.STOPPED){if(this.updateFunction)this.updateFunction(this.viewpoint,e.deltaTime),this.animation?.update(this.viewpoint);else{const n=performance.now()-this._startTime,a=this._transition.duration,d=a>0?n/a:1,y=d>=1;this._transition.applyRatio(this.viewpoint,d),y&&this.animation?.finish()}this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())}else this._updateTask.pause()}};function g_t(t,e,i,n){if(e?.duration!=null)return!0;const{time:a,isLinear:d}=t,y=e?.speedFactor||1;if(a>(e?.maxDuration??XW.maxDuration/y))return!1;if(d){const S=br(),T=_n(...n.toScreen(S,...i.center)),C=_n(...i.toScreen(S,...n.center)),k=C!=null&&C.x>-1*i.size[0]&&C.x<(1.5+.5)*i.size[0]&&C.y>-1*i.size[1]&&C.y<(1.5+.5)*i.size[1],D=T!=null&&T.x>-1*n.size[0]&&T.x<(1.5+.5)*n.size[0]&&T.y>-1*n.size[1]&&T.y<(1.5+.5)*n.size[1];if(a>p_t/y&&!k&&!D)return!1}return!0}E([N()],o0.prototype,"easing",void 0),E([N()],o0.prototype,"view",void 0),E([N()],o0.prototype,"viewpoint",void 0),o0=E([ut("esri.views.2d.AnimationManager")],o0);const v_t=o0;function Xi(){return Promise.all([te(()=>import("./webglDeps-CUAZIEDa.js"),__vite__mapDeps([256,257,17,258,259])),te(()=>import("./mapViewDeps-C5BSf2By.js"),__vite__mapDeps([260,159,53,54,116,117,16,17,118,119,120,121,122,123,124,115,86,38,39,261,131,262,258,257,205,176,263,127,264,147,265,183,182,134,15,18,128,22,266,132,133,267,19,8,125,6,7,51,181,256,259,268,142,269,270,271,202,199,174,272,102,114,126,113,64,60,66,273,274,130,275,136,276,138,91,111,277,278,279,280,198,230,281,282]))])}const xy=()=>Xi().then((()=>te(()=>import("./TileLayerView2D-B1-mKHWQ.js"),__vite__mapDeps([283,159,53,54,121,119,123,116,117,16,17,118,120,122,124,115,86,38,39,267,19,8,125,6,7,51,265,264,257,147,183,182,134,15,18,181,268,262,258,205,176,263,127,142,269,270,102,131,261,128,22,132,133,202,199,174,276,114,126,113,64,60,66,138,91,111,284,285,286,280,287,253,288,278,279,289,290,230,291,292,293,294])))),Mh=()=>Xi().then((()=>te(()=>import("./FeatureLayerView2D-BaydoLHK.js").then(t=>t.F),__vite__mapDeps([295,265,15,16,17,18,234,215,192,190,163,150,191,36,37,38,39,193,113,149,40,70,126,296,297,298,64,60,69,287,253,279,116,117,118,119,120,121,122,123,124,115,86,258,257,280,264,147,183,182,134,261,131,262,205,176,263,127,128,22,142,238,52,53,54,266,299,141,139,233,291,294,289])))),UI={"base-dynamic":()=>Xi().then((()=>te(()=>import("./BaseDynamicLayerView2D-BWN2tuQ3.js"),__vite__mapDeps([300,301,264,115,86,257,17,147,265,183,119,182,134,15,16,18,285,262,258,205,176,131,286,287,253,302,289])))),"base-tile":xy,"bing-maps":xy,catalog:()=>Xi().then((()=>te(()=>import("./CatalogLayerView2D-nkUZVTwN.js"),__vite__mapDeps([303,287,265,253])))),"catalog-dynamic-group":()=>Xi().then((()=>te(()=>import("./CatalogDynamicGroupLayerView2D-BKdFJFVB.js"),__vite__mapDeps([304,287,265,253])))),"catalog-footprint":()=>Xi().then((()=>te(()=>import("./CatalogFootprintLayerView2D-BDwuEzKU.js"),__vite__mapDeps([305,295,265,15,16,17,18,234,215,192,190,163,150,191,36,37,38,39,193,113,149,40,70,126,296,297,298,64,60,69,287,253,279,116,117,118,119,120,121,122,123,124,115,86,258,257,280,264,147,183,182,134,261,131,262,205,176,263,127,128,22,142,238,52,53,54,266,299,141,139,233,291,294,289])))),csv:Mh,"geo-rss":()=>Xi().then((()=>te(()=>import("./GeoRSSLayerView2D-sCYmgF2b.js"),__vite__mapDeps([306,192,190,163,150,191,36,37,38,39,187,188,189,149,3,4,129,19,8,125,6,7,120,121,119,52,53,54,193,113,40,287,265,253,277,278,279,116,117,16,17,118,122,123,124,115,86,258,257,280,264,147,183,182,134,15,18,261,131,262,205,176,263,127,128,22,276,267,159,51,114,126,64,60,66,138,91,111])))),feature:Mh,geojson:Mh,parquet:Mh,graphics:()=>Xi().then((()=>te(()=>import("./GraphicsLayerView2D-2ZBAHCFU.js"),__vite__mapDeps([307,287,265,253,277,278,279,116,117,16,17,118,119,120,121,122,123,124,115,86,38,39,258,257,280,264,147,183,182,134,15,18,261,131,262,205,176,263,127,128,22,276,19,8,267,159,53,54,125,6,7,51,114,126,113,64,60,66,138,91,111])))),group:()=>Xi().then((()=>te(()=>import("./GroupLayerView2D-BBLWaIt6.js"),__vite__mapDeps([308,287,265,253])))),imagery:()=>Xi().then((()=>te(()=>import("./ImageryLayerView2D-Dnja9NnR.js"),__vite__mapDeps([309,310,257,17,86,157,264,115,147,265,183,119,182,134,15,16,18,287,253,276,19,8,116,117,118,120,121,122,123,124,38,39,267,159,53,54,125,6,7,51,114,126,113,127,64,60,66,261,131,262,258,205,176,263,128,22,138,91,111,288,278,279,280,301,285,286,302,162,296,294,289])))),"imagery-tile":()=>Xi().then((()=>te(()=>import("./ImageryTileLayerView2D-P2f_5MMA.js"),__vite__mapDeps([311,312,310,257,17,86,157,264,115,147,265,183,119,182,134,15,16,18,287,253,161,313,280,262,258,205,176,131,286,263,127,314,162,296,294,289])))),kml:()=>Xi().then((()=>te(()=>import("./KMLLayerView2D-jFzCjcIl.js"),__vite__mapDeps([315,316,187,188,189,190,163,150,191,36,37,38,39,149,3,4,129,19,8,125,6,7,120,121,119,52,53,54,192,193,113,40,285,265,262,258,257,17,205,176,131,286,301,264,115,86,147,183,182,134,15,16,18,287,253,277,278,279,116,117,118,122,123,124,280,261,263,127,128,22,276,267,159,51,114,126,64,60,66,138,91,111,275,136,162,271,256,259,202,199,174,269,313])))),"knowledge-graph":()=>Xi().then((()=>te(()=>import("./KnowledgeGraphLayerView2D-Zdf9OPNr.js"),__vite__mapDeps([317,287,265,253])))),"link-chart":()=>Xi().then((()=>te(()=>import("./KnowledgeGraphLayerView2D-Zdf9OPNr.js"),__vite__mapDeps([317,287,265,253])))),"knowledge-graph-sublayer":Mh,"map-image":()=>Xi().then((()=>te(()=>import("./MapImageLayerView2D-C3gemvbN.js"),__vite__mapDeps([318,301,264,115,86,257,17,147,265,183,119,182,134,15,16,18,285,262,258,205,176,131,286,287,253,276,19,8,116,117,118,120,121,122,123,124,38,39,267,159,53,54,125,6,7,51,114,126,113,127,64,60,66,261,263,128,22,138,91,111,288,278,279,280,302,319,230,291,293,296,289,290,292,294])))),"map-notes":()=>Xi().then((()=>te(()=>import("./MapNotesLayerView2D-DRmtzlD3.js"),__vite__mapDeps([320,287,265,253,277,278,279,116,117,16,17,118,119,120,121,122,123,124,115,86,38,39,258,257,280,264,147,183,182,134,15,18,261,131,262,205,176,263,127,128,22,276,19,8,267,159,53,54,125,6,7,51,114,126,113,64,60,66,138,91,111])))),media:()=>Xi().then((()=>te(()=>import("./MediaLayerView2D-DSLb7Ci5.js"),__vite__mapDeps([321,322,138,91,192,190,163,150,191,36,37,38,39,159,53,54,121,119,123,116,117,16,17,118,120,122,124,115,86,267,19,8,125,6,7,51,265,264,257,147,183,182,134,15,18,181,268,262,258,205,176,263,127,142,269,270,102,131,261,128,22,132,133,202,199,174,276,114,126,113,64,60,66,111,273,323,274,287,253])))),"ogc-feature":()=>Xi().then((()=>te(()=>import("./OGCFeatureLayerView2D-DlEbFmB7.js"),__vite__mapDeps([324,295,265,15,16,17,18,234,215,192,190,163,150,191,36,37,38,39,193,113,149,40,70,126,296,297,298,64,60,69,287,253,279,116,117,118,119,120,121,122,123,124,115,86,258,257,280,264,147,183,182,134,261,131,262,205,176,263,127,128,22,142,238,52,53,54,266,299,141,139,233,291,294,289])))),"open-street-map":xy,"oriented-imagery":Mh,route:()=>Xi().then((()=>te(()=>import("./RouteLayerView2D-CW8qdx1P.js"),__vite__mapDeps([325,326,287,265,253,277,278,279,116,117,16,17,118,119,120,121,122,123,124,115,86,38,39,258,257,280,264,147,183,182,134,15,18,261,131,262,205,176,263,127,128,22,276,19,8,267,159,53,54,125,6,7,51,114,126,113,64,60,66,138,91,111])))),stream:()=>Xi().then((()=>te(()=>import("./StreamLayerView2D-V55kRTuN.js"),__vite__mapDeps([327,295,265,15,16,17,18,234,215,192,190,163,150,191,36,37,38,39,193,113,149,40,70,126,296,297,298,64,60,69,287,253,279,116,117,118,119,120,121,122,123,124,115,86,258,257,280,264,147,183,182,134,261,131,262,205,176,263,127,128,22,142,238,52,53,54,266,299,141,139,233,291,294,289])))),"subtype-group":()=>Xi().then((()=>te(()=>import("./SubtypeGroupLayerView2D-DpaItOT9.js"),__vite__mapDeps([328,295,265,15,16,17,18,234,215,192,190,163,150,191,36,37,38,39,193,113,149,40,70,126,296,297,298,64,60,69,287,253,279,116,117,118,119,120,121,122,123,124,115,86,258,257,280,264,147,183,182,134,261,131,262,205,176,263,127,128,22,142,238,52,53,54,266,299,141,139,233,291,294,289])))),tile:xy,"vector-tile":()=>Xi().then((()=>te(()=>import("./VectorTileLayerView2D-fK0NwX7-.js"),__vite__mapDeps([329,113,181,124,102,17,122,123,121,119,3,4,270,182,118,183,257,264,115,86,147,265,134,15,16,18,280,73,184,185,159,53,54,287,253,289])))),video:()=>Xi().then((()=>te(()=>import("./VideoLayerView2D-BdhSdPbC.js"),__vite__mapDeps([330,331,218,120,121,119,217,3,4,323,147,264,115,86,257,17,265,183,182,134,15,16,18,261,116,117,118,122,123,124,38,39,131,262,258,205,176,263,127,128,22,274,287,253,277,278,279,280,276,19,8,267,159,53,54,125,6,7,51,114,126,113,64,60,66,138,91,111])))),wcs:()=>Xi().then((()=>te(()=>import("./ImageryTileLayerView2D-P2f_5MMA.js"),__vite__mapDeps([311,312,310,257,17,86,157,264,115,147,265,183,119,182,134,15,16,18,287,253,161,313,280,262,258,205,176,131,286,263,127,314,162,296,294,289])))),"web-tile":xy,wfs:Mh,wms:()=>Xi().then((()=>te(()=>import("./WMSLayerView2D-vSwpZmdM.js"),__vite__mapDeps([332,301,264,115,86,257,17,147,265,183,119,182,134,15,16,18,285,262,258,205,176,131,286,287,253,302,289,333,296])))),wmts:()=>Xi().then((()=>te(()=>import("./WMTSLayerView2D-DzJGPBHm.js"),__vite__mapDeps([334,284,285,265,262,258,257,17,205,176,131,286,264,115,86,147,183,119,182,134,15,16,18,280,287,253,289])))),"line-of-sight":null,"base-elevation":null,"building-scene":null,dimension:null,elevation:null,"integrated-mesh":null,"integrated-mesh-3dtiles":null,"point-cloud":null,viewshed:null,voxel:null,scene:null,unknown:null,unsupported:null};function b_t(t){const e=t.declaredClass?t.declaredClass.slice(t.declaredClass.lastIndexOf(".")+1):"Unknown",i=e.replaceAll(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new Lt(`${i}:view-not-supported`,`${e} is not supported in 2D`)}const FI={hasLayerViewModule:t=>UI[t.type]!=null,importLayerView:t=>{const e=UI[t.type];if(e==null)throw b_t(t);return e(t)}};var io;let s1=(io=class{static getId(e,i,n,a){return typeof e=="object"?`${e.level}/${e.row}/${e.col}/${e.world}`:`${e}/${i}/${n}/${a}`}constructor(e,i,n,a){this.set(e,i,n,a)}get key(){return this}get id(){return this.toString()}get normalizedId(){return`${this.level}/${this.row}/${this.col}`}set id(e){this.set(e)}get hash(){const e=4095&this.row,i=4095&this.col,n=63&this.level;return(3&this.world)<<30|i<<22|e<<8|n}acquire(e,i,n,a){this.set(e,i,n,a)}contains(e){const i=e.level-this.level;return i>=0&&this.row===e.row>>i&&this.col===e.col>>i&&this.world===e.world}containsChild(e){const i=e.level-this.level;return i>0&&this.row===e.row>>i&&this.col===e.col>>i&&this.world===e.world}equals(e){return this.level===e.level&&this.row===e.row&&this.col===e.col&&this.world===e.world}clone(){return new io(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0}set(e,i,n,a){if(e==null)this.level=0,this.row=0,this.col=0,this.world=0;else if(typeof e=="object")this.level=e.level||0,this.row=e.row||0,this.col=e.col||0,this.world=e.world||0;else if(typeof e=="string"){const[d,y,b,S]=e.split("/");this.level=parseFloat(d),this.row=parseFloat(y),this.col=parseFloat(b),this.world=parseFloat(S)}else this.level=+e,this.row=+i,this.col=+n,this.world=+a||0;return this}toString(){return`${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return this.level<=0?null:new io(this.level-1,this.row>>1,this.col>>1,this.world)}getNormalizedNeighbor(e,i,n){const a=this.clone();return a.col+=e,a.row+=i,n.normalizeKey(a),a}getChildKeys(){const e=this.level+1,i=this.row<<1,n=this.col<<1,a=this.world;return[new io(e,i,n,a),new io(e,i,n+1,a),new io(e,i+1,n,a),new io(e,i+1,n+1,a)]}compareRowMajor(e){return this.row<e.row?-1:this.row>e.row?1:this.col<e.col?-1:this.col>e.col?1:0}},io.pool=new jp(io,null,null,25,50),io);function Hd(t,e){return[t,e]}function Ah(t,e,i){return t[0]=e,t[1]=i,t}function w_t(t,e,i,n,a){return t[0]=e,t[1]=i,t[2]=n,t[3]=a,t}const la=new s1("0/0/0/0");let __t=class QW{static create(e,i,n=null){const a=us(e.spatialReference),d=i.origin||Hd(e.origin.x,e.origin.y),y=Hd(e.size[0]*i.resolution,e.size[1]*i.resolution),b=Hd(-1/0,-1/0),S=Hd(1/0,1/0),T=Hd(1/0,1/0);n!=null&&(Ah(b,Math.max(0,Math.floor((n.xmin-d[0])/y[0])),Math.max(0,Math.floor((d[1]-n.ymax)/y[1]))),Ah(S,Math.max(0,Math.floor((n.xmax-d[0])/y[0])),Math.max(0,Math.floor((d[1]-n.ymin)/y[1]))),Ah(T,S[0]-b[0]+1,S[1]-b[1]+1));const{cols:C,rows:k}=i;let D,z,G,B;return!n&&C&&k&&(Ah(b,C[0],k[0]),Ah(S,C[1],k[1]),Ah(T,C[1]-C[0]+1,k[1]-k[0]+1)),e.isWrappable?(D=Hd(Math.ceil(Math.round((a.valid[1]-a.valid[0])/i.resolution)/e.size[0]),T[1]),z=!0,G=a.origin,B=a.valid):(D=T,z=!1),new QW(i.level,i.resolution,i.scale,d,b,S,T,y,D,z,G,B)}constructor(e,i,n,a,d,y,b,S,T,C,k,D){this.level=e,this.resolution=i,this.scale=n,this.origin=a,this.first=d,this.last=y,this.size=b,this.norm=S,this.worldSize=T,this.wrap=C,this._spatialReferenceOrigin=k,this._spatialReferenceValid=D}normalizeCol(e){if(!this.wrap)return e;const i=this.worldSize[0];return e<0?i-1-Math.abs((e+1)%i):e%i}normalizeKey(e){if(!this.wrap)return;const i=this.worldSize[0],n=e.col;n<0?(e.col=n+i,e.world-=1):n>=i&&(e.col=n-i,e.world+=1)}denormalizeCol(e,i){return this.wrap?this.worldSize[0]*i+e:e}getWorldForColumn(e){return this.wrap?Math.floor(e/this.worldSize[0]):0}getFirstColumnForWorld(e){return e*this.worldSize[0]+this.first[0]}getLastColumnForWorld(e){return e*this.worldSize[0]+this.first[0]+this.size[0]-1}getColumnForX(e){return(e-this.origin[0])/this.norm[0]}getXForColumn(e){const i=this.origin[0]+e*this.norm[0],n=this._spatialReferenceOrigin,a=this._spatialReferenceValid;return this.wrap&&n&&a?i===n[0]?a[0]:this.origin[0]===n[0]&&e===this.worldSize[0]?a[1]:i:i}getRowForY(e){return(this.origin[1]-e)/this.norm[1]}getYForRow(e){return this.origin[1]-e*this.norm[1]}getTileBounds(e,i,n=!1){la.set(i);const a=n?la.col:this.denormalizeCol(la.col,la.world),d=la.row;return w_t(e,this.getXForColumn(a),this.getYForRow(d+1),this.getXForColumn(a+1),this.getYForRow(d)),e}getTileCoords(e,i,n=!1){la.set(i);const a=n?la.col:this.denormalizeCol(la.col,la.world);return Array.isArray(e)?Ah(e,this.getXForColumn(a),this.getYForRow(la.row)):(e.x=this.getXForColumn(a),e.y=this.getYForRow(la.row)),e}};var Cf;let DM=(Cf=class{constructor(){this.spans=[]}acquire(e){this.lodInfo=e}release(){this.lodInfo=null,this.spans.length=0}*keys(){const e=this.lodInfo;for(const{row:i,colFrom:n,colTo:a}of this.spans)for(let d=n;d<=a;d++){const y=e.getWorldForColumn(d);yield new s1(e.level,i,e.normalizeCol(d),y)}}forEach(e,i){const{spans:n,lodInfo:a}=this,{level:d}=a;if(n.length!==0)for(const{row:y,colFrom:b,colTo:S}of n)for(let T=b;T<=S;T++)e.call(i,d,y,a.normalizeCol(T),a.getWorldForColumn(T))}},Cf.pool=new jp(Cf),Cf),G_=class{constructor(e,i,n){this.row=e,this.colFrom=i,this.colTo=n}};const tr=new s1("0/0/0/0");let S_t=class tJ{static create(e,i){e[1]>i[1]&&([e,i]=[i,e]);const[n,a]=e,[d,y]=i,b=d-n,S=y-a,T=S!==0?b/S:0,C=(Math.ceil(a)-a)*T,k=(Math.floor(a)-a)*T;return new tJ(n,Math.floor(a),Math.ceil(y),T,b<0?C:k,b<0?k:C,b<0?d:n,b<0?n:d)}constructor(e,i,n,a,d,y,b,S){this.x=e,this.ymin=i,this.ymax=n,this.invM=a,this.leftAdjust=d,this.rightAdjust=y,this.leftBound=b,this.rightBound=S}incrRow(){this.x+=this.invM}getLeftCol(){return Math.max(this.x+this.leftAdjust,this.leftBound)}getRightCol(){return Math.min(this.x+this.rightAdjust,this.rightBound)}};const Ws=[[0,0],[0,0],[0,0],[0,0]],x_t=1e-6;let T_t=class{constructor(e,i=null,n=e.lods[0].level,a=e.lods[e.lods.length-1].level){this.tileInfo=e,this.fullExtent=i,this.scales=[],this._infoByScale={},this._infoByLevel={};const d=e.lods.filter((b=>b.level>=n&&b.level<=a));this.minScale=d[0].scale,this.maxScale=d[d.length-1].scale;const y=this._lodInfos=d.map((b=>__t.create(e,b,i)));d.forEach(((b,S)=>{this._infoByLevel[b.level]=y[S],this._infoByScale[b.scale]=y[S],this.scales[S]=b.scale}),this),this._wrap=e.isWrappable}get spatialReference(){return this.tileInfo.spatialReference}getLODInfoAt(e){return this._infoByLevel[typeof e=="number"?e:e.level]}getTileBounds(e,i,n=!1){tr.set(i);const a=this._infoByLevel[tr.level];return a?a.getTileBounds(e,tr,n):e}getTileCoords(e,i,n=!1){tr.set(i);const a=this._infoByLevel[tr.level];return a?a.getTileCoords(e,tr,n):e}getTileCoverage(e,i=192,n=!0,a="closest"){if(!n&&(e.scale>this.minScale||e.scale<this.maxScale))return null;const d=a==="closest"?this.getClosestInfoForScale(e.scale):this.getSmallestInfoForScale(e.scale),y=DM.pool.acquire(d),b=this._wrap;let S,T,C,k=1/0,D=-1/0;const z=y.spans;Ws[0][0]=Ws[0][1]=Ws[1][1]=Ws[3][0]=-i,Ws[1][0]=Ws[2][0]=e.size[0]+i,Ws[2][1]=Ws[3][1]=e.size[1]+i;for(const X of Ws)e.toMap(X,X),X[0]=d.getColumnForX(X[0]),X[1]=d.getRowForY(X[1]);const G=[];let B=3;for(let X=0;X<4;X++){if(Ws[X][1]===Ws[B][1]){B=X;continue}const et=S_t.create(Ws[X],Ws[B]);k=Math.min(et.ymin,k),D=Math.max(et.ymax,D),G[et.ymin]===void 0&&(G[et.ymin]=[]),G[et.ymin].push(et),B=X}if(k==null||D==null||D-k>100)return null;let H=[];for(S=k;S<D;){G[S]!=null&&(H=H.concat(G[S])),T=1/0,C=-1/0;for(let X=H.length-1;X>=0;X--){const et=H[X];T=Math.min(T,et.getLeftCol()),C=Math.max(C,et.getRightCol())}if(T=Math.floor(T),C=Math.floor(C),S>=d.first[1]&&S<=d.last[1])if(b)if(d.size[0]<d.worldSize[0]){const X=Math.floor(C/d.worldSize[0]);for(let et=Math.floor(T/d.worldSize[0]);et<=X;et++)z.push(new G_(S,Math.max(d.getFirstColumnForWorld(et),T),Math.min(d.getLastColumnForWorld(et),C)))}else z.push(new G_(S,T,C));else T>d.last[0]||C<d.first[0]||(T=Math.max(T,d.first[0]),C=Math.min(C,d.last[0]),z.push(new G_(S,T,C)));S+=1;for(let X=H.length-1;X>=0;X--){const et=H[X];et.ymax>=S?et.incrRow():H.splice(X,1)}}return y}getTileParentId(e){tr.set(e);const i=this._infoByLevel[tr.level],n=this._lodInfos.indexOf(i)-1;return n<0?null:(this._getTileIdAtLOD(tr,this._lodInfos[n],tr),tr.id)}getTileResolution(e){const i=this._infoByLevel[typeof e=="object"?e.level:e];return i?i.resolution:-1}getTileScale(e){const i=this._infoByLevel[e.level];return i?i.scale:-1}intersects(e,i){tr.set(i);const n=this._infoByLevel[tr.level],a=e.lodInfo;if(a.resolution>n.resolution){this._getTileIdAtLOD(tr,a,tr);const y=a.denormalizeCol(tr.col,tr.world);for(const b of e.spans)if(b.row===tr.row&&b.colFrom<=y&&b.colTo>=y)return!0}if(a.resolution<n.resolution){const[y,b,S,T]=e.spans.reduce(((B,H)=>(B[0]=Math.min(B[0],H.row),B[1]=Math.max(B[1],H.row),B[2]=Math.min(B[2],H.colFrom),B[3]=Math.max(B[3],H.colTo),B)),[1/0,-1/0,1/0,-1/0]),C=n.denormalizeCol(tr.col,tr.world),k=a.getColumnForX(n.getXForColumn(C)),D=a.getRowForY(n.getYForRow(tr.row)),z=a.getColumnForX(n.getXForColumn(C+1))-1,G=a.getRowForY(n.getYForRow(tr.row+1))-1;return!(k>T||z<S||D>b||G<y)}const d=a.denormalizeCol(tr.col,tr.world);return e.spans.some((y=>y.row===tr.row&&y.colFrom<=d&&y.colTo>=d))}normalizeBounds(e,i,n){if(e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],this._wrap){const a=us(this.tileInfo.spatialReference),d=-n*(a.valid[1]-a.valid[0]);e[0]+=d,e[2]+=d}return e}getSmallestInfoForScale(e){const i=this.scales;if(this._infoByScale[e])return this._infoByScale[e];if(e>i[0])return this._infoByScale[i[0]];for(let n=1;n<i.length-1;n++)if(e>i[n]+x_t)return this._infoByScale[i[n-1]];return this._infoByScale[i[i.length-1]]}getClosestInfoForScale(e){const i=this.scales;return this._infoByScale[e]||(e=i.reduce(((n,a)=>Math.abs(a-e)<Math.abs(n-e)?a:n),i[0])),this._infoByScale[e]}scaleToLevel(e){const i=this.scales;if(this._infoByScale[e])return this._infoByScale[e].level;for(let n=i.length-1;n>=0;n--)if(e<i[n])return n===i.length-1?this._infoByScale[i[i.length-1]].level:this._infoByScale[i[n]].level+(i[n]-e)/(i[n]-i[n+1]);return this._infoByScale[i[0]].level}scaleToZoom(e){return this.tileInfo.scaleToZoom(e)}zoomToScale(e){return this.tileInfo.zoomToScale(e)}_getTileIdAtLOD(e,i,n){const a=this._infoByLevel[n.level];return e.set(n),i.resolution<a.resolution?null:(i.resolution===a.resolution||(e.level=i.level,e.col=Math.floor(n.col*a.resolution/i.resolution+.01),e.row=Math.floor(n.row*a.resolution/i.resolution+.01)),e)}},E_t=class{constructor(e,i){this.item=e,this.controller=i,this.promise=null}},M_t=class{constructor(e){this._schedule=null,this._task=null,this._deferreds=new pb,this._controllers=new pb,this._processingItems=new pb,this._pausedSignal=Cp(!1),this.concurrency=1,e.concurrency&&(this.concurrency=e.concurrency),this._queue=new wg(e.peeker),this.process=e.process;const i=e.scheduler;e.priority&&i&&(this._task=i.registerTask(e.priority,this))}destroy(){this.clear(),this._schedule=or(this._schedule),this._task=or(this._task)}get updating(){return!!this._task?.updating||this.running}get length(){return this._processingItems.size+this._queue.length}abort(e){const i=this._controllers.get(e);i&&i.abort()}clear(){this._queue.clear();const e=[];this._controllers.forEach((i=>e.push(i))),this._controllers.clear(),e.forEach((i=>i.abort())),this._processingItems.clear(),this._cancelNext()}forEach(e){this._deferreds.forEach(((i,n)=>e(n)))}get(e){const i=this._deferreds.get(e);return i?i.promise:void 0}isOngoing(e){return this._processingItems.has(e)}has(e){return this._deferreds.has(e)}pause(){this._pausedSignal.value||(this._pausedSignal.value=!0,this._cancelNext())}push(e,i){const n=this.get(e);if(n)return n;const a=new AbortController;let d=null;i&&(d=_a(i,(()=>a.abort())));const y=()=>{const C=this._processingItems.get(e);C&&C.controller.abort(),b(),T.reject(Zi())},b=()=>{S.remove(),d?.remove(),this._removeItem(e),this._queue.remove(e),this._scheduleNext()},S=mT(a.signal,y),T=qo();return this._deferreds.set(e,T),this._controllers.set(e,a),T.promise.then(b,b),this._queue.push(e),this._scheduleNext(),T.promise}last(){return this._queue.last()}lastPromise(){const e=this.last();return e?this.get(e):null}peek(){return this._queue.peek()}popLast(){const e=this._queue.popLast();return e&&(this._deferreds.get(e)?.reject(Zi()),this._removeItem(e)),e}reset(){const e=Array.from(this._processingItems.values());this._processingItems.clear();for(const i of e)this._queue.push(i.item),i.controller.abort();this._scheduleNext()}resume(){this._pausedSignal.value&&(this._pausedSignal.value=!1,this._scheduleNext())}takeAll(){const e=[];for(;this._queue.length;)e.push(this._queue.pop());return this.clear(),e}get running(){return!this._pausedSignal.value&&this._queue.length>0&&this._processingItems.size<this.concurrency}runTask(e){for(;!e.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),e.madeProgress()}_removeItem(e){this._deferreds.delete(e),this._controllers.delete(e),this._processingItems.delete(e)}_scheduleNext(){this._task||this._pausedSignal.value||this._schedule||(this._schedule=jg((()=>{this._schedule=null,this._next()})))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(e,i){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).resolve(i))}_processError(e,i){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).reject(i))}_canProcessFulfillment(e){return!!this._deferreds.get(e.item)&&this._processingItems.get(e.item)===e}_process(e){if(e==null)return;let i;const n=new AbortController,a=new E_t(e,n);this._processingItems.set(e,a);try{i=this.process(e,n.signal)}catch(d){this._processError(a,d)}hl(i)?(a.promise=i,i.then((d=>this._processResult(a,d)),(d=>this._processError(a,d)))):this._processResult(a,i)}get test(){}};const BI=[0,0];let Xl=class extends ve{constructor(e){super(e),this._keyToItem=new Map,this._tilesByScale=new Map,this.concurrency=6}initialize(){const{concurrency:e,process:i,scheduler:n,priority:a}=this;this._queue=new M_t({concurrency:e,scheduler:n,priority:a,process:(d,y)=>{const b=this._keyToItem.get(d);return i(b,{signal:y})},peeker:d=>this._peek(d)})}destroy(){this.clear(),this._queue=vr(this._queue)}get length(){return this._queue?this._queue.length:0}abort(e){const i=typeof e=="string"?e:e.id;this._queue.abort(i)}clear(){this._queue.clear(),this._keyToItem.clear(),this._tilesByScale.clear()}has(e){return typeof e=="string"?this._keyToItem.has(e):this._keyToItem.has(e.id)}pause(){this._queue.pause()}push(e){const i=e.key.id;if(this._queue.has(i))return this._queue.get(i);const n=this._queue.push(i),a=this.tileInfoView.getTileScale(e.key),d=zg(this._tilesByScale,a,(()=>new Set)),y=()=>{d.delete(e.key),d.size===0&&this._tilesByScale.delete(a),this._keyToItem.delete(i)};return d.add(e.key),this._keyToItem.set(i,e),n.then(y,y),n}reset(){this._queue.reset()}resume(){this._queue.resume()}_peek(e){if(!this.state)return e.values().next().value;const i=new Set;for(const y of e)i.add(this._keyToItem.get(y).key);const n=this.state.scale;let a,d=Number.POSITIVE_INFINITY;for(const[y,b]of this._tilesByScale)if(Mj(b,(S=>i.has(S)))){const S=Math.abs(y-n);S<d&&(a=b,d=S)}return this._getClosestTileKey(a,e).id}_getClosestTileKey(e,i){const n=this.tileInfoView,a=this.state.center;let d,y=Number.POSITIVE_INFINITY;for(const b of e)if(i.has(b.id)){n.getTileCoords(BI,b);const S=t9(BI,a);S<y&&(y=S,d=b)}return d}};E([N({constructOnly:!0})],Xl.prototype,"concurrency",void 0),E([N({constructOnly:!0})],Xl.prototype,"priority",void 0),E([N({constructOnly:!0})],Xl.prototype,"process",void 0),E([N({constructOnly:!0})],Xl.prototype,"scheduler",void 0),E([N()],Xl.prototype,"state",void 0),E([N({constructOnly:!0})],Xl.prototype,"tileInfoView",void 0),Xl=E([ut("esri.views.2d.tiling.TileQueue")],Xl);const ZNt=Xl;let A_t=class{constructor(e,i,n){this.maxSize=e,this._tileInfoView=i,this._removedFunc=n,this._tilePerId=new Map,this._tileKeysPerLevel=[]}clear(){this._tilePerId.clear(),this._tileKeysPerLevel=[]}has(e){return this._tilePerId.has(e)}get(e){return this._tilePerId.get(e)}pop(e){const i=this._tilePerId.get(e);if(!i)return;const n=i.key.level,a=this._tileKeysPerLevel[n];GI(this._tilePerId,e);for(let d=0;d<a.length;d++)if(a[d].id===e){a.splice(d,1);break}return i.visible=!0,i}add(e){e.visible=!1;const i=e.key,n=i.id;if(this._tilePerId.has(n))return;this._tilePerId.set(n,e);const a=i.level;this._tileKeysPerLevel[a]||(this._tileKeysPerLevel[a]=[]),this._tileKeysPerLevel[a].push(i)}prune(e,i,n){let a=this._tilePerId.size;if(a<=this.maxSize)return;let d=this._tileKeysPerLevel.length-1;for(;a>this.maxSize&&d>=0;)d!==e&&(a=this._pruneAroundCenterTile(a,i,n,d)),d--;a>this.maxSize&&(a=this._pruneAroundCenterTile(a,i,n,e))}_pruneAroundCenterTile(e,i,n,a){const d=this._tileKeysPerLevel[a];if(!d||d.length===0)return e;const{size:y,origin:b}=this._tileInfoView.tileInfo,S=n*y[0],T=n*y[1],C=[0,0],k=[0,0];for(d.sort(((D,z)=>(C[0]=b.x+S*(D.col+.5),C[1]=b.y-T*(D.row+.5),k[0]=b.x+S*(z.col+.5),k[1]=b.y-T*(z.row+.5),Cw(C,i)-Cw(k,i))));d.length>0;){const D=d.pop();if(this._removeTile(D.id),--e===this.maxSize)break}return e}_removeTile(e){const i=this._tilePerId.get(e);this._removedFunc&&i&&this._removedFunc(i),GI(this._tilePerId,e)}};function GI(t,e){t.delete(e)}const Rh=new s1(0,0,0,0),Il=new Map,Ty=[],q_=[];let tkt=class{constructor(e){this._previousScale=Number.POSITIVE_INFINITY,this.cachePolicy="keep",this.coveragePolicy="closest",this.resampling=!0,this.tileIndex=new Map,this.tiles=[],this.buffer=192,this.acquireTile=e.acquireTile,this.releaseTile=e.releaseTile,this.tileInfoView=e.tileInfoView,e.resampling!=null&&(this.resampling=e.resampling),e.cachePolicy&&(this.cachePolicy=e.cachePolicy),e.coveragePolicy&&(this.coveragePolicy=e.coveragePolicy),e.buffer!=null&&(this.buffer=e.buffer),e.cacheSize&&(this._tileCache=new A_t(e.cacheSize,this.tileInfoView,(i=>{this.releaseTile(i)})))}destroy(){this.tileIndex.clear()}update(e){const{resampling:i,tileIndex:n}=this,{scale:a,center:d,resolution:y}=e.state,{minScale:b,maxScale:S}=this.tileInfoView,T=!e.stationary&&a>this._previousScale;if(this._previousScale=a,!i&&(a>b||a<S))return this.tiles.length=0,void this.clear();const C=this.tileInfoView.getTileCoverage(e.state,this.buffer,this.resampling,this.coveragePolicy);if(!C)return this.tiles.length=0,void this.clear();const{spans:k,lodInfo:D}=C,{level:z}=D;this.tiles.length=0,n.forEach((X=>X.visible=!0));let G=0,B=0;if(k.length>0)for(const{row:X,colFrom:et,colTo:rt}of k)for(let it=et;it<=rt;it++){G++;const ot=Rh.set(z,X,D.normalizeCol(it),D.getWorldForColumn(it)).id;let pt=n.get(ot);if(pt)pt.isReady?(Il.set(ot,pt),B++):T||this._addParentTile(ot,Il);else{if(this._tileCache?.has(ot)){if(pt=this._tileCache.pop(ot),this.tileIndex.set(ot,pt),pt.isReady){Il.set(ot,pt),B++;continue}}else pt=this.acquireTile(Rh),this.tileIndex.set(ot,pt);T||this._addParentTile(ot,Il)}}const H=B===G;for(const[X,et]of n){if(Il.has(X))continue;Rh.set(X);const rt=this.tileInfoView.intersects(C,Rh),it=this.cachePolicy==="purge"?Rh.level!==z:Rh.level>z;!rt||!T&&H?!it&&rt||Ty.push(et):et.isReady?it&&this.cachePolicy==="purge"&&this._hasReadyAncestor(Rh,z)?Ty.push(et):q_.push(et):it&&Ty.push(et)}for(const X of q_)X.isReady&&Il.set(X.key.id,X);for(const X of Ty)this._tileCache?this._tileCache.add(X):this.releaseTile(X),n.delete(X.key.id);for(const X of Il.values())this.tiles.push(X);for(const X of n.values())Il.has(X.key.id)||(X.visible=!1);this._tileCache?.prune(z,d,y),DM.pool.release(C),q_.length=0,Ty.length=0,Il.clear()}clear(){const{tileIndex:e}=this;for(const i of e.values())this.releaseTile(i);e.clear()}refresh(e){for(const i of this.tileIndex.values())e(i);this._tileCache?.clear()}updateCacheSize(e){this._tileCache&&(this._tileCache.maxSize=e)}_addParentTile(e,i){let n=e,a=null;for(;n=this.tileInfoView.getTileParentId(n),n;)if(this.tileIndex.has(n)){if(a=this.tileIndex.get(n),a?.isReady){i.has(a.key.id)||i.set(a.key.id,a);break}}else if(this._tileCache?.has(n)&&(a=this._tileCache.pop(n),this.tileIndex.set(n,a),a?.isReady)){i.has(a.key.id)||i.set(a.key.id,a);break}}_hasReadyAncestor(e,i){const n=ls();this.tileInfoView.getTileBounds(n,e,!0);for(const a of this.tileIndex.values())if(a.isReady&&a.key.level>=i&&a.key.level<e.level){const d=ls();if(this.tileInfoView.getTileBounds(d,a.key,!0),Dpt(d,n))return!0}return!1}},R_t=class{constructor(e,i={}){this.events=new gu,this._hasMajorPerformanceCaveat=!1,this._lastRenderFrameCounter=0,e!=null?(this._canvas=document.createElement("canvas"),this._canvas.setAttribute("style","width: 100%; height:100%; display:block; willChange:transform"),e.contains(this._canvas)||e.appendChild(this._canvas)):i.canvas!=null&&(this._canvas=i.canvas);const n={failIfMajorPerformanceCaveat:!0,alpha:!0,antialias:!1,depth:!0,stencil:!0,powerPreference:"high-performance"};let a=this._canvas.getContext("webgl2",n);a||(a=this._canvas.getContext("webgl2",{...n,failIfMajorPerformanceCaveat:!1}),this._hasMajorPerformanceCaveat=!0),this._gl=a,this._handles=Vf([Up(this._canvas,"webglcontextlost",(d=>this.events.emit("webgl-context-lost",d)))])}destroy(){this._canvas.remove(),this._canvas=null,this._handles.remove(),this._gl=null}get gl(){return this._gl}get canvas(){return this._canvas}render(e,i){if(this._hasMajorPerformanceCaveat||St("esri-force-performance-mode")){if(++this._lastRenderFrameCounter>=St("esri-performance-mode-frames-between-render")&&(i(),this._lastRenderViewState=e.state.clone(),this._lastRenderFrameCounter=0),this._lastRenderViewState){const[n,a,d,y,b,S]=this._computeViewTransform(this._lastRenderViewState,e.state);this._canvas.style.transform=`matrix(${n}, ${a}, ${d}, ${y}, ${b}, ${S})`}}else i()}resize(e){const i=this._canvas,n=i.style,{state:{size:a},pixelRatio:d}=e,y=a[0],b=a[1],S=Math.round(y*d),T=Math.round(b*d);i.width===S&&i.height===T||(i.width=S,i.height=T),n.width=y+"px",n.height=b+"px"}_computeViewTransform(e,i){const[n,a]=e.center,[d,y]=i.center,[b,S]=e.toScreen([0,0],d,y),[T,C]=e.toScreen([0,0],n,a),k=T-b,D=C-S,z=e.scale/i.scale,G=i.rotation-e.rotation,B=rl();return sW(B),e9(B,B,[z,z]),vv(B,B,sv(G)),Op(B,B,[k,D]),B}};function C_t(t,e,i,n,a){eJ(t,e,i||0,n||t.length-1,a||O_t)}function eJ(t,e,i,n,a){for(;n>i;){if(n-i>600){var d=n-i+1,y=e-i+1,b=Math.log(d),S=.5*Math.exp(2*b/3),T=.5*Math.sqrt(b*S*(d-S)/d)*(y-d/2<0?-1:1);eJ(t,e,Math.max(i,Math.floor(e-y*S/d+T)),Math.min(n,Math.floor(e+(d-y)*S/d+T)),a)}var C=t[e],k=i,D=n;for(Ey(t,i,e),a(t[n],C)>0&&Ey(t,i,n);k<D;){for(Ey(t,k,D),k++,D--;a(t[k],C)<0;)k++;for(;a(t[D],C)>0;)D--}a(t[i],C)===0?Ey(t,i,D):Ey(t,++D,n),D<=e&&(i=D+1),e<=D&&(n=D-1)}}function Ey(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function O_t(t,e){return t<e?-1:t>e?1:0}function Gw(t,e){if(!(this instanceof Gw))return new Gw(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&(typeof e=="function"?this.toBBox=e:this._initFormat(e)),this.clear()}function $_t(t,e,i){if(!i)return e.indexOf(t);for(var n=0;n<e.length;n++)if(i(t,e[n]))return n;return-1}function Vd(t,e){mm(t,0,t.children.length,e,t)}function mm(t,e,i,n,a){a||(a=a0(null)),a.minX=1/0,a.minY=1/0,a.maxX=-1/0,a.maxY=-1/0;for(var d,y=e;y<i;y++)d=t.children[y],gm(a,t.leaf?n(d):d);return a}function gm(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function qI(t,e){return t.minX-e.minX}function HI(t,e){return t.minY-e.minY}function H_(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function d3(t){return t.maxX-t.minX+(t.maxY-t.minY)}function N_t(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function k_t(t,e){var i=Math.max(t.minX,e.minX),n=Math.max(t.minY,e.minY),a=Math.min(t.maxX,e.maxX),d=Math.min(t.maxY,e.maxY);return Math.max(0,a-i)*Math.max(0,d-n)}function V_(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function p3(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function a0(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function VI(t,e,i,n,a){for(var d,y=[e,i];y.length;)(i=y.pop())-(e=y.pop())<=n||(d=e+Math.ceil((i-e)/n/2)*n,C_t(t,d,e,i,a),y.push(e,d,d,i))}Gw.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,i=[],n=this.toBBox;if(!p3(t,e))return i;for(var a,d,y,b,S=[];e;){for(a=0,d=e.children.length;a<d;a++)y=e.children[a],p3(t,b=e.leaf?n(y):y)&&(e.leaf?i.push(y):V_(t,b)?this._all(y,i):S.push(y));e=S.pop()}return i},collides:function(t){var e=this.data,i=this.toBBox;if(!p3(t,e))return!1;for(var n,a,d,y,b=[];e;){for(n=0,a=e.children.length;n<a;n++)if(d=e.children[n],p3(t,y=e.leaf?i(d):d)){if(e.leaf||V_(t,y))return!0;b.push(d)}e=b.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,i=t.length;e<i;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var a=this.data;this.data=n,n=a}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},insert:function(t){return t!=null&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=a0([]),this},remove:function(t,e){if(t==null)return this;for(var i,n,a,d,y=this.data,b=this.toBBox(t),S=[],T=[];y||S.length;){if(y||(y=S.pop(),n=S[S.length-1],i=T.pop(),d=!0),y.leaf&&(a=$_t(t,y.children,e))!==-1)return y.children.splice(a,1),S.push(y),this._condense(S),this;d||y.leaf||!V_(y,b)?n?(i++,y=n.children[i],d=!1):y=null:(S.push(y),T.push(i),i=0,n=y,y=y.children[0])}return this},toBBox:function(t){return t},compareMinX:qI,compareMinY:HI,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var i=[];t;)t.leaf?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},_build:function(t,e,i,n){var a,d=i-e+1,y=this._maxEntries;if(d<=y)return Vd(a=a0(t.slice(e,i+1)),this.toBBox),a;n||(n=Math.ceil(Math.log(d)/Math.log(y)),y=Math.ceil(d/Math.pow(y,n-1))),(a=a0([])).leaf=!1,a.height=n;var b,S,T,C,k=Math.ceil(d/y),D=k*Math.ceil(Math.sqrt(y));for(VI(t,e,i,D,this.compareMinX),b=e;b<=i;b+=D)for(VI(t,b,T=Math.min(b+D-1,i),k,this.compareMinY),S=b;S<=T;S+=k)C=Math.min(S+k-1,T),a.children.push(this._build(t,S,C,n-1));return Vd(a,this.toBBox),a},_chooseSubtree:function(t,e,i,n){for(var a,d,y,b,S,T,C,k;n.push(e),!e.leaf&&n.length-1!==i;){for(C=k=1/0,a=0,d=e.children.length;a<d;a++)S=H_(y=e.children[a]),(T=N_t(t,y)-S)<k?(k=T,C=S<C?S:C,b=y):T===k&&S<C&&(C=S,b=y);e=b||e.children[0]}return e},_insert:function(t,e,i){var n=this.toBBox,a=i?t:n(t),d=[],y=this._chooseSubtree(a,this.data,e,d);for(y.children.push(t),gm(y,a);e>=0&&d[e].children.length>this._maxEntries;)this._split(d,e),e--;this._adjustParentBBoxes(a,d,e)},_split:function(t,e){var i=t[e],n=i.children.length,a=this._minEntries;this._chooseSplitAxis(i,a,n);var d=this._chooseSplitIndex(i,a,n),y=a0(i.children.splice(d,i.children.length-d));y.height=i.height,y.leaf=i.leaf,Vd(i,this.toBBox),Vd(y,this.toBBox),e?t[e-1].children.push(y):this._splitRoot(i,y)},_splitRoot:function(t,e){this.data=a0([t,e]),this.data.height=t.height+1,this.data.leaf=!1,Vd(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,i){var n,a,d,y,b,S,T,C;for(S=T=1/0,n=e;n<=i-e;n++)y=k_t(a=mm(t,0,n,this.toBBox),d=mm(t,n,i,this.toBBox)),b=H_(a)+H_(d),y<S?(S=y,C=n,T=b<T?b:T):y===S&&b<T&&(T=b,C=n);return C},_chooseSplitAxis:function(t,e,i){var n=t.leaf?this.compareMinX:qI,a=t.leaf?this.compareMinY:HI;this._allDistMargin(t,e,i,n)<this._allDistMargin(t,e,i,a)&&t.children.sort(n)},_allDistMargin:function(t,e,i,n){t.children.sort(n);var a,d,y=this.toBBox,b=mm(t,0,e,y),S=mm(t,i-e,i,y),T=d3(b)+d3(S);for(a=e;a<i-e;a++)d=t.children[a],gm(b,t.leaf?y(d):d),T+=d3(b);for(a=i-e-1;a>=e;a--)d=t.children[a],gm(S,t.leaf?y(d):d),T+=d3(S);return T},_adjustParentBBoxes:function(t,e,i){for(var n=i;n>=0;n--)gm(e[n],t)},_condense:function(t){for(var e,i=t.length-1;i>=0;i--)t[i].children.length===0?i>0?(e=t[i-1].children).splice(e.indexOf(t[i]),1):this.clear():Vd(t[i],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}};function P_t(t,{timeZone:e,timeExtent:i}){return{$view:{scale:t,timeZone:e,timeProperties:{currentStart:i?.start,currentEnd:i?.end}}}}let WI=class iJ{constructor(e,i){this.key=new s1(0,0,0,0),this.bounds=ls(),this.objectIds=new Set,this.key.set(i);const n=e.getLODInfoAt(this.key);this.tileInfoView=e,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=n.resolution,this.level=n.level,this.scale=n.scale,this.minScale=e.zoomToScale(n.level-1),this.maxScale=e.zoomToScale(n.level+1)}get lod(){return this.tileInfoView.getLODInfoAt(this.key)}get id(){return this.key.id}get extent(){return Ppt(this.bounds,this.tileInfoView.tileInfo.spatialReference)}get transform(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}createArcadeEvaluationOptions(e){return P_t(this.scale,e)}createChildTiles(){const e=this.key.getChildKeys(),i=os.acquire();for(let n=0;n<e.length;n++)i[n]=new iJ(this.tileInfoView,e[n]);return i}getQuantizationParameters(){return _c.fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}};const Ch={added:[],removed:[]},W_=new Set,I_t=new s1(0,0,0,0);function D_t(t,e){const i=us(e);if(!i)return null;const[n,a]=i.valid;return t[2]>a?[ls([t[0],t[1],a,t[3]]),ls([n,t[1],n+t[2]-a,t[3]])]:t[0]<n?[ls([n,t[1],t[2],t[3]]),ls([a-(n-t[0]),t[1],a,t[3]])]:null}let L_t=class extends gu{constructor(e){super(),this._tiles=new Map,this._index=Gw(9,St("esri-csp-restrictions")?i=>({minX:i.bounds[0],minY:i.bounds[1],maxX:i.bounds[2],maxY:i.bounds[3]}):[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this.tiles=[],this.tileScheme=e}destroy(){this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(e){return this._tiles.has(e)}get(e){return this._tiles.get(e)}getIntersectingTiles(e){if(!e||GE(e)===0||qE(e)===0)return[];const i=D_t(e,this.tileScheme.spatialReference);return i!=null?[...new Set([...this.boundsIntersections(i[0]),...this.boundsIntersections(i[1])])]:this.boundsIntersections(e)}boundsIntersections(e){return this._index.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]})}updateTiles(e){const i={added:[],removed:[]};for(const n of e.added)if(!this.has(n)){const a=new WI(this.tileScheme,n);this._tiles.set(n,a),this._index.insert(a),i.added.push(a)}for(const n of e.removed)if(this.has(n)){const a=this.get(n);this._tiles.delete(n),this._index.remove(a),i.removed.push(a)}this.tiles.length=0,this._tiles.forEach((n=>this.tiles.push(n))),(i.added.length||i.removed.length)&&this.emit("update",i)}setViewState(e){const i=this.tileScheme.getTileCoverage(e,0);if(!i)return;const{spans:n,lodInfo:a}=i,{level:d}=a;if(n.length>0)for(const{row:y,colFrom:b,colTo:S}of n)for(let T=b;T<=S;T++){const C=I_t.set(d,y,a.normalizeCol(T),a.getWorldForColumn(T)).id;if(W_.add(C),!this.has(C)){const k=new WI(this.tileScheme,C);this._tiles.set(C,k),this._index.insert(k),this.tiles.push(k),Ch.added.push(k)}}for(let y=this.tiles.length-1;y>=0;y--){const b=this.tiles[y];W_.has(b.id)||(this._tiles.delete(b.id),this.tiles.splice(y,1),this._index.remove(b),Ch.removed.push(b))}(Ch.added.length||Ch.removed.length)&&this.emit("update",Ch),DM.pool.release(i),W_.clear(),Ch.added.length=0,Ch.removed.length=0}};const nkt=1e-30,JI=512,y3=16777216,skt=8,okt=29,akt=24,lkt=4,ukt=0,ckt=0,hkt=0,fkt=1,dkt=2,pkt=3,ykt=4,mkt=5,gkt=6,vkt=12,bkt=13,wkt=5,j_t=6,_kt=5,Skt=6;var YI;(function(t){t[t.FilterFlags=0]="FilterFlags",t[t.Animation=1]="Animation",t[t.GPGPU=2]="GPGPU",t[t.VV=3]="VV",t[t.DD0=4]="DD0",t[t.DD1=5]="DD1",t[t.DD2=6]="DD2",t[t.LocalTimeOrigin=7]="LocalTimeOrigin"})(YI||(YI={}));const rJ=6,z_t=1<<rJ,xkt=z_t<<1,Tkt=1.05,Ekt=3,Mkt=1,Akt=3,Rkt=3,Ckt=5,Okt=6,$kt=1.15,U_t=4,Nkt=128,F_t=256,kkt=F_t-2*U_t,Pkt=2,Ikt=128,Dkt=1,Lkt=10,jkt=1024,zkt=128,Ukt=4,Fkt=1,Bkt=1<<20,Gkt=.75,qkt=10,Hkt=.75,Vkt=256,Wkt=32,Jkt=512,Ykt=0,Kkt=1,B_t=1,Xkt=[0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1],Zkt=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],My=256;var KI,XI,ZI,QI,tD,B8,eD,iD,Wa,G8,Ym,hr,qw,Lo,q8,Br,fe,Hw,Np,Sf,H8,Mg,rD,nD,sD;(function(t){t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t[t.COLOR=16384]="COLOR"})(KI||(KI={})),(function(t){t[t.COLOR=6144]="COLOR",t[t.DEPTH=6145]="DEPTH",t[t.STENCIL=6146]="STENCIL",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(XI||(XI={})),(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(ZI||(ZI={})),(function(t){t[t.ZERO=0]="ZERO",t[t.ONE=1]="ONE",t[t.SRC_COLOR=768]="SRC_COLOR",t[t.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",t[t.SRC_ALPHA=770]="SRC_ALPHA",t[t.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",t[t.DST_ALPHA=772]="DST_ALPHA",t[t.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",t[t.DST_COLOR=774]="DST_COLOR",t[t.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",t[t.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",t[t.CONSTANT_COLOR=32769]="CONSTANT_COLOR",t[t.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",t[t.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",t[t.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA"})(QI||(QI={})),(function(t){t[t.ADD=32774]="ADD",t[t.MIN=32775]="MIN",t[t.MAX=32776]="MAX",t[t.SUBTRACT=32778]="SUBTRACT",t[t.REVERSE_SUBTRACT=32779]="REVERSE_SUBTRACT"})(tD||(tD={})),(function(t){t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t[t.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER",t[t.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER",t[t.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER",t[t.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER",t[t.TRANSFORM_FEEDBACK_BUFFER=35982]="TRANSFORM_FEEDBACK_BUFFER"})(B8||(B8={})),(function(t){t[t.FRONT=1028]="FRONT",t[t.BACK=1029]="BACK",t[t.FRONT_AND_BACK=1032]="FRONT_AND_BACK"})(eD||(eD={})),(function(t){t[t.CW=2304]="CW",t[t.CCW=2305]="CCW"})(iD||(iD={})),(function(t){t[t.BYTE=5120]="BYTE",t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.SHORT=5122]="SHORT",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.INT=5124]="INT",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.FLOAT=5126]="FLOAT",t[t.HALF_FLOAT=5131]="HALF_FLOAT"})(Wa||(Wa={})),(function(t){t[t.NEVER=512]="NEVER",t[t.LESS=513]="LESS",t[t.EQUAL=514]="EQUAL",t[t.LEQUAL=515]="LEQUAL",t[t.GREATER=516]="GREATER",t[t.NOTEQUAL=517]="NOTEQUAL",t[t.GEQUAL=518]="GEQUAL",t[t.ALWAYS=519]="ALWAYS"})(G8||(G8={})),(function(t){t[t.ZERO=0]="ZERO",t[t.KEEP=7680]="KEEP",t[t.REPLACE=7681]="REPLACE",t[t.INCR=7682]="INCR",t[t.DECR=7683]="DECR",t[t.INVERT=5386]="INVERT",t[t.INCR_WRAP=34055]="INCR_WRAP",t[t.DECR_WRAP=34056]="DECR_WRAP"})(Ym||(Ym={})),(function(t){t[t.NEAREST=9728]="NEAREST",t[t.LINEAR=9729]="LINEAR",t[t.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",t[t.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",t[t.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",t[t.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR"})(hr||(hr={})),(function(t){t[t.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(qw||(qw={})),(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_3D=32879]="TEXTURE_3D",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY"})(Lo||(Lo={})),(function(t){t[t.MIN_LOD=33082]="MIN_LOD",t[t.MAX_LOD=33083]="MAX_LOD",t[t.BASE_LEVEL=33084]="BASE_LEVEL",t[t.MAX_LEVEL=33085]="MAX_LEVEL",t[t.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE"})(q8||(q8={})),(function(t){t[t.ALPHA=6406]="ALPHA",t[t.RGB=6407]="RGB",t[t.RGBA=6408]="RGBA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.RED=6403]="RED",t[t.RG=33319]="RG",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER"})(Br||(Br={})),(function(t){t[t.RGBA4=32854]="RGBA4",t[t.R16F=33325]="R16F",t[t.RG16F=33327]="RG16F",t[t.RGB32F=34837]="RGB32F",t[t.RGBA16F=34842]="RGBA16F",t[t.R32F=33326]="R32F",t[t.RG32F=33328]="RG32F",t[t.RGBA32F=34836]="RGBA32F",t[t.R11F_G11F_B10F=35898]="R11F_G11F_B10F",t[t.RGB8=32849]="RGB8",t[t.RGBA8=32856]="RGBA8",t[t.RGB5_A1=32855]="RGB5_A1",t[t.R8=33321]="R8",t[t.RG8=33323]="RG8",t[t.R8I=33329]="R8I",t[t.R8UI=33330]="R8UI",t[t.R16I=33331]="R16I",t[t.R16UI=33332]="R16UI",t[t.R32I=33333]="R32I",t[t.R32UI=33334]="R32UI",t[t.RG8I=33335]="RG8I",t[t.RG8UI=33336]="RG8UI",t[t.RG16I=33337]="RG16I",t[t.RG16UI=33338]="RG16UI",t[t.RG32I=33339]="RG32I",t[t.RG32UI=33340]="RG32UI",t[t.RGB16F=34843]="RGB16F",t[t.RGB9_E5=35901]="RGB9_E5",t[t.SRGB8=35905]="SRGB8",t[t.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8",t[t.RGB565=36194]="RGB565",t[t.RGBA32UI=36208]="RGBA32UI",t[t.RGB32UI=36209]="RGB32UI",t[t.RGBA16UI=36214]="RGBA16UI",t[t.RGB16UI=36215]="RGB16UI",t[t.RGBA8UI=36220]="RGBA8UI",t[t.RGB8UI=36221]="RGB8UI",t[t.RGBA32I=36226]="RGBA32I",t[t.RGB32I=36227]="RGB32I",t[t.RGBA16I=36232]="RGBA16I",t[t.RGB16I=36233]="RGB16I",t[t.RGBA8I=36238]="RGBA8I",t[t.RGB8I=36239]="RGB8I",t[t.R8_SNORM=36756]="R8_SNORM",t[t.RG8_SNORM=36757]="RG8_SNORM",t[t.RGB8_SNORM=36758]="RGB8_SNORM",t[t.RGBA8_SNORM=36759]="RGBA8_SNORM",t[t.RGB10_A2=32857]="RGB10_A2",t[t.RGB10_A2UI=36975]="RGB10_A2UI"})(fe||(fe={})),(function(t){t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(Hw||(Hw={})),(function(t){t[t.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",t[t.DEPTH32F_STENCIL8=36013]="DEPTH32F_STENCIL8"})(Np||(Np={})),(function(t){t[t.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",t[t.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24",t[t.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F"})(Sf||(Sf={})),(function(t){t[t.STENCIL_INDEX8=36168]="STENCIL_INDEX8"})(H8||(H8={})),(function(t){t[t.FLOAT=5126]="FLOAT",t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.BYTE=5120]="BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.SHORT=5122]="SHORT",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.INT=5124]="INT",t[t.HALF_FLOAT=5131]="HALF_FLOAT",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV"})(Mg||(Mg={})),(function(t){t[t.STATIC_DRAW=35044]="STATIC_DRAW",t[t.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",t[t.STREAM_DRAW=35040]="STREAM_DRAW",t[t.STATIC_READ=35045]="STATIC_READ",t[t.DYNAMIC_READ=35049]="DYNAMIC_READ",t[t.STREAM_READ=35041]="STREAM_READ",t[t.STATIC_COPY=35046]="STATIC_COPY",t[t.DYNAMIC_COPY=35050]="DYNAMIC_COPY",t[t.STREAM_COPY=35042]="STREAM_COPY"})(rD||(rD={})),(function(t){t[t.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",t[t.VERTEX_SHADER=35633]="VERTEX_SHADER"})(nD||(nD={})),(function(t){t[t.FRAMEBUFFER=36160]="FRAMEBUFFER",t[t.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER",t[t.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER"})(sD||(sD={}));const Qkt=33984;var Vw,oD;(function(t){t[t.Texture=0]="Texture",t[t.TileTexture=1]="TileTexture",t[t.BufferObject=2]="BufferObject",t[t.VertexArrayObject=3]="VertexArrayObject",t[t.Shader=4]="Shader",t[t.Program=5]="Program",t[t.FramebufferObject=6]="FramebufferObject",t[t.Renderbuffer=7]="Renderbuffer",t[t.TransformFeedback=8]="TransformFeedback",t[t.Sync=9]="Sync",t[t.UNCOUNTED=10]="UNCOUNTED",t[t.LinesOfCode=10]="LinesOfCode",t[t.Uniform=11]="Uniform",t[t.COUNT=12]="COUNT"})(Vw||(Vw={})),(function(t){t[t.NONE=0]="NONE",t[t.BACK=1029]="BACK"})(oD||(oD={}));const tPt=36064,ePt=36065,iPt=36066,rPt=33306,nPt=36096,sPt=36128;var mn,aD,lD,uD,cD,hD,fD,Sc,dD;(function(t){t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC"})(mn||(mn={})),(function(t){t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_VEC2=35664]="FLOAT_VEC2",t[t.FLOAT_VEC3=35665]="FLOAT_VEC3",t[t.FLOAT_VEC4=35666]="FLOAT_VEC4",t[t.INT=5124]="INT",t[t.INT_VEC2=35667]="INT_VEC2",t[t.INT_VEC3=35668]="INT_VEC3",t[t.INT_VEC4=35669]="INT_VEC4",t[t.BOOL=35670]="BOOL",t[t.BOOL_VEC2=35671]="BOOL_VEC2",t[t.BOOL_VEC3=35672]="BOOL_VEC3",t[t.BOOL_VEC4=35673]="BOOL_VEC4",t[t.FLOAT_MAT2=35674]="FLOAT_MAT2",t[t.FLOAT_MAT3=35675]="FLOAT_MAT3",t[t.FLOAT_MAT4=35676]="FLOAT_MAT4",t[t.SAMPLER_2D=35678]="SAMPLER_2D",t[t.SAMPLER_CUBE=35680]="SAMPLER_CUBE",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2",t[t.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3",t[t.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4",t[t.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3",t[t.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4",t[t.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2",t[t.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4",t[t.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2",t[t.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3",t[t.SAMPLER_3D=35679]="SAMPLER_3D",t[t.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW",t[t.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY",t[t.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW",t[t.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW",t[t.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D",t[t.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D",t[t.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE",t[t.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY",t[t.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D",t[t.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D",t[t.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE",t[t.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY"})(aD||(aD={})),(function(t){t[t.OBJECT_TYPE=37138]="OBJECT_TYPE",t[t.SYNC_CONDITION=37139]="SYNC_CONDITION",t[t.SYNC_STATUS=37140]="SYNC_STATUS",t[t.SYNC_FLAGS=37141]="SYNC_FLAGS"})(lD||(lD={})),(function(t){t[t.UNSIGNALED=37144]="UNSIGNALED",t[t.SIGNALED=37145]="SIGNALED"})(uD||(uD={})),(function(t){t[t.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED",t[t.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED",t[t.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED",t[t.WAIT_FAILED=37149]="WAIT_FAILED"})(cD||(cD={})),(function(t){t[t.SYNC_GPU_COMMANDS_COMPLETE=37143]="SYNC_GPU_COMMANDS_COMPLETE"})(hD||(hD={})),(function(t){t[t.SYNC_FLUSH_COMMANDS_BIT=1]="SYNC_FLUSH_COMMANDS_BIT"})(fD||(fD={})),(function(t){t[t.INVALID_ENUM=1280]="INVALID_ENUM",t[t.INVALID_VALUE=1281]="INVALID_VALUE",t[t.INVALID_OPERATION=1282]="INVALID_OPERATION",t[t.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",t[t.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",t[t.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL"})(Sc||(Sc={})),(function(t){t[t.COMPLETION_STATUS_KHR=37297]="COMPLETION_STATUS_KHR"})(dD||(dD={}));const G_t=()=>ae.getLogger("esri.views.webgl.checkWebGLError");function q_t(t){switch(t){case Sc.INVALID_ENUM:return"Invalid Enum. An unacceptable value has been specified for an enumerated argument.";case Sc.INVALID_VALUE:return"Invalid Value. A numeric argument is out of range.";case Sc.INVALID_OPERATION:return"Invalid Operation. The specified command is not allowed for the current state.";case Sc.INVALID_FRAMEBUFFER_OPERATION:return"Invalid Framebuffer operation. The currently bound framebuffer is not framebuffer complete when trying to render to or to read from it.";case Sc.OUT_OF_MEMORY:return"Out of memory. Not enough memory is left to execute the command.";case Sc.CONTEXT_LOST_WEBGL:return"WebGL context has been lost";default:return"Unknown error"}}const nJ=!!St("enable-feature:webgl-debug");function sJ(){return nJ}function oPt(){return nJ}function Oh(t,e=sJ()){if(e){const i=t.getError();if(i){const n=q_t(i),a=new Error().stack;G_t().error(new Lt("webgl-error","WebGL error occurred",{message:n,stack:a}))}}}var Ww;(function(t){t[t.TextureDescriptor=0]="TextureDescriptor",t[t.Texture=1]="Texture",t[t.Renderbuffer=2]="Renderbuffer"})(Ww||(Ww={}));function H_t(t){switch(t){case Wa.BYTE:case Wa.UNSIGNED_BYTE:return 1;case Wa.SHORT:case Wa.UNSIGNED_SHORT:case Wa.HALF_FLOAT:return 2;case Wa.FLOAT:case Wa.INT:case Wa.UNSIGNED_INT:return 4}}function V_t(t){const e=t.gl;switch(e.getError()){case e.NO_ERROR:return null;case e.INVALID_ENUM:return"An unacceptable value has been specified for an enumerated argument";case e.INVALID_VALUE:return"An unacceptable value has been specified for an argument";case e.INVALID_OPERATION:return"The specified command is not allowed for the current state";case e.INVALID_FRAMEBUFFER_OPERATION:return"The currently bound framebuffer is not framebuffer complete";case e.OUT_OF_MEMORY:return"Not enough memory is left to execute the command";case e.CONTEXT_LOST_WEBGL:return"WebGL context is lost"}return"Unknown error"}function aPt(t,e,i,n,a=0){const d=t.gl;t.bindBuffer(i);for(const y of n){const b=e.get(y.name);if(b==null){console.warn(`There is no location for vertex attribute '${y.name}' defined.`);continue}const S=a*y.stride;if(y.count<=4)d.vertexAttribPointer(b,y.count,y.type,y.normalized,y.stride,y.offset+S),d.enableVertexAttribArray(b),y.divisor>0&&t.gl.vertexAttribDivisor(b,y.divisor);else if(y.count===9)for(let T=0;T<3;T++)d.vertexAttribPointer(b+T,3,y.type,y.normalized,y.stride,y.offset+12*T+S),d.enableVertexAttribArray(b+T),y.divisor>0&&t.gl.vertexAttribDivisor(b+T,y.divisor);else if(y.count===16)for(let T=0;T<4;T++)d.vertexAttribPointer(b+T,4,y.type,y.normalized,y.stride,y.offset+16*T+S),d.enableVertexAttribArray(b+T),y.divisor>0&&t.gl?.vertexAttribDivisor(b+T,y.divisor);else console.error("Unsupported vertex attribute element count: "+y.count);if(sJ()){const T=V_t(t),C=H_t(y.type),k=y.offset,D=Math.round(C/k)!==C/k?`. Offset not a multiple of stride. DataType requires ${C} bytes, but descriptor has an offset of ${k}`:"";T&&console.error(`Unable to bind vertex attribute "${y.name}" with baseInstanceOffset ${S}${D}:`,T,y)}}}function lPt(t,e,i,n){const a=t.gl;t.bindBuffer(i);for(const d of n){const y=e.get(d.name);if(d.count<=4)a.disableVertexAttribArray(y),d.divisor&&d.divisor>0&&t.gl?.vertexAttribDivisor(y,0);else if(d.count===9)for(let b=0;b<3;b++)a.disableVertexAttribArray(y+b),d.divisor&&d.divisor>0&&t.gl?.vertexAttribDivisor(y+b,0);else if(d.count===16)for(let b=0;b<4;b++)a.disableVertexAttribArray(y+b),d.divisor&&d.divisor>0&&t.gl?.vertexAttribDivisor(y+b,0);else console.error("Unsupported vertex attribute element count: "+d.count)}t.unbindBuffer(B8.ARRAY_BUFFER)}function W_t(t){switch(t){case Br.ALPHA:case Br.LUMINANCE:case Br.RED:case Br.RED_INTEGER:case fe.R8:case fe.R8I:case fe.R8UI:case fe.R8_SNORM:case H8.STENCIL_INDEX8:return 1;case Br.LUMINANCE_ALPHA:case Br.RG:case Br.RG_INTEGER:case fe.RGBA4:case fe.R16F:case fe.R16I:case fe.R16UI:case fe.RG8:case fe.RG8I:case fe.RG8UI:case fe.RG8_SNORM:case fe.RGB565:case fe.RGB5_A1:case Sf.DEPTH_COMPONENT16:return 2;case Br.RGB:case Br.RGB_INTEGER:case fe.RGB8:case fe.RGB8I:case fe.RGB8UI:case fe.RGB8_SNORM:case fe.SRGB8:case Sf.DEPTH_COMPONENT24:return 3;case Br.RGBA:case Br.RGBA_INTEGER:case fe.RGBA8:case fe.R32F:case fe.R11F_G11F_B10F:case fe.RG16F:case fe.R32I:case fe.R32UI:case fe.RG16I:case fe.RG16UI:case fe.RGBA8I:case fe.RGBA8UI:case fe.RGBA8_SNORM:case fe.SRGB8_ALPHA8:case fe.RGB9_E5:case fe.RGB10_A2UI:case fe.RGB10_A2:case Sf.DEPTH_COMPONENT32F:case Np.DEPTH24_STENCIL8:return 4;case Np.DEPTH32F_STENCIL8:return 5;case fe.RGB16F:case fe.RGB16I:case fe.RGB16UI:return 6;case fe.RG32F:case fe.RG32I:case fe.RG32UI:case fe.RGBA16F:case fe.RGBA16I:case fe.RGBA16UI:return 8;case fe.RGB32F:case fe.RGB32I:case fe.RGB32UI:return 12;case fe.RGBA32F:case fe.RGBA32I:case fe.RGBA32UI:return 16;case mn.COMPRESSED_RGB_S3TC_DXT1_EXT:case mn.COMPRESSED_RGBA_S3TC_DXT1_EXT:return .5;case mn.COMPRESSED_RGBA_S3TC_DXT3_EXT:case mn.COMPRESSED_RGBA_S3TC_DXT5_EXT:return 1;case mn.COMPRESSED_R11_EAC:case mn.COMPRESSED_SIGNED_R11_EAC:case mn.COMPRESSED_RGB8_ETC2:case mn.COMPRESSED_SRGB8_ETC2:case mn.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:case mn.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:return .5;case mn.COMPRESSED_RG11_EAC:case mn.COMPRESSED_SIGNED_RG11_EAC:case mn.COMPRESSED_RGBA8_ETC2_EAC:case mn.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:return 1}return 0}let oJ=class{constructor(e=0,i=e){this.width=e,this.height=i,this.type=Ww.TextureDescriptor,this.target=Lo.TEXTURE_2D,this.pixelFormat=Br.RGBA,this.dataType=Mg.UNSIGNED_BYTE,this.samplingMode=hr.LINEAR,this.wrapMode=qw.REPEAT,this.maxAnisotropy=1,this.flipped=!1,this.hasMipmap=!1,this.isOpaque=!1,this.unpackAlignment=4,this.preMultiplyAlpha=!1,this.compareEnabled=!1,this.linearFilterDepth=!1,this.depth=1,this.isImmutable=!1}};function J_t(t){return t.width<=0||t.height<=0||t.depth<=0?0:Math.round(t.width*t.height*t.depth*(t.hasMipmap?4/3:1)*(t.internalFormat==null?4:W_t(t.internalFormat))*(t.target===Lo.TEXTURE_CUBE_MAP?6:1))}const Ay=()=>ae.getLogger("esri/views/webgl/textureUtils");function Ry(t){const{width:e,height:i,depth:n}=t;(e!=null&&e<0||i!=null&&i<0||n!=null&&n<0)&&Ay().error("Negative dimension parameters are not allowed!");const{internalFormat:a}=t;if(a&&(aJ(a)||lJ(a))){const{linearFilterDepth:d,compareEnabled:y,samplingMode:b,hasMipmap:S}=t;S&&Ay().error("Depth textures cannot have mipmaps"),d?b!==hr.LINEAR&&b!==hr.NEAREST&&Ay().error("Depth textures cannot sample mipmaps"):(b!==hr.NEAREST&&Ay().error("Depth textures without filtering must use NEAREST filtering"),y&&Ay().error("Depth textures without filtering cannot use compare function"))}}function Y_t(t){return t in fe}function aJ(t){return t in Sf}function lJ(t){return t in Np}function K_t(t){return t!=null&&t in mn}function l0(t){return t!=null&&"type"in t&&t.type==="compressed"}function X_t(t){return t!=null&&"byteLength"in t}function pD(t){return t!=null&&!l0(t)&&!X_t(t)}function Wd(t){return t===Lo.TEXTURE_3D||t===Lo.TEXTURE_2D_ARRAY}function yD(t,e,i,n=1){let a=Math.max(e,i);return t===Lo.TEXTURE_3D&&(a=Math.max(a,n)),Math.floor(Math.log2(a))+1}function m3(t){if(t.internalFormat!=null)return t.internalFormat;switch(t.dataType){case Mg.FLOAT:switch(t.pixelFormat){case Br.RGBA:return fe.RGBA32F;case Br.RGB:return fe.RGB32F;default:throw new Lt("texture:unknown-format","Unable to derive format")}case Mg.UNSIGNED_BYTE:switch(t.pixelFormat){case Br.RGBA:return fe.RGBA8;case Br.RGB:return fe.RGB8}}const{pixelFormat:e}=t;return t.internalFormat=e===Hw.DEPTH_STENCIL?Np.DEPTH24_STENCIL8:e===Hw.DEPTH_COMPONENT?Sf.DEPTH_COMPONENT24:e,t.internalFormat}function Z_t(t){let e="width"in t?t.width:t.codedWidth,i="height"in t?t.height:t.codedHeight;return t instanceof HTMLVideoElement&&(e=t.videoWidth,i=t.videoHeight),{width:e,height:i,depth:1}}let Q_t=class uJ extends oJ{constructor(e,i){switch(super(),this.context=e,Object.assign(this,i),this.internalFormat){case fe.R16F:case fe.R32F:case fe.R8_SNORM:case fe.R8:this.pixelFormat=Br.RED;break;case fe.R8I:case fe.R8UI:case fe.R16I:case fe.R16UI:case fe.R32I:case fe.R32UI:this.pixelFormat=Br.RED_INTEGER}}static validate(e,i){return new uJ(e,i)}};const Dl=()=>ae.getLogger("esri/views/webgl/Texture");var Yr;let tSt=(Yr=class{constructor(e,i=null,n=null){if(this.type=Ww.Texture,this._glName=null,this._samplingModeDirty=!1,this._wrapModeDirty=!1,this._shadowFilterDirty=!1,this._wasImmutablyAllocated=!1,"context"in e)this._descriptor=e,n=i;else{const a=Q_t.validate(e,i);if(!a)throw new Lt("texture:invalid-descriptor","Texture descriptor invalid");this._descriptor=a}this._descriptor.target===Lo.TEXTURE_CUBE_MAP?this._setDataCubeMap(n):this.setData(n)}get glName(){return this._glName}get descriptor(){return this._descriptor}get usedMemory(){return J_t(this._descriptor)}get cachedMemory(){return this.usedMemory}get isDirty(){return this._samplingModeDirty||this._wrapModeDirty||this._shadowFilterDirty}get hasWebGLTextureObject(){return!!this._glName}dispose(){this.abortCompression(),this._descriptor.context.gl&&this.hasWebGLTextureObject&&(this._descriptor.context.instanceCounter.decrement(Vw.Texture,this),this._descriptor.context.unbindTexture(this),this._descriptor.context.gl.deleteTexture(this._glName),this._glName=null)}release(){this.dispose()}resize(e,i){const n=this._descriptor;if(n.width!==e||n.height!==i){if(this._wasImmutablyAllocated)throw new Lt("texture:immutable-resize","Immutable textures can't be resized!");n.width=e,n.height=i,this._descriptor.target===Lo.TEXTURE_CUBE_MAP?this._setDataCubeMap(null):this.setData(null)}}enableCompression(e){this._descriptor.compress=e}disableCompression(){this._descriptor.compress=void 0}setData(e){this.abortCompression(),!l0(e)&&this._descriptor.internalFormat&&this._descriptor.internalFormat in mn&&(this._descriptor.internalFormat=void 0),this._setData(e),!l0(e)&&this._descriptor.compress&&this._compressOnWorker(e)}updateData(e,i,n,a,d,y,b=0){y||Dl().error("An attempt to use uninitialized data!"),this.hasWebGLTextureObject||Dl().error("An attempt to update uninitialized texture!");const S=this._descriptor;S.internalFormat=m3(S);const{context:T,pixelFormat:C,dataType:k,target:D,isImmutable:z}=S;if(z&&!this._wasImmutablyAllocated)throw new Lt("texture:uninitialized","Cannot update immutable texture before allocation!");const G=T.bindTexture(this,Yr.TEXTURE_UNIT_FOR_UPDATES,!0);(i<0||n<0||i+a>S.width||n+d>S.height)&&Dl().error("An attempt to update out of bounds of the texture!"),this._configurePixelStorage();const{gl:B}=T;b&&(a&&d||Dl().warn("Must pass width and height if `UNPACK_SKIP_ROWS` is used"),B.pixelStorei(B.UNPACK_SKIP_ROWS,b)),pD(y)?B.texSubImage2D(D,e,i,n,a,d,C,k,y):l0(y)?B.compressedTexSubImage2D(D,e,i,n,a,d,S.internalFormat,y.levels[e]):B.texSubImage2D(D,e,i,n,a,d,C,k,y),b&&B.pixelStorei(B.UNPACK_SKIP_ROWS,0),T.bindTexture(G,Yr.TEXTURE_UNIT_FOR_UPDATES)}updateData3D(e,i,n,a,d,y,b,S){S||Dl().error("An attempt to use uninitialized data!"),this.hasWebGLTextureObject||Dl().error("An attempt to update an uninitialized texture!");const T=this._descriptor;T.internalFormat=m3(T);const{context:C,pixelFormat:k,dataType:D,isImmutable:z,target:G}=T;if(z&&!this._wasImmutablyAllocated)throw new Lt("texture:uninitialized","Cannot update immutable texture before allocation!");Wd(G)||Dl().warn("Attempting to set 3D texture data on a non-3D texture");const B=C.bindTexture(this,Yr.TEXTURE_UNIT_FOR_UPDATES);C.setActiveTexture(Yr.TEXTURE_UNIT_FOR_UPDATES),(i<0||n<0||a<0||i+d>T.width||n+y>T.height||a+b>T.depth)&&Dl().error("An attempt to update out of bounds of the texture!"),this._configurePixelStorage();const{gl:H}=C;if(l0(S))S=S.levels[e],H.compressedTexSubImage3D(G,e,i,n,a,d,y,b,T.internalFormat,S);else{const X=S;H.texSubImage3D(G,e,i,n,a,d,y,b,k,D,X)}C.bindTexture(B,Yr.TEXTURE_UNIT_FOR_UPDATES)}generateMipmap(){const e=this._descriptor;if(e.width===0||e.height===0)return;if(!e.hasMipmap){if(this._wasImmutablyAllocated)throw new Lt("texture:immutable-change","Cannot add mipmaps to immutable texture after allocation");e.hasMipmap=!0,this._samplingModeDirty=!0,Ry(e)}e.samplingMode===hr.LINEAR?(this._samplingModeDirty=!0,e.samplingMode=hr.LINEAR_MIPMAP_NEAREST):e.samplingMode===hr.NEAREST&&(this._samplingModeDirty=!0,e.samplingMode=hr.NEAREST_MIPMAP_NEAREST);const i=this._descriptor.context.bindTexture(this,Yr.TEXTURE_UNIT_FOR_UPDATES);this._descriptor.context.setActiveTexture(Yr.TEXTURE_UNIT_FOR_UPDATES),this._descriptor.context.gl.generateMipmap(e.target),this._descriptor.context.bindTexture(i,Yr.TEXTURE_UNIT_FOR_UPDATES)}clearMipmap(){const e=this._descriptor;if(e.hasMipmap){if(this._wasImmutablyAllocated)throw new Lt("texture:immutable-change","Cannot delete mipmaps to immutable texture after allocation");e.hasMipmap=!1,this._samplingModeDirty=!0,Ry(e)}e.samplingMode===hr.LINEAR_MIPMAP_NEAREST?(this._samplingModeDirty=!0,e.samplingMode=hr.LINEAR):e.samplingMode===hr.NEAREST_MIPMAP_NEAREST&&(this._samplingModeDirty=!0,e.samplingMode=hr.NEAREST)}setSamplingMode(e){e!==this._descriptor.samplingMode&&(this._descriptor.samplingMode=e,this._samplingModeDirty=!0)}setWrapMode(e){e!==this._descriptor.wrapMode&&(this._descriptor.wrapMode=e,Ry(this._descriptor),this._wrapModeDirty=!0)}setShadowFiltering(e){e!==this._descriptor.linearFilterDepth&&(this._descriptor.linearFilterDepth=this._descriptor.compareEnabled=e,this.setSamplingMode(e?hr.LINEAR:hr.NEAREST),Ry(this._descriptor),this._shadowFilterDirty=!0)}applyChanges(){this._samplingModeDirty&&(this._applySamplingMode(),this._samplingModeDirty=!1),this._wrapModeDirty&&(this._applyWrapMode(),this._wrapModeDirty=!1),this._shadowFilterDirty&&(this._applyShadowMode(),this._shadowFilterDirty=!1)}abortCompression(){this._compressionAbortController=fp(this._compressionAbortController)}_setData(e,i){const n=this._descriptor,a=n.context?.gl;if(!a)return;Oh(a),this.hasWebGLTextureObject||(this._glName=a.createTexture(),n.context.instanceCounter.increment(Vw.Texture,this)),Ry(n);const d=n.context.bindTexture(this,Yr.TEXTURE_UNIT_FOR_UPDATES);n.context.setActiveTexture(Yr.TEXTURE_UNIT_FOR_UPDATES),this._configurePixelStorage(),Oh(a);const y=i??n.target,b=Wd(y);if(pD(e))this._setDataFromTexImageSource(e,y);else{const{width:S,height:T,depth:C}=n;if(S==null||T==null)throw new Lt("texture:missing-size","Width and height must be specified!");if(b&&C==null)throw new Lt("texture:missing-depth","Depth must be specified!");if(n.internalFormat=m3(n),n.isImmutable&&!this._wasImmutablyAllocated&&this._texStorage(y,n.internalFormat,n.hasMipmap,S,T,C),l0(e)){if(!K_t(n.internalFormat))throw new Lt("texture:format-mismatch","Attempting to use compressed data with an uncompressed format!");this._setDataFromCompressedSource(e,n.internalFormat,y)}else this._texImage(y,0,n.internalFormat,S,T,C,e),Oh(a),n.hasMipmap&&this.generateMipmap()}this._applySamplingMode(),this._applyWrapMode(),this._applyAnisotropicFilteringParameters(),this._applyShadowMode(),Oh(a),n.context.bindTexture(d,Yr.TEXTURE_UNIT_FOR_UPDATES)}_setDataCubeMap(e=null){for(let i=Lo.TEXTURE_CUBE_MAP_POSITIVE_X;i<=Lo.TEXTURE_CUBE_MAP_NEGATIVE_Z;i++)this._setData(e,i)}_configurePixelStorage(){const e=this._descriptor.context.gl,{unpackAlignment:i,flipped:n,preMultiplyAlpha:a}=this._descriptor;e.pixelStorei(e.UNPACK_ALIGNMENT,i),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,n?1:0),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a?1:0)}_setDataFromTexImageSource(e,i){const{gl:n}=this._descriptor.context,a=this._descriptor;a.internalFormat=m3(a);const d=Wd(i),{width:y,height:b,depth:S}=Z_t(e);a.width&&a.height,a.width||(a.width=y),a.height||(a.height=b),d&&a.depth,d&&(a.depth=S),a.isImmutable&&!this._wasImmutablyAllocated&&this._texStorage(i,a.internalFormat,a.hasMipmap,y,b,S),this._texImage(i,0,a.internalFormat,y,b,S,e),Oh(n),a.hasMipmap&&(this.generateMipmap(),Oh(n))}_setDataFromCompressedSource(e,i,n){const a=this._descriptor,{width:d,height:y,depth:b}=a,S=e.levels,T=yD(n,d,y,b),C=Math.min(T,S.length)-1;this._descriptor.context.gl.texParameteri(a.target,q8.MAX_LEVEL,C),this._forEachMipmapLevel(((k,D,z,G)=>{const B=S[Math.min(k,S.length-1)];this._compressedTexImage(n,k,i,D,z,G,B)}),C)}_texStorage(e,i,n,a,d,y){const{gl:b}=this._descriptor.context;if(!Y_t(i)&&!aJ(i)&&!lJ(i))throw new Lt("texture:missing-format","Immutable textures must have a sized internal format");if(!this._descriptor.isImmutable)return;const S=n?yD(e,a,d,y):1;if(Wd(e)){if(y==null)throw new Lt("texture:missing-depth","Missing depth dimension for 3D texture upload");b.texStorage3D(e,S,i,a,d,y)}else b.texStorage2D(e,S,i,a,d);this._wasImmutablyAllocated=!0}_texImage(e,i,n,a,d,y,b){const S=this._descriptor.context.gl,T=Wd(e),{isImmutable:C,pixelFormat:k,dataType:D}=this._descriptor;if(C){if(b!=null){const z=b;if(T){if(y==null)throw new Lt("texture:missing-depth","Missing depth dimension for 3D texture upload");S.texSubImage3D(e,i,0,0,0,a,d,y,k,D,z)}else S.texSubImage2D(e,i,0,0,a,d,k,D,z)}}else{const z=b;if(T){if(y==null)throw new Lt("texture:missing-depth","Missing depth dimension for 3D texture upload");S.texImage3D(e,i,n,a,d,y,0,k,D,z)}else S.texImage2D(e,i,n,a,d,0,k,D,z)}}_compressedTexImage(e,i,n,a,d,y,b){const S=this._descriptor.context.gl,T=Wd(e);if(this._descriptor.isImmutable){if(b!=null)if(T){if(y==null)throw new Lt("texture:missing-depth","Missing depth dimension for 3D texture upload");S.compressedTexSubImage3D(e,i,0,0,0,a,d,y,n,b)}else S.compressedTexSubImage2D(e,i,0,0,a,d,n,b)}else if(T){if(y==null)throw new Lt("texture:missing-depth","Missing depth dimension for 3D texture upload");S.compressedTexImage3D(e,i,n,a,d,y,0,b)}else S.compressedTexImage2D(e,i,n,a,d,0,b)}async _compressOnWorker(e){const{width:i,height:n,context:a,flipped:d,preMultiplyAlpha:y,hasMipmap:b}=this._descriptor,S=this._descriptor.compress?.compressionTracker,T=this._descriptor.compress?.compressionCallback,{compressedTextureETC:C,compressedTextureS3TC:k}=a.capabilities;if(!Yr.compressionWorkerHandle?.isCompressible(e,this._descriptor)||!C&&!k)return;this.abortCompression();const D=new AbortController;this._compressionAbortController=D,S?.increment();try{let z;e instanceof Uint8Array?z=e.buffer:(z=await createImageBitmap(e,{imageOrientation:d?"flipY":"none"}),dr(D));const G={data:z,width:i,height:n,needsFlip:e instanceof Uint8Array&&this.descriptor.flipped,components:this._descriptor.pixelFormat===Br.RGBA?4:3,preMultiplyAlpha:y,hasMipmap:b,hasETC:!!C,hasS3TC:!!k},B=await Yr.compressionWorkerHandle.invoke(G,D.signal,"low");if(dr(D),B.compressedTexture&&this.hasWebGLTextureObject){const H=this.usedMemory;this._descriptor.internalFormat=B.internalFormat,this._setData(B.compressedTexture),T?.(H-this.usedMemory)}}catch(z){cs(z)||Dl().error("Texture compression failed!")}finally{S?.decrement(),this._compressionAbortController?.signal.aborted&&(this._compressionAbortController=null)}}_forEachMipmapLevel(e,i=1/0){let{width:n,height:a,depth:d,hasMipmap:y,target:b}=this._descriptor;const S=b===Lo.TEXTURE_3D;if(n==null||a==null||S&&d==null)throw new Lt("texture:missing-size","Missing texture dimensions for mipmap calculation");for(let T=0;e(T,n,a,d),y&&(n!==1||a!==1||S&&d!==1)&&!(T>=i);++T)n=Math.max(1,n>>1),a=Math.max(1,a>>1),S&&(d=Math.max(1,d>>1))}_applySamplingMode(){const e=this._descriptor,i=e.context?.gl;let n=e.samplingMode,a=e.samplingMode;n===hr.LINEAR_MIPMAP_NEAREST||n===hr.LINEAR_MIPMAP_LINEAR?(n=hr.LINEAR,e.hasMipmap||(a=hr.LINEAR)):n!==hr.NEAREST_MIPMAP_NEAREST&&n!==hr.NEAREST_MIPMAP_LINEAR||(n=hr.NEAREST,e.hasMipmap||(a=hr.NEAREST)),i.texParameteri(e.target,i.TEXTURE_MAG_FILTER,n),i.texParameteri(e.target,i.TEXTURE_MIN_FILTER,a)}_applyWrapMode(){const e=this._descriptor,i=e.context?.gl;typeof e.wrapMode=="number"?(i.texParameteri(e.target,i.TEXTURE_WRAP_S,e.wrapMode),i.texParameteri(e.target,i.TEXTURE_WRAP_T,e.wrapMode)):(i.texParameteri(e.target,i.TEXTURE_WRAP_S,e.wrapMode.s),i.texParameteri(e.target,i.TEXTURE_WRAP_T,e.wrapMode.t))}_applyShadowMode(){const e=this._descriptor,i=e.context?.gl,n=e.compareEnabled?i.COMPARE_REF_TO_TEXTURE:i.NONE;i.texParameteri(e.target,i.TEXTURE_COMPARE_MODE,n),e.compareEnabled&&i.texParameteri(e.target,i.TEXTURE_COMPARE_FUNC,i.GREATER),Oh(i)}_applyAnisotropicFilteringParameters(){const e=this._descriptor,i=e.context.capabilities.textureFilterAnisotropic;i&&e.context.gl.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY,e.maxAnisotropy??1)}},Yr.TEXTURE_UNIT_FOR_UPDATES=0,Yr.compressionWorkerHandle=null,Yr);const J_=()=>ae.getLogger("esri.views.2d.engine.webgl.painter.highlight.HighlightGradient");function eSt(t,e){e.fillColor[0]=t.color.r/255,e.fillColor[1]=t.color.g/255,e.fillColor[2]=t.color.b/255,e.fillColor[3]=t.color.a,t.haloColor?(e.outlineColor[0]=t.haloColor.r/255,e.outlineColor[1]=t.haloColor.g/255,e.outlineColor[2]=t.haloColor.b/255,e.outlineColor[3]=t.haloColor.a):(e.outlineColor[0]=e.fillColor[0],e.outlineColor[1]=e.fillColor[1],e.outlineColor[2]=e.fillColor[2],e.outlineColor[3]=e.fillColor[3]),e.fillColor[3]*=t.fillOpacity,e.outlineColor[3]*=t.haloOpacity,e.fillColor[0]*=e.fillColor[3],e.fillColor[1]*=e.fillColor[3],e.fillColor[2]*=e.fillColor[3],e.outlineColor[0]*=e.outlineColor[3],e.outlineColor[1]*=e.outlineColor[3],e.outlineColor[2]*=e.outlineColor[3],e.outlineWidth=(1-t.haloBlur)*t.haloWidth,e.outerHaloWidth=t.haloBlur*t.haloWidth/2,e.innerHaloWidth=t.haloBlur*t.haloWidth/2,e.outlinePosition=0}const iSt=[0,0,0,0];let cJ=class{constructor(){this.type="single",this._highlightOptions=new jc,this._convertedHighlightOptions={fillColor:[0,0,0,0],outlineColor:[0,0,0,0],outlinePosition:0,outlineWidth:0,innerHaloWidth:0,outerHaloWidth:0},this._optionsShadeTexKey="",this._texelData=new Uint8Array(4*My),this._minMaxDistance=[0,0]}setHighlightOptions(e){this._highlightOptions=e}applyHighlightOptions(e,i){this._updateGradientTexture(e),e.bindTexture(this._shadeTex,j_t),i.setUniform2fv("u_minMaxDistance",this._minMaxDistance)}destroy(){this._shadeTex?.dispose(),this._shadeTex=null}getReasonsWithGradients(){return[{activeReasons:(1<<rJ)-1,activeGradient:this}]}_updateGradientTexture(e){const i=rSt(this._highlightOptions);if(i===this._optionsShadeTexKey)return;this._optionsShadeTexKey=i,eSt(this._highlightOptions,this._convertedHighlightOptions);const n=this._convertedHighlightOptions,a=n.outlinePosition-n.outlineWidth/2-n.outerHaloWidth,d=n.outlinePosition-n.outlineWidth/2,y=n.outlinePosition+n.outlineWidth/2,b=n.outlinePosition+n.outlineWidth/2+n.innerHaloWidth,S=Math.sqrt(Math.PI/2)*B_t,T=Math.abs(a)>S?Math.round(10*(Math.abs(a)-S))/10:0,C=Math.abs(b)>S?Math.round(10*(Math.abs(b)-S))/10:0;let k;T&&!C?J_().error("The outer rim of the highlight is "+T+"px away from the edge of the feature; consider reducing some width values or shifting the outline position towards positive values (inwards)."):!T&&C?J_().error("The inner rim of the highlight is "+C+"px away from the edge of the feature; consider reducing some width values or shifting the outline position towards negative values (outwards)."):T&&C&&J_().error("The highlight is "+Math.max(T,C)+"px away from the edge of the feature; consider reducing some width values.");const D=[void 0,void 0,void 0,void 0];function z(B,H,X){D[0]=(1-X)*B[0]+X*H[0],D[1]=(1-X)*B[1]+X*H[1],D[2]=(1-X)*B[2]+X*H[2],D[3]=(1-X)*B[3]+X*H[3]}const{_texelData:G}=this;for(let B=0;B<My;++B)k=a+B/(My-1)*(b-a),k<a?(D[0]=0,D[1]=0,D[2]=0,D[3]=0):k<d?z(iSt,n.outlineColor,(k-a)/(d-a)):k<y?[D[0],D[1],D[2],D[3]]=n.outlineColor:k<b?z(n.outlineColor,n.fillColor,(k-y)/(b-y)):[D[0],D[1],D[2],D[3]]=n.fillColor,G[4*B]=255*D[0],G[4*B+1]=255*D[1],G[4*B+2]=255*D[2],G[4*B+3]=255*D[3];if(this._minMaxDistance[0]=a,this._minMaxDistance[1]=b,!this._shadeTex){const B=new oJ;B.wrapMode=qw.CLAMP_TO_EDGE,B.width=My,B.height=1,this._shadeTex=new tSt(e,B)}this._shadeTex.updateData(0,0,0,My,1,this._texelData)}};function rSt(t){return`${t.color};${t.haloColor};${t.haloOpacity};${t.fillOpacity};${t.haloWidth};${t.haloBlur}`}let nSt=class{constructor(){this.type="multi",this.gradients=[]}setHighlightOptions(e){for(let i=0;i<e.length;i++)this.gradients[i]||(this.gradients[i]=new cJ),this.gradients[i].setHighlightOptions(e[i]);for(let i=e.length+1;i<this.gradients.length;i++)this.gradients[i].destroy();this.gradients.length=e.length}destroy(){for(const e of this.gradients)e.destroy()}getReasonsWithGradients(){let e=1;const i=[];for(let n=0;n<this.gradients.length;n++){const a=this.gradients[n];i.push({activeReasons:e,activeGradient:a}),e<<=1}return i}};var mD,gD,vD,bD,wD,_D,Jw,SD,xD;(function(t){t[t.FILL=0]="FILL",t[t.LINE=1]="LINE",t[t.MARKER=2]="MARKER",t[t.TEXT=3]="TEXT",t[t.LABEL=4]="LABEL"})(mD||(mD={})),(function(t){t[t.NONE=0]="NONE",t[t.MAP=1]="MAP",t[t.LABEL=2]="LABEL",t[t.LABEL_ALPHA=4]="LABEL_ALPHA",t[t.HITTEST=8]="HITTEST",t[t.HIGHLIGHT=16]="HIGHLIGHT",t[t.CLIP=32]="CLIP",t[t.DEBUG=64]="DEBUG",t[t.NUM_DRAW_PHASES=9]="NUM_DRAW_PHASES"})(gD||(gD={})),(function(t){t[t.SIZE=0]="SIZE",t[t.COLOR=1]="COLOR",t[t.OPACITY=2]="OPACITY",t[t.ROTATION=3]="ROTATION"})(vD||(vD={})),(function(t){t[t.MINMAX_TARGETS_OUTLINE=128]="MINMAX_TARGETS_OUTLINE",t[t.SCALE_TARGETS_OUTLINE=256]="SCALE_TARGETS_OUTLINE",t[t.FIELD_TARGETS_OUTLINE=512]="FIELD_TARGETS_OUTLINE",t[t.UNIT_TARGETS_OUTLINE=1024]="UNIT_TARGETS_OUTLINE"})(bD||(bD={})),(function(t){t[t.SPRITE=0]="SPRITE",t[t.GLYPH=1]="GLYPH"})(wD||(wD={})),(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.SIMPLE=1]="SIMPLE",t[t.DOT_DENSITY=2]="DOT_DENSITY",t[t.OUTLINE_FILL=3]="OUTLINE_FILL",t[t.OUTLINE_FILL_SIMPLE=4]="OUTLINE_FILL_SIMPLE",t[t.HEATMAP=5]="HEATMAP",t[t.PIE_CHART=6]="PIE_CHART"})(_D||(_D={})),(function(t){t[t.All=0]="All",t[t.Highlight=1]="Highlight",t[t.InsideEffect=2]="InsideEffect",t[t.OutsideEffect=3]="OutsideEffect"})(Jw||(Jw={})),(function(t){t[t.BATCHING=0]="BATCHING",t[t.STRICT_ORDER=1]="STRICT_ORDER",t[t.STRICT_MARKERS_AND_TEXT=2]="STRICT_MARKERS_AND_TEXT"})(SD||(SD={})),(function(t){t[t.FILL=0]="FILL",t[t.LINE=1]="LINE",t[t.MARKER=2]="MARKER",t[t.TEXT=3]="TEXT"})(xD||(xD={}));const hJ={color:{write:[!0,!0,!0,!0],blendMode:"composite"},depth:!1,stencil:{write:!1,test:{ref:t=>t.stencilRef,compare:G8.EQUAL,mask:255,op:{fail:Ym.KEEP,zFail:Ym.KEEP,zPass:Ym.REPLACE}}}},sSt={color:{write:[!0,!0,!0,!0],blendMode:"additive"},depth:!1,stencil:!1},oSt={...hJ,color:{write:[!0,!0,!0,!0],blendMode:"delete"}};function aSt({pixelRatio:t,state:e,displayLevel:i,requiredLevel:n},a){const d=1/2**(i-a.key.level),y=1/2**(n-a.key.level);return{displayMat3:e.displayMat3,displayViewMat3:e.displayViewMat3,displayViewScreenMat3:a.transforms.displayViewScreenMat3,viewMat3:e.viewMat3,tileMat3:a.transforms.tileMat3,displayZoomFactor:d,requiredZoomFactor:y,tileOffset:[a.x,a.y],currentScale:e.scale,currentZoom:i,metersPerSRUnit:fl(e.spatialReference),rotation:e.rotation,pixelRatio:t}}function fJ(t){return t.passOptions?.type==="highlight"}function dJ(t){return t.passOptions?.type==="hittest"}function lSt(t){if(!dJ(t))return null;const{position:e,distance:i,smallSymbolDistance:n,smallSymbolSizeThreshold:a}=t.passOptions;return{position:e,distance:i,smallSymbolDistance:n,smallSymbolSizeThreshold:a}}function uSt(t){if(!fJ(t))return null;const{activeReasons:e,highlightAll:i}=t.passOptions;return{activeReasons:e,highlightAll:i?1:0}}function fPt(t,e,i){const n={};for(const a in i)typeof i[a]!="function"?n[a]=i[a]:n[a]=i[a](t,e);return n}function dPt(t,e){const{attributeView:i,context:n}=t;return{storage:i.getUniforms(n),view:aSt(t,e),hittestRequest:lSt(t),highlight:uSt(t)}}function pPt(t){return{inside:t.selection===Jw.InsideEffect,outside:t.selection===Jw.OutsideEffect}}function cSt(t){return dJ(t)?sSt:fJ(t)&&t.passOptions.stepType==="clear"?oSt:hJ}function yPt(t){const{row:e,col:i}=t.key,n=i*JI,a=e*JI;return{tileOffsetFromLocalOrigin:[n%y3,a%y3],maxIntsToLocalOrigin:[Math.floor(n/y3),Math.floor(a/y3)]}}const hSt=new wr({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch",mesh:"mesh"});function mPt(t){return hSt.toJSON(t)}function gPt(t){const{bandCount:e,attributeTable:i,colormap:n,pixelType:a}=t.raster.rasterInfo;return e===1&&(i!=null||n!=null||a==="u8"||a==="s8")}function fSt(t,e){return e==null?(t?.destroy(),null):(t?.type==="single"&&Array.isArray(e)&&(t.destroy(),t=null),t?.type!=="multi"||Array.isArray(e)||(t.destroy(),t=null),t||(t=Array.isArray(e)?new nSt:new cJ),Array.isArray(e)?t.type==="multi"&&t.setHighlightOptions(e):t.type==="single"&&t.setHighlightOptions(e),t)}function vPt(t,e,i,n){const{painter:a,highlightGradient:d}=t,{highlight:y}=a.effects;if(!d)return;const b=t.passOptions,S=d.getReasonsWithGradients();for(let T=0;T<S.length;T++){const C={...t,passOptions:{type:"highlight",activeGradient:S[T].activeGradient,activeReasons:S[T].activeReasons,stepType:"burn",highlightAll:e}};if(y.bind(C),i(C),T<S.length-1){let D=0;for(let z=T+1;z<S.length;z++)D|=S[z].activeReasons;i({...t,passOptions:{type:"highlight",activeGradient:S[T].activeGradient,activeReasons:D,stepType:"clear",highlightAll:e}})}const k={...t,passOptions:{type:"highlight",activeGradient:S[T].activeGradient,activeReasons:S[T].activeReasons,stepType:"draw",highlightAll:e}};a.setPipelineState(cSt(t)),a.updatePipelineState(t.context),y.draw(k),y.unbind()}t.passOptions=b}const g3=t=>parseFloat(t)/100;function dSt(t,e,i){const n=typeof t.left=="string"?g3(t.left)*e:t.left,a=typeof t.right=="string"?g3(t.right)*e:t.right,d=typeof t.top=="string"?g3(t.top)*i:t.top,y=typeof t.bottom=="string"?g3(t.bottom)*i:t.bottom,b=d;return{xmin:n,xmax:Math.max(e-a,n),ymin:b,ymax:Math.max(i-y,d)}}function pJ(t,e,i,n){switch(e.type){case"rect":{const{width:a,height:d}=t,{xmin:y,xmax:b,ymin:S,ymax:T}=dSt(e,a,d),{x:C,y:k}=i;return C>y&&C<b&&k>S&&k<T}case"path":return e.path.length===0||!Array.isArray(e.path[0][0])||ZT(e.path,[i.x,i.y]);case"geometry":return e.geometry==null||(e.geometry.type==="polygon"?XT(e.geometry,n):Gg(e.geometry,n))}}function pSt(t){if(!t.highlights)return null;const e=t.highlights.findIndex((i=>i.name==="default"));return e===-1?null:t.highlights.items[e]}function ySt(t,e){if(!t.highlights){if(!e)return;t.highlights=new me([new jc])}const i=t.highlights.findIndex((n=>n.name==="default"));e?t.highlights.items[i].assignFrom(e):(t.highlights.removeAt(i),t.highlights.length===0&&(t.highlights=null))}async function mSt(t,e,i){const n=jV(e)?LV(t,e):e;if(!t.ready||isNaN(n.x)||isNaN(n.y))return{screenPoint:n,results:[]};let a=new Set;const d=new Set;let y=!1,b=null,S=null;i?.include?ED(i.include,TD(t,(D=>{a.add(D),Y_(D,(z=>d.add(z)))}),((D,z)=>{d.add(D),a.add(z)}),(D=>{b||(b=new Set),b.add(D)}),(D=>a.add(D)),(()=>y=!0))):(y=!0,a=new Set(t.allLayerViews),a.forEach((D=>{Y_(D,(z=>d.add(z)))}))),i?.exclude&&ED(i.exclude,TD(t,(D=>{a.delete(D),Y_(D,(z=>d.delete(z)))}),(D=>d.delete(D)),(D=>{S||(S=new Set),S.add(D)})));const T=t.toMap(n),C=t.allLayerViews.filter((D=>!D.suspended&&a.has(D)&&D.clips.every((z=>pJ(t,z,n,T))))).reverse();let k=[...y?t.graphicsView.hitTest(T).map((D=>({type:"graphic",graphic:D,layer:null,mapPoint:T}))):[],...await Promise.all(C.map((D=>D.hitTest(T,n))).toArray())].filter(Bc).flat().filter(Bc);return k=k.filter((D=>D.type!=="graphic"||D.layer?.type!=="subtype-group"||d.has(D.graphic.layer))),b&&(k=k.filter((D=>!("graphic"in D)||!D.graphic||b?.has(V8(D.graphic))))),S&&(k=k.filter((D=>!("graphic"in D)||!D.graphic||!S?.has(V8(D.graphic))))),{screenPoint:n,results:k}}function TD(t,e,i,n,a,d){return y=>{if(y instanceof Ii){if(y.layer===t)d?.();else{const b=t.allLayerViews.find((S=>S.layer===y.layer));b&&a?.(b)}n(V8(y))}else if(!("layer"in y&&"element"in y))if(y.type==="subtype-sublayer"){const b=t.allLayerViews.find((S=>S.layer===y.parent));b&&i(y,b)}else{const b=t.allLayerViews.find((S=>S.layer===y));b&&e(b)}}}function ED(t,e){if(t)if(Ob(t))for(const i of t)if(Ob(i))for(const n of i)e(n);else e(i);else e(t)}function V8(t){const e=t.getObjectId();return e?`${t.layer?.uid??t.sourceLayer?.uid??"MapView"}/${e}`:`"MapView/${t.uid}`}function Y_({layer:t},e){t?.type==="subtype-group"&&t.sublayers.forEach((i=>{e(i)}))}let Cy=null,Yw=!0;function gSt(t,e,i){if(!t||!e)throw new Error("Cannot construct image data without dimensions");if(Yw)try{return new ImageData(t,e)}catch{Yw=!1}return yJ(t,e,i)}function bPt(t,e,i,n){if(!e||!i)throw new Error("Cannot construct image data without dimensions");if(Yw)try{return new ImageData(t,e,i)}catch{Yw=!1}const a=yJ(e,i,n);return a.data.set(t,0),a}function vSt(){return Cy||(Cy=document.createElement("canvas"),Cy.width=1,Cy.height=1),Cy}function yJ(t,e,i){return i||(i=vSt()),i.getContext("2d").createImageData(t,e)}async function bSt(t,e){const i=window.URL.createObjectURL(t);try{const{data:n}=await Di(i,{...e,responseType:"image"});return n}catch(n){throw cs(n)?n:new Lt("invalid-image",`Could not fetch requested image at ${i}`)}finally{window.URL.revokeObjectURL(i)}}async function wPt(t,e){const{arrayBuffer:i,mediaType:n}=await wSt(t,e),a=n==="image/png";if(n==="image/gif"){const{isAnimatedGIF:d,parseGif:y}=await te(()=>import("./gif--eKLkARD.js"),[]);if(d(i))return y(i,e)}if(a){const{isAnimatedPNG:d,parseApng:y}=await te(()=>import("./apng-DriDSIIV.js"),[]);if(d(i))return y(i,e)}return bSt(new Blob([i],{type:n}),e)}async function wSt(t,e){const i=pp(t);if(i?.isBase64)return{arrayBuffer:Kj(i.data),mediaType:i.mediaType};const n=await Di(t,{responseType:"array-buffer",...e});return{arrayBuffer:n.data,mediaType:n.getHeader?.("Content-Type")??""}}function mJ(t,e,i){const{ctx:n,canvas:a}=vJ(t,i),d=n.getImageData(0,0,t.width,t.height),y=wJ(a,e);return bJ(a),{dataUrl:y,data:d}}function gJ(t,e){const{ctx:i,canvas:n}=vJ(t,e),a=i.getImageData(0,0,t.width,t.height);return bJ(n),a}function vJ(t,e){const i=_St();e.premultipliedAlpha&&ESt(t),i.width=t.width,i.height=t.height;const n=i.getContext("2d",{willReadFrequently:!0});return n.putImageData(t,0,0),e.flipY&&TSt(n),{ctx:n,canvas:i}}function bJ(t){t.width=0,t.height=0}function _St(){return K_==null&&(K_=document.createElement("canvas")),K_}let K_=null;function wJ(t,e){const i=MSt[e.format],n=e.quality/100;return t.toDataURL(i,n)}function _J(t,e){const i=xSt(t),n=RSt[i];return{format:i,quality:Ea(e??n,0,100)}}function SJ(t,e){return e/Math.max(t[0],t[1])}function SSt(t,e,i,n=0,a=0,d=t.width-n,y=t.height-a,b=!1){const{data:S}=t,{width:T,height:C,data:k}=e,D=d/T,z=y/C,G=Math.ceil(D/2),B=Math.ceil(z/2),H=t.width;for(let X=0;X<C;X++)for(let et=0;et<T;et++){const rt=4*(et+(b?C-X-1:X)*T);let it=0,ot=0,pt=0,yt=0,ft=0,vt=0;const Ct=(X+.5)*z;for(let Dt=Math.floor(X*z);Dt<(X+1)*z;Dt++){const zt=Math.abs(Ct-(Dt+.5))/B,Wt=(et+.5)*D,Xt=zt*zt;for(let re=Math.floor(et*D);re<(et+1)*D;re++){const _t=Math.abs(Wt-(re+.5))/G,It=Math.sqrt(Xt+_t*_t);if(It>=1)continue;let $t=2*It*It*It-3*It*It+1;const ge=4*(n+re+(a+Dt)*H);vt+=$t*S[ge+3],ot+=$t,!i&&S[ge+3]<255&&($t=$t*S[ge+3]/255),pt+=$t*S[ge],yt+=$t*S[ge+1],ft+=$t*S[ge+2],it+=$t}}k[rt]=pt/it,k[rt+1]=yt/it,k[rt+2]=ft/it,k[rt+3]=vt/ot}return e}function xSt(t){switch(t){case"png":case"jpg":case"jpeg":return t;default:return ASt}}function TSt(t){t.save(),t.globalCompositeOperation="copy",t.scale(1,-1),t.translate(0,-t.canvas.height),t.drawImage(t.canvas,0,0),t.restore()}function ESt(t){const e=t.data,i=e.length;for(let n=0;n<i;n+=4){const a=e[n+3];if(a!==255&&a>0){const d=255/a;e[n]=e[n]*d,e[n+1]=e[n+1]*d,e[n+2]=e[n+2]*d}}}const MSt={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},MD=98,ASt="png",RSt={png:100,jpg:MD,jpeg:MD},_Pt=Object.freeze(Object.defineProperty({__proto__:null,createEmptyImageData:gSt,encode:mJ,encodeData:gJ,getFormatAndQuality:_J,getMaximumResolutionScale:SJ,resampleHermite:SSt,toDataUrl:wJ},Symbol.toStringTag,{value:"Module"})),xJ={flipY:!0,premultipliedAlpha:!0};async function CSt(t,e){const i=await TJ(t,e),{format:n,quality:a}=_J(e?.format,e?.quality);return mJ(i,{format:n,quality:a},xJ)}async function OSt(t,e){const i=await TJ(t,e);return gJ(i,xJ)}function TJ(t,e){const i=kSt(e||{},NSt(t.stage,t.size),t.size,t.padding),n=$St(e,t.allLayerViews);return t.stage.takeScreenshot(i,n,t.backgroundColor,e?.rotation)}function $St(t={},e){if(!t.layers)return;const i=[];return t.layers.forEach((n=>{const a=e.find((d=>d.layer.id===n.id));a?.container&&i.push(a.container)})),i}function NSt(t,e){return Math.min(4,SJ(e,Math.min(4096,t.context.parameters.maxTextureSize)))}function kSt(t,e,i,n){t.ignorePadding&&(n={left:0,right:0,top:0,bottom:0});let a=null;t.width!=null&&t.height!=null?a=[t.width,t.height]:t.width==null&&t.height!=null?a=[t.height,t.height]:t.width!=null&&t.height==null?a=[t.width,t.width]:t.width==null&&t.height==null&&(a=null);const d=i[0]-(n.left+n.right),y=i[1]-(n.top+n.bottom);let b,S,T=t.area||{x:0,y:0,width:d,height:y};if(a){const C=d/y,k=a[0]/a[1];if(k>C){const D=T.width/k;T={x:T.x,y:Math.round(T.y+(T.height-D)/2),width:T.width,height:Math.round(D)}}else{const D=T.height*k;T={x:Math.round(T.x+(T.width-D)/2),y:T.y,width:Math.round(D),height:T.height}}}else a=[T.width,T.height];return a[0]>T.width?(b=Math.min(a[0]/T.width,e),S=a[0]/T.width/b):(b=1,S=a[0]/T.width),{cropArea:{x:Math.round((T.x+n.left)*b),y:Math.round((T.y+n.top)*b),width:Math.round(T.width*b),height:Math.round(T.height*b)},outputScale:S,resolutionScale:b}}const PSt=t=>t.includes("Brush");let EJ=class{constructor(){this._names=new Map}begin(e){this._names.has(e)||(this._names.set(e,!1),PSt(e)&&this.record("Esri.FirstDraw"),performance.mark(`Esri.${e}.Start`))}end(e){this._names.has(e)&&!this._names.get(e)&&(this._names.set(e,!0),performance.mark(`Esri.${e}.End`))}record(e){this._names.has(e)||(this._names.set(e,!0),performance.mark(`Esri.${e}`))}},ISt=class{constructor(e){this.getUnmaskedRenderer=e}};function DSt(t){const e=t.getExtension("WEBGL_debug_renderer_info");return e?new ISt((()=>t.getParameter(e.UNMASKED_RENDERER_WEBGL))):null}let AD;function LSt(){return AD??=USt(),AD}let jSt=class{constructor(){this.available=!1,this.majorPerformanceCaveat=!1,this.maxTextureSize=0,this.supportsVertexShaderSamplers=!1,this.supportsHighPrecisionFragment=!1,this.supportsColorBufferFloat=!1,this.supportsColorBufferFloatBlend=!1,this.supportsColorBufferHalfFloat=!1,this.unmaskedRenderer="unloaded"}};function zSt(t){if(typeof WebGL2RenderingContext>"u")return null;const e=document.createElement("canvas");if(!e)return null;let i=e.getContext("webgl2",{failIfMajorPerformanceCaveat:!0});if(i==null&&(i=e.getContext("webgl2"),i!=null&&(t.majorPerformanceCaveat=!0,t.unmaskedRenderer=DSt(i)?.getUnmaskedRenderer()??"unknown")),i==null)return i;t.available=!0,t.maxTextureSize=i.getParameter(i.MAX_TEXTURE_SIZE),t.supportsVertexShaderSamplers=i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;const n=i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT);return n&&(t.supportsHighPrecisionFragment=n.precision>0),i}function USt(){const t=new jSt,e=zSt(t);return e==null||(t.supportsColorBufferFloat=e.getExtension("EXT_color_buffer_float")!==null,t.supportsColorBufferFloatBlend=e.getExtension("EXT_float_blend")!==null,t.supportsColorBufferHalfFloat=t.supportsColorBufferFloat||e.getExtension("EXT_color_buffer_half_float")!==null),t}function FSt(t){const e=LSt();return e.available?t==="3d"&&e.majorPerformanceCaveat?new Lt("webgl:major-performance-caveat-detected",`Your WebGL implementation (${e.unmaskedRenderer}) doesn't seem to support hardware accelerated rendering. Check your browser settings or if your GPU is in a blocklist.`):e.supportsHighPrecisionFragment?e.supportsVertexShaderSamplers?null:new Lt("webgl:vertex-shader-samplers-required","WebGL support for vertex shader samplers is required but not supported."):new Lt("webgl:high-precision-fragment-required","WebGL support for high precision fragment shaders is required but not supported."):new Lt("webgl:required","WebGL2 is required but not supported.",new Error().stack)}function BSt(t){return t&&"nodeType"in t}function GSt(t){return t&&typeof t.render=="function"}const RD={component:"esri-component"};let Jh=class extends ve{constructor(){super(...arguments),this.widget=null}destroy(){this.node=null,this.widget?.destroy()}get id(){return this._get("id")??this.widget?.id??this.node?.id}set id(e){this._set("id",e)}set node(e){const i=this._get("node");e!==i&&(e&&e.classList.add(RD.component),i&&i.classList.remove(RD.component),this._set("node",e))}castNode(e){return this.widget?.destroy(),e?typeof e=="string"||BSt(e)?(this._set("widget",null),gM(e)):(GSt(e)&&!e.domNode&&(e.domNode=document.createElement("div")),this._set("widget",e),e.domNode):(this._set("widget",null),null)}};E([N()],Jh.prototype,"id",null),E([N()],Jh.prototype,"node",null),E([on("node")],Jh.prototype,"castNode",null),E([N({readOnly:!0})],Jh.prototype,"widget",void 0),Jh=E([ut("esri.views.ui.Component")],Jh);const wb=Jh,MJ="calcite-mode-",AJ="dark",qSt="light",HSt=/\W/g,VSt="--esri-calcite-mode-name";function RJ(){return getComputedStyle(document.body).getPropertyValue(VSt).replaceAll(HSt,"").toLowerCase()}function MPt(){return RJ()===AJ}function WSt(){const t=RJ();switch(t){case AJ:case qSt:return`${MJ}${t}`;default:return null}}function JSt(t){const e=WSt();e&&(YSt(t),t.classList.add(e))}function YSt(t){Array.from(t.classList).forEach((e=>{e.startsWith(MJ)&&t.classList.remove(e)}))}const s9=new Map;function CJ(){s9.clear()}function KSt(t){return s9.get(t)}function XSt(t,e){s9.set(t,e)}function X_(t){s9.delete(t)}function ZSt(...t){const e=os.acquire();for(let n=0;n<t.length;n++){const a=t[n],d=typeof a;if(d==="string")e.push(a);else if(Array.isArray(a))e.push.apply(e,a);else if(d==="object")for(const y in a)a[y]&&e.push(y)}const i=e.join(" ");return os.release(e),i}(()=>{const t=new Map,e=new ResizeObserver((n=>{CJ();for(const a of n)t.get(a.target)?.(a)})),i=(n,a,d)=>(t.set(n,a),e.observe(n,d),ui((()=>{e.unobserve(n),t.delete(n)})));return(n,a,d)=>{let y=null;return Vf([Ce((()=>typeof n=="function"?n():n),(b=>{y?.remove(),b&&(y=i(b,a,d))}),ss),ui((()=>y?.remove()))])}})();function QSt(t){const e=t?.closest("[dir]");return e!==null&&e instanceof HTMLElement&&e.dir==="rtl"||document.dir==="rtl"}function APt(t){const e="data-node-ref";this[t.getAttribute(e)]=null}function RPt(t){const e="data-node-ref";this[t.getAttribute(e)]=t}function txt(t){return t==="Enter"||t===" "}async function ext(t,e){await bet(Lg(e));const i=typeof t=="function"?t():t;i&&("setFocus"in i&&typeof i.setFocus=="function"?await i.setFocus():i instanceof HTMLElement&&i.focus())}const ixt={left:0,top:0,bottom:0,right:0},OJ={bottom:30,top:15,right:15,left:15},Ll="esri-ui",vs={ui:Ll,corner:`${Ll}-corner`,innerContainer:`${Ll}-inner-container`,manualContainer:`${Ll}-manual-container`,cornerContainer:`${Ll}-corner-container`,topLeft:`${Ll}-top-left`,topRight:`${Ll}-top-right`,bottomLeft:`${Ll}-bottom-left`,bottomRight:`${Ll}-bottom-right`};function rxt(t){return t&&!t._started&&typeof t.postMixInProperties=="function"&&typeof t.buildRendering=="function"&&typeof t.postCreate=="function"&&typeof t.startup=="function"}function v3(t){return t===0?"0":`${t}px`}function Z_(t){const e=typeof t=="object"&&t!==null&&Object.getPrototypeOf(t);return(e===null||e===Object.prototype)&&("component"in t||"index"in t||"position"in t)?t:null}function Q_(t,{top:e,bottom:i,left:n,right:a}){t.style.top=e,t.style.bottom=i,t.style.left=n,t.style.right=a}let qa=class extends gu.EventedAccessor{constructor(e){super(e),this._cornerNameToContainerLookup={},this._positionNameToContainerLookup={},this._components=new Array,this._componentMap=new Map,this._removeWidgetHandleKey=Symbol("componentOnRemoveSymbol"),this._locale=Fo(),this.view=null,this._applyViewPadding=()=>{const i=this.container;i&&Q_(i,this._toPixelPosition(this._getViewPadding()))},this._applyUIPadding=()=>{const i=this._innerContainer;i&&Q_(i,this._toPixelPosition(this.padding))},this._initContainers()}initialize(){this.addHandles([Ce((()=>[this.view?.padding,this.container]),this._applyViewPadding,Qn),Ce((()=>this.padding),this._applyUIPadding,Qn),Ce((()=>[this.container,this._locale]),(([e,i])=>{e&&e.setAttribute("lang",i)}),Qn),$G((e=>{this._locale=e}))])}destroy(){this.container=null;for(const e of this._components)e.destroy();this._components.length=0,this._componentMap.clear()}set container(e){const i=this._get("container");e!==i&&(e&&(e.classList.add(vs.ui),JSt(e),this._attachContainers(e)),i&&(i.classList.remove(vs.ui),Q_(i,{top:"",bottom:"",left:"",right:""}),i.textContent=""),this._set("container",e))}get height(){const e=this.view?.height??0;if(e===0)return e;const i=this._getViewPadding(),{top:n,bottom:a}=i;return Math.max(e-n-a,0)}get padding(){return this._get("padding")}set padding(e){this._overrideIfSome("padding",e)}castPadding(e){return typeof e=="number"?{bottom:e,top:e,right:e,left:e}:{...OJ,...e}}get width(){const e=this.view?.width??0;if(e===0)return e;const i=this._getViewPadding(),{left:n,right:a}=i;return Math.max(e-n-a,0)}add(e,i){let n,a,d;if(Array.isArray(e))return void e.forEach((b=>this.add(b,i)));const y=Z_(e);y&&({index:n,position:i,component:e,key:a}=y),i&&typeof i=="object"&&({index:n,key:a,position:i,internal:d}=i),!e||i&&!this._isValidPosition(i)||this._add(e,i,n??this._getNumComponentsAtPosition(i),a,d)}remove(e,i){if(!e)return;if(Array.isArray(e))return e.map((a=>this.remove(a,i)));const n=this._find(e);if(n){const a=this._componentMap.get(n);if(!a||a.key!==i)return;const d=this._components.indexOf(n);return n.node.parentNode?.removeChild(n.node),this._componentMap.delete(n),n.widget?.removeHandlesReference(this._removeWidgetHandleKey),this._components.forEach((b=>{const S=this._componentMap.get(b);S&&S.position===a.position&&S.index>a.index&&S.index--})),this._components.splice(d,1)[0]}}empty(e,i={removeInternal:!1}){if(Array.isArray(e)){for(const d of e)this.empty(d,i);return}const n=this._positionNameToContainerLookup[e??"manual"],a=Array.prototype.slice.call(n.children).map((d=>this._findByNode(d))).filter((d=>d==null?!1:!(this._componentMap.get(d)?.internal??!1)||i.removeInternal));for(const d of a)this.remove(d)}move(e,i){if(Array.isArray(e)&&e.forEach((y=>this.move(y,i))),!e)return;let n;const a=Z_(e)||Z_(i);if(a&&(n=a.index,i=a.position,e=a.component||e),i&&!this._isValidPosition(i))return;const d=this.remove(e);d&&this.add(d,{position:i,index:n})}find(e){if(!e)return null;const i=this._findById(e);return i&&(i.widget||i.node)}getComponents(e,i={includeInternal:!1}){return e?Array.isArray(e)?e.flatMap((n=>this._getComponentsAtPosition(n,i))):this._getComponentsAtPosition(e,i):this._components.filter((n=>i.includeInternal||!this._componentMap.get(n)?.internal)).map((({widget:n,node:a})=>n??a))}getPosition(e){for(const i in this._positionNameToContainerLookup)if(this._positionNameToContainerLookup[i].contains(e))return i;return null}_add(e,i,n,a,d){e instanceof wb||(e=new wb({node:e}));const{widget:y}=e;y!=null&&y instanceof ve&&y.addHandles(ui((()=>{queueMicrotask((()=>this.remove(e)))})),this._removeWidgetHandleKey),this._components.some((b=>this._componentMap.get(b)?.position===i&&this._componentMap.get(b)?.index===n))&&this._components.forEach((b=>{const S=this._componentMap.get(b);S&&S.position===i&&S.index>=n&&S.index++})),this._place({component:e,position:i,index:n}),this._components.push(e),this._componentMap.set(e,{key:a,position:i,internal:d,index:n})}_find(e){return e?e instanceof wb?this._findByComponent(e):typeof e=="string"?this._findById(e):"domNode"in e?this._findByNode(e.domNode):this._findByNode(e):null}_getViewPadding(){return this.view?.padding??ixt}_attachContainers(e){e.appendChild(this._innerContainer),e.appendChild(this._manualContainer)}_initContainers(){const e=document.createElement("div");e.classList.add(vs.innerContainer,vs.cornerContainer);const i=document.createElement("div");i.classList.add(vs.innerContainer,vs.manualContainer);const n=document.createElement("div");n.classList.add(vs.topLeft,vs.corner),e.appendChild(n);const a=document.createElement("div");a.classList.add(vs.topRight,vs.corner),e.appendChild(a);const d=document.createElement("div");d.classList.add(vs.bottomLeft,vs.corner),e.appendChild(d);const y=document.createElement("div");y.classList.add(vs.bottomRight,vs.corner),e.appendChild(y),this._innerContainer=e,this._manualContainer=i;const b=QSt();this._cornerNameToContainerLookup={"top-left":n,"top-right":a,"bottom-left":d,"bottom-right":y,"top-leading":b?a:n,"top-trailing":b?n:a,"bottom-leading":b?y:d,"bottom-trailing":b?d:y},this._positionNameToContainerLookup={manual:i,...this._cornerNameToContainerLookup}}_isValidPosition(e){return!!this._positionNameToContainerLookup[e]}_place(e){const i=e.position??"manual",{component:n,index:a}=e,d=this._positionNameToContainerLookup[i],y=a!=null&&a>-1;if(rxt(n.widget)&&n.widget.startup(),!y)return void d.appendChild(n.node);const b=Array.from(d.children);if(b.length!==0){for(const S of b){const T=this._findByNode(S);if(T&&a<(this._componentMap.get(T)?.index??0))return void S.parentNode?.insertBefore(n.node,S)}d.appendChild(n.node)}else d.appendChild(n.node)}_toPixelPosition(e){return{top:v3(e.top),left:v3(e.left),right:v3(e.right),bottom:v3(e.bottom)}}_findByComponent(e){return this._components.find((i=>i===e))??null}_findById(e){return this._components.find((({id:i})=>i===e))??null}_findByNode(e){return e?this._components.find((({node:i})=>i===e)):null}_getComponentsAtPosition(e,i){const n=this._positionNameToContainerLookup[e];return Array.prototype.slice.call(n.children).map((a=>this._findByNode(a))).filter(Bc).filter((a=>i.includeInternal||!this._componentMap.get(a)?.internal)).map((({widget:a,node:d})=>a??d))}_getNumComponentsAtPosition(e){return this._positionNameToContainerLookup[e]?.children.length??0}};E([N()],qa.prototype,"_locale",void 0),E([N()],qa.prototype,"container",null),E([N()],qa.prototype,"height",null),E([N({value:OJ})],qa.prototype,"padding",null),E([on("padding")],qa.prototype,"castPadding",null),E([N()],qa.prototype,"view",void 0),E([N()],qa.prototype,"width",null),qa=E([ut("esri.views.ui.UI")],qa);const nxt=qa,sxt={handleInterceptedEvent:(t,e,i,n)=>(t.scheduleRender(),e.properties[`on${n.type}`].apply(e.properties.bind||i,[n]))},oxt={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(t,e,i)=>{e.charAt(0)==="-"?t.style.setProperty(e,i):t.style[e]=i}},axt=t=>({...oxt,...t}),lxt=(t,e)=>{const i=[];for(;t&&t!==e;)i.push(t),t=t.parentNode;return i},uxt=(t,e)=>t.find(e),CD=(t,e,i=!1)=>{let n=t;return e.forEach(((a,d)=>{const y=n?.children?uxt(n.children,(b=>b.domNode===a)):void 0;i&&!y&&d!==e.length-1||(n=y)})),n},cxt=t=>{let e;const i={...sxt,...t},n=axt(i),a=n.performanceLogger;let d,y=!0,b=!1;const S=[],T=[],C=(D,z,G)=>{let B;n.eventHandlerInterceptor=(X,et,rt,it)=>function(ot){let pt;a("domEvent",ot);const yt=lxt(ot.currentTarget,B.domNode),ft=yt.some((Ct=>customElements.get(Ct?.tagName?.toLowerCase())));if(ot.eventPhase===Event.CAPTURING_PHASE||!ft)yt.reverse(),pt=CD(B.getLastRender(),yt);else{const Ct=ot.composedPath(),Dt=Ct.slice(Ct.indexOf(ot.currentTarget),Ct.indexOf(B.domNode)).reverse();pt=CD(B.getLastRender(),Dt,!0)}let vt;return pt&&(vt=i.handleInterceptedEvent(e,pt,this,ot)),a("domEventProcessed",ot),vt},i.postProcessProjectionOptions?.(n);const H=G();B=D(z,H,n),n.eventHandlerInterceptor=void 0,S.push(B),T.push(G),i.afterFirstVNodeRendered&&i.afterFirstVNodeRendered(B,H)};let k=()=>{if(d=void 0,y){y=!1,a("renderStart",void 0);for(let D=0;D<S.length;D++){const z=T[D]();a("rendered",void 0);try{S[D].update(z)}catch(G){console.error(G)}a("patched",void 0)}a("renderDone",void 0),y=!0}};return i.modifyDoRenderImplementation&&(k=i.modifyDoRenderImplementation(k,S,T)),e={renderNow:k,scheduleRender:()=>{d||b||(d=requestAnimationFrame(k))},stop:()=>{d&&(cancelAnimationFrame(d),d=void 0),b=!0},resume:()=>{b=!1,y=!0,e.scheduleRender()},append:(D,z)=>{C(Pc.append,D,z)},insertBefore:(D,z)=>{C(Pc.insertBefore,D,z)},merge:(D,z)=>{C(Pc.merge,D,z)},replace:(D,z)=>{C(Pc.replace,D,z)},detach:D=>{for(let z=0;z<T.length;z++)if(T[z]===D)return T.splice(z,1),S.splice(z,1)[0];throw new Error("renderFunction was not found")}},e};class Ag{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}const hxt=(t,e)=>{let i=t;for(;i;){if(i===e)return!0;if(!i.parentNode)return!1;i.parentNode instanceof ShadowRoot?i=i.parentNode.host:i=i.parentNode}return!1},fxt=(t,e,i)=>{const n=dxt(e).subscribe;return n(a=>{a.some(y=>hxt(t,y.target))&&i()})},tS={},dxt=t=>{const e=t.join(","),i=tS[e];if(i!==void 0)return i;const n=new Set,a=new MutationObserver(y=>n.forEach(b=>b(y)));globalThis.document&&a.observe(document.documentElement,{attributes:!0,attributeFilter:t,subtree:!0});const d={subscribe:y=>(n.add(y),()=>{n.delete(y),n.size===0&&(a.disconnect(),tS[e]=void 0)})};return tS[e]=d,d},pxt=(t,e)=>{let i=t;for(;i;){const n=i.closest?.(e);if(n)return n;const a=i.getRootNode?.();if(a===globalThis.document)return null;i=a.host}return null},yxt=(t,e,i)=>pxt(t,`[${e}]`)?.getAttribute(e)??i,mr=(t,e,...i)=>{try{return t?.call(e,...i)}catch(n){console.error(n,t)}},W8=async(t,e,...i)=>{try{return await t?.call(e,...i)}catch(n){console.error(n,t)}},mxt="ar,bg,bs,ca,cs,da,de,el,en,es,et,fi,fr,he,hr,hu,id,it,ja,ko,lt,lv,nl,nb,no,pl,pt-BR,pt-PT,ro,ru,sk,sl,sr,sv,th,tr,uk,vi,zh-CN,zh-HK,zh-TW".split(","),gxt=new Set(mxt),Kw="en",vxt={pt:"pt-PT",nb:"no",nn:"no",zh:"zh-CN"},bxt=async(t,e,i="")=>{const n=`${e}/${i}`,a=`${n}${t}.json`;return eS[a]??(eS[a]=$J(t,n)),await eS[a]},eS={},$J=async(t,e)=>{const i=`${e}${t}.json`;try{const n=await fetch(i);if(n.ok)return await n.json()}catch(n){return console.error(n),{}}return t===Kw?{}:await $J(Kw,e)},wxt=t=>{const e=yxt(t,"lang",globalThis.navigator?.language||Kw);return{lang:e,t9nLocale:NJ(e)}},NJ=t=>{const[e,i]=t.split("-"),n=e.toLowerCase();let a=n;return i&&(a=`${n}-${i.toUpperCase()}`),a=vxt[a]??a,gxt.has(a)?a:i?NJ(n):Kw},OPt=(t,e,i,n)=>{let a;const d=()=>_xt(t,e(),n).then(y=>{(a?.lang!==y.lang||a.t9nLocale!==y.t9nLocale||a.t9nStrings!==y.t9nStrings)&&i(y),a=y}).catch(console.error);return queueMicrotask(d),fxt(t,["lang"],d)},_xt=async(t,e,i=t.localName.split("-").slice(1).join("-"))=>{const{lang:n,t9nLocale:a}=wxt(t),d=`${e}/${i}/t9n`,b=i===null?{}:await bxt(a,d,"messages.");return{lang:n,t9nLocale:a,t9nStrings:b}},Sxt=t=>t.replace(xxt,(e,i)=>`${i===0?"":"-"}${e.toLowerCase()}`),xxt=/[A-Z]+(?![a-z])|[A-Z]/gu,Txt=(t,e)=>{const i=e/Ext;let n=0;const a=setInterval(()=>{n+=i,n>=e&&(clearInterval(a),t())},i);return a},Ext=4;/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const _b=globalThis,LM=_b.ShadowRoot&&(_b.ShadyCSS===void 0||_b.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,jM=Symbol(),OD=new WeakMap;let kJ=class{constructor(e,i,n){if(this._$cssResult$=!0,n!==jM)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=i}get styleSheet(){let e=this.o;const i=this.t;if(LM&&e===void 0){const n=i!==void 0&&i.length===1;n&&(e=OD.get(i)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&OD.set(i,e))}return e}toString(){return this.cssText}};const Mxt=t=>new kJ(typeof t=="string"?t:t+"",void 0,jM),NPt=(t,...e)=>{const i=t.length===1?t[0]:e.reduce(((n,a,d)=>n+(y=>{if(y._$cssResult$===!0)return y.cssText;if(typeof y=="number")return y;throw Error("Value passed to 'css' function must be a 'css' function result: "+y+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(a)+t[d+1]),t[0]);return new kJ(i,t,jM)},Axt=(t,e)=>{if(LM)t.adoptedStyleSheets=e.map((i=>i instanceof CSSStyleSheet?i:i.styleSheet));else for(const i of e){const n=document.createElement("style"),a=_b.litNonce;a!==void 0&&n.setAttribute("nonce",a),n.textContent=i.cssText,t.appendChild(n)}},$D=LM?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let i="";for(const n of e.cssRules)i+=n.cssText;return Mxt(i)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:Rxt,defineProperty:Cxt,getOwnPropertyDescriptor:Oxt,getOwnPropertyNames:$xt,getOwnPropertySymbols:Nxt,getPrototypeOf:kxt}=Object,o9=globalThis,ND=o9.trustedTypes,Pxt=ND?ND.emptyScript:"",Ixt=o9.reactiveElementPolyfillSupport,Km=(t,e)=>t,J8={toAttribute(t,e){switch(e){case Boolean:t=t?Pxt:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let i=t;switch(e){case Boolean:i=t!==null;break;case Number:i=t===null?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t)}catch{i=null}}return i}},zM=(t,e)=>!Rxt(t,e),kD={attribute:!0,type:String,converter:J8,reflect:!1,useDefault:!1,hasChanged:zM};Symbol.metadata??=Symbol("metadata"),o9.litPropertyMetadata??=new WeakMap;let u0=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,i=kD){if(i.state&&(i.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((i=Object.create(i)).wrapped=!0),this.elementProperties.set(e,i),!i.noAccessor){const n=Symbol(),a=this.getPropertyDescriptor(e,n,i);a!==void 0&&Cxt(this.prototype,e,a)}}static getPropertyDescriptor(e,i,n){const{get:a,set:d}=Oxt(this.prototype,e)??{get(){return this[i]},set(y){this[i]=y}};return{get:a,set(y){const b=a?.call(this);d?.call(this,y),this.requestUpdate(e,b,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??kD}static _$Ei(){if(this.hasOwnProperty(Km("elementProperties")))return;const e=kxt(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(Km("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Km("properties"))){const i=this.properties,n=[...$xt(i),...Nxt(i)];for(const a of n)this.createProperty(a,i[a])}const e=this[Symbol.metadata];if(e!==null){const i=litPropertyMetadata.get(e);if(i!==void 0)for(const[n,a]of i)this.elementProperties.set(n,a)}this._$Eh=new Map;for(const[i,n]of this.elementProperties){const a=this._$Eu(i,n);a!==void 0&&this._$Eh.set(a,i)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const i=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const a of n)i.unshift($D(a))}else e!==void 0&&i.push($D(e));return i}static _$Eu(e,i){const n=i.attribute;return n===!1?void 0:typeof n=="string"?n:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((e=>e(this)))}addController(e){(this._$EO??=new Set).add(e),this.renderRoot!==void 0&&this.isConnected&&e.hostConnected?.()}removeController(e){this._$EO?.delete(e)}_$E_(){const e=new Map,i=this.constructor.elementProperties;for(const n of i.keys())this.hasOwnProperty(n)&&(e.set(n,this[n]),delete this[n]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return Axt(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((e=>e.hostConnected?.()))}enableUpdating(e){}disconnectedCallback(){this._$EO?.forEach((e=>e.hostDisconnected?.()))}attributeChangedCallback(e,i,n){this._$AK(e,n)}_$ET(e,i){const n=this.constructor.elementProperties.get(e),a=this.constructor._$Eu(e,n);if(a!==void 0&&n.reflect===!0){const d=(n.converter?.toAttribute!==void 0?n.converter:J8).toAttribute(i,n.type);this._$Em=e,d==null?this.removeAttribute(a):this.setAttribute(a,d),this._$Em=null}}_$AK(e,i){const n=this.constructor,a=n._$Eh.get(e);if(a!==void 0&&this._$Em!==a){const d=n.getPropertyOptions(a),y=typeof d.converter=="function"?{fromAttribute:d.converter}:d.converter?.fromAttribute!==void 0?d.converter:J8;this._$Em=a;const b=y.fromAttribute(i,d.type);this[a]=b??this._$Ej?.get(a)??b,this._$Em=null}}requestUpdate(e,i,n){if(e!==void 0){const a=this.constructor,d=this[e];if(n??=a.getPropertyOptions(e),!((n.hasChanged??zM)(d,i)||n.useDefault&&n.reflect&&d===this._$Ej?.get(e)&&!this.hasAttribute(a._$Eu(e,n))))return;this.C(e,i,n)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,i,{useDefault:n,reflect:a,wrapped:d},y){n&&!(this._$Ej??=new Map).has(e)&&(this._$Ej.set(e,y??i??this[e]),d!==!0||y!==void 0)||(this._$AL.has(e)||(this.hasUpdated||n||(i=void 0),this._$AL.set(e,i)),a===!0&&this._$Em!==e&&(this._$Eq??=new Set).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(i){Promise.reject(i)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[a,d]of this._$Ep)this[a]=d;this._$Ep=void 0}const n=this.constructor.elementProperties;if(n.size>0)for(const[a,d]of n){const{wrapped:y}=d,b=this[a];y!==!0||this._$AL.has(a)||b===void 0||this.C(a,void 0,d,b)}}let e=!1;const i=this._$AL;try{e=this.shouldUpdate(i),e?(this.willUpdate(i),this._$EO?.forEach((n=>n.hostUpdate?.())),this.update(i)):this._$EM()}catch(n){throw e=!1,this._$EM(),n}e&&this._$AE(i)}willUpdate(e){}_$AE(e){this._$EO?.forEach((i=>i.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&=this._$Eq.forEach((i=>this._$ET(i,this[i]))),this._$EM()}updated(e){}firstUpdated(e){}};u0.elementStyles=[],u0.shadowRootOptions={mode:"open"},u0[Km("elementProperties")]=new Map,u0[Km("finalized")]=new Map,Ixt?.({ReactiveElement:u0}),(o9.reactiveElementVersions??=[]).push("2.1.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const UM=globalThis,Xw=UM.trustedTypes,PD=Xw?Xw.createPolicy("lit-html",{createHTML:t=>t}):void 0,PJ="$lit$",Mc=`lit$${Math.random().toFixed(9).slice(2)}$`,IJ="?"+Mc,Dxt=`<${IJ}>`,qf=document,Rg=()=>qf.createComment(""),Cg=t=>t===null||typeof t!="object"&&typeof t!="function",FM=Array.isArray,Lxt=t=>FM(t)||typeof t?.[Symbol.iterator]=="function",iS=`[ 	
\f\r]`,Oy=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,ID=/-->/g,DD=/>/g,$h=RegExp(`>|${iS}(?:([^\\s"'>=/]+)(${iS}*=${iS}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),LD=/'/g,jD=/"/g,DJ=/^(?:script|style|textarea|title)$/i,LJ=t=>(e,...i)=>({_$litType$:t,strings:e,values:i}),PPt=LJ(1),IPt=LJ(2),Qc=Symbol.for("lit-noChange"),kr=Symbol.for("lit-nothing"),zD=new WeakMap,hf=qf.createTreeWalker(qf,129);function jJ(t,e){if(!FM(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return PD!==void 0?PD.createHTML(e):e}const jxt=(t,e)=>{const i=t.length-1,n=[];let a,d=e===2?"<svg>":e===3?"<math>":"",y=Oy;for(let b=0;b<i;b++){const S=t[b];let T,C,k=-1,D=0;for(;D<S.length&&(y.lastIndex=D,C=y.exec(S),C!==null);)D=y.lastIndex,y===Oy?C[1]==="!--"?y=ID:C[1]!==void 0?y=DD:C[2]!==void 0?(DJ.test(C[2])&&(a=RegExp("</"+C[2],"g")),y=$h):C[3]!==void 0&&(y=$h):y===$h?C[0]===">"?(y=a??Oy,k=-1):C[1]===void 0?k=-2:(k=y.lastIndex-C[2].length,T=C[1],y=C[3]===void 0?$h:C[3]==='"'?jD:LD):y===jD||y===LD?y=$h:y===ID||y===DD?y=Oy:(y=$h,a=void 0);const z=y===$h&&t[b+1].startsWith("/>")?" ":"";d+=y===Oy?S+Dxt:k>=0?(n.push(T),S.slice(0,k)+PJ+S.slice(k)+Mc+z):S+Mc+(k===-2?b:z)}return[jJ(t,d+(t[i]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),n]};let Y8=class zJ{constructor({strings:e,_$litType$:i},n){let a;this.parts=[];let d=0,y=0;const b=e.length-1,S=this.parts,[T,C]=jxt(e,i);if(this.el=zJ.createElement(T,n),hf.currentNode=this.el.content,i===2||i===3){const k=this.el.content.firstChild;k.replaceWith(...k.childNodes)}for(;(a=hf.nextNode())!==null&&S.length<b;){if(a.nodeType===1){if(a.hasAttributes())for(const k of a.getAttributeNames())if(k.endsWith(PJ)){const D=C[y++],z=a.getAttribute(k).split(Mc),G=/([.?@])?(.*)/.exec(D);S.push({type:1,index:d,name:G[2],strings:z,ctor:G[1]==="."?Uxt:G[1]==="?"?Fxt:G[1]==="@"?Bxt:a9}),a.removeAttribute(k)}else k.startsWith(Mc)&&(S.push({type:6,index:d}),a.removeAttribute(k));if(DJ.test(a.tagName)){const k=a.textContent.split(Mc),D=k.length-1;if(D>0){a.textContent=Xw?Xw.emptyScript:"";for(let z=0;z<D;z++)a.append(k[z],Rg()),hf.nextNode(),S.push({type:2,index:++d});a.append(k[D],Rg())}}}else if(a.nodeType===8)if(a.data===IJ)S.push({type:2,index:d});else{let k=-1;for(;(k=a.data.indexOf(Mc,k+1))!==-1;)S.push({type:7,index:d}),k+=Mc.length-1}d++}}static createElement(e,i){const n=qf.createElement("template");return n.innerHTML=e,n}};function kp(t,e,i=t,n){if(e===Qc)return e;let a=n!==void 0?i._$Co?.[n]:i._$Cl;const d=Cg(e)?void 0:e._$litDirective$;return a?.constructor!==d&&(a?._$AO?.(!1),d===void 0?a=void 0:(a=new d(t),a._$AT(t,i,n)),n!==void 0?(i._$Co??=[])[n]=a:i._$Cl=a),a!==void 0&&(e=kp(t,a._$AS(t,e.values),a,n)),e}let zxt=class{constructor(e,i){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:i},parts:n}=this._$AD,a=(e?.creationScope??qf).importNode(i,!0);hf.currentNode=a;let d=hf.nextNode(),y=0,b=0,S=n[0];for(;S!==void 0;){if(y===S.index){let T;S.type===2?T=new BM(d,d.nextSibling,this,e):S.type===1?T=new S.ctor(d,S.name,S.strings,this,e):S.type===6&&(T=new Gxt(d,this,e)),this._$AV.push(T),S=n[++b]}y!==S?.index&&(d=hf.nextNode(),y++)}return hf.currentNode=qf,a}p(e){let i=0;for(const n of this._$AV)n!==void 0&&(n.strings!==void 0?(n._$AI(e,n,i),i+=n.strings.length-2):n._$AI(e[i])),i++}},BM=class UJ{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,i,n,a){this.type=2,this._$AH=kr,this._$AN=void 0,this._$AA=e,this._$AB=i,this._$AM=n,this.options=a,this._$Cv=a?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const i=this._$AM;return i!==void 0&&e?.nodeType===11&&(e=i.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,i=this){e=kp(this,e,i),Cg(e)?e===kr||e==null||e===""?(this._$AH!==kr&&this._$AR(),this._$AH=kr):e!==this._$AH&&e!==Qc&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):Lxt(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==kr&&Cg(this._$AH)?this._$AA.nextSibling.data=e:this.T(qf.createTextNode(e)),this._$AH=e}$(e){const{values:i,_$litType$:n}=e,a=typeof n=="number"?this._$AC(e):(n.el===void 0&&(n.el=Y8.createElement(jJ(n.h,n.h[0]),this.options)),n);if(this._$AH?._$AD===a)this._$AH.p(i);else{const d=new zxt(a,this),y=d.u(this.options);d.p(i),this.T(y),this._$AH=d}}_$AC(e){let i=zD.get(e.strings);return i===void 0&&zD.set(e.strings,i=new Y8(e)),i}k(e){FM(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let n,a=0;for(const d of e)a===i.length?i.push(n=new UJ(this.O(Rg()),this.O(Rg()),this,this.options)):n=i[a],n._$AI(d),a++;a<i.length&&(this._$AR(n&&n._$AB.nextSibling,a),i.length=a)}_$AR(e=this._$AA.nextSibling,i){for(this._$AP?.(!1,!0,i);e!==this._$AB;){const n=e.nextSibling;e.remove(),e=n}}setConnected(e){this._$AM===void 0&&(this._$Cv=e,this._$AP?.(e))}},a9=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,i,n,a,d){this.type=1,this._$AH=kr,this._$AN=void 0,this.element=e,this.name=i,this._$AM=a,this.options=d,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=kr}_$AI(e,i=this,n,a){const d=this.strings;let y=!1;if(d===void 0)e=kp(this,e,i,0),y=!Cg(e)||e!==this._$AH&&e!==Qc,y&&(this._$AH=e);else{const b=e;let S,T;for(e=d[0],S=0;S<d.length-1;S++)T=kp(this,b[n+S],i,S),T===Qc&&(T=this._$AH[S]),y||=!Cg(T)||T!==this._$AH[S],T===kr?e=kr:e!==kr&&(e+=(T??"")+d[S+1]),this._$AH[S]=T}y&&!a&&this.j(e)}j(e){e===kr?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}},Uxt=class extends a9{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===kr?void 0:e}};class Fxt extends a9{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==kr)}}let Bxt=class extends a9{constructor(e,i,n,a,d){super(e,i,n,a,d),this.type=5}_$AI(e,i=this){if((e=kp(this,e,i,0)??kr)===Qc)return;const n=this._$AH,a=e===kr&&n!==kr||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,d=e!==kr&&(n===kr||a);a&&this.element.removeEventListener(this.name,this,n),d&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}},Gxt=class{constructor(e,i,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=i,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){kp(this,e)}};const qxt=UM.litHtmlPolyfillSupport;qxt?.(Y8,BM),(UM.litHtmlVersions??=[]).push("3.3.1");const Hxt=(t,e,i)=>{const n=i?.renderBefore??e;let a=n._$litPart$;if(a===void 0){const d=i?.renderBefore??null;n._$litPart$=a=new BM(e.insertBefore(Rg(),d),d,void 0,i??{})}return a._$AI(t),a};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const GM=globalThis;let xf=class extends u0{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const e=super.createRenderRoot();return this.renderOptions.renderBefore??=e.firstChild,e}update(e){const i=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=Hxt(i,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return Qc}};xf._$litElement$=!0,xf.finalized=!0,GM.litElementHydrateSupport?.({LitElement:xf});const Vxt=GM.litElementPolyfillSupport;Vxt?.({LitElement:xf});(GM.litElementVersions??=[]).push("4.2.1");const qM=Symbol.for("controller"),Wxt=t=>typeof t=="object"&&t!==null&&(qM in t||"hostConnected"in t||"hostDisconnected"in t||"hostUpdate"in t||"hostUpdated"in t),BPt=t=>typeof t?.then=="function";let vm;const bm=t=>{vm!==t&&(vm=t,queueMicrotask(()=>vm===t?vm=void 0:0))},l9=t=>vm;let Yh=[];const Jxt=t=>{if(t===void 0){Yh=[];return}const e=Yh.indexOf(t);Yh=e===-1?[...Yh,t]:Yh.slice(0,e+1),queueMicrotask(()=>Yh=[])},Yxt=()=>Yh;let x0;const GPt=t=>{x0!==t&&(x0=t,queueMicrotask(()=>x0===t?x0=void 0:0))},Kxt=()=>{const t=x0;return x0=void 0,t},Xxt=async(t,e)=>{const i=HM(t);if(i===void 0)return t;if(await i.ready,typeof e=="function"){const n=i.watchExports(a=>e(a,n))}return i.exports},Zxt=async t=>{const e=HM(t);return await e.ready,e},HM=t=>{const i=l9().manager.X(t);if(i!==void 0)return i;if(Wxt(t))return t;const n=Kxt();if(n!==void 0)return n};let K8=!1;const qPt=t=>{K8=!0;try{return t()}finally{K8=!1}},Qxt=(t,e,i)=>{const n=Object.keys(t),a=n.length;T0===void 0&&queueMicrotask(VM),T0??=new Map;let d=T0.get(t);return d===void 0&&(d={callbacks:[],keyCount:a},T0.set(t,d)),d.keyCount!==a&&(d.callbacks.forEach(y=>y(n)),d.callbacks=[],d.keyCount=a),d.callbacks.push(y=>{const b=T=>mr(e,null,T),S=y[a];S===void 0?b(void 0):t[S]===i?b(S):b(void 0)}),i};let T0;const VM=()=>{T0?.forEach(({callbacks:t},e)=>{const i=Object.keys(e);t.forEach(n=>n(i))}),T0=void 0},t7t=(t,e,i)=>{const n=t.manager;return n.V!==kr&&n.V!==i&&n.S(void 0,void 0),n.T.length===0&&queueMicrotask(()=>n.S(void 0,void 0)),n.V=i,n.T.push((a,d)=>mr(e,void 0,i===d?a:void 0)),i},e7t=(t=[l9(),...Yxt()],e,i)=>{const n=Array.isArray(t)?t:[t];let a=n.length+1;const d=y=>{a-=1,y!==void 0&&(a=Math.min(a,0)),a===0&&e(y)};n.forEach(y=>Qxt(y,b=>d(b===void 0?void 0:{key:b,host:y,isReactive:!1}),i));for(const y of n)if("manager"in y&&y.manager.component===y){t7t(y,b=>d(b===void 0?void 0:{key:b,host:y,isReactive:!0}),i);break}return i},i7t=(t="",e={},i=l9())=>{const n={emit:a=>{t===""&&VM();const d=new CustomEvent(t,{detail:a,cancelable:!0,bubbles:!0,composed:!0,...e});return i.el.dispatchEvent(d),d}};return t===""&&e7t(void 0,a=>t=a.key,n),n},HPt=i7t.bind(null,"");var FJ;FJ=qM;class r7t{constructor(e){this.#i=[],this.#t=[],this.#r=[],this.#l=[],this.#u=[],this.#c=[],this.#h=[],this.#f=[],this.#o=[],this.#a=!1,this.P=new Ag,this.connectedCalled=!1,this.loadedCalled=!1,this[FJ]=!0,this.#s=[];const i=this,n=e??l9();i.#e=n,i.ready=i.P.promise,i.#n=FD(i),i.component=n,i.#e.addController(i),i.#e.manager===void 0||(Jxt(i),queueMicrotask(()=>i.catchUpLifecycle()))}#i;#t;#r;#l;#u;#c;#h;#f;#o;#a;#e;catchUpLifecycle(){const{manager:e}=this.#e;e.connectedCalled&&!this.connectedCalled&&this.triggerConnected(),e.#a&&this.triggerLoad().then(()=>e.loadedCalled&&this.triggerLoaded()).catch(console.error)}#n;get exports(){return this.#n}set exports(e){const i=this.#n;i!==e&&(this.#n=e,this.#s.forEach(mr),this.connectedCalled&&this.O!==!1&&this.#e.requestUpdate(this.O,i)),this.P.resolve(e)}setProvisionalExports(e,i=!0){this.#n=i?FD(e):e,this.#s.forEach(mr)}#s;watchExports(e){const i=()=>e(this.#n);return this.#s.push(i),()=>void this.#s.splice(this.#s.indexOf(i),1)}get use(){return bm(this.#e),Xxt}get useRef(){return bm(this.#e),Zxt}get useRefSync(){return bm(this.#e),HM}controllerRemoved(){this.#e.el.isConnected&&this.triggerDisconnected(),this.triggerDestroy()}onConnected(e){this.#i.push(e)}onDisconnected(e){this.#t.push(e)}onLoad(e){this.#r.push(e)}onLoaded(e){this.#l.push(e)}onUpdate(e){this.#u.push(e)}onUpdated(e){this.#c.push(e)}onDestroy(e){this.#h.push(e)}onLifecycle(e){this.#f.push(e),this.connectedCalled&&this.#e.el.isConnected&&this.#d(e)}triggerConnected(){const e=this;e.hostConnected&&mr(e.hostConnected,e),e.#i.forEach(mr),e.triggerLifecycle(),e.connectedCalled=!0}triggerDisconnected(){const e=this;e.hostDisconnected&&mr(e.hostDisconnected,e),e.#t.forEach(mr),e.#o.forEach(mr),e.#o=[]}async triggerLoad(){if(this.#a)return;this.#a=!0;const e=this;e.hostLoad&&await W8(e.hostLoad,e),this.#r.length>0&&await Promise.allSettled(this.#r.map(W8)),this.P.resolve(this.#n)}triggerLoaded(){this.loadedCalled||(this.hostLoaded&&mr(this.hostLoaded,this),this.#l.forEach(mr),this.loadedCalled=!0)}triggerUpdate(e){this.hostUpdate&&mr(this.hostUpdate,this,e),this.#u.forEach(UD,e)}triggerUpdated(e){this.hostUpdated&&mr(this.hostUpdated,this,e),this.#c.forEach(UD,e)}triggerDestroy(){this.hostDestroy&&mr(this.hostDestroy,this),this.#h.forEach(mr)}triggerLifecycle(){this.hostLifecycle&&this.#d(()=>this.hostLifecycle()),this.#f.forEach(this.#d,this)}#d(e){bm(this.#e);const i=mr(e);(Array.isArray(i)?i:[i]).forEach(a=>{typeof a=="function"?this.#o.push(a):typeof a=="object"&&typeof a.remove=="function"&&this.#o.push(a.remove)})}}function UD(t){mr(t,void 0,this)}const n7t=r7t,FD=t=>{if(typeof t!="object"&&typeof t!="function"||t===null)return t;const e={get(n,a,d){if(!((a==="exports"||a==="_exports")&&a in n&&n[a]===i)&&(a in n||a in Promise.prototype||typeof a=="symbol"))return typeof n=="function"?n[a]:Reflect.get(n,a,d)}},i=new Proxy(t,e);return i},s7t=1,o7t=2,a7t=4,l7t=8,u7t=16,c7t=32,h7t=64,BJ=t=>{let e=t;for(;e=e.parentNode??e.host;)if(e?.constructor?.lumina){const i=e;return i.manager?.loadedCalled||(i.J??i._offspring).push(t),(i.I??i._postLoad).promise}return!1},BD={};function GJ(){}const Sb=Object.defineProperty,f7t=globalThis.HTMLElement??GJ;var xs,hu,lp,Og,X8;const JM=class JM extends f7t{constructor(){var a;super();ta(this,Og);ta(this,xs);ta(this,hu);ta(this,lp);ea(this,hu,{}),ea(this,lp,[]),this.I=new Ag,this.H=new Ag,this.J=[];const i=this,n=i.constructor;i._offspring=i.J,i._postLoad=i.I,n.C?.forEach(d=>{Object.hasOwn(i,d)&&(Ci(i,hu)[d]=i[d],delete i[d])}),n.A?Q1(a=i,Og,X8).call(a,{a:n.A}):n.B.then(async d=>{var y;await n.K.p,Q1(y=i,Og,X8).call(y,await(d.default?.then(b=>typeof b=="function"?{a:b}:b)??d))}).catch(d=>{i.H.reject(d),setTimeout(()=>{throw d})})}static F(){for(const i of this.C??[])Sb(this.prototype,i,{configurable:!0,enumerable:!0,get(){return Ci(this,hu)[i]},set(n){Ci(this,hu)[i]=n}});for(const i of this.E??[])Sb(this.prototype,i,{async value(...n){return Ci(this,xs)||await this.H.promise,await Ci(this,xs)[i](...n)},configurable:!0});for(const i of this.D??[])Sb(this.prototype,i,{value(...n){return Ci(this,xs)[i](...n)},configurable:!0})}get manager(){return Ci(this,xs)?.manager}attributeChangedCallback(i,n,a){Ci(this,xs)?.attributeChangedCallback(i,n,a),Ci(this,xs)||Ci(this,lp).push(i)}connectedCallback(){Ci(this,xs)?Ci(this,xs).connectedCallback?.():queueMicrotask(()=>this.G=BJ(this))}disconnectedCallback(){Ci(this,xs)?.disconnectedCallback?.()}async componentOnReady(){return await this.H.promise,this}addController(){}requestUpdate(){Ci(this,xs)?.requestUpdate()}};xs=new WeakMap,hu=new WeakMap,lp=new WeakMap,Og=new WeakSet,X8=function(i){const n=this.constructor,a=n.L,d=Ci(this,hu),y=Object.values(i).find(D=>D.L===a),b=`${a}--lazy`;let S=y;for(;S&&!Object.hasOwn(S,"lumina");)S=Object.getPrototypeOf(S);p7t(S),!n.A&&(n.A=y,customElements.define(b,y)),y.N=this;const C=document.createElement(b);y.N=void 0,ea(this,xs,C),ea(this,hu,C),Ci(this,lp).forEach(D=>C.attributeChangedCallback(D,null,this.getAttribute(D))),Object.entries(d).forEach(d7t,C);const k=this.isConnected;(k||this.G)&&(C.connectedCallback?.(),k||C.disconnectedCallback())},JM.lumina=!0;let GD=JM;function d7t([t,e]){this[t]=e}const p7t=t=>{const e=t.prototype,i=Element.prototype;Object.hasOwn(e,"isConnected")||(e.setAttribute=function(a,d){i.setAttribute.call(this.el,a,d)},e.removeAttribute=function(a){i.removeAttribute.call(this.el,a)},Sb(e,"isConnected",{get(){return Reflect.get(i,"isConnected",this.el)}}))};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const qJ={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4},HJ=t=>(...e)=>({_$litDirective$:t,values:e});let VJ=class{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,i,n){this._$Ct=e,this._$AM=i,this._$Ci=n}_$AS(e,i){return this.update(e,i)}update(e,i){return this.render(...i)}};/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const y7t=HJ(class extends VJ{constructor(t){if(super(t),t.type!==qJ.ATTRIBUTE||t.name!=="class"||t.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter((e=>t[e])).join(" ")+" "}update(t,[e]){if(this.st===void 0){this.st=new Set,t.strings!==void 0&&(this.nt=new Set(t.strings.join(" ").split(/\s/).filter((n=>n!==""))));for(const n in e)e[n]&&!this.nt?.has(n)&&this.st.add(n);return this.render(e)}const i=t.element.classList;for(const n of this.st)n in e||(i.remove(n),this.st.delete(n));for(const n in e){const a=!!e[n];a===this.st.has(n)||this.nt?.has(n)||(a?(i.add(n),this.st.add(n)):(i.remove(n),this.st.delete(n)))}return Qc}});/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const WJ="important",m7t=" !"+WJ,g7t=HJ(class extends VJ{constructor(t){if(super(t),t.type!==qJ.ATTRIBUTE||t.name!=="style"||t.strings?.length>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(t){return Object.keys(t).reduce(((e,i)=>{const n=t[i];return n==null?e:e+`${i=i.includes("-")?i:i.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${n};`}),"")}update(t,[e]){const{style:i}=t.element;if(this.ft===void 0)return this.ft=new Set(Object.keys(e)),this.render(e);for(const n of this.ft)e[n]==null&&(this.ft.delete(n),n.includes("-")?i.removeProperty(n):i[n]=null);for(const n in e){const a=e[n];if(a!=null){this.ft.add(n);const d=typeof a=="string"&&a.endsWith(m7t);n.includes("-")||d?i.setProperty(n,d?a.slice(0,-11):a,d?WJ:""):i[n]=a}}return Qc}});class v7t extends n7t{constructor(e){super(e),this.destroyed=!1,this.R=!1,this.V=kr,this.T=[],this.#r=new WeakMap,this.#t=e,this.exports=void 0,this.hasDestroy=Z8 in e&&typeof e.destroy=="function",xf.prototype.addController.call(e,{hostConnected:()=>{if(this.destroyed){const i=e.el.localName;throw e.el.remove(),new Error(`The ${i} component has already been destroyed. It cannot be used again. If you meant to disconnect and reconnect a component without automatic destroy, set the ${Z8} prop.`)}this.#i!==void 0&&clearTimeout(this.#i),VM();for(const i of e.M)"triggerConnected"in i?i.triggerConnected():mr(i.hostConnected,i)},hostDisconnected:()=>{for(const i of e.M)"triggerDisconnected"in i?i.triggerDisconnected():mr(i.hostDisconnected,i);this.hasDestroy&&!this.destroyed&&this.U()},hostUpdate:()=>{for(const i of e.M)"triggerUpdate"in i?i.triggerUpdate(this.Q):mr(i.hostUpdate,i,this.Q)},hostUpdated:()=>{for(const i of e.M)"triggerUpdated"in i?i.triggerUpdated(this.Q):mr(i.hostUpdated,i,this.Q);this.Q=void 0}}),queueMicrotask(()=>this.R=!0),bm(e)}#i;#t;async destroy(){if(!this.destroyed){this.#t.el.isConnected&&(this.hasDestroy=!1,this.#t.el.remove()),this.#i=void 0,this.destroyed=!0;for(const e of this.#t.M)"triggerDestroy"in e?e.triggerDestroy():mr(e.hostDestroy,e);this.#t.M.splice(0)}}U(){if(this.#i!==void 0&&clearTimeout(this.#i),!this.#t.el.isConnected&&!this.#t.autoDestroyDisabled){const e=()=>void this.#t.destroy();this.#i=Txt(e,b7t)}}S(e,i){const n=this.T;this.V=kr,this.T=[],n.forEach(a=>a(e,i))}#r;W(e,i){(typeof i=="object"&&i!==null||typeof i=="function")&&this.#r.set(i,e)}X(e){if(typeof e=="object"&&e!==null||typeof e=="function")return this.#r.get(e)}}let b7t=1e3;const Z8="autoDestroyDisabled";var ff,$g,Ng,df,Ya,Pp,JJ,YJ;const Zm=class Zm extends xf{constructor(){super();ta(this,Pp);ta(this,ff);ta(this,$g);ta(this,Ng);ta(this,df);ta(this,Ya);this.M=[],this.manager=new v7t(this);const i=this,n=i.constructor,a=n.N,d=n.K.o,y=Zm.prototype.shouldUpdate;ea(i,df,a?.H??new Ag),i.I=a?.I??new Ag,i.J=a?.J??[],i._offspring=i.J,i._postLoad=i.I,i.el=a??i,ea(i,Ng,i.enableUpdating),i.enableUpdating=GJ,i.shouldUpdate!==y&&(ea(i,$g,i.shouldUpdate),i.shouldUpdate=y),d&&(ea(i,ff,new Map),n.elementProperties.forEach((b,S)=>Ci(i,ff).set(S,d())))}static finalizeStyles(i){const n=super.finalizeStyles(i),a=this.shadowRootOptions===BD;return this.K?.commonStyles===void 0||a?n:[this.K.commonStyles,...n]}static createProperty(i,n){const a=typeof n=="number"?n:Array.isArray(n)?n[0]:0,d=Array.isArray(n)?n[1]:void 0,y=d?.hasChanged??zM,b={attribute:a&s7t&&typeof i=="string"?Sxt(i):!1,reflect:!!(a&o7t),type:a&a7t?Boolean:a&l7t?Number:void 0,state:!!(a&u7t),readOnly:!!(a&c7t),noAccessor:!!(a&h7t),c:!1,...d,hasChanged(S,T){const C=y(S,T);return b.c=C,C}};super.createProperty(i,b)}static getPropertyDescriptor(i,n,a){const d=this.K,y=super.getPropertyDescriptor(i,n,a);return a.d=y,{...y,get(){return d.t?.(Ci(this,ff).get(i)),y.get?.call(this)},set(b){const S=this.manager;if(a.readOnly&&!K8&&(S.R||S.connectedCalled))throw Error(`Cannot assign to read-only property "${i}" of ${this.el.localName}. Trying to assign "${b}"`);y.set.call(this,b??void 0),a.c&&Ci(this,ff)?.get(i)?.notify(),S.T.length>0&&S?.S(i,b)}}}connectedCallback(){if(this.el.hasAttribute("defer-hydration"))return;const i=this.constructor.K.c?.(()=>this.requestUpdate());ea(this,Ya,i);const n=!this.manager.connectedCalled;super.connectedCallback(),n?queueMicrotask(()=>Q1(this,Pp,YJ).call(this).catch(a=>{Ci(this,df).reject(a),setTimeout(()=>{throw a})})):i&&this.requestUpdate()}disconnectedCallback(){super.disconnectedCallback(),Ci(this,Ya)?.destroy(),ea(this,Ya,void 0)}createRenderRoot(){const i=this.el.shadowRoot,n=this.constructor,a=n.shadowRootOptions,y=i??(a===BD?this.el:this.el.attachShadow(a));if(i)return xf.prototype.createRenderRoot.call(this),i;if(this.isConnected){const b=y.getRootNode();b.adoptedStyleSheets=[...b.adoptedStyleSheets,...n.elementStyles.map(S=>"styleSheet"in S?S.styleSheet:S)]}return y}shouldUpdate(i){var n;return this.manager.Q=i,((n=Ci(this,$g))==null?void 0:n.call(this,i))??!0}update(i){Ci(this,Ya)?Q1(this,Pp,JJ).call(this,i):super.update(i)}listen(i,n,a){const d=n?.bind(this)??n;this.manager.onLifecycle(()=>(this.el.addEventListener(i,d,a),()=>this.el.removeEventListener(i,d,a)))}listenOn(i,n,a,d){const y=a?.bind(this)??a;this.manager.onLifecycle(()=>(i.addEventListener(n,y,d),()=>i.removeEventListener(n,y,d)))}async componentOnReady(){return await Ci(this,df).promise,this}addController(i){this.M.push(i),!(qM in i)&&this.renderRoot&&this.el.isConnected&&i.hostConnected?.()}removeController(i){this.M.splice(this.M.indexOf(i),1),i.controllerRemoved?.()}};ff=new WeakMap,$g=new WeakMap,Ng=new WeakMap,df=new WeakMap,Ya=new WeakMap,Pp=new WeakSet,JJ=function(i){try{Ci(this,Ya).clear(),this.constructor.K.r(Ci(this,Ya),()=>EO(Zm.prototype,this,"update").call(this,i))}catch(n){throw Ci(this,Ya).clear(),n}},YJ=async function(){const i=this.el.G??BJ(this.el);i&&await i;const n=[];for(const d of this.M)"triggerLoad"in d?n.push(d.triggerLoad()):n.push(W8(d.hostLoad,d));await Promise.all(n),await this.load?.(),this.manager.hasDestroy&&this.manager.onUpdate(d=>d.has(Z8)&&this.manager.U()),Ci(this,Ng).call(this,!0),this.performUpdate(),this.I.resolve(),await Promise.resolve();const a=this.J.filter(d=>!d.manager?.loadedCalled);a.length&&await Promise.allSettled(a.map(async d=>await d.componentOnReady())),this.J.length=0,this.el.setAttribute(this.constructor.K.hydratedAttribute,"");for(const d of this.M)"triggerLoaded"in d?d.triggerLoaded():mr(d.hostLoaded,d);this.loaded?.(),Ci(this,df).resolve()},Zm.lumina=!0;let qD=Zm;const w7t=t=>{let e;const i=a=>{e=new URL(a,globalThis.location?.href||void 0).href},n={...t,getAssetPath(a){const d=new URL(a,e);return d.origin!==globalThis.location?.origin?d.href:d.pathname},setAssetPath:i,customElement(a,d){d.K=n,d.L=a,customElements.get(a)||customElements.define(a,d)}};return i(t.defaultAssetPath),n},WPt=t=>typeof t=="object"&&t!=null?y7t(t):t,JPt=t=>typeof t=="object"&&t!=null?g7t(t):t,YPt=kr;function KPt(t,e,i){i==null?t.removeAttribute(e):t.setAttribute(e,i)}const XPt={toAttribute:t=>t===!0?"":t===!1?null:t};/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */const _7t="calcite-mode-auto",S7t="calcite-mode-dark",ZPt={rtl:"calcite--rtl"},QPt={filter:250,nextTick:0,resize:150,reposition:100},tIt=25;function HD(){const{classList:t}=document.body,e=window.matchMedia("(prefers-color-scheme: dark)").matches,i=()=>t.contains(S7t)||t.contains(_7t)&&e?"dark":"light",n=y=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:y}})),a=y=>{d!==y&&n(y),d=y};let d=i();n(d),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",y=>a(y.matches?"dark":"light")),new MutationObserver(()=>a(i())).observe(document.body,{attributes:!0,attributeFilter:["class"]})}const Xm=globalThis.calciteConfig,eIt=Xm?.focusTrapStack||[],iIt=Xm?.logLevel||"info",VD="3.2.1",x7t="2025-05-29",T7t="618973fec";function E7t(){if(Xm&&Xm.version)return;console.info(`Using Calcite Components ${VD} [Date: ${x7t}, Revision: ${T7t}]`);const t=Xm||globalThis.calciteConfig||{};Object.defineProperty(t,"version",{value:VD,writable:!1}),globalThis.calciteConfig=t}function M7t(){document.readyState==="interactive"?HD():document.addEventListener("DOMContentLoaded",()=>HD(),{once:!0}),E7t()}M7t();const A7t=w7t({defaultAssetPath:"https://js.arcgis.com/calcite-components/3.2.1/",hydratedAttribute:"calcite-hydrated"}),{customElement:rIt,getAssetPath:nIt,setAssetPath:R7t}=A7t;/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */let KJ=!1;const C7t=t=>{KJ=!0,R7t(t)};let XJ;function O7t(){KJ||C7t(Do(Cr(XJ)))}function WM(t){const e=[];for(const i of Object.keys(t))customElements.get(`calcite-${i}`)||e.push(t[i]?.());return e.length>0?Promise.all(e):null}XJ="components/assets";const ZJ=Symbol("widget"),QJ=Symbol("widget-test-data"),$7t=[],N7t={},Zw=new WeakMap;function tY(t,e){let i=e.children;if(i?.length)for(let a=0;a<i.length;++a)i[a]=tY(t,i[a]);else i=$7t;const n=e.vnodeSelector;if(Qw(n)){const a=e.properties||N7t,d=a.key||n,y={key:d,afterCreate:k7t,afterUpdate:P7t,afterRemoved:eY,parentWidget:t,widgetConstructor:n,widgetProperties:{...a,key:d,children:i}};return{vnodeSelector:n.vnodeSelector,properties:y,children:void 0,text:void 0,domNode:null}}return e}function k7t(t,e,i,{parentWidget:n,widgetConstructor:a,widgetProperties:d}){const y=new a(d);y.container=t,Zw.set(t,y),y.afterCreate?.(y,t),n.addHandles(ui((()=>eY(t)))),queueMicrotask((()=>{y[QJ].projector.renderNow()}))}function P7t(t,e,i,{widgetProperties:n}){const a=Zw.get(t);a&&(a.set(n),a.afterUpdate?.(a,t))}function eY(t){const e=Zw.get(t);e&&(e.afterRemoved?.(e,t),e.destroy(),Zw.delete(t))}function Qw(t){return typeof t=="function"&&t[ZJ]}const WD=new Set;function I7t(t){WD.add(t),t.finally((()=>WD.delete(t)))}function D7t(t){return ui()}var JD;let L7t=0;function iY(t,e){const i=Object.prototype.hasOwnProperty;for(const n in e)i.call(e,n)&&i.call(t,n)&&(t[n]!=null&&e[n]!=null&&typeof t[n]=="object"&&typeof e[n]=="object"?iY(t[n],e[n]):t[n]=e[n]);return t}const j7t=cxt({postProcessProjectionOptions(t){const e=t.eventHandlerInterceptor,i=/capture$/i;t.eventHandlerInterceptor=(n,a,d,y)=>{const b=e?.(n,a,d,y),S=i.test(n);if(!((n=n.replace(i,"")).toLowerCase()in d)||S){const T=n[2].toLowerCase()+n.slice(3),C=z=>b?.call(d,z);d.addEventListener(T,C,S);const k=()=>d.removeEventListener(T,C,S),D=y.afterRemoved;y.afterRemoved=z=>{D?.(z),k()}}return b}},handleInterceptedEvent(t,e,i,n){const{eventPhase:a,type:d}=n,y=a===Event.CAPTURING_PHASE;let b=`on${d}${y?"capture":""}`;const S=e.properties;(S&&b in S||(b=`on${d[0].toUpperCase()}${d.slice(1)}${y?"Capture":""}`,S&&b in S))&&(CJ(),t.scheduleRender(),S[b].call(S.bind||i,n))}});let rS=!1;var Of;let pn=(Of=class extends Oc.EsriPromiseMixin(gu.EventedAccessor){constructor(e,i){super(e,i),this._attached=!1,this._projector=j7t,this._readyForTrueRender=!1,this.key=this,this.autoRenderingEnabled=!0,this._loadLocale=uet((async()=>{if(this._messageBundleProps?.length){const S=await Promise.allSettled(this._messageBundleProps.map((async({bundlePath:T,propertyName:C})=>{if(this.destroyed)return;let k=await AH(T);this.uiStrings&&Object.keys(this.uiStrings)&&(k=iY(Ht(k),this.uiStrings)),this[C]=k})));if(this.destroyed)return;for(const T of S)T.status==="rejected"&&ae.getLogger(this).error("widget-intl:locale-error",this.declaredClass,T.reason)}await this.loadLocale()})),this.addHandles(D7t()),O7t();const n="esri-widget-uid-"+dv(),a=this.render.bind(this);this._trackingTarget=new o5((()=>{this.autoRenderingEnabled&&this.scheduleRender()}));const d=()=>({vnodeSelector:"div",properties:{key:`${n}-hidden`,class:"",styles:{display:"none"}},domNode:null,children:void 0,text:void 0}),y=()=>{if(!this._readyForTrueRender||this.destroyed)return null;const S=a()??d(),T=S.properties??={};if(T.key??=n,Qw(S.vnodeSelector)){if(!this.visible)return d()}else this.visible?T.styles||(T.styles={}):(T.class="",T.styles={display:"none"}),T.styles.display??="";let C=0;return S.children?.forEach((k=>{Qw(k.vnodeSelector)||(k.properties??={},k.properties.key??=`${this.id}--${C++}`)})),tY(this,S)};this.render=()=>{if(rS)return y();let S=KSt(this)??null;if(S)return S;this._trackingTarget.clear(),rS=!0;try{S=yu(this._trackingTarget,y)}catch(T){throw ae.getLogger(this).error(T),T}finally{rS=!1}return S&&XSt(this,S),S};const b=this.beforeFirstRender();b?this._resourcesFetch=b.then((()=>{this._readyForTrueRender=!0,this._postInitialize()})):(this._resourcesFetch=Promise.resolve().then((()=>{this._postInitialize()})),this._readyForTrueRender=!0),this.addResolvingPromise(this._resourcesFetch),I7t(this._resourcesFetch)}normalizeCtorArgs(e,i){const n={...e};return i&&(n.container=i),n}postInitialize(){}beforeFirstRender(){const e=this.loadDependencies();return this._messageBundleProps?.length||e?Promise.all([e,this._loadLocale()]).then((()=>{})).catch(u$):null}loadDependencies(){return null}loadLocale(){return null}destroy(){this.destroyed||(vr(this._trackingTarget),vr(this.viewModel),this._detach(this.container),this._set("container",null),this._emitter.clear(),this.render=()=>null,this._projector=null,X_(this))}set container(e){this._get("container")||this._set("container",e)}castContainer(e){return gM(e)}get domNode(){return this.container}set domNode(e){this.container=e}get icon(){return null}set icon(e){this._overrideIfSome("icon",e)}get id(){return this._get("id")||this.container?.id||Date.now().toString(16)+"-widget-"+L7t++}set id(e){e&&this._set("id",e)}get label(){return this.declaredClass.split(".").pop()}set label(e){this._overrideIfSome("label",e)}get renderable(){return this._resourcesFetch}get visible(){return this._get("visible")}set visible(e){this._set("visible",e)}get[(JD=ZJ,QJ)](){return{projector:this._projector}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||(X_(this),this._projector.scheduleRender())}classes(...e){return ZSt.apply(this,e)}renderNow(){X_(this),this._projector.renderNow()}_postInitialize(){if(this.destroyed)return;this.scheduleRender(),this._delegatedEventNames?.length&&this.addHandles(Ce((()=>this.viewModel),((i,n)=>{n&&this.removeHandles("delegated-events"),i&&s5(i)&&this.addHandles(this._delegatedEventNames.map((a=>Up(i,a,(d=>{this.emit(a,d)})))),"delegated-events")}),ss)),this.postInitialize();const e=async()=>{await this._loadLocale().catch(u$),this.scheduleRender()};this.addHandles([$G(e),Ce((()=>this.uiStrings),e)]),this.addHandles(Ho((()=>this.container),(i=>{this.destroyed||this._attach(i)}),{initial:!0,once:!0}))}_attach(e){e&&(this._projector.merge(e,this.render),this._attached=!0)}_detach(e){this._attached&&(this._projector.detach(this.render),this._attached=!1),e?.parentNode?.removeChild(e)}},Of[JD]=!0,Of.vnodeSelector="div",Of);E([N()],pn.prototype,"_readyForTrueRender",void 0),E([N({value:null})],pn.prototype,"container",null),E([on("container")],pn.prototype,"castContainer",null),E([N()],pn.prototype,"icon",null),E([N()],pn.prototype,"id",null),E([N()],pn.prototype,"label",null),E([N()],pn.prototype,"renderable",null),E([N()],pn.prototype,"uiStrings",void 0),E([N()],pn.prototype,"viewModel",void 0),E([N({value:!0})],pn.prototype,"visible",null),E([N()],pn.prototype,"key",void 0),E([N()],pn.prototype,"children",void 0),E([N()],pn.prototype,"afterCreate",void 0),E([N()],pn.prototype,"afterUpdate",void 0),E([N()],pn.prototype,"afterRemoved",void 0),pn=E([ut("esri.widgets.Widget")],pn);const u9=pn;var YD,KD,XD,ZD,QD,tL,eL,iL,rL,nL,sL,oL,aL,lL,uL;(function(t){t.U8="U8",t.I8="I8",t.U16="U16",t.I16="I16",t.U32="U32",t.I32="I32",t.F32="F32",t.F64="F64",t.Utf8String="Utf8String",t.NotSet="NotSet"})(YD||(YD={})),(function(t){t.Png="Png",t.Jpeg="Jpeg",t.Dds="Dds",t.Raw="Raw",t.Dxt1="Dxt1",t.Dxt5="Dxt5",t.Bc7="Bc7",t.Basis="Basis",t.Etc1="Etc1",t.Etc2="Etc2",t.Astc="Astc",t.Pvrtc="Pvrtc",t.NotSet="NotSet"})(KD||(KD={})),(function(t){t.Position="Position",t.Normal="Normal",t.TexCoord="TexCoord",t.Color="Color",t.Tangent="Tangent",t.FeatureIndex="FeatureIndex",t.UvRegion="UvRegion",t.FeatureVariable="FeatureVariable",t.NotSet="NotSet"})(XD||(XD={})),(function(t){t.Opaque="Opaque",t.Mask="Mask",t.Blend="Blend"})(ZD||(ZD={})),(function(t){t.None="None",t.Mask="Mask",t.Alpha="Alpha",t.PreMultAlpha="PreMultAlpha",t.NotSet="NotSet"})(QD||(QD={})),(function(t){t.Points="Points",t.Lines="Lines",t.LineStrip="LineStrip",t.Triangles="Triangles",t.TriangleStrip="TriangleStrip",t.NotSet="NotSet"})(tL||(tL={})),(function(t){t.None="None",t.WrapXBit="WrapXBit",t.WrapYBit="WrapYBit",t.WrapXy="WrapXy",t.NotSet="NotSet"})(eL||(eL={})),(function(t){t.Linear="Linear",t.Nearest="Nearest",t.NotSet="NotSet"})(iL||(iL={})),(function(t){t.Linear="Linear",t.Nearest="Nearest",t.NearestMipmapNearest="NearestMipmapNearest",t.LinearMipmapNearest="LinearMipmapNearest",t.NearestMipmapLinear="NearestMipmapLinear",t.LinearMipmapLinear="LinearMipmapLinear",t.NotSet="NotSet"})(rL||(rL={})),(function(t){t.FeatureId="FeatureId",t.GlobalUid="GlobalUid",t.UnspecifiedDateTime="UnspecifiedDateTime",t.EcmaIso8601DateTime="EcmaIso8601DateTime",t.EcmaIso8601DateOnly="EcmaIso8601DateOnly",t.TimeOnly="TimeOnly",t.TimeStamp="TimeStamp",t.ColorRgb="ColorRgb",t.ColorRgba="ColorRgba",t.Unrecognized="Unrecognized",t.NotSet="NotSet"})(nL||(nL={})),(function(t){t.Texture="Texture",t.VertexAtrb="VertexAtrb",t.Implicit="Implicit",t.NotSet="NotSet"})(sL||(sL={})),(function(t){t.Front="Front",t.Back="Back",t.None="None",t.NotSet="NotSet"})(oL||(oL={})),(function(t){t.Pbr="Pbr",t.Unlit="Unlit"})(aL||(aL={})),(function(t){t.Rgb8="Rgb8",t.Rgba8="Rgba8",t.R8="R8",t.Bgr8="Bgr8",t.Bgra8="Bgra8",t.Rg8="Rg8",t.Ga8="Ga8",t.Etc1="Etc1",t.Etc2="Etc2",t.Dxt1="Dxt1",t.Dxt5="Dxt5",t.Bc7="Bc7",t.NotSet="NotSet"})(lL||(lL={})),(function(t){t[t.Succeeded=0]="Succeeded",t[t.Failed=1]="Failed",t[t.MissingInputs=2]="MissingInputs"})(uL||(uL={}));const z7t=new Map;function U7t(t){return z7t.get(t)}function cL(t,e){return t&&"copyright"in t&&(!e||typeof t.originOf=="function"&&t.originOf("copyright")==="user")}function F7t(t,e){return t.length!==e.length||t.some(((i,n)=>i.text!==e[n].text))}function $y(t,e,i){!i||!e||t.find((n=>n.layerView===e&&n.text===i))||t.push({text:i,layerView:e})}function B7t(t){return t.type==="bing-maps"}const jl=[];let c0=class extends ve{constructor(t){super(t),this._clear=()=>{this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.removeHandles("suspension"),this.notifyChange("state")},this._pendingAttributions=new Set,this._fetchedAttributionData=new Map,this.items=new me,this.view=null,this._allLayerViewsChange=e=>{this.removeHandles("suspension"),this.removeHandles("visible-geometry-changed");const i=this.view?.allLayerViews;i&&(this.addHandles(i.map((n=>Ce((()=>[n.suspended,n.layer?.attributionVisible]),(()=>this._updateAttributionItems())))).toArray(),"suspension"),i.forEach((n=>{n.declaredClass==="esri.views.3d.layers.Tiles3DLayerView3D"&&this.addHandles(n.on("visible-geometry-changed",(()=>this._updateAttributionItems())),"visible-geometry-changed")}))),e?.removed&&e.removed.forEach((n=>{this._pendingAttributions.delete(n),this._fetchedAttributionData.delete(n)})),this._updateAttributionItems()},this.addHandles([If((()=>this.view?.allLayerViews),"change",(e=>this._allLayerViewsChange(e)),{onListenerAdd:()=>this._allLayerViewsChange(),onListenerRemove:this._clear}),Ho((()=>this.view?.stationary===!0),(()=>this._updateAttributionItems()))])}destroy(){this.view=null,this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.items.removeAll()}get state(){return this.view?.ready?this._pendingAttributions.size>0?"loading":"ready":"disabled"}_updateAttributionItems(){const t=this.view,e=t?.allLayerViews;if(jl.length=0,!t||!e)return void this._clear();e.forEach((n=>{if(n.suspended||!n.layer?.attributionVisible)return;const a=n.layer;if(cL(a,"user"))return void $y(jl,n,a.copyright);if(a.hasAttributionData){if(this._fetchedAttributionData.has(n)){const y=this._fetchedAttributionData.get(n);return void(y?$y(jl,n,this._getDynamicAttribution(y,t,a)):cL(a)&&$y(jl,n,a.copyright))}return void this._fetchAttributionData(n)}const d="portalItem"in a?a.portalItem?.accessInformation:void 0;$y(jl,n,d||a.copyright)}));const i=e.find((n=>n.layer?.type==="integrated-mesh-3dtiles"));if(this.view&&i){const n=U7t(this.view);if(n){const a=n.getAttributionText();for(let d=0;d<a.length;++d)$y(jl,i,a[d])}}F7t(this.items,jl)&&(this.items.removeAll(),this.items.addMany(jl)),jl.length=0,this.notifyChange("state")}async _fetchAttributionData(t){if(this._pendingAttributions.has(t))return;this._pendingAttributions.add(t);const e=await xH(t.layer.fetchAttributionData());if(this._pendingAttributions.has(t)){const i=e.ok?this._createContributionIndex(e.value,B7t(t.layer)):null;this._pendingAttributions.delete(t),this._fetchedAttributionData.set(t,i)}this._updateAttributionItems()}_createContributionIndex(t,e){const i=t.contributors,n={};if(!i)return n;for(let a=0;a<i.length;a++){const d=i[a],y=d.coverageAreas;if(!y)return;for(const b of y){const S=b.bbox,T=b.zoomMin-(e&&b.zoomMin?1:0),C=b.zoomMax-(e&&b.zoomMax?1:0),k=new Be({xmin:S[1],ymin:S[0],xmax:S[3],ymax:S[2],spatialReference:le.WGS84}),D={extent:mf(k),attribution:d.attribution||"",score:b.score!=null?b.score:100,id:a};for(let z=T;z<=C;z++)n[z]??=[],n[z].push(D)}}return n.maxKey=Math.max.apply(null,Object.keys(n)),n}_getDynamicAttribution(t,e,i){const{extent:n,scale:a}=e;let d=i.tileInfo?.scaleToZoom(a)??0;if(d=Math.min(t.maxKey??0,Math.round(d)),!n||d==null||d<=-1)return"";const y=t[d],b=d5(n.center.clone().normalize(),le.WebMercator),S=new Set;return y?y.filter((T=>{const C=T.id,k=!S.has(C)&&b&&T.extent&&Gg(T.extent,b);return k&&S.add(C),k})).sort(((T,C)=>C.score-T.score||T.objectId-C.objectId)).map((T=>T.attribution)).join(", "):""}};E([N({readOnly:!0,type:me})],c0.prototype,"items",void 0),E([N({readOnly:!0})],c0.prototype,"state",null),E([N()],c0.prototype,"view",void 0),c0=E([ut("esri.widgets.Attribution.AttributionViewModel")],c0);const rY=c0,nl={button:"esri-button",buttonDisabled:"esri-button--disabled",buttonHalf:"esri-button--half",buttonSecondary:"esri-button--secondary",buttonSmall:"esri-button--small",buttonTertiary:"esri-button--tertiary",buttonThird:"esri-button--third",empty:"esri-widget__content--empty",heading:"esri-widget__heading",interactive:"esri-interactive",panel:"esri-widget--panel",table:"esri-widget__table",widget:"esri-widget",widgetButton:"esri-widget--button"};function G7t(){return function(t,e){if(!t[e])throw new TypeError(`Cannot auto bind undefined function '${String(e)}'`);return{value:H7t(t[e])}}}function q7t(t){const e=t?.type;return t instanceof KeyboardEvent||e==="keyup"||e==="keydown"||e==="keypress"}function H7t(t){return function(e,...i){q7t(e)?txt(e.key)&&(e.preventDefault(),e.stopPropagation(),e.target.click()):t.call(this,e,...i)}}function c9(t){return(e,i)=>{e.hasOwnProperty("_messageBundleProps")||(e._messageBundleProps=e._messageBundleProps?e._messageBundleProps.slice():[]),e._messageBundleProps.push({bundlePath:t,propertyName:i})}}var V7t=function(t){return{vnodeSelector:"",properties:void 0,children:void 0,text:t.toString(),domNode:null}},nY=function(t,e){for(var i=0,n=t.length;i<n;i++){var a=t[i];Array.isArray(a)?nY(a,e):a!=null&&a!==!1&&(a.hasOwnProperty("vnodeSelector")||(a=V7t(a)),e.push(a))}},W7t=function(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];if(i.length===1&&typeof i[0]=="string")return{vnodeSelector:t,properties:e||void 0,children:void 0,text:i[0],domNode:null};var a=[];return nY(i,a),{vnodeSelector:t,properties:e||void 0,children:a,text:void 0,domNode:null}};function ks(t,e,...i){return typeof t!="function"||Qw(t)?W7t(t,e??null,...i):t(e,...i)}function sIt(...t){return t}const Jd="esri-attribution",Yd={base:Jd,poweredBy:`${Jd}__powered-by`,sources:`${Jd}__sources`,open:`${Jd}--open`,sourcesOpen:`${Jd}__sources--open`,link:`${Jd}__link`};let is=class extends u9{constructor(e,i){super(e,i),this._isOpen=!1,this._attributionTextOverflowed=!1,this._prevSourceNodeHeight=0,this._resizeObserver=new ResizeObserver((n=>n.forEach((({target:a})=>this._checkSourceTextOverflow(a))))),this.itemDelimiter=" | ",this.messages=null,this.viewModel=new rY}initialize(){this.addHandles(If((()=>this.viewModel?.items),"change",(()=>this.scheduleRender())))}destroy(){this._resizeObserver?.disconnect()}get _isInteractive(){return this._isOpen||this._attributionTextOverflowed}get attributionText(){return this.viewModel.items.reduce(((e,i)=>(e.includes(i.text)||e.push(i.text),e)),[]).join(this.itemDelimiter)}get icon(){return"description"}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){const e={[Yd.open]:this._isOpen};return ks("div",{bind:this,class:this.classes(Yd.base,nl.widget,e),dir:"ltr",onclick:this._toggleState,onkeydown:this._toggleState},this._renderSourcesNode(),this._renderPoweredBy())}_renderPoweredBy(){return ks("div",{class:Yd.poweredBy},"Powered by"," ",ks("a",{class:Yd.link,href:"https://www.esri.com/",rel:"noreferrer",target:"_blank"},"Esri"))}_renderSourcesNode(){const e=this._isOpen,i=this._isInteractive,n=i?0:void 0,{attributionText:a}=this,d={[Yd.sourcesOpen]:e,[nl.interactive]:i};return ks("div",{afterCreate:this._afterSourcesNodeCreate,bind:this,class:this.classes(Yd.sources,d),innerHTML:a,tabIndex:n})}_afterSourcesNodeCreate(e){this._prevSourceNodeHeight=e.clientWidth,this._resizeObserver.observe(e)}_checkSourceTextOverflow(e){let i=!1;const{clientHeight:n,clientWidth:a,scrollWidth:d}=e,y=d>a,b=this._attributionTextOverflowed!==y;if(this._attributionTextOverflowed=y,b&&(i=!0),this._isOpen){const S=n<this._prevSourceNodeHeight;this._prevSourceNodeHeight=n,S&&(this._isOpen=!1,i=!0)}i&&this.scheduleRender()}_toggleState(){this._isInteractive&&(this._isOpen=!this._isOpen)}};E([N()],is.prototype,"_isOpen",void 0),E([N()],is.prototype,"_isInteractive",null),E([N()],is.prototype,"_attributionTextOverflowed",void 0),E([N()],is.prototype,"_prevSourceNodeHeight",void 0),E([N({readOnly:!0,dependsOn:["viewModel.items.length","itemDelimiter"]})],is.prototype,"attributionText",null),E([N()],is.prototype,"icon",null),E([N()],is.prototype,"itemDelimiter",void 0),E([N()],is.prototype,"label",null),E([N(),c9("esri/widgets/Attribution/t9n/Attribution")],is.prototype,"messages",void 0),E([N()],is.prototype,"view",null),E([N({type:rY})],is.prototype,"viewModel",void 0),E([G7t()],is.prototype,"_toggleState",null),is=E([ut("esri.widgets.Attribution")],is);const J7t=is;function Y7t(){const t=St("mapview-essential-goto-duration");return t==null?t:t}function K7t(t){return t?.spatialReference?.isWebMercator||t?.spatialReference?.isGeographic||!1}function X7t(t,e,i){return t.goTo(e,i)}const Z7t=t=>{let e=class extends t{constructor(...i){super(...i),this.goToOverride=null,this.view=null}callGoTo(i){const{view:n}=this;return rj(n),this.goToOverride?this.goToOverride(n,i):X7t(n,i.target,i.options)}};return E([N()],e.prototype,"goToOverride",void 0),E([N()],e.prototype,"view",void 0),e=E([ut("esri.widgets.support.GoTo")],e),e};let Kh=class extends Z7t(ve){constructor(e){super(e),this.orientation={x:0,y:0,z:0},this.view=null,this._updateForCamera=this._updateForCamera.bind(this),this._updateForRotation=this._updateForRotation.bind(this),this._updateRotationWatcher=this._updateRotationWatcher.bind(this)}initialize(){this._watchForView(Qn)}destroy(){this.view=null}get canShowNorth(){return K7t(this.view)}get state(){return!this.view?.ready||this.view.type==="2d"&&!this.view.constraints.rotationEnabled?"disabled":this.canShowNorth?"compass":"rotation"}reset(){this.view?.ready&&(this.view?.type==="2d"?this.callGoTo({target:{rotation:0},options:{animationMode:"always",duration:Y7t()}}):this.callGoTo({target:{heading:0}}))}_updateForRotation(e){e!=null&&this._set("orientation",{z:e})}_updateForCamera(e){if(!e)return;const i=-e.heading;this._set("orientation",{x:0,y:0,z:i})}_updateRotationWatcher(e){this.removeAllHandles(),this._watchForView(),e&&this.addHandles(e.type==="2d"?Ce((()=>e?.rotation),this._updateForRotation,Qn):Ce((()=>e?.camera),this._updateForCamera,Qn))}_watchForView(e){this.addHandles(Ce((()=>this.view),this._updateRotationWatcher,e))}};E([N({readOnly:!0})],Kh.prototype,"canShowNorth",null),E([N({readOnly:!0})],Kh.prototype,"orientation",void 0),E([N({readOnly:!0})],Kh.prototype,"state",null),E([N()],Kh.prototype,"view",void 0),Kh=E([ut("esri.widgets.Compass.CompassViewModel")],Kh);const sY=Kh,hL="esri-compass",fL={base:hL,iconContainer:`${hL}__icon-container`};let Zl=class extends u9{constructor(e,i){super(e,i),this.messages=null,this.viewModel=new sY,this._reset=()=>{this.viewModel.reset()},this._toRotationTransform=n=>({transform:`rotateZ(${n.z}deg)`})}loadDependencies(){return WM({button:()=>te(()=>import("./index-BG-EtAO9.js"),__vite__mapDeps([335,336,337,338,339,340,341,342,343,344,345,346,347])),icon:()=>te(()=>import("./index-DNPz1z0y.js").then(e=>e.i),__vite__mapDeps([339,340,341]))})}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(e){this.viewModel.goToOverride=e}get icon(){return this.viewModel.state==="rotation"?"arrow-up":"compass-needle"}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}reset(){return this.viewModel.reset()}render(){const{orientation:e,state:i}=this.viewModel,{messages:n}=this;return ks("div",{class:this.classes(fL.base,nl.widget)},ks("calcite-button",{class:nl.widgetButton,disabled:i==="disabled",kind:"neutral",label:n.reset,onclick:this._reset,round:!0,scale:"s",title:n.reset},ks("div",{"aria-hidden":"true",class:fL.iconContainer,title:n.reset},ks("calcite-icon",{icon:this.icon,styles:this._toRotationTransform(e)}))))}};E([N()],Zl.prototype,"goToOverride",null),E([N()],Zl.prototype,"icon",null),E([N()],Zl.prototype,"label",null),E([N(),c9("esri/widgets/Compass/t9n/Compass")],Zl.prototype,"messages",void 0),E([N()],Zl.prototype,"view",null),E([N({type:sY})],Zl.prototype,"viewModel",void 0),Zl=E([ut("esri.widgets.Compass")],Zl);const Q7t=Zl,dL="esri-navigation-toggle",pL={base:dL,isLayoutHorizontal:`${dL}--horizontal`};let h0=class extends ve{constructor(e){super(e),this._navigationMode="pan",this.view=null,e?.isDefaultViewModel||utt(ae.getLogger(this),"Navigation Toggle","arcgis-navigation-toggle",{version:"4.33"})}normalizeCtorArgs(e={}){const{isDefaultViewModel:i,...n}=e;return n}initialize(){this.addHandles(Ho((()=>this.view?.navigation?.actionMap),(()=>this._updateNavigationActionMap())))}destroy(){this.view=null}get state(){return this.view?.ready&&this.view?.type==="3d"?"ready":"disabled"}get navigationMode(){return this._navigationMode}set navigationMode(e){this._navigationMode=e,this._updateNavigationActionMap()}toggle(){this.state!=="disabled"&&(this.navigationMode=this.navigationMode!=="pan"?"pan":"rotate")}_updateNavigationActionMap(){const e=this.view?.navigation?.actionMap;if(!e)return;const i=this._navigationMode==="pan";e.dragPrimary=i?"pan":"rotate",e.dragSecondary=i?"rotate":"pan"}};E([N({readOnly:!0})],h0.prototype,"state",null),E([N()],h0.prototype,"_navigationMode",void 0),E([N()],h0.prototype,"view",void 0),h0=E([ut("esri.widgets.NavigationToggle.NavigationToggleViewModel")],h0);const oY=h0;let Ql=class extends u9{constructor(e,i){super(e,i),this.messages=null,this.viewModel=new oY({isDefaultViewModel:!0}),this.toggle=()=>this.viewModel.toggle(),this._panButton=null,this._rotateButton=null,this._toggle=()=>{const n=this.viewModel?.navigationMode==="pan"?this._rotateButton:this._panButton;ext(n),this.toggle()},e?.isDefaultUI||ltt(ae.getLogger(this),"Navigation Toggle","arcgis-navigation-toggle",{version:"4.32"})}normalizeCtorArgs(e={}){const{isDefaultUI:i,...n}=e;return n}loadDependencies(){return WM({button:()=>te(()=>import("./index-BG-EtAO9.js"),__vite__mapDeps([335,336,337,338,339,340,341,342,343,344,345,346,347]))})}get icon(){return"move"}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}set layout(e){e!=="horizontal"&&(e="vertical"),this._set("layout",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){const e=this.viewModel?.state==="disabled",i=this.viewModel?.navigationMode==="pan",n=this.messages.toggle;return ks("div",{class:this.classes(pL.base,nl.widget,{[pL.isLayoutHorizontal]:this.layout==="horizontal"})},ks("calcite-button",{afterCreate:a=>{this._panButton=a},appearance:i?"outline-fill":"solid",class:nl.widgetButton,disabled:e,iconStart:"move",kind:"neutral",label:n,onclick:this._toggle,tabIndex:i?void 0:-1,title:n}),ks("calcite-button",{afterCreate:a=>{this._rotateButton=a},appearance:i?"solid":"outline-fill",class:nl.widgetButton,disabled:e,iconStart:"rotate",kind:"neutral",label:n,onclick:this._toggle,tabIndex:i?-1:void 0,title:n}))}};E([N()],Ql.prototype,"icon",null),E([N()],Ql.prototype,"label",null),E([N({value:"vertical"})],Ql.prototype,"layout",null),E([N(),c9("esri/widgets/NavigationToggle/t9n/NavigationToggle")],Ql.prototype,"messages",void 0),E([N()],Ql.prototype,"view",null),E([N({type:oY})],Ql.prototype,"viewModel",void 0),Ql=E([ut("esri.widgets.NavigationToggle")],Ql);const t8t=Ql;let Xh=class extends ve{get canZoomIn(){if(!this.view?.ready)return!1;const i=this.view?.constraints?.effectiveMaxScale;return i===0||this._scale>i}get canZoomOut(){const{view:e}=this;if(!e?.ready)return!1;const n=e.constraints?.effectiveMinScale;return n===0||this._scale<n}get _scale(){const e=this.view?.animation?.target;return(e&&"then"in e?void 0:e?.scale)??this.view?.scale??0}};E([N({readOnly:!0})],Xh.prototype,"canZoomIn",null),E([N({readOnly:!0})],Xh.prototype,"canZoomOut",null),E([N()],Xh.prototype,"view",void 0),E([N()],Xh.prototype,"_scale",null),Xh=E([ut("esri.widgets.Zoom.ZoomConditions2D")],Xh);const e8t=Xh;let f0=class extends ve{get canZoomIn(){return!!this.view.ready}get canZoomOut(){return!!this.view.ready}};E([N({readOnly:!0})],f0.prototype,"canZoomIn",null),E([N({readOnly:!0})],f0.prototype,"canZoomOut",null),E([N()],f0.prototype,"view",void 0),f0=E([ut("esri.widgets.Zoom.ZoomConditions3D")],f0);const i8t=f0;let fc=class extends ve{constructor(e){super(e)}destroy(){this.view=null}get canZoomIn(){return this._zoomConditions!=null&&this._zoomConditions.canZoomIn}get canZoomOut(){return this._zoomConditions!=null&&this._zoomConditions?.canZoomOut}get state(){return this.view?.ready?"ready":"disabled"}set view(e){e?e.type==="2d"?this._zoomConditions=new e8t({view:e}):e.type==="3d"&&(this._zoomConditions=new i8t({view:e})):this._zoomConditions=null,this._set("view",e)}zoomIn(){const e=this.view;this.canZoomIn&&e&&(e.type==="2d"?e.mapViewNavigation.zoomIn():c$(e.goTo({zoomFactor:2})))}zoomOut(){const e=this.view;this.canZoomOut&&e&&(e.type==="2d"?e.mapViewNavigation.zoomOut():c$(e.goTo({zoomFactor:.5})))}};E([N()],fc.prototype,"_zoomConditions",void 0),E([N()],fc.prototype,"canZoomIn",null),E([N()],fc.prototype,"canZoomOut",null),E([N({readOnly:!0})],fc.prototype,"state",null),E([N()],fc.prototype,"view",null),fc=E([ut("esri.widgets.Zoom.ZoomViewModel")],fc);const aY=fc,yL={base:"esri-zoom",horizontalLayout:"esri-zoom--horizontal"};let tu=class extends u9{constructor(e,i){super(e,i),this.messages=null,this.viewModel=new aY,this.zoomIn=()=>this.viewModel.zoomIn(),this.zoomOut=()=>this.viewModel.zoomOut()}loadDependencies(){return WM({button:()=>te(()=>import("./index-BG-EtAO9.js"),__vite__mapDeps([335,336,337,338,339,340,341,342,343,344,345,346,347]))})}get icon(){return"magnifying-glass-plus"}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}set layout(e){e!=="horizontal"&&(e="vertical"),this._set("layout",e)}set view(e){this.viewModel.view=e}get view(){return this.viewModel.view}render(){const e={[yL.horizontalLayout]:this.layout==="horizontal"},{canZoomIn:i,canZoomOut:n}=this.viewModel,{zoomIn:a,zoomOut:d}=this.messages;return ks("div",{class:this.classes(yL.base,nl.widget,e)},ks("calcite-button",{class:nl.widgetButton,disabled:!i,iconStart:"plus",kind:"neutral",label:a,onclick:this.zoomIn,title:a}),ks("calcite-button",{class:nl.widgetButton,disabled:!n,iconStart:"minus",kind:"neutral",label:d,onclick:this.zoomOut,title:d}))}};E([N()],tu.prototype,"icon",null),E([N()],tu.prototype,"label",null),E([N({value:"vertical"})],tu.prototype,"layout",null),E([N(),c9("esri/widgets/Zoom/t9n/Zoom")],tu.prototype,"messages",void 0),E([N()],tu.prototype,"view",null),E([N({type:aY})],tu.prototype,"viewModel",void 0),tu=E([ut("esri.widgets.Zoom")],tu);const r8t=tu;function n8t(t){return t?.view!==void 0}let xb=class extends nxt{constructor(e){super(e),this._defaultPositionLookup={attribution:"manual",compass:"top-left","navigation-toggle":"top-left",zoom:"top-left"},this.components=[],this._updateViewAwareWidgets=i=>{this.components.forEach((n=>{const a=this._find(n),d=a?.widget;n8t(d)&&(d.view=i)}))},this._componentsWatcher=(i,n)=>{this._removeComponents(n),this._addComponents(i),this._adjustPadding(i)}}initialize(){this.addHandles([Ce((()=>this.components),this._componentsWatcher,Qn),Ce((()=>this.view),this._updateViewAwareWidgets,Qn)])}_add(e,i,n,a,d){let y=e;if(typeof e=="string"&&this._defaultPositionLookup[e]){if(this._find(e))return;y=this._createComponent(e)}super._add(y,i,n,a,d)}_removeComponents(e){e.forEach((i=>{const n=this._find(i);n&&(this.remove(n),n.destroy())}))}_adjustPadding(e){if(!e.includes("attribution")&&!this._isOverridden("padding")){const{top:i}=this.padding;this.padding=i}}_addComponents(e){this.constructed&&e.forEach((i=>this.add(this._createComponent(i),this._defaultPositionLookup[i])))}_createComponent(e){const i=this._createWidget(e);return new wb({id:e,node:i})}_createWidget(e){const i=this.view;switch(e){case"attribution":return new J7t({view:i});case"compass":return new Q7t({view:i});case"navigation-toggle":return new t8t({view:i,isDefaultUI:!0});case"zoom":return new r8t({view:i})}}};E([N()],xb.prototype,"components",void 0),xb=E([ut("esri.views.ui.DefaultUI")],xb);const lY=xb;let Tb=class extends lY{constructor(e){super(e),this.components=["attribution","zoom"]}};E([N()],Tb.prototype,"components",void 0),Tb=E([ut("esri.views.ui.2d.DefaultUI2D")],Tb);const uY=Tb;let s8t=class Q8{constructor(e,i,n=""){this.major=e,this.minor=i,this._context=n}lessThan(e,i){return this.major<e||e===this.major&&this.minor<i}greaterEqual(e,i){return!this.lessThan(e,i)}validate(e){if(this.major!==e.major){const i=this._context&&this._context+":",n=this._context&&this._context+" ";throw new Lt(i+"unsupported-version",`Required major ${n}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:e})}}clone(){return new Q8(this.major,this.minor,this._context)}static parse(e,i=""){const[n,a]=e.split("."),d=/^\s*\d+\s*$/;if(!n?.match||!d.test(n))throw new Lt((i&&i+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:e});if(!a?.match||!d.test(a))throw new Lt((i&&i+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:e});const y=parseInt(n,10),b=parseInt(a,10);return new Q8(y,b,i)}},o8t=class extends s8t{constructor(e,i){super(e,i,"webmap")}};function nS(t){return t!=null&&typeof t=="object"&&"declaredClass"in t&&t.declaredClass==="esri.WebMap"}new o8t(2,34);var tT;let Eb=tT=class extends Zt{constructor(t){super(t),this.color=new ni([0,0,0,1])}clone(){return new tT(Ht({color:this.color}))}};E([N({type:ni,json:{write:!0}})],Eb.prototype,"color",void 0),Eb=tT=E([ut("esri.webmap.background.ColorBackground")],Eb);const a8t=Eb;let cY,hY,fY,dY,pY,yY,mY;async function l8t(){const[,{GraphicsView2D:t,GraphicContainer:e,LabelManager:i,MapViewNavigation:n,MagnifierView2D:a,GridView2D:d,Stage:y}]=await Promise.all([te(()=>import("./webglDeps-CUAZIEDa.js"),__vite__mapDeps([256,257,17,258,259])),te(()=>import("./mapViewDeps-C5BSf2By.js"),__vite__mapDeps([260,159,53,54,116,117,16,17,118,119,120,121,122,123,124,115,86,38,39,261,131,262,258,257,205,176,263,127,264,147,265,183,182,134,15,18,128,22,266,132,133,267,19,8,125,6,7,51,181,256,259,268,142,269,270,271,202,199,174,272,102,114,126,113,64,60,66,273,274,130,275,136,276,138,91,111,277,278,279,280,198,230,281,282]))]);hY=t,fY=e,dY=i,pY=n,yY=a,mY=d,cY=y}var up;let ri=(up=class extends U6t(v4t(b3t(Bbt(Cbt(t5t))))){constructor(e){super(e),this._magnifierView=null,this._gridView=null,this.stage=null,this._resolveWhenReady=[],this.rootLayerViews=new Qa({getCollections:()=>[this.basemapView?.baseLayerViews,this.layerViews,this.basemapView?.referenceLayerViews],getChildrenFunction:()=>null}),this.featuresTilingScheme=null,this.graphicsView=null,this.labelManager=null,this.navigation=new Q5({actionMap:new xM({dragTertiary:"none"})}),this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},this.supersampleScreenshotsEnabled=!0,this.supportsGround=!1,this.floors=new me,this.grid=null,this.map=null,this.spatialReferenceLocked=!1,this.timeline=new EJ,this.type="2d",this.view2dType=null,this.ui=new uY,this.test={takeScreenshot:async i=>OSt(this._getScreenshotView(i),i)},this.padding={top:0,right:0,bottom:0,left:0},m3t()}destroy(){this.layerViewManager.clear(),this._set("preconditionsReady",!1),this.frameTask=vr(this.frameTask),this.goToManager.destroy(),this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set("inputManager",null)}get graphicsTileStore(){return new L_t(this.featuresTilingScheme)}get constraintsInfo(){const e=this.defaultsFromMap?.tileInfo,i=this.spatialReference;return{lods:e?.spatialReference?.equals(i)?e.lods:null,spatialReference:i}}get initialExtentRequired(){if(!this.stateManager)return!1;const{scale:e,constraints:i,center:n,viewpoint:a,extent:d}=this;let y=this.zoom;return!(this.map&&"initialViewProperties"in this.map&&this.map.initialViewProperties?.viewpoint)&&!d&&(i?.effectiveLODs||(y=-1),(!n||e===0&&y===-1)&&(a?.targetGeometry==null||a.targetGeometry.type!=="extent"&&!a.scale))}get defaultsFromMapSettings(){return{required:{extent:!1,heightModelInfo:!1,tileInfo:!0},requiresExtentInSpatialReference:this.spatialReferenceLocked}}get scheduler(){return this.frameTask.scheduler}get typeSpecificPreconditionsReady(){const e=this._getDefaultViewpoint();if(!e)return!1;const i=e.targetGeometry,n=this.spatialReference;return UH(i.spatialReference,n)}get background(){return nS(this.map)?this.map.initialViewProperties.background:null}set background(e){this._override("background",e)}get center(){return this.stateManager?.center??null}set center(e){this.stateManager.center=e}get highlightOptions(){return pSt(this)}set highlightOptions(e){ySt(this,e)}get padding(){return this.stateManager?.padding}set padding(e){this.stateManager&&(this.stateManager.padding=e)}get rendering(){return this.stage?.renderRequested??!1}get resolution(){return this.stateManager.resolution??0}get scale(){return this.stateManager?.scale??0}set scale(e){this.stateManager&&(this.stateManager.scale=e)}get tileInfo(){return this.featuresTilingScheme?.tileInfo}get updating(){const e=!(!this.magnifier.visible||this.magnifier.position===null||!this._magnifierView?.updatingHandles.updating),i=!this.destroyed&&(!this.layerViewManager||!this.labelManager||!this.graphicsView||this.layerViewManager.updating===!0||this.labelManager.updating===!0||this.graphicsView.updating===!0||this.allLayerViews.some((n=>!n.destroyed&&!("layerViews"in n)&&n.updating===!0))||e);if(St("esri-2d-log-updating")){const n=this.allLayerViews.reduce(((a,d)=>({...a,[`${d.layer.id}(${d.layer.type})`]:!d.destroyed&&!("layerViews"in d)&&d.updating})),{});console.log(`Updating MapView: ${i}
-> Null LayerViewManager: ${!this.layerViewManager}
-> Null LabelManager: ${!this.labelManager}
-> Null GraphicsView: ${!this.graphicsView}
-> layerViewManager.updating: ${this.layerViewManager?.updating}
-> labelManager.updating: ${this.labelManager?.updating}
-> graphicsView.updating: ${this.graphicsView?.updating}
-> allLayerViews: ${JSON.stringify(n)}
-> updatingMagnifier: ${e}
`)}return i}get visibleArea(){const e=this.stateManager.visibleArea;return e&&new rr({rings:[e.map((i=>[i[0],i[1]]))],spatialReference:this.spatialReference})}get zoom(){return this.stateManager.zoom??-1}set zoom(e){this.stateManager.zoom=e}get navigating(){return this.mapViewNavigation?.interacting??!1}async hitTest(e,i){return mSt(this,e,i)}async takeScreenshot(e){return CSt(this._getScreenshotView(e),e)}toScreen(e,i){return this.stateManager.toScreen(e,i)}whenLayerView(e){return super.whenLayerView(e)}graphicChanged(e){this.graphicsView&&this.graphicsView.graphicUpdateHandler(e)}whenReady(){return new Promise((e=>{this.ready?e(this):this._resolveWhenReady.push(e)}))}forceDOMReadyCycle(){this.forceReadyCycle()}getDefaultSpatialReference(){return this.map&&"initialViewProperties"in this.map&&this.map.initialViewProperties.spatialReference||this.defaultsFromMap?.spatialReference||null}getDefaultTimeZone(){return nS(this.map)?this.map.initialViewProperties.timeZone:null}getDefaultTimeExtent(){return nS(this.map)?this.map.initialViewProperties.timeExtent:null}hasLayerViewModule(e){return FI.hasLayerViewModule(e)}importLayerView(e){return FI.importLayerView(e)}pixelSizeAt(){return this.ready?this.resolution:(ae.getLogger(this).error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)}async popupHitTest(e){const i=this.toMap(e),n=await this.hitTest(e),a=this.allLayerViews.toArray().filter((T=>T.clips.every((C=>pJ(this,C,e,i))))).reverse(),d=new globalThis.Map(a.map((T=>[T.layer.uid,T]))),y=[];let b=0,S=0;for(;b<n.results.length||S<a.length;){const T=n.results.at(b);if(T&&T.type!=="graphic"){++b;continue}const C=d.get((T?.layer??T?.graphic.layer)?.uid);if((!T||C)&&S<a.length&&a.at(S)!==C){const k=a.at(S);"fetchPopupFeaturesAtLocation"in k&&y.push({mapPoint:i,layerView:k}),++S}else T&&(y.push({graphic:T.graphic,layerView:C}),++b)}return{hits:y,location:i}}requestUpdate(){this.ready&&this.frameTask.requestUpdate()}async validate(){let e=FSt(this.type);if(St("safari")&&St("safari")<9&&(e=new Lt("mapview:browser-not-supported","This browser is not supported by MapView (Safari < 9)",{type:"safari",requiredVersion:9,detectedVersion:St("safari")})),e!=null){ae.getLogger(this).warn("#validate()",e.message);const i=document.createElement("div");i.setAttribute("style","display: flex; flex-direction: column; gap: 8px; padding: 20px; height: 100%; justify-content: center; color: black; background: white; font-family: sans-serif;");const n=document.createElement("div");n.innerHTML="Unable to display map. WebGL2 support is required.",n.setAttribute("style","font-size: 24px; font-weight: bold;");const a=document.createElement("div");a.innerHTML="Ensure that your browser and hardware meet the minimum requirements.",a.setAttribute("style","font-size: 18px;");const d=document.createElement("a");throw d.innerHTML="https://esriurl.com/systemRequirements",d.target="_blank",d.setAttribute("style","font-size: 18px;"),d.href="https://esriurl.com/systemRequirements",i.appendChild(n),i.appendChild(a),i.appendChild(d),this.surface.appendChild(i),e}}loadAsyncDependencies(){return l8t()}_getDefaultViewpoint(){const{constraints:e,initialExtent:i,map:n,padding:a,size:d}=this;if(!e)return null;const y=n&&"initialViewProperties"in n?n.initialViewProperties:void 0,b=this.stateManager.getUserStartupOptions(this.size),S=y?.viewpoint,T=S?.targetGeometry?.extent??i,C=T?.center,k=S?.rotation??0,D=S?.scale||T&&i9(T,[d[0]-a.left-a.right,d[1]-a.top-a.bottom]),z=b.center??C,G=b.rotation??k,B=b.scale??D;return z&&B?new Bo({targetGeometry:z,scale:B,rotation:G}):null}_startup(){this.timeline.begin("MapView Startup");const e=this._getDefaultViewpoint();this.stateManager.startup(e,this.size,this.spatialReference,this.defaultsFromMap.extent?.center),this.graphics.owner=this;const i=new R_t(this.surface),n=new cY(this.surface,{canvas:this.renderCanvas,contextOptions:{disabledExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions},renderingOptions:this.renderingOptions,timeline:this.timeline},i);this.stage=n,this._magnifierView=new yY,this._magnifierView.magnifier=this.magnifier,this._gridView=new mY;const a=new dY({view:this});this._set("labelManager",a);const d=new v_t({view:this});this._set("animationManager",d);const y=new pY({view:this,animationManager:d});this._set("mapViewNavigation",y),this._setupSpatialReferenceDependentProperties(),this.addHandles([this.rootLayerViews.on("change",(()=>this._updateStageChildren())),n.on("webgl-error",(S=>this.fatalError=S.error)),Ce((()=>this.stationary),(S=>n.stationary=S),ss),Ce((()=>this.background),(S=>{n.backgroundColor=S?.color,this._magnifierView.backgroundColor=S?.color}),ss),Ce((()=>this.magnifier),(S=>this._magnifierView.magnifier=S),ss),Ce((()=>this.grid),(S=>this._gridView.grid=S),ss),Ce((()=>this.renderingOptions),(S=>n.renderingOptions=S),ss),Ce((()=>this.highlights.items.map((S=>({name:S.name,options:{fillColor:S.color,haloColor:S.haloColor,fillOpacity:S.fillOpacity,haloOpacity:S.haloOpacity,haloWidth:S.haloWidth,haloBlur:S.haloBlur}})))),(()=>{n.highlightGradient=fSt(n.highlightGradient,this.highlights.items)}),ss),Ce((()=>this.state.id),(()=>n.state=this.state),ss)],"map-view"),this._updateStageChildren();const b=this._resolveWhenReady;this._resolveWhenReady=[],b.forEach((S=>S(this))),this.timeline.end("MapView Startup"),this.frameTask.start(),this._set("ready",!0)}_teardown(){this._destroySpatialReferenceDependentProperties(),this.removeHandles("map-view"),this.mapViewNavigation.destroy(),this._set("mapViewNavigation",null),this.animation=null,this.animationManager.destroy(),this._set("animationManager",null),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this._gridView.destroy(),this.stage.destroy(),this.stage=null,this._set("graphicsView",null),this._magnifierView=null,this._gridView=null,this._set("labelManager",null),this._set("mapViewNavigation",null),this.graphics.owner=null,this.frameTask.stop(),this.stationaryManager.clear(),this._set("ready",!1),this.stateManager.teardown()}_updateStageChildren(){this.stage.removeAllChildren(),this.rootLayerViews.forEach((i=>{this.stage.addChild(i.container)}));const e=this.graphicsView;this.stage.addChild(e.container),this.stage.addChild(this._magnifierView),this.stage.addChild(this._gridView)}_setupSpatialReferenceDependentProperties(){const e=new T_t(Rn.create({spatialReference:this.spatialReference,size:512,numLODs:36}));this._set("featuresTilingScheme",e);const i=new hY({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate(),container:new fY(e)});this._set("graphicsView",i)}_destroySpatialReferenceDependentProperties(){const e=this.graphicsView;this._set("graphicsView",null),e.destroy(),this._set("featuresTilingScheme",null)}_getScreenshotView(e){const{allLayerViews:i,padding:n,size:a,stage:d}=this;return{allLayerViews:i,backgroundColor:e?.ignoreBackground?null:this.background?.color,padding:n,size:a,stage:d}}_spatialReferenceChanged(e){if(this.ready){this.frameTask.stop();for(const i of this.allLayerViews)i.processDetach();this._destroySpatialReferenceDependentProperties(),this.stateManager.changeSpatialReference(e),this.stage.state=this.state,this._setupSpatialReferenceDependentProperties();for(const i of this.allLayerViews)i.processAttach();this.frameTask.requestFrame(),this.frameTask.start(),this._updateStageChildren()}}},up.type="2d",up);E([N({constructOnly:!0})],ri.prototype,"deactivatedWebGLExtensions",void 0),E([N({constructOnly:!0})],ri.prototype,"debugWebGLExtensions",void 0),E([N({readOnly:!0})],ri.prototype,"featuresTilingScheme",void 0),E([N({readOnly:!0})],ri.prototype,"graphicsTileStore",null),E([N()],ri.prototype,"graphicsView",void 0),E([N()],ri.prototype,"constraintsInfo",null),E([N()],ri.prototype,"initialExtentRequired",null),E([N()],ri.prototype,"labelManager",void 0),E([N({type:Q5,nonNullable:!0})],ri.prototype,"navigation",void 0),E([N({constructOnly:!0})],ri.prototype,"renderCanvas",void 0),E([N()],ri.prototype,"renderingOptions",void 0),E([N({constructOnly:!0})],ri.prototype,"supersampleScreenshotsEnabled",void 0),E([N({readOnly:!0})],ri.prototype,"supportsGround",void 0),E([N()],ri.prototype,"defaultsFromMapSettings",null),E([N({readOnly:!0})],ri.prototype,"typeSpecificPreconditionsReady",null),E([N({type:a8t})],ri.prototype,"background",null),E([N()],ri.prototype,"center",null),E([N({type:me})],ri.prototype,"floors",void 0),E([N()],ri.prototype,"grid",void 0),E([N({type:jc})],ri.prototype,"highlightOptions",null),E([N()],ri.prototype,"map",void 0),E([N()],ri.prototype,"padding",null),E([N({readOnly:!0})],ri.prototype,"rendering",null),E([N({readOnly:!0})],ri.prototype,"resolution",null),E([N()],ri.prototype,"scale",null),E([N({constructOnly:!0})],ri.prototype,"spatialReferenceLocked",void 0),E([N({readOnly:!0})],ri.prototype,"tileInfo",null),E([N({type:EJ,readOnly:!0})],ri.prototype,"timeline",void 0),E([N({readOnly:!0})],ri.prototype,"type",void 0),E([N({readOnly:!0})],ri.prototype,"updating",null),E([N({readOnly:!0})],ri.prototype,"view2dType",void 0),E([N({readOnly:!0})],ri.prototype,"visibleArea",null),E([N()],ri.prototype,"zoom",null),E([N({readOnly:!0})],ri.prototype,"navigating",null),E([N(),on((t=>t instanceof lY?t:Fp(uY,t)))],ri.prototype,"ui",void 0),ri=E([ut("esri.views.View2D")],ri);const u8t=ri;let Mb=class extends u8t{constructor(e){super(e),this.view2dType="map"}};E([N({readOnly:!0})],Mb.prototype,"view2dType",void 0),Mb=E([ut("esri.views.MapView")],Mb);const c8t=Mb,h8t=()=>{const t=K.useRef(null),[e,i]=K.useState(null),[n,a]=K.useState(null),[d,y]=K.useState(null);return K.useEffect(()=>{if(!t.current)return;const b=new QH({basemap:DL.id}),S=new c8t({container:t.current,map:b,center:[-98,39],zoom:4,constraints:{minZoom:2},ui:{components:[]},popupEnabled:!1});S.popup={visible:!0,dockOptions:{buttonEnabled:!1},dockEnabled:!1,visibleElements:{collapseButton:!1,closeButton:!1,featureNavigation:!1,actionBar:!1}};const T=new Va,C=new Va;return b.addMany([T,C]),a(T),y(C),i(S),()=>{S.destroy()}},[]),{mapDiv:t,view:e,routeLayer:n,stopsLayer:d}},f8t=({children:t})=>{const{view:e,mapDiv:i,routeLayer:n,stopsLayer:a}=h8t();hmt(e);const d=K.useMemo(()=>({view:e,mapDiv:i,routeLayer:n,stopsLayer:a}),[e,i,n,a]);return at.jsx(_L.Provider,{value:d,children:t})},d8t=(t,e,i)=>{K.useEffect(()=>{i&&e&&(i.graphics.removeAll(),t.forEach(n=>{n.graphic&&i.graphics.add(n.graphic)}))},[e,i,t])},gY={esriCentimeters:"centimeters",esriDecimalDegrees:"decimal-degrees",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriPoints:"points",esriUnknownUnits:"unknown",esriYards:"yards"},vY=He()(gY),bIt=He()({...gY,esriIntFeet:"international-feet",esriIntInches:"international-inches",esriIntMiles:"international-miles",esriIntNauticalMiles:"international-nautical-miles",esriIntYards:"international-yards"}),wIt=He()({esriAcres:"international-acres",esriAcresUS:"us-acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-international-feet",esriSquareFeetUS:"square-us-feet",esriSquareInches:"square-international-inches",esriSquareInchesUS:"square-us-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-international-miles",esriSquareMilesUS:"square-us-miles",esriSquareMillimeters:"square-millimeters",esriSquareYards:"square-international-yards",esriSquareYardsUS:"square-us-yards",esriUnknownAreaUnits:"unknown"}),bY=He()({esriNAUCentimeters:"centimeters",esriNAUDecimalDegrees:"decimal-degrees",esriNAUDecimeters:"decimeters",esriNAUFeet:"feet",esriNAUInches:"inches",esriNAUKilometers:"kilometers",esriNAUMeters:"meters",esriNAUMiles:"miles",esriNAUMillimeters:"millimeters",esriNAUNauticalMiles:"nautical-miles",esriNAUPoints:"points",esriNAUYards:"yards"}),p8t=He()({esriNAUCentimeters:"centimeters",esriNAUDecimalDegrees:"decimal-degrees",esriNAUDecimeters:"decimeters",esriNAUFeet:"feet",esriNAUInches:"inches",esriNAUKilometers:"kilometers",esriNAUMeters:"meters",esriNAUMiles:"miles",esriNAUMillimeters:"millimeters",esriNAUNauticalMiles:"nautical-miles",esriNAUPoints:"points",esriNAUYards:"yards",esriNAUDays:"days",esriNAUHours:"hours",esriNAUMinutes:"minutes",esriNAUSeconds:"seconds",esriNAUKilometersPerHour:"kilometers-per-hour",esriNAUMilesPerHour:"miles-per-hour",esriNAUUnknown:"unknown"}),y8t=He()({esriDOTComplete:"complete",esriDOTCompleteNoEvents:"complete-no-events",esriDOTFeatureSets:"featuresets",esriDOTInstructionsOnly:"instructions-only",esriDOTStandard:"standard",esriDOTSummaryOnly:"summary-only"}),m8t=He()({esriNAOutputLineNone:"none",esriNAOutputLineStraight:"straight",esriNAOutputLineTrueShape:"true-shape",esriNAOutputLineTrueShapeWithMeasure:"true-shape-with-measure"});He()({esriNAOutputPolygonNone:"none",esriNAOutputPolygonSimplified:"simplified",esriNAOutputPolygonDetailed:"detailed"});const wY=He()({esriNFSBAllowBacktrack:"allow-backtrack",esriNFSBAtDeadEndsOnly:"at-dead-ends-only",esriNFSBNoBacktrack:"no-backtrack",esriNFSBAtDeadEndsAndIntersections:"at-dead-ends-and-intersections"});He()({esriNATravelDirectionFromFacility:"from-facility",esriNATravelDirectionToFacility:"to-facility"});He()({esriNATimeOfDayNotUsed:"not-used",esriNATimeOfDayUseAsStartTime:"start",esriNATimeOfDayUseAsEndTime:"end"});const g8t=He()({AUTOMOBILE:"automobile",TRUCK:"truck",WALK:"walk",OTHER:"other"}),_It=He()({0:"either-side-of-vehicle",1:"right-side-of-vehicle",2:"left-side-of-vehicle",3:"no-u-turn"},{useNumericKeys:!0}),SIt=He()({0:"stop",1:"waypoint",2:"break"},{useNumericKeys:!0}),xIt=He()({0:"ok",1:"not-located",2:"network-element-not-located",3:"element-not-traversable",4:"invalid-field-values",5:"not-reached",6:"time-window-violation",7:"not-located-on-closest"},{useNumericKeys:!0}),TIt=He()({1:"right",2:"left"},{useNumericKeys:!0}),EIt=He()({0:"restriction",1:"scaled-cost",2:"added-cost"},{useNumericKeys:!0}),MIt=He()({0:"permit",1:"restrict"},{useNumericKeys:!0}),AIt=He()({1:"header",50:"arrive",51:"depart",52:"straight",100:"on-ferry",101:"off-ferry",102:"central-fork",103:"roundabout",104:"u-turn",150:"door",151:"stairs",152:"elevator",153:"escalator",154:"pedestrian-ramp",200:"left-fork",201:"left-ramp",202:"clockwise-roundabout",203:"left-handed-u-turn",204:"bear-left",205:"left-turn",206:"sharp-left",207:"left-turn-and-immediate-left-turn",208:"left-turn-and-immediate-right-turn",300:"right-fork",301:"right-ramp",302:"counter-clockwise-roundabout",303:"right-handed-u-turn",304:"bear-right",305:"right-turn",306:"sharp-right",307:"right-turn-and-immediate-left-turn",308:"right-turn-and-immediate-right-turn",400:"up-elevator",401:"up-escalator",402:"up-stairs",500:"down-elevator",501:"down-escalator",502:"down-stairs",1e3:"general-event",1001:"landmark",1002:"time-zone-change",1003:"traffic-event",1004:"scaled-cost-barrier-event",1005:"boundary-crossing",1006:"restriction-violation",1007:"lane"},{useNumericKeys:!0}),RIt=He()({0:"unknown",1:"segment",2:"maneuver-segment",3:"restriction-violation",4:"scaled-cost-barrier",5:"heavy-traffic",6:"slow-traffic",7:"moderate-traffic"},{useNumericKeys:!0}),v8t=He()({"NA Campus":"campus","NA Desktop":"desktop","NA Navigation":"navigation"}),b8t=He()({Kilometers:"kilometers",Miles:"miles",Meters:"meters"},{ignoreUnknown:!1}),h9=He()({Minutes:"minutes",TimeAt1KPH:"time-at-1-kph",TravelTime:"travel-time",TruckMinutes:"truck-minutes",TruckTravelTime:"truck-travel-time",WalkTime:"walk-time"},{ignoreUnknown:!1}),Vo=He()({Kilometers:"kilometers",Miles:"miles",Meters:"meters",Minutes:"minutes",TimeAt1KPH:"time-at-1-kph",TravelTime:"travel-time",TruckMinutes:"truck-minutes",TruckTravelTime:"truck-travel-time",WalkTime:"walk-time"},{ignoreUnknown:!1}),t5=He()({"Any Hazmat Prohibited":"any-hazmat-prohibited","Avoid Carpool Roads":"avoid-carpool-roads","Avoid Express Lanes":"avoid-express-lanes","Avoid Ferries":"avoid-ferries","Avoid Gates":"avoid-gates","Avoid Limited Access Roads":"avoid-limited-access-roads","Avoid Private Roads":"avoid-private-roads","Avoid Roads Unsuitable for Pedestrians":"avoid-roads-unsuitable-for-pedestrians","Avoid Stairways":"avoid-stairways","Avoid Toll Roads":"avoid-toll-roads","Avoid Toll Roads for Trucks":"avoid-toll-roads-for-trucks","Avoid Truck Restricted Roads":"avoid-truck-restricted-roads","Avoid Unpaved Roads":"avoid-unpaved-roads","Axle Count Restriction":"axle-count-restriction","Driving a Bus":"driving-a-bus","Driving a Taxi":"driving-a-taxi","Driving a Truck":"driving-a-truck","Driving an Automobile":"driving-an-automobile","Driving an Emergency Vehicle":"driving-an-emergency-vehicle","Height Restriction":"height-restriction","Kingpin to Rear Axle Length Restriction":"kingpin-to-rear-axle-length-restriction","Length Restriction":"length-restriction","Preferred for Pedestrians":"preferred-for-pedestrians","Riding a Motorcycle":"riding-a-motorcycle","Roads Under Construction Prohibited":"roads-under-construction-prohibited","Semi or Tractor with One or More Trailers Prohibited":"semi-or-tractor-with-one-or-more-trailers-prohibited","Single Axle Vehicles Prohibited":"single-axle-vehicles-prohibited","Tandem Axle Vehicles Prohibited":"tandem-axle-vehicles-prohibited","Through Traffic Prohibited":"through-traffic-prohibited","Truck with Trailers Restriction":"truck-with-trailers-restriction","Use Preferred Hazmat Routes":"use-preferred-hazmat-routes","Use Preferred Truck Routes":"use-preferred-truck-routes",Walking:"walking","Weight Restriction":"weight-restriction"},{ignoreUnknown:!1}),w8t=He()({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),_8t=He()({esriGeometryPoint:"point",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"envelope",esriGeometryMultipoint:"multipoint"}),S8t=He()({esriNAUTCost:"cost",esriNAUTDescriptor:"descriptor",esriNAUTRestriction:"restriction",esriNAUTHierarchy:"hierarchy"}),x8t=He()({esriDSTAltName:"alt-name",esriDSTArrive:"arrive",esriDSTBranch:"branch",esriDSTCrossStreet:"cross-street",esriDSTCumulativeLength:"cumulative-length",esriDSTDepart:"depart",esriDSTEstimatedArrivalTime:"estimated-arrival-time",esriDSTExit:"exit",esriDSTGeneral:"general",esriDSTLength:"length",esriDSTServiceTime:"service-time",esriDSTStreetName:"street-name",esriDSTSummary:"summary",esriDSTTime:"time",esriDSTTimeWindow:"time-window",esriDSTToward:"toward",esriDSTViolationTime:"violation-time",esriDSTWaitTime:"wait-time"});let da=class extends Zt{constructor(e){super(e),this.dataType=null,this.name=null,this.parameterNames=null,this.restrictionUsageParameterName=null,this.timeNeutralAttributeName=null,this.trafficSupport=null,this.units=null,this.usageType=null}};E([N({type:String})],da.prototype,"dataType",void 0),E([se(Vo,{ignoreUnknown:!1})],da.prototype,"name",void 0),E([N({type:[String]})],da.prototype,"parameterNames",void 0),E([N({type:String})],da.prototype,"restrictionUsageParameterName",void 0),E([se(h9,{ignoreUnknown:!1})],da.prototype,"timeNeutralAttributeName",void 0),E([N({type:String})],da.prototype,"trafficSupport",void 0),E([se(p8t)],da.prototype,"units",void 0),E([se(S8t)],da.prototype,"usageType",void 0),da=E([ut("esri.rest.support.NetworkAttribute")],da);const T8t=da;let dc=class extends Zt{constructor(e){super(e),this.buildTime=null,this.name=null,this.networkAttributes=null,this.networkSources=null,this.state=null}};E([N({type:Number})],dc.prototype,"buildTime",void 0),E([N({type:String})],dc.prototype,"name",void 0),E([N({type:[T8t]})],dc.prototype,"networkAttributes",void 0),E([N()],dc.prototype,"networkSources",void 0),E([N({type:String})],dc.prototype,"state",void 0),dc=E([ut("esri.rest.support.NetworkDataset")],dc);const E8t=dc;let zr=class extends qr.ClonableMixin(Zt){constructor(t){super(t),this.attributeParameterValues=null,this.description=null,this.distanceAttributeName=null,this.id=null,this.impedanceAttributeName=null,this.name=null,this.restrictionAttributeNames=null,this.simplificationTolerance=null,this.simplificationToleranceUnits=null,this.timeAttributeName=null,this.type=null,this.useHierarchy=null,this.uturnAtJunctions=null}readId(t,e){return e.id??e.itemId??null}readRestrictionAttributes(t,e){const{restrictionAttributeNames:i}=e;return i==null?null:i.map((n=>t5.fromJSON(n)))}writeRestrictionAttributes(t,e,i){t!=null&&(e[i]=t.map((n=>t5.toJSON(n))))}};E([N({type:[Object],json:{write:!0}})],zr.prototype,"attributeParameterValues",void 0),E([N({type:String,json:{write:!0}})],zr.prototype,"description",void 0),E([se(b8t,{ignoreUnknown:!1})],zr.prototype,"distanceAttributeName",void 0),E([N({type:String,json:{write:!0}})],zr.prototype,"id",void 0),E([Ne("id",["id","itemId"])],zr.prototype,"readId",null),E([se(Vo,{ignoreUnknown:!1})],zr.prototype,"impedanceAttributeName",void 0),E([N({type:String,json:{write:!0}})],zr.prototype,"name",void 0),E([N({type:[String],json:{write:!0}})],zr.prototype,"restrictionAttributeNames",void 0),E([Ne("restrictionAttributeNames")],zr.prototype,"readRestrictionAttributes",null),E([Pe("restrictionAttributeNames")],zr.prototype,"writeRestrictionAttributes",null),E([N({type:Number,json:{write:{allowNull:!0}}})],zr.prototype,"simplificationTolerance",void 0),E([se(vY)],zr.prototype,"simplificationToleranceUnits",void 0),E([se(h9,{ignoreUnknown:!1})],zr.prototype,"timeAttributeName",void 0),E([se(g8t)],zr.prototype,"type",void 0),E([N({type:Boolean,json:{write:!0}})],zr.prototype,"useHierarchy",void 0),E([se(wY)],zr.prototype,"uturnAtJunctions",void 0),zr=E([ut("esri.rest.support.TravelMode")],zr);let en=class extends Zt{constructor(e){super(e),this.accumulateAttributeNames=null,this.attributeParameterValues=null,this.currentVersion=null,this.defaultTravelMode=null,this.directionsLanguage=null,this.directionsLengthUnits=null,this.directionsSupportedLanguages=null,this.directionsTimeAttribute=null,this.hasZ=null,this.impedance=null,this.networkDataset=null,this.supportedTravelModes=null}readAccumulateAttributes(e){return e==null?null:e.map((i=>Vo.fromJSON(i)))}writeAccumulateAttributes(e,i,n){e?.length&&(i[n]=e.map((a=>Vo.toJSON(a))))}get capabilities(){return{supportsNow:(this.currentVersion??10)>=10.81}}readDefaultTravelMode(e,i){const n=i.supportedTravelModes?.find((({id:a})=>a===i.defaultTravelMode))??i.supportedTravelModes?.find((({itemId:a})=>a===i.defaultTravelMode));return n?zr.fromJSON(n):null}};E([N()],en.prototype,"accumulateAttributeNames",void 0),E([Ne("accumulateAttributeNames")],en.prototype,"readAccumulateAttributes",null),E([Pe("accumulateAttributeNames")],en.prototype,"writeAccumulateAttributes",null),E([N()],en.prototype,"attributeParameterValues",void 0),E([N()],en.prototype,"capabilities",null),E([N()],en.prototype,"currentVersion",void 0),E([N()],en.prototype,"defaultTravelMode",void 0),E([Ne("defaultTravelMode",["defaultTravelMode","supportedTravelModes"])],en.prototype,"readDefaultTravelMode",null),E([N()],en.prototype,"directionsLanguage",void 0),E([se(bY)],en.prototype,"directionsLengthUnits",void 0),E([N()],en.prototype,"directionsSupportedLanguages",void 0),E([se(h9,{ignoreUnknown:!1})],en.prototype,"directionsTimeAttribute",void 0),E([N()],en.prototype,"hasZ",void 0),E([se(Vo,{ignoreUnknown:!1})],en.prototype,"impedance",void 0),E([N({type:E8t})],en.prototype,"networkDataset",void 0),E([N({type:[zr]})],en.prototype,"supportedTravelModes",void 0),en=E([ut("esri.rest.support.NetworkServiceDescription")],en);const M8t=()=>ae.getLogger("esri.rest.networkService");function b3(t,e,i,n){n[i]=[e.length,e.length+t.length],t.forEach((a=>{e.push(a.geometry)}))}function A8t(t,e){for(let i=0;i<e.length;i++){const n=t[e[i]];if(n&&n.length)for(const a of n)a.z=void 0}M8t().warnOnce(`The remote Network Analysis service is powered by a network dataset which is not Z-aware.
Z-coordinates of the input geometry are ignored.`)}function R8t(t,e){for(let i=0;i<e.length;i++){const n=t[e[i]];if(n&&n.length){for(const a of n)if(a!=null&&a.hasZ)return!0}}return!1}async function _Y(t,e,i){if(!t)throw new Lt("network-service:missing-url","Url to Network service is missing");const n=og({f:"json",token:e},i),{data:a}=await Di(t,n),d=a.currentVersion>=10.4?O8t(t,e,i):C8t(t,i),{defaultTravelMode:y,supportedTravelModes:b}=await d;return a.defaultTravelMode=y,a.supportedTravelModes=b,en.fromJSON(a)}async function C8t(t,e){const i=og({f:"json"},e),{data:n}=await Di(t.replace(/\/rest\/.*$/i,"/info"),i);if(!n?.owningSystemUrl)return{supportedTravelModes:[],defaultTravelMode:null};const{owningSystemUrl:a}=n,d=rg(a)+"/sharing/rest/portals/self",{data:y}=await Di(d,i),b=kg("helperServices.routingUtilities.url",y);if(!b)return{supportedTravelModes:[],defaultTravelMode:null};const S=m5(a),T=/\/solve$/i.test(S.path)?"Route":/\/solveclosestfacility$/i.test(S.path)?"ClosestFacility":"ServiceAreas",C=og({f:"json",serviceName:T},e),k=rg(b)+"/GetTravelModes/execute",D=await Di(k,C),z=[];let G=null;if(D?.data?.results?.length){const B=D.data.results;for(const H of B)if(H.paramName==="supportedTravelModes"){if(H.value?.features){for(const{attributes:X}of H.value.features)if(X){const et=JSON.parse(X.TravelMode);z.push(et)}}}else H.paramName==="defaultTravelMode"&&(G=H.value)}return{supportedTravelModes:z,defaultTravelMode:G}}async function O8t(t,e,i){try{const n=og({f:"json",token:e},i),a=rg(t)+"/retrieveTravelModes",{data:{supportedTravelModes:d,defaultTravelMode:y}}=await Di(a,n);return{supportedTravelModes:d,defaultTravelMode:y}}catch(n){throw new Lt("network-service:retrieveTravelModes","Could not get to the NAServer's retrieveTravelModes.",{error:n})}}const $8t="automobile",N8t={automobile:"Driving Time",walk:"Walking Time",truck:"Trucking Time",other:""},k8t=()=>{const[t,e]=K.useState($8t),[i,n]=K.useState(),a=K.useMemo(()=>i?.find(({name:d})=>d===N8t[t]),[t,i]);return K.useEffect(()=>{(async()=>{const y=await _Y("https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World","AAPTxy8BH1VEsoebNVZXo8HurPgozF5Xdhrqp6yUG3_zWVgwn0_Cdd4lKkmPQEPr7z5jgEj3faJqst18DC5lqnv-kKCjLaboVQuJpOaRAtHDoHfZAsw52ToYH7KQICog9fn94LZ8loRiVF7RXZGksi6hLy8K4Y67JZWqPapOLOqy7NCKTCPzKSWBFtMlPOLjFBtyh3nQlXHhbHoBIwVdll9fAjMgjsEPTlpmS40p5l-Miwg.AT1_im204mJh");n(y.supportedTravelModes)})()},[]),{supportedTravelModes:i,travelMode:t,setTravelMode:e,selectedTravelMode:a}},P8t=t=>new Ii({geometry:t,symbol:{type:"simple-line",color:[0,122,255,.8],width:4}}),w3=()=>Math.random().toString(36).substring(2,9);function NIt(t,e){if(t==null)return null;const i={},n=new RegExp(`^${e}`,"i");for(const a of Object.keys(t))if(n.test(a)){const d=a.slice(e.length);i[Vo.fromJSON(d)]=t[a]}return i}function kIt(t,e,i){if(t!=null){e.attributes||(e.attributes={});for(const n in t){const a=Vo.toJSON(n);e.attributes[`${i}${a}`]=t[n]}}}function PIt(t){const e={};for(const i of Object.keys(t)){const n=i;e[Vo.fromJSON(n)]=t[i]}return e}function IIt(t){const e={};for(const i of Object.keys(t)){const n=i;e[Vo.toJSON(n)]=t[i]}return e}function I8t(t,e){return t==null||e==null?null:Math.round((t-e)/6e4)}function D8t(t){const e=t.toJSON(),i=e;return i.accumulateAttributeNames&&=e.accumulateAttributeNames?.join(),i.attributeParameterValues&&=JSON.stringify(e.attributeParameterValues),i.barriers&&=JSON.stringify(e.barriers),i.outSR&&=e.outSR?.wkid,i.overrides&&=JSON.stringify(e.overrides),i.polygonBarriers&&=JSON.stringify(e.polygonBarriers),i.polylineBarriers&&=JSON.stringify(e.polylineBarriers),i.restrictionAttributeNames&&=e.restrictionAttributeNames?.join(),i.stops&&=JSON.stringify(e.stops),i.travelMode&&=JSON.stringify(e.travelMode),i}var eT;const iT=new wr({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let Gi=eT=class extends Zt{constructor(t){super(t),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(t,e){return this.readFeaturesWithClass(t,e,Ii)}writeGeometryType(t,e,i,n){if(t)return void iT.write(t,e,i,n);const{features:a}=this;if(a){for(const d of a)if(d?.geometry!=null)return void iT.write(d.geometry.type,e,i,n)}}readQueryGeometry(t,e){if(!t)return null;const i=!!t.spatialReference,n=Yc(t);return n&&!i&&e.spatialReference&&(n.spatialReference=le.fromJSON(e.spatialReference)),n}writeSpatialReference(t,e){if(t)return void(e.spatialReference=t.toJSON());const{features:i}=this;if(i){for(const n of i)if(n&&n.geometry!=null&&n.geometry.spatialReference)return void(e.spatialReference=n.geometry.spatialReference.toJSON())}}clone(){return new eT(this.cloneProperties())}cloneProperties(){return Ht({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(t){const e=this.write();if(e.features&&Array.isArray(t)&&t.length>0)for(let i=0;i<e.features.length;i++){const n=e.features[i];if(n.geometry){const a=t?.[i];n.geometry=a?.toJSON()||n.geometry}}return e}quantize(t){const{scale:[e,i],translate:[n,a]}=t,d=T=>Math.round((T-n)/e),y=T=>Math.round((a-T)/i),b=this.features,S=this._getQuantizationFunction(this.geometryType,d,y);for(let T=0,C=b.length;T<C;T++)S?.(b[T].geometry)||(b.splice(T,1),T--,C--);return this.transform=t,this}unquantize(){const{geometryType:t,features:e,transform:i}=this;if(!i)return this;const{translate:[n,a],scale:[d,y]}=i,b=D=>D*d+n,S=D=>a-D*y;let T=null,C=null;if(this.hasZ&&i?.scale?.[2]!=null){const{translate:[,,D],scale:[,,z]}=i;T=G=>G*z+D}if(this.hasM&&i?.scale?.[3]!=null){const{translate:[,,,D],scale:[,,,z]}=i;C=G=>G==null?G:G*z+D}const k=this._getHydrationFunction(t,b,S,T,C);for(const{geometry:D}of e)D!=null&&k&&k(D);return this.transform=null,this}readFeaturesWithClass(t,e,i){const n=le.fromJSON(e.spatialReference),a=[];for(let d=0;d<t.length;d++){const y=t[d],b=i.fromJSON(y),S=y.geometry?.spatialReference;b.geometry==null||S||(b.geometry.spatialReference=n);const T=y.aggregateGeometries,C=b.aggregateGeometries;if(T&&C!=null)for(const k in C){const D=C[k],z=T[k],G=z?.spatialReference;D==null||G||(D.spatialReference=n)}a.push(b)}return a}_quantizePoints(t,e,i){let n,a;const d=[];for(let y=0,b=t.length;y<b;y++){const S=t[y];if(y>0){const T=e(S[0]),C=i(S[1]);T===n&&C===a||(d.push([T-n,C-a]),n=T,a=C)}else n=e(S[0]),a=i(S[1]),d.push([n,a])}return d.length>0?d:null}_getQuantizationFunction(t,e,i){return t==="point"?n=>(n.x=e(n.x),n.y=i(n.y),n):t==="polyline"||t==="polygon"?n=>{const a=P0(n)?n.rings:n.paths,d=[];for(let y=0,b=a.length;y<b;y++){const S=a[y],T=this._quantizePoints(S,e,i);T&&d.push(T)}return d.length>0?(P0(n)?n.rings=d:n.paths=d,n):null}:t==="multipoint"?n=>{const a=this._quantizePoints(n.points,e,i);return a&&a.length>0?(n.points=a,n):null}:t==="extent"?n=>n:null}_getHydrationFunction(t,e,i,n,a){return t==="point"?d=>{d.x=e(d.x),d.y=i(d.y),n&&(d.z=n(d.z))}:t==="polyline"||t==="polygon"?d=>{const y=P0(d)?d.rings:d.paths;let b,S;for(let T=0,C=y.length;T<C;T++){const k=y[T];for(let D=0,z=k.length;D<z;D++){const G=k[D];D>0?(b+=G[0],S+=G[1]):(b=G[0],S=G[1]),G[0]=e(b),G[1]=i(S)}}if(n&&a)for(let T=0,C=y.length;T<C;T++){const k=y[T];for(let D=0,z=k.length;D<z;D++){const G=k[D];G[2]=n(G[2]),G[3]=a(G[3])}}else if(n)for(let T=0,C=y.length;T<C;T++){const k=y[T];for(let D=0,z=k.length;D<z;D++){const G=k[D];G[2]=n(G[2])}}else if(a)for(let T=0,C=y.length;T<C;T++){const k=y[T];for(let D=0,z=k.length;D<z;D++){const G=k[D];G[2]=a(G[2])}}}:t==="extent"?d=>{d.xmin=e(d.xmin),d.ymin=i(d.ymin),d.xmax=e(d.xmax),d.ymax=i(d.ymax),n&&d.zmax!=null&&d.zmin!=null&&(d.zmax=n(d.zmax),d.zmin=n(d.zmin)),a&&d.mmax!=null&&d.mmin!=null&&(d.mmax=a(d.mmax),d.mmin=a(d.mmin))}:t==="multipoint"?d=>{const y=d.points;let b,S;for(let T=0,C=y.length;T<C;T++){const k=y[T];T>0?(b+=k[0],S+=k[1]):(b=k[0],S=k[1]),k[0]=e(b),k[1]=i(S)}if(n&&a)for(let T=0,C=y.length;T<C;T++){const k=y[T];k[2]=n(k[2]),k[3]=a(k[3])}else if(n)for(let T=0,C=y.length;T<C;T++){const k=y[T];k[2]=n(k[2])}else if(a)for(let T=0,C=y.length;T<C;T++){const k=y[T];k[2]=a(k[2])}}:null}};E([N({type:String,json:{write:!0}})],Gi.prototype,"displayFieldName",void 0),E([N({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],Gi.prototype,"exceededTransferLimit",void 0),E([N({type:[Ii],json:{write:!0}})],Gi.prototype,"features",void 0),E([Ne("features")],Gi.prototype,"readFeatures",null),E([N({type:[Cn],json:{write:!0}})],Gi.prototype,"fields",void 0),E([N({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:iT.read}}})],Gi.prototype,"geometryType",void 0),E([Pe("geometryType")],Gi.prototype,"writeGeometryType",null),E([N({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],Gi.prototype,"hasM",void 0),E([N({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],Gi.prototype,"hasZ",void 0),E([N({types:av,json:{write:!0}})],Gi.prototype,"queryGeometry",void 0),E([Ne("queryGeometry")],Gi.prototype,"readQueryGeometry",null),E([N({type:le,json:{write:!0}})],Gi.prototype,"spatialReference",void 0),E([Pe("spatialReference")],Gi.prototype,"writeSpatialReference",null),E([N({json:{write:!0}})],Gi.prototype,"transform",void 0),Gi=eT=E([ut("esri.rest.support.FeatureSet")],Gi),Gi.prototype.toJSON.isDefaultToJSON=!0;const mL=new wr({esriJobMessageTypeInformative:"informative",esriJobMessageTypeProcessDefinition:"process-definition",esriJobMessageTypeProcessStart:"process-start",esriJobMessageTypeProcessStop:"process-stop",esriJobMessageTypeWarning:"warning",esriJobMessageTypeError:"error",esriJobMessageTypeEmpty:"empty",esriJobMessageTypeAbort:"abort"});let wm=class extends Zt{constructor(e){super(e),this.description=null,this.type=null}};E([N({type:String,json:{write:!0}})],wm.prototype,"description",void 0),E([N({type:String,json:{read:mL.read,write:mL.write}})],wm.prototype,"type",void 0),wm=E([ut("esri.rest.support.GPMessage")],wm);const L8t=wm,gL=new wr({0:"informative",1:"process-definition",2:"process-start",3:"process-stop",50:"warning",100:"error",101:"empty",200:"abort"});let Ab=class extends L8t{constructor(e){super(e),this.type=null}};E([N({type:String,json:{read:gL.read,write:gL.write}})],Ab.prototype,"type",void 0),Ab=E([ut("esri.rest.support.NAMessage")],Ab);const j8t=Ab;let _m=class extends Zt{constructor(e){super(e)}};E([N({json:{read:{source:"string"}}})],_m.prototype,"text",void 0),E([se(x8t,{name:"stringType"})],_m.prototype,"type",void 0),_m=E([ut("esri.rest.support.DirectionsString")],_m);const SY=_m;let eu=class extends Zt{constructor(e){super(e),this.arriveTime=null,this.arriveTimeOffset=null,this.geometry=null,this.strings=null}readArriveTimeOffset(e,i){return I8t(i.ETA,i.arriveTimeUTC)}readGeometry(e,i){return ue.fromJSON(i.point)}};E([N({type:Date,json:{read:{source:"arriveTimeUTC"}}})],eu.prototype,"arriveTime",void 0),E([N()],eu.prototype,"arriveTimeOffset",void 0),E([Ne("arriveTimeOffset",["arriveTimeUTC","ETA"])],eu.prototype,"readArriveTimeOffset",null),E([N({type:ue})],eu.prototype,"geometry",void 0),E([Ne("geometry",["point"])],eu.prototype,"readGeometry",null),E([N({type:[SY]})],eu.prototype,"strings",void 0),eu=E([ut("esri.rest.support.DirectionsEvent")],eu);const z8t=eu;function U8t(t){if(t==null||t==="")return null;let e=0,i=0,n=0,a=0;const d=[];let y,b,S,T,C,k,D,z,G=0,B=0,H=0;if(C=t.match(/((\+|-)[^+\-|]+|\|)/g),C||(C=[]),parseInt(C[G],32)===0){G=2;const X=parseInt(C[G],32);G++,k=parseInt(C[G],32),G++,1&X&&(B=C.indexOf("|")+1,D=parseInt(C[B],32),B++),2&X&&(H=C.indexOf("|",B)+1,z=parseInt(C[H],32),H++)}else k=parseInt(C[G],32),G++;for(;G<C.length&&C[G]!=="|";){y=parseInt(C[G],32)+e,G++,e=y,b=parseInt(C[G],32)+i,G++,i=b;const X=[y/k,b/k];B&&(T=parseInt(C[B],32)+n,B++,n=T,X.push(T/D)),H&&(S=parseInt(C[H],32)+a,H++,a=S,X.push(S/z)),d.push(X)}return{paths:[d],hasZ:B>0,hasM:H>0}}let Zh=class extends Ii{constructor(t){super(t),this.events=null,this.geometry=null,this.strings=null}readGeometry(t,e){const i=U8t(e.compressedGeometry);return i!=null?sr.fromJSON(i):null}};E([N({type:[z8t]})],Zh.prototype,"events",void 0),E([N({type:sr})],Zh.prototype,"geometry",void 0),E([Ne("geometry",["compressedGeometry"])],Zh.prototype,"readGeometry",null),E([N({type:[SY]})],Zh.prototype,"strings",void 0),Zh=E([ut("esri.rest.support.DirectionsFeature")],Zh);const F8t=Zh;function B8t(t,e){if(t.length===0)return new sr({spatialReference:e});const i=[];for(const y of t)for(const b of y.paths)i.push(...b);const n=[];i.forEach(((y,b)=>{b!==0&&y[0]===i[b-1][0]&&y[1]===i[b-1][1]||n.push(y)}));const{hasM:a,hasZ:d}=t[0];return new sr({hasM:a,hasZ:d,paths:[n],spatialReference:e})}let _s=class extends Gi{constructor(e){super(e),this.extent=null,this.features=[],this.geometryType="polyline",this.routeId=null,this.routeName=null,this.totalDriveTime=null,this.totalLength=null,this.totalTime=null}readFeatures(e,i){if(!e)return[];const n=i.summary.envelope.spatialReference??i.spatialReference,a=n&&le.fromJSON(n);return e.map((d=>{const y=F8t.fromJSON(d);if(y.geometry!=null&&(y.geometry.spatialReference=a),y.events!=null)for(const b of y.events)b.geometry!=null&&(b.geometry.spatialReference=a);return y}))}get mergedGeometry(){return this.features?B8t(this.features.map((({geometry:e})=>e)),this.extent.spatialReference):null}get strings(){return this.features.flatMap((({strings:e})=>e)).filter(Bc)}};E([N({type:Be,json:{read:{source:"summary.envelope"}}})],_s.prototype,"extent",void 0),E([N({nonNullable:!0})],_s.prototype,"features",void 0),E([Ne("features")],_s.prototype,"readFeatures",null),E([N()],_s.prototype,"geometryType",void 0),E([N({readOnly:!0})],_s.prototype,"mergedGeometry",null),E([N()],_s.prototype,"routeId",void 0),E([N()],_s.prototype,"routeName",void 0),E([N({value:null,readOnly:!0})],_s.prototype,"strings",null),E([N({json:{read:{source:"summary.totalDriveTime"}}})],_s.prototype,"totalDriveTime",void 0),E([N({json:{read:{source:"summary.totalLength"}}})],_s.prototype,"totalLength",void 0),E([N({json:{read:{source:"summary.totalTime"}}})],_s.prototype,"totalTime",void 0),_s=E([ut("esri.rest.support.DirectionsFeatureSet")],_s);const G8t=_s;let Ao=class extends Zt{constructor(e){super(e),this.directionLines=null,this.directionPoints=null,this.directions=null,this.route=null,this.routeName=null,this.stops=null,this.traversedEdges=null,this.traversedJunctions=null,this.traversedTurns=null}};E([N({type:Gi,json:{write:!0}})],Ao.prototype,"directionLines",void 0),E([N({type:Gi,json:{write:!0}})],Ao.prototype,"directionPoints",void 0),E([N({type:G8t,json:{write:!0}})],Ao.prototype,"directions",void 0),E([N({type:Ii,json:{write:!0}})],Ao.prototype,"route",void 0),E([N({type:String,json:{write:!0}})],Ao.prototype,"routeName",void 0),E([N({type:[Ii],json:{write:!0}})],Ao.prototype,"stops",void 0),E([N({type:Gi,json:{write:!0}})],Ao.prototype,"traversedEdges",void 0),E([N({type:Gi,json:{write:!0}})],Ao.prototype,"traversedJunctions",void 0),E([N({type:Gi,json:{write:!0}})],Ao.prototype,"traversedTurns",void 0),Ao=E([ut("esri.rest.support.RouteResult")],Ao);const q8t=Ao;function sS(t){return t?Gi.fromJSON(t).features.filter(Bc):[]}let Ro=class extends Zt{constructor(e){super(e),this.checksum=null,this.messages=null,this.pointBarriers=null,this.polylineBarriers=null,this.polygonBarriers=null,this.routeResults=null}readPointBarriers(e,i){return sS(i.barriers)}readPolylineBarriers(e){return sS(e)}readPolygonBarriers(e){return sS(e)}};E([N({type:String})],Ro.prototype,"checksum",void 0),E([N({type:[j8t]})],Ro.prototype,"messages",void 0),E([N({type:[Ii]})],Ro.prototype,"pointBarriers",void 0),E([Ne("pointBarriers",["barriers"])],Ro.prototype,"readPointBarriers",null),E([N({type:[Ii]})],Ro.prototype,"polylineBarriers",void 0),E([Ne("polylineBarriers")],Ro.prototype,"readPolylineBarriers",null),E([N({type:[Ii]})],Ro.prototype,"polygonBarriers",void 0),E([Ne("polygonBarriers")],Ro.prototype,"readPolygonBarriers",null),E([N({type:[q8t]})],Ro.prototype,"routeResults",void 0),Ro=E([ut("esri.rest.support.RouteSolveResult")],Ro);function _3(t){return t instanceof Gi}async function H8t(t,e,i){const n=[],a=[],d={},y={},b=m5(t),{path:S}=b;_3(e.stops)&&b3(e.stops.features,a,"stops.features",d),_3(e.pointBarriers)&&b3(e.pointBarriers.features,a,"pointBarriers.features",d),_3(e.polylineBarriers)&&b3(e.polylineBarriers.features,a,"polylineBarriers.features",d),_3(e.polygonBarriers)&&b3(e.polygonBarriers.features,a,"polygonBarriers.features",d);const T=await fW(a);for(const z in d){const G=d[z];n.push(z),y[z]=T.slice(G[0],G[1])}if(R8t(y,n)){let z=null;try{z=await _Y(S,e.apiKey,i)}catch{}z&&!z.hasZ&&A8t(y,n)}for(const z in y)y[z].forEach(((G,B)=>{ga(e,z)[B].geometry=G}));const C={...i,query:{...b.query,...D8t(e),f:"json"}},k=S.endsWith("/solve")?S:`${S}/solve`,{data:D}=await Di(k,C);return V8t(D)}function V8t(t){const{barriers:e,checksum:i,directionLines:n,directionPoints:a,directions:d,messages:y,polygonBarriers:b,polylineBarriers:S,routes:T,stops:C,traversedEdges:k,traversedJunctions:D,traversedTurns:z}=t,G=et=>{const rt=H.find((ot=>ot.routeName===et));if(rt!=null)return rt;const it={routeId:H.length+1,routeName:et};return H.push(it),it},B=et=>{const rt=H.find((ot=>ot.routeId===et));if(rt!=null)return rt;const it={routeId:et,routeName:null};return H.push(it),it},H=[];T?.features.forEach(((et,rt)=>{et.geometry.spatialReference=T.spatialReference??void 0;const it=et.attributes.Name,ot=rt+1;H.push({routeId:ot,routeName:it,route:et})})),d?.forEach((et=>{const{routeName:rt}=et;G(rt).directions=et}));const X=(C?.features.every((et=>et.attributes.RouteName==null))??!1)&&H.length>0?H[0].routeName:null;return C?.features.forEach((et=>{et.geometry&&(et.geometry.spatialReference??=C.spatialReference??void 0);const rt=X??et.attributes.RouteName,it=G(rt);it.stops??=[],it.stops.push(et)})),n?.features.forEach((et=>{const rt=et.attributes.RouteID,it=B(rt),{geometryType:ot,spatialReference:pt}=n;it.directionLines??={features:[],geometryType:ot,spatialReference:pt},it.directionLines.features.push(et)})),a?.features.forEach((et=>{const rt=et.attributes.RouteID,it=B(rt),{geometryType:ot,spatialReference:pt}=a;it.directionPoints??={features:[],geometryType:ot,spatialReference:pt},it.directionPoints.features.push(et)})),k?.features.forEach((et=>{const rt=et.attributes.RouteID,it=B(rt),{geometryType:ot,spatialReference:pt}=k;it.traversedEdges??={features:[],geometryType:ot,spatialReference:pt},it.traversedEdges.features.push(et)})),D?.features.forEach((et=>{const rt=et.attributes.RouteID,it=B(rt),{geometryType:ot,spatialReference:pt}=D;it.traversedJunctions??={features:[],geometryType:ot,spatialReference:pt},it.traversedJunctions.features.push(et)})),z?.features.forEach((et=>{const rt=et.attributes.RouteID,it=B(rt);it.traversedTurns??={features:[]},it.traversedTurns.features.push(et)})),Ro.fromJSON({barriers:e,checksum:i,messages:y,polygonBarriers:b,polylineBarriers:S,routeResults:H})}let Ha=class extends qr.ClonableMixin(Zt){constructor(t){super(t),this.doNotLocateOnRestrictedElements=null,this.geometry=null,this.geometryType=null,this.name=null,this.spatialRelationship=null,this.type="layer",this.where=null}};E([N({type:Boolean,json:{write:!0}})],Ha.prototype,"doNotLocateOnRestrictedElements",void 0),E([N({types:av,json:{read:Yc,write:!0}})],Ha.prototype,"geometry",void 0),E([se(_8t)],Ha.prototype,"geometryType",void 0),E([N({type:String,json:{name:"layerName",write:!0}})],Ha.prototype,"name",void 0),E([se(w8t,{name:"spatialRel"})],Ha.prototype,"spatialRelationship",void 0),E([N({type:String,json:{write:!0}})],Ha.prototype,"type",void 0),E([N({type:String,json:{write:!0}})],Ha.prototype,"where",void 0),Ha=E([ut("esri.rest.support.DataLayer")],Ha);var rT,cp;let Rb=(cp=class extends Gi{constructor(e){super(e),this.doNotLocateOnRestrictedElements=null}clone(){return new rT({doNotLocateOnRestrictedElements:this.doNotLocateOnRestrictedElements,...this.cloneProperties()})}},rT=cp,cp);E([N({type:Boolean,json:{write:!0}})],Rb.prototype,"doNotLocateOnRestrictedElements",void 0),Rb=rT=E([ut("esri.rest.support.NetworkFeatureSet")],Rb);let Sm=class extends qr.ClonableMixin(Zt){constructor(t){super(t),this.doNotLocateOnRestrictedElements=null,this.url=null}};E([N({type:Boolean,json:{write:!0}})],Sm.prototype,"doNotLocateOnRestrictedElements",void 0),E([N({type:String,json:{write:!0}})],Sm.prototype,"url",void 0),Sm=E([ut("esri.rest.support.NetworkUrl")],Sm);var nT,hp;let be=(hp=class extends qr.ClonableMixin(Zt){constructor(e){super(e),this.accumulateAttributes=null,this.apiKey=null,this.attributeParameterValues=null,this.checksum=null,this.directionsLanguage=null,this.directionsLengthUnits=null,this.directionsOutputType=null,this.directionsStyleName=null,this.directionsTimeAttribute=null,this.findBestSequence=null,this.geometryPrecision=null,this.geometryPrecisionM=null,this.geometryPrecisionZ=null,this.ignoreInvalidLocations=null,this.impedanceAttribute=null,this.outputGeometryPrecision=null,this.outputGeometryPrecisionUnits=null,this.outputLines="true-shape",this.outSpatialReference=null,this.overrides=null,this.pointBarriers=null,this.polygonBarriers=null,this.polylineBarriers=null,this.preserveFirstStop=null,this.preserveLastStop=null,this.preserveObjectID=null,this.restrictionAttributes=null,this.restrictUTurns=null,this.returnBarriers=!1,this.returnDirections=!1,this.returnPolygonBarriers=!1,this.returnPolylineBarriers=!1,this.returnRoutes=!0,this.returnStops=!1,this.returnTraversedEdges=null,this.returnTraversedJunctions=null,this.returnTraversedTurns=null,this.returnZ=!0,this.startTime=null,this.startTimeIsUTC=!0,this.stops=null,this.timeWindowsAreUTC=null,this.travelMode=null,this.useHierarchy=null,this.useTimeWindows=null}static from(e){return Fp(nT,e)}readAccumulateAttributes(e){return e==null?null:e.map((i=>Vo.fromJSON(i)))}writeAccumulateAttributes(e,i,n){e?.length&&(i[n]=e.map((a=>Vo.toJSON(a))))}writePointBarriers(e,i,n){S3(e,i,n)}writePolygonBarrier(e,i,n){S3(e,i,n)}writePolylineBarrier(e,i,n){S3(e,i,n)}readRestrictionAttributes(e){return e==null?null:e.map((i=>t5.fromJSON(i)))}writeRestrictionAttributes(e,i,n){e?.length&&(i[n]=e.map((a=>t5.toJSON(a))))}readStartTime(e,i){const{startTime:n}=i;return n==null?null:n==="now"?"now":new Date(n)}writeStartTime(e,i){e!=null&&(i.startTime=e==="now"?"now":e.getTime())}readStops(e,i){return X8t(i.stops)}writeStops(e,i,n){S3(e,i,n)}},nT=hp,hp);function W8t(t){return t&&"type"in t}function J8t(t){return t&&"features"in t&&"doNotLocateOnRestrictedElements"in t}function Y8t(t){return t&&"url"in t}function K8t(t){return t&&"features"in t}function X8t(t){return W8t(t)?Ha.fromJSON(t):Y8t(t)?Sm.fromJSON(t):J8t(t)?Rb.fromJSON(t):K8t(t)?Gi.fromJSON(t):null}function S3(t,e,i){t!=null&&(e[i]=me.isCollection(t)?{features:t.toArray().map((n=>n.toJSON()))}:t.toJSON())}E([N({type:[String],json:{name:"accumulateAttributeNames",write:!0}})],be.prototype,"accumulateAttributes",void 0),E([Ne("accumulateAttributes")],be.prototype,"readAccumulateAttributes",null),E([Pe("accumulateAttributes")],be.prototype,"writeAccumulateAttributes",null),E([N(g5)],be.prototype,"apiKey",void 0),E([N({json:{write:!0}})],be.prototype,"attributeParameterValues",void 0),E([N({type:String,json:{write:!0}})],be.prototype,"checksum",void 0),E([N({type:String,json:{write:!0}})],be.prototype,"directionsLanguage",void 0),E([se(bY)],be.prototype,"directionsLengthUnits",void 0),E([se(y8t)],be.prototype,"directionsOutputType",void 0),E([se(v8t)],be.prototype,"directionsStyleName",void 0),E([se(h9,{name:"directionsTimeAttributeName",ignoreUnknown:!1})],be.prototype,"directionsTimeAttribute",void 0),E([N({type:Boolean,json:{write:!0}})],be.prototype,"findBestSequence",void 0),E([N({type:Number,json:{write:!0}})],be.prototype,"geometryPrecision",void 0),E([N({type:Number,json:{write:!0}})],be.prototype,"geometryPrecisionM",void 0),E([N({type:Number,json:{write:!0}})],be.prototype,"geometryPrecisionZ",void 0),E([N({type:Boolean,json:{write:!0}})],be.prototype,"ignoreInvalidLocations",void 0),E([se(Vo,{name:"impedanceAttributeName",ignoreUnknown:!1})],be.prototype,"impedanceAttribute",void 0),E([N({type:Number,json:{write:!0}})],be.prototype,"outputGeometryPrecision",void 0),E([se(vY)],be.prototype,"outputGeometryPrecisionUnits",void 0),E([se(m8t)],be.prototype,"outputLines",void 0),E([N({type:le,json:{name:"outSR",write:!0}})],be.prototype,"outSpatialReference",void 0),E([N({json:{write:!0}})],be.prototype,"overrides",void 0),E([N({json:{name:"barriers",write:!0}})],be.prototype,"pointBarriers",void 0),E([Pe("pointBarriers")],be.prototype,"writePointBarriers",null),E([N({json:{write:!0}})],be.prototype,"polygonBarriers",void 0),E([Pe("polygonBarriers")],be.prototype,"writePolygonBarrier",null),E([N({json:{write:!0}})],be.prototype,"polylineBarriers",void 0),E([Pe("polylineBarriers")],be.prototype,"writePolylineBarrier",null),E([N({type:Boolean,json:{write:!0}})],be.prototype,"preserveFirstStop",void 0),E([N({type:Boolean,json:{write:!0}})],be.prototype,"preserveLastStop",void 0),E([N({type:Boolean,json:{write:!0}})],be.prototype,"preserveObjectID",void 0),E([N({type:[String],json:{name:"restrictionAttributeNames",write:!0}})],be.prototype,"restrictionAttributes",void 0),E([Ne("restrictionAttributes")],be.prototype,"readRestrictionAttributes",null),E([Pe("restrictionAttributes")],be.prototype,"writeRestrictionAttributes",null),E([se(wY)],be.prototype,"restrictUTurns",void 0),E([N({type:Boolean,json:{write:!0}})],be.prototype,"returnBarriers",void 0),E([N({type:Boolean,json:{write:!0}})],be.prototype,"returnDirections",void 0),E([N({type:Boolean,json:{write:!0}})],be.prototype,"returnPolygonBarriers",void 0),E([N({type:Boolean,json:{write:!0}})],be.prototype,"returnPolylineBarriers",void 0),E([N({type:Boolean,json:{write:!0}})],be.prototype,"returnRoutes",void 0),E([N({type:Boolean,json:{write:!0}})],be.prototype,"returnStops",void 0),E([N({type:Boolean,json:{write:!0}})],be.prototype,"returnTraversedEdges",void 0),E([N({type:Boolean,json:{write:!0}})],be.prototype,"returnTraversedJunctions",void 0),E([N({type:Boolean,json:{write:!0}})],be.prototype,"returnTraversedTurns",void 0),E([N({type:Boolean,json:{write:!0}})],be.prototype,"returnZ",void 0),E([N({json:{write:!0}})],be.prototype,"startTime",void 0),E([Ne("startTime")],be.prototype,"readStartTime",null),E([Pe("startTime")],be.prototype,"writeStartTime",null),E([N({type:Boolean,json:{write:!0}})],be.prototype,"startTimeIsUTC",void 0),E([N({json:{write:!0}})],be.prototype,"stops",void 0),E([Ne("stops")],be.prototype,"readStops",null),E([Pe("stops")],be.prototype,"writeStops",null),E([N({type:Boolean,json:{write:!0}})],be.prototype,"timeWindowsAreUTC",void 0),E([N({type:zr,json:{write:!0}})],be.prototype,"travelMode",void 0),E([N({type:Boolean,json:{write:!0}})],be.prototype,"useHierarchy",void 0),E([N({type:Boolean,json:{write:!0}})],be.prototype,"useTimeWindows",void 0),be=nT=E([ut("esri.rest.support.RouteParameters")],be);const Z8t=(t,e,i,n)=>{const[a,d]=K.useState([]),[y,b]=K.useState(null),[S,T]=K.useState(!1),[C,k]=K.useState(null),{selectedTravelMode:D,travelMode:z,setTravelMode:G}=k8t();d8t(a,t,n);const B=(vt,Ct)=>{if(!t)return;const Dt=e!==null&&!vt?{id:w3(),coordinates:[e.longitude,e.latitude],label:"My Location",userLocation:!0,graphic:tm([e.longitude,e.latitude])}:{id:w3(),coordinates:vt?.coords,label:vt?.label,graphic:tm(vt?.coords)},zt={id:w3(),coordinates:Ct?.coords,label:Ct?.label,graphic:tm(Ct?.coords)};d([Dt,zt]),t.goTo({target:Dt.graphic??zt.graphic,zoom:14})},H=()=>{if(ft||a.length>=cU)return;const vt=w3();return d(Ct=>[...Ct,{id:vt}]),vt},X=(vt,Ct,Dt)=>{d(zt=>zt.map(Wt=>{if(Wt.id===vt){const Xt=tm(Ct);return{...Wt,coordinates:Ct,label:Dt,graphic:Xt}}return Wt}))},et=vt=>{d(Ct=>{const Dt=Ct.find(zt=>zt.id===vt);return Dt?.graphic&&n&&t&&n.remove(Dt.graphic),Ct.filter(zt=>zt.id!==vt)})},rt=(vt,Ct)=>{const Dt=ft?a.find(zt=>!zt.coordinates||!zt.label||!zt.graphic).id:H();X(Dt,vt,Ct)},it=async(vt,Ct)=>{const Dt=vt.filter(zt=>zt.coordinates);if(Dt.length<2){k("At least two valid points are required");return}if(vt.every(zt=>vt[0].coordinates?.[0]===zt.coordinates?.[0]&&vt[0].coordinates?.[1]===zt.coordinates?.[1])){k("All stops are at the same location. Please select different points.");return}T(!0),k(null);try{const zt=Dt.map(re=>new Ii({geometry:new ue({longitude:re.coordinates[0],latitude:re.coordinates[1]})})),Wt=new be({apiKey:"AAPTxy8BH1VEsoebNVZXo8HurPgozF5Xdhrqp6yUG3_zWVgwn0_Cdd4lKkmPQEPr7z5jgEj3faJqst18DC5lqnv-kKCjLaboVQuJpOaRAtHDoHfZAsw52ToYH7KQICog9fn94LZ8loRiVF7RXZGksi6hLy8K4Y67JZWqPapOLOqy7NCKTCPzKSWBFtMlPOLjFBtyh3nQlXHhbHoBIwVdll9fAjMgjsEPTlpmS40p5l-Miwg.AT1_im204mJh",stops:new Gi({features:zt}),returnDirections:!0,directionsOutputType:"complete",returnRoutes:!0,returnStops:!0,travelMode:Ct,outSpatialReference:{wkid:4326}}),Xt=await H8t("https://route.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",Wt);if(Xt.routeResults.length>0){const re=Xt.routeResults[0];if(!re.route)throw new Error("No route found");const _t=re.route.attributes[`Total_${Ct?.timeAttributeName?Ct.timeAttributeName.split("-").map(It=>It.charAt(0).toUpperCase()+It.slice(1)).join(""):"TravelTime"}`];b({geometry:re.route.geometry,summary:{totalLength:re.route.attributes.Total_Miles,totalTime:_t,totalTimeFormatted:_t>60?`${Math.floor(_t/60)} hrs ${(_t%60).toFixed(0)} mins`:`${_t?.toFixed(0)} mins`,totalLengthFormatted:`${re.route.attributes.Total_Miles.toFixed(2)} mi`},directions:re.directions?.features.slice(1,-1)||[]})}}catch(zt){k(zt.details.messages.join(`
`)||"Routing failed"),b(null),yt()}finally{T(!1)}},ot=()=>{d([]),b(null),pt(),yt()},pt=()=>{n&&n.graphics.removeAll()},yt=()=>{i&&i.graphics.removeAll()},ft=K.useMemo(()=>a.some(vt=>!vt.coordinates||!vt.label||!vt.graphic),[a]);return K.useEffect(()=>{!ft&&a.length>0?it(a,D):(b(null),k(null),i&&i.removeAll())},[a,D,ft,i]),K.useEffect(()=>{y&&(Ct=>{if(!t||!i)return;i.removeAll();const Dt=P8t(Ct.geometry);i.add(Dt),t.goTo(Dt)})(y)},[t,i,y]),{stops:a,setStops:d,addStop:H,updateStop:X,removeStop:et,addStopFromMap:rt,hasUnfilledStops:ft,routeResult:y,createInitialRoute:B,resetRoute:ot,loading:S,error:C,travelMode:z,setTravelMode:G}},Q8t=({children:t})=>{const{view:e,routeLayer:i,stopsLayer:n}=Wo(),{position:a}=lT(),d=Z8t(e,a,i,n),y=K.useMemo(()=>d,[d]);return at.jsx(Bz.Provider,{value:y,children:t})},tTt=t=>t?new Ii({attributes:{id:"user-location"},geometry:{type:"point",longitude:t[0],latitude:t[1]},symbol:{type:"simple-marker",style:"circle",color:[0,122,255,.8],size:10,outline:{color:[255,255,255,1],width:2}}}):null,eTt=t=>{const[e,i]=K.useState(null),[n,a]=K.useState(null),[d,y]=K.useState(null);K.useEffect(()=>{if(!t)return;const S=t.graphics.find(T=>T.attributes.id==="user-location");S&&t.graphics.remove(S),d&&t.graphics.add(d)},[d,t]);const b=()=>{if(!navigator.geolocation){a("Geolocation is not supported.");return}const S=C=>{const k={latitude:C.coords.latitude,longitude:C.coords.longitude},D=tTt([k.longitude,k.latitude]);i(k),y(D)},T=C=>{a(C.message)};navigator.geolocation.getCurrentPosition(S,T)};return K.useEffect(()=>{b()},[]),{position:e,setPosition:i,error:n,requestLocation:b,userLocationGraphic:d}},iTt=({children:t})=>{const{view:e}=Wo(),{position:i,setPosition:n,requestLocation:a}=eTt(e),d=K.useMemo(()=>({position:i,setPosition:n,requestLocation:a}),[i,n,a]);return at.jsx(jL.Provider,{value:d,children:t})};function rTt(){return at.jsx(f8t,{children:at.jsx(iTt,{children:at.jsx(Q8t,{children:at.jsx(umt,{children:at.jsxs("div",{className:"h-[100dvh] w-screen relative",children:[at.jsx(jX,{}),at.jsxs(cmt,{children:[at.jsx(Xnt,{}),at.jsx(lmt,{})]}),at.jsx(amt,{})]})})})})})}LX.createRoot(document.getElementById("root")).render(at.jsx(K.StrictMode,{children:at.jsx(rTt,{})}));export{jg as $,gpt as A,Ho as B,LE as C,h$ as D,vr as E,Ii as F,oJ as G,fe as H,hs as I,hr as J,mu as K,Bc as L,Br as M,Mq as N,pb as O,qw as P,Cp as Q,wg as R,tSt as S,or as T,_a as U,me as V,mT as W,Mg as X,qo as Y,Zi as Z,te as _,POt as a,Ck as a$,hl as a0,Le as a1,Jt as a2,_j as a3,Di as a4,qi as a5,UOt as a6,zOt as a7,xH as a8,dr as a9,Bi as aA,k0 as aB,fl as aC,VEt as aD,ni as aE,wTt as aF,Ht as aG,GL as aH,Sq as aI,Nkt as aJ,U_t as aK,iD as aL,eD as aM,tD as aN,QI as aO,ev as aP,Zdt as aQ,Yc as aR,ul as aS,Gc as aT,ve as aU,Tq as aV,P0 as aW,Eq as aX,xq as aY,rj as aZ,HRt as a_,sl as aa,Py as ab,le as ac,Xf as ad,qH as ae,btt as af,gD as ag,Jw as ah,vPt as ai,EAt as aj,w0t as ak,CAt as al,OAt as am,SAt as an,pg as ao,DE as ap,Xn as aq,zg as ar,Ta as as,RAt as at,qb as au,U0t as av,oAt as aw,to as ax,Vn as ay,uu as az,T_t as b,m5 as b$,PCt as b0,ERt as b1,qp as b2,$r as b3,JOt as b4,VOt as b5,WOt as b6,al as b7,Fp as b8,sr as b9,zEt as bA,Pe as bB,ci as bC,jOt as bD,AEt as bE,Qit as bF,Dc as bG,Pi as bH,f$t as bI,uT as bJ,Ug as bK,nz as bL,Qg as bM,xe as bN,UAt as bO,FAt as bP,IAt as bQ,MOt as bR,vvt as bS,PAt as bT,Cn as bU,Re as bV,qAt as bW,GAt as bX,BAt as bY,MAt as bZ,AAt as b_,rr as ba,Ls as bb,iM as bc,Ea as bd,wPt as be,us as bf,u3 as bg,URt as bh,cW as bi,ls as bj,cf as bk,Spt as bl,St as bm,jp as bn,eEt as bo,rJ as bp,Nc as bq,$c as br,Ka as bs,af as bt,eo as bu,Kc as bv,As as bw,y1t as bx,Ne as by,Rn as bz,vf as c,DCt as c$,Se as c0,Zt as c1,H2t as c2,XEt as c3,QEt as c4,ZEt as c5,tMt as c6,eMt as c7,iMt as c8,Hi as c9,tRt as cA,eRt as cB,KMt as cC,iRt as cD,av as cE,QRt as cF,s8t as cG,If as cH,gAt as cI,fi as cJ,q0t as cK,fa as cL,ewt as cM,an as cN,Be as cO,ue as cP,IS as cQ,nr as cR,Zb as cS,lb as cT,PS as cU,LS as cV,C6 as cW,lv as cX,a7 as cY,BRt as cZ,mCt as c_,Hf as ca,ns as cb,I7 as cc,lAt as cd,qr as ce,wr as cf,Ybt as cg,NE as ch,cM as ci,O0t as cj,O$ as ck,TT as cl,LG as cm,wAt as cn,bAt as co,hAt as cp,yg as cq,dg as cr,X0t as cs,qS as ct,z$ as cu,v2t as cv,Ugt as cw,zgt as cx,se as cy,He as cz,ZNt as d,S4t as d$,YMt as d0,Qa as d1,ss as d2,Em as d3,uS as d4,dTt as d5,C_t as d6,FL as d7,Fo as d8,RTt as d9,eh as dA,pv as dB,bg as dC,K4t as dD,JAt as dE,Cz as dF,Kbt as dG,xAt as dH,JE as dI,Pf as dJ,S0t as dK,kAt as dL,oo as dM,NAt as dN,_0t as dO,sRt as dP,wz as dQ,Grt as dR,FT as dS,Do as dT,d5 as dU,WW as dV,D4t as dW,i1 as dX,n6t as dY,D8 as dZ,S1t as d_,tEt as da,qD as db,XPt as dc,WPt as dd,PPt as de,kr as df,NPt as dg,rIt as dh,Jrt as di,Pk as dj,Lg as dk,fW as dl,gu as dm,kCt as dn,jRt as dp,Wa as dq,YAt as dr,JL as ds,h5 as dt,f5 as du,Xrt as dv,GT as dw,qT as dx,Krt as dy,Ma as dz,tkt as e,hS as e$,UW as e0,VW as e1,T4t as e2,GW as e3,HW as e4,ZMt as e5,htt as e6,LEt as e7,cTt as e8,nrt as e9,gT as eA,e5 as eB,T1t as eC,qmt as eD,ngt as eE,wvt as eF,BOt as eG,pp as eH,$At as eI,sv as eJ,A1t as eK,R1t as eL,C1t as eM,HG as eN,Gmt as eO,J4t as eP,Wgt as eQ,Jgt as eR,cr as eS,Gr as eT,Ts as eU,Gp as eV,Wc as eW,C4t as eX,O4t as eY,Q4t as eZ,Wvt as e_,Nf as ea,DT as eb,Qpt as ec,zW as ed,oH as ee,rh as ef,B4t as eg,Imt as eh,x4t as ei,qW as ej,Z4t as ek,QAt as el,bw as em,i5 as en,r5 as eo,wj as ep,oyt as eq,HJ as er,VJ as es,IPt as et,HPt as eu,sMt as ev,bOt as ew,Gvt as ex,dv as ey,ZTt as ez,ui as f,e9t as f$,pT as f0,yp as f1,Ps as f2,ql as f3,uet as f4,Mz as f5,TH as f6,zAt as f7,RRt as f8,E2t as f9,eAt as fA,tv as fB,gn as fC,rAt as fD,mf as fE,aTt as fF,lTt as fG,WEt as fH,JEt as fI,uOt as fJ,MEt as fK,DEt as fL,KPt as fM,Tg as fN,br as fO,tW as fP,$s as fQ,yRt as fR,Tp as fS,UH as fT,AM as fU,W4t as fV,set as fW,oet as fX,mtt as fY,Vf as fZ,c$ as f_,Ppt as fa,zRt as fb,nh as fc,Zc as fd,Va as fe,xk as ff,Nn as fg,ig as fh,on as fi,Po as fj,Svt as fk,PE as fl,oTt as fm,xCt as fn,jCt as fo,Fc as fp,JO as fq,LOt as fr,og as fs,Wz as ft,wf as fu,LTt as fv,pu as fw,DTt as fx,iAt as fy,tAt as fz,qe as g,STt as g$,KAt as g0,Dkt as g1,mRt as g2,Tkt as g3,Cr as g4,R3 as g5,W7 as g6,d0 as g7,p5 as g8,GRt as g9,Lp as gA,Up as gB,NTt as gC,_n as gD,QE as gE,j9t as gF,oRt as gG,T9t as gH,G4t as gI,fMt as gJ,L$ as gK,Az as gL,Rz as gM,_r as gN,rRt as gO,Rmt as gP,sH as gQ,P4t as gR,aH as gS,rMt as gT,Vrt as gU,r2t as gV,xt as gW,kmt as gX,i2t as gY,V5 as gZ,M3 as g_,Jf as ga,$Ct as gb,bCt as gc,CRt as gd,OEt as ge,ZCt as gf,Lm as gg,lu as gh,Es as gi,Ja as gj,rOt as gk,IOt as gl,Fr as gm,XCt as gn,ao as go,_Ot as gp,M1t as gq,GOt as gr,Cet as gs,qet as gt,lOt as gu,Jc as gv,z5 as gw,fTt as gx,aM as gy,x_ as gz,_rt as h,oNt as h$,q4t as h0,k4t as h1,uL as h2,K5t as h3,q2t as h4,B2t as h5,U2t as h6,Xk as h7,g3t as h8,uTt as h9,O1t as hA,sq as hB,oCt as hC,Cw as hD,eCt as hE,kTt as hF,fp as hG,$T as hH,mrt as hI,W_t as hJ,Ww as hK,Vw as hL,tPt as hM,Lo as hN,sD as hO,Hw as hP,rD as hQ,B8 as hR,sJ as hS,H8 as hT,sPt as hU,Np as hV,rPt as hW,Sf as hX,nPt as hY,gb as hZ,ZI as h_,Ms as ha,jEt as hb,yz as hc,UEt as hd,FEt as he,Uo as hf,mp as hg,u5 as hh,C2t as hi,PEt as hj,Sj as hk,ov as hl,aAt as hm,JH as hn,YT as ho,CTt as hp,qRt as hq,M0 as hr,urt as hs,ol as ht,fnt as hu,int as hv,Lz as hw,QPt as hx,fCt as hy,hCt as hz,ae as i,QCt as i$,MW as i0,NM as i1,R8 as i2,$p as i3,O9t as i4,AW as i5,SD as i6,KI as i7,BTt as i8,Ait as i9,OPt as iA,bm as iB,BPt as iC,nIt as iD,qJ as iE,ij as iF,E1t as iG,x1t as iH,A4t as iI,r6t as iJ,s6t as iK,D9t as iL,LH as iM,Wrt as iN,tnt as iO,Rw as iP,R4t as iQ,FW as iR,Ib as iS,j4t as iT,mn as iU,tIt as iV,Fet as iW,Yj as iX,_T as iY,e0 as iZ,ou as i_,Nit as ia,Iit as ib,ga as ic,get as id,Go as ie,dmt as ig,MRt as ih,vn as ii,M9t as ij,R9t as ik,EW as il,sTt as im,Ym as io,G8 as ip,bW as iq,rM as ir,Z as is,Jxt as it,Yxt as iu,GPt as iv,e7t as iw,qPt as ix,r7t as iy,wxt as iz,zV as j,nq as j$,tOt as j0,eOt as j1,be as j2,H8t as j3,_Y as j4,Rtt as j5,no as j6,FH as j7,BEt as j8,_V as j9,pB as jA,Oq as jB,$9t as jC,u$ as jD,hkt as jE,mEt as jF,ZT as jG,Unt as jH,hT as jI,MTt as jJ,fT as jK,ATt as jL,tpt as jM,KE as jN,vCt as jO,yCt as jP,cet as jQ,iEt as jR,Q9t as jS,t4t as jT,BW as jU,O5t as jV,aEt as jW,t0 as jX,kOt as jY,dMt as jZ,bRt as j_,wEt as ja,TTt as jb,ETt as jc,xTt as jd,ert as je,Wf as jf,qL as jg,Ba as jh,jTt as ji,Yk as jj,$Ot as jk,Ipt as jl,Dpt as jm,_H as jn,vgt as jo,bgt as jp,YI as jq,gkt as jr,mkt as js,ykt as jt,pkt as ju,bkt as jv,vkt as jw,dkt as jx,fkt as jy,Oc as jz,Sn as k,Lkt as k$,j$t as k0,WL as k1,Lnt as k2,qnt as k3,Gg as k4,yMt as k5,$P as k6,Ttt as k7,SOt as k8,IRt as k9,dtt as kA,wq as kB,Mpt as kC,SRt as kD,zq as kE,PM as kF,BH as kG,t9 as kH,n$t as kI,r$t as kJ,QV as kK,XV as kL,a5t as kM,u5t as kN,Oh as kO,VL as kP,gTt as kQ,nD as kR,oPt as kS,dD as kT,aPt as kU,JI as kV,dEt as kW,aW as kX,xW as kY,Op as kZ,Xa as k_,bT as ka,uEt as kb,lEt as kc,qOt as kd,Tet as ke,xet as kf,$Rt as kg,mTt as kh,fr as ki,HEt as kj,u9 as kk,WM as kl,ks as km,c9 as kn,sIt as ko,nl as kp,bPt as kq,WSt as kr,ext as ks,wtt as kt,REt as ku,Jj as kv,l5 as kw,IEt as kx,fg as ky,bk as kz,cs as l,gRt as l$,TM as l0,M8 as l1,JV as l2,mv as l3,Lht as l4,nOt as l5,lm as l6,_0 as l7,TAt as l8,gvt as l9,EIt as lA,IIt as lB,TIt as lC,Vo as lD,zr as lE,I8t as lF,SIt as lG,eIt as lH,upt as lI,Dmt as lJ,Amt as lK,Cmt as lL,Fy as lM,nu as lN,Ec as lO,nn as lP,X1t as lQ,o4t as lR,CW as lS,vD as lT,lkt as lU,H_t as lV,G0 as lW,gv as lX,p5t as lY,O2t as lZ,vRt as l_,aOt as la,sOt as lb,iOt as lc,Bvt as ld,qm as le,uAt as lf,$q as lg,GEt as lh,UL as li,Vgt as lj,QMt as lk,K9t as ll,xkt as lm,z_t as ln,jc as lo,fSt as lp,pSt as lq,ySt as lr,RIt as ls,AIt as lt,NIt as lu,kIt as lv,xIt as lw,MIt as lx,_It as ly,PIt as lz,s1 as m,evt as m$,Apt as m0,uv as m1,cv as m2,hv as m3,Nmt as m4,Omt as m5,$mt as m6,HL as m7,rg as m8,EEt as m9,DM as mA,qEt as mB,Rp as mC,Hgt as mD,Ud as mE,ytt as mF,oD as mG,Sc as mH,DSt as mI,Qkt as mJ,XI as mK,V_t as mL,hD as mM,cD as mN,N9t as mO,C9t as mP,nRt as mQ,GE as mR,qE as mS,Gw as mT,lq as mU,Akt as mV,Ekt as mW,Mkt as mX,Sy as mY,WAt as mZ,os as m_,Oz as ma,A$ as mb,cz as mc,LSt as md,aRt as me,A9t as mf,XAt as mg,lz as mh,gp as mi,Fg as mj,CEt as mk,G7 as ml,pCt as mm,dCt as mn,PT as mo,Hmt as mp,Bmt as mq,I4t as mr,Fmt as ms,P1t as mt,RV as mu,B$t as mv,F$t as mw,$5t as mx,ST as my,bEt as mz,E as n,dSt as n$,Nq as n0,sAt as n1,oOt as n2,jE as n3,QTt as n4,_c as n5,bTt as n6,vW as n7,Y7t as n8,Bo as n9,X4t as nA,g5t as nB,Qb as nC,nMt as nD,nAt as nE,Vkt as nF,zz as nG,R5t as nH,v5t as nI,b5t as nJ,_Rt as nK,D2t as nL,NOt as nM,oMt as nN,DOt as nO,PTt as nP,P5t as nQ,oW as nR,xD as nS,dJ as nT,Bkt as nU,Gkt as nV,qkt as nW,Hkt as nX,Ckt as nY,$kt as nZ,Okt as n_,r9 as na,gW as nb,wW as nc,a9t as nd,aNt as ne,m9t as nf,lNt as ng,Smt as nh,dOt as ni,$n as nj,yn as nk,NRt as nl,zCt as nm,FCt as nn,LCt as no,vet as np,zTt as nq,ih as nr,yM as ns,y5t as nt,N5t as nu,z$t as nv,nS as nw,pOt as nx,Ow as ny,C5t as nz,AOt as o,zkt as o$,hnt as o0,rl as o1,H5t as o2,EM as o3,Tpt as o4,wRt as o5,xg as o6,aI as o7,n5t as o8,s5t as o9,uMt as oA,NEt as oB,drt as oC,ww as oD,skt as oE,_At as oF,fAt as oG,yAt as oH,dAt as oI,mAt as oJ,pAt as oK,vAt as oL,XMt as oM,mPt as oN,XO as oO,cAt as oP,cMt as oQ,Vet as oR,zL as oS,Ikt as oT,jkt as oU,Pkt as oV,Q_t as oW,kkt as oX,wD as oY,ukt as oZ,ckt as o_,pRt as oa,Jkt as ob,Wkt as oc,okt as od,akt as oe,sW as of,vv as og,US as oh,ROt as oi,aMt as oj,U$t as ok,KEt as ol,YEt as om,cnt as on,ZSt as oo,UV as op,bet as oq,QSt as or,JSt as os,tCt as ot,qc as ou,Jbt as ov,QG as ow,opt as ox,f$ as oy,lMt as oz,Bg as p,cSt as p$,Ukt as p0,Ykt as p1,Kkt as p2,wkt as p3,Xkt as p4,Zkt as p5,j_t as p6,B_t as p7,Rkt as p8,EJ as p9,mg as pA,vg as pB,k0t as pC,OTt as pD,fpt as pE,dpt as pF,BE as pG,Z7t as pH,LRt as pI,V$t as pJ,Xmt as pK,ZV as pL,Iq as pM,Mj as pN,Kmt as pO,o2t as pP,x5t as pQ,a$t as pR,P_t as pS,DRt as pT,r3t as pU,WI as pV,gPt as pW,pPt as pX,yPt as pY,dPt as pZ,fPt as p_,dp as pa,Fkt as pb,R_t as pc,kEt as pd,k9t as pe,wIt as pf,bIt as pg,L8t as ph,bpt as pi,FRt as pj,Cpt as pk,jpt as pl,xRt as pm,_pt as pn,VS as po,TRt as pp,BCt as pq,x9t as pr,ARt as ps,kRt as pt,Oo as pu,$0t as pv,APt as pw,RPt as px,rpt as py,MPt as pz,$Et as q,$1t as q$,fJ as q0,Skt as q1,_kt as q2,aSt as q3,nkt as q4,Trt as q5,vtt as q6,i6t as q7,ePt as q8,iPt as q9,$Tt as qA,WCt as qB,VCt as qC,_Tt as qD,wCt as qE,ORt as qF,NCt as qG,jbt as qH,s4t as qI,PW as qJ,fEt as qK,aP as qL,tNt as qM,ECt as qN,Tmt as qO,gCt as qP,g0 as qQ,N1t as qR,aCt as qS,yTt as qT,ptt as qU,pTt as qV,_Ct as qW,lPt as qX,M5t as qY,ZAt as qZ,h5t as q_,CCt as qa,OCt as qb,L9t as qc,agt as qd,ogt as qe,Pq as qf,Uht as qg,aJ as qh,pMt as qi,g5 as qj,iIt as qk,Qc as ql,JPt as qm,ZPt as qn,Ze as qo,YPt as qp,Wmt as qq,sgt as qr,iCt as qs,vOt as qt,Gwt as qu,Q$t as qv,ICt as qw,SCt as qx,MCt as qy,TCt as qz,ej as r,rEt as r0,$G as r1,AH as r2,sCt as r3,ACt as r4,nCt as r5,qP as r6,rCt as r7,PRt as r8,GP as r9,dM as ra,sj as rb,ITt as rc,RCt as rd,jmt as re,Pmt as rf,BP as rg,Vmt as rh,hOt as ri,YOt as rj,XOt as rk,_Pt as rl,Lt as s,kg as t,N as u,ut as v,Ce as w,Qn as x,Gi as y,_vt as z};
